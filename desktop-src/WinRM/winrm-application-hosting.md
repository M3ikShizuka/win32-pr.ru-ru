---
title: Инфраструктура для управления размещенными службами
description: В служба удаленного управления Windows 2,0 (WinRM) введена платформа размещения. Для использования платформы записываются подключаемые модули WinRM, которые предоставляют данные управления приложением в инфраструктуре WinRM.
ms.assetid: 924dcc70-9a29-45a6-99a2-5681235e4574
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c8439aca1f36d2d0c2cebb6ed3111aeaa2e4fcee
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "104332371"
---
# <a name="infrastructure-for-managing-hosted-services"></a>Инфраструктура для управления размещенными службами

В служба удаленного управления Windows 2,0 (WinRM) введена платформа размещения. Для использования платформы записываются подключаемые модули WinRM, которые предоставляют данные управления приложением в инфраструктуре WinRM. Поддерживаются две модели размещения. Одна из них — службы IIS (IIS), а другая — на основе службы. Модель на основе WinRM использует HTTP.sys и не зависит от служб IIS.

В следующих разделах описываются модели размещения.

-   [Модель размещения расширений IIS WinRM](#winrm-iis-extension-hosting-model)
    -   [Балансировка нагрузки в модели размещения расширений WinRM IIS](#load-balancing-in-the-winrm-iis-extension-hosting-model)
    -   [Перенаправление HTTP в модели размещения расширений WinRM IIS](#http-redirection-in-the-winrm-iis-extension-hosting-model)
-   [Модель размещения службы WinRM](#winrm-service-hosting-model)

## <a name="winrm-iis-extension-hosting-model"></a>Модель размещения расширений IIS WinRM

Модуль WinRM IIS Extension — это дополнительный компонент, который устанавливается с помощью **Диспетчер сервера**. Модуль расширения IIS для WinRM используется для создания конечных точек Винрмâ € в службе IIS. Этот модуль можно включить на уровне веб-сайта или виртуального каталога. Этот компонент работает, перехватывая и перенаправляя входящие запросы к связанному веб-сайту или виртуальному каталогу. Запросы перенаправляются в модуль WinRM, который анализирует содержимое, а затем определяет, какой подключаемый модуль WinRM настроен для обработки каждого запроса. Дополнительные сведения см. [в разделе Конфигурация подключаемого модуля узла IIS](iis-host-plug-in-configuration.md).

Модель размещения расширений службы WinRM IIS разработана для обработки большого объема запросов. Если модель на основе IIS используется в качестве платформы размещения, доступны следующие функции.

-   Стандартные модули проверки подлинности IIS.
-   Процесс пула приложений IIS для размещения всех подключаемых модулей.
-   Управление квотами для регулирования интенсивных пользователей системы. Дополнительные сведения см. в разделе [Управление квотами для удаленных оболочек](quotas.md).
-   Модель подключаемого модуля оболочки. См. раздел [API оболочки клиента WinRM](client-shell-api.md).
-   Гибкая модель авторизации. См. раздел [API подключаемого модуля WinRM](winrm-plugin-api.md).

### <a name="load-balancing-in-the-winrm-iis-extension-hosting-model"></a>Балансировка нагрузки в модели размещения расширений WinRM IIS

Большинство подсистем балансировки нагрузки (фунтов) поддерживают модель прикрепления на основе файлов cookie. Балансировка нагрузки вставляет файл cookie в ответ на первый запрос от клиента. Для всех последующих запросов файл cookie передается в запросе, а балансировка нагрузки использует файл cookie для маршрутизации запроса на соответствующий сервер.

В средах, где служба WinRM 2,0 размещается за пределами, необходимо настроить для балансировки нагрузки MS-WSMAN префикс имени файла cookie. Кроме того, балансировка нагрузки должна быть настроена таким образом, чтобы время существования файла cookie было бесконечным, поскольку клиент WinRM должен управлять сроком действия файла cookie.

Ниже приведен пример имени файла cookie:

``` syntax
MS-WSMAN=2046820362.20480.0000; path=/
```

### <a name="http-redirection-in-the-winrm-iis-extension-hosting-model"></a>Перенаправление HTTP в модели размещения расширений WinRM IIS

WinRM 2,0 может поддерживать перенаправление HTTP. Рекомендуется, чтобы все перенаправления использовали SSL (SSL) и все приложения проверяли перенаправленный универсальный код ресурса (URI) перед созданием нового сеанса.

## <a name="winrm-service-hosting-model"></a>Модель размещения службы WinRM

Модель на основе службы WinRM выполняется поверх HTTP.sys. Служба WinRM — это служба, подключенная к сети, которая обрабатывает запросы от клиентов WinRM. Служба определяет, направляется ли запрос к подключаемому модулю, запущенному в основной службе или направляется через узел, на котором выполняется подключаемый модуль стороннего поставщика. Эта модель предназначена для сценариев, в которых нагрузка на управляемый узел мала. Более того, эта модель предназначена для сценариев, в которых размещение IIS не является допустимым вариантом. Дополнительные сведения см. [в разделе Конфигурация подключаемого модуля службы WinRM](wsman-service-plug-in-configuration.md).

 

 




