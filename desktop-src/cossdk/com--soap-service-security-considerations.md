---
description: Вопросы безопасности службы COM+ SOAP
ms.assetid: c4f7744c-ff57-4d9d-8632-7e5bbb73449a
title: Вопросы безопасности службы COM+ SOAP
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a238860e154e9928672a64ef44f9db37e9c8ad2c
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103896402"
---
# <a name="com-soap-service-security-considerations"></a>Вопросы безопасности службы COM+ SOAP

Служба COM+ SOAP зависит от веб-сервера IIS для обеспечения безопасности. Даже в [режиме активируемых клиентом объектов](accessing-xml-web-services-in-cao-mode.md)com+ RPC не передает удостоверение клиента и поэтому не может использовать безопасность на основе ролей или другие функции безопасности, предоставляемые DCOM. Если вы хотите защитить конфиденциальность данных, передаваемых в веб-службу XML и из нее, или для защиты веб-службы XML от несанкционированного доступа, можно настроить службы IIS для ограничения доступа к веб-службе XML на основе IP-адреса клиентов или потребовать, чтобы клиент выдавал цифровой сертификат для проверки его подлинности. Если вы не ограничиваете доступ, любой клиент, который может обмениваться данными с веб-сервером, может получить доступ к веб-службе XML.

Службы IIS можно настроить для шифрования связи веб-службы XML с клиентами с помощью протоколов SSL или TLS шифрования с открытым ключом. Если шифрование SOAP-сообщений не выполняется, то обмен данными между клиентом и сервером может осуществляться третьим лицом, у которого есть доступ к любой сети, через которую проходит обмен данными по протоколу SOAP. в зависимости от топологии сети это может быть небольшая локальная сеть или Интернет.

По умолчанию незашифрованные SOAP-соединения получаются через HTTP порт (80), а зашифрованные сообщения SOAP принимаются по HTTPS-порту (443). Для успешного доступа клиента к веб-службе XML все брандмауэры между клиентом и сервером должны быть настроены таким образом, чтобы пакеты TCP SYN достигли соответствующего порта сервера. И наоборот, чтобы ограничить доступ к веб-службам XML, администратор брандмауэра может закрыть эти порты.

Параметры безопасности по умолчанию для COM-компонента, предоставляемого в виде XML, различаются в зависимости от установленной версии платформы Microsoft .NET Framework. Если установлена версия 1,0, веб-службы XML по умолчанию являются небезопасными. все вызовы принимаются и шифрование не используется. Если установлена версия 1,1 или более поздняя, веб-службы XML защищены по умолчанию. вызывающие объекты должны пройти проверку подлинности и обязательное шифрование.

Защищенная веб-служба XML не поддерживает ВКО доступ через WSDL. Вместо этого клиенты, которые установили платформа .NET Framework версии 1,1, могут вызывать ее в режиме Као. Если сторонним клиентам требуется доступ к веб-службе XML через WSDL, необходимо разрешить анонимный доступ.

Компонент COM, предоставляемый как веб-служба XML, по умолчанию выполняется с разрешениями анонимного пользователя (а не с разрешениями его вызывающего). Можно настроить IIS для запуска веб-службы XML от имени другого пользователя. Это иногда может потребоваться, поскольку компонент использует файлы или другие ресурсы, к которым анонимный пользователь не имеет доступа. Тем не менее, следует всегда пытаться запустить компонент с минимально возможным количеством привилегий, чтобы ограничить ущерб, который может вызвать вредоносный вызывающий объект.

> [!Note]  
> Так как метод, предоставляемый через веб-службу XML, потенциально может быть предоставлен вредоносным вызывающим объектам, всегда следует обязательно проверять все входные параметры, от которых он зависит.

 

Подробные инструкции по настройке параметров безопасности веб-службы XML см. в разделе [Защита веб-служб XML](securing-xml-web-services.md).

**Преобразование защищенного приложения SOAP в незащищенное приложение SOAP**

1.  Откройте средство администрирования службы IIS (IIS).
2.  Выберите виртуальный каталог для приложения и откройте диалоговое окно **Свойства** .
3.  Установите флажок **включить страницу содержимого по умолчанию** на вкладке **документы** .
4.  На вкладке **Безопасность каталога** щелкните **изменить** в разделе **анонимный доступ и управление проверкой подлинности**.
5.  Установите флажок **анонимный доступ** , чтобы включить анонимный доступ, и нажмите кнопку **ОК**.
6.  Щелкните **изменить** в разделе **безопасные подключения**.
7.  Снимите флажок **обязательное использование безопасного канала (SSL)** .

## <a name="related-topics"></a>См. также

<dl> <dt>

[Общие сведения о службе COM+ SOAP](com--soap-service-overview.md)
</dt> </dl>

 

 



