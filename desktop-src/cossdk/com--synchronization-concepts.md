---
description: Как правило, синхронизация не требуется, если имеется однопотоковое подразделение (STA), так как подразделение обеспечивает синхронизацию.
ms.assetid: a05de040-0115-44aa-80e2-55eff2ec894d
title: Основные понятия синхронизации COM+
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7eaca81050e67c76e3de6ad4845543b9230d2a24
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103807810"
---
# <a name="com-synchronization-concepts"></a>Основные понятия синхронизации COM+

Как правило, синхронизация не требуется, если имеется однопотоковое подразделение (STA), так как подразделение обеспечивает синхронизацию. Синхронизация важна при наличии многопоточного апартамента (MTA) и объекта с произвольным потоком. В прошлом объекты, работающие в свободной потоке, вынуждены обрабатывали блокировку. Можно исключить необходимость использования блокировки, задав атрибут синхронизации для компонента.

Синхронизация имеет следующие свойства:

-   Позволяет одному вызывающему объекту вводить компонент за раз.
-   Запрещает поток в процессе или на компьютере.
-   Перетекает из компонента в компонент внутри процесса.
-   Разрешает повторное вход из того же вызывающего.

В отличие от подразделения, действия охватывают контексты от нескольких процессов и узлов. Синхронизация определяет, какое действие будет содержать объект. Объекты могут находиться в любом из следующих действий:

-   Действие создателя
-   Новое действие
-   Нет действий

COM+ обеспечивает параллелизм с помощью ряда блокировок для каждого действия. Если вызывающий объект пытается ввести синхронизированный компонент COM+, который уже используется другим вызывающим объектом, вызов блокируется до тех пор, пока блокировка не будет снята. Это поведение блокировки не будет истекает и его нельзя настроить для истечения времени ожидания. Если блокировка не используется, блокировка запрашивается и обрабатывается вызов. После завершения этого процесса блокировка освобождается для следующего вызывающего объекта. Чтобы предотвратить взаимоблокировку, COM+ управляет доступом ко всем объектам в действиях во вложенном ряде вызовов, связанных по сети.

COM+ предоставляет следующие параметры синхронизации:

-   Выключено
-   Не поддерживается
-   Поддерживается
-   Обязательно
-   RequiresNew

> [!Note]  
> Некоторые параметры синхронизации работают совместно с другими параметрами компонента COM+. Например, если включена служба [JIT-активации COM+](com--just-in-time-activation.md) , требуется синхронизация. При включении транзакций JIT-компилятор является обязательным. Таким образом, для [обработки транзакций](com--transactions.md) com+ также требуется синхронизация. Таким образом, классы с параметром JIT = true также должны иметь параметр синхронизации = Required или Synchronization = RequiresNew.

 

Инструкции по настройке параметров синхронизации с помощью средства администрирования "службы компонентов" см. в разделе [Установка атрибута синхронизации](setting-the-synchronization-attribute.md).

Дополнительные сведения об использовании библиотеки администрирования COM+ для настройки параметров синхронизации см. в разделе [Автоматизация администрирования com+](automating-com--administration.md).

## <a name="related-topics"></a>См. также

<dl> <dt>

[Задачи синхронизации COM+](com--synchronization-tasks.md)
</dt> </dl>

 

 



