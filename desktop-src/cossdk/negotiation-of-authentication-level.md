---
description: Согласование уровня проверки подлинности
ms.assetid: 31353d02-bfe2-48ac-81a1-0e38895a8a75
title: Согласование уровня проверки подлинности
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 525a7830b15451d6af54c2422128ba12dcfb56db10a8c2509298ea0ef9821e00
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "120070444"
---
# <a name="negotiation-of-authentication-level"></a>Согласование уровня проверки подлинности

Как клиент, так и сервер должны участвовать в проверке подлинности, и каждая Сторона указывает, что требуется выполнить определенный уровень проверки подлинности. В начале вызова уровень проверки подлинности согласовывается между двумя сторонами, выбирается соответствующая служба, после чего вызывается проверка подлинности и продолжается (с возможным шифрованием в зависимости от выбранного уровня проверки подлинности). Уровень проверки подлинности, согласованный между клиентом и сервером, определяется как максимальный (*предпочтения клиента*, *предпочтения сервера*). Это означает, что сервер всегда может надиктовать минимальный уровень проверки подлинности, с которым он работает. то есть проверка подлинности может быть административно зависеть от сервера.

Клиент указывает, что требуется выполнять проверку подлинности на определенном уровне, как и в любом приложении COM. Уровень проверки подлинности клиента может быть указан следующим образом:

-   На клиентский компьютер с уровнем проверки подлинности COM на уровне компьютера, установленным с помощью команды [DCOMCNFG](/windows/desktop/com/setting-machine-wide-security-using-dcomcnfg) или средства администрирования служб компонентов.
-   Для каждого клиентского приложения в административном состоянии с помощью [DCOMCNFG](/windows/desktop/com/setting-processwide-security-using-dcomcnfg) или средства администрирования служб компонентов, если клиент должен быть приложением COM+.
-   На клиентский процесс программным путем с помощью [**CoInitializeSecurity**](/windows/desktop/api/combaseapi/nf-combaseapi-coinitializesecurity).
-   В любой точке программным способом используется метод [**CoSetProxyBlanket**](/windows/desktop/api/combaseapi/nf-combaseapi-cosetproxyblanket).

Серверное приложение COM+ задает уровень проверки подлинности в административном виде с помощью средства администрирования "службы компонентов" (или с помощью административного сценария).

Согласование проверки подлинности для вызова продолжается в следующей последовательности:

1.  Уровень проверки подлинности выбирается как MAX (*клиент*, *сервер*).
2.  Согласование протокола проверки подлинности.
3.  Сервер проверяет подлинность удостоверения клиента.
4.  При необходимости клиент проверяет подлинность удостоверения сервера в зависимости от протокола проверки подлинности.
5.  Вызовы методов взаимодействуют с выбранным уровнем проверки подлинности.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Аутентификация клиента](client-authentication.md)
</dt> </dl>

 

 
