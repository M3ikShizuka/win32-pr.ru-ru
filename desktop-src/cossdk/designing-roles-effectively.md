---
description: Во многих сценариях безопасность на основе ролей является очень эффективным механизмом, но бывают ситуации, когда она менее эффективна.
ms.assetid: 6a1e6cf3-7a8c-4249-926d-675a54061adf
title: Эффективное проектирование ролей
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 134b1caa68c06aef14a21963bb01ee4dfd12f43153ea917487598d76b0e36d5a
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119991124"
---
# <a name="designing-roles-effectively"></a>Эффективное проектирование ролей

Во многих сценариях безопасность на основе ролей является очень эффективным механизмом, но бывают ситуации, когда она менее эффективна. При принятии решения о том, где и как применять безопасность на основе ролей к конкретному приложению, следует учитывать ряд факторов.

## <a name="user-and-data-characteristics-and-the-suitability-of-roles"></a>Характеристики пользователя и данных, а также пригодность ролей

Роли хорошо работают с особыми группами пользователей, и на этом уровне отфильтруются действия, которые могут выполнять эти пользователи. часто это выполняется на практике путем создания ролей, отражающих место пользователя в организации (например, "руководители" и "аудиторы", "администраторы" и "читатели", "Project одним сотрудником" и "Project двух сотрудников". В таких случаях, когда доступ к данным является достаточно универсальным относительно пользователей, роли можно эффективно использовать для применения бизнес-правил, таких как следующие:

-   "Руководители могут передавать любую сумму денег. Получатель может передавать до $10 000. "

-   "Администраторы могут изменять что угодно. Все остальные могут только читать ".

-   «Project один сотрудник может получить доступ к определенной базе данных. Никто другой не может».

Пользователи могут естественным образом попадать в несколько ролей в зависимости от того, как роли моделируют организационную структуру бизнеса.

Однако роли плохо работают, когда решение о доступе к системе безопасности замещается на характеристиках определенного фрагмента данных. Например, можно было бы использовать роли для отражения сложных связей пользователей и данных, таких как следующие:

-   «Конкретный менеджер может обращаться к данным о персонале только для своих отчетов».

-   "Пользователь Джо может найти свой баланс учетной записи".

В таких случаях проверка безопасности часто должна выполняться в самой базе данных, где проще учитывать характеристики присущей данных, к которым осуществляется доступ. Это означает, что необходимо использовать *олицетворение* для передачи удостоверения клиента вместе с базой данных и позволить базе данных проверить запрос. Это может повлиять на производительность и может повлиять на архитектуру приложения, например, при открытии подключения с определенным удостоверением пользователя может не работать пул соединений. Сведения о связанных проблемах см. в статье [Безопасность многоуровневого приложения](multi-tier-application-security.md) и [олицетворение и делегирование клиента](client-impersonation-and-delegation.md).

## <a name="complexity-and-scalability-of-a-role-based-authorization-policy"></a>Сложность и масштабируемость политики авторизации Role-Based

Любая политика безопасности, которую вы перемещаете, будет действовать только при ее реализации системными администраторами, развернув приложение. Если администраторы делают ошибки при назначении пользователям правильных ролей в соответствии с политикой безопасности, политика не будет работать должным образом. Вероятнее всего, проблемы возникают в следующих случаях.

-   Вы сделали очень замысловатую политику на основе ролей с множеством ролей и пользователей, сопоставленных с множеством ролей.
-   Вы создаете роли с неоднозначными критериями, которые должны принадлежать к ним.
-   На сайте, на котором установлено приложение, много пользователей, и пользователи часто перемещаются в пределах организации, изменяя их по отношению к созданным вами ролям.
-   Существует множество администраторов на сайте, где установлено приложение, с разделением обязанностей, чтобы администратор, знакомый с требованиями безопасности вашего приложения, не знаком с большими группами пользователей, которые должны его использовать. Это конкретная проблема по мере перемещения пользователей в пределах организации — такая информация должна быть хорошо передана.

Кроме того, по мере увеличения количества ролей, назначенных приложению, это занимает время, затрачиваемое COM+ на поиск членства вызывающего участника в этих ролях, что может снизить производительность.

Для управления сложностью и устранения этих проблем можно использовать следующие рекомендации.

-   Выберите имена ролей, которые являются самоописательными. Сделайте его очевидным, насколько возможно, пользователи должны принадлежать ролям.
-   Сделайте политику на основе ролей как можно более простой (и не упростите ее). Выбирайте как можно меньше ролей, сохраняя действующую политику.
-   Явно Задокументируйте политику на основе ролей, созданную для администраторов, независимо от того, является ли членство в роли очевидным (для вас). В частности, используйте поле Описание, доступное для каждой роли, чтобы описать назначение роли. Если не удается описать как обычно, кто должен принадлежать к роли в нескольких предложениях, вероятно, это слишком сложно.
-   Настоятельно рекомендуем администраторам приложения заполнять роли группами пользователей, а не отдельными пользователями. Это гораздо более масштабируемое решение. Это упрощает перераспределение или удаление пользователей при перемещении в пределах организации и изолирует администраторов от определенных объемов информации и проблем связи.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Границы безопасности](security-boundaries.md)
</dt> <dt>

[Сведения о контексте вызова безопасности](security-call-context-information.md)
</dt> <dt>

[Свойство контекста безопасности](security-context-property.md)
</dt> <dt>

[Использование ролей для авторизации клиентов](using-roles-for-client-authorization.md)
</dt> </dl>

 

 



