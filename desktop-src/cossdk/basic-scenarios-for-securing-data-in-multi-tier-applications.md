---
description: В этом разделе представлено несколько сценариев создания блоков, демонстрирующих критерии, которые обсуждаются в разделе Выбор места для обеспечения безопасности.
ms.assetid: e9820e53-8891-4bff-a333-00ad2dbb03a4
title: Основные сценарии защиты данных в многоуровневых приложениях
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7929bcfeba96b43b7ec91513b42ffb7f46266613
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105701241"
---
# <a name="basic-scenarios-for-securing-data-in-multi-tier-applications"></a>Основные сценарии защиты данных в многоуровневых приложениях

В этом разделе представлено несколько сценариев создания блоков, демонстрирующих критерии, которые обсуждаются в разделе [Выбор места для обеспечения безопасности](deciding-where-to-enforce-security.md).

## <a name="trusted-server-scenario"></a>Сценарий доверенного сервера

-   База данных полностью доверяет приложению COM+ для проверки подлинности и авторизации конечных пользователей для доступа к данным в базе данных.
-   Желательно, чтобы база данных была защищена от любого доступа, за исключением приложения.
-   Приложение COM+ использует безопасность на основе ролей для авторизации пользователей.
-   Подключения открываются под удостоверением приложения COM+ и являются полностью пулами.
-   Аудит и ведение журнала могут выполняться приложением COM+, или эти сведения могут быть переданы приложением в базу данных.

Этот сценарий лучше подходит для данных, доступ к которым можно получить с помощью прогнозируемых категорий пользователей, которые могут быть инкапсулированы в роли. Например, только "руководители", "говорят" и "бухгалтеры" имеют разрешение на доступ к учетным записям. На среднем уровне применяется бизнес-логика того, что именно для каждого из них включено.

## <a name="impersonation-scenario"></a>Сценарий олицетворения

-   База данных выполняет собственную проверку подлинности и авторизацию конечных пользователей, чтобы помочь ограничить доступ к данным в базе данных.
-   Приложение COM+ олицетворяет клиентов каждый раз, когда он обращается к базе данных.
-   Соединения устанавливаются отдельно для каждого вызова и не могут быть использованы повторно.

Этот сценарий лучше всего подходит для данных, которые тесно связаны с очень маленькими классами пользователей. Например, каждый сотрудник может получить доступ только к своему файлу персонала, и каждый руководитель может получить доступ только к тем файлам, которые используются в отчетах.

## <a name="hybrid-scenario"></a> Гибридный сценарий

Сочетание двух предыдущих сценариев, где олицетворение используется только при необходимости.

Этот сценарий лучше подходит в тех случаях, когда используются гибридные связи пользователей и данных. Например, у вас есть "руководители", "говорят", "бухгалтеры" и тысячи отдельных веб-клиентов, которые могут обращаться только к своим учетным записям. Вы можете разделить логику путей с помощью приложения, потенциально с отдельными компонентами, для обработки последнего класса пользователей, особенно в тех случаях, когда предполагается, что эти пользователи отличаются по производительности.

## <a name="trusted-scenario-using-microsoft-sql-server-roles"></a>Доверенный сценарий с использованием ролей Microsoft SQL Server

-   Microsoft SQL Server 7,0 и более поздних версий может авторизовать доступ к конкретным строкам с помощью ролей, но доверяет приложению COM+ для проверки подлинности и авторизации пользователей, а также для их преобразования в соответствующие роли в базе данных.
-   Приложение COM+ разрешает пользователям использовать безопасность на основе ролей, а роли приложения хорошо соответствуют ролям базы данных.
-   Можно открывать подключения, относящиеся к определенной роли базы данных. Эти соединения можно использовать повторно, если они удерживаются объектами в пуле в приложениях COM+. Дополнительные сведения о том, как это сделать, см. в статье [группирование объектов COM+](com--object-pooling.md).
-   Аудит и ведение журнала могут выполняться приложением COM+, или эти сведения могут быть переданы в базу данных приложением.

Этот сценарий лучше всего подходит для тех же типов пользователей и данных, что и в первом сценарии с надежным сервером, поскольку приложение COM+ по-прежнему является доверенным для правильной работы авторизации. Однако он помогает защитить базу данных от несанкционированного доступа, одновременно разрешая доступ из нескольких источников за пределами приложения COM+, не тратя на масштабирование и производительность в сценарии олицетворения.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Выбор места для обеспечения безопасности](deciding-where-to-enforce-security.md)
</dt> <dt>

[Многоуровневая защита приложений](multi-tier-application-security.md)
</dt> </dl>

 

 



