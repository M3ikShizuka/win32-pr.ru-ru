---
description: Преимущества обработки в очереди
ms.assetid: dc1fc03f-1e2c-481c-95a7-f8d7b1e06bb0
title: Преимущества обработки в очереди
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 02c41d902d9e72af40b70ccc95efe33e2857c8ef07953c70ef1fc0879ba676ee
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118308792"
---
# <a name="benefits-of-queued-processing"></a>Преимущества обработки в очереди

При проектировании новых приложений разработчики должны учитывать влияние компонентов кода на обработку (синхронной) обработки в реальном времени и в очереди (асинхронной). Выбор зависит от требований конкретного приложения, определяемых базовой бизнес-логикой. Как правило, обработка в очереди обеспечивает следующие преимущества по сравнению с обработкой в режиме реального времени:

-   Ограниченная зависимость от доступности компонентов
-   Более короткие времена жизни компонентов
-   Непрерывная производительность при использовании отключенных приложений
-   Надежность сообщений
-   Эффективное планирование серверов

## <a name="component-availability"></a>Доступность компонентов

В приложении обработки в режиме реального времени, если только один компонент транзакции недоступен — возможно, из-за перегрузки сервера или проблем с сетью — весь процесс блокируется и не может быть завершен. В отличие от этого, приложение, использующее службу очередей компонентов COM+, разделяет транзакцию на действия, которые должны быть завершены, и в дальнейшем они могут быть завершены. Например, сообщения могут быть поставлены в очередь для последующей обработки, чтобы запрашивающий компонент был свободен для других задач.

## <a name="component-lifetimes"></a>Время существования компонентов

Приложение, использующее службу очередей компонентов, позволяет серверному компоненту взаимодействовать независимо от клиента. В результате серверные компоненты могут быть выполнены быстрее. В системе в режиме реального времени серверный компонент существует с момента создания, пока объект не будет освобожден. Сервер ожидает, пока клиент сделает вызовы методов и возвращал результаты, что отрицательно приводит к быстрому циклу серверных объектов и ограничивает масштабируемость серверов.

## <a name="disconnected-applications"></a>Отключенные приложения

Повышение использования ноутбуков, ноутбуков и карманных компьютеров потребует приложений, которые обслуживают время от времени отключенных клиентов или мобильных пользователей. В системе, поставленной в очередь, эти пользователи могут продолжать работать в отключенном сценарии или при отсутствии подключения к серверу, и позже они смогут подключаться к базам данных или серверам для обработки своих запросов. Например, продавец может принимать заказы от клиентов и позднее подключаться к Отделу доставки для обработки этих заказов.

Если у вас есть компонент, который может быть запущен или подключен к сети, сообщения перемещаются в одном направлении, и в них редко возникает необходимость в переключении обратно и назад. Например, в сценарии принятия заказа компонент доставки получает сообщение и обрабатывает его. Он может создать другой компонент для выставления счетов или аудита. Клиент фиксируется перед запуском сервера. Сообщение не отправляется, пока приложение не зафиксируется.

На следующем рисунке показан поток данных в сценарии с отключенным соединением.

![Схема, показывающая поток информации между клиентом и сервером.](images/b1818188-0294-4bd8-8bbe-9fe8eea9e09a.png)

## <a name="message-reliability"></a>Надежность сообщений

Очередь сообщений — это мощный инструмент, использующий приемы баз данных для защиты данных надежным способом. В случае сбоя сервера очередь сообщений гарантирует откат транзакций, чтобы сообщения не терялись и данные не были повреждены.

## <a name="server-scheduling"></a>Планирование сервера

Приложение, использующее очереди компонентов, хорошо подходит для выполнения компонентов с сдвигом по времени, что откладывает некритическую работу до пикового периода. Это то же самое полезное понятие, которое было применено к традиционной обработке в пакетном режиме. Аналогичные запросы можно отложить на непрерывное выполнение сервером, не требуя от сервера немедленно реагировать на множество запросов.

 

 



