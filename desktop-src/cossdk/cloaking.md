---
description: При определении поведения олицетворения клиент явным образом предоставляет сервер через уровень олицетворения, а серверы могут маскировать свои удостоверения при вызове от имени клиентов.
ms.assetid: b34264ff-eb6a-4b99-8c0e-ab6b969a7fb1
title: Маскировка (службы компонентов)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2a99d2e1cf8ca90d1cd9e4c56d0b12c3bb470e7c6a489aa56d790be5ba9c3468
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118103364"
---
# <a name="cloaking-component-services"></a>Маскировка (службы компонентов)

Определение поведения олицетворения состоит из двух ингредиентов: центр, на котором клиент явным образом предоставляет сервер через уровень олицетворения, и возможность сервера маскировать свое удостоверение при вызове от имени клиента. Эта последняя возможность называется *маскировкой*. Маскировка должна делать с удостоверением безопасности, под которым сервер выполняет вызовы.

Когда сервер олицетворяет клиента, он имеет прямой доступ к учетным данным безопасности клиента. В очень локальном смысле серверный поток принимает на себя удостоверение клиента. Но если сервер выполняет вызовы за пределами своего процесса, удостоверение клиента не обязательно будет рассматриваться как удостоверение, под которым выполняется вызов.

Если включена маскировка, вызовы, выполняемые сервером, который олицетворяет клиент, могут быть выполнены под удостоверением клиента. Если маскировка отключена, вызовы сервера будут выполняться по идентификатору сервера.

Более того, существует две формы маскировки, *статическое скрытие* и *Динамическое скрытие*, которые можно описать следующим образом:

-   Олицетворение со статической маскировкой. Исходное удостоверение клиента (реализованное как маркер серверного потока) может быть представлено один раз на подчиненный сервер при вызове с помощью [**CoSetProxyBlanket**](/windows/desktop/api/combaseapi/nf-combaseapi-cosetproxyblanket), Установка исходного удостоверения клиента один раз на прокси-сервере, и этот маркер потока будет использоваться при последующих вызовах метода.
-   Олицетворение с динамической маскировкой. Исходное удостоверение клиента обнаруживается как токен потока сервера для каждого вызова метода на подчиненном сервере. Фактически представленное удостоверение можно определить динамически. Накладные расходы, необходимые для этого, могут быть значительно дороже.

Для приложений COM+ конфигурация по умолчанию предназначена для динамической маскировки. Это можно изменить программно и в административном виде. Хотя динамическая маскировка может снизить производительность, она обеспечивает гибкость, которая обычно требуется в обстоятельствах, требующих использования олицетворения в первую очередь.

Дополнительные сведения о маскировке и точных описания возможных поведений см. в разделе [маскировка](/windows/desktop/com/cloaking) в документации по com.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Олицетворение и делегирование клиента](client-impersonation-and-delegation.md)
</dt> <dt>

[Требования к олицетворению на стороне клиента](client-side-requirements-for-impersonation.md)
</dt> <dt>

[Требования для олицетворения на стороне сервера](server-side-requirements-for-impersonation.md)
</dt> </dl>

 

 
