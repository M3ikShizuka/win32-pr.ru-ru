---
description: При определении поведения олицетворения клиент явным образом предоставляет сервер через уровень олицетворения, а серверы могут маскировать свои удостоверения при вызове от имени клиентов.
ms.assetid: b34264ff-eb6a-4b99-8c0e-ab6b969a7fb1
title: Маскировка (службы компонентов)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1e5cba98d229c7f2132a2a1c345e65900b634afe
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103807211"
---
# <a name="cloaking-component-services"></a>Маскировка (службы компонентов)

Определение поведения олицетворения состоит из двух ингредиентов: центр, на котором клиент явным образом предоставляет сервер через уровень олицетворения, и возможность сервера маскировать свое удостоверение при вызове от имени клиента. Эта последняя возможность называется *маскировкой*. Маскировка должна делать с удостоверением безопасности, под которым сервер выполняет вызовы.

Когда сервер олицетворяет клиента, он имеет прямой доступ к учетным данным безопасности клиента. В очень локальном смысле серверный поток принимает на себя удостоверение клиента. Но если сервер выполняет вызовы за пределами своего процесса, удостоверение клиента не обязательно будет рассматриваться как удостоверение, под которым выполняется вызов.

Если включена маскировка, вызовы, выполняемые сервером, который олицетворяет клиент, могут быть выполнены под удостоверением клиента. Если маскировка отключена, вызовы сервера будут выполняться по идентификатору сервера.

Более того, существует две формы маскировки, *статическое скрытие* и *Динамическое скрытие*, которые можно описать следующим образом:

-   Олицетворение со статической маскировкой. Исходное удостоверение клиента (реализованное как маркер серверного потока) может быть представлено один раз на подчиненный сервер при вызове с помощью [**CoSetProxyBlanket**](/windows/desktop/api/combaseapi/nf-combaseapi-cosetproxyblanket), Установка исходного удостоверения клиента один раз на прокси-сервере, и этот маркер потока будет использоваться при последующих вызовах метода.
-   Олицетворение с динамической маскировкой. Исходное удостоверение клиента обнаруживается как токен потока сервера для каждого вызова метода на подчиненном сервере. Фактически представленное удостоверение можно определить динамически. Накладные расходы, необходимые для этого, могут быть значительно дороже.

Для приложений COM+ конфигурация по умолчанию предназначена для динамической маскировки. Это можно изменить программно и в административном виде. Хотя динамическая маскировка может снизить производительность, она обеспечивает гибкость, которая обычно требуется в обстоятельствах, требующих использования олицетворения в первую очередь.

Дополнительные сведения о маскировке и точных описания возможных поведений см. в разделе [маскировка](/windows/desktop/com/cloaking) в документации по com.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Олицетворение и делегирование клиента](client-impersonation-and-delegation.md)
</dt> <dt>

[Требования к олицетворению на стороне клиента](client-side-requirements-for-impersonation.md)
</dt> <dt>

[Требования для олицетворения на стороне сервера](server-side-requirements-for-impersonation.md)
</dt> </dl>

 

 
