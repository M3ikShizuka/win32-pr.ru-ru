---
description: В этом разделе объясняется, как создать пользовательский словарь для распознавания рукописного текста.
ms.assetid: 83abf534-740c-44a3-bbd4-babb54f2930e
title: создание пользовательских словарей для распознавания рукописного текста в Windows 7 и Windows Server 2008 R2
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8fe391125b21bfe35a9e1a69be6258e1643b424e
ms.sourcegitcommit: 61a4c522182aa1cacbf5669683d9570a3bf043b2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/26/2021
ms.locfileid: "122883886"
---
# <a name="creating-custom-dictionaries-for-handwriting-recognition-in-windows-7-and-windows-server-2008-r2"></a>создание пользовательских словарей для распознавания рукописного текста в Windows 7 и Windows Server 2008 R2

В этом разделе объясняется, как создать пользовательский словарь для распознавания рукописного текста.

в операционной системе Windows 7 и Windows Server 2008 R2 точность распознавания рукописного текста можно значительно улучшить с помощью пользовательских словарей. Эти словари дополняют или заменяют системные словари, используемые для рукописного ввода. Поддержка распознавания рукописного текста обеспечивается с помощью функции службы рукописного ввода, которую необходимо включить с помощью диспетчер сервера.

> [!Note]  
> Пользовательские словари можно установить для языка, только если установлен распознаватель рукописного ввода для этого языка.

 

Существует два основных шага настройки пользовательского словаря для рукописного ввода:

-   Скомпилируйте список слов. Компиляция создает скомпилированный пользовательский словарь (хврдикт-файл).
-   Установите скомпилированный пользовательский словарь.

## <a name="compiling-a-word-list"></a>Компиляция списка слов

Список слов для компиляции должен быть в текстовом формате и должен быть сохранен с использованием кодировки Юникода. Другие кодировки работать не будут. Каждая строка текстового файла принимается в виде одной записи в словаре. Разрешены записи многословных единиц, содержащие один или несколько пробелов. Пробелы в начале или конце строки игнорируются.

Пользовательский словарь компилируется из командной строки. Чтобы скомпилировать словарь, Откройте командное окно, перейдите к папке, содержащей список слов, и запустите HwrComp.exe с параметрами командной строки, которые необходимо использовать.

В следующем примере показан синтаксис использования параметров командной строки.

``` syntax
Usage: hwrcomp       [-lang <localename>] [-type <type>]
    [-comment <comment>]
    [-o <dictfile.hwrdict>]
    <inputfile>
     
```

### <a name="explanation-of-options"></a>Объяснение параметров



<table>
<colgroup>
<col  />
<col  />
</colgroup>
<thead>
<tr class="header">
<th>Параметр</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>-lang &lt; localename&gt;</td>
<td>Указанное имя языкового стандарта, назначенное скомпилированному файлу пользовательского словаря. Аргумент &lt; localename &gt; имеет языковой регион формы. Примером этого является en-US, обозначающий английский язык в США регионе. Примеры этой формы см. в разделе [константы и строки идентификатора языка](/windows/desktop/Intl/language-identifier-constants-and-strings). следующие языки поддерживаются для Windows 7 и Windows Server 2008 R2 с помощью этой функции: en-US, en-GB, en-CA, en-AU, de-de, de-CH, fr-fr, es-es, es-MX, es-AR, ит-it, nl-nl, nl-налатн, pt-BR, pt-pt, da-DK, sv-SE, netbios-NO, nn-NO, fi-fi, pl-pl, cs-CZ, ru-ru, ro-ro, sr--cs, sr-цирл-cs, CA-es и hr-hr.<br/></td>
</tr>
<tr class="even">
<td>— Тип &lt; Type&gt;</td>
<td>Тип аргумента &lt; Option &gt; — это объединение в виде одной строки для использования ресурса в качестве основного списка слов (первичного) или дополнения к главному списку слов (дополнительный), за которым следует фактическое имя списка слов, к которому применяется ресурс (например, DICTIONARY или фамилия). Возможные следующие значения.
<ul>
<li>ОСНОВНОЙ-CITYNAME-СПИСОК</li>
<li>ОСНОВНОЙ-COUNTRYNAME-СПИСОК</li>
<li>ОСНОВНОЙ-КАУНТРИШОРТНАМЕ-СПИСОК</li>
<li>ОСНОВНОЙ СЛОВАРЬ</li>
<li>ОСНОВНОЙ-GIVENNAME-СПИСОК</li>
<li>ОСНОВНОЙ-STATEORPROVINCE-СПИСОК</li>
<li>ОСНОВНОЙ-СТРИТНАМЕ-СПИСОК</li>
<li>СПИСОК "ОСНОВНОЙ-ФАМИЛИЯ"</li>
<li>ВТОРИЧНЫЙ CITYNAME-СПИСОК</li>
<li>ВТОРИЧНЫЙ COUNTRYNAME-СПИСОК</li>
<li>ВТОРИЧНЫЙ КАУНТРИШОРТНАМЕ-СПИСОК</li>
<li>ВСПОМОГАТЕЛЬНЫЙ СЛОВАРЬ</li>
<li>ВТОРИЧНЫЙ ЕМАИЛСМТП-СПИСОК</li>
<li>ВТОРИЧНЫЙ ЕМАИЛУСЕРНАМЕ-СПИСОК</li>
<li>ВТОРИЧНЫЙ GIVENNAME-СПИСОК</li>
<li>ВТОРИЧНЫЙ STATEORPROVINCE-СПИСОК</li>
<li>ВТОРИЧНЫЙ СТРИТНАМЕ-СПИСОК</li>
<li>ДОПОЛНИТЕЛЬНЫЙ-ФАМИЛИЯ-СПИСОК</li>
<li>СПИСОК ВТОРИЧНЫХ URL-АДРЕСОВ</li>
</ul>
Если значение типа начинается с префикса PRIMARY, скомпилированный словарь после установки будет заменять системный словарь для этого языка. Значение "основной словарь" представляет основной системный словарь для языка.
<blockquote>
[!Note]<br />
При замене системного словаря не выполняется никаких действий для исходного содержимого системного словаря, так как замена действует только до тех пор, пока не будет удален пользовательский словарь.
</blockquote>
<br/> Если значение типа начинается с префикса ВТОРИЧной РЕПЛИКи, скомпилированный словарь будет дополнять системный словарь без его замены.</td>
</tr>
<tr class="odd">
<td>-Комментарий <comment></td>
<td>Указанный комментарий компилируется в файл словаря. Комментарий должен быть единственной строкой и содержать не более 64 символов.</td>
</tr>
<tr class="even">
<td>-o <dictfile.hwrdict></td>
<td>Выходные данные записываются в имя файла, заданное параметром <dictfile.hwrdict> .<br/> Если этот параметр отсутствует, имя выходного файла берется из исходного имени входного файла, а расширение входного файла заменено на. хврдикт.<br/></td>
</tr>
</tbody>
</table>



 

### <a name="defaults"></a>Умолчания;

Если параметры не указаны, используются значения по умолчанию

-lang <current input language> -тип вспомогательный словарь

### <a name="examples"></a>Примеры

Следующий код компилирует входной файл mylist1.txt, применяет значения параметров по умолчанию и создает выходной файл mylist1. хврдикт.

``` syntax
hwrcomp mylist1.txt
```

В отличие от этого, приведенный ниже код компилирует mylist1.txt в myrsrc1. хврдикт, но назначает "Английский (США)" (EN-US) в качестве языка и дополнительного СЛОВАРЯ в качестве типа.

``` syntax
hwrcomp -lang en-US -type SECONDARY-DICTIONARY -o myrsrc1 mylist1.txt 
```

## <a name="installing-a-compiled-custom-dictionary"></a>Установка скомпилированного пользовательского словаря

HwrComp.exe создает файл хврдикт, который находится в двоичном формате, используемом распознавателем рукописного ввода. этот файл можно установить на любом компьютере с Windows 7 или Windows Server 2008 R2, поддерживающем распознавание рукописного ввода. Словарь устанавливается либо для текущего пользователя, либо для всех пользователей на компьютере.

Скомпилированный файл пользовательского словаря можно установить из командной строки с помощью средства HwrReg.exe. Это средство полезно, если требуется переопределить некоторые значения конфигурации, которые либо компилируются в файл, либо значения по умолчанию. HwrReg.exe можно выполнять двумя способами: в режиме проверки/установки и в режиме списка или удаления.

### <a name="running-hwrregexe-in-checkinstall-mode"></a>Выполнение HwrReg.exe в режиме проверки/установки

Этот режим предназначен для файлов пользовательских словарей, которые еще не установлены. Ниже приведен синтаксис использования параметров командной строки.

``` syntax
Usage: hwrreg        [-check]
    [-lang <localename>] 
    [-scope {all|me}]
    [-noprompt] 
    <dictfile.hwrdict>
```

### <a name="explanation-of-options"></a>Объяснение параметров



| Параметр                | Описание                                                                                                                                                                                                                                                                                                                                                                        |
|--------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| — Проверка                   | Файл словаря проверяется без установки. Параметр check позволяет отобразить комментарий файла и сведения о регистрации, которые будут использоваться для установки файла. Этот параметр полезен для проверки сведений о регистрации до выполнения установки. <br/> Если этот параметр отсутствует, HwrReg.exe устанавливает пользовательский словарь.<br/>  |
|  &lt;localename lang&gt; | Файл словаря проверяется без установки. Параметр check позволяет отобразить комментарий файла и сведения о регистрации, которые будут использоваться для установки файла. Этот параметр полезен для проверки сведений о регистрации до выполнения установки. <br/> Если этот параметр отсутствует, HwrReg.exe устанавливает пользовательский словарь. <br/> |
|  область {все \| Me}         | Пользовательский словарь устанавливается либо для всех пользователей (область все), либо только для текущего пользователя (область Me). Для установки с областью ALL необходимо, чтобы команда была запущена в командной строке с повышенными привилегиями; в противном случае будет возвращен код ошибки. <br/> Если этот параметр отсутствует, установка ограничивается только текущим пользователем.<br/>                          |
|  noprompt                | HwrReg.exe не запрашивает подтверждение. Это может быть полезно при запуске hwrReg.exe из скрипта. <br/>                                                                                                                                                                                                                                                                 |



 

В следующем примере выполняется установка пользовательского словаря myrsrc1. хврдикт для языка "Датский (Дания)" (da DK) с областью по умолчанию "только текущий пользователь".

``` syntax
hwrreg -lang da-DK myrsrc1.hwrdict 
```

### <a name="running-hwrregexe-in-listremove-mode"></a>Выполнение HwrReg.exe в режиме списка или удаления

В этом режиме отображаются или удаляются установленные пользовательские словари. Ниже приведен синтаксис использования параметров командной строки.

``` syntax
Usage: hwrreg        [-lang <localename>] 
    [-scope {all|me}] 
    [-type <type>]
    -list | -remove
```

### <a name="explanation-of-options"></a>Объяснение параметров



| Параметр                | Описание                                                                                                                                                                                                                                                                                                                                                                    |
|--------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  &lt;localename lang&gt; | Словари, зарегистрированные только для этого имени языкового стандарта, перечислены или удалены. Аргумент &lt; localename &gt; имеет языковую область формы. Примеры этой формы см. в разделе [константы и строки идентификатора языка](/windows/desktop/Intl/language-identifier-constants-and-strings). <br/> Если этот параметр отсутствует, будут перечислены или удалены словари для всех языков.<br/> |
|  область {все \| Me}         | Пользовательский словарь устанавливается либо для всех пользователей (область все), либо только для текущего пользователя (область Me). Для установки с областью ALL необходимо, чтобы команда была запущена в командной строке с повышенными привилегиями; в противном случае будет возвращен код ошибки. <br/> Если этот параметр отсутствует, установка ограничивается только текущим пользователем.<br/>                      |
|  Тип &lt; Type&gt;       | Выводит или удаляет только те словари, которые зарегистрированы в указанном типе.<br/> Если этот параметр отсутствует, все типы словарей будут перечислены или удалены. Установка или удаление пользовательского словаря другого типа (например, основного COUNTRYNAME-списка) может повлиять на распознавание рукописного текста в других контекстах. <br/>                                              |
|  list                    | Список всех установленных словарей, соответствующих другим параметрам.<br/> Если этот параметр отсутствует, необходимо указать параметр Remove.<br/>                                                                                                                                                                                                                          |
|  remove                  | Запрашивает удаление любого словаря, который соответствует другим параметрам.<br/> Если этот параметр отсутствует, должен быть указан список параметров.<br/>                                                                                                                                                                                                                     |



 

### <a name="examples"></a>Примеры

Ниже перечислены словари с языком «английский (США)» (EN US) и «основной словарь», которые устанавливаются только для текущего пользователя.

``` syntax
hwrreg -list -lang en-US -type PRIMARY-DICTIONARY
                  
```

Аналогичным образом в следующем примере удаляются словари, соответствующие одному и тому же критерию.

``` syntax
hwrreg -remove -lang en-US -type PRIMARY-DICTIONARY
                  
```

## <a name="general-notes-on-custom-dictionaries"></a>Общие замечания о пользовательских словарях

-   При установке двух пользовательских словарей, имеющих одинаковый тип, язык и область, вторая установка перезапишет первую.
-   Если установить два пользовательских словаря с одинаковым типом и языком, но с разными областями (один для всех пользователей и один для текущего пользователя), словарь, установленный для текущего пользователя, имеет приоритет, и словарь, установленный для всех пользователей, игнорируется.

 

