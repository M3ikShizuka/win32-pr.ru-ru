---
description: Создает объект контекста, описывающий указанное устройство планшета.
ms.assetid: 76f48485-a958-4457-9b87-73de73fa671e
title: 'Метод Итаблет:: CreateContext'
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- ITablet.CreateContext
api_type:
- COM
api_location:
- wisptis.exe
- wisptis.exe.dll
ms.openlocfilehash: 8b67e4c15d40f2da7a616295f10a7762b242fb40d9c0b5f42c00eb51d190cc03
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118450579"
---
# <a name="itabletcreatecontext-method"></a>Метод Итаблет:: CreateContext

Создает объект контекста, описывающий указанное устройство планшета.

## <a name="syntax"></a>Синтаксис


```C++
HRESULT CreateContext(
  [in]      HWND                    hWnd,
  [in]      RECT                    *prcInput,
  [in]      DWORD                   dwOptions,
  [in]      TABLET_CONTEXT_SETTINGS *pTCS,
  [in]      CONTEXT_ENABLE_TYPE     cet,
  [out]     ITabletContext          **ppCtx,
  [in, out] TABLET_CONTEXT_ID       *pTcid,
  [in, out] PACKET_DESCRIPTION      **ppPD,
  [in]      ITabletEventSink        *pSink
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*HWND* \[ окне\]
</dt> <dd>

Окно, к которому будет присоединен контекст планшета.

</dd> <dt>

*прЦинпут* \[ окне\]
</dt> <dd>

\[в уникальное\]

Прямоугольник ввода рукописных данных.

</dd> <dt>

*двоптионс* \[ окне\]
</dt> <dd>

Флаги, устанавливающие параметры контекста планшета.

</dd> <dt>

*ПТКС* \[ окне\]
</dt> <dd>

\[в уникальное\]

Подробные сведения о создаваемом контексте планшета.

</dd> <dt>

*Центральноевропейское время* \[ окне\]
</dt> <dd>

Значение, которое включает или отключает сообщения контекста, отправляемые в окно.

</dd> <dt>

*ппкткс* \[ заполняет\]
</dt> <dd>

Указатель на только что созданный контекст планшета.

</dd> <dt>

*птЦид* \[ в, out\]
</dt> <dd>

Значение, уникально идентифицирующее планшет.

</dd> <dt>

*пппд* \[ в, out\]
</dt> <dd>

Указатель на сведения о том, какие данные содержатся в каждом пакете.

</dd> <dt>

*псинк* \[ окне\]
</dt> <dd>

Объект [**итаблетевентсинк**](itableteventsink.md) , куда будут отправляться уведомления.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Этот метод может возвращать одно из этих значений.



| Код возврата                                                                            | Описание                               |
|----------------------------------------------------------------------------------------|-------------------------------------------|
| <dl> <dt>**\_ОК**</dt> </dl>   | Успешно.<br/>                       |
| <dl> <dt>**\_Ошибка E**</dt> </dl> | Произошла неизвестная ошибка.<br/> |



 

## <a name="remarks"></a>Remarks

Как правило, приложение получает значения по умолчанию из [**метода итаблет:: жетдефаултконтекстсеттингс**](itablet-getdefaultcontextsettings.md), изменяет значения в соответствии с их потребностями, а затем передает измененную структуру параметров в **метод Итаблет:: CreateContext**.

> [!Note]  
> При вызове **метода итаблет:: CreateContext** необходимо реализовать [**интерфейс итаблетевентсинк**](itableteventsink.md) .

 

Параметр *двоптионс* представляет собой набор битовых флагов, описывающих параметры контекста. Эти флаги описаны в следующей таблице.



| Имя флага                                | Значение                                                                                                                                                                                         | Описание                                                                                                                                                                                                                                                              |
|------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ТККСО \_ поле<br/>                  | 0x00000001<br/>                                                                                                                                                                         | Указывает, что входной контекст на планшете будет иметь поле. Поле является областью за пределами заданной входной области, где события будут сопоставляться с границей области ввода. Эта функция упрощает ввод точек на границе контекста.<br/> |
| \_ПРЕДобработчика ткксо<br/>                 | 0x00000002<br/>                                                                                                                                                                         | Предварительный обработчик получает пакеты перед обычными контекстами и обработчиками. Они получают пакеты в порядке их создания.<br/>                                                                                                                                                  |
| \_состояние курсора ткксо \_<br/>           | 0x00000004<br/>                                                                                                                                                                         | TC вернет пакеты, даже если курсор работает. По умолчанию TC будет возвращать только те пакеты, когда курсор не работает.<br/>                                                                                                                                       |
| ТККСО \_ без \_ курсора \_<br/>        | 0x00000008<br/>                                                                                                                                                                         | TC не возвращает пакеты, когда курсор не работает.<br/>                                                                                                                                                                                                       |
| ТККСО \_ не \_ интегрирован<br/>         | 0x00000010<br/>                                                                                                                                                                         | Контекст не будет интегрирован.<br/>                                                                                                                                                                                                                           |
| ТККСО- \_ обработчик<br/>                | 0x00000020<br/>                                                                                                                                                                         | Обработчики получают пакеты после обычных контекстов планшета, но до контекста системы. Они получают пакеты в порядке их создания.<br/>                                                                                                                   |
| ТККСО \_ не \_ отобразить \_ курсор<br/>      | 0x00000080<br/>                                                                                                                                                                         | TC не установит позицию курсора.<br/>                                                                                                                                                                                                                      |
| ТККСО \_ не \_ Проверка \_ TCS<br/>     | 0x00000100<br/>                                                                                                                                                                         | TC не будет проверять идентификаторы GUID, переданные в параметрах контекста планшета, на поддерживаемые свойства устройства.<br/>                                                                                                                                      |
| ТККСО \_ Разрешить \_ жесты<br/>           | 0x00000400<br/>                                                                                                                                                                         | TC допускает обнаружение жестов (по умолчанию это разрешено только в контекстах системы), и клиент будет получать SE \_ события многофункционального пера.<br/>                                                                                                               |
| ТККСО \_ Разрешить \_ \_ откасаний обратной связи<br/>   | 0x00000800<br/>                                                                                                                                                                         | TC разрешит отображение отзывов пера. По умолчанию это разрешено только в контекстах системы.<br/>                                                                                                                                                              |
| ТККСО \_ Разрешить \_ обратную связь \_<br/> | 0x00001000<br/>                                                                                                                                                                         | TC разрешит отображение отзывов пера. По умолчанию это разрешено только в контекстах системы.<br/>                                                                                                                                                              |
| ТККСО \_ все<br/>                     | ТККСО \_ Margin \| ткксо предварительный \_ обработчик \| ткксо \_ состояние курсора \_ \| ткксо \_ без \_ курсора \_ \| ткксо \_ \_ неинтегрированный ткксо i- \| \_ перехватчик \| ткксо \_ не \_ отобразить \_ курсор \| ткксо \_ не \_ проверить \_ TCS<br/> | Все определенные параметры контекста планшета.<br/>                                                                                                                                                                                                                           |
| \_обработчик ткксо<br/>                    | ТККСО \_ ПРЕобработчика \| ткксо \_<br/>                                                                                                                                                    | Объединяет функции предварительного обработчика и после обработчика.<br/>                                                                                                                                                                                                                |



 

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|----------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows XP Tablet PC Edition \[ только классические приложения\]<br/>                          |
| Минимальная версия сервера<br/> | Ни одна версия не поддерживается<br/>                                                              |
| Библиотека<br/>                  | <dl> <dt>Wisptis.exe</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[**Интерфейс Итаблет**](itablet.md)
</dt> <dt>

[**\_ \_ Перечисление типов включения контекста**](context-enable-type.md)
</dt> <dt>

[**\_Структура параметров контекста планшета \_**](tablet-context-settings.md)
</dt> <dt>

[**\_Структура описания пакета**](/windows/desktop/api/tpcshrd/ns-tpcshrd-packet_description)
</dt> <dt>

[**Интерфейс Итаблетконтекстп**](itabletcontextp.md)
</dt> <dt>

[**Интерфейс Итаблетевентсинк**](itableteventsink.md)
</dt> </dl>

 

 




