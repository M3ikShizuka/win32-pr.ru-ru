---
description: Общие сведения о работе с потоками при использовании прикладного программного интерфейса (API) Стилусинпут.
ms.assetid: 5d98768a-c60b-4bb0-8640-9bf38254d41f
title: Рекомендации по потокам для API Стилусинпут
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 530ac95fdf0e74e30c83a437b6ed573d03bb2c91
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "103909907"
---
# <a name="threading-considerations-for-the-stylusinput-api"></a>Рекомендации по потокам для API Стилусинпут

Объект [**RealTimeStylus**](realtimestylus-class.md) предназначен для предоставления доступа к потоку данных из пера планшета в режиме реального времени. Подключаемые модули. объекты, реализующие интерфейс [**истилуссинкплугин**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) или [**истилусасинкплугин**](/windows/win32/api/rtscom/nn-rtscom-istylusasyncplugin) , можно добавить в объект **RealTimeStylus** . Синхронные подключаемые модули, как правило, вызываются непосредственно объектом **RealTimeStylus** в потоке с высоким приоритетом, а Асинхронные подключаемые модули обычно вызываются в потоке пользовательского интерфейса приложения. Создайте или используйте синхронные подключаемые модули для задач, которым требуется доступ к потоку данных в режиме реального времени и которые не требуют вычисления, например фильтрация пакетов. Создайте или используйте асинхронные подключаемые модули для задач, не требующих доступа в режиме реального времени к потоку данных, например коллекции рукописного ввода.

Поскольку подключаемые модули данных для асинхронной коллекции подключаемых модулей объекта [**RealTimeStylus**](realtimestylus-class.md) помещаются в очередь, Асинхронные подключаемые модули могут получать данные перед получением вызова своего метода [реалтиместилусдисаблед](/previous-versions/ms824774(v=msdn.10)) , но после отключения объекта **RealTimeStylus** . Обратите внимание, что некоторые методы и свойства объекта **RealTimeStylus** вызывают исключение, если объект **RealTimeStylus** отключен.

Следующие методы интерфейса [**истилуссинкплугин**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) могут вызываться в потоке, отличном от потока данных планшетного пера.

-   Методы [реалтиместилусенаблед](/previous-versions/ms824758(v=msdn.10)) и [реалтиместилусдисаблед](/previous-versions/ms824757(v=msdn.10)) вызываются в потоке, который обновляет свойство [Enabled](/previous-versions/ms585380(v=vs.100)) объекта [**RealTimeStylus**](realtimestylus-class.md) или добавляет или удаляет подключаемый модуль, пока включен объект **RealTimeStylus** .
-   Метод [кустомстилусдатааддед](/previous-versions/ms824753(v=msdn.10)) вызывается в потоке, который вызывает метод [аддкустомстилусдататокуеуе](/previous-versions/ms825761(v=msdn.10)) объекта [**RealTimeStylus**](realtimestylus-class.md) .
-   Метод [Error](/previous-versions/ms824754(v=msdn.10)) вызывается в потоке, в котором выполняется синхронный подключаемый модуль, когда возникает исключение.

Чтобы взаимодействовать с приложением из синхронного подключаемого модуля, используйте метод [аддкустомстилусдататокуеуе](/previous-versions/ms825761(v=msdn.10)) объекта [**RealTimeStylus**](realtimestylus-class.md) и обработайте данные пользовательского пера в одном из асинхронных подключаемых модулей. При синхронном вызове другого потока из синхронного подключаемого модуля вы можете заблокировать объект **RealTimeStylus** и таким блоком заблокировать рукописный сбор данных.

Некоторые задачи могут быть требовательными к вычислительным ресурсам, но по-прежнему требуют доступа в режиме реального времени к потоку данных пера планшета, например для распознавания жестов с несколькими штрихами. Интерфейсы API Стилусинпут обеспечивают каскадную модель [**RealTimeStylus**](realtimestylus-class.md) , которая позволяет использовать два объекта **RealTimeStylus** , каждый из которых вызывает синхронные подключаемые модули из разных потоков. Дополнительные сведения о каскадной модели **RealTimeStylus** см. в статье [каскадная модель RealTimeStylus](the-cascaded-realtimestylus-model.md).

> [!Note]  
> Невозможно присоединить объект [**RealTimeStylus**](realtimestylus-class.md) к окну или элементу управления в другом процессе.

 

Дополнительные сведения о вопросах многопоточности для планшетных ПК см. в статье [вопросы многопоточной обработки в планшетных ПК](tablet-pc-threading-considerations.md) .

 

 
