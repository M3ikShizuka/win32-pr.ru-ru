---
description: Не все приложения используют распознавание, но так как большинство приложений разрабатывались с использованием текста в качестве первичного типа данных, возможность преобразования рукописного ввода в текст очень важна.
ms.assetid: 70d25839-6ddd-40db-8891-92da074d17b0
title: Распознавание рукописного ввода
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 26c3f1431aca97f41b4de9aef64108f3e619ef7b6f9239f46fdde9f7bf4ff3da
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118718303"
---
# <a name="ink-recognition"></a>Распознавание рукописного ввода

Не все приложения используют распознавание, но так как большинство приложений разрабатывались с использованием текста в качестве первичного типа данных, возможность преобразования рукописного ввода в текст очень важна. Функции распознавания API платформы Tablet PC можно использовать для запроса информации о доступных механизмах распознавания, например о том, какие языки они распознают. Затем можно отправить коллекцию [**штрихов**](/previous-versions/windows/desktop/legacy/ms703293(v=vs.85)) из объекта [**рукописного ввода**](inkdisp-class.md) в механизм распознавания и вернуть объект [**рекогнитионресулт**](/windows/desktop/api/msinkaut/nn-msinkaut-iinkrecognitionresult) .

## <a name="recognizercontext-object"></a>Объект Рекогнизерконтекст

Объект [**рекогнизерконтекст**](inkrecognizercontext-class.md) — это экземпляр данного распознавателя. Объект **рекогнизерконтекст** позволяет распознать заданную коллекцию штрихов синхронно или асинхронно. При асинхронном распознавании объект **рекогнизерконтекст** возвращает объект [**рекогнитионресулт**](/windows/desktop/api/msinkaut/nn-msinkaut-iinkrecognitionresult) в обратном вызове события в приложение.

## <a name="recognizers-and-recognizer-objects"></a>Распознаватели и объекты распознавателя

У одного планшетного компьютера может быть один или несколько распознаваемых компьютеров. Вы можете запросить коллекцию распознавателя, чтобы определить, какой распознаватель использовать. Распознаватель предоставляет определенные сведения о своих возможностях, такие как язык, который он может распознать, и производитель.

Чтобы определить, установлен ли хотя бы один распознаватель, создайте экземпляр объекта [**инкрекогнизерконтекст**](inkrecognizercontext-class.md) , как показано в следующих \# примерах кода C++ и C. Если распознаватель отсутствует, вызов [**CoCreateInstance**](/windows/desktop/api/combaseapi/nf-combaseapi-cocreateinstance) завершается ошибкой.


```C++
CComPtr<IInkRecognizerContext> g_pIInkRecoContext;
hr = CoCreateInstance(CLSID_InkRecognizerContext, 
      NULL, CLSCTX_INPROC_SERVER,
      IID_IInkRecognizerContext, 
(void **) &g_pIInkRecoContext);
if (FAILED(hr)) 
{
      ::MessageBox(NULL, TEXT("No recognizers installed.\nExiting."), 
      gc_szAppName, MB_ICONERROR);
      return -1;
}
```




```CSharp
try
{
  Recognizers recos = new Recognizers();//Check for recognizer.
  Recognizer defReco = recos.GetDefaultRecognizer();
  recoContext = defReco.CreateRecognizerContext();
}
catch
{
  MessageBox.Show("No recognizers installed.");
}
```



## <a name="recognitionresult-and-recognitionalternate-objects"></a>Объекты Рекогнитионресулт и Рекогнитионалтернате

Результаты распознавания возвращаются в объекте [**рекогнитионресулт**](/windows/desktop/api/msinkaut/nn-msinkaut-iinkrecognitionresult) . Результаты содержат лучшую результирующую строку в свойстве [топстринг](/previous-versions/ms829602(v=msdn.10)) , а также коллекцию альтернативных результатов в коллекции [**рекогнитионалтернатес**](/windows/desktop/api/msinkaut/nn-msinkaut-iinkrecognitionalternates) . Объект **рекогнитионресулт** может быть сохранен в исходной коллекции [**штрихов**](/previous-versions/windows/desktop/legacy/ms703293(v=vs.85)) , из которой он был создан.

## <a name="recognizerguide-structure"></a>Структура Рекогнизергуиде

Руководству по распознавателю может состоять из строк и столбцов, а также предоставляет распознавателю Улучшенный контекст, в котором выполняется распознавание. Например, можно нарисовать горизонтальные линии на экране пользователя, почти так же, как часть бумаги с линейкой, которая показывает, где должно происходить рукописное письмо (этот тип руководств будет состоять только из строк и не содержит столбцов). Если пользователь записывает строки, а не какой-либо произвольный пробел, то точность распознавания повысится.

На следующем рисунке показана структура [**рекогнизергуиде**](inkrecognizerguide-class.md) с двумя строками для входных данных.

![Иллюстрация с руководством по двум строкам](images/9791100b-8279-4dd0-823f-0a38a0308a74.jpg)

На следующем рисунке показана структура [**рекогнизергуиде**](inkrecognizerguide-class.md) с четырьмя столбцами и тремя строками.

![Иллюстрация с руководством "три на четыре"](images/d1bbf2d3-9653-49d7-bf48-c1b26645074c.jpg)

Дополнительные сведения об использовании структуры [**рекогнизергуиде**](inkrecognizerguide-class.md) см. в разделе Справочник по **рекогнизергуиде** .

 

 
