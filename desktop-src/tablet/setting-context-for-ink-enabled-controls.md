---
description: Все распознавание для элементов управления с поддержкой рукописного ввода осуществляется через объект Рекогнизерконтекст. Интерфейсы API технологии Tablet PC позволяют задать свойство фактоид объекта Рекогнизерконтекст.
ms.assetid: 453993a7-f055-4d84-870c-256d1ec17731
title: Настройка контекста для элементов управления Ink-Enabled
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6776978834f030353a84c04f03e5ecf05ba060cc
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "104348625"
---
# <a name="setting-context-for-ink-enabled-controls"></a>Настройка контекста для элементов управления Ink-Enabled

Все распознавание для элементов управления с поддержкой рукописного ввода осуществляется через объект [**рекогнизерконтекст**](inkrecognizercontext-class.md) . Интерфейсы API технологии Tablet PC позволяют задать свойство [**фактоид**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkrecognizercontext-get_factoid) объекта **рекогнизерконтекст** .

При создании приложения с поддержкой рукописного ввода используйте свойства [**фактоид**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkrecognizercontext-get_factoid) и [**список слов**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkrecognizercontext-get_wordlist) объекта [**рекогнизерконтекст**](inkrecognizercontext-class.md) для установки контекстов.

Можно передать строковые значения имен во входных областях, определенных в перечислении [**инпутскопе**](/windows/win32/api/inputscope/ne-inputscope-inputscope) , в свойство [**фактоид**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkrecognizercontext-get_factoid) , разделенное на открывающий объект (! и заключение). Например, чтобы задать для контекста объекта [**рекогнизерконтекст**](inkrecognizercontext-class.md) смещение к символам, используемым в URL-адресе, используйте синтаксис, показанный в следующих \# примерах на языке C:


```C++
theRecoContext.Factoid = "(!IS_URL)";
```



> [!Note]  
> Области ввода, как определено в перечислении [**инпутскопе**](/windows/win32/api/inputscope/ne-inputscope-inputscope) , заменяют фактоидс, которые были доступны в предыдущих версиях пакета SDK для Windows XP Tablet PC Edition, хотя эти фактоидс продолжат работать для обеспечения обратной совместимости.

 

В следующем \# примере на языке C задается свойство [**фактоид**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkrecognizercontext-get_factoid) для почтовых индексов:


```C++
theRecognizerContext.Factoid = "(!IS_ADDRESS_POSTALCODE)";
```



Вы можете комбинировать области ввода, используя синтаксис регулярных выражений для рукописного ввода. Дополнительные сведения об использовании синтаксиса регулярных выражений см. [в разделе Пользовательские области ввода с регулярными выражениями](custom-input-scopes-with-regular-expressions.md).

Можно установить флаги распознавания для объекта [**рекогнизерконтекст**](inkrecognizercontext-class.md) , чтобы влиять на поведение распознавателя. Одним из таких флагов является флаг **приведения** в [](/windows/desktop/api/msinkaut/ne-msinkaut-inkrecognitionmodes) перечислении инкрекогнитионмодес **рекогнизерконтекст**. Флаг **приведение** заставляет распознаватель вернуть результат, соответствующий определению фактоид, который задан. Например, если у вас есть форма, для которой пользователь должен ввести числовое количество, может быть полезно задать **значение фактоид, \_** а также задать для свойства [**рекогнитионфлагс**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkrecognizercontext-get_recognitionflags) значение **приведение**. В этом экземпляре флаг **приведения** гарантирует, что распознаватель возвращает только числа.

В следующем \# примере на языке C задается свойство [**Рекогнитионфлагс**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkrecognizercontext-get_recognitionflags) для **приведения**:


```C++
theRecognizerContext.RecognitionFlags = RecognitionModes.Coerce;
```



Однако при принятии решения о задании флага **приведение** следует соблюдать осторожность. Флаг заставляет распознаватель соответствовать только определению фактоид. Например, если задать для параметра значение — \_ Телефон \_ фуллтелефоненумбер ввода и флаг **приведение** , то распознаватель возвращает результаты, точно соответствующие определению \_ только для телефонной \_ фуллтелефоненумбер входной области. Если пользователь записывает "911" с \_ \_ входной областью фуллтелефоненумбер телефона и установленным флагом **приведение** , распознаватель может вернуть пустую строку или случайную строку в формате (XXX) XXX-XXXX (где X — цифра). Формат XXX не соответствует определению параметра — \_ \_ Phone фуллтелефоненумбер фактоид, хотя это допустимый номер телефона.

Список поддерживаемых форматов для каждой области ввода см. в справочнике по [**инпутскопе**](/windows/win32/api/inputscope/ne-inputscope-inputscope) .

Чтобы вернуть поле в значение по умолчанию для распознавателя, установите для параметра фактоид значение \_ по умолчанию, как показано в следующем примере на языке C \# :


```C++
theRecgonizerContext.Factoid = "(!IS_DEFAULT)";
```



Для приложений, использующих элемент управления [InkEdit](inkedit-control-reference.md) , задайте тип фактоид для элемента управления, указав:


```C++
InkEdit1.Factoid = "(!IS_INPUTSCOPE)"
```



Где `IS_INPUTSCOPE` — имя области ввода, которую необходимо применить.

Элемент управления [InkEdit](inkedit-control-reference.md) не предоставляет объект [**рекогнизерконтекст**](inkrecognizercontext-class.md) . Вы по-прежнему можете назначить контекст с помощью свойства [**фактоид**](/windows/desktop/api/inked/nf-inked-iinkedit-get_factoid) элемента управления InkEdit, но нельзя установить флаг **вордмоде** .

 

 
