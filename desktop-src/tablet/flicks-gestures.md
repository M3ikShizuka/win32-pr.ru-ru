---
description: Windows В состав Vista входит набор из восьми основных жестов жестов. Жесты — это быстрые, линейные перемещения пера, связанные с действиями прокрутки и командами.
ms.assetid: 004c7d76-90a9-4506-a70b-dbf8f9e1c616
title: Жесты жестов
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 37e7d53c42eb178900ce22b7890febcfd1c6aca95f2257b0c5ed06eb20173b79
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119936522"
---
# <a name="flicks-gestures"></a>Жесты жестов

Windows В состав Vista входит набор из восьми основных *жестов* жестов. Жесты — это быстрые, линейные перемещения пера, связанные с действиями прокрутки и командами.

## <a name="flick-details"></a>Сведения о жесте

Функция жестов предоставляет пользователю новый способ взаимодействия с планшетным ПК, позволяя выполнять общие действия, предоставляя быстрые жесты с помощью пера. Жесты сосуществование с и не нарушают нормальные действия пользователя, такие как левое и правое касания, прокрутка и рукописный ввод.

*Жест* — это однонаправленный жест пера, который требует от пользователя связаться с дигитайзером при быстром движении. Жесты характеризуются высокой скоростью и высокой степенью равномерности. Жест определяется по направлению. Жесты можно создавать в восьми направлениях, соответствующих количеством элементов и вспомогательных компасов.

Действие *или* сочетание *жеста* — это действие или ярлык, выполненные в ответ на жест. Жесты сопоставлены с действиями. На следующем рисунке показана схема восьми жестов пером, соответствующих действиям жестов.

![Иллюстрация, показывающая карту жестов](images/2647eb2d-36d0-4610-b923-fa3530d1e640.jpg)

Когда пользователь перемещает перо по дигитайзеру планшетного ПК, оборудование создает пакеты с перьевым вводом, которые направляются в подсистему перьевого ввода платформы Tablet PC. как правило, если перо используется в качестве замены мыши, подсистема ввода с помощью пера принимает эти пакеты и отправляет их, возможно, с изменениями, в User32, Windows компонент, отвечающий за обработку ввода мыши. Если перо используется на поверхности рукописного ввода, то вместо создания пакетов мыши отображаются рукописные данные.

Подсистема распознавания жестов реализуется в подсистеме ввода с помощью пера. Обнаружение жестов начинается с пера и продолжается до того, как:

1) Последовательность полученных пакетов не может быть многофункциональной или

2) выполняется перо.

Хотя происходит обнаружение жестов, пакеты с перьевым записываются и не отправляются в систему. Это необходимо сделать, так как отправка пакетов может повлиять на выполняемое действие жеста. Например, отправка пакетов во время жеста, сопоставленного с действием копирования, приведет к отправке выбранного значения, что означает, что копирование на момент отправки действия не будет выполняться.

Когда пакеты передаются в подсистему ввода с помощью пера, процедура обнаружения жестов вычисляет метрики по длине, скорости, времени и кривизне выполняемого движения. При каждом поступлении пакета подсистема обнаружения обновляет каждую из этих метрик. Как только метрики выходят за пределы того, что составит жест, обнаружение жестов завершается и пакеты отправляются через.

## <a name="where-flicks-are-detected"></a>Где обнаруживаются жесты

Жесты жестов становятся возможными в том, что перетаскивание обычно выполняется довольно медленно. Пользователь должен сначала выбрать целевую точку перетаскивания, выполнить перетаскивание, а затем указать конечную точку. Обычно это займет слишком много времени, чтобы быть в качестве жеста. Однако при вводе рукописных фрагментов на поверхности можно быстро определить, что жесты происходят часто. распространенным примером является пересечение 't. Таким же по умолчанию обнаружение жестов отключено для поверхностей рукописного ввода и включается в масштабе всей системы.

## <a name="focus-issues"></a>Проблемы с фокусом

После обнаружения жеста начинается последовательность событий, которая в конечном итоге приводит к системе, выполняющей определенное действие в ответ на произошедшее произдвижение. Во первых, подсистема обнаружения в подсистеме ввода с помощью пера определяет, в какое окно нужно отправлять жест. Обычно это окно, которое имеет фокус, но есть исключения. Для жестов прокрутки жест передается в окно, над которым произошло движение. Обратите внимание, что это не обязательно окно с фокусом. При отправке жеста в окно, не имеющее фокуса, фокус не меняется на это окно.

## <a name="flick-actions"></a>Действия жестов

После определения целевого окна это окно может работать с самим жестом в зависимости от поведения по умолчанию или программируемого события. Приложения могут отвечать на наиболее подходящее действие в зависимости от приложения, направления и расположения жеста. Например, в приложении-сопоставлении жесты вверх и вниз могут уменьшаться или уменьшаться вместо вертикальной прокрутки, как ожидалось в поведении по умолчанию.

Чтобы предупредить приложение о том, что произошел жест, в него отправляется сообщение окна. Это окно сообщения содержит как начальную точку жеста, так и направление жеста. Если приложение обрабатывает это сообщение в окне, подсистема ввода с помощью пера не предпринимает дальнейшие действия.

После того как жест будет обнаружен, визуальная обратная связь, представляющая действие жеста, отображается на экране. Эти отзывы служат двум целям. Во первых, он подтверждает пользователю, что жест был успешным. Во вторых, он напоминает пользователю, какое действие было выполнено, помогая пользователю соединить направление движения с соответствующим действием.

Обратная связь состоит из двух частей. значок, представляющий действие, и метку, содержащую имя действия. Метка отображается под значком. Обратная связь отображается сразу после обнаружения жеста. Несмотря на то, что приложения могут настраивать поведение в ответ на жесты, обрабатывая сообщение многофункционального окна, приложение не может отключить или изменить реакцию на жесты.

Предполагается, что большинство приложений не будет поддерживать жесты, поэтому не будет обрабатывать сообщение окна, описанное выше. Если сообщение не обрабатывается, подсистема ввода пера будет предпринимать дальнейшие действия. Сначала выполняется поиск действия, связанного с направлением обнаруженного жеста. Далее будут выполнены действия (описанные в таблице ниже), чтобы целевое окно выполнило это действие. Для многих действий, выполняемых по жестам, это включает в себя отправку команды приложения, но некоторые реализуемые действия не поддерживают.

## <a name="processing-application-commands"></a>Обработка команд приложения

Приложение должно отвечать на любые команды приложения, которые потенциально могут быть назначены жесту жеста. если приложению не удается ответить на сообщение с [**\_ \_ пером планшета wm**](wm-tablet-flick-message.md), Windows Vista следует отправить соответствующее уведомление [**wm \_ аппкомманд**](/windows/desktop/inputdev/wm-appcommand) , а затем уведомление [**wm \_ KEYDOWN**](/windows/desktop/inputdev/wm-keydown) .

Ниже приведен список команд приложения, которые могут быть назначены жестам, с сообщением о нажатии для резервного копирования, которое может быть отправлено.



| Команда                                  | Нажатие клавиш резервного копирования  |
|------------------------------------------|-------------------|
| \_назад в БРАУЗЕРЕ аппкомманд \_<br/> | Нет<br/>   |
| АППКОММАНД \_ браузер \_ пересылки<br/>  | Нет<br/>   |
| \_копирование аппкомманд<br/>              | CTRL+C<br/> |
| АППКОММАНД \_ Вставить<br/>             | CTRL+V<br/> |
| \_Отмена аппкомманд<br/>              | CTRL+Z<br/> |
| АППКОММАНД \_ Удаление<br/>            | DEL<br/>    |
| АППКОММАНД \_ Вырезать<br/>               | CTRL+X<br/> |
| АППКОММАНД \_ Открыть<br/>              | CTRL+O<br/> |
| АППКОММАНД \_ Печать<br/>             | CTRL+P<br/> |
| АППКОММАНД \_ сохранить<br/>              | CTRL+S<br/> |
| АППКОММАНД \_ Redo<br/>              | CTRL+Y<br/> |
| АППКОММАНД \_ Закрыть<br/>             |                   |



 

Такие команды, как копирование, вставка, вырезание и удаление, могут быть направлены к выделенному фрагменту или к объекту, расположенному на основе жеста жеста. Если выбор отсутствует, можно использовать данные в [**структуре многофункциональной \_ точки**](/windows/desktop/api/tabflicks/ns-tabflicks-flick_point) , чтобы определить, какой объект, возможно, был целевым объектом команды редактирования.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Справочник по API жестов](flicks-api-reference.md)
</dt> <dt>

[Реагирование на жесты жестов](/previous-versions//dd356077(v=vs.85))
</dt> </dl>

 

