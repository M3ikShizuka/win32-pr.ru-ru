---
description: Можно определить и назначить пользовательские области ввода, используя синтаксис регулярных выражений для рукописного ввода, понятный некоторым распознавателям рукописного ввода Майкрософт.
ms.assetid: e3afe735-eca8-4fda-bd5b-cc0ab0b6a872
title: Справочник по синтаксису регулярных выражений
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 23c0de50ff37795032719d9bc90ee81891324ba9
ms.sourcegitcommit: 3bdf30edb314e0fcd17dc4ddbc70e4ec7d3596e6
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/10/2021
ms.locfileid: "104273197"
---
# <a name="regular-expression-syntax-reference"></a>Справочник по синтаксису регулярных выражений

Можно определить и назначить пользовательские области ввода, используя синтаксис регулярных выражений для рукописного ввода, понятный некоторым распознавателям рукописного ввода Майкрософт. Синтаксис представляет собой подмножество [реализации языка регулярных выражений](/documentation/?url=%2flibrary%2fcpgenref%2fhtml%2fcpconRegularExpressionsLanguageElements.asp%3fframe%3dtrue) в платформа .NET Framework.

Существуют некоторые различия в способах использования регулярных выражений рукописного ввода и способах использования других типов регулярных выражений. Синтаксис рукописного ввода используется для указания точной строки, которая будет соответствовать механизму распознавания, а не подстроке. Например, регулярное выражение s ( \[ a-z \] +) p возвратит совпадение для "полный курс", "останавливаться", "Step" и "есофагус". В то же время, эквивалентное регулярное выражение для рукописного ввода, например s (! — \_ онечар) + p, будет соответствовать "полный курс" и "останавливаться", но не "пошаговый" и "есофагус".

Регулярные выражения для рукописного ввода не поддерживают неразрывные пробелы в регулярных выражениях. Это значит, что нельзя использовать сущность "nbsp" в регулярном выражении рукописного текста.

В следующих разделах более подробно описан синтаксис.

## <a name="valid-operators"></a>Допустимые операторы

Следующие операторы допустимы для создания регулярных выражений для определения областей ввода для распознавателей рукописного ввода.



| Оператор      | Описание                                                                           |
|---------------|---------------------------------------------------------------------------------------|
| \*<br/> | Постфиксный унарный оператор, обозначающий ноль или более вхождений операнда.<br/> |
| +<br/>  | Постфиксный унарный оператор, обозначающий одно или несколько вхождений операнда.<br/>  |
| ?<br/>  | Постфиксный унарный оператор, обозначающий ноль или одно вхождение операнда.<br/>   |
| \|<br/> | Бинарный оператор инфиксные значение "или".<br/>                                        |
| ()<br/> | Используется для группирования элементов.<br/>                                                       |



 

Реализация регулярных выражений в Майкрософт для распознавателей рукописного ввода позволяет выполнять повторяющиеся приложения постфиксных унарных операторов. Например, a \* \* = (а \* ) \* = a \* , b?? = (b?)? = b?. Они также разрешают непоследовательные повторы, например: a \* ? \* = ((а \* )?) \* = \* \* a \* . Это отличается от платформа .NET Framework регулярных выражений, которые разрешают только? оператор, который должен повторяться.

Другое отличие от платформа .NET Framework регулярных выражений заключается в том, что регулярные выражения для рукописного ввода не поддерживают пустое выражение, обозначенное пустой парой скобок ().

> [!Note]  
> Для регулярных выражений рукописного ввода поддерживаются только символы кодовой страницы 1252.

 

## <a name="using-input-scopes"></a>Использование областей ввода

Также можно использовать набор стандартных областей ввода, которые определены как часть функции [**сетинпутскопе**](/windows/win32/api/inputscope/nf-inputscope-setinputscope) в регулярных выражениях. Например, значение Month (числовое) — это \_ \_ месяц даты. Синтаксис для указания области ввода как части регулярного выражения заключается в начале перечислимого значения области ввода с открывающей круглой скобкой и восклицательным знаком, (! и поставьте закрывающую круглую скобку,) в конце. Пример:

(! Является \_ \_месяц даты)

Если объединить \_ область ввода по умолчанию, индексами ее с любой другой областью ввода, то этот распознаватель может вернуть любое одно выражение, которое поддерживает модель языка по умолчанию (например, одно слово из системного словаря или даты) с знаками препинания или без них, или любое значение, которое соответствует остальной части регулярного выражения, переданного распознавателю.

> [!Note]  
> Следующие члены [**сетинпутскопе**](/windows/win32/api/inputscope/nf-inputscope-setinputscope) не поддерживаются в регулярных выражениях: \_ фраселист, является \_ REGULAREXPRESSION, является \_ SRGS, является \_ XML.

 

## <a name="unsupported-operators"></a>Неподдерживаемые операторы

Следующие операторы регулярных выражений не поддерживаются при создании регулярных выражений рукописного ввода.



| Оператор                                     | Описание                                                         |
|----------------------------------------------|---------------------------------------------------------------------|
| .<br/>                                 | Символ точки.<br/>                                        |
| \[\]<br/>                              | Квадратные скобки. Используйте круглые скобки для группирования элементов.<br/>     |
| {}<br/>                                | Фигурные скобки.<br/>                                          |
| (?\# Комментарий) и \# \[ комментарий\]<br/> | Примечания.<br/>                                                |
| $<br/>                                 | Знак доллара.<br/>                                   |
| ^<br/>                                 | Знак крышки.<br/>                                         |
| -<br/>                                 | Дефисный символ. Необходимо или ( \| ) вместе со всеми наборами элементов.<br/> |



 

## <a name="escaping-characters"></a>Экранирование символов

Обычные символы, отличные от тех, которые перечислены в следующей таблице, совпадают. То есть "a" в регулярном выражении указывает, что входные данные должны соответствовать "a".

Еще одно существенное различие в написании регулярных выражений рукописного ввода заключается в том, что в регулярном выражении можно только экранирование ограниченного набора символов. В следующей таблице приведен допустимый набор символов, которые можно экранировановать. Любая другая попытка экранирования символа приведет к ошибке, вызываемой распознавателем.



| Знак       |
|-----------------|
| \\\*<br/> |
| \\+<br/>  |
| \\?<br/>  |
| \\(<br/>  |
| \\)<br/>  |
| \\\|<br/> |
| \\\\<br/> |
| \\!<br/>  |
| \\.<br/>  |
| \\\[<br/> |
| \\\]<br/> |
| \\^<br/>  |
| \\{<br/>  |
| \\}<br/>  |
| \\$<br/>  |
| \\\#<br/> |



 

 

 