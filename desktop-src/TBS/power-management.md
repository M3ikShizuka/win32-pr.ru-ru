---
title: Управление питанием (базовые службы TPM)
description: TBS получает события управления питанием.
ms.assetid: 21f76bea-a313-46b7-99b3-422f17376a5a
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 71e21f2c6a2292b7d49fae3b15691703fa34667a
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127243805"
---
# <a name="power-management-tpm-base-services"></a>Управление питанием (базовые службы TPM)

TBS получает события управления питанием. При получении свидетельства о том, что доверенный платформенный модуль или другие части платформы собирается войти в состояние электропитания, при котором выполнение будет прервано или состояние доверенного платформенного модуля будет потеряно, TBS проверяет, может ли выполнение выполняемой в данный момент команды завершиться, прежде чем система выдаст питание. Как правило, TBS позволяет выполнять команды короткой и средней длительности, но отменяет команды длительной длительности. После возврата команды TBS перестает отправлять новые команды доверенному платформенному модулю и готовится к переходу в спящий режим. После восстановления питания TBS возвращает результат команды вызывающему объекту, а затем продолжает обработку ожидающих команд TBS. Код управления питанием TBS выполняется асинхронно, поэтому он может обрабатывать запросы управления питанием даже в случае, если доверенный платформенный модуль обрабатывает длинную команду.

Когда компьютер переходит в состояние сна, включая S3 (спящий режим) и S4 (спящий режим), доверенный платформенный модуль выключен. Поэтому все неустойчивые состояния TPM теряются. Перед вводом этих состояний Ожидается, что программное обеспечение приложения готовится к утрате временных состояний доверенного платформенного модуля. Когда система возвращается из состояния сна, TBS синхронизируется с доверенным платформенным модулем, чтобы состояние TBS соответствовало состоянию доверенного платформенного модуля. Программному обеспечению может потребоваться повторное выдача команд, которые были прерваны.

 

 




