---
title: Аннотация схемы значений
description: Аннотация схемы значений
ms.assetid: f7c9304a-0eed-4a73-ab06-56723f3cfa5d
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 32f378742ce01458d930ee510baf4c6317f2e182cdd41642c4d22928d9777fe4
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119052247"
---
# <a name="value-map-annotation"></a>Аннотация схемы значений

С помощью аннотации карты значений можно использовать строку сопоставления, чтобы указать, каким образом индекс изображения элемента в представлении списка или дерева соответствует его роли или состоянию. Например, строка сопоставления может указывать, что индекс изображения представления списка 0 сопоставляется с ролью флажка, а индекс изображения 1 соответствует роли переключателя.

Можно также использовать заметку "схема значения" для указания строк, которые сопоставляются с числовыми значениями на ползунке.

## <a name="when-to-use-this-technique"></a>Когда следует использовать этот метод

Используйте заметку "схема значений" в следующих ситуациях.

-   Когда рисуемое владельцем представление списка или представление в виде дерева включает в себя использование изображений и необходимо предоставить настраиваемое описание (свойство [**описания**](description-property.md) ) на основе этого изображения. На следующем рисунке приведен пример.

    ![Иллюстрация меню "Пуск", где значки предоставляют визуальные подсказки для содержания](images/iconlist.gif)

-   Когда рисуемое владельцем представление списка или элемент управления представлением в виде дерева использует изображения, чтобы элементы дерева или списка действовали как простые элементы управления, обычно флажки или переключатели, и необходимо сопоставлять изображение с ролью. На следующем снимке экрана показан пример.

    ![снимок экрана параметров Internet Explorer для установки значения флажков и переключателей](images/customlist.gif)

-   При использовании ползунка для выбора значения, которое может быть определено как отличное от простого целого числа, как показано на следующем снимке экрана, где параметр разрешения экрана описывается строкой.

    ![снимок экрана: ползунок, используемый для установки разрешения экрана](images/slider.gif)

С помощью аннотации карты значений строка сопоставления указывает, как индекс изображения списка или дерева соответствует его роли или состоянию. Или может указывать, как числовое значение ползунка соответствует строке. Например, строка сопоставления может указывать, что индекс изображения представления списка 0 сопоставляется с ролью флажка, а изображение с индексом 1 соответствует роли переключателя. Используйте [**иаккпропсервицес:: сесвндпропстр ()**](/windows/desktop/api/Oleacc/nf-oleacc-iaccpropservices-sethwndpropstr) , чтобы присоединить строку сопоставления к элементу управления.

Так как для поддержки сопоставления значений требуются знания конкретного элемента управления, существует ограниченное число элементов управления и свойств, которые поддерживают заметку карты значений, включая карты значений ползунков, представления списков и представления в виде дерева.

## <a name="slider-value-map"></a>Схема значения ползунка

**PropID \_ ACC- \_ VALUEMAP** содержит сопоставление из внутренних положений ползунка со строками, доступными для чтения человеком. Это свойство поддерживается прокси-сервером Slider Oleacc.dll. Если текущее значение ползунка находится в карте значений, соответствующая строка будет предоставляться как значение вместо строки процента по умолчанию (например, "50").

## <a name="list-view-and-tree-view"></a>Представление списка и представление в виде дерева

**PropID \_ ACC \_ ролемап**, **PropID \_ ACC \_ статемап** и **PropID \_ ACC \_ дескриптонмап** предоставляют сопоставления между индексами изображений состояний и значениями ролей и состояний. Эти карты позволяют сопоставлять индексы изображений с соответствующими ролями (обычно в [**системе роли \_ \_**](object-roles.md) или [**системой роли System \_ \_ чеккбуттон**](object-roles.md)) и в дополнительных битах состояния (обычно в [**\_ системе \_ состояния**](object-state-constants.md)).

Дополнительные сведения об аннотировании карт значений см. в следующих разделах:

-   [Использование заметки с картой значений](using-value-map-annotation.md)
-   [Пример заметки к карте значений](value-map-annotation-sample.md)

## <a name="annotation-map-format"></a>Формат отображения заметки

В следующей таблице описаны поля, которые включены в карту заметок.



| Поле               | Описание                                                                                                                                                                                                                                                                   |
|---------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Конкретного                 | Указывает, что используется определенная схема кодирования. Для будущих схем кодирования могут поддерживаться дополнительные префиксы.                                                                                                                                                          |
| Символ разделителя | Обычно это двоеточие (:) используется, но может быть другим символом, кроме **null** или пустого пространства. Поскольку этот символ будет использоваться в качестве разделителя для остальных полей, он не может использоваться как часть значения на карте.                                               |
| 0, 1 или 2          | Значение, указывающее, какой ключ используется. Для представлений в виде дерева и представления списка и сопоставлений состояний этот ключ может иметь значение 0 (индекс изображения), 1 (индекс изображения состояния) или 2 (индекс изображения оверлея). Для ползунков и других элементов управления, не предлагающих выбора ключей, это значение должно быть равно 0. |
| Символ разделителя | :                                                                                                                                                                                                                                                                             |
| Пары "ключ — значение"     | Каждая пара состоит из строки ключа и символа-разделителя. Строка ключа является числом и может быть в десятичном или шестнадцатеричном формате (с начальным префиксом "0x").                                                                                                            |
| Строка значения        | Для карт значений это строка. Для сопоставлений ролей и состояний это число (десятичное или шестнадцатеричное).                                                                                                                                                                         |
| Символ разделителя | :                                                                                                                                                                                                                                                                             |



 

Например, схема может выглядеть следующим образом:


```C++
A:0:0:Cold:1:Warm:3:Hot:
```



Когда эта схема значений применяется к элементу управления "ползунок", значение "тепло" будет предоставляться, когда ползунок находится в позиции 1. Так как значение 2 не включено в этот пример, будет предоставлено значение по умолчанию для этой должности. Для ползунка значение по умолчанию равно процентному значению, например 33.

 

 




