---
title: Регистрация функции-обработчика
description: Клиентские приложения получают Виневентс в функции обратного вызова Виневентпрок. Действия, выполняемые функцией обратного вызова, определяются приложением, но синтаксис должен быть указан в прототипе.
ms.assetid: 7e999335-6a41-4d22-82ef-1a8dd6cb656e
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4c444d2ee291cb07386e775a649ba0c3d42486c45b70e4d3f4629b9b67274f89
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118564654"
---
# <a name="registering-a-hook-function"></a>Регистрация функции-обработчика

Клиентские приложения получают Виневентс в функции обратного вызова [*виневентпрок*](/windows/desktop/api/Winuser/nc-winuser-wineventproc) . Действия, выполняемые функцией обратного вызова, определяются приложением, но синтаксис должен быть указан в прототипе.

Прежде чем он сможет получать события, необходимо зарегистрировать функцию, вызвав [**сетвиневенсук**](/windows/desktop/api/Winuser/nf-winuser-setwineventhook). Клиент может вызвать **сетвиневенсук** несколько раз, чтобы зарегистрировать различные функции-обработчики, или задать дополнительные события для ранее зарегистрированной функции обработчика.

При вызове [**сетвиневенсук**](/windows/desktop/api/Winuser/nf-winuser-setwineventhook) клиент указывает, какие события должны быть получены, и как их получить. Клиент может выбрать:

-   Получение всех событий или определенного набора событий.
-   Получение событий из всех потоков или из определенного потока.
-   Получение событий из всех процессов или из определенного процесса.
-   Обработка событий в процессе или вне процесса.

При создании события, удовлетворяющего заданным критериям, система вызывает функцию обратного вызова [*виневентпрок*](/windows/desktop/api/Winuser/nc-winuser-wineventproc) клиента (или "процедура обработчика"). Параметры, получаемые функцией-обработчиком, сообщают клиенту о окне, объекте и возможном дочернем элементе, создавшем событие. Клиент использует эти параметры в вызове получения объекта, например [**акцессиблеобжектфромевент**](/windows/desktop/api/Oleacc/nf-oleacc-accessibleobjectfromevent).

 

 




