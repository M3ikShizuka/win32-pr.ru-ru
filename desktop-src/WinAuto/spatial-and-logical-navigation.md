---
title: Пространственное и логическое перемещение
description: Клиенты получают сведения об объекте, который пространственно или логически близк к другому объекту в том же контейнере путем вызова IAccessible Аккнавигате и указания одной из констант навигации.
ms.assetid: a1ebb50e-76cf-472d-bb0f-3f5bf5ed30d5
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9b9e49772a267e49d723a04005dcbc8a369510b3
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "105710339"
---
# <a name="spatial-and-logical-navigation"></a>Пространственное и логическое перемещение

Клиенты получают сведения об объекте, который пространственный или логически близок к другому объекту в том же контейнере путем вызова метода [**IAccessible:: аккнавигате**](/windows/desktop/api/Oleacc/nf-oleacc-iaccessible-accnavigate) и указания одной из [констант навигации](navigation-constants.md).

Клиенты *пространственной навигации* переходят к объекту в зависимости от его расположения на экране. Клиенты переходят вверх, вниз, влево или вправо с текущего объекта, чтобы получить сведения о другом объекте в том же контейнере.

При использовании *логических клиентов навигации* перейдите к объекту, который логически предшествует или следует за другим объектом, как определено сервером. Клиенты переходят ко всем дочерним объектам объекта двумя способами:

-   Запустите навигацию с помощью [**навдир \_ FIRSTCHILD**](navigation-constants.md) , а затем повторно вызовите метод с помощью [**навдир \_ Next**](navigation-constants.md).
-   Запустите навигацию с помощью [**навдир \_ LASTCHILD**](navigation-constants.md) и повторно вызовите метод с помощью [**навдир \_ Previous**](navigation-constants.md).

Независимо от направления переход посещает все видимые дочерние объекты, принадлежащие родительскому объекту. Невидимые дочерние элементы могут быть пропущены при логической навигации. Кроме того, каждый дочерний элемент посещается только один раз, и навигация не выполняет Циклическое перемещение. Это значит, что метод завершается ошибкой, если клиент пытается выполнить переход перед первым объектом или после последнего объекта.

Пространственные и логическая Навигация связаны. Например, на горизонтальной панели инструментов вызов метода с [**навдир \_ right**](navigation-constants.md) должен дать те же результаты, что и вызов метода с помощью [**навдир \_ Next**](navigation-constants.md).

Начальный объект навигации — это либо объект, либо его **дочерние объекты, за исключением случаев, когда** указан параметр [**Навдир \_ FIRSTCHILD**](navigation-constants.md) или [**навдир \_ LASTCHILD**](navigation-constants.md) . в этом случае переход должен начинаться с самого объекта.

Если клиент переходит из доступного объекта в одноуровневый элемент пользовательского интерфейса или если элемент **лвал** объекта *варстарт* имеет **чилдид \_ Self** , а указанный флаг в *Навдир* является любым флагом навигации, кроме навдир FIRSTCHILD или [**навдир \_ LASTCHILD**](navigation-constants.md), результатом в *пваренд* является либо дочерний идентификатор, либо интерфейс [**IDispatch**](idispatch-interface.md) . [**\_**](navigation-constants.md) Если *пваренд* содержит дочерний идентификатор, клиенты должны сначала получить указатель на интерфейс [**IAccessible**](/windows/desktop/api/oleacc/nn-oleacc-iaccessible) родителя, чтобы выполнить переход от этого элемента пользовательского интерфейса или получить дополнительные сведения о нем. Чтобы получить родительский объект, клиенты вызывают свойство [**IAccessible:: Get \_ аккпарент**](/windows/desktop/api/Oleacc/nf-oleacc-iaccessible-get_accparent) родственного объекта или начального объекта навигации.

Обратите внимание, что клиенты должны получить сведения обо всех плавающих объектах, вызвав функцию [**енумчилдвиндовс**](/windows/desktop/api/winuser/nf-winuser-enumchildwindows) . Так как плавающий объект не обрезается до родительского объекта, клиенты не имеют сведений о иерархических отношениях между двумя объектами на экране.

На следующем рисунке показан пример плавающего объекта, который не обрезается в его родительском объекте.

![снимок экрана открытого окна с плавающей точкой в более крупном окне Microsoft Developer Studio](images/floatob.gif)

## <a name="establishing-the-order-in-logical-navigation"></a>Задание порядка в логической навигации

При логической навигации разработчики, которые разрабатывает объекты, устанавливают связи между ними. Логическая Навигация является более субъективной, чем пространственный переход. Кроме того, порядок в логической навигации не совпадает с порядком, используемым для дочерних идентификаторов.

Для объектов, имеющих расположения на экране, разработчики сервера должны установить порядок навигации в том виде, в котором большинство пользователей будут считаться логическими. Например, в странах или регионах, говорящих на английском языке, это означает порядок сортировки слева направо и сверху вниз.

Логический порядок навигации должен быть параллельным порядком навигации с помощью клавиатуры. Например, диалоговое окно содержит кнопки **ОК** и **Отмена** и несколько элементов управления редактированием. Клиент, который вызывает метод [**IAccessible:: аккнавигате**](/windows/desktop/api/Oleacc/nf-oleacc-iaccessible-accnavigate) для перехода к следующему или предыдущему объекту в этом диалоговом окне, перемещается в том же порядке, что и нажатие клавиши TAB или SHIFT + TAB для перемещения фокуса между элементами.

Для объектов, не имеющих определенных расположений экрана, логический порядок выбирается разработчиками сервера, и разработчики клиентов не должны ничего предполагать о нем. Например, можно использовать невидимые объекты, такие как объекты, которые временно скрыты, для постороннего отображения видимых объектов.

 

 