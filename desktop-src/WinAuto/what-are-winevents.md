---
title: Что такое Виневентс
description: Серверные приложения и операционная система используют Виневентс для уведомления клиентов о возникновении изменений в системе или в пользовательском интерфейсе.
ms.assetid: 43723706-a173-4ddc-b135-824a7a8e8b40
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 97864f2b1464718680d781ad843345f1e46fce13
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "105700677"
---
# <a name="what-are-winevents"></a>Что такое Виневентс?

Серверные приложения и операционная система используют Виневентс для уведомления клиентов о возникновении изменений в системе или в пользовательском интерфейсе.

Поддержка WinEvent — это функция операционной системы Windows, которая предоставляет следующие возможности:

-   Простой способ регистрации клиентов для получения уведомлений о событиях.
-   Механизм внедрения клиентского кода в серверы.
-   Маршрутизация событий от серверов к заинтересованным клиентам.
-   Автоматическое создание событий для большинства элементов управления на основе **HWND**.

Создание событий для элементов управления на основе **HWND** особенно важно для разработчиков серверов. Время выполнения Microsoft Active Accessibility предоставляет прокси-серверы [**IAccessible**](/windows/desktop/api/oleacc/nn-oleacc-iaccessible) для всех стандартных элементов пользовательского интерфейса. Аналогичным образом система автоматически создает соответствующий Виневентс при каждом создании, удалении, перемещении, изменении размера или выполнении любых других действий с элементом управления на основе **HWND**.

Некоторые Виневентс, включая общие события **HWND** , автоматически поддерживаются системой. Другие типы Виневентс, такие как изменения состояния или события выбора, характерные для конкретного элемента управления, поддерживаются серверами Microsoft Active Accessibility.

При возникновении события, влияющего на пользовательский интерфейс, серверы могут рассылать уведомления о событиях всем заинтересованным клиентам, вызывая функцию [**нотифивиневент**](/windows/desktop/api/Winuser/nf-winuser-notifywinevent) . Вызов функции включает сведения, определяющие тип произошедшего события, а также элемент пользовательского интерфейса, к которому применяется событие. Клиенты могут использовать эти сведения, чтобы получить объект [**IAccessible**](/windows/desktop/api/oleacc/nn-oleacc-iaccessible) для элемента пользовательского интерфейса и получить дополнительные сведения.

Например, чтобы уведомить клиентов об изменении имени элемента управления, сервер вызывает [**нотифивиневент**](/windows/desktop/api/Winuser/nf-winuser-notifywinevent) и передает [**\_ объект события \_ NAMECHANGE**](event-constants.md) в параметре события. Система отвечает, определяя, какие клиенты зарегистрированы для получения этого события, и вызывает их зарегистрированную функцию обратного вызова. Если ни один клиент не зарегистрировался для события, вызов **нотифивиневент** на сервере сравним с "без операции", и влияние на производительность незначительно.

Серверы вызывают [**нотифивиневент**](/windows/desktop/api/Winuser/nf-winuser-notifywinevent) , чтобы объявить о событии системе после возникновения события. Они никогда не должны уведомлять систему о событии до наступления события.

Чтобы получать уведомления о событиях, клиенты регистрируют функции обработчика обратного вызова с помощью [**сетвиневенсук**](/windows/desktop/api/Winuser/nf-winuser-setwineventhook). Клиенты устанавливают одну функцию-ловушку для всех возможных событий или несколько функций-обработчиков для дискретных диапазонов событий. Дополнительные сведения см. [в разделе Регистрация функции-обработчика](registering-a-hook-function.md).

Когда Microsoft Active Accessibility уведомляется о событии, он вызывает все функции-ловушки, зарегистрированные для этого события, передавая параметры из [**нотифивиневент**](/windows/desktop/api/Winuser/nf-winuser-notifywinevent).

 

 




