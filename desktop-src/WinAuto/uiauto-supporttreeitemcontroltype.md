---
title: Тип элемента управления TreeItem
description: В этом разделе содержатся сведения о поддержке автоматизации пользовательского интерфейса Майкрософт для типа элемента управления TreeItem.
ms.assetid: 03d8a2a7-0b9a-41f8-a9d3-cebba9c25c63
keywords:
- Модель автоматизации пользовательского интерфейса, поддержка типа элемента управления TreeItem
- Модель автоматизации пользовательского интерфейса, тип элемента управления TreeItem
- Модель автоматизации пользовательского интерфейса, древовидная структура для типа элемента управления TreeItem
- Модель автоматизации пользовательского интерфейса, свойства для типа элемента управления TreeItem
- Модель автоматизации пользовательского интерфейса, шаблоны элементов управления для типа элемента управления TreeItem
- Модель автоматизации пользовательского интерфейса, события для типа элемента управления TreeItem
- Древовидные структуры, тип элемента управления TreeItem
- свойства, тип элемента управления TreeItem
- шаблоны элементов управления, тип элемента управления TreeItem
- события, тип элемента управления TreeItem
- Поддержка типа элемента управления TreeItem
- Тип элемента управления TreeItem
- типы элементов управления, древовидная структура для типа элемента управления TreeItem
- типы элементов управления, шаблоны элементов управления для типа элемента управления TreeItem
- типы элементов управления, поддержка TreeItem
- типы элементов управления, TreeItem
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4c837428a0aeef900779cfccf0a28b46aa276369
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "105710117"
---
# <a name="treeitem-control-type"></a>Тип элемента управления TreeItem

В этом разделе содержатся сведения о поддержке автоматизации пользовательского интерфейса Майкрософт для типа элемента управления **TreeItem** .

Тип элемента управления **TreeItem** представляет узел в контейнере дерева. Каждый узел дерева может содержать другие узлы, называемые дочерними узлами. Родительские узлы (т. е. те, которые содержат дочерние узлы) могут отображаться как в развернутом, так и в свернутом виде.

В следующих разделах определяется необходимая древовидная структура модели автоматизации пользовательского интерфейса, свойства, шаблоны элементов управления и события для типа элемента управления **TreeItem** . Требования к автоматизации пользовательского интерфейса применяются ко всем элементам управления "элемент дерева", в которых платформа или платформа пользовательского интерфейса интегрирует поддержку автоматизации пользовательского интерфейса для типов элементов управления и шаблонов элементов управления.

В этом разделе содержатся следующие подразделы.

-   [Типичная древовидная структура](#typical-tree-structure)
-   [Соответствующие свойства](#relevant-properties)
-   [Обязательные шаблоны элементов управления](#required-control-patterns)
-   [Обязательные события](#required-events)
-   [Замечания](#remarks)
-   [См. также](#related-topics)

## <a name="typical-tree-structure"></a>Типичная древовидная структура

В следующей таблице описывается типичный элемент управления и представление содержимого дерева модели автоматизации пользовательского интерфейса, относящиеся к элементам управления "элемент дерева", и показывается, что может содержаться в каждом представлении. Дополнительные сведения о дереве автоматизации пользовательского интерфейса см. в разделе [Общие сведения о дереве модели автоматизации пользовательского интерфейса](uiauto-treeoverview.md).



<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th>Представление элемента управления</th>
<th>Представление содержимого</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><ul>
<li>TreeItem
<ul>
<li>CheckBox (0 или 1)</li>
<li>Image (0 или 1)</li>
<li>Button (0 или 1)</li>
<li>TreeItem (0 или более)</li>
</ul></li>
</ul></td>
<td><ul>
<li>TreeItem
<ul>
<li>TreeItem (0 или более)</li>
</ul></li>
</ul></td>
</tr>
</tbody>
</table>



 

Элементы управления "элемент дерева" могут содержать ноль или более дочерних элементов дерева в представлении содержимого дерева модели автоматизации пользовательского интерфейса. Если элемент управления "элемент дерева" имеет функциональные возможности, помимо того, что представлено в шаблонах элементов управления, перечисленных ниже, элемент управления должен основываться на типе элемента управления [DataItem](uiauto-supportdataitemcontroltype.md) .

Элементы свернутого дерева не отображаются в представлении элемента управления или представлении содержимого до тех пор, пока они не станут развернуты и видимы (или их можно прокрутить на представление).

Представление элемента управления может содержать дополнительные сведения для элемента управления, включая связанное изображение или кнопку. Например, элемент в режиме структуры может содержать изображение, а также кнопку для развертывания или свертывания структуры. Эти объекты сведений не отображаются в представлении содержимого, поскольку данные уже представлены родительским элементом дерева.

Элементы дерева, выводимые с экрана, отображаются в представлениях элемента управления и содержимого дерева модели автоматизации пользовательского интерфейса и должны иметь свойство [**иуиаутоматионелемент:: куррентисоффскрин**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentisoffscreen) (или [**качедисоффскрин**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_cachedisoffscreen)) со значением **true**.

## <a name="relevant-properties"></a>Соответствующие свойства

В следующей таблице перечислены свойства модели автоматизации пользовательского интерфейса, значения или определения которых особенно важны для типа элемента управления **TreeItem** . Дополнительные сведения о свойствах модели автоматизации пользовательского интерфейса см. в разделе [Получение свойств элементов модели автоматизации пользовательского интерфейса](uiauto-propertiesforclients.md).



| Свойство модели автоматизации пользовательского интерфейса                                                                                              | Значение        | Примечания                                                                                                                                                                                         |
|---------------------------------------------------------------------------------------------------------------------|--------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**UIA \_ аутоматионидпропертид**](uiauto-automation-element-propids.md)                 | См. примечания.   | Значение этого свойства должно быть уникальным среди всех одноранговых элементов в необработанном представлении дерева модели автоматизации пользовательского интерфейса.                                                                                  |
| [**UIA \_ баундингректанглепропертид**](uiauto-automation-element-propids.md)       | См. примечания.   | Внешний прямоугольник, содержащий весь элемент управления.                                                                                                                                      |
| [**UIA \_ кликкаблепоинтпропертид**](uiauto-automation-element-propids.md)             | См. примечания.   | Это свойство должно возвращать расположение, из-за которого элемент дерева изменяет состояние выбора или делает его неизменным.                                                                                   |
| [**UIA \_ контролтипепропертид**](uiauto-automation-element-propids.md)                   | **TreeItem** | Это значение одинаково для всех инфраструктур пользовательского интерфейса.                                                                                                                                                 |
| [**UIA \_ исконтентелементпропертид**](uiauto-automation-element-propids.md)         | **TRUE**     | Элемент управления "элемент дерева" всегда включается в представление содержимого дерева модели автоматизации пользовательского интерфейса.                                                                                                       |
| [**UIA \_ исконтролелементпропертид**](uiauto-automation-element-propids.md)         | **TRUE**     | Элемент управления "элемент дерева" всегда включается в представление элемента управления дерева модели автоматизации пользовательского интерфейса.                                                                                                       |
| [**UIA \_ искэйбоардфокусаблепропертид**](uiauto-automation-element-propids.md)   | См. примечания.   | Если элемент управления может получать фокус клавиатуры, он должен поддерживать это свойство.                                                                                                                     |
| [**UIA \_ исоффскринпропертид**](uiauto-automation-element-propids.md)                   | См. примечания.   | Это свойство указывает, прокручивается ли элемент управления "элемент дерева" за пределы экрана.                                                                                                               |
| [**UIA \_ итемстатуспропертид**](uiauto-automation-element-propids.md)                     | См. примечания.   | Если элемент управления содержит состояние, которое обновляется динамически, это свойство должно поддерживаться таким образом, чтобы технология поддержки могла получать обновления при изменении состояния элемента. |
| [**UIA \_ итемтипепропертид**](uiauto-automation-element-propids.md)                         | См. примечания.   | Если элемент управления "элемент дерева" использует значок визуального элемента для указания того, что является определенным типом элемента, это свойство должно поддерживаться и должно указывать тип элемента.                                   |
| [**UIA \_ лабеледбипропертид**](uiauto-automation-element-propids.md)                       | **NULL**     | Элементы управления "Элемент дерева" получают метки автоматически.                                                                                                                                                         |
| [**UIA \_ локализедконтролтипепропертид**](uiauto-automation-element-propids.md) | См. примечания.   | Локализованная строка, соответствующая типу элемента управления TreeItem. Значение по умолчанию — "элемент дерева" для en-US или English (США).                                                           |
| [**UIA \_ намепропертид**](uiauto-automation-element-propids.md)                                 | См. примечания.   | Это свойство предоставляет текст, отображаемый для каждого элемента управления "Элемент дерева".                                                                                                                          |



 

## <a name="required-control-patterns"></a>Обязательные шаблоны элементов управления

В следующей таблице перечислены шаблоны элементов управления модели автоматизации пользовательского интерфейса, которые должны поддерживаться всеми элементами управления "элемент дерева". Дополнительные сведения о шаблонах элементов управления см. в разделе [UI Automation Control Patterns Overview](uiauto-controlpatternsoverview.md).



| Шаблон элемента управления/свойство шаблона                                                  | Поддержка/значение                     | Примечания                                                                                                                                                                                             |
|-----------------------------------------------------------------------------------|-----------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**IExpandCollapseProvider**](/windows/desktop/api/UIAutomationCore/nn-uiautomationcore-iexpandcollapseprovider)                 | Обязательно                          | Все элементы дерева должны поддерживать шаблон элемента управления [ExpandCollapse](uiauto-implementingexpandcollapse.md) , так как все элементы могут быть развернуты или свернуты.                                           |
| [**ExpandCollapseState**](/windows/desktop/api/UIAutomationCore/nf-uiautomationcore-iexpandcollapseprovider-get_expandcollapsestate) | Expanded, Collapsed или Leaf Node | Элементы дерева — это конечные узлы, если они не развернуты или свернуты.                                                                                                                                |
| [**IInvokeProvider**](/windows/desktop/api/UIAutomationCore/nn-uiautomationcore-iinvokeprovider)                                 | Зависит                           | Реализуйте шаблон элемента управления [Invoke](uiauto-implementinginvoke.md) , если элемент дерева может выполнить команду.                                                                                     |
| [**IScrollItemProvider**](/windows/desktop/api/UIAutomationCore/nn-uiautomationcore-iscrollitemprovider)                         | Зависит                           | Реализуйте шаблон элемента управления [скроллитем](uiauto-implementingscrollitem.md) , если контейнер дерева поддерживает шаблон элемента управления [Scroll](uiauto-implementingscroll.md) .                         |
| [**ISelectionItemProvider**](/windows/desktop/api/UIAutomationCore/nn-uiautomationcore-iselectionitemprovider)                   | Зависит                           | Реализуйте шаблон элемента управления [SelectionItem](uiauto-implementingselectionitem.md) , если возможен активный выбор, который сохраняется, когда пользователь возвращается в контейнер дерева. |
| [**селектионконтаинер**](/windows/desktop/api/UIAutomationCore/nf-uiautomationcore-iselectionitemprovider-get_selectioncontainer)    | Обязательно                          | Это свойство предоставляет один и тот же контейнер для всех элементов в контейнере.                                                                                                                      |



 

## <a name="required-events"></a>Обязательные события

В следующей таблице перечислены события автоматизации пользовательского интерфейса, которые должны поддерживать элементы управления "элемент дерева". Дополнительные сведения о событиях см. в разделе [UI Automation Events Overview](uiauto-eventsoverview.md).



| Событие автоматизации пользовательского интерфейса                                                                                                                                                | Примечания                                                                                                                          |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------|
| [**UIA \_ аутоматионфокусчанжедевентид**](uiauto-event-ids.md)                                                                   |                                                                                                                                |
| [**UIA \_**](uiauto-automation-element-propids.md) Событие изменения свойства баундингректанглепропертид.                              |                                                                                                                                |
| [**UIA \_**](uiauto-control-pattern-propids.md) Событие изменения свойства експандколлапсикспандколлапсестатепропертид. |                                                                                                                                |
| [**UIA \_ Invoke \_ инвокедевентид**](uiauto-event-ids.md)                                                                                  | Если элемент управления поддерживает шаблон элемента управления [Invoke](uiauto-implementinginvoke.md) , он должен поддерживать это событие.               |
| [**UIA \_**](uiauto-automation-element-propids.md) Событие изменения свойства исенабледпропертид.                                              | Если элемент управления поддерживает свойство « [**включено**](uiauto-automation-element-propids.md) », оно должно поддерживать это событие.       |
| [**UIA \_**](uiauto-automation-element-propids.md) Событие изменения свойства исоффскринпропертид.                                          | Если элемент управления поддерживает свойство [**исоффскрин**](uiauto-automation-element-propids.md) , он должен поддерживать это событие.     |
| [**UIA \_**](uiauto-automation-element-propids.md) Событие изменения свойства итемстатуспропертид.                                            | Если элемент управления поддерживает свойство [**итемстатус**](uiauto-automation-element-propids.md) , он должен поддерживать это событие.      |
| [**UIA \_**](uiauto-control-pattern-propids.md) Событие изменения свойства мултиплевиевкуррентвиевпропертид.                     | Если элемент управления поддерживает шаблон элемента управления [мултиплевиев](uiauto-implementingmultipleview.md) , он должен поддерживать это событие.   |
| [**UIA \_**](uiauto-automation-element-propids.md) Событие изменения свойства намепропертид.                                                        |                                                                                                                                |
| [**UIA \_ SelectionItem \_ елементаддедтоселектионевентид**](uiauto-event-ids.md)                                    | Если элемент управления поддерживает шаблон элемента управления [SelectionItem](uiauto-implementingselectionitem.md) , он должен поддерживать это событие. |
| [**UIA \_ SelectionItem \_ елементремоведфромселектионевентид**](uiauto-event-ids.md)                            | Если элемент управления поддерживает шаблон элемента управления [SelectionItem](uiauto-implementingselectionitem.md) , он должен поддерживать это событие. |
| [**UIA \_ SelectionItem \_ елементселектедевентид**](uiauto-event-ids.md)                                                    | Если элемент управления поддерживает шаблон элемента управления [SelectionItem](uiauto-implementingselectionitem.md) , он должен поддерживать это событие. |
| [**UIA \_ структуречанжедевентид**](uiauto-event-ids.md)                                                                               |                                                                                                                                |
| [**UIA \_**](uiauto-control-pattern-propids.md) Событие изменения свойства тогглетогглестатепропертид.                                 | Если элемент управления поддерживает шаблон элемента управления [Toggle](uiauto-implementingtoggle.md) , он должен поддерживать это событие.               |
| [**UIA \_**](uiauto-control-pattern-propids.md) Событие изменения свойства валуевалуепропертид.                                               | Если элемент управления поддерживает шаблон элемента управления [value](uiauto-implementingvalue.md) , он должен поддерживать это событие.                 |



 

## <a name="remarks"></a>Комментарии

Если элемент дерева содержит вложенные элементы, отличные от дочерних узлов структуры, поставщик должен тщательно и четко управлять сведениями о дочернем объекте. В модели автоматизации пользовательского интерфейса древовидная структура обрабатывается самой древовидной иерархией. При наличии одного или нескольких потомков, не являющихся структурными узлами, различия между ними и фактическими дочерними узлами структуры становятся ненеоднозначными.

## <a name="related-topics"></a>См. также

<dl> <dt>

**Зрения**
</dt> <dt>

[Общие сведения о типах элементов управления автоматизации пользовательского интерфейса](uiauto-controltypesoverview.md)
</dt> <dt>

[Общие сведения о модели автоматизации пользовательского интерфейса](uiauto-uiautomationoverview.md)
</dt> </dl>

 

 




