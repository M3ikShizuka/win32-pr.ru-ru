---
description: Динамическое распределение памяти
ms.assetid: 0ea1de35-34ea-4e94-b90d-0f89503cb3fb
title: Динамическое распределение памяти
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bfcc54a1b85f4fc39bf6383e05a2e6e535edd1d4
ms.sourcegitcommit: 95685061d5b0333bbf9e6ebd208dde8190f97005
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2021
ms.locfileid: "108088472"
---
# <a name="dynamic-memory"></a>Динамическое распределение памяти

## <a name="affected-platforms"></a>Затронутые платформы

**Клиенты (работающие как виртуальные машины)** — Windows Vista \| Windows 7  
**Серверы** — Windows Server 2008 R2 Hyper-V SP1  


## <a name="feature-impact"></a>Воздействие на функции

 **Серьезность** — низкая  
**Частота** — высокая  






## <a name="description"></a>Описание

На высоком уровне динамическая память Hyper-V является усовершенствованием управления памятью для роли Hyper-V, входящей в состав Windows Server 2008 R2 с пакетом обновления 1 (SP1). Он предназначен для использования в рабочей среде и позволяет клиентам достичь более высоких показателей плотности консолидации и виртуальной машины, одновременно оптимизируя использование памяти на физическом компьютере. Выделение статического выделения памяти сокращается, и при необходимости выделяется дополнительная память. Динамическая память влияет на разработчиков программного обеспечения, желающих обеспечить правильную работу программного обеспечения в среде виртуальной машины.

## <a name="usage-scenario"></a>Сценарии использования

Существует два сценария использования ключей, в которых динамическая память приходится играть в приложения на стороне главного приложения и на гостевых приложениях.

**Приложения на стороне сервера (средства управления)**

Старые средства, управляющие новым сервером Windows Server 2008 R2 с пакетом обновления 1 (SP1), не смогут получить доступ к новым параметрам динамическая память. Были разработаны новые API WMI и счетчики производительности для управления новыми параметрами динамическая память для виртуальных машин Hyper-V. Разработчики программного обеспечения, работающие с инструментами управления, должны воспользоваться преимуществами этих API и счетчиков для использования с Windows Server 2008 R2 с пакетом обновления 1 (SP1) с установленной ролью Hyper-V. Сведения об этих новых API-интерфейсах можно найти [в документации по поставщику WMI для Hyper-V на сайте MSDN](/previous-versions/windows/desktop/virtual/using-the-virtualization-wmi-provider).

**Приложения на стороне гостя**

Разработчики пишут программное обеспечение для использования внутри виртуальной машины, настроенной на использование динамическая память необходимо помнить, что память системы виртуальной машины больше не является постоянной. Следовательно, приложение должно освободить память, если она больше не нужна для того, чтобы другие приложения могут воспользоваться этим ресурсом.

Выделение памяти и освобождение ресурсов по-прежнему работают как обычные для пользовательских приложений. Динамическая память полностью прозрачна для большинства приложений конечных пользователей. Однако если разрабатываемое программное обеспечение использует счетчики производительности памяти на виртуальной машине, необходимо выполнить тщательное тестирование в среде с включенной динамическая память, чтобы гарантировать, что программное обеспечение вносит изменения в учетную запись выделения памяти гостевой операционной системы. Доступная память больше не является "статической" с точки зрения виртуальной машины.

## <a name="solutions"></a>Решения

Чтобы воспользоваться преимуществами динамическая память, на виртуальных машинах должны быть установлены обновленные службы Integration Services (SP1). Убедитесь, что все компьютеры, используемые для управления виртуальными машинами Hyper-V, используют последние версии Windows Server 2008 R2 с пакетом обновления 1 (SP1).

## <a name="links-to-other-resources"></a>Ссылки на другие ресурсы

-   [Блог о динамическая память в блоге по Hyper-V](https://blogs.technet.com/b/virtualization/archive/2010/03/18/dynamic-memory-coming-to-hyper-v.aspx)
-   [Использование поставщика WMI Hyper-V](/previous-versions/windows/desktop/virtual/using-the-virtualization-wmi-provider)

## <a name="disclaimer"></a>Отказ от ответственности

Информация, содержащаяся в этом документе, относится к предварительной версии программного продукта, которая может быть значительно изменена перед первым коммерческим выпуском. Таким образом, информация может не точнее описывать или отражать программный продукт при первой коммерческой выпуске. Этот документ является исключительно информационным. MICROSOFT MAKES NO WARRANTIES, EXPRESS OR IMPLIED, IN THIS DOCUMENT.

 

 
