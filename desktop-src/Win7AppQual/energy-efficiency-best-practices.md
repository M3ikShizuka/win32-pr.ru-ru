---
description: .
ms.assetid: 355abd0e-928e-442e-a724-855d9dd946fc
title: Рекомендации по эффективному энергопотреблению
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 04a9980d199e2d95c6dbd01c642a1f00f45e584c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105693686"
---
# <a name="best-practices-for-energy-efficiency"></a>Рекомендации по эффективному энергопотреблению

## <a name="platform"></a>Платформа

 **Клиенты** — Windows XP Windows Vista, Windows \| \| 7  

## <a name="description"></a>Описание

Портативные компьютеры под управлением Windows должны соответствовать нормативным требованиям к энергопотреблению, таким как, например, в программе США Energy Star (АНАЛИЗАТОРа защиты окружающей среды). Кроме того, в опросах видно, что более длительное время работы от аккумулятора остается тем, что пользователи чаще всего хотят и нуждаются в ноутбуках. Для удовлетворения потребностей клиентов портативные компьютеры Windows должны постоянно переходить к следующим областям:

-   Экономичность во всех сценариях использования, включая бездействующие рабочие нагрузки, воспроизведение DVD-дисков и мультимедиа, а также отраслевые тесты.
-   Время работы батареи мобильного ПК — для аппаратных платформ и для Windows

Платформа Windows является высоконадежной и обеспечивает быстрое включение и отключение производительности. Однако расширения, предоставляемые системами мобильных ПК, такие как службы, приложения, драйверы и другое программное обеспечение, могут существенно повлиять на производительность, надежность и эффективность энергопотребления.

Эффективность энергопотребления — это сложная проблема с факторами, влияющими на все элементы экосистемы ПК. Небольшие улучшения в нескольких сценариях могут повысить эффективность энергопотребления, но одно плохо работающее приложение, устройство или компонент системы могут значительно увеличить энергопотребление.

Оборудование и устройства формируют основу для повышения эффективности энергопотребления. Однако программное обеспечение приложения и службы также должно быть эффективным, чтобы обеспечить оптимальное время работы системы от аккумулятора. Каждый программный компонент в системе, включая операционную систему и добавленные в ценность приложения и службы, должен соответствовать основным рекомендациям по эффективному использованию. Одно некорректно работающее приложение или служба может снизить эффективность энергопотребления, достигнутую новейшим процессором, устройствами или оборудованием платформы. Дополнительные сведения о сроках действия аккумулятора и энергопотреблении см. в [руководстве по решениям для аккумулятора](https://docs.microsoft.com/windows-hardware/design/component-guidelines/battery-and-charging#).

Ниже перечислены принципы и компоненты, влияющие на время работы аккумулятора мобильных ПК.

**Характеристики аккумулятора**

-   Размер, тип и качество аккумулятора влияют на время работы батареи
-   Чем больше батарея, тем больше источник питания
-   Более крупные батареи являются более ресурсоемкими и более тяжелыми; пользователи предпочитают более легкие системы

**Компоненты оборудования**

-   Частота и глубина, по которым оборудование может переходить в более низкие состояния питания
-   Аппаратная поддержка более низких состояний питания
-   Оптимизация использования драйверов для экономичности

**Управление питанием на основе операционной системы**

-   Эффективность кода Windows при нагрузке и при простое
-   Уровень взаимодействия всех компонентов с управляемым управлением питанием Windows
-   Правильная конфигурация операционной системы для оптимизации управления питанием с помощью параметров политики электропитания

**Программное обеспечение и службы приложений**

-   Эффективность приложений, драйверов и служб при нагрузке и при простое
-   Уровень взаимодействия приложений с помощью управляемого управления питанием Windows
-   Программная квота системы или устройств для перехода в состояния низкого энергопотребления

Одно приложение или компонент службы может помешать системе добиться оптимального времени работы от аккумулятора. Несмотря на то что Windows предоставляет множество параметров конфигурации питания, предварительно установленное программное обеспечение или параметры политики электропитания на многих системах не оптимизированы для аппаратной платформы узла.

Распространенным способом оценки влияния предустановленного программного обеспечения на батарею является сравнение энергопотребления системы с чистой установкой Windows в сравнении с установкой Windows, включающей в себя программное обеспечение и службы, добавленные по значению. Несмотря на то, что чистая установка не представляет типичную платформу, которую изготовители оборудования направит клиентам, сравнение энергопотребления позволяет получить представление о экономичности предустановленного программного обеспечения.

## <a name="best-practices"></a>Рекомендации

Чтобы обеспечить оптимизацию приложения на платформах Windows, следуйте приведенным ниже рекомендациям при проектировании приложений и служб.

-   **Избегайте использования периодических таймеров с высоким разрешением**

<dl> Использование периодических таймеров с высоким разрешением (<10 ms) reduces the efficiency of processor power-management technologies.  
</dl>

-   **Вложения в оптимизацию производительности**

<dl> Каждая оптимизация производительности — это оптимизация времени работы батареи. Уменьшение количества требуемых ресурсов, таких как использование меньшего времени процессора или пакетирования или кластеризации на диске, позволяет системному оборудованию перестать действовать и переходить в режим низкого энергопотребления.  
</dl>

-   **Настройка политики управления питанием пользователей**

<dl> Windows Vista и более поздние версии облегчают пользователю выбор общего поведения системы в области энергосбережения или производительности. Приложение должно реагировать на изменения в политике управления питанием, сократить использование ресурсов или повысить производительность соответствующим образом. Например, приложение должно отключить фоновые действия, такие как индексирование или сканирование системы, когда пользователь выбрал схему Power энергосберегающая.  
</dl>

-   **Уменьшение использования ресурсов при питании компьютера от аккумулятора**

<dl> Приложение должно уменьшить использование ресурсов (например, частоту фонового обновления), когда система находится в питании от аккумулятора.  
</dl>

-   **Не отображать на экране, когда она отключена**

<dl> Отображение системы может быть отключено для экономии энергии. Приложение не должно выполнять ненужные графические изображения при отключенном дисплее, поскольку это приводит к потере системных ресурсов и электроэнергии.  
</dl>

-   **Избегайте опросов и цикличности в тесном цикле**

<dl> Высокая загрузка процессора снижает эффективность технологий управления питанием процессора, таких как состояния простоя процессора и состояния производительности процессора.  
</dl>

-   **Не запрещайте системе отключать дисплей или состояние простоя в спящий режим**

<dl> Приложение должно принимать разумные запросы к электропитанию с помощью API SetThreadExecutionState. Система должна делать эти запросы только в том случае, если критические операции должны задержать систему от выключения или автоматически переходить в спящий режим.  
</dl>

-   **Реагирование на распространенные события управления питанием**

<dl> Приложение должно регистрироваться и отвечать на распространенные события управления питанием, такие как изменения источника питания системы и уведомления о включении и выключении питания для экрана.  
</dl>

-   **Не включайте ведение журнала отладки по умолчанию. использовать вместо этого трассировку событий для Windows**

<dl> Периодическое ведение журнала отладки может препятствовать отключению диска.  
</dl>

## <a name="links-to-other-resources"></a>Ссылки на другие ресурсы

-   [Пошаговое руководств по решению аккумулятора](https://docs.microsoft.com/windows-hardware/design/component-guidelines/battery-and-charging#)
-   [Портал экономичности](https://www.microsoft.com/whdc/system/pnppwr/mobilepwr.mspx)
-   [Набор средств для оценки производительности Windows](https://www.microsoft.com/whdc/system/sysperf/perftools.mspx)

 

 



