---
description: .
ms.assetid: 3ad0c892-8b19-465d-af2f-9207f98e27b7
title: Удаление драйвера WPDUSB.SYS для переносных устройств Windows
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f1d602c8277a5c256332b3eaec6a383997d5c63d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105703023"
---
# <a name="removal-of-wpdusbsys-driver-for-windows-portable-devices"></a>Удаление драйвера WPDUSB.SYS для переносных устройств Windows

## <a name="affected-platforms"></a>Затронутые платформы

**Клиенты** — Windows 7  
**Серверы** — Windows Server 2008 R2  









## <a name="feature-impact"></a>Воздействие на функции

 **Серьезность** — низкая  
**Частота** -низкая  





## <a name="description"></a>Описание

Корпорация Майкрософт заменила компонент режима ядра в стеке драйверов USB для Windows Vista (WPDUSB.SYS) для портативных устройств Windows (WPD) с универсальным драйвером WINUSB.SYS. Связь с исходным драйвером WPDUSB.SYS была выполнена с помощью кода закрытого управления вводом-выводом (IOCTL). их поддержка также была удалена.

Любой потребитель этих кодов IOCTL будет отвечать за правильную интерпретацию и реализацию протокола передачи мультимедиа (MTP). В Windows Vista не поддерживалось использование этих кодов IOCTL приложениями сторонних производителей.

## <a name="manifestation-of-impact"></a>Влияние на манифесты

Любое приложение, которое зависит от доступности этих закрытых кодов IOCTL, больше не будет иметь доступа к устройствам MTP, подключенным к USB.

## <a name="mitigation"></a>Меры по снижению риска

Пользователи приложения, которые зависят от закрытых кодов IOCTL, должны использовать другое приложение (или обновленную версию приложения) для доступа к устройству MTP, подключенному к USB.

## <a name="solution"></a>Решение

Приложения должны использовать API портативных устройств Windows (WPD) для поиска и взаимодействия с любым устройством WPD. Несмотря на то что значительный процент устройств WPD применяет MTP для обмена данными с компьютером, WPD не ограничивается только устройствами MTP. Кроме того, если прямой доступ к устройству через частные запросы IOCTL будет ограничен приложением для взаимодействия только с устройствами, подключенными к USB, использование API-интерфейса WPD расширяет список вариантов подключения до других протоколов связи (например, Wi-Fi). В редких случаях, когда приложение должно быть совместимым с MTP, API-интерфейс WPD предоставляет сквозной механизм для необработанных команд MTP.

## <a name="leveraging-feature-capabilities"></a>Использование возможностей функций

API-интерфейс WPD поддерживается в Windows XP (с помощью пакета SDK формата Windows), Windows Vista и Windows 7. В реализации WPD в Windows 7 добавлена поддержка MTP через Bluetooth.

## <a name="links-to-other-resources"></a>Ссылки на другие ресурсы

[Портативные устройства Windows](../windows-portable-devices.md)

 

 
