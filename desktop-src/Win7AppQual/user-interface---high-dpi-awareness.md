---
description: .
ms.assetid: 5b753340-366c-44b3-87e9-19c580f1c5d5
title: 'Интерфейс пользователя: поддержка определения высоких значений DPI'
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6e93aeed452f421e8e38df8d6d75f6bbe1f97cc6
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105713206"
---
# <a name="user-interface---high-dpi-awareness"></a>Интерфейс пользователя: поддержка определения высоких значений DPI

## <a name="affected-platforms"></a>Затронутые платформы

 **Клиенты** — Windows XP Windows Vista, Windows \| \| 7  

## <a name="feature-impact"></a>Воздействие на функции

**Серьезность** — средний  
**Частота** — средний  

## <a name="description"></a>Описание

Задача заключается в том, чтобы обеспечить конечным пользователям возможность устанавливать свои дисплеи в собственном разрешении и использовать DPI, а не разрешение экрана, чтобы изменить размер отображаемого текста и изображений. Windows 7 может автоматически обнаруживать и настраивать DPI по умолчанию для чистых установок на компьютерах, настроенных изготовителями оборудования, с помощью параметров DPI. Существуют инструменты, которые можно использовать для разработки приложений с высоким DPI, чтобы обеспечить наиболее удобочитаемые результаты.

Мы добавили две новые функции высокого DPI в Windows 7:

-   Параметр DPI для каждого пользователя (ранее на компьютере)
-   Изменение DPI без перезагрузки (по-прежнему требуется выход из системы и вход в систему)

## <a name="manifestation-of-impact"></a>Влияние на манифесты

Приложения, которые не обрабатывают регистр с высоким разрешением, скорее всего, демонстрируют визуальные артефакты, в том числе:

-   Обрезка пользовательского интерфейса или текста другими элементами пользовательского интерфейса
-   Непоследовательные размеры шрифтов
-   Пользовательский интерфейс для экрана
-   Размытие текста или пользовательского интерфейса
-   Нарушено перетаскивание или другие входные данные
-   Отображение полноэкранных приложений DX частично из экрана

## <a name="solution"></a>Решение

Чтобы сделать приложения совместимыми с DPI:

1.  Выполните высокоуровневый функциональный этап тестирования, включая установку и удаление со следующими параметрами:

    | Параметр                                              | Что искать                                                                                                                                                      |
    |------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------|
    | 1024x768 @ 120 DPI (125% масштабирования)                    | Это эффективное разрешение, равное ~ 800x600, поэтому Поиск пользовательского интерфейса, вырезая с экрана или с разметкой, не вызывает проблем. Также найдите точечные рисунки пиксилатед & значков.                         |
    | 1600x1200 @144 dpi (150% масштабирования)                    | Нечеткий пользовательский интерфейс. Убедитесь, что все операции с мышью работают, особенно перетащите & операции перетаскивания. Также убедитесь, что полноэкранный режим работает правильно.                                     |
    | 1600x1200 @ 144 DPI с отключенной виртуализацией DPI | Часто кнопки и пользовательский интерфейс не масштабируются по отношению к более крупному тексту & будет заметно обрезать текст. Найдите проблемы макета в общих & пиксилатед битматс значки &. |

    

     

2.  Запишите все найденные проблемы, включая расположение, разрешение экрана и параметры DPI, а также сведения о том, как приложение работает в других конфигурациях DPI и разрешения для полноты.
3.  Проверьте каждую из проблем, связанных с кодом общего количества точек на дюйм
4.  Оцените стоимость выполнения полного DPI в приложении
5.  Создание списка ресурсов с высоким DPI (например, кнопок, значков)
6.  Обработайте и исправьте список проблем DPI, найденных на шаге 1.
7.  Интегрируйте новые ресурсы из шага 5
8.  Объявление приложения на уровне DPI

## <a name="compatibility-performance-reliability-and-usability-testing"></a>Совместимость, производительность, надежность и тестирование на удобство использования

Повторно запустите оценку соответствия DPI и убедитесь, что проблемы устранены.

## <a name="links-to-other-resources"></a>Ссылки на другие ресурсы

-   [Разработка приложений с высоким разрешением для настольных систем в Windows](../hidpi/high-dpi-desktop-application-development-on-windows.md)
-   **Вопросы и ответы по техническим вопросам:**<disup@microsoft.com>

 

 
