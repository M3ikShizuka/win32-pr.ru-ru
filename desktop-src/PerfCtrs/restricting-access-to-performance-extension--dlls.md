---
description: начиная с Windows Server 2003 группа "пользователи системного монитора" и группа "пользователи журнала производительности" были доступны разработчикам и пользователям библиотек dll производительности и функций API для вспомогательных данных производительности (PDH).
ms.assetid: 423359be-9d41-4a5f-91cd-f6d7a6a91d9d
title: Ограниченный доступ к библиотекам расширений производительности
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 43bfe7877a3ab93ea21945eacd9398d9f9536deff66ca9bd95b73abea7d8d1aa
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119962384"
---
# <a name="restricting-access-to-performance-extension-dlls"></a>Ограниченный доступ к библиотекам расширений производительности

начиная с Windows Server 2003 группа "пользователи системного монитора" и группа "пользователи журнала производительности" были доступны разработчикам и пользователям библиотек dll производительности и функций API для вспомогательных данных производительности (PDH). Эти группы безопасности производительности предназначены для использования системными администраторами при ограничении доступа к информации, предоставляемой библиотеками DLL производительности, определенным списком пользователей.

Группа пользователей системного монитора предназначена для включения пользователей, которые просматривают данные счетчиков и не заменяют данные счетчиков с помощью службы журналы и оповещения производительности. Группа "Пользователи журнала производительности" должна включать пользователей, имеющих разрешение на использование службы "журналы и оповещения производительности" для записи счетчиков на локальном или удаленном сервере. Привилегии этой группы также включают создание файлов журналов в локальных или удаленных системах, использование службы "оповещения" и запуск программ в рамках службы.

Обратите внимание, что эти группы безопасности производительности не являются механизмом ограничения доступа. для этого необходимо использовать эти группы с моделью управления доступом к объектам Windows.

Большинство приложений взаимодействуют с БИБЛИОТЕКой производительности с помощью механизма IPC, обычно общей памяти. Таким образом, можно добавить членов группы безопасности производительности в дескриптор безопасности объекта общей памяти, чтобы ограничить доступ к библиотеке DLL для этих членов группы безопасности. При этом необходимо также добавить членов группы в дескриптор безопасности системных объектов, к которым обращается DLL-библиотека производительности, чтобы предоставить данные счетчиков, например файлы журнала и папки. Дополнительные сведения о добавлении списков управления доступом к дескрипторам безопасности объектов см. в разделе [Изменение ACL объекта](/windows/desktop/SecAuthZ/modifying-the-acls-of-an-object-in-c--).

Другой метод, который можно использовать для изменения данных ACL дескриптора безопасности системного объекта IPC, заключается в указании членов списка групп безопасности производительности с помощью языка определения дескрипторов безопасности (SDDL) и вызове [**конвертстрингсекуритидескриптортосекуритидескриптор**](/windows/desktop/api/sddl/nf-sddl-convertstringsecuritydescriptortosecuritydescriptora) для создания дескриптора безопасности. Затем этот дескриптор безопасности присоединяется к системному объекту IPC. Ниже показана строка SDDL, которая включает в себя группу "Пользователи системного монитора", MU и группу "Пользователи журналов производительности", LU.

``` syntax
D:(A;OICI;GA;;;SY)(A;OICI;GA;;;BA)(A;OICI;FRFWFXSDRC;;;NS)(A;OICI;FRFWFXSDRC;;;LU)(A;OICI;FRFX;;;MU) 
```

 

 
