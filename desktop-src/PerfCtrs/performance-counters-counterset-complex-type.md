---
description: Определяет список счетчиков, которые логически связаны.
ms.assetid: d094146a-389e-4053-8ee5-acd29254e817
title: Сложный тип CounterSet
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- kbSyntax
api_name: ''
api_type: ''
api_location: ''
ms.openlocfilehash: 95d3abd57a14648013a74b841b898c8a4abf229815e56a68ffc95dbafa1567f0
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119775404"
---
# <a name="counterset-complex-type"></a>Сложный тип CounterSet

Определяет список счетчиков, которые логически связаны.

``` syntax
<xs:complexType name="counterSet">
    <xs:sequence>
        <xs:element name="structs"
            type="man:structs"
            minOccurs="0"
            maxOccurs="1"
         />
        <xs:element name="counter"
            type="man:counter"
            minOccurs="1"
            maxOccurs="unbounded"
         />
    </xs:sequence>
    <xs:attribute name="symbol"
        type="man:CSymbolType"
        use="required"
     />
    <xs:attribute name="guid"
        type="man:GUIDType"
        use="required"
     />
    <xs:attribute name="uri"
        type="xs:anyURI"
        use="required"
     />
    <xs:attribute name="name"
        use="required"
    >
        <xs:simpleType>
            <xs:restriction
                base="xs:string"
            >
                <xs:maxLength
                    value="1023"
                 />
            </xs:restriction>
        </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="description"
        type="xs:string"
        use="required"
     />
    <xs:attribute name="instances"
        use="optional"
        default="single"
    >
        <xs:simpleType>
            <xs:restriction
                base="xs:string"
            >
                <xs:enumeration
                    value="single"
                 />
                <xs:enumeration
                    value="multiple"
                 />
                <xs:enumeration
                    value="globalAggregate"
                 />
                <xs:enumeration
                    value="multipleAggregate"
                 />
                <xs:enumeration
                    value="globalAggregateHistory"
                 />
            </xs:restriction>
        </xs:simpleType>
    </xs:attribute>
</xs:complexType>
```

## <a name="child-elements"></a>Дочерние элементы



| Элемент     | Тип                                                             | Описание                                                                                            |
|-------------|------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------|
| **подписан** | [**Man: Счетчик**](performance-counters-counter-complex-type.md) | Определяет счетчик, предоставляемый поставщиком.<br/>                                               |
| **структуры** | [**Man: структуры**](performance-counters-structs-complex-type.md) | Список элементов структуры, содержащих значения для счетчиков, определенных в этом наборе счетчиков.<br/> |



## <a name="attributes"></a>Атрибуты



| Имя        | Тип                                                                    | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|-------------|-------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| description | **xs:string**                                                           | Краткое описание набора счетчиков. <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| guid        | [**мужчина: Гуидтипе**](performance-counters-guidtype-simple-type.md)       | Идентификатор GUID, однозначно определяющий набор счетчиков. Регистрация набора счетчиков завершается ошибкой, если идентификатор GUID уже зарегистрирован. Чтобы обновить зарегистрированный набор счетчиков, сначала необходимо удалить набор счетчиков, а затем снова зарегистрировать его. <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| instances   |                                                                         | Определяет, может ли набор счетчиков содержать несколько экземпляров. Ниже перечислены возможные значения.<br/> <dl> <dt><span id="single"></span><span id="SINGLE"></span>один</dt> <dd> Определяет набор счетчиков, в котором могут существовать только один экземпляр счетчиков в наборе счетчиков. Укажите это значение, если счетчики предоставляют размеры на уровне системы, например физическую память. Это значение по умолчанию.<br/> </dd> <dt><span id="multiple"></span><span id="MULTIPLE"></span>несколько</dt> <dd> Определяет набор счетчиков, в котором могут существовать несколько экземпляров счетчиков в наборе счетчиков. Укажите это значение, если счетчики предоставляют измерения для каждого экземпляра, такие как процессорное время на процесс.<br/> </dd> <dt><span id="globalAggregate"></span><span id="globalaggregate"></span><span id="GLOBALAGGREGATE"></span>глобалаггрегате</dt> <dd> Определяет набор счетчиков с одним экземпляром, в котором счетчики в наборе счетчиков должны быть агрегированы из различных активных источников. Например, можно создать набор счетчиков, содержащий счетчик, который подсчитывает количество операций чтения с диска для жесткого диска. Если компьютер имеет три жестких диска, а потребитель запрашивает количество операций чтения с диска, то PERFLIB получит количество операций чтения с каждого диска и вычислит их отдельные значения. <br/> </dd> <dt><span id="multipleAggregate"></span><span id="multipleaggregate"></span><span id="MULTIPLEAGGREGATE"></span>мултиплеаггрегате</dt> <dd> Определяет набор счетчиков с несколькими экземплярами, в котором счетчики в наборе счетчиков должны быть агрегированы по всем экземплярам этого счетчика. Например, можно создать набор счетчиков для многопоточного приложения, которое содержит счетчик, измеряющий производительность потоков (каждый поток будет ссылаться на экземпляр набора счетчиков). Когда потребитель запрашивает общий счетчик времени выполнения потока, в PERFLIB будет суммироваться общее время выполнения потока от каждого экземпляра.<br/> </dd> <dt><span id="globalAggregateHistory"></span><span id="globalaggregatehistory"></span><span id="GLOBALAGGREGATEHISTORY"></span>глобалаггрегатехистори</dt> <dd> Определяет набор счетчиков с одним экземпляром, значения счетчиков которого кэшируются в течение времени существования потребителя. Обратите внимание, что кэшируются все счетчики в наборе счетчиков. Чтобы кэшировать только определенные счетчики, необходимо снабдить эти счетчики атрибутом History.<br/> Используя пример чтения с диска из Глобалаггрегате, все значения счетчиков в наборе счетчиков будут кэшироваться. Если один диск стал недоступным, Последнее кэшированное значение общего числа байтов, считанное этим диском, будет по-прежнему доступно для приложения потребителя.<br/> </dd> </dl> |
| name        |                                                                         | Отображаемое имя набора счетчиков. Длина должна быть меньше 1 024 символов. В нем учитывается регистр. <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| символ      | [**мужчина: Ксимболтипе**](performance-counters-csymboltype-simple-type.md) | Символьное имя, идентифицирующее набор счетчиков. Средство [КТРПП](ctrpp.md) создает переменную GUID, которую можно использовать при вызове функций, требующих идентификатора GUID набора счетчиков (например, [**перфкреатеинстанце**](/windows/desktop/api/Perflib/nf-perflib-perfcreateinstance)). Имя переменной имеет вид *SymbolicName* GUID. <br/> При включении аргумента **-prefix** при вызове [КТРПП](ctrpp.md)Строка префикса добавляется в начало символьного имени.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| uri         | **xs:anyURI**                                                           | Уникальный универсальный идентификатор ресурса, который позволяет пользователям обращаться к счетчикам набора счетчиков из любого расположения.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |



## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows \[Только классические приложения Vista\]<br/>       |
| Минимальная версия сервера<br/> | Windows Только для \[ настольных приложений сервера 2008\]<br/> |



 

 




