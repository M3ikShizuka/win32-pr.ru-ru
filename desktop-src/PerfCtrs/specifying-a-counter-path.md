---
description: Система использует счетчики для получения данных о производительности.
ms.assetid: d1f1a90c-425a-4606-b86d-2948305ea84a
title: Specifying a Counter Path (Указание пути счетчика)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a359762e4d959992bebd338c4b3ee29825c63b4cb081b70722c82fb3376b5d19
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119143807"
---
# <a name="specifying-a-counter-path"></a>Specifying a Counter Path (Указание пути счетчика)

Система использует счетчики для получения данных о производительности. Каждый счетчик однозначно идентифицируется по его имени, пути или расположению. Синтаксис пути счетчика:

``` syntax
\\Computer\PerfObject(ParentInstance/ObjectInstance#InstanceIndex)\Counter
```

Элемент Computer указывает имя или IP-адрес компьютера, с которого необходимо запросить данные о производительности. Имя компьютера является необязательным, если счетчик находится на локальном компьютере.

Элемент Перфобжект указывает объект производительности для запроса. Объект производительности может быть физическим компонентом, например процессорами, дисками, памятью или системным объектом, например процессами и потоками. Каждый системный объект связан с функциональным элементом на компьютере и имеет набор стандартных счетчиков, назначенных ему. На каждом компьютере может быть установлен другой набор объектов производительности и счетчиков, поскольку приложения могут устанавливать собственные объекты и счетчики производительности. Список объектов производительности и счетчиков, установленных на компьютере, см. в диалоговом окне **Добавление счетчиков** в средстве "производительность" на компьютере. Эти объекты также перечислены в диалоговом окне Просмотр PDH (см. раздел [Просмотр счетчиков](browsing-counters.md)). Список объектов и счетчиков производительности системы см. в разделе [счетчики по объектам](/previous-versions/windows/it-pro/windows-server-2003/cc783073(v=ws.10)).

Парентинстанце, ObjectInstance и Инстанцеиндекс включены в путь, если может существовать несколько экземпляров объекта. Например, процессы и потоки являются несколькими объектами экземпляра, так как одновременно может выполняться несколько процессов или потоков. Если объект может иметь более одного экземпляра, то путь к счетчику должен указывать экземпляр объекта.

Формат элементов, связанных с экземпляром, зависит от типа объекта. Если объект имеет простые экземпляры, то форматом будет только имя экземпляра, заключенное в круглые скобки. Например:

``` syntax
(Explorer)
```

Если экземпляру этого объекта также требуется имя родительского экземпляра, имя родительского экземпляра должно предшествовать экземпляру объекта и быть разделено символом косой черты. Например, потоки принадлежат процессам. При запросе объекта потока необходимо также указать процесс, к которому он принадлежит, как показано в следующем примере:

``` syntax
(Explorer/0)
```

Если объект имеет несколько экземпляров, имеющих одну и ту же строку имени, их можно индексировать последовательно, указывая индекс экземпляра, префиксом которого является символ решетки. Индексы экземпляров основаны на 0. Если требуется выполнить запрос к первому экземпляру, не включайте значение \# 0 — просто укажите имя экземпляра. Чтобы указать второй экземпляр, используйте \# 1;, чтобы указать третий экземпляр, используйте \# 2 и т. д. Например:

``` syntax
(Explorer/0#1)
```

Элемент Counter указывает счетчик производительности, который необходимо запросить для данного объекта производительности.

PDH использует следующие специальные символы в пути счетчика. Поставщики не должны использовать эти символы в именах. Если поставщик использует эти специальные символы, PDH не может проанализировать полный путь к счетчику, чтобы получить имена счетчиков и экземпляров.



| Знак | Описание                                                |
|-----------|------------------------------------------------------------|
| \\        | Универсальный разделитель для Computer, Object и Counter.       |
| (         | Начало имени экземпляра.                                |
| )         | Конец имени экземпляра.                                   |
| /         | Разделяет экземпляр и родительский экземпляр.                    |
| \#n       | Определяет конкретное вхождение того же именованного экземпляра. |
| \*        | Подстановочный знак.                                        |



 

В следующих примерах показаны возможные форматы для путей к счетчикам.

-   \\\\\\Счетчик объекта "компьютер" (индекс родителя или экземпляра \# ) \\
-   \\\\\\Счетчик объекта "компьютер (родительский/экземпляр)" \\
-   \\\\\\Счетчик объекта "компьютер ( \# индекс экземпляра)" \\
-   \\\\\\Счетчик объекта "компьютер (экземпляр)" \\
-   \\\\\\Счетчик объектов "компьютер" \\
-   \\Счетчик объектов (индекс родителя или экземпляра \# ) \\
-   \\объект (родительский/экземпляр)- \\ Счетчик
-   \\Счетчик объекта ( \# индекс экземпляра) \\
-   \\Счетчик объекта (экземпляра) \\
-   \\\\Счетчик объектов

## <a name="using-wildcard-characters"></a>Использование подстановочных знаков

Пути счетчиков могут содержать символ-шаблон только для имени экземпляра, как показано в следующем примере.

``` syntax
\Process(*)\% Processor Time
```

Чтобы расширить шаблон до списка путей счетчиков, содержащих экземпляры, найденные на компьютере или в файле журнала, вызовите [**пдхекспандвилдкардпас**](/windows/desktop/api/Pdh/nf-pdh-pdhexpandwildcardpatha).

 

 
