---
description: 'Данные производительности можно использовать с помощью одного из следующих интерфейсов: интерфейс данных производительности (PDH), который обеспечивает высокоуровневый доступ к данным из поставщиков счетчиков производительности версии 1 и версии 2. Интерфейс реестра, предоставляющий доступ к данным из поставщиков счетчиков производительности низкого уровня. Интерфейс библиотеки производительности, предоставляющий прямой доступ к данным поставщиков счетчиков производительности версии 2. Интерфейс PDH проще в использовании, чем интерфейс реестра, и рекомендуется для большинства задач сбора данных о производительности. Интерфейс PDH — это, по сути, более высокий уровень абстракции функций, предоставляемых интерфейсом реестра. Интерфейс библиотеки производительности следует использовать только в том случае, если нельзя использовать функции уровня абстракции PDH.'
ms.assetid: a42f6cdd-47e9-4f43-aeaf-37a5abb0fa36
title: Использование данных счетчиков
ms.topic: article
ms.date: 08/17/2020
ms.openlocfilehash: c8c50b29d8f898f544b021f7fe3f3fd0d4a2094e
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105663248"
---
# <a name="consuming-counter-data"></a>Использование данных счетчиков

Программы, которые хотят читать и использовать данные счетчиков производительности Windows, могут использовать один из нескольких интерфейсов в соответствии с ситуацией.

- Скрипты могут использовать [Классы счетчиков производительности WMI](/windows/desktop/WmiSdk/monitoring-performance-data) или средство [типеперф](/windows-server/administration/windows-commands/typeperf) .
- Программы .NET могут использовать [класс PerformanceCounter](/dotnet/api/system.diagnostics.performancecounter).
- [Библиотека поддержки данных производительности (PDH)](using-the-pdh-functions-to-consume-counter-data.md) предоставляет высокоуровневый доступ к данным из поставщиков счетчиков производительности v1 и v2 через API Win32 (C/C++).
- [Интерфейс реестра](using-the-registry-functions-to-consume-counter-data.md) предоставляет доступ к данным из поставщиков счетчиков производительности v1 и v2 через Специальный `HKEY_PERFORMANCE_DATA` раздел реестра.
- [Функции-потребители версии PerfLib v2](using-the-perflib-functions-to-consume-counter-data.md) предоставляют низкоуровневый доступ к данным из поставщиков счетчиков производительности v2 через API Win32 (C/C++).

Для большинства задач сбора данных о производительности C/C++ рекомендуется использовать интерфейс PDH, поскольку он проще в использовании по сравнению с реестром и интерфейсом PerfLib.
