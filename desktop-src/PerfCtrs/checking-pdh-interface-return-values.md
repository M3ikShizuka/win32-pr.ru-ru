---
description: Возвращаемое значение функций PDH указывает на успешное или неуспешное выполнение вызова функции, которое отличается от состояния данных счетчика.
ms.assetid: 00ea5521-bc28-4a87-aba9-46c911631503
title: Проверка кодов состояния данных счетчика
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a34c433e1c45badd3a2211a0e53051ad40d495f63a67b0ca509ae74a5cd99972
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119978884"
---
# <a name="checking-counter-data-status-codes"></a>Проверка кодов состояния данных счетчика

Возвращаемое значение функций PDH указывает на успешное или неуспешное выполнение вызова функции, которое отличается от состояния данных счетчика. Всегда проверяйте элемент **кстатус** значения счетчика, возвращенного в СТРУКТУРАх PDH, чтобы убедиться, что возвращаемые данные являются допустимыми, прежде чем использовать их. Если значение элемента **кстатус** не указывает на успешное выполнение, не используйте данные. Ниже приведены возможные значения состояния счетчиков.



| Значение                              | Значение                                                                                                                                                                                                                                                                                                                                                                          |
|------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| PDH \_ кстатус \_ нет \_ компьютера          | PDH не удалось подключиться к компьютеру, указанному в пути счетчика. Если это состояние возвращается при добавлении счетчика, счетчик не инициализируется полностью. При каждом обновлении запроса PDH повторяет попытку подключения. Если подключение установлено, возобновляется нормальная работа сбора данных.                                                                  |
| PDH \_ кстатус \_ нет \_ объекта           | Указанный компьютер найден, но на компьютере найден указанный объект производительности. Если это состояние возвращается при добавлении счетчика, указанный счетчик не включается в запрос. Если это состояние возвращается активным счетчиком, данные для этого счетчика являются недопустимыми. При каждом запросе данных PDH пытается получить данные счетчика. |
| PDH \_ кстатус \_ без \_ экземпляра         | Указанный экземпляр не найден в объекте. Если это состояние возвращается при добавлении счетчика в запрос, то этот счетчик будет успешно добавлен в запрос, но данные не будут доступны до тех пор, пока не появится конкретный экземпляр и не будет возвращено состояние успешного выполнения.                                                                                                  |
| PDH \_ кстатус \_ без \_ счетчика          | Указанный счетчик не найден в указанном объекте. Если это состояние возвращается при добавлении счетчика, то этот счетчик не добавляется в запрос. Если это состояние возвращается после сбора данных, данные для этого счетчика являются недопустимыми. При каждом запросе данных PDH пытается получить данные счетчика.                                             |
| \_ \_ недопустимые \_ данные кстатус PDH        | Счетчик успешно найден, но возвращенные данные недопустимы. Эта ошибка может возникать, если значение счетчика меньше предыдущего значения. (Поскольку значения счетчика всегда увеличиваются, значение счетчика переводится в ноль, когда достигается его максимальное значение.) Другая возможная причина — Неверный системный таймер.                                              |
| \_ \_ допустимые данные кстатус PDH \_          | Данные для счетчика успешно возвращены, но не изменялись с момента последнего считывания счетчика.                                                                                                                                                                                                                                                                    |
| PDH \_ кстатус \_ новые \_ данные            | Данные для счетчика успешно возвращены и отличаются от времени последнего считывания счетчика. PDH \_ кстатус \_ новые \_ данные могут возвращаться в счетчике скорости, даже если полученная скорость совпадает с последней выборкой. Это обусловлено тем, что значение необработанных данных, используемое при определении этого значения состояния, изменилось, а не на вычисленную скорость.                  |
| \_Дополнительные \_ данные PDH                    | Указанный буфер недостаточно велик для хранения всех данных счетчиков. Выделите буфер большего размера и снова выполните функцию.                                                                                                                                                                                                                                              |
| \_элемент PDH \_ кстатус \_ не \_ проверен | Счетчик был добавлен в запрос, но не был проверен или недоступен. Дополнительные сведения о состоянии этого счетчика недоступны.                                                                                                                                                                                                                                 |
| PDH \_ кстатус \_ No \_ COUNTERNAME      | В запросе не указано имя счетчика.                                                                                                                                                                                                                                                                                                                                      |
| PDH \_ кстатус \_ без \_ счетчика          | Не удалось найти указанное имя счетчика.                                                                                                                                                                                                                                                                                                                                   |
| PDH \_ кстатус \_ нет \_ объекта           | Не удалось найти указанный объект производительности.                                                                                                                                                                                                                                                                                                                             |
| \_ \_ отрицательный знаменатель PDH Calc \_   | Счетчик имеет отрицательное значение знаменателя.                                                                                                                                                                                                                                                                                                                                      |
| \_ \_ базовое время отрицательного вычисления PDH \_      | Счетчик имеет отрицательное значение по базовому значению.                                                                                                                                                                                                                                                                                                                                         |
| \_ \_ отрицательное значение PDH Calc \_         | Счетчик имеет отрицательное значение.                                                                                                                                                                                                                                                                                                                                                  |
| PDH \_ кстатус \_ No \_ COUNTERNAME      | Не указан путь счетчика.                                                                                                                                                                                                                                                                                                                                                   |
| PDH \_ кстатус \_ Bad \_ COUNTERNAME     | Неверный формат пути счетчика.                                                                                                                                                                                                                                                                                                                                            |



 

 

 



