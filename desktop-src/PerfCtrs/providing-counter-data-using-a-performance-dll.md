---
description: Служба, драйвер или приложение, которые хотят предоставить данные счетчиков, могут создавать библиотеку DLL производительности для предоставления данных.
ms.assetid: 030316e5-f9f3-4333-9bb4-7ad301bbe7bf
title: Предоставление данных счетчиков с помощью библиотеки DLL производительности
ms.topic: article
ms.date: 08/17/2020
ms.openlocfilehash: e14b8a0e59b1fc9af3d8cad6e895d4a0067b9ae6
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127250549"
---
# <a name="providing-counter-data-using-a-performance-dll"></a>Предоставление данных счетчиков с помощью библиотеки DLL производительности

> [!IMPORTANT]
> Из-за существенных ограничений производительности и надежности метод предоставления данных счетчиков производительности, описанных в этом разделе, может быть изменен или недоступен в будущем. Вместо этого корпорация Майкрософт рекомендует использовать метод, описанный в разделе [предоставление данных счетчиков с помощью версии 2,0](providing-counter-data-using-version-2-0.md) для создания счетчиков производительности, а также миграция существующих счетчиков производительности для использования этого метода.

Служба, драйвер или приложение, которые хотят предоставить данные счетчиков, могут создавать библиотеку DLL производительности для предоставления данных. Когда потребитель запрашивает данные о производительности, система загружает библиотеку DLL поставщика в процесс потребителя и вызывает поставщик для получения данных. Дополнительные сведения о создании библиотеки DLL производительности см. в разделе [Создание библиотеки DLL расширения производительности](creating-a-performance-extension-dll.md).

Система использует реестр для определения поставщика, который необходимо вызвать. Сведения о регистрации поставщика и счетчиках, которые он поддерживает, см. в разделе [Добавление счетчиков производительности](adding-performance-counters.md).

> [!Note]
> Библиотеки производительности не поддерживаются в Windows OneCore. при написании компонента, который должен выполняться на Windows OneCore, используйте метод, описанный в разделе [предоставление данных счетчика с помощью версии 2,0](providing-counter-data-using-version-2-0.md).
