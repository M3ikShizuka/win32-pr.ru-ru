---
description: Служба, драйвер или приложение, которые хотят предоставить данные счетчиков, могут создавать библиотеку DLL производительности для предоставления данных.
ms.assetid: 030316e5-f9f3-4333-9bb4-7ad301bbe7bf
title: Предоставление данных счетчиков с помощью библиотеки DLL производительности
ms.topic: article
ms.date: 08/17/2020
ms.openlocfilehash: 165e6a8797c50a22acff1d3cd3ded7f8b06a0ee2a7153300e98e46bea1127f27
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119910314"
---
# <a name="providing-counter-data-using-a-performance-dll"></a>Предоставление данных счетчиков с помощью библиотеки DLL производительности

> [!IMPORTANT]
> Из-за существенных ограничений производительности и надежности метод предоставления данных счетчиков производительности, описанных в этом разделе, может быть изменен или недоступен в будущем. Вместо этого корпорация Майкрософт рекомендует использовать метод, описанный в разделе [предоставление данных счетчиков с помощью версии 2,0](providing-counter-data-using-version-2-0.md) для создания счетчиков производительности, а также миграция существующих счетчиков производительности для использования этого метода.

Служба, драйвер или приложение, которые хотят предоставить данные счетчиков, могут создавать библиотеку DLL производительности для предоставления данных. Когда потребитель запрашивает данные о производительности, система загружает библиотеку DLL поставщика в процесс потребителя и вызывает поставщик для получения данных. Дополнительные сведения о создании библиотеки DLL производительности см. в разделе [Создание библиотеки DLL расширения производительности](creating-a-performance-extension-dll.md).

Система использует реестр для определения поставщика, который необходимо вызвать. Сведения о регистрации поставщика и счетчиках, которые он поддерживает, см. в разделе [Добавление счетчиков производительности](adding-performance-counters.md).

> [!Note]
> Библиотеки производительности не поддерживаются в Windows OneCore. при написании компонента, который должен выполняться на Windows OneCore, используйте метод, описанный в разделе [предоставление данных счетчика с помощью версии 2,0](providing-counter-data-using-version-2-0.md).
