---
description: Столбцы, хранящиеся в индексе содержимого, могут иметь несколько значений, и эти Многозначные столбцы можно сравнивать с помощью предиката сравнения МАССИВов.
ms.assetid: bc3de1bd-b833-459d-81a3-c6b08314e26f
title: Сравнения с несколькими значениями (МАССИВы)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 043ed6744717ac3156d9dd64f2f6806f2ffc509107f5bcdc8a66980e5cdd0012
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "117863373"
---
# <a name="multi-valued-array-comparisons"></a>Сравнения с несколькими значениями (МАССИВы)

Столбцы, хранящиеся в индексе содержимого, могут иметь несколько значений, и эти Многозначные столбцы можно сравнивать с помощью предиката сравнения МАССИВов.

Предикат сравнения МАССИВов имеет следующий синтаксис:


```
...WHERE <column> <comp_op> [<quantifier>] <comparison_list>
                
...WHERE <column> <comp_op> <value>
```



Если ссылка на столбец не является многозначным столбцом, возвращается ошибка. Тип данных столбца должен быть совместим с элементами списка сравнения. При необходимости ссылка на столбец может быть [приведена](-search-sql-castingdatacolumntype.md) к другому типу данных.

Оператор сравнения (Comp \_ op) может быть любым из обычных операторов сравнения. В многозначном сравнении операторы сравнения имеют немного разные значения в зависимости от того, используется ли квантификатор. Кванторы указывают, следует ли выполнять сравнение для всех или некоторых значений в списке сравнения. Функции операторов сравнения задаются в таблицах, описывающих каждый квантификатор (все и некоторые) далее в этом документе.

Значение после оператора указывает одно литеральное значение, которое сравнивается со всеми элементами многозначного столбца. Если какой-либо элемент соответствует значению, предикат имеет значение true.

В списке сравнения указывается массив литеральных значений, сравниваемых с многозначным столбцом. Синтаксис для списка сравнения выглядит следующим образом:


```
ARRAY '['<literal> [,<literal>]']'
```



> [!IMPORTANT]
> Обратите внимание на синтаксис списка сравнения. Группа литералов, составляющих список сравнения, должна быть заключена в квадратные скобки. Не выключайте отдельные элементы списка сравнения квадратными скобками. Следовательно, массив \[ 1 \] и массив \[ 1, 2, 3 \] являются ДОПУСТИМЫми, но массивы \[ 1 \[ , 2 \] \[ и 3 \] \] не имеют.

 

Метод, используемый для определения того, возвращает ли многозначное сравнение значение true или false, определяется необязательным квантор. В следующих разделах описываются все кванторы и принципы работы каждого оператора сравнения при использовании квантификатора.

## <a name="absent-quantifier"></a>Отсутствует квантификатор

Если квантификатор не указан, каждый элемент в левой части сравнения сравнивается с элементом в той же позицией справа. Сравнение начинается с первого элемента в массивах и проходит через последний элемент. Если все элементы в левой части эквивалентны соответствующим элементам в правой части, то для определения большего массива используется число элементов массива.

В следующей таблице показаны операции операторов сравнения, если не указан квантификатор, и приводится краткое описание каждого из них.



| Оператор       | Описание                                                                                                                                                                                                                                                                                                                                                                           |
|----------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| =              | "Equal to" возвращает значение true, если каждый левый элемент имеет то же значение, что и соответствующий правый элемент, и оба массива имеют одинаковое число элементов.                                                                                                                                                                                                                     |
| ! = или <> | "Не равно" возвращает значение true, если один или несколько элементов левой части имеют значения, отличающиеся от соответствующих правых элементов, или если массивы слева и справа не имеют одинакового количества элементов.                                                                                                                                                              |
| >           | "Больше" возвращает значение true, если значение каждого левого элемента больше значения соответствующего правого элемента. Если все значения элементов на левой стороне точно соответствуют соответствующим правым элементам, а массив слева содержит больше элементов, чем правый массив, "больше чем" возвращает значение true.                                                     |
| >=          | "Больше или равно" возвращает значение true, если значение каждого левого элемента больше или равно значению соответствующего правого элемента. Если все значения элементов на левой стороне равны или больше соответствующих правых элементов, а массив слева содержит те же элементы, что и правый массив, функция "больше" возвращает значение true. |
| <           | "Меньше" возвращает значение true, если значение каждого левого элемента меньше значения соответствующего правого элемента. "Меньше" также возвращает значение true, если у левой стороны меньше элементов, чем у правой стороны.                                                                                                                                                  |
| <=          | "Меньше или равно" возвращает значение true, если значение каждого левого элемента меньше или равно значению соответствующего правого элемента. Если все значения элементов на левой стороне равны или меньше соответствующих правых элементов, а массив слева имеет то же или меньше элементов, что и правый массив, "больше чем" возвращает значение true.         |



 

## <a name="all-quantifier"></a>ВСЕ кванторы

Квантификатор ALL указывает, что каждый элемент в левой части сравнивается с каждым элементом в правой части. Чтобы вернуть значение true, при сравнении с каждым элементом в правой части сравнение должно иметь значение true для каждого элемента в левой части. Число элементов в левой и правой сторонах массива не влияет на результат.

В следующей таблице показано, как каждый оператор сравнения работает с квантификатором ALL.



| Оператор       | Описание                                                                                                                           |
|----------------|---------------------------------------------------------------------------------------------------------------------------------------|
| =              | "Equal to" возвращает значение true, если каждое значение элемента слева совпадает с каждым значением элемента, расположенного справа.                              |
| ! = или <> | "Не равно" возвращает значение true, если хотя бы одно из значений элементов на левой стороне отличается от любого из значений элементов на стороне справа. |
| >           | "Больше" возвращает значение true, если каждое значение элемента в левой части больше, чем каждое значение элемента справа.                         |
| >=          | "Больше или равно" возвращает значение true, если каждое значение элемента в левой части больше или равно значению каждого правого элемента. |
| <           | "Меньше" возвращает значение true, если каждое значение элемента в левой части меньше, чем каждое значение элемента справа.                               |
| <=          | "Меньше или равно" возвращает значение true, если каждое значение элемента слева меньше или равно значению каждого из значений элементов на стороне справа.       |



 

## <a name="some-or-any-quantifier"></a>КАКОЙ-либо квантор (или любой)

Некоторые кванторы и кванторы могут использоваться взаимозаменяемыми. Как и квантификатор «все», квантор определяет, что каждый элемент в левой части сравнивается с каждым элементом в правой части. Для возврата значения true сравнение должно выполняться по крайней мере для одного из элементов в левой части по сравнению с любым элементом в правой части. Число элементов в левом и правом массивах не влияет на результат.

В следующей таблице показано, как каждый оператор сравнения работает с НЕКОТОРЫМ квантификатор.



| Оператор       | Описание                                                                                                                                                     |
|----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------|
| =              | "Equal to" возвращает значение true, если хотя бы одно из значений элементов на левой стороне совпадает с любым из значений элементов на стороне справа.                                  |
| ! = или <> | "Не равно" возвращает значение true, если ни одно из значений элементов левого края не совпадает с любым из значений элементов на стороне справа.                                      |
| >           | "Больше чем" возвращает значение true, если хотя бы одно из значений элементов на левой стороне больше любого из значений элементов на стороне справа.                         |
| >=          | "Больше или равно" возвращает значение true, если хотя бы одно из значений элементов на левой стороне больше или равно любому из значений элементов на стороне справа. |
| <           | "Меньше" возвращает значение true, если по крайней мере одно из значений элементов на левой стороне меньше любого из значений элементов на стороне справа.                               |
| <=          | "Меньше или равно" возвращает значение true, если хотя бы одно из значений элементов на левой стороне меньше или равно любому из значений элементов на стороне справа.       |



 

## <a name="examples"></a>Примеры

В следующем примере проверяется, находятся ли документы в категориях "Финансы" или "планирование":


```
SELECT System.ItemUrl FROM SystemIndex WHERE System.Category =
SOME ARRAY['Finance','Planning']
```



В следующих сравнениях вычисляется значение true. Помните, что при фактическом использовании синтаксис запроса поиска требует, чтобы левая часть была свойством, а не литеральным значением.


```
ARRAY [1,2] > ARRAY [1,1]
ARRAY [1,2] > ARRAY [1,1,2]
ARRAY [1,2] < ARRAY [1,2,3]
ARRAY [1,2] = SOME ARRAY [1,12,27,35,2]
ARRAY [1,1] != ALL ARRAY [1,2]
ARRAY [1,20,21,22] < SOME ARRAY [0,40]
ARRAY [1,20,21,22] < ANY ARRAY [0,40]
```



## <a name="related-topics"></a>Связанные темы

<dl> <dt>

**Reference**
</dt> <dt>

[Предикат LIKE](-search-sql-like.md)
</dt> <dt>

[Сравнение литеральных значений](-search-sql-literalvaluecomparison.md)
</dt> <dt>

[Предикат NULL](-search-sql-null.md)
</dt> <dt>

**Зрения**
</dt> <dt>

[Полнотекстовые предикаты](-search-sql-fulltextpredicates.md)
</dt> <dt>

[Неполнотекстовые предикаты](-search-sql-nonfulltextpredicates.md)
</dt> </dl>

 

 



