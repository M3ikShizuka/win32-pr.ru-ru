---
description: начиная с Windows 7, несоответствия остаются в обработке и анализе url-адресов. В этом разделе представлено ограниченное описание навигации по несогласованиям в форматах URL-адресов файлов.
ms.assetid: E9792368-517B-4FD7-A244-6C4B7F78B66E
title: Требования к форматированию URL-адресов
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2ae1bb413501548922eaf1b60801b6d35495d7f8a37dc743675052d4e0e5bae4
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118462236"
---
# <a name="url-formatting-requirements"></a>Требования к форматированию URL-адресов

начиная с Windows 7, несоответствия остаются в обработке и анализе url-адресов. В этом разделе представлено ограниченное описание навигации по несогласованиям в форматах URL-адресов файлов.

Этот раздел организован следующим образом:

-   [Используемые форматы URL-адресов](#url-formats-in-use)
-   [Направление косой черты, конечная звезда и Конечная косая черта](#slash-direction-trailing-star-and-trailing-slash-sensitivity)
-   [Форматы URL-адресов по API и запросам](#url-formats-by-api-and-query)
-   [Связанные темы](#related-topics)

## <a name="url-formats-in-use"></a>Используемые форматы URL-адресов

Сторонние протоколы отвечают за определение формата URL-адреса и определение запросов способом, который соответствует их стандарту. например, Microsoft Outlook поддерживает имена папок с произвольными символами, включая те, которые не являются допустимыми в url-адресах, таких как `"?"` символ. Обработчик протокола MAPI выполняет собственную кодировку URL-адреса своих URL-адресов. таким образом, индекс хранит `"%3F"` вместо `"?"` , и Outlook должен учитывать это при создании запросов.

В следующей таблице перечислены различные форматы, и каждому из них назначается идентификатор письма для ссылки на них далее в этом разделе.



| ID  | URL-адрес локального файла или удаленный | Пример                     |
|-----|--------------------------|-----------------------------|
| A   | Локальные                    | file:///c: \\ \\ Пример теста\\ |
| B   | Локальные                    | файл: c:/тест/ексампле/       |
| C   | Локальные                    | в. \\ \\ Пример теста\\         |
| D   | Удаленные                   | \\ \\ \\ общий ресурс сервера file:///\\ |
| E   | Удаленные                   | file://server/share/        |
| C   | Удаленные                   | \\\\\\Общая папка сервера\\         |



 

## <a name="slash-direction-trailing-star-and-trailing-slash-sensitivity"></a>Направление косой черты, конечная звезда и Конечная косая черта

в Windows поиска в основном нет чувствительности направления косой черты. Если формат `c:\test\example` принимается, то также принимается c:/Test/пример. Однако хотя [область](-search-sql-folderdepth.md) обычно не чувствительна к косой черте, она чувствительна к направлению косой черты в случае удаленного URL-адреса F. Следовательно, не `Scope = '//server/share'` работает.

Единственный API, чувствительный к конечным звездочкам и отличающий от `c:\test\ ` и `c:\test\*` , — [**исеарчкравлскопеманажер**](/windows/desktop/api/Searchapi/nn-searchapi-isearchcrawlscopemanager). Если существует правило исключения для `c:\test\*` , то сам каталог URL-адресов `c:\test` будет индексироваться. Но если URL-адрес исключения — `c:\test\` , то сам каталог URL-адресов `c:\test` не будет индексироваться.

существует два места, где Windows поиск чувствителен к символам косой черты: запросы итемурл и Path. если каталог существует `c:\test` , Windows поиск будет `c:\test\` отличаться от `c:\test` для предикатов, таких как `path = 'c:\test'` и `System.ItemUrl = 'c:\test'` . Например, предикат `path='file:c:/test'` будет соответствовать каталогу `c:\test` , но `path='file:c:/test/'` не из-за замыкающей косой черты.

## <a name="url-formats-by-api-and-query"></a>Форматы URL-адресов по API и запросам

Форматы URL-адресов локальных файлов, принимаемые выбранными API и запросами, перечислены в следующей таблице. Форматы связаны с буквой (от A до F), значением, которое было отмечено в разделе "[используемые форматы URL-адресов](#url-formats-in-use)" ранее в этом разделе.



| API или запрос                                                                                                    | Форматирование | Формат б | Формат C |
|-----------------------------------------------------------------------------------------------------------------|----------|----------|----------|
| [**исеарчкравлскопеманажер**](/windows/desktop/api/Searchapi/nn-searchapi-isearchcrawlscopemanager)                                            | Д        | Нет        | Д        |
| [**Игасернотифинлине:: Ондатачанже**](/previous-versions/windows/desktop/legacy/bb231472(v=vs.85))                           | Да        | Да        | Да        |
| [**Исеарчкаталогманажер:: Реиндексматчингурлс**](/windows/desktop/api/Searchapi/nf-searchapi-isearchcatalogmanager-reindexmatchingurls)         | Да        | Да        | Да        |
| [**Исеарчкаталогманажер:: Реиндекссеарчрут**](/windows/desktop/api/Searchapi/nf-searchapi-isearchcatalogmanager-reindexsearchroot)             | Д        | Нет        | Нет        |
| [**ISearchCatalogManager2::P Риоритизематчингурлс**](/windows/desktop/api/Searchapi/nf-searchapi-isearchcatalogmanager2-prioritizematchingurls) | Да        | Да        | Да        |
| Scope =                                                                                                          | Нет        | Да        | Да        |
| Каталог =                                                                                                      | Нет        | Да        | Да        |
| Итемурл =                                                                                                        | Нет        | Да        | Да        |
| Путь =                                                                                                           | Нет        | Да        | Да        |



 

Форматы URL-адресов удаленных файлов, принятые выбранными запросами, перечислены в следующей таблице.



| Запрос                                                                                                           | Формат D | Формат E | Формат F |
|-----------------------------------------------------------------------------------------------------------------|----------|----------|----------|
| [**исеарчкравлскопеманажер**](/windows/desktop/api/Searchapi/nn-searchapi-isearchcrawlscopemanager)                                            | Н/Д      | Н/Д      | Н/Д      |
| [**Игасернотифинлине:: Ондатачанже**](/previous-versions/windows/desktop/legacy/bb231472(v=vs.85))                           | Н/Д      | Н/Д      | Н/Д      |
| [**Исеарчкаталогманажер:: Реиндексматчингурлс**](/windows/desktop/api/Searchapi/nf-searchapi-isearchcatalogmanager-reindexmatchingurls)         | Н/Д      | Н/Д      | Н/Д      |
| [**Исеарчкаталогманажер:: Реиндекссеарчрут**](/windows/desktop/api/Searchapi/nf-searchapi-isearchcatalogmanager-reindexsearchroot)             | Н/Д      | Н/Д      | Н/Д      |
| [**ISearchCatalogManager2::P Риоритизематчингурлс**](/windows/desktop/api/Searchapi/nf-searchapi-isearchcatalogmanager2-prioritizematchingurls) | Н/Д      | Н/Д      | Н/Д      |
| Scope =                                                                                                          | Да        | Да        | Да        |
| Каталог =                                                                                                      | Да        | Да        | Да        |
| Итемурл =                                                                                                        | Да        | Да        | Да        |
| Путь =                                                                                                           | Да        | Да        | Да        |



 

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Что включено в индекс](-search-indexing-process-overview.md)
</dt> <dt>

[процесс индексирования в Windows поиске](-search-indexing-process-overview.md)
</dt> <dt>

[запрос процесса в Windows поиска](querying-process--windows-search-.md)
</dt> <dt>

[обработка уведомлений в Windows поиске](-search-3x-wds-support.md)
</dt> </dl>

 

 
