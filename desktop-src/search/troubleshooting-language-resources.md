---
description: В этом разделе приводятся практические рекомендации и рекомендации по проверке и устранению неполадок в реализациях Ивордбреакер и Истеммер.
ms.assetid: b0e199b9-8d81-4445-92f7-de9b8a00a9cb
title: Устранение неполадок в языковых ресурсах и рекомендациях
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f63a0a8acda3fff1627b37f41c2d81a67b37d66a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103808890"
---
# <a name="troubleshooting-language-resources-and-best-practices"></a>Устранение неполадок в языковых ресурсах и рекомендациях

В этом разделе приводятся практические рекомендации и рекомендации по проверке и устранению неполадок в реализациях [**ивордбреакер**](/windows/desktop/api/Indexsrv/nn-indexsrv-iwordbreaker) и [**истеммер**](/windows/desktop/api/Indexsrv/nn-indexsrv-istemmer) .

Этот раздел организован следующим образом:

-   [Рекомендации](#best-practices)
-   [Тестирование согласованности парадигматические модули](#testing-stemmer-consistency)
-   [Тестирование недопустимых входных данных в парадигматические модули](#testing-for-invalid-input-in-the-stemmer)
-   [Проверка согласованности для разбиения по словам](#testing-word-breaker-consistency)
-   [Проверка недопустимых входных данных в окне разбиения по словам](#testing-for-invalid-input-in-the-word-breaker)

### <a name="best-practices"></a>Рекомендации

-   Убедитесь, что в реестре для потоковой модели для языковых ресурсов задано значение "оба".
-   Там, где это возможно, размещайте данные языка в ресурсе в библиотеке DLL, а не в отдельном файле. Это делает библиотеку DLL проще в установке и безопасности. Кроме того, размещение языковых данных в ресурсе приведет к повышению производительности для этого компонента языковых ресурсов.
-   Сократите количество системных ресурсов, используемых компонентами языковых ресурсов. Например, если каждому экземпляру объекта языкового ресурса требуется доступ только для чтения к лексикону, рассмотрите возможность совместного использования этого лексикона во всех экземплярах.
-   Рассмотрите возможность использования нейтрального средства разбиения по словам для работы с текстом, который не относится к языку или языковому стандарту для реализации средства разбиения по словам. Это поможет обеспечить единообразную обработку текста на всех языках.
-   Проверьте все коды возврата и верните их из таких функций, как [**истеммер:: женератевордформс**](/windows/desktop/api/Indexsrv/nf-indexsrv-istemmer-generatewordforms) и [**Ивордбреакер:: бреактекст**](/windows/desktop/api/Indexsrv/nf-indexsrv-iwordbreaker-breaktext). Если индексирование завершается неудачно, важно передать ошибку, чтобы пользователь уведомил, какие документы были проиндексированы.

### <a name="testing-stemmer-consistency"></a>Тестирование согласованности парадигматические модули

Мы рекомендуем отслеживать производительность реализации [**истеммер**](/windows/desktop/api/Indexsrv/nn-indexsrv-istemmer) для обеспечения согласованности в следующих случаях.

-   Парадигматические модули выполняются одинаково в нескольких вызовах [**истеммер:: init**](/windows/desktop/api/Indexsrv/nf-indexsrv-istemmer-init). Парадигматические модули повторно инициализируются с теми же параметрами, что и в предыдущей инициализации, без освобождения параметров.
-   Учитывая тот же самый тестовый совокупности и повторение того же запроса, [**истеммер:: женератевордформс**](/windows/desktop/api/Indexsrv/nf-indexsrv-istemmer-generatewordforms) создает идентичные выходные данные и выполняет идентичные вызовы методов объекта [**ивордформсинк**](/windows/desktop/api/Indexsrv/nn-indexsrv-iwordformsink) .

### <a name="testing-for-invalid-input-in-the-stemmer"></a>Тестирование недопустимых входных данных в парадигматические модули

Рекомендуется следить за тем, как методы [**истеммер**](/windows/desktop/api/Indexsrv/nn-indexsrv-istemmer) обрабатывали все ошибки, связанные с недопустимыми параметрами. Кроме того, рекомендуется убедиться, что методы извлечения корней не вызывают необработанные исключения. Средство извлечения корней должно поддерживать следующие ошибки:

-   Вызовите метод [**истеммер:: init**](/windows/desktop/api/Indexsrv/nf-indexsrv-istemmer-init) с параметром *Пфлиценсе* со значением **null**. Инициализация не выполняется и не приводит к нарушению прав доступа.
-   Вызовите метод [**истеммер:: жетлиценсетаусе**](/windows/desktop/api/Indexsrv/nf-indexsrv-istemmer-getlicensetouse) с параметром *ппвкслиценсе* , имеющим значение **null**. **Истеммер:: жетлиценсетаусе** не приводит к нарушению прав доступа.
-   Вызовите метод [**истеммер:: женератевордформс**](/windows/desktop/api/Indexsrv/nf-indexsrv-istemmer-generatewordforms) с параметром *пвЦинбуф* , имеющим значение **null**. **Истеммер:: женератевордформс** завершается с ошибкой (Возвращает E \_ Fail) и не приводит к нарушению прав доступа.
-   Вызов [**истеммер:: женератевордформс**](/windows/desktop/api/Indexsrv/nf-indexsrv-istemmer-generatewordforms) с параметром *КВК* , равным 0. **Истеммер:: женератевордформс** возвращает значение "успешно" (ReturnS S \_ ) и не приводит к нарушению прав доступа.
-   Вызовите метод [**истеммер:: женератевордформс**](/windows/desktop/api/Indexsrv/nf-indexsrv-istemmer-generatewordforms) с параметром *пвЦинбуф* , имеющим значение **null** , а параметр *КВК* — равным 0. **Истеммер:: женератевордформс** завершается с ошибкой (Возвращает E \_ Fail) и не приводит к нарушению прав доступа.

### <a name="testing-word-breaker-consistency"></a>Проверка согласованности для разбиения по словам

Рекомендуется обеспечить согласованную работу реализации [**ивордбреакер**](/windows/desktop/api/Indexsrv/nn-indexsrv-iwordbreaker) при выполнении следующих условий.

-   Средство разбиения по словам выполняет согласованное выполнение нескольких вызовов метода [**ивордбреакер:: init**](/windows/desktop/api/Indexsrv/nf-indexsrv-iwordbreaker-init) . Средство разбиения по словам повторно инициализирует те же параметры, что и в предыдущей инициализации, без освобождения параметров.
-   Учитывая тот же самый тестовый совокупности и повторение того же запроса, метод [**ивордбреакер:: бреактекст**](/windows/desktop/api/Indexsrv/nf-indexsrv-iwordbreaker-breaktext) создает идентичные выходные данные и выполняет идентичные вызовы методов объектов [**ивордсинк**](iwordsink.md) и [**ифрасесинк**](/windows/win32/api/indexsrv/nn-indexsrv-iphrasesink) .

### <a name="testing-for-invalid-input-in-the-word-breaker"></a>Проверка недопустимых входных данных в окне разбиения по словам

Рекомендуется убедиться, что методы [**ивордбреакер**](/windows/desktop/api/Indexsrv/nn-indexsrv-iwordbreaker) обрабатывали все ошибки, связанные с недопустимыми параметрами. Кроме того, рекомендуется убедиться, что методы разбиения по словам не вызывают необработанные исключения. Средство разбиения по словам выполняет следующие функции и обрабатывает следующие ошибки:

-   Вызов [**ивордбреакер:: init**](/windows/desktop/api/Indexsrv/nf-indexsrv-iwordbreaker-init) должен возвращать либо \_ \_ не найденная база данных языка E \_ \_ , либо значение S \_ ОК.
-   Вызов [**ивордбреакер:: init**](/windows/desktop/api/Indexsrv/nf-indexsrv-iwordbreaker-init) успешно инициализирует параметр *Пфлиценсе* в **значение false** и вызывает [**истеммер:: жетлиценсетаусе**](/windows/desktop/api/Indexsrv/nf-indexsrv-istemmer-getlicensetouse) и не приводит к нарушению прав доступа.
-   Средство разбиения по словам не читается после конца параметра *авкбуффер* в методе [**Ивордбреакер:: бреактекст**](/windows/desktop/api/Indexsrv/nf-indexsrv-iwordbreaker-breaktext) .
-   Вызовите метод [**ивордбреакер:: бреактекст**](/windows/desktop/api/Indexsrv/nf-indexsrv-iwordbreaker-breaktext) с параметром *пвЦинбуф* , имеющим значение **null**. **Ивордбреакер:: бреактекст** завершается с ошибкой (Возвращает E \_ Fail) и не приводит к нарушению прав доступа.
-   Вызов [**ивордбреакер:: бреактекст**](/windows/desktop/api/Indexsrv/nf-indexsrv-iwordbreaker-breaktext) с параметром *КВК* , равным 0. **Ивордбреакер:: бреактекст** возвращает значение "успешно" (ReturnS S \_ ) и не приводит к нарушению прав доступа.
-   Вызовите метод [**ивордбреакер:: бреактекст**](/windows/desktop/api/Indexsrv/nf-indexsrv-iwordbreaker-breaktext) с параметром *пвЦинбуф* , имеющим значение **null** , а параметр *КВК* — равным 0. **Ивордбреакер:: бреактекст** завершается с ошибкой (Возвращает E \_ Fail) и не приводит к нарушению прав доступа.
-   Фразы, созданные во время создания индекса, содержат одинаковое число слов.
-   Фразы создаются во время создания индекса посредством последовательных вызовов методов [**ивордформсинк::P утворд**](iwordsink-putword.md) и [**Ивордформсинк::P уталтворд**](iwordsink-putaltword.md) . Средство разбиения по словам использует только объект [**ифрасесинк**](/windows/win32/api/indexsrv/nn-indexsrv-iphrasesink) во время запроса.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Расширение языковых ресурсов](extending-language-resources-in-windows-search.md)
</dt> <dt>

[Основные сведения о компонентах ресурсов языка](understanding-language-resource-components.md)
</dt> <dt>

[Реализация средств разбиения по словам и парадигматические модули](implementing-a-word-breaker-and-stemmer.md)
</dt> <dt>

[Рекомендации по лингвистическим правилам и Юникоду](linguistic-and-unicode-considerations.md)
</dt> </dl>

 

 
