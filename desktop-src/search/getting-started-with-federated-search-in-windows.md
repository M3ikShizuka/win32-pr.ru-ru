---
description: Сведения о федеративной службе поиска, которая позволяет пользователям получать доступ к удаленным данным и взаимодействовать с ними в проводнике Windows.
ms.assetid: c25dbc33-3f9a-4e40-965e-9be639ababed
title: начало работы с федеративными поиском в Windows
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2de3fc42686e94f2edc1c5d45bbb0374afe79535
ms.sourcegitcommit: b32433cc0394159c7263809ae67615ab5792d40d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/30/2021
ms.locfileid: "113119069"
---
# <a name="getting-started-with-federated-search-in-windows"></a>начало работы с федеративными поиском в Windows

Поддержка интеграции поиска в Windows 7 с удаленными хранилищами данных с помощью технологий OpenSearch позволяет пользователям получать доступ к удаленным данным и взаимодействовать с ними в проводнике Windows. Вы можете создать веб-хранилище данных, в котором можно выполнять поиск с помощью федеративного поиска Windows, и обеспечить широкие возможности интеграции удаленных источников данных с проводником Windows без необходимости писать или развертывать код на стороне клиента Windows.

Этот раздел организован следующим образом:

-   [Что такое федеративный поиск?](#what-is-federated-search)
-   [Шаги для создания федеративного поиска](#steps-for-building-federated-search)
-   [Принцип работы федеративного поиска](#how-federated-search-works)
-   [Отправка запросов и возврат результатов поиска в RSS или Atom](#sending-queries-and-returning-search-results-in-rss-or-atom)
-   [Примеры федеративного поиска](#federated-search-examples)
-   [Дополнительные ресурсы](#additional-resources)
-   [Связанные темы](#related-topics)

## <a name="what-is-federated-search"></a>Что такое федеративный поиск?

Windows 7 поддерживает подключение внешних источников к клиенту Windows через протокол [OpenSearch](https://github.com/dewitt/opensearch) . Это позволяет пользователям выполнять поиск в удаленном хранилище данных и просматривать результаты в проводнике Windows. Стандарт [OpenSearch](https://github.com/dewitt/opensearch) версии 1.1 определяет простые форматы файлов, которые можно использовать для описания того, как клиент должен запрашивать веб-службу для хранилища данных и как служба должна возвращать результаты, отображаемые клиентом. Федеративный поиск Windows подключается к веб-службам, получающим запросы [OpenSearch](https://github.com/dewitt/opensearch) , и возвращает результаты в формате RSS или Atom XML.

На следующем снимке экрана показаны результаты поиска, полученные после удаленного поиска на сайте SharePoint.

![снимок экрана, на котором показаны результаты поиска с сайта SharePoint, отображаемые в проводнике Windows](images/searchingasharepointsitefromwindowsexp.png)

## <a name="steps-for-building-federated-search"></a>Шаги для создания федеративного поиска

Чтобы создать федеративный поиск, выполните следующие действия.

1.  Включите Поиск в хранилище данных в проводнике Windows, предоставив веб-службу, совместимую с [OpenSearch](https://github.com/dewitt/opensearch), которая может возвращать результаты в формате RSS или Atom.
2.  Создайте файл описания OpenSearch (. OSDX-), в котором описывается, как подключиться к веб-службе и как сопоставлять пользовательские элементы в RSS-или Atom XML.
3.  Разверните соединители поиска на клиентских компьютерах Windows с помощью файла OSDX-.

На следующей схеме показаны шаги для создания федеративного поиска.

![Схема процесса создания федеративного поиска](images/queryinganewopensearchremotedatastore.png)

## <a name="how-federated-search-works"></a>Принцип работы федеративного поиска

Взаимодействие между проводником Windows и веб-службой [OpenSearch](https://github.com/dewitt/opensearch) осуществляется через уровень данных Windows. Уровень данных Windows может взаимодействовать с различными типами хранилищ данных с помощью поставщиков магазина Windows. Каждый поставщик специализируется на взаимодействии с хранилищами данных, которые поддерживают конкретный протокол и имеют определенные возможности. Например, на следующем рисунке СОВС, как поставщик [OpenSearch](https://github.com/dewitt/opensearch) взаимодействует с хранилищами данных, которые предоставляют веб-службу, поддерживающую стандарт [OpenSearch](https://github.com/dewitt/opensearch) .

![Схема, показывающая взаимодействие из проводника Windows на клиенте через хранилище данных OpenSearch на удаленном сервере](images/windowssearchfederationfunctionality.png)

Чтобы обеспечить поддержку федеративного поиска в Windows 7 для хранилища данных, необходимо выполнить ряд задач. В следующей таблице перечислены задачи для включения хранилища данных, необходимые для выполнения каждой задачи и место поиска документации.



| Задача                                                                                                     | Требование                                                                                                                                                                                            | Документация                                                                                                                                                                                                             |
|----------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Включение поиска в хранилище данных в проводнике Windows.<br/>                                    | Создайте веб-службу, совместимую с OpenSearch.<br/> Создайте файл описания OpenSearch (. OSDX-).<br/>                                                                                       | [Подключение веб-службы в Федеративной службе поиска Windows](-search-federated-search-web-service.md)<br/> [Включение хранилища данных в федеративный поиск Windows](-search-federated-search-data-store.md)<br/> |
| Активно разверните веб-службу для пользователей на предприятии.<br/>                               | Предоставьте OSDX--файл пользователям, скопируйте его локально и сделайте его доступным для пользователя с помощью ярлыка.<br/>                                                                                     | [Развертывание соединителей поиска в федеративного поиска Windows](-search-federated-search-deploying.md)<br/>                                                                                                              |
| Перечислите результаты поиска в проводнике Windows в ответ на запрос.<br/>                          | Реализуйте веб-службу, которая принимает строку запроса и возвращает результаты в формате RSS или Atom.<br/>                                                                                              | [Подключение веб-службы в Федеративной службе поиска Windows](-search-federated-search-web-service.md)<br/>                                                                                                            |
| Разрешить пользователям добавлять хранилище данных в проводник Windows.<br/>                                | Создайте файл OSDX-и предоставьте его пользователям.<br/>                                                                                                                                           | [Включение хранилища данных в федеративный поиск Windows](-search-federated-search-data-store.md)<br/>                                                                                                                |
| Отображение элементов в виде элементов, сходных с файлами, в проводнике Windows.<br/>                                    | Возврат URL-адреса файла или потока содержимого с помощью **корпуса** или **носителя: элементы содержимого**<br/> Укажите расширение имени файла или тип MIME, распознаваемый клиентским компьютером.<br/> | [Включение хранилища данных в федеративный поиск Windows](-search-federated-search-data-store.md)<br/>                                                                                                                |
| Отображение пользовательских свойств в проводнике Windows, кроме тех, которые определены в стандартах RSS или Atom.<br/> | Укажите дополнительные метаданные, используя другое пространство имен XML в выходных данных RSS/Atom.<br/> Добавьте карту свойств в OSDX--файл.<br/>                                                       | [Создание файла описания OpenSearch в федеративного поиска Windows](-search-federated-search-osdx-file.md)<br/>                                                                                                  |
| Настройка свойств, отображаемых для элементов в проводнике Windows.<br/>               | Добавьте сопоставления проплист в файл OSDX-.<br/>                                                                                                                                                   | [Создание файла описания OpenSearch в федеративного поиска Windows](-search-federated-search-osdx-file.md)<br/>                                                                                                  |
| Отображение настраиваемого представления веб-страницы для элементов в области просмотра.<br/>                              | Возвращают уникальные значения ссылок и вложений.<br/> Сопоставьте значение URL-адреса со свойством оболочки Windows **System. вебпревиевурл** .<br/>                                                               | [Создание файла описания OpenSearch в федеративного поиска Windows](-search-federated-search-osdx-file.md)<br/>                                                                                                  |
| Отображение кнопки панели команд в проводнике Windows, которая выполняет накат запроса к веб-сайту.<br/>   | Укажите `Url format="text/html"` шаблон в OSDX--файле.<br/>                                                                                                                              | [Создание файла описания OpenSearch в федеративного поиска Windows](-search-federated-search-osdx-file.md)<br/>                                                                                                  |



 

## <a name="sending-queries-and-returning-search-results-in-rss-or-atom"></a>Отправка запросов и возврат результатов поиска в RSS или Atom

Когда пользователь вводит термин в поле поиска в правом верхнем углу окна проводника, запрос отправляется поставщику [OpenSearch](https://github.com/dewitt/opensearch) , который затем отправляет запрос в удаленное хранилище данных. Удаленная веб-служба реагирует на запрос, предоставляя результаты в виде XML-документа, обычно называемого каналом, в одном из двух поддерживаемых форматов (RSS или Atom). Каждый результирующий элемент в веб-канале включает дочерние элементы XML для представления или описания метаданных элементов, таких как заголовок, URL-адрес, описание, изображение эскиза и т. д. Поставщик [OpenSearch](https://github.com/dewitt/opensearch) отвечает за сопоставление значений XML-элементов с системными свойствами оболочки Windows, которые могут использоваться приложениями Windows.

## <a name="federated-search-examples"></a>Примеры федеративного поиска

Следующий пример файла описания OpenSearch (. OSDX-) состоит из `ShortName` элементов и `Url` , которые являются минимальными необходимыми дочерними элементами для подключения внешнего хранилища данных к клиенту Windows через протокол OpenSearch.


```
<OpenSearchDescription xmlns="https://a9.com/-/spec/opensearch/1.1/">
        <ShortName>My web Service</ShortName>
        <Url format="application/rss+xml" template="https://example.com/rss.php?query={searchTerms}&amp;start={startIndex}&amp;cnt={count}" />
        </OpenSearchDescription>
```



В следующем примере показано, как сделать хранилище данных с поддержкой веб-сайта доступным в формате RSS и как указать, что должен возвращаться один элемент поиска:


```
<rss version="2.0" xmlns:media="https://search.yahoo.com/mrss/" xmlns:example="https://example.com/namespace">
   <channel>
      <title>Search Results</title>
      <item>
         <title>An example result</title>
         <link>https://example.com/pictures.aspx?id=01</link>
         <description>This is a test of the emergency search results system. If this were a real emergency result, then you would be reading something more useful.</description>
         <pubDate>Wed, 1 Oct 2008 23:12:00 GMT</pubDate>
         <media:content url="https://example.com/pictures/picture01.jpg" fileSize="212889" type="image/jpeg" height="768" width="1024"/>
         <media:thumbnail url="https://example.com/thumbnails/picture01.jpg" height="120" width="160"/>
         <example:dateTaken>Mon, 22 Sep 2008 23:12:00 GMT</example:dateTaken>
      </item>
   </channel>
</rss>
```



В следующем примере показано, как сопоставлять свойства со свойствами системы по умолчанию, чтобы отображаемые элементы были отсортированы и сгруппированы:


```
<author>Sanjay Jacobs</author>
                <category>Nature</category>
                <pubDate>Thu, 24 Apr 2008 2003 21:34:38 GTMT</pubDate>
```



В следующем примере показано, как добавить отображение эскиза к каждому элементу в проводнике Windows.


```
<media:thumbnail>    
```



## <a name="additional-resources"></a>Дополнительные ресурсы

Дополнительные сведения о реализации Федерации поиска в удаленных хранилищах данных с помощью технологий OpenSearch в Windows 7 и более поздних версиях см. в разделе "дополнительные ресурсы" в [Федеративной функции поиска в Windows](-search-federated-search-overview.md).

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Федеративный поиск в Windows](-search-federated-search-overview.md)
</dt> <dt>

[Подключение веб-службы в Федеративной службе поиска Windows](-search-federated-search-web-service.md)
</dt> <dt>

[Включение хранилища данных в федеративный поиск Windows](-search-federated-search-data-store.md)
</dt> <dt>

[Создание файла описания OpenSearch в федеративного поиска Windows](-search-federated-search-osdx-file.md)
</dt> <dt>

[Следующие рекомендации по использованию федеративного поиска Windows](-search-fedsearch-best.md)
</dt> <dt>

[Развертывание соединителей поиска в федеративного поиска Windows](-search-federated-search-deploying.md)
</dt> </dl>

 

 




