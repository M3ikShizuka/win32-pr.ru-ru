---
description: Функции установки могут создавать диалоговые окна для решения распространенных ситуаций установки и сбора сведений от пользователя.
ms.assetid: 0bff17a6-590d-4410-9ed1-0a655d94caad
title: О запросах диска и обработке ошибок
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cb6c171d1e479d5d16198ba6d632848ff152f4ae
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105662341"
---
# <a name="about-disk-prompting-and-error-handling"></a>О запросах диска и обработке ошибок

Хотя функции установки не предоставляют пользовательский интерфейс, существуют четыре функции установки, которые создают диалоговые окна для решения распространенных ситуаций установки и собирают сведения от пользователя. Это: [**сетуппромптфордиск**](/windows/desktop/api/Setupapi/nf-setupapi-setuppromptfordiska), [**сетупкоперрор**](/windows/desktop/api/Setupapi/nf-setupapi-setupcopyerrora), [**сетупренамиррор**](/windows/desktop/api/Setupapi/nf-setupapi-setuprenameerrora)и [**сетупделетиррор**](/windows/desktop/api/Setupapi/nf-setupapi-setupdeleteerrora).

Подпрограммы обратного вызова могут вызывать эти функции для создания диалоговых окон, помогающих обрабатывать уведомления, отправленные другими функциями установки, такими как [**сетупкоммитфилекуеуе**](/windows/desktop/api/Setupapi/nf-setupapi-setupcommitfilequeuea) и [**сетупинсталлфиле**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfilea).

Функция [**сетуппромптфордиск**](/windows/desktop/api/Setupapi/nf-setupapi-setuppromptfordiska) предлагает пользователю вставить съемный носитель, указать новый исходный путь или отменить установку. Приложение может предоставлять пользователю дополнительные возможности в зависимости от флагов, указанных при вызове функции. К ним относятся пропуск текущего файла или просмотр нового исходного пути.

Три функции, [**сетупкоперрор**](/windows/desktop/api/Setupapi/nf-setupapi-setupcopyerrora), [**сетупренамиррор**](/windows/desktop/api/Setupapi/nf-setupapi-setuprenameerrora)и [**сетупделетиррор**](/windows/desktop/api/Setupapi/nf-setupapi-setupdeleteerrora), создают диалоговые окна, взаимодействующие с пользователем для сбора сведений от пользователя о том, как продолжить работу в случае возникновения ошибки.

Функция [**сетупкоперрор**](/windows/desktop/api/Setupapi/nf-setupapi-setupcopyerrora) создает диалоговое окно, предлагающее пользователю восстановиться после ошибки копирования. Пользователь может указать новый исходный путь для операции копирования или отменить установку. В зависимости от флагов, указанных при вызове **сетупкоперрор**, пользователь может также найти новый исходный путь, просмотреть сведения об ошибке или пропустить текущий файл.

Диалоговое окно, запрашивающее пользователя о том, как обрабатывать ошибки, возникающие во время операции переименования файлов, можно создать путем вызова [**сетупренамиррор**](/windows/desktop/api/Setupapi/nf-setupapi-setuprenameerrora). С помощью этого диалогового окна пользователь имеет возможность повторить операцию, пропустить текущую операцию переименования или прервать выполнение.

Функция [**сетупделетиррор**](/windows/desktop/api/Setupapi/nf-setupapi-setupdeleteerrora) создает диалоговое окно, которое может собирать входные данные о том, как пользователь хочет решить ошибку, возникшую во время операции удаления файла. Пользователю предоставляются параметры для повторного выполнения операции, пропуска текущей операции удаления или прерывания.

Подпрограммы обратного вызова очереди по умолчанию, [**сетупдефаулткуеуекаллбакк**](/windows/desktop/api/Setupapi/nf-setupapi-setupdefaultqueuecallbacka), используют ранее упомянутые четыре функции для создания частей пользовательского интерфейса и для управления ошибками и запроса нового носителя.

 

 



