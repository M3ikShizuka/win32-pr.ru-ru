---
description: После того как все требуемые операции с файлами были поставлены в очередь, очередь должна быть зафиксирована. Это приводит к обработке операций с файлами в очереди.
ms.assetid: 536f47f5-785e-4a83-a500-c769442e3e68
title: Фиксация очереди
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d995f6811dbd19bba9e13f29bc119cdf2f471f74
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "103818080"
---
# <a name="committing-a-queue"></a>Фиксация очереди

После того как все требуемые операции с файлами были поставлены в очередь, очередь должна быть зафиксирована. Это приводит к обработке операций с файлами в очереди.

Невозможно повторно использовать очередь файлов после ее фиксации. Рекомендуется составить все необходимые файловые операции для очереди файлов и зафиксировать очередь только один раз. Если требуется дополнительная обработка очереди после ее фиксации, необходимо закрыть обработчик очереди и создать новую файловую очередь. Чтобы зафиксировать очередь файлов, вызовите функцию [**сетупкоммитфилекуеуе**](/windows/desktop/api/Setupapi/nf-setupapi-setupcommitfilequeuea) , указав подпрограммы обратного вызова. Подпрограммы обратного вызова будут получать уведомления от **сетупкоммитфилекуеуе** при обработке файловых операций. Если вы хотите использовать подпрограммы обратного вызова очереди по умолчанию, необходимо сначала инициализировать необходимый контекст, вызвав либо [**сетупинитдефаулткуеуекаллбакк**](/windows/desktop/api/Setupapi/nf-setupapi-setupinitdefaultqueuecallback) , либо [**сетупинитдефаулткуеуекаллбаккекс**](/windows/desktop/api/Setupapi/nf-setupapi-setupinitdefaultqueuecallbackex). Дополнительные сведения о подпрограммы обратного вызова очереди по умолчанию см. в разделе [подпрограммы обратного вызова очереди по умолчанию](default-queue-callback-routine.md).

> [!Note]  
> [**Сетупкоммитфилекуеуе**](/windows/desktop/api/Setupapi/nf-setupapi-setupcommitfilequeuea) следует вызывать до закрытия очереди. Любые операции, которые не зафиксированы при вызове [**сетупклосефилекуеуе**](/windows/desktop/api/Setupapi/nf-setupapi-setupclosefilequeue) , выполняться не будут.

 

 

 



