---
description: После успешной фиксации очереди необходимо будет обновить данные реестра для устанавливаемого продукта.
ms.assetid: 32161538-c1bd-41a0-bb4f-a32883fe8285
title: Обновление сведений реестра
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 579ef64739bbe063d6fed19234a74b89b86b8b257793a1a26e83fd651256d189
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119683054"
---
# <a name="updating-registry-information"></a>Обновление сведений реестра

После успешной фиксации очереди необходимо будет обновить данные реестра для устанавливаемого продукта. Перед изменением данных реестра рекомендуется дождаться успешного завершения всех необходимых операций копирования файлов.

Одним из способов обновления реестра является вызов [**сетупинсталлфроминфсектион**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfrominfsectiona) с помощью регулятора \_ ИНИФИЛЕС, прокрутка \_ реестра или самого регулятора \_ INI2REG. Эти флаги можно объединить в один вызов **сетупинсталлфроминфсектион**.

В следующем примере показано использование СЧЕТЧИКа \_ всех файлов ^ Spin \_ , чтобы указать, что функция должна обрабатывать все перечисленные операции, за исключением операций с файлами. Так как в разделе **Install** перечислены только операции ini, Registry и File, это краткий метод указания функции, которая должна обрабатывать все операции ini и реестра.

В следующем примере показано, как установить данные реестра с помощью функции **сетупинсталлфроминфсектион** .

``` syntax
Test = SetupInstallFromINFSection (
     NULL,                     //Window to own any dialog boxes
                               //created 
     MyInf,                    //INF file containing the section 
     MySection,                //the section to install
     SPINST_ALL ^ SPINST_FILES,//which installation operations 
                               //to process
     NULL,                     //the relative root key
     NULL,                     //the source root path
     0,                        //copy style
     NULL,                     //Message handler routine
     NULL,                     //Context
     NULL,                     //Device info set
     NULL                      //device info data
);
```

В этом примере *овнервиндов* имеет **значение NULL** , так как только операции с файлами создают диалоговые окна, и поэтому родительское окно не требуется. "Минф" — это INF-файл, содержащий раздел для обработки. Параметр "Мисектион" указывает раздел для установки. Объединенные флаги, РЕГУЛЯТОРы \_ все ^ все \_ файлы, укажите, какие операции установки следует обработать, в данном случае все операции, за исключением операций с файлами. Корневой путь источника указан как "A: \\ ".

Так как операции копирования не обрабатываются, параметры *копифлагс*, *мсгхандлер*, *context*, *девицеинфосет* и *девицеинфодата* не указаны.

 

 



