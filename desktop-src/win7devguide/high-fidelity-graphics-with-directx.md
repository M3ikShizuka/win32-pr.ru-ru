---
title: Высокая точность графики с помощью DirectX
description: Разработчики приложений Windows давно используют Microsoft DirectX для обеспечения высококачественной трехмерной графики с аппаратным ускорением.
ms.assetid: db555657-90b9-4db2-a0c2-bfaa526a8dd5
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cda45f911293b9d31b9ae28d89c25ed93ce33696
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "103793543"
---
# <a name="high-fidelity-graphics-with-directx"></a>Высокая точность графики с помощью DirectX

Разработчики приложений Windows давно используют Microsoft DirectX для обеспечения высококачественной трехмерной графики с аппаратным ускорением. При использовании технологии, представленной в 1995, разработчики могут предоставить высококачественную трехмерную графику для игр и инженерных приложений для любителей и специалистов, которые хотят платить за дополнительную плату для трехмерной графической платы. Теперь даже самые недорогие компьютеры включают в себя поддерживающие трехмерное графическое оборудование.

Чтобы воспользоваться преимуществами этих графических возможностей, в Windows Vista появилась инфраструктура модели WDDM для DirectX, которая позволила нескольким приложениям и службам совместно использовать ресурсы графического процессора (GPU). Диспетчер окон рабочего стола (DWM) использует эту технологию для анимации переключения задач в трехмерном виде, предоставления динамических эскизов окон приложений и предоставления эффектов Windows Aero Glass для настольных приложений.

Windows 7 предоставляет еще больше возможностей для работы с графикой в руки разработчиков приложений. С помощью нового набора Директксапис разработчики Microsoft Win32 могут воспользоваться новейшими нововведениями GPU, чтобы добавить в свои приложения быстрые, масштабируемые, высококачественные, 2D-и трехмерные графики, текст и изображения. На последних экранах *ЖК-дисплея* директксапис может отображать содержимое рабочего стола и окна, используя глубину цвета больше 8 бит на компонент цвета.

С помощью DirectX разработчики Win32 также могут использовать параллелизм GPU для вычислений общего назначения, таких как обработка изображений, и могут быть отображены на оборудовании DirectX 10, оборудовании DirectX 9, ЦП или удаленном компьютере Windows. Эти технологии были разработаны для взаимодействия с Windows интерфейс графических устройств (GDI) и Windows GDI+, гарантируя, что разработчики смогут легко сохранить существующие вложения в код Win32. (См. статью [новые возможности пакета SDK DirectX за март 2009](/previous-versions//bb173043(v=vs.85)).)

Эти расширенные возможности работы с графикой обеспечиваются следующими интерфейсами API на основе *com*:

-   [Direct2D](../direct2d/direct2d-portal.md) для рисования двухмерной графики.
-   [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) для упорядочения и отрисовки текста.
-   [Компонент Windows Imaging](/windows/desktop/wic/-wic-lh) для обработки и отображения изображений.
-   [Direct3D 10](/windows/desktop/direct3d10/d3d10-graphics) для рисования трехмерной графики.
-   [Direct3D 11](/windows/desktop/direct3d11/atoc-dx-graphics-direct3d-11) для рисования трехмерной графики и предоставления доступа к технологиям GPU следующего поколения, таким как тесселяция, ограниченная поддержка потоковой передачи текстур и вычисления общего назначения.
-   [Графическая инфраструктура DirectX (DXGI)](/windows/desktop/direct3ddxgi/dx-graphics-dxgi) для управления локальными и удаленными устройствами показа и ресурсами GPU и обеспечения взаимодействия между DirectX и GDI.

## <a name="direct2d"></a>Direct2D

Разработанная на основе Microsoft Direct3D 10, [Direct2D](../direct2d/direct2d-portal.md) предлагает разработчикам Win32 непосредственный режим, независимый от разрешения, независимые API, которые используют преимущества графического оборудования нового поколения, но хорошо взаимодействуют с СОВРЕМЕННЫМИ приложениями GDI/GDI+ и приложениями Direct3D 10. Direct2D обеспечивает высококачественную двухмерную визуализацию с высокой производительностью для GDI и GDI+. Он предоставляет разработчикам Win32 более точный контроль над ресурсами и их управлением. (См. [Direct2D](../direct2d/direct2d-portal.md).)

## <a name="directwrite"></a>DirectWrite

Многие современные приложения должны поддерживать высококачественную визуализацию текста, независимые от разрешения шрифты структуры, а полную поддержку текста и макета в Юникоде. [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal), новый компонент DirectX, предоставляет следующие функции и многое другое:

-   Независимая от устройства система макета текста, улучшающая удобочитаемость текста в документах и в пользовательском интерфейсе.
-   Высококачественная, Подпиксельная визуализация текста *ClearType* , которая может использовать GDI, [Direct2D](../direct2d/direct2d-portal.md)или технологию отрисовки для конкретного приложения.
-   Текст с аппаратным ускорением при использовании с [Direct2D](../direct2d/direct2d-portal.md).
-   Поддержка многоязычного текста.
-   Поддержка расширенных типографских функций шрифтов *OpenType* .
-   Поддержка макета и отрисовки текста на всех поддерживаемых языках.
-   Макет и отрисовка, совместимые с GDI.

Система шрифтов [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) позволяет использовать шрифт любого шрифта в любом месте, где пользователям не нужно выполнять отдельный шаг установки только для использования шрифта, а также улучшенную структурную иерархию группирования шрифтов для помощи при ручном или программном обнаружении шрифтов. API-интерфейсы поддерживают измерение, рисование и проверку попадания для текста в нескольких форматах. DirectWrite обрабатывает текст на всех поддерживаемых языках для глобальных и локализованных приложений, основываясь на ключевой инфраструктуре языка, обнаруженной в Windows 7. DirectWrite также предоставляет API-интерфейсы низкоуровневого рендеринга глифов для разработчиков, желающих выполнить собственный макет и обработку символов Юникода. (См. [DirectWrite](../directwrite/direct-write-portal.md).)

## <a name="windows-imaging-component"></a>Компонент обработки изображений Windows

В Windows Vista [компонент создания образов Windows](/windows/desktop/wic/-wic-lh) представил расширяемую платформу для работы с изображениями и метаданными изображений. Форматы изображений, поддерживаемые компонентом работы с образами Windows, включают *JPEG*, *PNG* и *TIFF*, а Поддерживаемые форматы метаданных включают *XMP* и *EXIF*. В Windows 7 компонент создания образов Windows расширяет соответствие стандартам требованиям, предоставляя поддержку для декодирования изображений, расширенных функций *PNG* , метаданных в *формате GIF* и метаданных, охватывающих сегменты *аппн* . (См. статью [новые возможности WIC в Windows 7](/previous-versions//ee720061(v=vs.85)).)

## <a name="direct3d-11"></a>Direct3D 11

Microsoft Direct3D 11 расширяет функциональные возможности конвейера Direct3D 10 и предоставляет игры Windows 7 и высокопроизводительные трехмерные приложения с эффективным, надежным и масштабируемым доступом к предстоящему поколению GPU и многоядерным процессорам. Помимо функций, обнаруженных в Direct3D 10, Direct3D 11 предоставляет несколько новых функций.

Теперь можно выполнить тесселяцию геометрических и высокозаказных поверхностей для поддержки масштабируемого динамического содержимого в представлениях "исправление" и "поверхность подразделений".

Чтобы обеспечить хорошее использование вычислительной мощности, доступной из нескольких ядер ЦП, многопоточность увеличивает число потенциальных вызовов отрисовки на кадр за счет распределения приложения, среды выполнения и вызовов драйвера между несколькими ядрами. Кроме того, создание и управление ресурсами оптимизировано для многопоточного использования, что обеспечивает более эффективное динамическое управление текстурами для потоковой передачи.

Для Direct3D 11 созданы новые общие шейдеры вычислений общего назначения. В отличие от существующих шейдеров, это расширения для программируемого конвейера, позволяющие приложению полностью работать на GPU независимо от ЦП. [**Дравауто**](/windows/desktop/api/d3d11/nf-d3d11-id3d11devicecontext-drawauto), который появился в Direct3D 10, был расширен для взаимодействия с шейдером вычислений.

В высокоуровневый язык заливки ([HLSL](/windows/desktop/direct3dhlsl/dx-graphics-hlsl)) были внесены некоторые улучшения, такие как ограниченная форма динамической компоновки в шейдере для улучшения сложности специализации, а также объектно-ориентированные конструкции программирования, такие как классы и интерфейсы. (См. статью [новые возможности пакета SDK DirectX за март 2009](/previous-versions//bb173043(v=vs.85)).)

## <a name="direct3d-10-improvements"></a>Улучшения Direct3D 10

Direct3D 10 включает переработанный графический конвейер с программируемыми этапами шейдера и неизменяемыми объектами состояния для инициализации этапов фиксированной функции. Объекты состояния упрощают конвейер и увеличивают производительность за счет минимизации необходимого количества изменений состояния. Теперь возможность программирования на стадиях шейдера предоставляет высокоуровневые расширения языка заливки для поддержки неограниченных инструкций шейдера, обобщенных ресурсов шейдера, а также целочисленных и побитовых вычислений.

В конвейере также представлен этап шейдера геометрии, который разгружается полностью с ЦП на GPU. Этот новый этап позволяет создавать геометрию, передавать данные в память и отображать геометрию без взаимодействия ЦП.

Некоторые другие улучшения разработаны специально для повышения производительности. При подготовке к просмотру с помощью предиката перекрытия применяется для уменьшения количества отображаемых геометрических объектов. API-интерфейсы экземпляров могут значительно уменьшить объем геометрии, который необходимо передать в GPU, путем рисования нескольких экземпляров схожих объектов. Массивы текстур позволяют GPU выполнять переключение текстур без вмешательства процессора.

В Direct3D 10 и Direct3D 11 были внесены несколько дополнений для расширения спектра конфигураций, которые могут быть нацелены на эти API. Технология [Windows Advanced растеризации (искривление)](/windows/desktop/direct3darticles/directx-warp) реализует быструю многоядерную визуализацию ЦП для Direct3D 10, обеспечивая полнофункциональную визуализацию графики в системах без графического оборудования. Добавление новых функциональных уровней, специально именуемых [Direct3D 10 уровня 9](/windows/desktop/direct3d11/d3d11-graphics-reference-10level9), позволяет Direct3D 10 и Direct3D 11APIs использовать аппаратное обеспечение Microsoft Direct3D 9-Class, расширяя количество конфигураций, которые приложение Direct3D 10 или Direct3D 11 может ориентировать на практически каждую компьютерную систему на рынке. (См. раздел [Graphics Direct3D 10](../direct3d10/d3d10-graphics.md).)

## <a name="directxgdi-interoperability"></a>Совместимость с DirectX/GDI

В Windows Vista поведение приложения, использующего как DirectX, так и GDI для отрисовки на общей поверхности, отличается в зависимости от того, включено ли DWM. Кроме того, когда DWM включен, приложения, использующие DirectX и GDI, работают по-разному в Windows Vista, чем в Windows XP. Это привело к тому, что многие поставщики программного обеспечения отключают DWM при запуске приложений в Windows Vista, чтобы обеспечить единообразное поведение. Благодаря улучшениям DirectX в Windows 7 приложение теперь может свободно смешивать DirectX и GDI без отключения DWM. В Windows 7 также реализована улучшенная производительность сценариев, требующих взаимодействия между DirectX и GDI, с использованием более эффективных интерфейсов API Direct3D 10. (См. раздел [Общие сведения о взаимооперациях Direct2D и GDI](../direct2d/direct2d-and-gdi-interoperation-overview.md).)

 

 