---
description: чтобы установить несколько экземпляров продукта из одного пакета установщик Windows, необходимо создать базовый пакет установки для продукта и преобразование экземпляра для каждого экземпляра, который будет установлен в дополнение к базовому экземпляру.
ms.assetid: fef49dda-503f-4b13-8763-70cb2ee0df5d
title: Создание нескольких экземпляров с помощью преобразований экземпляров
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0efac957d5e0e82665cb1ba20aeb42fe9b60293699c5c3fd97f5e6a6f1abf58a
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119745914"
---
# <a name="authoring-multiple-instances-with-instance-transforms"></a>Создание нескольких экземпляров с помощью преобразований экземпляров

чтобы установить несколько экземпляров продукта из одного пакета установщик Windows, необходимо создать базовый пакет установки для продукта и преобразование экземпляра для каждого экземпляра, который будет установлен в дополнение к базовому экземпляру. При создании базового пакета и преобразований следуйте приведенным ниже рекомендациям.

-   приложение установки может проверить наличие установщика, запущенного на версии Windows Vista, Windows Server 2003, Windows XP с пакетом обновления 1 (sp1) и распространяемый компонент установщик Windows 3,0. Любая из этих версий установщика (или более поздняя версия) необходима для установки нескольких экземпляров из одного пакета с помощью кода продукта — изменение преобразования.
-   Каждый экземпляр должен иметь уникальный код продукта и идентификатор экземпляра. Вы можете определить свойство в базовом пакете, значение которого может быть задано в качестве идентификатора экземпляра.
-   Чтобы обеспечить изолированность файлов каждого экземпляра, базовый пакет должен устанавливать файлы в расположение каталога, зависящее от идентификатора экземпляра.
-   Чтобы предотвратить изолированность нефайловых данных каждого экземпляра, базовый пакет должен сохранять нефайловые данные в Наборы компонентов для каждого экземпляра. Затем соответствующие компоненты должны быть установлены на основе условных инструкций, зависящих от идентификатора экземпляра.
-   Создайте преобразование экземпляра для каждого устанавливаемого экземпляра в дополнение к базовому экземпляру. Базовый пакет может установить собственный экземпляр.
-   Преобразование экземпляра должно изменить код продукта и идентификатор для каждого экземпляра.
-   Рекомендуется, чтобы преобразование «продукт» также изменило название продукта, чтобы экземпляр был легко различен в окне Установка и удаление программ через панель управления.
-   Если при преобразовании экземпляра файлы устанавливаются, они должны быть установлены в каталоге, который зависит от идентификатора экземпляра.
-   Все нефайловые данные, такие как разделы реестра, должны содержать имя экземпляра в пути для предотвращения конфликтов. Это можно сделать с помощью свойства, значение которого является идентификатором экземпляра в пути, как показано в следующем примере [таблицы реестра](registry-table.md).



| Реестр | Root | Клавиши                                            | Название         | Значение           | Компонент\_      |
|----------|------|------------------------------------------------|--------------|-----------------|------------------|
| Reg1     | 1    | Программное обеспечение \\ Microsoft \\ мипродукт \\ \[ InstanceId\] | инстанцегуид | \[ProductCode\] | NonFileDataComp1 |



 

Дополнительные сведения см. в статьях [Установка нескольких экземпляров продуктов и исправлений](installing-multiple-instances-of-products-and-patches.md) и [Установка нескольких экземпляров с преобразованиями экземпляров](installing-multiple-instances-with-instance-transforms.md).

 

 



