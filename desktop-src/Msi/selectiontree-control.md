---
description: Этот элемент управления позволяет пользователю изменить состояние выбора компонентов, перечисленных в таблице Feature.
ms.assetid: 0daf5b44-ba07-47f1-95d9-28c59f7cf985
title: Элемент управления Селектионтри
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 894a7d90829172c29a6f1df1ffc4139cc0bf6c540bd49193c3cc2f3a396891ec
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "120040354"
---
# <a name="selectiontree-control"></a>Элемент управления Селектионтри

Этот элемент управления позволяет пользователю изменить состояние выбора компонентов, перечисленных в [таблице Feature](feature-table.md). Элемент управления связан со свойством, возвращающим строковое значение, которое пользователь может задать в [диалоговом окне обзора](browse-dialog.md). Элемент управления можно связать со свойством, введя имя свойства в столбце свойства [таблицы Control](control-table.md).

элемент управления селектионтри автоматически публикует следующие [события элемента управления](control-events.md) в операционных системах Windows XP или более ранних версий. Элемент управления Селектионтри публикует эти события при изменении выбранного элемента с одного узла на другой. Если дерево выбора не содержит узлов, элемент управления публикует эти события и удаляет содержимое элементов управления, которые подписываются на событие. Эти Контролевентс не обязательно должны быть перечислены в [таблице таблице ControlEvent событие](controlevent-table.md).



| Событие элемента управления                                                 | Описание                                                                                        |
|---------------------------------------------------------------|----------------------------------------------------------------------------------------------------|
| [селектионактион](selectionaction-controlevent.md)           | Публикует строку из [таблицы уитекст](uitext-table.md) , описывающей выделенный элемент.      |
| [селектионбровсе](selectionbrowse-controlevent.md)           | Создает диалоговое окно обзора, используемое для изменения пути выделенного элемента.                     |
| [селектиондескриптион](selectiondescription-controlevent.md) | Публикует строку из [таблицы компонентов](feature-table.md) , описывающей выделенный элемент.    |
| [селектионноитемс](selectionnoitems-controlevent.md)         | Удаляет описательный текст или отключает кнопки устаревшего элемента.                          |
| [селектионпас](selectionpath-controlevent.md)               | Публикует путь для выделенного элемента.                                                       |
| [селектионпасон](selectionpathon-controlevent.md)           | Публикует наличие пути выбора, связанного с текущим выбранным компонентом. |
| [селектионсизе](selectionsize-controlevent.md)               | Публикует размер выделенного элемента.                                                        |



 

начиная с систем Windows Server 2003, элементы управления селектионтри публикуют все события в таблице выше, а также публикуют [DoAction таблице controlevent событие](doaction-controlevent.md) или [SetProperty таблице controlevent событие](setproperty-controlevent.md). Записи должны быть добавлены в [таблицу таблице ControlEvent событие](controlevent-table.md) для публикации DoAction или SetProperty контролевентс.



| Событие элемента управления                               | Описание                                        |
|---------------------------------------------|----------------------------------------------------|
| [DoAction](doaction-controlevent.md)       | Уведомляет установщик о необходимости выполнения настраиваемого действия. |
| [SetProperty](setproperty-controlevent.md) | Присваивает свойству новое значение.                    |



 

начиная с версии установщик Windows 3,0 элементы управления селектионтри публикуют событие, запускающее [пользовательские действия](custom-actions.md) , перечисленные в [таблице таблице controlevent событие](controlevent-table.md). Элемент управления Селектионтри публикует это событие при каждом изменении выбора компонентов в элементе управления или при выборе другого состояния выбора для текущего компонента. Настраиваемые действия выполняются каждый раз при публикации события. Элемент управления Селектионтри отправляет сведения в настраиваемое действие, устанавливая значения следующих свойств. Все эти свойства очищаются при закрытии элемента управления Селектионтри.

**установщик Windows 2,0:** Не поддерживается. Элемент управления Селектионтри не публикует событие и не устанавливает следующие свойства.



| Свойство                                | Описание                                                                                                                                                      |
|-----------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| мсиселектионтриселектедфеатуре         | Имя выбранного компонента в поле "компонент" [таблицы функций](feature-table.md).                                                                      |
| мсиселектионтриселектедактион          | Состояние действия установки выбранного компонента. Значение может быть INSTALLSTATE \_ отсутствует, InstallState \_ Local, InstallState \_ Source или InstallState \_ объявлено. |
| мсиселектонтричилдренкаунт            | Число прямых дочерних узлов.                                                                                                                                    |
| мсиселектионтриинсталлингчилдренкаунт | Число прямых дочерних узлов, INSTALLSTATE \_ локально, InstallState \_ Source или InstallState \_ .                                                    |
| мсиселектионтриселектедкост            | Стоимость установки выбранного компонента в единицах по 512 байт.                                                                                                   |
| мсиселектионтричилдренкост            | Стоимость установки всех дочерних компонентов в 512 байт.                                                                                              |
| мсиселектионтриселектедпас            | Путь, по которому устанавливается выбранный компонент. Определяется только в том случае, если компонент устанавливается как \_ локальный InstallState.                                       |



 

> [!Note]
>
> Содержимое текстового поля [таблицы элемента управления](control-table.md) никогда не отображается элементом управления селектионтри. Вместо этого поле определяет стиль текста, отображаемого элементом управления, и содержит описание элемента управления, используемого программами проверки экрана. Чтобы задать шрифт и начертание текстовой строки, перед строкой отображаемых символов укажите { \\ Style} или {&*Style*}. Где Style — это идентификатор, указанный в столбце система создала шрифт [таблицы система создала шрифт](textstyle-table.md). Если ни один из этих элементов отсутствует, но свойство [**дефаултуифонт**](defaultuifont.md) определено как допустимый стиль текста, используется этот шрифт. Сведения, приведенные ниже, считываются с помощью служебных программ проверки экрана в качестве описания элемента управления. См. раздел [Специальные возможности](accessibility.md).

 

## <a name="control-attributes"></a>Атрибуты элемента управления

С этим элементом управления можно использовать следующие атрибуты. Чтобы изменить значение атрибута с помощью события, подпишите элемент управления на таблице ControlEvent событие в [таблице таблица eventmapping](eventmapping-table.md) и перечислите идентификатор атрибута в столбце Attribute. Введите идентификатор таблице ControlEvent событие в столбце событий.



| Идентификатор атрибута                                               | Шестнадцатеричный бит                  | Описание                                                                                                                                                                                                                                                                                                                                                               |
|--------------------------------------------------------------------|----------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [индиректпропертинаме](indirectpropertyname-control-attribute.md) |                                  | Имя косвенного свойства, связанного с элементом управления. Если задан бит непрямого атрибута, элемент управления отображает или изменяет значение свойства с таким именем. Если задан бит непрямого атрибута, это имя также является значением свойства, указанного в столбце свойство [таблицы Control](control-table.md).                                    |
| [Позиция](position-control-attribute.md)                         |                                  | Расположение элемента управления в диалоговом окне. Введите ширину элемента управления, высоту и координаты левого угла элемента управления в столбцах ширина, высота, X и Y [таблицы управления](control-table.md). Используйте [единицы установщика](installer-units.md) для длины и расстояния.<br/>                                                                             |
| [PropertyName](propertyname-control-attribute.md)                 |                                  | Имя свойства, связанного с этим элементом управления. Если бит непрямого атрибута не задан, элемент управления отображает или изменяет значение свойства с таким именем. Этот атрибут задается в столбце свойств [таблицы Control](control-table.md).                                                                                                    |
| [PropertyValue](propertyvalue-control-attribute.md)               |                                  | Текущее значение свойства, отображаемое или изменяемое этим элементом управления. Если бит непрямого атрибута не задан, это значение PropertyName. Если задан бит непрямого атрибута, это значение равно Индиректпропертинаме. Если атрибут изменяется, элемент управления отражает новое значение.                                                                           |
| [Text](text-control-attribute.md)                                 |                                  | Отображает текст в средств в соответствии с текстом, введенным в столбец text [таблицы Control](control-table.md). См. раздел [Специальные возможности](accessibility.md).                                                                                                                                                                                                          |
| [Visible](visible-control-attribute.md)                           | 0x00000000 0x00000001<br/> | Скрытый элемент управления. Видимый элемент управления.<br/> Включите этот бит в битовое слово столбца Attributes в [таблице Control](control-table.md) , чтобы сделать элемент управления видимым или скрытым при его создании.<br/> Можно также скрыть или показать элемент управления с помощью [таблицы таблица controlcondition](controlcondition-table.md).<br/>                                     |
| [Включен](enabled-control-attribute.md)                           | 0x00000000 0x00000002<br/> | Элемент управления в отключенном состоянии. Элемент управления в состоянии Enabled.<br/> Включите этот бит в битовое слово в столбце Attributes [элемента управления](control-table.md) , чтобы обеспечить возможность создания элемента управления.<br/> Можно также включить или отключить элемент управления с помощью [таблицы таблица controlcondition](controlcondition-table.md).<br/>                                   |
| [Sunken](sunken-control-attribute.md)                             | 0x00000000 0x00000004<br/> | Отображает стиль оформления по умолчанию. Отображает элемент управления Утопленный, трехмерный, внешний вид.<br/> Включите эти биты в битовое слово в столбец Attributes [таблицы Control](control-table.md).<br/>                                                                                                                                                             |
| [Косвенные](indirect-control-attribute.md)                         | 0x00000000 0x00000008<br/> | Элемент управления отображает или изменяет значение свойства в столбце свойств [таблицы управления](control-table.md). Элемент управления отображает или изменяет значение свойства с идентификатором, указанным в столбце свойство таблицы Control.<br/> Определяет, косвенно ли происходит обращение к свойству, связанному с этим элементом управления.<br/> |
| [ртлро](rtlro-control-attribute.md)                               | 0x00000000 0x00000020<br/> | Текст в элементе управления отображается в порядке чтения слева направо. Текст в элементе управления отображается в порядке чтения справа налево.<br/>                                                                                                                                                                                                                              |
| [ригхталигнед](rightaligned-control-attribute.md)                 | 0x00000000 0x00000040<br/> | Текст в элементе управления выполнится по левому краю. Текст в элементе управления выполнится по правому краю.<br/>                                                                                                                                                                                                                                                                       |
| [лефтскролл](leftscroll-control-attribute.md)                     | 0x00000000 0x00000080<br/> | Полоса прокрутки расположена в правой части элемента управления. Полоса прокрутки расположена в левой части элемента управления.<br/>                                                                                                                                                                                                                                         |
| [Письмо](bidi-control-attribute.md)                                 | 0x000000E0                       | Задайте это значение для комбинации атрибутов [ртлро](rtlro-control-attribute.md), [ригхталигнед](rightaligned-control-attribute.md)и [лефтскролл](leftscroll-control-attribute.md) .                                                                                                                                                                          |



 

## <a name="remarks"></a>Remarks

Этот элемент управления можно создать из класса WC \_ TREEVIEW с помощью функции [**CreateWindowEx**](/windows/win32/api/winuser/nf-winuser-createwindowexa) . У него есть **Стили \_ WS**, **телевизоры \_ хаслинес**, **телевизоры \_ хасбуттонс**, **телевизоры \_ линесатрут**, **телевизоры \_ дисабледрагдроп**, **телевизоры \_ шовселалвайс**, **WS \_ Child**, **WS \_ TABSTOP** и **WS \_ Group** .

Дерево выбора заполняется только в том случае, если были вызваны [действие костинитиализе](costinitialize-action.md) и [действие костфинализе](costfinalize-action.md) .

Следующая строка в [таблице уитекст](uitext-table.md) связана с этим элементом управления.



| Термин                                                                                                         | Описание                                                    |
|--------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------|
| <span id="AbsentPath"></span><span id="absentpath"></span><span id="ABSENTPATH"></span>абсентпас<br/> | Путь, отображаемый для элемента в состоянии "отсутствует".<br/> |



 

Следующие шесть строк используются для вывода числа выбранных дочерних элементов и размера, связанного с выделенным элементом:

-   селчилдкостпос
-   селчилдкостнег
-   селпаренткостпоспос
-   селпаренткостпоснег
-   селпаренткостнегпос
-   селпаренткостнегнег

Следующие строки используются для вывода доступных параметров выбора элемента во всплывающем меню:

-   менуабсент
-   менулокал
-   менукд
-   менунетворк
-   менуалллокал
-   менуаллкд
-   менуаллнетворк

Следующие строки используются для объяснения текущего выбора в [селектиондескриптион](selectiondescription-controlevent.md) таблице ControlEvent событие.

-   селабсентабсент
-   селабсентлокал
-   селабсенткд
-   селабсентнетворк
-   селлокалабсент
-   селлокаллокал
-   селлокалкд
-   селлокалнетворк
-   селкдабсент
-   селнетворкабсент
-   селкдлокал
-   селнетворклокал
-   селкдкд
-   селнетворкнетворк

Для форматирования размера файла используются следующие четыре локализованные строки:

-   Байты
-   КБ
-   МБ
-   ГБ

 

 
