---
description: Установщик Windows обрабатывает пользовательские действия в виде отдельного потока из основной установки.
ms.assetid: 6451029c-87f4-44ee-aa2b-cc9a1c25bcc0
title: Синхронные и асинхронные настраиваемые действия
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 067c5b40840269f3a0393faee8fe670f5e522c7e
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105673434"
---
# <a name="synchronous-and-asynchronous-custom-actions"></a>Синхронные и асинхронные настраиваемые действия

Установщик Windows обрабатывает пользовательские действия в виде отдельного потока из основной установки. Во время синхронного выполнения настраиваемого действия установщик ожидает завершения потока настраиваемого действия, прежде чем продолжить основную установку. Во время асинхронного выполнения установщик выполняет настраиваемое действие одновременно с тем, как текущая установка продолжится. Таким образом, авторы пользовательских действий должны знать о любых асинхронных потоках, которые могут вносить изменения в базу данных установки между вызовами функций.

В частности, в асинхронных настраиваемых действиях следует избегать вызовов [**мсижеттаржетпас**](/windows/desktop/api/Msiquery/nf-msiquery-msigettargetpatha) и [**мсисеттаржетпас**](/windows/desktop/api/Msiquery/nf-msiquery-msisettargetpatha) . Вместо этого используйте [**MsiGetProperty**](/windows/desktop/api/Msiquery/nf-msiquery-msigetpropertya) для получения целевого пути. Операции с массовыми базами данных, такие как операции импорта, экспорта и преобразования, следует избегать в любом типе настраиваемого действия.

Флаги параметров можно задать в поле Тип [таблицы CustomAction](customaction-table.md) , чтобы указать, что основные и пользовательские потоки действий выполняются синхронно или асинхронно. См. раздел [Параметры обработки возвращаемых пользовательских действий](custom-action-return-processing-options.md).

Установщик может выполнять только [пользовательские действия отката](rollback-custom-actions.md) и [параллельные действия установки](concurrent-installations.md) в качестве синхронных настраиваемых действий.

 

 



