---
description: Форматированный тип данных — это текстовая строка, которая обрабатывается для разрешения имен внедренных свойств, ключей таблиц, ссылок на переменные среды и других специальных подстрок.
ms.assetid: 7a1bc160-a06c-4d57-b429-e39167893a45
title: Отформатированный
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cdd15dca46839b25dbf186d8a741b7a5c37c05f3
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "103998813"
---
# <a name="formatted"></a>Отформатированный

Форматированный тип данных — это текстовая строка, которая обрабатывается для разрешения имен внедренных свойств, ключей таблиц, ссылок на переменные среды и других специальных подстрок. Для разрешения строки распознаются следующие соглашения:

-   В тексте остаются квадратные скобки ( \[ \] ) или фигурные скобки ({}) без совпадающей пары.
-   Если обнаружена подстрока вида \[ *PropertyName* \] , она заменяется значением свойства. Если значение *PropertyName* не является допустимым именем свойства, подстрока разрешается как пустое. Например, столбец Description [таблицы лаунчкондитион](launchcondition-table.md) принимает отформатированную строку. Если для ЕРРОРТКСТ задано значение "обратитесь в службу поддержки". текст, отображаемый для неудачного условия запуска, будет содержать эту строку. Если ЕРРОРТКСТ не задан, то текст, отображаемый для неудачного выполнения условия запуска, будет просто "система не соответствует требованиям установки".

    

    | Условие | Описание                                                  |
    |-----------|--------------------------------------------------------------|
    | Version9X | Система не соответствует требованиям к установке. \[еррорткст\] |

    

     

-   Можно выполнить итерацию по квадратным скобкам, а имена свойств разрешаются из внутренней области. Например, предположим, что \[ \[ \] \] в тексте присутствует свойство substring. Во-первых, извлекается значение свойства свойства. Если значение является допустимым именем свойства, например Пропертиб, то возвращается значение Пропертиб, а всем свойством подстроки a \[ \[ \] \] заменяется значение пропертиб. Если свойство a не является допустимым именем свойства или значение свойства a не является допустимым именем свойства, подстрока пуста.
-   Если обнаружена подстрока формы \[ % *environmentvariable* \] , значение переменной среды заменяется на подстроку.
-   Если найдена подстрока вида \[ \\ *x* , \] она заменяется символом *x* , где *x* — один символ, без дальнейшей обработки. Сохраняется только первый символ после обратной косой черты; все остальное удаляется. Например, чтобы включить в литерал левую квадратную скобку ( \[ ), используйте \[ \\ \[ \] . Текст текстовой \[ \\ \[ \] скобки \[ \\ \] \] разрешается в текст в виде \[ квадратной \] скобки.
-   Если подстрока заключена в фигурные скобки ({}) и не содержит имен свойств, заключенных в квадратные скобки ( \[ \] ), подстрока остается без изменений, включая фигурные скобки.
-   Если подстрока заключена в фигурные скобки ({}) и содержит одно или несколько имен свойств, заключенных в квадратные скобки ( \[ \] ), то, если все имена свойств являются допустимыми, текст (с разрешенными подстановками) отображается без фигурных скобок.
-   При обнаружении подстроки формы \[ ~ \] она заменяется символом NULL. Он используется для создания символьных строк **reg \_ Multi \_ SZ** в [таблице реестра](registry-table.md). Обратите внимание, что \[ ~ \] также используется для добавления или префикса значений к переменным среды с помощью [таблицы Environment](environment-table.md).
-   Если подстрока формы \[ \# *филекэй* \] найдена, она заменяется полным путем к файлу со значением *филекэй* , используемым в качестве ключа в [таблице File](file-table.md). Значение \[ \# *филекэй* \] остается пустым и не заменяется путем, пока установщик не выполнит действие [костинитиализе](costinitialize-action.md), [филекост Action](filecost-action.md)и [костфинализе](costfinalize-action.md). Значение \[ \# *филекэй* \] зависит от состояния установки компонента, которому принадлежит файл. Если компонент запускается из источника, то значением является путь к исходному расположению файла. Если компонент запускается локально, значение представляет собой путь к целевому расположению файла после установки. Если в компоненте отсутствует состояние Action, установленное состояние компонента используется для определения \[ \) .
-   Если подстрока формы \[ $ *компоненткэй* \] найдена, она заменяется каталогом установки компонента со значением *компоненткэй* , используемым в качестве ключа в [таблице Component](component-table.md). Значение \[ $ *компоненткэй* \] остается пустым и не заменяется каталогом, пока установщик не выполнит действие [костинитиализе](costinitialize-action.md), [филекост Action](filecost-action.md)и [костфинализе](costfinalize-action.md). Значение \[ $ *компоненткэй* \] зависит от состояния установки компонента и места его возникновения. В столбце значение [таблицы реестра](registry-table.md)эта подстрока может ссылаться на состояние действия или на состояние запрошенного действия компонента. Во всех остальных случаях эта подстрока относится к состоянию действия компонента. Например, если компонент запускается из источника, значение является исходным каталогом файла. Если компонент запускается локально, то значение является целевым каталогом после установки. Если компонент отсутствует, значение остается пустым. Установщик Windows отслеживает действие и требуемые состояния установки компонентов. Например, если компонент уже установлен, он может иметь запрошенное состояние Local и состояние действия null. Дополнительные сведения о проверке состояния установки компонентов см. [в разделе Проверка установки компонентов, компонентов и файлов](checking-the-installation-of-features-components-files.md).
-   Обратите внимание, что если компонент уже установлен и не переустановлен, удален или перемещен во время текущей установки, то состояние действия компонента будет равно null, а строка компоненткэй будет иметь \[ $  \] значение null.
-   Если подстрока формы \[ !*филекэй* \] найден, он заменяется полным коротким путем к файлу со значением *филекэй* , используемым в качестве ключа в [таблице File](file-table.md).

    Этот синтаксис допустим только при использовании в столбце значение реестра или в таблицах Инифиле. При использовании в других столбцах этот синтаксис обрабатывается так же, как \[ \# *филекэй* \] .

 

 



