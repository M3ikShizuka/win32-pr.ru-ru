---
description: ICE38 проверяет, что каждый компонент, устанавливаемый в профиль текущего пользователя, также указывает раздел реестра в \_ \_ корневом каталоге hKey текущего пользователя в столбце ключевого пути таблицы Component.
ms.assetid: f1548b04-78c2-461a-a729-9a8c4856d0d8
title: ICE38
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2d001d244160f939a73e697e677bf43a1f5f825f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "104081063"
---
# <a name="ice38"></a>ICE38

ICE38 проверяет, что каждый компонент, устанавливаемый в профиль текущего пользователя, также указывает раздел реестра в корневом каталоге **hKey \_ текущего \_ пользователя** в столбце ключевого пути [таблицы Component](component-table.md).

## <a name="result"></a>Результат

ICE38 отправляет сообщение об ошибке, если компонент, установленный в профиле пользователя, не указывает раздел реестра HKCU.

## <a name="example"></a>Пример

ICE38 сообщает о следующих ошибках в приведенном примере.



| ICE38, ошибка                                                                                                                         | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|-------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Компонент Component1 устанавливает в профиль пользователя. Он должен использовать раздел реестра HKCU в качестве ключевого пути, а не файл.                    | Значение столбца Attributes объекта Component1 равно 0, что означает, что компонент должен использовать файл в качестве ключевого пути. Это вызывает проблемы, когда несколько пользователей устанавливают компонент на одном компьютере. Чтобы устранить эту ошибку в Component1, установите бит Регистрикэйпас в столбце Attributes [таблицы Component](component-table.md) и измените запись в столбце Ключевой путь на значение, указанное в столбце реестра [таблицы Registry](registry-table.md).<br/>                                                                                |
| Компонент Component2 устанавливает в профиль пользователя. Он должен использовать раздел реестра в разделе HKCU в качестве ключевого пути. В настоящее время ключевой путь имеет значение NULL. | Component2 имеет бит Регистрикэйпас, установленный в столбце Attributes [таблицы Component](component-table.md). Таким образом, поле ключевого пути должно содержать ключ к столбцу реестра [таблицы реестра](registry-table.md) , но ключевой столбец имеет значение null. Чтобы устранить эту ошибку, измените значение ключевого слова на допустимую запись в таблицу реестра.<br/>                                                                                                                                                                                                     |
| Компонент Component3 устанавливает в профиль пользователя. Раздел реестра ключевого раздела должен находиться в разделе HKCU.                                      | Component3 имеет бит Регистрикэйпас, заданный в столбце Attributes [таблицы Component](component-table.md) , но в корне записи реестра, указанной в корневом столбце таблицы реестра, указан **\_ локальный \_ компьютер hKey** , а не **\_ текущий \_ пользователь hKey**. Чтобы устранить эту ошибку, используйте допустимую запись реестра в разделе **hKey \_ Local \_ Machine** в качестве ключевого пути для этого компонента или измените значение в корневом столбце [таблицы реестра](registry-table.md) на-1 или 1.<br/>                                                                  |
| Запись реестра ключевого слова для компонента Component4 не существует.                                                                 | Component4 имеет бит Регистрикэйпас, установленный в столбце Attributes [таблицы Component](component-table.md) , но запись в столбце ключевого слова не существует в [таблице реестра](registry-table.md). Чтобы устранить эту ошибку, добавьте запись для Reg4 в таблицу реестра, которая находится в разделе " **\_ текущий \_ пользователь hKey**".<br/>                                                                                                                                                                                                                                      |
| Запись реестра Reg5 задается в качестве ключевого пути для компонента Component5, но эта запись реестра не принадлежит Component5.      | Запись реестра, на которую ссылается ключевой столбец компонента, найдена и находится в дереве HKCU, но столбец компонента записи реестра \_ не ссылается на тот же компонент, который был указан в качестве ключевого пути. Это означает, что запись реестра, используемая в качестве ключевого параметра компонента, будет создана только при установке какого бы то ни было другого компонента. Чтобы устранить эту ошибку, измените значение ключевого слова, чтобы оно ссылалось на запись реестра, принадлежащую данному компоненту, или измените запись реестра на принадлежащую компоненту, используя его в качестве ключевого пути.<br/> |



 

[Таблица каталогов](directory-table.md) (частичная)



| Каталог | \_Родительский каталог | дефаултдир      |
|-----------|-------------------|-----------------|
| Dir1      |                   | Programmenufolder |
| Dir2      |                   | DesktopFolder   |
| Dir3      | Dir3              | AppData         |
| Dir4      | Dir3              | SubDir          |



 

[Таблица Component](component-table.md) (частичная)



| Компонент  | Каталог\_ | Атрибуты | Путь |
|------------|-------------|------------|---------|
| Component1 | Dir1        | 0          | Файл1   |
| Component2 | Dir2        | 4          |         |
| Component3 | Dir3        | 4          | Reg3    |
| Component4 | Dir4        | 4          | Reg4    |
| Component5 | Dir5        | 4          | Reg5    |



 

[Таблица реестра](registry-table.md) (частичная)



| Реестр | Root | Значение | Компонент\_ |
|----------|------|-------|-------------|
| Reg3     | 2    |       | Component3  |
| Reg5     | 0    |       | Component4  |



 

## <a name="related-topics"></a>См. также

<dl> <dt>

[Справочник по ICE](ice-reference.md)
</dt> </dl>

 

 




