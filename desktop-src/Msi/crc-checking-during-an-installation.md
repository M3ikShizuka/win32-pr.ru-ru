---
description: В установщик Windows доступен циклический контроль избыточности файлов.
ms.assetid: c895488b-6e60-4175-8865-4ba4b0cb2d9a
title: Проверка CRC во время установки
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 56e03bb6754b0259aa8b27333c8137408e7dc956
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "104265657"
---
# <a name="crc-checking-during-an-installation"></a>Проверка CRC во время установки

В установщик Windows доступен циклический контроль избыточности файлов. Проверка CRC — это механизм проверки ошибок, аналогичный контрольной сумме, который позволяет приложению определить, были ли изменены данные в файле. После того как установщик Windows завершит копирование файла, он получает значение CRC как из исходного, так и из целевого файлов. Установщик проверяет исходную контрольную сумму, помеченную в файле, и сравнивает ее с CRC, вычисленным на основе копии. Проверка CRC завершается сбоем, если исходное значение CRC не равно NULL и отличается от CRC, вычисленного для копии. Если исходная CRC имеет значение null, проверка не выполняется.

Установщик Windows выполняет проверку CRC файла в следующих случаях:

-   Если [свойство мсичекккркс](msicheckcrcs.md) задано и **мсидбфилеаттрибутесчекксум** включено в поле Attributes записи файла в [таблице File](file-table.md). Установщик выполняет проверку контрольной суммы один раз после установки, дублирования или перемещения файла.
-   Если [свойство мсичекккркс](msicheckcrcs.md) задано и **мсидбфилеаттрибутесчекксум** включено в поле Attributes записи файла в [таблице File](file-table.md), установщик выполняет проверку CRC после внесения исправлений в файл.
-   Если **мсидбфилеаттрибутесчекксум** включен в поле Attributes записи файла в [таблице File](file-table.md), установщик выполняет проверку CRC перед привязкой образов.

Если проверка завершается ошибкой перед привязкой образа, установщик сообщает о следующих двух ошибках в файле журнала и продолжит установку без привязки файла.



| Код | Сообщение                                               |
|------|-------------------------------------------------------|
| 2941 | Не удалось вычислить CRC для файла \[ 2 \] .             |
| 2942 | Действие BindImage не выполнено для \[ 2 \] файла. |



 

Если проверка завершается сбоем после копирования, дублирования или исправления несжатого файла, установщик сообщает о следующей ошибке. Эта ошибка также сообщает о сбое проверки после копирования сжатого файла. Если файл имеет атрибут **мсидбфилеаттрибутесвитал** , файл считается жизненно важным для установки, и пользователь получает возможность повторить попытку или отменить установку. Если файл помечен как некритический в столбце Attributes [таблицы File](file-table.md), пользователь может пропустить ошибку и продолжить, повторить попытку или отменить установку.



| Код | Сообщение                                         |
|------|-------------------------------------------------|
| 1331 | Не удалось правильно скопировать \[ 2 \] файл: Ошибка CRC. |



 

Обратите внимание, что перемещаются только несжатые файлы. Если проверка завершается сбоем после перемещения несжатого файла, установщик отображает следующую ошибку. Если файл имеет атрибут **мсидбфилеаттрибутесвитал** , файл считается жизненно важным для установки, и установка завершается сбоем. Если файл помечен как некритический в столбце Attributes [таблицы File](file-table.md), пользователь получает возможность отменить или пропустить ошибку и продолжить установку.



| Код | Сообщение                                         |
|------|-------------------------------------------------|
| 1332 | Не удалось правильно переместить \[ 2 \] файл: Ошибка CRC. |



 

Если проверка завершается сбоем после исправления несжатого файла, установщик отображает следующую ошибку. Если файл имеет атрибут **мсидбфилеаттрибутесвитал** , файл считается жизненно важным для установки, и установка завершается сбоем. Если файл помечен как некритический в столбце Attributes [таблицы File](file-table.md), пользователь получает возможность отменить или пропустить ошибку и продолжить установку.



| Код | Сообщение                                          |
|------|--------------------------------------------------|
| 1333 | Не удалось правильно обновить \[ файл исправления 2 \] : Ошибка CRC. |



 

 

 



