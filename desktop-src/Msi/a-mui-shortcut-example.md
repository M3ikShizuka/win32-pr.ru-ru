---
description: В этом разделе описывается добавление строк ресурсов в таблицу ярлыков установщик Windows для использования с многоязычным пользовательским интерфейсом (MUI).
ms.assetid: f521cfb8-32a8-4b62-b258-5b99cc3e0416
title: Пример ярлыка многоязыкового интерфейса пользователя
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0392713c1eaedabaa989baecd79478a9b329e955
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105650746"
---
# <a name="a-mui-shortcut-example"></a>Пример ярлыка многоязыкового интерфейса пользователя

В этом разделе описывается добавление строк ресурсов в таблицу [ярлыков](shortcut-table.md) установщик Windows для использования с многоязычным пользовательским интерфейсом (MUI).

**Установщик Windows 2,0 и установщик Windows 3,0:** Не поддерживается. Для этого примера требуется установщик Windows 4,0.

Сведения о разработке приложений с поддержкой MUI см. в документации по [многоязычному пользовательскому интерфейсу (MUI)](/windows/desktop/Intl/multilingual-user-interface) .

Чтобы добавить строки ресурсов, используемые многоязыковыми пользовательскими интерфейсами Windows Vista, в пакет установщик Windows:

1.  Добавьте сведения для всех языковых и языковых файлов в [таблицу File](file-table.md). Например, файлы могут состоять из файла, не зависящего от языка (msimsg.dll) и языковых файлов для английского (msimsgen.dll. MUI), японского (msimsgja.dll. MUI) и китайского (msimsgcs.dll. MUI). Каждый файл может принадлежать другому компоненту. Каждый файл может иметь как длинное, так и короткое имя файла. В этом примере в [таблицу файлов](file-table.md)можно добавить следующие сведения.

    [Таблица файлов](file-table.md) (частичная)

    

    | Файл        | Компонент\_     | FileName                     |
    |-------------|-----------------|------------------------------|
    | мсимсгмуижа | МСИМСГ \_ MUI \_ ja | msimsgja.dll\|msimsg.dll. MUI |
    | мсимсгмуикс | МСИМСГ \_ MUI \_ CS | msimsgcs.dll\|msimsg.dll. MUI |
    | мсимсгмуиен | МСИМСГ \_ MUI \_ en | msimsgen.dll\|msimsg.dll. MUI |
    | мсимсгдлл   | мсимсг          | msimsg.dll                   |

    

     

2.  Добавьте сведения в [таблицу Component](component-table.md) для этих компонентов. Каждый компонент имеет уникальный идентификатор GUID, который следует указать в поле ComponentId таблицы Component. Файл, принадлежащий компоненту, может служить в качестве ключевого пути для этого компонента. Каталог, содержащий каждый компонент, можно указать в \_ поле Каталог. В таблицу Component можно добавить следующие сведения.

    [Таблица Component](component-table.md) (частичная)

    

    | Компонент       | Каталог\_   | Путь     |
    |-----------------|---------------|-------------|
    | МСИМСГ \_ MUI \_ ja | Муифолдер \_ ja | мсимсгмуижа |
    | МСИМСГ \_ MUI \_ CS | Муифолдер \_ CS | мсимсгмуикс |
    | МСИМСГ \_ MUI \_ en | Муифолдер \_ en | мсимсгмуиен |
    | мсимсг          | муифолдер     | мсимсгдлл   |

    

     

3.  Измените таблицу [Directory](directory-table.md) , чтобы компоненты были установлены в нужные каталоги. Не забудьте включить сведения о каталоге, в котором будет установлен ярлык. Например, следующие сведения могут быть добавлены в таблицу каталогов пакета, который устанавливает компоненты, и ярлыка, расположенного в каталоге DesktopFolder.

    [Таблица каталогов](directory-table.md) (частичная)

    

    | Каталог     | \_Родительский каталог | дефаултдир |
    |---------------|-------------------|------------|
    | TARGETDIR     |                   | SourceDir  |
    | мситест       | TARGETDIR         | Мситест:.  |
    | муифолдер     | мситест           | РАСПРОСТРАНЯЕТСЯ        |
    | Муифолдер \_ CS | муифолдер         | cs-CZ      |
    | Муифолдер \_ en | муифолдер         | en-US      |
    | Муифолдер \_ ja | муифолдер         | ja-JP      |
    | DesktopFolder | TARGETDIR         | .          |

    

     

4.  Добавьте строку в таблицу [ярлыков](shortcut-table.md) для каждого ярлыка. Например, в таблице [ярлыков](shortcut-table.md) могут содержаться следующие сведения для двух ярлыков: Quick1 и Quick2, которые устанавливаются в каталог директорифолдер. Каждое сочетание клавиш относится к функции, указанной в поле Target. Значок, связанный с ярлыком, можно указать в поле значок \_ и в таблице [значков](icon-table.md) .

    [Таблица ярлыков](shortcut-table.md) (частичная)

    

    | Сочетание клавиш | Каталог\_   | Компонент\_ | Целевой объект               | Значок             |
    |----------|---------------|-------------|----------------------|------------------|
    | Quick1   | DesktopFolder | мсимсг      | FeatureChild1 \_ локальный | HelpFileIcon.exe |
    | Quick2   | DesktopFolder | мсимсг      | FeatureChild1 \_ локальный | HelpFileIcon.exe |

    

     

5.  Добавьте сведения в таблицу " [Feature](feature-table.md) " для компонента, которому принадлежит ярлык. При активации ярлыка установщик проверяет, установлены ли все компоненты, относящиеся к этому компоненту, перед запуском файла ключа компонента, указанного в столбце Component в \_ таблице [ярлыков](shortcut-table.md) . В этом примере в таблицу функций для локального компонента FeatureParent1 можно добавить следующие сведения \_ .

    [Таблица компонентов](feature-table.md) (частичная)

    

    | Функция               | \_Родительский компонент функции       | Заголовок                 | Атрибуты |
    |-----------------------|-----------------------|-----------------------|------------|
    | FeatureParent1 \_ локальный |                       | FeatureParent1 \_ локальный | 16         |
    | FeatureChild1 \_ локальный  | FeatureParent1 \_ локальный | FeatureParent1 \_ локальный | 0          |

    

     

6.  Для каждого нового ярлыка добавьте сведения о строке ресурса в поля Дисплайресаурцедлл, Дисплайресаурцеид, Дескриптионресаурцедлл и Дескриптионресаурцеид в [таблице ярлыков](shortcut-table.md). Поля Дисплайресаурцедлл и Дескриптионресаурцедлл содержат строку ресурса в формате [форматированной](formatted.md) строки. Форматированная строка может использовать \[ \# соглашение *филекэй* \] в [форматированном](formatted.md) формате. Добавьте индексы вывода и описания для строк ресурсов в полях Дисплайресаурцеид и Дескриптионресаурцеид.

    [Таблица ярлыков](shortcut-table.md) (частичная)

    

    | Сочетание клавиш | дисплайресаурцедлл | дисплайресаурцеид | дескриптионресаурцедлл | дескриптионресаурцеид |
    |----------|--------------------|-------------------|------------------------|-----------------------|
    | Quick1   | \[\#мсимсгдлл\]    | 36                | \[\#мсимсгдлл\]        | 37                    |
    | Quick2   | \[\#мсимсгдлл\]    | 38                | \[\#мсимсгдлл\]        | 39                    |

    

     

7.  После установки пакета выполните проверку, чтобы убедиться, что многоязыковой интерфейс пользователя работает должным образом.

 

 
