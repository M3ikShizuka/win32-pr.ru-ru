---
description: Действие Инсталлфилес копирует файлы, указанные в таблице файлов из исходного каталога, в целевой каталог.
ms.assetid: 187ad82f-13f5-4ea3-913c-2ae7561a6ee6
title: Действие Инсталлфилес
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5c2a0206ec5a64974f27375e175f25ce1888b430
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105662638"
---
# <a name="installfiles-action"></a>Действие Инсталлфилес

Действие Инсталлфилес копирует файлы, указанные в таблице файлов из исходного каталога, в целевой каталог.

## <a name="sequence-restrictions"></a>Ограничения последовательности

Действие Инсталлфилес должно следовать после действия [инсталлвалидате](installvalidate-action.md) и перед всеми зависимыми от файла действиями.

## <a name="actiondata-messages"></a>Сообщения Актиондата



| Поле | Описание данных действия                      |
|-------|-------------------------------------------------|
| \[1\] | Идентификатор установленного файла.                   |
| \[6\] | Размер установленного файла в байтах.                |
| \[9\] | Идентификатор каталога, в котором установлен файл. |



 

## <a name="remarks"></a>Комментарии

Действие Инсталлфилес работает с файлами, указанными в [таблице File](file-table.md). Каждый файл устанавливается на основе состояния установки компонента, связанного с файлом, в [таблице Component](component-table.md). Только те файлы, компоненты которых разрешаются в состояние **мсиинсталлстателокал** , могут быть скопированы.

Действие Инсталлфилес реализует следующие столбцы таблицы File.

-   В столбце FileName указывается имя целевого файла.
-   В столбце версия указывается версия файла.
-   В столбце атрибуты указываются биты флага файла и атрибута установки.
-   В столбце File указывается уникальный маркер файла.
-   В столбце Размер файла указан размер несжатого файла в байтах.
-   В столбце Language указывается идентификатор языка файла.
-   В столбце Sequence указывается порядковый номер носителя.

Действие Инсталлфилес реализует следующие столбцы таблицы Component.

-   Столбец Directory \_ указывает ссылку на элемент [таблицы каталога](directory-table.md) .
-   В столбце Component указывается уникальное имя элемента компонента.

Указанный файл копируется только в том случае, если выполняется одно из следующих условий.

-   Этот файл в данный момент не установлен на локальном компьютере.
-   Файл находится на локальном компьютере, но имеет номер версии ниже, чем файл в [таблице File](file-table.md).
-   Файл находится на локальном компьютере, но связанный номер версии отсутствует.

Исходный каталог для каждого копируемого файла определяется Саурцемоде, который, в свою очередь, зависит от значения в столбце "CAB-файл" таблицы Media. Полное описание режима исходного кода см. в [таблице Media](media-table.md).

Если исходный каталог копируемого файла находится на съемном носителе, например на дискете или компакт-диске, действие Инсталлфилес проверяет, вставлен ли правильный исходный носитель перед попыткой копирования файла. Инсталлфилес выполняет поиск носителя того же съемного типа с меткой [*тома*](v-gly.md) , совпадающей со значением, заданным в столбце VolumeLabel таблицы Media. Если найден соответствующий подключенный том, процесс копирования файла продолжается. Если совпадений не найдено, диалоговое окно предпросит пользователя вставить нужный носитель. В этом случае диалоговое окно использует имя носителя, найденное в столбце DiskPrompt таблицы Media в составе запроса.

Необходимо соблюдать осторожность, так как действие Инсталлфилес может удалить исходный файл и не заменить его. Это происходит, когда в действии Инсталлфилес возникает ошибка при замене старого файла, и пользователь решил пропустить эту ошибку. Поведение установщика по умолчанию — удалить старый файл, прежде чем гарантировать правильную копию нового файла.

Правила управления версиями файлов, используемые установщиком, см. в разделе [правила управления версиями файлов](file-versioning-rules.md).

 

 



