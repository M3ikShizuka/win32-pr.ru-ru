---
description: При указании компонентов для установки Авторы пакетов должны следовать общим правилам для организации компонентов, описанным в разделе Упорядочение приложений по компонентам.
ms.assetid: 7cf322e9-c49a-40a8-be4e-ab03ecba1c1f
title: Изменение кода компонента
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7531b4a38312d4abed038b612c4292c44af8e967
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105662910"
---
# <a name="changing-the-component-code"></a>Изменение кода компонента

При указании [компонентов](windows-installer-components.md) для установки Авторы пакетов должны следовать общим правилам для организации компонентов, описанным в разделе [Упорядочение приложений по компонентам](organizing-applications-into-components.md). Авторам может потребоваться добавить новые компоненты или изменить существующие компоненты. Если добавление, удаление или изменение ресурсов эффективно создает новый компонент, необходимо также изменить код компонента.

## <a name="creating-a-new-component"></a>Создание нового компонента

Познакомьтесь с новым компонентом и назначьте ему уникальный код компонента при внесении любого из следующих изменений:

-   Любое изменение, которое не было показано при тестировании, совместимо с предыдущими версиями компонента. В этом случае необходимо также изменить имя или целевое расположение каждого ресурса в компоненте.
-   Изменение имени или целевого расположения любого файла, раздела реестра, ярлыка или другого ресурса в компоненте. В этом случае необходимо также изменить имя или целевое расположение каждого ресурса в компоненте.
-   Добавление или удаление любого файла, раздела реестра, ярлыка или другого ресурса из компонента. В этом случае необходимо также изменить имя или целевое расположение каждого ресурса в компоненте.
-   Перекомпиляция 32-разрядного компонента в 64-разрядный компонент.

При внедрении нового компонента авторы должны выполнить одно из следующих действий, чтобы убедиться, что компонент не конфликтует с существующими компонентами:

-   Измените имя или целевое расположение любого ресурса, который может быть установлен с тем же именем и целевым расположением, другим компонентом.
-   В противном случае гарантируется, что новый компонент никогда не будет устанавливаться в ту же папку, что и другой компонент, имеющий ресурс с общим именем и расположением. К ним относятся локализованные версии файлов с одинаковыми именами файлов. Дополнительные сведения см. в статье [что произойдет, если правила компонентов будут разорваны?](what-happens-if-the-component-rules-are-broken.md)
-   При изменении кода компонента существующего компонента также измените имя или целевое расположение каждого файла, раздела реестра, ярлыка и другого ресурса в компоненте.

### <a name="creating-a-new-version-of-a-component"></a>Создание новой версии компонента

Новой версии компонента назначается тот же код компонента, что и у другого существующего компонента. Изменение компонента без изменения кода компонента является обязательным только в следующих случаях.

-   Изменения компонента проверены проверкой на обратную совместимость со всеми предыдущими версиями компонента.
-   Автор может гарантировать, что новая версия компонента никогда не будет установлена в системе, где она будет конфликтовать с предыдущими версиями компонента или приложений, для которых требуется предыдущая версия. Дополнительные сведения см. в статье [что произойдет, если правила компонентов будут разорваны?](what-happens-if-the-component-rules-are-broken.md)

Код компонента новой версии компонента не должен изменяться, если это приведет к совместному использованию ресурсов двумя компонентами, такими как значения реестра, файлы или ярлыки.

 

 



