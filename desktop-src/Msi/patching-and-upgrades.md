---
description: Поскольку пакет установки может содержать файлы, из которых состоит приложение, а также сведения, необходимые для их установки, установщик Windows можно использовать для обновления приложения.
ms.assetid: da946739-9efc-4bf0-8a9a-6f6ead3c4a34
title: Установка исправлений и обновления
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b8cee185461ac14c8eac336a5af0c1315eb5e027
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103998560"
---
# <a name="patching-and-upgrades"></a>Установка исправлений и обновления

Поскольку пакет установки может содержать файлы, из которых состоит приложение, а также сведения, необходимые для их установки, установщик Windows можно использовать для обновления приложения. Установщик может обновить сведения в следующих частях установочного пакета:

-   MSI файл.
-   Файлы приложения.
-   Сведения о регистрации установщик Windows.

Тип обновления может быть характеризуется изменениями, внесенными обновлением в код продукта приложения, версию продукта и код пакета. Версия продукта приложения хранится в свойстве [**ProductVersion**](productversion.md) . Код продукта приложения хранится в свойстве [**ProductCode**](productcode.md) . [Код пакета](package-codes.md) приложения хранится в свойстве [**сводки номера редакции**](revision-number-summary.md) .

Обновление, которое изменяет приложение на другой продукт, необходимо для изменения [**ProductCode**](productcode.md) приложения. Дополнительные сведения о том, какие обновления нуждаются в изменении **ProductCode** , см. [в разделе изменение кода продукта](changing-the-product-code.md). Обновление может изменить [**ProductVersion**](productversion.md) и оставить **ProductCode** без изменений, если в будущих версиях приложения потребуется различать обновленные и необновленные версии текущего продукта. [Код пакета](package-codes.md) уникальным образом определяет пакет установки и всегда должен изменяться каждый раз, когда обновление или обновление изменяет любую информацию в пакете установки.

При принятии решения о необходимости изменения версии продукта следует учитывать необходимость отличия обновленных и необновленных версий текущего продукта будущими версиями приложения. Чтобы обеспечить различие в будущем, вместо [небольшого обновления](small-updates.md)следует использовать [незначительное](minor-upgrades.md) обновление.

-   Если обновление изменяет MSI-файл и файлы приложения, но не изменяет свойство [**ProductCode**](productcode.md) или свойство [**ProductVersion**](productversion.md) , оно называется [небольшим обновлением](small-updates.md).
-   Если обновление изменяет [**ProductVersion**](productversion.md), но не изменяет [**код продукта**](productcode.md), оно называется [незначительным обновлением](minor-upgrades.md).
-   Если обновление изменяет установку на совершенно другой продукт, необходимо изменить [**ProductCode**](productcode.md) , а обновление — на [значительное обновление](major-upgrades.md).

> [!Note]  
> Для обеспечения отличий версий текущего продукта в будущем следует использовать [незначительное](minor-upgrades.md) обновление вместо [небольшого](small-updates.md).

 

В следующей таблице перечислены различные типы обновлений.



| Тип обновления                       | ProductCode | ProductVersion | Описание                                                                                                                                                                                                                                                                                                           |
|--------------------------------------|-------------|----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [Небольшое обновление](small-updates.md)    | Без изменения.   | Без изменения.      | Обновление одного или двух файлов, размер которых слишком мал для изменения [**ProductVersion**](productversion.md). Код пакета в свойстве [**сводки номера редакции**](revision-number-summary.md) изменяется. Можно поставлять как полный пакет установки или как [пакет исправлений](patch-packages.md). |
| [Незначительное обновление](minor-upgrades.md)  | Без изменения.   | Изменено        | Небольшое обновление вносит значительные изменения, чтобы гарантировать изменение свойства [**ProductVersion**](productversion.md) . Можно поставлять как полный пакет установки или как [пакет исправлений](patch-packages.md).                                                                                                |
| [Основные обновления](major-upgrades.md) | Изменено     | Изменено        | Исчерпывающее обновление продукта, требующее изменения в свойстве [**ProductCode**](productcode.md) . Поставляется как [пакет исправлений](patch-packages.md) или полный пакет установки продукта.                                                                                                             |



 

> [!Note]  
> Установщик Windows может установить приложение или обновление для всех пользователей компьютера (контекста компьютера) или для конкретного пользователя (контекст пользователя) в зависимости от привилегий доступа пользователя, значения свойства [**ALLUSERS**](allusers.md) и версии операционной системы. это можно делать с помощью. Разработчикам приложений следует учитывать, в каких контекстах будут устанавливаться обновления. Если контексты приложения и обновления различаются, приложение может не обновиться должным образом.

 

Пользователи могут обновить приложение, переустановив пакет установщик Windows для приложения. Обратите внимание, что [небольшие](minor-upgrades.md) обновления могут быть применены так же, как [небольшие](small-updates.md). Дополнительные сведения об обновлении приложения путем переустановки приложения см. в следующих разделах:

-   [Применение небольших обновлений путем переустановки продукта](applying-small-updates-by-reinstalling-the-product.md)
-   [Применение основных обновлений путем установки продукта](applying-major-upgrades-by-installing-the-product.md)

Обновление приложения может предоставляться пользователям как пакет исправлений установщик Windows. Исправление может содержать весь файл или только биты файлов, необходимые для обновления части файла. Это означает, что пользователь может загрузить обновление, которое намного меньше, чем весь продукт, и сохранить настройки пользователей при помощи обновления. Обратите внимание, что [небольшие](minor-upgrades.md) обновления могут быть применены так же, как [небольшие](small-updates.md). Дополнительные сведения об обновлении приложения с помощью исправления см. в следующих разделах:

-   [Исправления](patching.md)
-   [Создание небольшого исправления обновления](creating-a-small-update-patch.md)
-   [Применение небольших обновлений путем исправления локальной установки продукта](applying-small-updates-by-patching-the-local-installation-of-the-product.md)
-   [Применение небольших обновлений путем исправления административного образа](applying-small-updates-by-patching-an-administrative-image.md)
-   [Применение основных обновлений путем исправления локальной установки продукта](applying-major-upgrades-by-patching-the-local-installation-of-the-product.md)

 

 



