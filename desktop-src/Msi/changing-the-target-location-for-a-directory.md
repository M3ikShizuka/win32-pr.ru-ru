---
description: Если это возможно, лучше всего указать целевое расположение для каталога, создав таблицу каталога в установочном пакете, чтобы предоставить правильное расположение. Дополнительные сведения см. в разделе Использование таблицы Directory.
ms.assetid: 2d16e036-2d7f-431d-b646-1addf2f65f3f
title: Изменение целевого расположения каталога
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 27adf952faeb4d37d5edb08a04bf25cc640d41e5d87732b30c80d25bba729705
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118145687"
---
# <a name="changing-the-target-location-for-a-directory"></a>Изменение целевого расположения каталога

Если это возможно, лучше всего указать целевое расположение для каталога, создав [таблицу каталога](directory-table.md) в установочном пакете, чтобы предоставить правильное расположение. Дополнительные сведения см. [в разделе Использование таблицы Directory](using-the-directory-table.md).

Если необходимо изменить расположение каталога во время установки, можно выбрать один из следующих вариантов.

-   Укажите расположение каталога, задав значение [общего свойства](public-properties.md) в командной строке. Во время [действия костфинализе](costfinalize-action.md)внутренние пути к каталогу, используемые установщиком, обновляются до значений свойств, указанных в виде ключей в [таблице Directory](directory-table.md). Дополнительные сведения см. в статьях [использование свойств](using-properties.md) и [Установка значений общих свойств в командной строке](setting-public-property-values-on-the-command-line.md).
-   Укажите расположение каталога с помощью настраиваемого действия. Если пользовательское действие выполняется перед [действием костфинализе](costfinalize-action.md), можно использовать [настраиваемое действие с типом 51](custom-action-type-51.md) , чтобы задать значение свойства из форматированной текстовой строки. Если пользовательское действие запускается после [действия костфинализе](costfinalize-action.md), можно использовать [настраиваемое действие с типом 35](custom-action-type-35.md) , чтобы задать значение пути к каталогу из форматированной текстовой строки. Настраиваемые действия, которые изменяют одно из [системных свойств системной папки](property-reference.md) , должны быть включены в таблицы последовательности выполнения (таблицу [Инсталлексекутесекуенце](installexecutesequence-table.md) или таблицу [админексекутесекуенце](adminexecutesequence-table.md)) и таблицы последовательностей пользовательского интерфейса (таблицы [инсталлуисекуенце Table](installuisequence-table.md) и [админуисекуенце Table](adminuisequence-table.md)), чтобы папка была изменена во время [*полного пользовательского интерфейса*](f-gly.md) и [*базовой установки пользовательского интерфейса*](b-gly.md) .
-   Если при установке выполняется [*полный пользовательский интерфейс*](f-gly.md), можно использовать [**Мсисеттаржетпас**](/windows/desktop/api/Msiquery/nf-msiquery-msisettargetpatha) или [сеттаржетпас таблице ControlEvent событие](settargetpath-controlevent.md) , чтобы задать путь к каталогу. Проверьте свойство [**продуктстате**](productstate.md) , чтобы определить, установлен ли продукт, содержащий этот компонент, перед вызовом **Мсисеттаржетпас** или сеттаржетпас таблице ControlEvent событие. Не пытайтесь изменить путь к целевому каталогу, если некоторые компоненты, использующие этот путь, уже установлены для текущего пользователя или другого пользователя.

На все указанные выше параметры распространяются следующие ограничения.

-   Не пытайтесь изменить путь к целевому каталогу, если некоторые компоненты, использующие этот путь, уже установлены для текущего пользователя или для другого пользователя.
-   Не пытайтесь изменить путь к целевому каталогу во время [установки обслуживания](maintenance-installation.md).

 

 



