---
description: В следующем примере показано, как создать условное окно сообщения, которое открывается и предупреждает пользователя о том, что фоновая задача все еще выполняется, когда пользователь активирует отображаемый элемент управления преждевременно.
ms.assetid: 4a99a96b-50c2-42eb-82ad-acdfa186a71f
title: Создание "Подождите. . ." Окно сообщения
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f3f7abc26254b9656ca3d522fa7458ded30fbf09cc20a39a9f960e7509bee8a4
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "120086364"
---
# <a name="authoring-a-conditional-please-wait-message-box"></a>Создание условного выражения "Подождите..." Окно сообщения

В следующем примере показано, как создать условное окно сообщения, которое открывается и предупреждает пользователя о том, что фоновая задача все еще выполняется, когда пользователь активирует отображаемый элемент управления преждевременно.

В примере также показано, как [Спавнваитдиалог таблице ControlEvent событие](spawnwaitdialog-controlevent.md) можно использовать для защиты элемента управления, запускающего действие, зависящее от завершения фоновой задачи.

В этом примере для пользователя в процессе установки отображается [диалоговое окно выбора](selection-dialog.md) , содержащее три элемента управления "Кнопка" с меткой " **установить сейчас**", " **Далее**" и " **Стоимость диска** ". Однако при отображении этого диалогового окна установщик также выполняет задачу по затратам на место на диске в фоновом режиме. Автор хочет защитить эти кнопки от активации и хочет создать окно сообщения "Подождите", если пользователь нажмет любую кнопку до завершения учета. Автор также хочет, чтобы это окно сообщения содержало кнопку **Отмена** и исчезало сразу после завершения фоновой задачи.

**Отображение диалогового окна с запросом на ожидание завершения фонового расхода дискового пространства**

1.  Используйте возможности установщика, чтобы добавить в [диалоговую таблицу](dialog-table.md)новое модальное диалоговое окно с именем **ваитфоркостинг**. В диалоговом окне должна отобразиться текстовая строка с текстом "Подождите, пока закончится стоимость места на диске".
2.  Добавьте один элемент управления "Кнопка отправки" в это диалоговое окно с меткой **Отмена**, разработав его в [таблице элементов управления](control-table.md).
3.  Свяжите кнопку **Отмена** отправки с таблице ControlEvent событие, который закрывает диалоговое окно **ваитфоркостинг** , путем создания в [таблице таблице ControlEvent событие](controlevent-table.md)соединения [EndDialog таблице ControlEvent событие](enddialog-controlevent.md) . Задайте для аргумента события элемента управления EndDialog значение Exit.
4.  Свяжите [Спавнваитдиалог таблице ControlEvent событие](spawnwaitdialog-controlevent.md) с существующими кнопками " **установить сейчас**", " **Далее**" и " **затраты на диск** ", которые отображаются в [диалоговом окне "Выбор](selection-dialog.md) ". Задайте аргумент этого таблице ControlEvent событие в таблице таблице ControlEvent событие в виде диалогового окна **ваитфоркостинг** и задайте выражение в столбце Условие таблицы: [**костингкомплете**](costingcomplete.md) = 1.

 

 



