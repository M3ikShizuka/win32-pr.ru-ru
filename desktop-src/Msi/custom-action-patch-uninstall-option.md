---
description: Используйте следующий флаг параметра, чтобы указать, что установщик запускает настраиваемое действие только при удалении исправления. Чтобы задать параметр, добавьте значение в этой таблице в значение поля ExtendedType таблицы CustomAction.
ms.assetid: aa4d9e21-5316-42b5-a22e-c7a5becd3cae
title: Параметр удаления исправления настраиваемого действия
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 108365876393733f7cc520ae565bb2c5ea7ff3df
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105651176"
---
# <a name="custom-action-patch-uninstall-option"></a>Параметр удаления исправления настраиваемого действия

Используйте следующий флаг параметра, чтобы указать, что установщик запускает настраиваемое действие только при удалении исправления. Чтобы задать параметр, добавьте значение в этой таблице в значение поля ExtendedType [таблицы CustomAction](customaction-table.md).

**[Установщик Windows 4,0 и более ранних версий](not-supported-in-windows-installer-4-0.md):** Не поддерживается. Этот параметр доступен, начиная с установщик Windows 4,5.



| Константа                                | Шестнадцатеричный | Decimal | Описание                                                    |
|-----------------------------------------|-------------|---------|----------------------------------------------------------------|
| **мсидбкустомактионтипепатчунинсталл** | 0x8000      | 32768   | Настраиваемое действие выполняется только при удалении исправления. |



 

## <a name="remarks"></a>Комментарии

Этот атрибут можно добавить в настраиваемое действие путем его создания в установщик Windowsном пакете (MSI-файле). С помощью исправления можно добавить новое настраиваемое действие с этим атрибутом. Пользовательское действие, имеющее этот атрибут, может обновляться с помощью исправления. Этот атрибут нельзя добавить или удалить с помощью исправления для существующего настраиваемого действия.

Если исправление добавляет или обновляет настраиваемое действие с этим атрибутом, установщик Windows запускает новое или обновленное настраиваемое действие при удалении исправления. Установщик Windows делает обновления из удаляемого исправления доступными для настраиваемого действия удаления исправления. Исправление должно включать таблицу [мситрансформвиев *<PatchGUID>*](msitransformview.md) , чтобы предоставить эти сведения установщик Windows.

Если пакет, содержащий настраиваемое действие с атрибутом **мсидбкустомактионтипепатчунинсталл** , устанавливается с помощью установщика версии более ранней, чем установщик Windows 4,0, установщик не вызывает настраиваемое действие при удалении исправления. Установка может выполнить настраиваемое действие во время установки, восстановления или обновления пакета.

Пользовательские действия с атрибутом **мсидбкустомактионтипепатчунинсталл** должны быть условы с помощью свойства [**мсипатчремове**](msipatchremove.md) , чтобы предотвратить выполнение настраиваемого действия при установке, восстановлении или обновлении с помощью системы с установщик Windows 4,0 или более ранней версии. При установке установщик Windows 4,5 и более поздних версий все исправления в системе с пользовательскими действиями, помеченными атрибутом **мсидбкустомактионтипепатчунинсталл** , запускают настраиваемое действие во время удаления исправления. Если в системе удаляется установщик Windows 4,5 или более поздней версии, то исправления теряют функцию удаления исправлений для настраиваемых действий.

Сведения о выполнении настраиваемого действия во время удаления исправления с использованием более ранней версии, чем установщик Windows 4,5, см. в разделе [Удаление исправлений настраиваемые действия](patch-uninstall-custom-actions.md).

## <a name="related-topics"></a>См. также

<dl> <dt>

[Параметры выполнения In-Script настраиваемого действия](custom-action-in-script-execution-options.md)
</dt> <dt>

[Ссылка на настраиваемое действие](custom-action-reference.md)
</dt> <dt>

[Сведения о настраиваемых действиях](about-custom-actions.md)
</dt> <dt>

[Использование настраиваемых действий](using-custom-actions.md)
</dt> <dt>

[мситрансформвиев *<PatchGUID>*](msitransformview.md)
</dt> </dl>

 

 



