---
description: Установщик Windows разработчики могут подготовить свой пакет установки для работы с диспетчером перезапуска, следуя рекомендациям, описанным в разделе Использование установщик Windows с диспетчером перезапуска.
ms.assetid: 777f8864-b3d2-43c7-9296-1118f3595d7b
title: Использование диспетчера перезапуска с внешним пользовательским интерфейсом
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0f112884669b173b40f3806c48cf8e05308c5b44
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104263107"
---
# <a name="using-restart-manager-with-an-external-ui"></a>Использование диспетчера перезапуска с внешним пользовательским интерфейсом

Установщик Windows разработчики могут подготовить свой пакет установки для работы с [диспетчером перезапуска](../rstmgr/restart-manager-portal.md) , следуя рекомендациям, описанным в разделе [Использование установщик Windows с диспетчером перезапуска](using-windows-installer-with-restart-manager.md).

Укажите \_ тип сообщения инсталллогмоде рмфилесинусе при вызове функции [**Мсисетекстерналуи**](/windows/desktop/api/Msi/nf-msi-msisetexternaluia) или [**мсисетекстерналуирекорд**](/windows/desktop/api/Msi/nf-msi-msisetexternaluirecord) , чтобы включить обработчик внешнего пользовательского интерфейса. Затем установщик Windows отправляет \_ сообщение РМФИЛЕСИНУСЕ инсталлмессаже для использования внешними обработчиками пользовательского интерфейса, поддерживающими [Диспетчер перезапуска](../rstmgr/restart-manager-portal.md).

Обработчик внешнего интерфейса пользователя должен выполнять обработку информации, содержащейся в \_ сообщениях инсталлмессаже рмфилесинусе. Если ни один из зарегистрированных или внутренних интерфейсов пользователя не обрабатывает \_ сообщение инсталлмессаже рмфилесинусе, установщик Windows отправляет \_ сообщение инсталлмессаже филесинусе для использования существующими внешними обработчиками, которые поддерживают инсталлмессаже \_ филесинусе сообщения и диалоговое окно [филесинусе](filesinuse-dialog.md) .

Внешний пользовательский интерфейс может возвращать значения, перечисленные в следующей таблице.



| Возвращаемое значение внешнего пользовательского интерфейса | Действие, предпринимаемое установщик Windows                                                                                                                                                                                                                                                                                                              |
|--------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| IDOK                     | Пользователь нажал кнопку **ОК** . Установщик Windows запросит, что [Диспетчер перезапуска](../rstmgr/restart-manager-portal.md) завершит работу и перезапустите приложения, содержащие файлы, которые в настоящее время используются.                                                                                                                                               |
| IDCANCEL                 | Была нажата кнопка **"Отмена"** . Отмените установку.                                                                                                                                                                                                                                                                                    |
| IDIGNORE                 | Нажата кнопка " **пропустить** ". Пропустите и продолжите установку. В конце установки потребуется перезагрузка.                                                                                                                                                                                                            |
| IDNO                     | Была нажата кнопка " **нет** ". Если пакет содержит диалоговое окно [мсирмфилесинусе](msirmfilesinuse-dialog.md) , отправьте сообщение 1610. Дополнительные сведения см. в разделе [установщик Windows сообщения об ошибках](windows-installer-error-messages.md). Если в пакете нет диалогового окна Мсирмфилесинусе, отправьте \_ сообщение инсталлмессаже филесинусе. |
| IDRETRY                  | Была нажата кнопка **"повторить** ". Отправьте сообщение ИНСТАЛЛМЕССАЖЕ \_ филесинусе.                                                                                                                                                                                                                                                                 |
| -1                       | Ошибка. Завершите установку.                                                                                                                                                                                                                                                                                                                |



 

 

 
