---
description: Windows разработчики установщика могут подготовить свой пакет установки для работы с диспетчером перезапуска, следуя рекомендациям, описанным в разделе использование установщик Windows с диспетчером перезапуска.
ms.assetid: 777f8864-b3d2-43c7-9296-1118f3595d7b
title: Использование диспетчера перезапуска с внешним пользовательским интерфейсом
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cad6a8bee0e98adbcea853a21378b539e02f14468a93aed3cff7dc8bf6f25800
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119996224"
---
# <a name="using-restart-manager-with-an-external-ui"></a>Использование диспетчера перезапуска с внешним пользовательским интерфейсом

Windows разработчики установщика могут подготовить свой пакет установки для работы с [диспетчером перезапуска](../rstmgr/restart-manager-portal.md) , следуя рекомендациям, описанным в разделе [использование установщик Windows с диспетчером перезапуска](using-windows-installer-with-restart-manager.md).

Укажите \_ тип сообщения инсталллогмоде рмфилесинусе при вызове функции [**Мсисетекстерналуи**](/windows/desktop/api/Msi/nf-msi-msisetexternaluia) или [**мсисетекстерналуирекорд**](/windows/desktop/api/Msi/nf-msi-msisetexternaluirecord) , чтобы включить обработчик внешнего пользовательского интерфейса. Windows Затем установщик отправляет сообщение ИНСТАЛЛМЕССАЖЕ \_ рмфилесинусе для использования внешними обработчиками пользовательского интерфейса, поддерживающими [Диспетчер перезапуска](../rstmgr/restart-manager-portal.md).

Обработчик внешнего интерфейса пользователя должен выполнять обработку информации, содержащейся в \_ сообщениях инсталлмессаже рмфилесинусе. если ни один из зарегистрированных или внутренних интерфейсов пользователя не обрабатывает \_ сообщение инсталлмессаже рмфилесинусе, установщик Windows отправляет \_ сообщение инсталлмессаже филесинусе для использования существующими внешними обработчиками, которые поддерживают инсталлмессаже \_ филесинусе сообщения и диалоговое окно [филесинусе](filesinuse-dialog.md) .

Внешний пользовательский интерфейс может возвращать значения, перечисленные в следующей таблице.



| Возвращаемое значение внешнего пользовательского интерфейса | действие, предпринимаемое установщик Windows                                                                                                                                                                                                                                                                                                              |
|--------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| IDOK                     | Пользователь нажал кнопку **ОК** . установщик Windows запросит, что [диспетчер перезапуска](../rstmgr/restart-manager-portal.md) завершит работу и перезапустите приложения, содержащие файлы, которые в настоящее время используются.                                                                                                                                               |
| IDCANCEL                 | Была нажата кнопка **"Отмена"** . Отмените установку.                                                                                                                                                                                                                                                                                    |
| IDIGNORE                 | Нажата кнопка " **пропустить** ". Пропустите и продолжите установку. В конце установки потребуется перезагрузка.                                                                                                                                                                                                            |
| IDNO                     | Была нажата кнопка " **нет** ". Если пакет содержит диалоговое окно [мсирмфилесинусе](msirmfilesinuse-dialog.md) , отправьте сообщение 1610. дополнительные сведения см. в разделе [установщик Windows сообщения об ошибках](windows-installer-error-messages.md). Если в пакете нет диалогового окна Мсирмфилесинусе, отправьте \_ сообщение инсталлмессаже филесинусе. |
| IDRETRY                  | Была нажата кнопка **"повторить** ". Отправьте сообщение ИНСТАЛЛМЕССАЖЕ \_ филесинусе.                                                                                                                                                                                                                                                                 |
| –1                       | Ошибка. Завершите установку.                                                                                                                                                                                                                                                                                                                |



 

 

 
