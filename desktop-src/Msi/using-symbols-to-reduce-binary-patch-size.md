---
description: Использование общедоступных символов для целевой платформы и двоичных файлов образа обновления позволяет сократить размер двоичного исправления примерно на одну половину.
ms.assetid: 83351a1b-ba70-4f0b-bacf-71ad7993a5aa
title: Использование символов для сокращения размера двоичного исправления
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9d5ccf33dbf3ffefbee909d99bd0204ea2f49aba
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105673337"
---
# <a name="using-symbols-to-reduce-binary-patch-size"></a>Использование символов для сокращения размера двоичного исправления

Использование общедоступных символов для целевой платформы и двоичных файлов образа обновления позволяет сократить размер двоичного исправления примерно на одну половину. Фактическое сокращение зависит от используемых символов. Обратите внимание, что использование символов может привести к более медленному созданию исправлений, так как обработка файлов символов занимает больше времени.

Чтобы уменьшить размер двоичного исправления с помощью символов, необходимо указать символы как для целевого файла, так и для файлов образа обновления. Укажите символы в столбце Симболпасс таблицы [таржетимажес](targetimages-table-patchwiz-dll-.md) и в столбце Симболпасс таблицы [упградедимажес](upgradedimages-table-patchwiz-dll-.md) . Для создания символов в формате файла базы данных программы (PDB) необходимо использовать Visual C++. Более новые версии Visual C++ предоставляют всю необходимую информацию в PDB-файле. Более старые версии Visual C++ также создают формат файла отладки (DBG). В этом случае значение Симболспасс должно указывать расположение файлов PDB и DBG.

Например, Таржетимаже для исправления может быть пакетом установки, поставляемым с Windows 2000, который устанавливает 1.1.1029.0 версию MSI.DLL. Упградедимаже может быть обновленным пакетом установки, поставляемым с Windows 2000 с пакетом обновления 1 (SP1), и который устанавливает 1.11.1314.0 версию MSI.DLL. Затем необходимо создать два файла свойств для создания исправлений (PCP), для которых столбец Симболпасс в таблицах [таржетимажес](targetimages-table-patchwiz-dll-.md) и [упградедимажес](upgradedimages-table-patchwiz-dll-.md) остается пустым (пустым), а другой — со столбцом Симболпасс таблиц таржетимажес и упградедимажес, заполненным расположением символов для двоичных файлов. В этом случае размер исправления, созданного без использования символов, может быть примерно в три раза больше размера исправления, созданного с помощью символов.

Служебную программу Mpatch.exe можно использовать для тестирования создания двоичных исправлений для одного файла и проверки допустимости символов. Служебная программа Mpatch.exe входит в состав [Windows SDK компонентов для установщик Windows разработчиков](platform-sdk-components-for-windows-installer-developers.md). Выходные данные Mpatch.exe будут указывать, что символы не совпадают.

Например, введите следующую командную строку, чтобы проверить, являются ли символы допустимыми.

**mpatch.exe-НЕВСИМПАС: d: \\ Update-олдсимпас: d: \\ целевой объект d: \\ целевой \\example.dll d: \\ Обновление \\example.dll example. Pat**

Если символы находятся в неправильном расположении, выходные данные Mpatch.exe могут содержать следующее предупреждение.

``` syntax
WARNING: no debug symbols for d:\update\example.dll
```

 

 



