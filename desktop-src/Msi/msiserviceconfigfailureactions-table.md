---
description: В таблице Мсисервицеконфигфаилуреактионс перечисляются операции, выполняемые после сбоя службы. Операции, указанные в этой таблице, запускаются при следующей загрузке системы.
ms.assetid: 7c450b74-1f91-4a1c-beee-646a407eb8a8
title: Таблица Мсисервицеконфигфаилуреактионс
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ae55d095e227611271de35d673289fc9eb5b174e
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127147657"
---
# <a name="msiserviceconfigfailureactions-table"></a>Таблица Мсисервицеконфигфаилуреактионс

В таблице Мсисервицеконфигфаилуреактионс перечисляются операции, выполняемые после сбоя службы. Операции, указанные в этой таблице, запускаются при следующей загрузке системы.

**[установщик Windows 4,5 или более ранней версии](not-supported-in-windows-installer-4-5.md):** Не поддерживается. эта таблица доступна начиная с установщик Windows 5,0.

Таблица Мсисервицеконфигфаилуреактионс содержит следующие столбцы.



| Столбец                         | Type                         | Ключ | Допускает значения NULL |
|--------------------------------|------------------------------|-----|----------|
| мсисервицеконфигфаилуреактионс | [Идентификатор](identifier.md) | Да   | Нет        |
| Имя                           | [Формате](formatted.md)   | Нет   | Нет        |
| Событие                          | [Integer](integer.md)       | Нет   | Нет        |
| ресетпериод                    | [Integer](integer.md)       | Нет   | Да        |
| ребутмессаже                  | [Формате](formatted.md)   | Нет   | Да        |
| Get-Help                        | [Формате](formatted.md)   | Нет   | Да        |
| Действия                        | [Text](text.md)             | Нет   | Да        |
| делайактионс                   | [Text](text.md)             | Нет   | Да        |
| См\_                    | [Идентификатор](identifier.md) | Нет   | Нет        |



 

## <a name="columns"></a>Столбцы

<dl> <dt>

<span id="MsiServiceConfigFailureActions"></span><span id="msiserviceconfigfailureactions"></span><span id="MSISERVICECONFIGFAILUREACTIONS"></span>мсисервицеконфигфаилуреактионс
</dt> <dd>

Это первичный ключ этой таблицы, который определяет действие при сбое.

</dd> <dt>

<span id="Name"></span><span id="name"></span><span id="NAME"></span>Безымян
</dt> <dd>

Этот столбец содержит имя службы, которая является частью этого пакета или уже установлена.

</dd> <dt>

<span id="Event"></span><span id="event"></span><span id="EVENT"></span>Журнале
</dt> <dd>

В этом столбце указывается, когда следует изменять конфигурацию службы. Следующие значения являются битовыми полями, которые можно комбинировать для представления нескольких операций. Любые другие значения битовых полей игнорируются.



| Константа                                         | Описание                                     |
|--------------------------------------------------|-------------------------------------------------|
| **мсидбсервицеконфижевентинсталл** 1<br/>   | Изменение во время установки компонента.    |
| **мсидбсервицеконфижевентунинсталл** 2<br/> | Изменение во время удаления компонента.  |
| **мсидбсервицеконфижевентреинсталл** 4<br/> | Изменение во время повторной установки компонента. |



 

</dd> <dt>

<span id="ResetPeriod"></span><span id="resetperiod"></span><span id="RESETPERIOD"></span>ресетпериод
</dt> <dd>

Период сброса числа сбоев службы (в секундах). [Диспетчер управления службами](../services/service-control-manager.md) (SCM) подсчитывает количество сбоев каждой службы с момента последнего перезапуска системы. Счетчик сбрасывается в нуль, если служба не завершается сбоем в течение периода сброса. Когда служба завершается со сбоем в течение n часов, система выполняет действие, указанное в элементе \[ N-1 \] массива, указанного в поле действия.

Оставьте поле Ресетпериод пустым, чтобы указать, что счетчик сбоев никогда не должен сбрасываться.

</dd> <dt>

<span id="RebootMessage"></span><span id="rebootmessage"></span><span id="REBOOTMESSAGE"></span>ребутмессаже
</dt> <dd>

Сообщение, отправляемое пользователям перед перезагрузкой компьютера в ответ на действие SC, заданное в столбце действия. **\_ \_** Чтобы отправить текущее сообщение без изменений, можно использовать пустую строку "". Можно использовать \[ ~ \] синтаксис [форматированного](formatted.md) типа данных для удаления текущего сообщения и отправки сообщения.

</dd> <dt>

<span id="Command"></span><span id="command"></span><span id="COMMAND"></span>Кнопки
</dt> <dd>

Командная строка, выполняемая процессом, созданной функцией [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa) в ответ на действие **\_ \_ \_ команды SC Action Run** , указанное в столбце Actions. Новый процесс выполняется под той же учетной записью, что и служба, и только в том случае, если поле Action — **\_ \_ выполнить \_ команду SC Action**. Чтобы использовать текущую командную строку без изменений, можно использовать пустую строку "". Можно использовать \[ ~ \] синтаксис [форматированного](formatted.md) типа данных, чтобы удалить текущую командную строку и не выполнять никаких операций при сбое службы.

</dd> <dt>

<span id="Actions"></span><span id="actions"></span><span id="ACTIONS"></span>Действия
</dt> <dd>

Это поле содержит массив целочисленных значений, указывающих действия, выполняемые SCM в случае сбоя службы. Разделите значения в массиве на \[ ~ \] . Целочисленное значение в n элементе массива указывает действие, выполняемое при сбое службы в течение n часов. Каждый член массива является одним из следующих целочисленных значений.



| Константа                                 | Описание           |
|------------------------------------------|-----------------------|
| **SC \_ ДЕЙСТВИЕ \_ нет** 0<br/>         | Никаких действий не требуется.            |
| **SC \_ ДЕЙСТВИЕ 2 при \_ перезагрузке**<br/>       | Перезагрузите компьютер. |
| **SC \_ ДЕЙСТВИЕ при \_ перезапуске** 1<br/>      | Перезапустите службу.  |
| **SC \_ ДЕЙСТВИЕ \_ выполнения, \_ команда** 3<br/> | Выполните команду.        |



 

</dd> <dt>

<span id="DelayActions"></span><span id="delayactions"></span><span id="DELAYACTIONS"></span>делайактионс
</dt> <dd>

Это поле содержит массив целочисленных значений, которые указывают время ожидания в миллисекундах перед выполнением действия, указанного в столбце Action. Разделите значения в массиве на \[ ~ \] . Число элементов в массиве Делайактионс должно быть равно числу элементов в массиве actions. Элемент n массива Делайактионс задает временную задержку для элемента n массива Actions.

</dd> <dt>

<span id="Component_"></span><span id="component_"></span><span id="COMPONENT_"></span>См\_
</dt> <dd>

Внешний ключ к столбцу одной из [таблиц Component](component-table.md).

</dd> </dl>

## <a name="validation"></a>Проверка

<dl>

[ICE102](ice-102.md)  
[ICE03](ice03.md)  
[ICE06](ice06.md)  
[ICE32](ice32.md)  
[ICE45](ice45.md)  
[ICE46](ice46.md)  
[ICE69](ice69.md)  
</dl>

 

 
