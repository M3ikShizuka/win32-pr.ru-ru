---
description: В таблице Directory указана структура установки.
ms.assetid: 3f2e1cc2-6b36-4615-86e6-e78485edd2f7
title: Использование таблицы Directory
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0f550f32006df16db5811e0fbf5022253373a4b1551983ddda2db55655b4061f
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118141323"
---
# <a name="using-the-directory-table"></a>Использование таблицы Directory

В [таблице Directory](directory-table.md) указана структура установки. Когда каталоги разрешаются во время [действия костфинализе](costfinalize-action.md), ключи в таблице Directory становятся [свойствами](properties.md) , для которых заданы пути к каталогам. Обратите внимание, что установщик устанавливает ряд стандартных [свойств](properties.md) для путей к системной папке. Список свойств, для которых заданы системные папки, см. в [справочнике по свойствам](property-reference.md) .

Чтобы указать целевое расположение для каталога, лучше всего создать [таблицу Directory](directory-table.md) в установочном пакете, чтобы предоставить правильное расположение, как описано в этом разделе. Если необходимо изменить расположение каталога во время установки, см. также раздел: [изменение целевого расположения каталога](changing-the-target-location-for-a-directory.md)

Ниже приведен пример таблицы каталога.



| Каталог     | \_Родительский каталог | дефаултдир |
|---------------|-------------------|------------|
| TARGETDIR     |                   | SourceDir  |
| екседир        | TARGETDIR         | Приложение        |
| дллдир        | екседир            | Ячейка        |
| DesktopFolder | TARGETDIR         | Рабочий стол    |



 

Каждая строка таблицы Directory указывает каталог как в исходном, так и на целевом. Например, предположим, что пакет установки находится в \\ \\ \\ источнике приложений \\ . Поскольку \_ родительское поле каталога первой строки имеет значение null, эта запись указывает корневые каталоги как для источника, так и для целевого объекта. Для источника значение этого каталога задается полем Дефаултдир. Значение свойства [**SourceDir**](sourcedir.md) по умолчанию равно расположению пакета установки. Поэтому, если свойство **SourceDir** не переопределено, корневым исходным каталогом является \\ \\ \\ источник приложений \\ .

В поле Каталог первой записи указывается расположение корневого целевого каталога. В этом случае значение свойства [**targetDir**](targetdir.md) указывает на этот каталог. Как правило, значение свойства **targetDir** задается в командной строке или через пользовательский интерфейс. В этом случае предполагается, что свойство **targetDir** имеет значение C: \\ Program Files \\ Target \\ .

Для второй записи \_ родительское поле каталога не имеет значение null. Поэтому эта запись указывает на некорневой каталог как для источника, так и для целевого объекта. Для некорневого исходного каталога исходный каталог, указанный в записи, описанной в \_ родительском поле Каталог, является родительским. Для второй записи \_ родительским полем каталога является TARGETDIR. Как показано выше, исходный каталог, указанный в записи TARGETDIR, разрешается в \\ \\ \\ источник приложений \\ . Таким же исходным каталогом, который указывается второй записью, является \\ \\ \\ приложение исходного кода приложения \\ \\ .

Аналогичный процесс работает для целевого каталога. Значением родительского каталога для целевого каталога, описанного во второй записи, является целевой каталог, разрешенный \_ родительским полем каталога. Опять же, \_ родительское поле каталога содержит значение TARGETDIR. Указывает первую запись, которая разрешается в целевой каталог файла C: \\ Program Files \\ \\ . Поле "каталог" содержит свойство, определяемое автором, именуемое ЕКСЕДИР. Если это свойство задано, то его значение задает полный путь к каталогу. Таким образом, если этому свойству присвоено значение C: \\ Data \\ Common \\ , то целевому каталогу, указанному второй записью, будет «C: \\ Data \\ Common» \\ . Если значение не задано, целевой каталог принимает имя, заданное в поле Дефаултдир. В этом случае целевой каталог — C: \\ Program Files \\ Target \\ app \\ .

Один и тот же процесс работает для третьей записи. Если ЕКСЕДИР и ДЛЛДИР не заданы, целевой каталог будет иметь значение C: \\ Program Files \\ \\ \\ bin, а исходный каталог — приложение \\ \\ \\ source \\ app \\ bin \\ .

В четвертой записи используется свойство [**DesktopFolder**](desktopfolder.md) . Если для рабочего стола пользователя задано расположение C: \\ WinNT \\ Profiles \\ пользователя \\ Desktop \\ , то целевой каталог разрешается в c: \\ WinNT \\ Профили \\ пользователя \\ Desktop \\ . Исходный каталог разрешается в \\ \\ \\ исходный \\ Рабочий стол приложений \\ .

Существует два дополнительных синтаксических функции, которые можно использовать в столбце Дефаултдир таблицы Directory. Для некорневого исходного каталога точка (.), указанная в столбце Дефаултдир, указывает, что каталог должен находиться в родительском каталоге без вложенного каталога. Чтобы указать разные пути к исходному и целевому каталогу, разделите целевой и исходный пути в столбце Дефаултдир с помощью двоеточия следующим образом: \[ TargetPath \] : \[ SourcePath \] . Эти функции можно использовать вместе для добавления уровней в исходные или целевые пути для одного каталога. См. Следующий пример таблицы каталога.



| Каталог   | \_Родительский каталог | дефаултдир |
|-------------|-------------------|------------|
| TARGETDIR   |                   | SourceDir  |
| мяппдир    | TARGETDIR         | MyApp      |
| биндир      | мяппдир          | Ячейка        |
| Binx86Dir   | биндир            | .: x86      |
| биналфадир | биндир            | .: Альфа    |



 

Исходный и конечный пути разрешаются для строк Мяппдир, Биндир, Binx86Dir и Биналфадир следующим образом.



| Record       | Целевые пути            | Исходные пути                   |
|--------------|-------------------------|--------------------------------|
| Мяппдир:    | \[TARGETDIR \] MyApp      | \[SourceDir \] MyApp             |
| Биндир:      | \[TARGETDIR \] MyApp \\ bin | \[SourceDir \] MyApp \\ bin        |
| Binx86Dir:   | \[TARGETDIR \] MyApp \\ bin | \[SourceDir \] MyApp \\ bin \\ x86   |
| Биналфадир: | \[TARGETDIR \] MyApp \\ bin | \[SourceDir \] MyApp \\ bin, \\ альфа |



 

> [!Note]  
> платформа Alpha не поддерживается установщик Windows.

 

 

 



