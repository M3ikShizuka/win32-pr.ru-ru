---
description: Таблица среда используется для задания значений переменных среды.
ms.assetid: f7106ed6-706f-4e57-989f-030066bcecd3
title: Таблица среды
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d7a4db2e33c01685bdc40475f659e1b03b69b6c6
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105683232"
---
# <a name="environment-table"></a>Таблица среды

Таблица среда используется для задания значений переменных среды.

Таблица среда содержит следующие столбцы.



| Столбец      | Type                         | Ключ | Допускает значения NULL |
|-------------|------------------------------|-----|----------|
| Среда | [Идентификатор](identifier.md) | Да   | Нет        |
| Имя        | [Text](text.md)             | Нет   | Нет        |
| Значение       | [Формате](formatted.md)   | Нет   | Да        |
| Компонент\_ | [Идентификатор](identifier.md) | Нет   | Нет        |



 

## <a name="columns"></a>Столбцы

<dl> <dt>

<span id="Environment"></span><span id="environment"></span><span id="ENVIRONMENT"></span>PXE
</dt> <dd>

Это первичный ключ таблицы, который является нелокализованным маркером.

</dd> <dt>

<span id="Name"></span><span id="name"></span><span id="NAME"></span>Безымян
</dt> <dd>

Этот столбец представляет собой Локализуемое имя переменной среды. Значения ключа записываются или удаляются в зависимости от того, какие символы в следующей таблице являются префиксами имени. Порядок символов, используемых в префиксе, не влияет.



| Prefix                         | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|--------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| =                              | Создайте переменную среды, если она не существует, и настройте ее во время установки. Если переменная среды существует, настройте ее во время установки.                                                                                                                                                                                                                                                                                                                                   |
| \+                             | Создайте переменную среды, если она не существует, и настройте ее во время установки. Это не влияет на значение переменной среды, если оно уже существует.                                                                                                                                                                                                                                                                                                                         |
| \-                             | Удалите переменную среды при удалении компонента. Этот символ можно сочетать с любым префиксом.                                                                                                                                                                                                                                                                                                                                                                                      |
| !                              | Удалите переменную среды во время установки. Установщик удаляет переменную среды во время установки, если имя и значение переменной соответствуют записям в полях имя и значение таблицы среда. Если вы хотите удалить переменную среды, независимо от ее значения, используйте синтаксис "!" и оставьте поле "значение" пустым.                                                                                                                    |
| \*                             | Этот префикс используется вместе с Windows 2000 для указания на то, что имя относится к системной переменной среды. Если звездочка отсутствует, установщик записывает переменную в среду пользователя. Этот символ можно сочетать с любым префиксом. Пакет, используемый для установки в [контексте установки](installation-context.md) на компьютере, должен записывать переменные среды в среду компьютера, включив \* в столбец имя. Дополнительные сведения см. в подразделе "Примечания". |
| =-                             | Переменная среды задается при установке и удаляется при удалении. Это обычное поведение.                                                                                                                                                                                                                                                                                                                                                                                                 |
| !-                             | Удаляет переменную среды во время установки или удаления.                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| =+ !+<br/> !=<br/> | Эти префиксы не являются допустимыми                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |



 

Если поле значения в таблице содержит \[ ~ \] , то символы префикса применяются только к указанной части строки. Использование \[ ~ \] описано ниже в разделе столбец значений.

Переменная среды удаляется, если поле значения таблицы пустое. Таким образом, если в поле значения указано пустое значение, префикс = удаляет переменную среды при установке, а префикс — удаляет все текущие значения при удалении.

</dd> <dt>

<span id="Value"></span><span id="value"></span><span id="VALUE"></span>Значений
</dt> <dd>

Этот столбец содержит локализуемое значение, которое должно быть задано в виде форматированной строки. См. раздел [форматированный](formatted.md). Если оставить это поле пустым, переменная будет удалена. Если поле пусто, а строка в поле имени предваряется символом-Symbol, то переменная удаляется только при удалении компонента.

Чтобы добавить значение в конец существующей переменной, добавьте к строке в этом поле префикс null \[ ~ \] и символ разделителя. Например, если точка с запятой является выбранным разделителем: \[ ~ \] ;*Значение*.

Чтобы добавить в начало существующей переменной значение, добавьте строку в это поле в качестве разделителя и символа NULL \[ ~ \] . Например, если точка с запятой является выбранным разделителем: *value*; \[ ~ \] .

Если \[ ~ \] в поле отсутствует, строка представляет все значение, которое необходимо установить или удалить.

Каждая строка может содержать только одно значение. Например, *значение* записи; *Значение* \[ ~ ; \] является более одного значения и не следует использовать, так как это приводит к непредсказуемым результатам. *Значение* записи; \[ ~ \] является всего лишь одним значением.

Если параметр name имеет префикс +, то \[ ~ \] он не должен использоваться в столбце значение. Это связано с тем, что смысл «+» и « \[ ~ \] » явно не отличаются друг от друга.

</dd> <dt>

<span id="Component_"></span><span id="component_"></span><span id="COMPONENT_"></span>См\_
</dt> <dd>

Внешний ключ к первому столбцу [таблицы Component](component-table.md). Этот столбец ссылается на компонент, который управляет установкой значений среды.

</dd> </dl>

## <a name="remarks"></a>Комментарии

Чтобы установщик задали переменные среды, необходимо указать [действие вритинвиронментстрингс](writeenvironmentstrings-action.md) и [действие Ремовинвиронментстрингс](removeenvironmentstrings-action.md) в [таблице инсталлексекутесекуенце](installexecutesequence-table.md).

Обратите внимание, что переменные среды не меняются для выполняемой установки при выполнении действия [вритинвиронментстрингс](writeenvironmentstrings-action.md) или [ремовинвиронментстрингс](removeenvironmentstrings-action.md) . В Windows 2000 эта информация хранится в реестре, а сообщение уведомляет об изменениях системы после завершения установки. Новый процесс или другой процесс, проверяющий эти сообщения, использует новые переменные среды.

При изменении переменной среды Path с помощью таблицы Environment не пытайтесь явно ввести весь новый путь в поле значение. Вместо этого Расширьте существующий путь путем добавления значения и разделителя (;) в \[ ~ \] . Если \[ ~ \] в поле значение отсутствует, то существующие сведения о пути теряются, а установка MSI-файла может препятствовать загрузке компьютера. Переменная path в основном обычно задается с помощью синтаксиса: \[ ~ \] ; Значений.

При выполнении установки на компьютере с сервера терминалов установщик записывает переменные среды для каждого пользователя в **HKU \\ . \\Среда по умолчанию**. Поскольку службы терминалов не реплицируют этот раздел реестра, при установке не устанавливаются переменные среды для отдельных пользователей. Пакет, используемый для установки на компьютере, должен записывать переменные среды в среду компьютера, включив \* в столбец имя. Если пакет может быть установлен отдельно для каждого пользователя или компьютера, создайте два компонента: (1) для каждого пользователя с записями таблицы окружения, созданными для параметров пользователя, и (2) компонент на компьютере с таблицей окружения, созданной для параметров компьютера. Условие установки этого компонента с помощью [**привилегированного**](privileged.md) свойства.

## <a name="validation"></a>Проверка

<dl>

[ICE03](ice03.md)  
[ICE06](ice06.md)  
[ICE32](ice32.md)  
[ICE46](ice46.md)  
[ICE65](ice65.md)  
[ICE69](ice69.md)  
[ICE80](ice80.md)  
</dl>

 

 




