---
description: В этом примере показано, как можно использовать преобразование настройки для отключения компонентов и добавления новых ресурсов.
ms.assetid: 028b1d01-3b66-4640-98f9-ca33f90ca516
title: Пример преобразования настройки
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 26ea655d1187b0271aba7ea56a46bacf95f5fb40
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105650747"
---
# <a name="a-customization-transform-example"></a>Пример преобразования настройки

В этом примере показано, как можно использовать преобразование настройки для отключения компонентов и добавления новых ресурсов.

Администратор может навсегда отключить функцию с помощью преобразования настройки, чтобы ввести 0 в столбец Level [таблицы Feature](feature-table.md). После этого приложение преобразования настройки предотвращает установку и отображение этой функции, даже если пользователь выбирает полную установку с помощью пользовательского интерфейса или если для свойства [**ADDLOCAL**](addlocal.md) задано значение ALL в командной строке. Описание уровня установки см. в разделе [Таблица компонентов](feature-table.md) и свойство [**инсталллевел**](installlevel.md) .

Ресурсы, необходимые для настройки приложения, можно развернуть с помощью преобразования настройки, чтобы добавить один или несколько новых компонентов. Преобразование должно добавить одну или несколько новых компонентов, чтобы они содержали эти новые компоненты. Правила, которым следует следовать при развертывании ресурсов, таких как файлы, разделы реестра или ярлыки, см. в разделе [Использование преобразований для добавления ресурсов](using-transforms-to-add-resources.md).

В этом примере показано, как создать [Преобразование](transforms.md) для настройки установки приложения, описанного в [примере установки](an-installation-example.md). Исходный пакет установки устанавливает все компоненты примера приложения, включая шлюз компонентов, который позволяет пользователям просматривать сведения о допусках для красного конца. Некоторым группам пользователей требуются только функции приложения, которые предоставляют сведения о расписании событий и не нуждаются в функции шлюза. Этим группам также необходимо получить специальный список телефонов. Таким образом, преобразование должно выполнить две вещи: 1) настроить установку таким образом, чтобы эта группа получала только необходимые функции приложения и 2) предоставил ресурсы, необходимые для нового списка телефонов.

Пример минимального пользовательского интерфейса для этого примера приведен в [Windows SDK компонентов для установщик Windows разработчиков](platform-sdk-components-for-windows-installer-developers.md) в качестве Uisample.msi файлов. Если у вас есть пакет SDK, у вас есть доступ ко всем средствам и данным, необходимым для воспроизведения образца установочного пакета, пользовательского интерфейса и преобразования настроек.

Преобразование настройки имеет следующие характеристики:

-   Преобразование настройки внедряется в файл MNP2000.msi, чтобы гарантировать, что он всегда доступен в базе данных установки.
-   При установке MNP2000.msi с помощью преобразования настроек не устанавливается компонент Gate, дочерние компоненты компонента шлюза или компоненты шлюза, даже если пользователь выбирает полный тип установки.
-   Другие приложения могут совместно использовать некоторые или все компоненты компонента Gate. Пакеты установки этих приложений могут установить все свои компоненты на компьютере пользователя.
-   Удаление MNP2000.msi с помощью преобразования настроек не приводит к удалению ни одного из компонентов шлюза, установленных другими приложениями.
-   При установке MNP2000.msi с помощью преобразования настроек также устанавливается новая функция верхнего уровня, \_ список телефонов и новый компонент, который требует установки ресурса, Phone.txt. Пользователь обращается к \_ функции списка телефонов с помощью ярлыка в каталоге меню.

[Продолжить](customizing-an-original-database.md)

 

 



