---
description: Исправление контроля учетных записей пользователей (UAC) позволяет авторам установщик Windows установок определять исправления с цифровой подписью, которые могут быть применены в будущем пользователями, не являющимися администраторами.
ms.assetid: f7d64f61-24c8-4037-a10b-d68d0e9e3c42
title: Исправление контроля учетных записей пользователей (UAC)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6d111a39245ab15b24c1734d278a8e0a477e68a6
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "103913451"
---
# <a name="user-account-control-uac-patching"></a>Исправление контроля учетных записей пользователей (UAC)

Исправление [*контроля учетных записей пользователей*](u-gly.md) (UAC) позволяет авторам установщик Windows установок определять исправления с цифровой подписью, которые могут быть применены в будущем пользователями, не являющимися администраторами.

Если цифровая подпись не соответствует сертификату, Windows Vista выводит диалоговое окно UAC, запрашивающее авторизацию администратора перед установкой исправления. В системах, предшествующих Windows Vista, установщик не будет применять подписанное исправление, которое не соответствует сертификату.

Если пользователь без прав администратора пытается применить исправление к приложению и следующие условия не выполнены, Windows Vista сообщит пользователю, что для установки исправления требуется авторизация администратора. Не имея прав администратора, можно продолжить установку исправления без необходимости получения дополнительной авторизации администратора, если выполняются следующие условия.

-   Приложение было установлено в Windows Vista или Windows XP с помощью установщик Windows 3,0 или более поздней версии.

    **Windows Server 2008:** Не поддерживается.

-   Если приложение было установлено в Windows XP, оно также должно быть установлено со съемного носителя, такого как компакт-диск или DVD-диск. Это ограничение не применяется, если приложение было установлено в Windows Vista.
-   Приложение не было установлено из исходного образа [административной установки](administrative-installation.md) .
-   Приложение первоначально устанавливалось для каждого компьютера. Сведения о том, как разрешить пользователям, не являющимся администраторами, применять исправления к управляемым пользователем приложениям после того, как администратор утверждает, что он является доверенным для администратора, см. статью об [исправлениях Per-User управляемых приложениях](patching-per-user-managed-applications.md).
-   [Таблица мсипатчцертификате](msipatchcertificate-table.md) содержится в пакете установщика окна (MSI-файле) и содержит сведения, необходимые для включения UAC. Таблица и информация могут быть включены в исходный пакет установки или добавлены в пакет с помощью установщик Windows файла исправления (MSP-файл).
-   Исправления имеют цифровую подпись с помощью сертификата, указанного в [таблице мсипатчцертификате](msipatchcertificate-table.md). Дополнительные сведения о сертификатах цифровых подписей см. в статье [цифровые подписи и установщик Windows](digital-signatures-and-windows-installer.md).
-   Цифровую подпись пакета исправлений можно проверить на соответствие сертификату в [таблице мсипатчцертификате](msipatchcertificate-table.md). Дополнительные сведения об использовании цифровых подписей, цифровых сертификатов и [**WinVerifyTrust**](/windows/win32/api/wintrust/nf-wintrust-winverifytrust)см. в разделе " [Безопасность](https://msdn.microsoft.com/library/cc527452.aspx) " пакета средств разработки программного обеспечения Microsoft Windows (SDK).
-   Сертификат подписи, используемый для проверки цифровой подписи в пакете исправлений, является допустимым и не был отозван.
    > [!Note]  
    > Хотя вы не можете подписать исправление с помощью сертификата с истекшим сроком действия, вычисление цифровой подписи для исправления не завершится ошибкой, если срок действия сертификата истек. В ходе оценки используется текущая [Таблица мсипатчцертификате](msipatchcertificate-table.md), состоящая из таблицы мсипатчцертификате в исходном пакете и любых изменений в таблице с помощью исправлений, последовательностей, предшествовавших текущей. Исправление может добавлять новые сертификаты в таблицу Мсипатчцертификате для оценки исправлений, последовательностей после текущего исправления. Отозванный сертификат всегда отклоняется.

     

-   Исправление с минимальными правами доступа не было отключено путем установки свойства [**мсидисаблелуапатчинг**](msidisableluapatching.md) или политики [дисаблелуапатчинг](disableluapatching.md) .

Исправление, которое было применено с помощью исправлений UAC, также может быть удалено без прав администратора.

Администраторы могут применять исправления к продуктам, установленным на компьютере, независимо от параметров UAC приложения.

Чтобы определить, включено ли исправление с минимальными правами доступа для приложения, используйте функцию [**мсижетпродуктинфоекс**](/windows/desktop/api/Msi/nf-msi-msigetproductinfoexa) для запроса свойства инсталлпропертиного \_ \_ приложения Lua или с \_ помощью метода [**ProductInfo**](installer-productinfo.md) для запроса свойства аусоризедлуаапп. Если значение любого из этих свойств равно 1, приложение включает исправление учетной записи пользователя с минимальными правами доступа.

Администратор может отключить исправление с минимальными правами доступа на компьютере, задав для политики [дисаблелуапатчинг](disableluapatching.md) значение 1. Для свойства [**мсидисаблелуапатчинг**](msidisableluapatching.md) можно задать значение 1 во время первоначальной установки приложения, чтобы предотвратить исправление с минимальными правами доступа только для этого приложения.

Эта функция доступна начиная с версии установщик Windows 3,0. В Windows XP исправление контроля учетных записей пользователей (UAC) называлось минимальными привилегиями учетной записи пользователя (LUA). Исправление LUA недоступно в Windows 2000 и Windows Server 2003.

Дополнительные сведения о совместимости приложений и разработке приложений, совместимых с контролем учетных записей (UAC), см. в разделе Учетные данные UAC, предоставленные на [веб-узле Microsoft TechNet](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc709691(v=ws.10)).

 

 
