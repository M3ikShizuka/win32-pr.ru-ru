---
description: Windows События предоставляют стандартный, централизованный способ, с помощью которого приложения (и операционная система) записывают важные события программного обеспечения и оборудования.
ms.assetid: 1f28cbce-b759-4293-8af2-15f86f23228c
title: ведение журнала событий (установщик Windows)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ce7fdaf29ec0c638d3c85b82c74cca2bbede63c4
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127141565"
---
# <a name="event-logging-windows-installer"></a>ведение журнала событий (установщик Windows)

[Windows события](../events/windows-events.md) предоставляют стандартный, централизованный способ, с помощью которого приложения (и операционная система) записывают важные события программного обеспечения и оборудования. Служба ведения журнала событий хранит события из различных источников в одной коллекции, называемой *журналом событий*. до Windows Vista для записи событий в журнал следует использовать [трассировку событий для Windows](../etw/event-tracing-portal.md) (ETW) или [ведения журнала событий](../eventlog/event-logging.md) . Windows в Vista появилась новая модель событий, которая объединяет ETW и [Windows API журнала событий](../wes/windows-event-log.md) .

Установщик также записывает записи в журнал событий. Эти события записываются следующим образом:

-   Успешное или неуспешное завершение установки; Удаление или восстановление продукта.
-   Ошибки, возникающие во время настройки продукта.
-   Обнаружение поврежденных данных конфигурации.

Если записывается большой объем информации, файл журнала событий может быть заполнен, а установщик отображает сообщение «файл журнала приложения заполнен».

Установщик может записать в журнал событий следующие записи. Все сообщения журнала событий имеют уникальный идентификатор события. Все общие ошибки, созданные в [таблице ошибок](error-table.md) , которые возвращаются для неудачной установки, регистрируются в журнале событий приложений с идентификатором сообщения, равным ошибке + 10 000. Например, номер ошибки в таблице ошибок для установки успешно завершен — 1707. Успешная установка регистрируется в журнале событий приложений с ИДЕНТИФИКАТОРом сообщения 11707 (1707 + 10 000).

сведения о включении подробного ведения журнала на компьютере пользователя при устранении неполадок при развертывании см. в разделе [установщик Windows](windows-installer-best-practices.md)рекомендации.



<table>
<thead>
<tr class="header">
<th>Идентификатор события</th>
<th>Сообщение</th>
<th>Remarks</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1001</td>
<td>Ошибка при обнаружении продукта "%1", сбой функции "%2" при запросе компонента "%3"</td>
<td>Предупреждающее сообщение. Дополнительные сведения см. <a href="searching-for-a-broken-feature-or-component.md">в разделе Поиск неработающей функции или компонента</a>.</td>
</tr>
<tr class="even">
<td>1002</td>
<td>Непредвиденное или отсутствующее значение (имя: "%1", значение: "%2") в ключе "%3"</td>
<td>Сообщение об ошибке: непредвиденное или отсутствующее значение.</td>
</tr>
<tr class="odd">
<td>1003</td>
<td>Непредвиденный или отсутствующий подраздел "%1" в разделе "%2"</td>
<td>Сообщение об ошибке: непредвиденный или отсутствующий подраздел.</td>
</tr>
<tr class="even">
<td>1004</td>
<td>ошибка при обнаружении продукта "%1", компонент "%2", компонент "%3" <strong>:</strong> начиная с версии установщик Windows 2,0, это сообщение: обнаружение продукта "%1", компонент "%2", компонент "%3". Ресурс "%4" не существует.<br/></td>
<td>Предупреждающее сообщение. См. также <a href="searching-for-a-broken-feature-or-component.md">Поиск неработающей функции или компонента</a>.</td>
</tr>
<tr class="odd">
<td>1005</td>
<td>Операция установки инициировала перезагрузку</td>
<td>Информационное сообщение о том, что установка запустила перезагрузку системы.</td>
</tr>
<tr class="even">
<td>1006</td>
<td>Не удается выполнить проверку цифровой подписи для CAB-файла "%1". WinVerifyTrust недоступен на компьютере.</td>
<td>Предупреждающее сообщение. CAB-файл был создан в <a href="msidigitalsignature-table.md">таблице мсидигиталсигнатуре</a> , чтобы выполнялась проверка <a href="/windows/desktop/api/wintrust/nf-wintrust-winverifytrust"><strong>WinVerifyTrust</strong></a> . Не удалось выполнить это действие, так как на компьютере не установлены необходимые криптографические библиотеки DLL.</td>
</tr>
<tr class="odd">
<td>1007</td>
<td>Установка %1 не разрешена политикой ограниченного использования программ. установщик Windows допускает выполнение только неограниченных элементов. Уровень авторизации, возвращенный политикой ограниченного использования программ, был %2.</td>
<td>Сообщение об ошибке, указывающее, что администратор настроил политику ограниченного использования программ, чтобы запретить эту установку.</td>
</tr>
<tr class="even">
<td>1008</td>
<td>Установка %1 не разрешена из-за ошибки в обработке политики ограниченного использования программ. Объект не может быть доверенным.</td>
<td>Сообщение об ошибке, указывающее, что возникли проблемы при попытке проверить пакет в соответствии с политикой ограниченного использования программ.</td>
</tr>
<tr class="odd">
<td>1012</td>
<td>эта версия Windows не поддерживает развертывание 64-разрядных пакетов. Скрипт "%1" предназначен для 64-разрядного пакета.</td>
<td>Сообщение об ошибке, указывающее, что скрипты для 64-разрядных пакетов могут выполняться только на 64-разрядном компьютере.</td>
</tr>
<tr class="even">
<td>1013</td>
<td>{Отчет о необработанных исключениях}</td>
<td>Сообщение об ошибке для необработанного исключения — это отчет.</td>
</tr>
<tr class="odd">
<td>1014</td>
<td>Windows Сведения о прокси-сервере установщика не зарегистрированы правильно</td>
<td>Сообщение об ошибке: сведения о прокси-сервере не зарегистрированы должным образом.</td>
</tr>
<tr class="even">
<td>1015</td>
<td>Не удалось подключиться к серверу. Ошибка:% d</td>
<td>Информационное сообщение о том, что установка не смогла подключиться к серверу.</td>
</tr>
<tr class="odd">
<td>1016</td>
<td>Ошибка при обнаружении продукта "%1", компонент "%2", компонент "%3". Не удалось найти ресурс "%4" в компоненте "Запуск с исходного кода", так как не найден допустимый и доступный источник.</td>
<td>Предупреждающее сообщение. Дополнительные сведения см. <a href="searching-for-a-broken-feature-or-component.md">в разделе Поиск неработающей функции или компонента</a>.</td>
</tr>
<tr class="even">
<td>1017</td>
<td>Идентификатор безопасности пользователя изменен с "%1" на "%2", но управляемое приложение и ключи данных пользователя не могут быть обновлены. Ошибка = "%3".</td>
<td>Сообщение об ошибке, указывающее, что произошла ошибка при попытке обновить регистрацию пользователя после изменения SID пользователя.</td>
</tr>
<tr class="odd">
<td>1018</td>
<td>Приложение "%1" не может быть установлено, так как оно несовместимо с данной версией Windows.</td>
<td>Сообщение об ошибке, указывающее, что установка несовместима с текущей версией Windows. Обратитесь к производителю программного обеспечения, которое устанавливается для обновления.</td>
</tr>
<tr class="even">
<td>1019</td>
<td>Продукт: %1-обновление "%2" успешно удалено.</td>
<td>Информационное сообщение о том, что программа установки удалила обновление. <strong>установщик Windows 2,0:</strong> Недоступно.<br/></td>
</tr>
<tr class="odd">
<td>1020</td>
<td>Продукт: %1-не удалось удалить обновление "%2". Код ошибки: %3. Дополнительные сведения можно найти в файле журнала %4.</td>
<td>Сообщение об ошибке, указывающее, что установщику не удалось удалить обновление. Дополнительные сведения можно найти в файле журнала. <strong>установщик Windows 2,0:</strong> Недоступно.<br/></td>
</tr>
<tr class="even">
<td>1021</td>
<td>Продукт: %1-не удалось удалить обновление "%2". Код ошибки: %3.</td>
<td>Сообщение об ошибке, указывающее, что установщику не удалось удалить обновление. Сведения о том, как включить ведение журнала, см <a href="windows-installer-best-practices.md">. в разделе Включение подробного ведения журнала на компьютере пользователя при устранении неполадок при развертывании.</a> <strong>установщик Windows 2,0:</strong> Недоступно.<br/></td>
</tr>
<tr class="odd">
<td>1022</td>
<td>Продукт: %1-обновление "%2" успешно установлено.</td>
<td>Информационное сообщение о том, что программа установки успешно установила обновление. <strong>установщик Windows 2,0:</strong> Недоступно.<br/></td>
</tr>
<tr class="even">
<td>1023</td>
<td>Продукт: %1-не удалось установить обновление "%2". Код ошибки: %3. Дополнительные сведения можно найти в файле журнала %4.</td>
<td>Сообщение об ошибке, указывающее, что установщик не смог установить обновление. Дополнительные сведения можно найти в файле журнала. <strong>установщик Windows 2,0:</strong> Недоступно.<br/></td>
</tr>
<tr class="odd">
<td>1024</td>
<td>Продукт: %1-не удалось установить обновление "%2". Код ошибки: %3.</td>
<td>Сообщение об ошибке, указывающее, что установщик не смог установить обновление. Сведения о том, как включить ведение журнала, см <a href="windows-installer-best-practices.md">. в разделе Включение подробного ведения журнала на компьютере пользователя при устранении неполадок при развертывании.</a> <strong>установщик Windows 2,0:</strong> Недоступно.<br/></td>
</tr>
<tr class="even">
<td>1025</td>
<td>Продукт: %1. Файл %2 используется следующим процессом: имя: %3, идентификатор %4.</td>
<td><strong>установщик Windows 2,0:</strong> Недоступно.<br/></td>
</tr>
<tr class="odd">
<td>1026</td>
<td>Windows Установщик определил, что раздел реестра данных конфигурации не защищен должным образом. Владелец ключа должен быть либо "Локальная система", либо "Builtin \ Администраторы" Существующий ключ будет удален и создан повторно с соответствующими параметрами безопасности.</td>
<td>Предупреждающее сообщение. <strong> <a href="not-supported-in-windows-installer-version-3-1.md">установщик Windows 3,1 и более ранних версий</a>:</strong> Недоступно.<br/></td>
</tr>
<tr class="even">
<td>1027</td>
<td>Windows Установщик определил, что вложенный раздел реестра %1 в данных конфигурации не был правильно защищен. Владелец ключа должен быть либо "Локальная система", либо "Builtin \ Администраторы" Существующий подраздел и все его содержимое будут удалены.</td>
<td>Предупреждающее сообщение. <strong> <a href="not-supported-in-windows-installer-version-3-1.md">установщик Windows 3,1 и более ранних версий</a>:</strong> Недоступно.<br/></td>
</tr>
<tr class="odd">
<td>1028</td>
<td>Windows Установщик определил, что папка кэша данных конфигурации не защищена должным образом. Владелец ключа должен быть либо "Локальная система", либо "Builtin \ Администраторы" Существующая папка будет удалена и создана повторно с соответствующими параметрами безопасности.</td>
<td>предупреждающее сообщение<strong><a href="not-supported-in-windows-installer-version-3-1.md">установщик Windows 3,1 и более ранних версий</a>:</strong> недоступно.<br/></td>
</tr>
<tr class="even">
<td>1029</td>
<td>Продукт: %1. Требуется перезагрузка.</td>
<td>Предупреждающее сообщение индикатиинг, что для завершения установки требуется перезагрузка системы, и перезагрузка была отложена в более позднее время. <strong> <a href="not-supported-in-windows-installer-version-3-1.md">установщик Windows 3,1 и более ранних версий</a>:</strong> Недоступно.<br/></td>
</tr>
<tr class="odd">
<td>1030</td>
<td>Продукт: %1. приложение попыталось установить более позднюю версию защищенного файла Windows %2. Чтобы это приложение работало правильно, может потребоваться обновить операционную систему. (Версия пакета: %3, защищенная операционная система, версия: %4).</td>
<td>предупреждающее сообщение, указывающее, что при установке была предпринята попытка заменить важный файл, защищенный <a href="windows-resource-protection-on-windows-vista.md">защита ресурсов Windows</a>. Для использования этого приложения может потребоваться обновление операционной системы. <strong> <a href="not-supported-in-windows-installer-version-3-1.md">установщик Windows 3,1 и более ранних версий</a>:</strong> Недоступно.<br/></td>
</tr>
<tr class="even">
<td>1031</td>
<td>Продукт: %1. Сборка "%2" для компонента "%3" используется.</td>
<td>Предупреждающее сообщение, указывающее, что при установке была выполнена попытка обновления используемой сборки. Чтобы завершить обновление этой сборки, необходимо перезагрузить систему. <strong> <a href="not-supported-in-windows-installer-version-3-1.md">установщик Windows 3,1 и более ранних версий</a>:</strong> Недоступно.<br/></td>
</tr>
<tr class="odd">
<td>1032</td>
<td>Произошла ошибка при обновлении переменных среды, обновленных во время установки "%1".</td>
<td>Предупреждающее сообщение, указывающее, что для завершения обновления переменных среды некоторым пользователям, вошедшим в систему компьютера, может потребоваться выйти из системы и снова войти в нее. <strong> <a href="not-supported-in-windows-installer-version-3-1.md">установщик Windows 3,1 и более ранних версий</a>:</strong> Недоступно.<br/></td>
</tr>
<tr class="even">
<td>1033</td>
<td>Продукт: %1. Версия: %2. Язык: %3. Установка завершена с состоянием: %4. Производитель: %5.</td>
<td>Поле 1 — поле <a href="productname.md"><strong>ProductName</strong></a> 2 — <a href="productversion.md"><strong>ProductVersion</strong></a><br/> Поле 3 — <a href="productlanguage.md"> <strong>продуктлангуаже</strong></a><br/> <strong> <a href="not-supported-in-windows-installer-version-3-1.md">установщик Windows 3,1 и более ранних версий</a>:</strong> Недоступно.<br/> Поле 5 — <a href="manufacturer.md"> <strong>производитель</strong></a><br/> <strong> <a href="not-supported-in-windows-installer-4-5.md">установщик Windows 4,5 и более ранних версий</a>:</strong> Поле 5 недоступно.<br/></td>
</tr>
<tr class="odd">
<td>1034</td>
<td>Продукт: %1. Версия: %2. Язык: %3. Удаление завершено с состоянием: %4. Производитель: %5.</td>
<td>Поле 1 — поле <a href="productname.md"><strong>ProductName</strong></a> 2 — <a href="productversion.md"><strong>ProductVersion</strong></a><br/> Поле 3 — <a href="productlanguage.md"> <strong>продуктлангуаже</strong></a><br/> <strong> <a href="not-supported-in-windows-installer-version-3-1.md">установщик Windows 3,1 и более ранних версий</a>:</strong> Недоступно.<br/> Поле 5 — <a href="manufacturer.md"> <strong>производитель</strong></a><br/> <strong> <a href="not-supported-in-windows-installer-4-5.md">установщик Windows 4,5 и более ранних версий</a>:</strong> Поле 5 недоступно.<br/></td>
</tr>
<tr class="even">
<td>1035</td>
<td>Продукт: %1. Версия: %2. Язык: %3. Изменение конфигурации завершено с состоянием: %4. Производитель: %5.</td>
<td>Поле 1 — поле <a href="productname.md"><strong>ProductName</strong></a> 2 — <a href="productversion.md"><strong>ProductVersion</strong></a><br/> Поле 3 — <a href="productlanguage.md"> <strong>продуктлангуаже</strong></a><br/> Поле 5 — <a href="manufacturer.md"> <strong>производитель</strong></a><br/> <strong> <a href="not-supported-in-windows-installer-4-5.md">установщик Windows 4,5 и более ранних версий</a>:</strong> Поле 5 недоступно.<br/></td>
</tr>
<tr class="odd">
<td>1036</td>
<td>Продукт: %1. Версия: %2. Язык: %3. Обновление: %4. Установка обновления завершена с состоянием: %5. Производитель: %6.</td>
<td>Поле 1 — поле <a href="productname.md"><strong>ProductName</strong></a> 2 — <a href="productversion.md"><strong>ProductVersion</strong></a><br/> Поле 3 — <a href="productlanguage.md"> <strong>продуктлангуаже</strong></a><br/> Поле 4. это понятное имя пользователя, если <a href="msipatchmetadata-table.md">Таблица мсипатчметадата</a> содержится в пакете исправлений. В противном случае это идентификатор GUID исправления.<br/> Поле 5 — состояние установки обновления.<br/> <strong> <a href="not-supported-in-windows-installer-version-3-1.md">установщик Windows 3,1 и более ранних версий</a>:</strong> Недоступно.<br/> Поле 6 — <a href="manufacturer.md"> <strong>производитель</strong></a><br/> <strong> <a href="not-supported-in-windows-installer-4-5.md">установщик Windows 4,5 и более ранних версий</a>:</strong> Поле 6 недоступно.<br/></td>
</tr>
<tr class="even">
<td>1037</td>
<td>Продукт: %1. Версия: %2. Язык: %3. Обновление: %4. Удаление обновления завершено с состоянием: %5. Производитель: %6.</td>
<td>Поле 1 — поле <a href="productname.md"><strong>ProductName</strong></a> 2 — <a href="productversion.md"><strong>ProductVersion</strong></a><br/> Поле 3 — <a href="productlanguage.md"> <strong>продуктлангуаже</strong></a><br/> Поле 4. это понятное имя пользователя, если <a href="msipatchmetadata-table.md">Таблица мсипатчметадата</a> содержится в пакете исправлений. В противном случае это идентификатор GUID исправления.<br/> Поле 5. состояние удаления обновления.<br/> <strong> <a href="not-supported-in-windows-installer-version-3-1.md">установщик Windows 3,1 и более ранних версий</a>:</strong> Недоступно.<br/> Поле 6 — <a href="manufacturer.md"> <strong>производитель</strong></a><br/> <strong> <a href="not-supported-in-windows-installer-4-5.md">установщик Windows 4,5 и более ранних версий</a>:</strong> Поле 6 недоступно.<br/></td>
</tr>
<tr class="odd">
<td>1038</td>
<td>Продукт: %1. Версия: %2. Язык: %3. Требуется перезагрузка. Тип перезагрузки: %4. Причина перезагрузки: %5. Производитель: %6.</td>
<td>Поле 1 — поле <a href="productname.md"><strong>ProductName</strong></a> 2 — <a href="productversion.md"><strong>ProductVersion</strong></a><br/> Поле 3 — <a href="productlanguage.md"> <strong>продуктлангуаже</strong></a><br/> <dl> Поле 4 — константа, указывающая тип перезапуска: <br/> <dl> <strong>мсирбребутиммедиате</strong> (1) — немедленная перезагрузка компьютера.<br />
<strong>мсирбребутдеферред</strong> (2) — пользователь или администратор отложили о необходимости перезагрузки компьютера с помощью пользовательского интерфейса или <a href="reboot.md"><strong>перезагрузки</strong></a>= реаллисуппресс.<br />
</dl> </dd> Field 5 - A constant indicating the reason for the restart:<br/> <dl> <strong>мсирбребутундетерминедреасон</strong> (0) — требуется перезапуск по неизвестной причине.<br />
<strong>мсирбребутинусефилесреасон</strong> (1) — для замены используемых файлов требуется перезагрузка.<br />
<strong>мсирбребутсчедулеребутреасон</strong> (2) — пакет содержит действие <a href="schedulereboot-action.md">счедулеребут</a> .<br />
<strong>мсирбребутфорцеребутреасон</strong> (3) — пакет содержит действие <a href="forcereboot-action.md">форцеребут</a> .<br />
<strong>мсирбребуткустомактионреасон</strong> (4) — настраиваемое действие, именуемое функцией <a href="/windows/desktop/api/Msiquery/nf-msiquery-msisetmode"><strong>мсисетмоде</strong></a> .<br />
</dl> </dd> </dl> <strong> <a href="not-supported-in-windows-installer-version-3-1.md">установщик Windows 3,1 и более ранних версий</a>:</strong> Недоступно.<br/> Поле 6 — <a href="manufacturer.md"> <strong>производитель</strong></a><br/> <strong> <a href="not-supported-in-windows-installer-4-5.md">установщик Windows 4,5 и более ранних версий</a>:</strong> Поле 6 недоступно.<br/></td>
</tr>
<tr class="even">
<td>10005</td>
<td>В установщике произошла непредвиденная ошибка при установке этого пакета. Это может указывать на проблему с этим пакетом. Код ошибки-[1]. {{Аргументы: [2], [3], [4]}}</td>
<td>Сообщение об ошибке, указывающее, что произошла внутренняя ошибка. Текст этого сообщения основан на тексте, созданном для ошибки 5 в таблице ошибок.</td>
</tr>
<tr class="odd">
<td>11707</td>
<td>Продукт [2] — операция установки успешно завершена</td>
<td>Информационное сообщение об успешной установке продукта.</td>
</tr>
<tr class="even">
<td>11708</td>
<td>Продукт [2] — сбой операции установки</td>
<td>Сообщение об ошибке при установке продукта.</td>
</tr>
<tr class="odd">
<td>11728</td>
<td>Продукт [2]--Настройка успешно завершена.</td>
<td>Информационное сообщение о том, что конфигурация продукта прошла успешно.</td>
</tr>
</tbody>
</table>



 

Можно импортировать локализованные строки ошибок для событий в базу данных с помощью Msidb.exe или [**мсидатабасеимпорт**](/windows/desktop/api/Msiquery/nf-msiquery-msidatabaseimporta). Пакет SDK включает локализованные строки ресурсов для каждого из языков, перечисленных в разделе [Локализация таблиц Error and Актионтекст Tables](localizing-the-error-and-actiontext-tables.md) . Если строки ошибок, соответствующие событиям, не заполнены, установщик загружает локализованные строки для языка, указанного свойством [**продуктлангуаже**](productlanguage.md) .

 

 
