---
description: Фиксация настраиваемых действий выполняется после успешного завершения сценария установки.
ms.assetid: ad766585-e8ac-44b6-9717-7979f803886c
title: Зафиксировать настраиваемые действия
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4226a126468df400e23c8eb59885b6e5a66c96d740c0c0e0959320697da293d9
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118380311"
---
# <a name="commit-custom-actions"></a>Зафиксировать настраиваемые действия

Фиксация настраиваемых действий выполняется после успешного завершения сценария установки. Если [действие функции InstallFinalize](installfinalize-action.md) выполнено успешно, установщик запустит все существующие пользовательские действия фиксации. Единственным параметром mode, который устанавливает установщик в этом случае, является МСИРУНМОДЕ \_ commit. Описание параметров режима выполнения см. в разделе [**мсижетмоде**](/windows/desktop/api/Msiquery/nf-msiquery-msigetmode) .

Пользовательское действие фиксации можно указать, добавив флаг параметра в поле Тип [таблицы CustomAction](customaction-table.md). Дополнительные сведения см. в разделе [настраиваемое действие In-Script параметры выполнения](custom-action-in-script-execution-options.md) для флага параметра, определяющего настраиваемое действие фиксации.

Настраиваемое действие фиксации является дополнением к [настраиваемому действию отката](rollback-custom-actions.md) и может использоваться с настраиваемыми действиями отката для отмены настраиваемых действий, которые вносятся непосредственно в систему.

Обратите внимание, что пользовательское действие отката может не иметь возможности удалить все изменения, сделанные настраиваемыми действиями фиксации. Несмотря на то, что установщик записывает как откат, так и фиксацию пользовательских действий в скрипте отката, пользовательские действия записываются только после того, как установщик успешно обработал сценарий установки. Фиксация настраиваемых действий — это первые действия, выполняемые в скрипте отката. Если пользовательское действие фиксации завершается ошибкой, установщик инициирует откат, но может выполнять только откат тех операций, которые уже записаны в скрипт отката. Это означает, что в зависимости от настраиваемого действия фиксации откат может не иметь возможности отменить изменения, внесенные действием. Можно пропускать сбои при фиксации настраиваемых действий путем создания настраиваемого действия для игнорирования кодов возврата.

Пользовательские действия отката и фиксации не выполняются, если откат отключен. Если автор пакета требует этих типов настраиваемых действий для правильной установки, они должны использовать свойство [**роллбаккдисаблед**](rollbackdisabled.md) в условии, которое не позволяет продолжить установку после отключения отката.

 

 



