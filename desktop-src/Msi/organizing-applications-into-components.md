---
description: Установщик Windows устанавливает и удаляет приложение или продукт в частях, которые называются компонентами.
ms.assetid: 949d8b8c-8f1a-4fde-9a7d-824d33436e62
title: Упорядочение приложений по компонентам
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0d3fc2db794bef2a29025bf7ebc54c65691145ee
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103909015"
---
# <a name="organizing-applications-into-components"></a>Упорядочение приложений по компонентам

Установщик Windows устанавливает и удаляет приложение или продукт в частях, которые называются [компонентами](windows-installer-components.md). Компоненты представляют собой коллекции ресурсов, которые всегда устанавливаются или удаляются как единое целое из системы пользователя. Ресурсом может быть файл, раздел реестра, ярлык или любое другое, которое может быть установлено. Каждому компоненту назначается уникальный [GUID](guid.md)кода компонента.

Авторы пакетов установки должны создавать только компоненты и версии компонентов, которые могут быть установлены и удалены без повреждения других компонентов. Кроме того, удаление компонента не должно оставляться за потерянными ресурсами на компьютере пользователя, например неиспользуемыми файлами, разделами реестра или ярлыками. Чтобы убедиться в этом, авторы должны соблюдать следующие общие правила при Организации ресурсов в компоненты:

-   Никогда не создавайте два компонента, которые устанавливают ресурс с тем же именем и целевым расположением. Если ресурс должен дублироваться в нескольких компонентах, измените его имя или целевое расположение в каждом компоненте. Это правило должно применяться для приложений, продуктов, версий продуктов и компаний.
-   Обратите внимание, что предыдущее правило означает, что два компонента не должны иметь одинаковый файл пути к ключу. Значение пути к ключу указывает на определенный файл или папку, принадлежащие компоненту, который установщик использует для обнаружения компонента. Если два компонента имеют одинаковый файл пути к ключу, установщик не сможет определить, какой компонент установлен. Однако два компонента могут совместно использовать папку пути к ключу.
-   Не создавайте версию компонента, которая несовместима со всеми предыдущими версиями компонента. Этот компонент может совместно использоваться другими приложениями, продуктами, версиями продуктов и компаниями. Вместо этого создайте новый компонент.
-   Не создавайте компоненты, содержащие ресурсы, которые необходимо установить в более чем один каталог в системе пользователя. Установщик устанавливает все ресурсы компонента в один каталог. Некоторые ресурсы невозможно установить в подкаталогах.
-   Не включайте более одного COM-сервера на каждый компонент. Если компонент содержит COM-сервер, это должен быть путь к ключу для компонента.
-   Не указывайте более одного файла для каждого компонента в качестве целевого объекта для меню " **Пуск** " или ярлыка на рабочем столе.

При Организации приложения в компоненты авторам пакетов может потребоваться добавить, удалить или изменить ресурсы в существующей установке. В этом случае автор должен решить, следует ли предоставлять ресурсы путем введения нового компонента или путем изменения существующих компонентов и изменения их в новой версии компонента. Поскольку при введении нового компонента необходимо назначить уникальный код компонента, авторы должны определить, требует ли их изменений изменения кода компонента. Дополнительные сведения см. в статьях [изменение кода компонента](changing-the-component-code.md), [что происходит, если правила компонентов нарушены?](what-happens-if-the-component-rules-are-broken.md)и [Определение компонентов установщика](defining-installer-components.md).

 

 



