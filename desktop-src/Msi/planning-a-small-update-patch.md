---
description: Файл функции концерта исходного продукта MNP2000 содержит ошибку в Concert.txt файле.
ms.assetid: 4289bd0c-bdf3-4747-9287-94f737ce4f5c
title: Планирование небольшого исправления обновления
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f15f3667c6a18ab7a71e86997091bd76d4b15577
ms.sourcegitcommit: de72a1294df274b0a71dc0fdc42d757e5f6df0f3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/05/2021
ms.locfileid: "103914251"
---
# <a name="planning-a-small-update-patch"></a>Планирование небольшого исправления обновления

Файл функции концерта исходного продукта MNP2000 содержит ошибку в Concert.txt файле. Поскольку установщик Windows использовался для установки и настройки приложения, незначительные исправления для приложения могут быть обработаны путем установки пакета исправлений небольшого обновления. [Небольшое обновление](small-updates.md) вносит изменения в один или несколько файлов приложения, которые являются слишком незначительными для изменения кода продукта. В следующем примере показано, как создать пакет исправлений установщик Windows, который может применить небольшое обновление, и предоставить быстрое исправление для продукта MNP2000.

Чтобы создать небольшое обновление, сначала получите полностью несжатое изображение продукта MNP2000, которое содержит ошибку в Concert.txt. Образ должен содержать MNP2000.msi и все исходные файлы, описанные в разделе [Планирование установки](planning-the-installation.md). В следующем обсуждении это называется целевым изображением. Целевой образ должен быть полностью распакован, поскольку процессу создания исправлений не удается создать двоичные исправления для файлов, сжатых в ящиках. Вставьте MSI-файл и все исходные файлы целевого образа в папку с именем Target.

Затем получите полностью несжатое изображение продукта MNP2000 с фиксированным файлом Concert.txt. Это называется обновленным образом в следующем обсуждении. Чтобы обновить MSI файл, используйте средство редактирования базы данных установки, например Orca. Например, если размер исправленного Concert.txt меньше исходного, обязательно введите новый размер в поле Размер файла таблицы File обновляемого образа. Обратите внимание, что поскольку пакет был изменен, необходимо назначить новый код пакета в свойстве [**сводки номера редакции**](revision-number-summary.md) . Вставьте MSI-файл и все исходные файлы обновленного образа в папку с именем Upgraded.

В этом примере предполагается, что размер файла Concert.txt изменяется. Это означает, что поля Размер файла в таблицах файлов целевой и обновленной базы данных содержат разные данные.

Следующая [Файловая таблица](file-table.md) определяет запись из целевого образа.



| Файл        | Компонент\_ | FileName    | FileSize | Версия | Язык | Атрибуты | Последовательность |
|-------------|-------------|-------------|----------|---------|----------|------------|----------|
| Concert.txt | Концерт     | Concert.txt | 1000     |         |          | 0          | 1        |



 

Следующая файловая таблица определяет запись из обновленного образа.



| Файл        | Компонент\_ | FileName    | FileSize | Версия | Язык | Атрибуты | Последовательность |
|-------------|-------------|-------------|----------|---------|----------|------------|----------|
| Concert.txt | Концерт     | Concert.txt | 900      |         |          | 0          | 1        |



 

> [!Note]
> Файл должен иметь тот же ключ в [файловых таблицах](file-table.md) как целевого, так и обновленного образа. Строковые значения в столбце File обеих таблиц должны быть одинаковыми. Прописные и строчные буквы также должны быть идентичными.
> 
> Следуйте рекомендациям, описанным в разделе [Создание пакета исправлений](creating-a-patch-package.md). Не создавайте пакет с ключами [таблицы File](file-table.md) , которые отличаются только регистром, поскольку [Msimsp.exe](msimsp-exe.md) и [Patchwiz.dll](patchwiz-dll.md) вызывают Makecab.exe, что не учитывает регистр, и создание исправления завершается ошибкой.

[Продолжить](creating-a-patch-creation-properties-file.md)

 

 



