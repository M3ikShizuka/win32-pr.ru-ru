---
description: Таблица File содержит полный список исходных файлов с различными атрибутами, упорядоченными по уникальному нелокализованному идентификатору.
ms.assetid: 31d0e727-a9eb-4cd2-a211-ea7b138d0173
title: Таблица файлов
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 59838001101bbc65af50bff3f2b00b540976e4b8
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "103911660"
---
# <a name="file-table"></a>Таблица файлов

Таблица File содержит полный список исходных файлов с различными атрибутами, упорядоченными по уникальному нелокализованному идентификатору. Файлы могут храниться на исходном носителе как отдельные файлы или сжиматься в [*CAB-файле*](c-gly.md). Дополнительные сведения см. [в разделе Использование ящиков и сжатых источников](using-cabinets-and-compressed-sources.md).

Таблица File содержит следующие столбцы.



| Столбец      | Type                               | Ключ | Допускает значения NULL |
|-------------|------------------------------------|-----|----------|
| Файл        | [Идентификатор](identifier.md)       | Да   | Нет        |
| Компонент\_ | [Идентификатор](identifier.md)       | Нет   | Нет        |
| FileName    | [Имя файла](filename.md)           | Нет   | Нет        |
| FileSize    | [даублеинтежер](doubleinteger.md) | Нет   | Нет        |
| Версия     | [Version](version.md)             | Нет   | Да        |
| Язык    | [Язык](language.md)           | Нет   | Да        |
| Атрибуты  | [Integer](integer.md)             | Нет   | Да        |
| Последовательность    | [Integer](integer.md)             | Нет   | Нет        |



 

## <a name="columns"></a>Столбцы

<dl> <dt>

<span id="File"></span><span id="file"></span><span id="FILE"></span>File
</dt> <dd>

Нелокализованный токен, однозначно определяющий файл. Это поле не учитывает регистр. Не присваивайте идентификаторы разным файлам, которые отличаются только их регистром.

</dd> <dt>

<span id="Component_"></span><span id="component_"></span><span id="COMPONENT_"></span>См\_
</dt> <dd>

Внешний ключ в первом столбце [таблицы Component](component-table.md). Это поле определяет компонент, управляющий файлом.

</dd> <dt>

<span id="FileName"></span><span id="filename"></span><span id="FILENAME"></span>Файлов
</dt> <dd>

Имя файла, используемого для установки. Имя может быть локализовано.

Так как некоторые веб-серверы могут быть чувствительны к регистру, имя файла должно соответствовать регистру исходных файлов, чтобы обеспечить поддержку загрузки из Интернета.

</dd> <dt>

<span id="FileSize"></span><span id="filesize"></span><span id="FILESIZE"></span>Размер файла
</dt> <dd>

Размер файла в байтах. Это значение должно быть неотрицательным числом.

</dd> <dt>

<span id="Version"></span><span id="version"></span><span id="VERSION"></span>Версия
</dt> <dd>

Это поле является строкой версии для файла с версией. Это поле пусто для файлов без версий. Версия файла, введенная в это поле, должна совпадать с версией файла, входящего в состав пакета установки.

В поле версия можно также включить первичный ключ другой записи в таблице File. Затем файл, на который указывает ссылка, определяет логику управления версиями для этого файла. Дополнительные сведения см. в разделе [сопутствующие файлы](companion-files.md). Обратите внимание, что если этот файл является ключевым путем для своего компонента, он не должен быть указан в качестве сопутствующего файла.

</dd> <dt>

<span id="Language"></span><span id="language"></span><span id="LANGUAGE"></span>Языке
</dt> <dd>

Список десятичных идентификаторов языка, разделенных запятыми.

Файлы шрифтов не должны создаваться с использованием идентификатора языка, так как шрифты не содержат внедренный ресурс идентификатора языка. Поэтому этот столбец должен оставаться пустым для файлов шрифтов.

</dd> <dt>

<span id="Attributes"></span><span id="attributes"></span><span id="ATTRIBUTES"></span>Атрибута
</dt> <dd>

Целое число, содержащее битовые флаги, представляющие атрибуты файла.

В следующей таблице показано определение битового поля.



| Константа                             | Шестнадцатеричный | Decimal | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|--------------------------------------|-------------|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **мсидбфилеаттрибутесреадонли**      | 0x000001    | 1       | Только для чтения                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **мсидбфилеаттрибутешидден**        | 0x000002    | 2       | Скрытый                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **мсидбфилеаттрибутессистем**        | 0x000004    | 4       | Система                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **мсидбфилеаттрибутесвитал**         | 0x000200    | 512     | Этот файл крайне важен для точной работы компонента, к которому он принадлежит. Если установка файла с атрибутом Мсидбфилеаттрибутесвитал завершается ошибкой, установка останавливается и выполняется ее откат. В этом случае установщик отображает диалоговое окно без кнопки пропустить. Если этот атрибут не задан и установка файла завершается ошибкой, установщик отображает диалоговое окно с кнопкой пропустить. В этом случае пользователь может пропустить ошибку при установке файла и продолжить работу. <br/> |
| **мсидбфилеаттрибутесчекксум**      | 0x000400    | 1024    | Файл содержит допустимую [*контрольную сумму*](c-gly.md). Для восстановления поврежденного файла требуется контрольная сумма.                                                                                                                                                                                                                                                                                                                                                                                           |
| **мсидбфилеаттрибутеспатчаддед**    | 0x001000    | 4096    | Этот бит должен быть добавлен только исправлением и, если файл добавляется исправлением.                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **мсидбфилеаттрибутеснонкомпрессед** | 0x002000    | 8192    | Тип источника файла — uncompressedный. Если задано, игнорирует свойство [**Сводка слов**](word-count-summary.md) . Если не задан ни **мсидбфилеаттрибутеснонкомпрессед** , ни **мсидбфилеаттрибутескомпрессед** , то состояние сжатия файла указывается свойством " **Сводка слов** ". Не задавайте одновременно **мсидбфилеаттрибутеснонкомпрессед** и **мсидбфилеаттрибутескомпрессед**.                                                                                                                            |
| **мсидбфилеаттрибутескомпрессед**    | 0x004000    | 16384   | Тип источника файла — сжатый. Если задано, игнорирует свойство [**Сводка слов**](word-count-summary.md) . Если не задан ни **мсидбфилеаттрибутеснонкомпрессед** , ни **мсидбфилеаттрибутескомпрессед** , то состояние сжатия файла указывается свойством " **Сводка слов** ". Не задавайте одновременно **мсидбфилеаттрибутеснонкомпрессед** и **мсидбфилеаттрибутескомпрессед**.                                                                                                                              |



 

Если задан бит **мсидбфилеаттрибутесвитал** в столбце Attributes и для установки выбран компонент, которому принадлежит файл, установщик должен иметь возможность установить этот файл для успешного завершения установки. Если установщику не удается установить файл по какой-либо причине (например, если исходный файл не удается найти в исходном образе), появится диалоговое окно с параметрами "повторить" или "Отмена". Для файла, не имеющего **мсидбфилеаттрибутесвитал** , параметры в случае ошибки установки будут иметь значение "Abort", "Retry" и "ignore" (т. е. у пользователя будет возможность успешно завершить установку без установки этого файла).

Бит **мсидбфилеаттрибутесчекксум** в столбце Attributes должен быть задан для каждого исполняемого файла в установке с допустимой [*контрольной суммой*](c-gly.md) , хранящейся в заголовке переносимого исполняемого файла (PE). Только те файлы, для которых установлен этот бит, всегда будут проверены на наличие допустимой контрольной суммы во время переустановки. Дополнительные сведения см. в разделе [**REINSTALLMODE**](reinstallmode.md).

</dd> <dt>

<span id="Sequence"></span><span id="sequence"></span><span id="SEQUENCE"></span>Виртуализирован
</dt> <dd>

Расположение этого файла в образах носителя. Этот порядок должен соответствовать порядку файлов в CAB-файле, если файлы сжаты. Целые числа в этом поле должны быть больше или равны 1.

Порядковые номера в столбце Sequence используются для указания порядка установки файлов и исходного носителя, на котором расположен файл (в сочетании с [таблицей Media](media-table.md)). Например, предположим, что файл имеет порядковый номер 92. Чтобы определить исходный диск, на котором находится этот файл, найдите в таблице носитель запись с наименьшим значением последней последовательности, превышающим 92.

Хотя сжатым файлам присваиваются внутренние порядковые номера внутри ящиков, эти абсолютные значения не обязательно должны совпадать с порядковыми номерами в таблице файлов. Однако важно, чтобы последовательность файлов в таблице файлов совпадала с последовательностью файлов в ящиках.

Для файлов, которые не сжимаются, порядковые номера не должны быть уникальными. Например, если все файлы являются несжатыми и находятся на одном диске, то всем файлам можно присвоить одинаковый порядковый номер.

Максимальный предел — 32767 файлов. Сведения о создании пакета установщик Windows с большим числом файлов см. в разделе [Разработка большого пакета](authoring-a-large-package.md).

</dd> </dl>

## <a name="remarks"></a>Комментарии

Действия [инсталлфилес](installfiles-action.md) и [ремовефилес](removefiles-action.md) в [*таблицах последовательности*](s-gly.md) обрабатывают сведения, приведенные в этой таблице. Дополнительные сведения об использовании *таблиц последовательности* см. [в разделе Использование таблицы последовательностей](using-a-sequence-table.md).

Таблица изначально создается из списка файлов, но если используется сжатие CAB-файла, таблица повторно создается на основе выходных данных модуля сжатия. Дополнительные сведения см. в разделе [CAB-файлы](cabinet-files.md).

Чтобы переместить существующий файл на компьютер пользователя во время установки, используйте [действие мовефилес](movefiles-action.md) и [таблицу MoveFile](movefile-table.md). Чтобы установить файл в несколько расположений, используйте [действие дупликатефилес](duplicatefiles-action.md) и [таблицу дупликатефиле](duplicatefile-table.md).

В следующей таблице приведена сводка возможных сочетаний значений в столбце Версия и в столбце язык. Дополнительные сведения см. в разделе [правила управления версиями файлов](file-versioning-rules.md).



| Версия | Язык | Описание                                                                     |
|---------|----------|---------------------------------------------------------------------------------|
| 1.2.3.4 | 1033     | Версия и язык.                                                       |
| 1.2.3.4 | Заканчивающ   | Версия, но не язык.                                                    |
| 1.2.3.4 | 0        | Версия и язык не являются нейтральными.                                           |
| TestDB  | Заканчивающ   | Сопровождающий файл без связанного с ним языка.                         |
| TestDB  | 1033     | Сопутствующий файл и язык.                                                |
| Заканчивающ  | 1033     | Нет версии, но имеет связанный с ней язык (то есть TypeLib, HelpFile). |



 

Дополнительные сведения см. в [таблице мсилоккпермиссионсекс](msilockpermissionsex-table.md) и [таблице локкпермиссионс](lockpermissions-table.md).

## <a name="validation"></a>Проверка

<dl>

[ICE02](ice02.md)  
[ICE03](ice03.md)  
[ICE04](ice04.md)  
[ICE06](ice06.md)  
[ICE18](ice18.md)  
[ICE30](ice30.md)  
[ICE32](ice32.md)  
[ICE35](ice35.md)  
[ICE39](ice39.md)  
[ICE42](ice42.md)  
[ICE45](ice45.md)  
[ICE50](ice50.md)  
[ICE51](ice51.md)  
[ICE54](ice54.md)  
[ICE55](ice55.md)  
[ICE57](ice57.md)  
[ICE59](ice59.md)  
[ICE60](ice60.md)  
[ICE67](ice67.md)  
[ICE69](ice69.md)  
[ICE76](ice76.md)  
[ICE91](ice91.md)  
</dl>

 

 




