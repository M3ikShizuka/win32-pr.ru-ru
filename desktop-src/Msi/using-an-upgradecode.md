---
description: UpgradeCode в основном используется для поддержки основных обновлений, хотя небольшие и небольшие исправления обновления могут использовать UpgradeCode для проверки продукта.
ms.assetid: de62bb80-56a0-4652-9509-5d36ed171c69
title: Использование UpgradeCode
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: caf32d40364653527b9f906e6dd42de64bb9f697
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103908999"
---
# <a name="using-an-upgradecode"></a>Использование UpgradeCode

[**UpgradeCode**](upgradecode.md) в основном используется для поддержки основных обновлений, хотя небольшие и небольшие исправления обновления могут использовать **UpgradeCode** для проверки продукта. Во время основных обновлений действия [финдрелатедпродуктс](findrelatedproducts-action.md), [мигратефеатурестатес](migratefeaturestates-action.md)и [RemoveExistingProducts](removeexistingproducts-action.md) обнаруживают, переносят и удаляют предыдущие версии продукта. Действие Финдрелатедпродуктс выполняет поиск продуктов по критериям, основанным на **UpgradeCode**, [**продуктлангуаже**](productlanguage.md)и [**ProductVersion**](productversion.md). Эти критерии указываются в таблице [Обновление](upgrade-table.md) .

Учитывая критерии, используемые действием [финдрелатедпродуктс](findrelatedproducts-action.md) , значение [**UpgradeCode**](upgradecode.md) может быть одинаковым для разных языков и версий одного продукта. Это обусловлено тем, что таблица [обновления](upgrade-table.md) позволяет различать продукты по строкам версий и языков.

В разных версиях одного и того же продукта может потребоваться не изменять [**UpgradeCode**](upgradecode.md). У каждого изолированного продукта должно быть собственное свойство **UpgradeCode**. Набор продуктов также должен иметь собственное значение **UpgradeCode**. Это позволит пакету обновить предыдущие версии набора или отдельных продуктов, используя несколько строк в [таблице обновления](upgrade-table.md).

В следующих двух сценариях показано использование [**UpgradeCode**](upgradecode.md).

-   Продукт а и продукт B были доставлены с одинаковыми [**продуктлангуаже**](productlanguage.md), [**ProductVersion**](productversion.md)и [**UpgradeCode**](upgradecode.md). Продукт а и продукт B имеют разные [**продукткодес**](productcode.md). Так как продукты были назначены одним и тем же состоянием **UpgradeCode**, невозможно создать таблицу [обновления](upgrade-table.md) , чтобы отличать старую версию продукта от старой версии продукта B. В этом случае вы не сможете установить обновление продукта A, который игнорирует продукт B. Так как это были различные продукты, им должны быть назначены разные значения **UpgradeCode**.
-   Английская и французская версии продукта A были отгружены с одинаковыми [**ProductVersion**](productversion.md) и [**UpgradeCode**](upgradecode.md). И английская, и французская версии продукта A имеют разные [**продуктлангуажес**](productlanguage.md) и [**продукткодес**](productcode.md). Хотя версии на английском и французском языках имеют одно и то же значение **UpgradeCode**, можно создать таблицу [обновления](upgrade-table.md) таким же, чтобы была обнаружена и обновлена только старая версия английского языка, а старая версия на французском языке игнорировалась. Разные языковые версии продукта могут использовать одно и то же значение **UpgradeCode**.

 

 



