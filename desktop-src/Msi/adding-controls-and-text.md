---
description: Элементы управления и текст, размещенные в диалоговых окнах и объявлениях, позволяют пользователю взаимодействовать с процессом установки.
ms.assetid: 2c6204c7-535d-4dda-8394-723ddbf46b96
title: Добавление элементов управления и текста
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 58602c4d793b25e1670373773ac8d3f5be2399c6351e56ebe2de1579c78ddcc6
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "120046034"
---
# <a name="adding-controls-and-text"></a>Добавление элементов управления и текста

Элементы управления и текст, размещенные в диалоговых окнах и объявлениях, позволяют пользователю взаимодействовать с процессом установки. Добавьте диалоговое окно в пользовательский интерфейс, включив его в [диалоговую таблицу](dialog-table.md) , как описано в разделе [Использование пользовательского интерфейса](using-the-user-interface.md). Заполните диалоговые окна и объявления с элементами управления, заполнив [таблицу элементов управления](control-table.md) и [таблицу ббконтрол](bbcontrol-table.md)соответственно.

Начальные атрибуты элемента управления можно указать в столбце Attributes [таблицы Control](control-table.md). См. раздел [атрибуты элемента управления](control-attributes.md).

Чтобы сделать атрибуты элемента управления зависимыми от условия, используйте [таблицу таблица controlcondition](controlcondition-table.md) для отключения, включения, скрытия или отображения элемента управления в соответствии со значением свойства или условной инструкции. Эту таблицу также можно использовать для переопределения спецификации элемента управления по умолчанию, введенного в [таблицу диалогов](dialog-table.md).

Чтобы событие изменило атрибут элемента управления, подпишите элемент управления на таблице ControlEvent событие в [таблице таблица eventmapping](eventmapping-table.md). Таблице ControlEvent событие указывает действие, выполняемое установщиком, или изменение атрибутов одного или нескольких элементов управления в диалоговом окне. См. [Обзор таблице ControlEvent событие](controlevent-overview.md). Введите идентификатор атрибута в столбце атрибут и идентификатор таблице ControlEvent событие в столбце событие [таблицы таблица eventmapping](eventmapping-table.md).

Некоторые элементы управления упрощают сбор данных от пользователя. Например, флажок позволяет пользователю задать значение свойства. См. [таблицу CheckBox](checkbox-table.md), [таблицу ComboBox](combobox-table.md), [таблицу ListBox](listbox-table.md), [таблицу RadioButton](radiobutton-table.md)и [таблицу ListView](listview-table.md).

Обратите внимание, что по соображениям безопасности закрытые свойства не могут быть изменены пользователем, взаимодействующим с пользовательским интерфейсом. Если свойство должно быть задано пользовательским интерфейсом, оно должно быть общедоступным свойством и иметь имя в верхнем регистре. См. раздел [о свойствах](about-properties.md).

Можно либо сделать так, чтобы диалоговое окно предвидит данные пользователю, либо записать его в журнал в ответ на действия по установке, заполнив [таблицу актионтекст](actiontext-table.md).

Элементы управления могут иметь предопределенный стиль шрифта. Чтобы задать шрифт и начертание текстовой строки, перед строкой отображаемых символов укажите { \\ Style} или {&*Style*}. Где Style — это идентификатор, указанный в столбце система создала шрифт [таблицы система создала шрифт](textstyle-table.md). Если ни один из этих элементов отсутствует, но свойство [**дефаултуифонт**](defaultuifont.md) определено как допустимый стиль текста, будет использоваться этот шрифт.

Рекомендуется, чтобы свойство [**дефаултуифонт**](defaultuifont.md) каждого пакета установки с пользовательским интерфейсом было установлено в [таблице свойств](property-table.md) на один из стандартных стилей, перечисленных в [таблице система создала шрифт](textstyle-table.md). Если это свойство не указано, установщик использует системный шрифт. Это может привести к неправильному отображению текстовых строк в установщике, если кодовая страница пакета отличается от кодовой страницы пользовательского интерфейса по умолчанию.

Для большинства элементов управления текст отображается с использованием кодировки, заданной кодовой страницей базы данных. Это гарантирует, что используется правильный набор символов со сведениями, содержащимися в базе данных. Исключениями являются элементы управления [Edit](edit-control.md), [директорилист](directorylist-control.md), [паседит](pathedit-control.md)и [директорикомбо](directorycombo-control.md) , которые всегда отображают текст, используя стандартную кодировку пользовательского интерфейса пользователя. Элементы управления " [текст](text-control.md)", " [ListBox](listbox-control.md)" и " [поле со списком](combobox-control.md) " используют набор символов пользовательского интерфейса по умолчанию для пользователя, если задан [атрибут элемента управления усерслангуаже](userslanguage-control-attribute.md) .

В некоторых случаях при отмене работы с диалоговым окном элемент управления может перерисоваться неправильно. Это должно быть сделано в порядке, в котором элементы управления получают \_ сообщения WM Paint после удаления диалогового окна **Отмена** . Чтобы устранить эту проблему, попробуйте изменить порядок элементов управления в таблице управления.

Элементы управления должны быть достаточно большими, чтобы весь текст отображался по всем параметрам размера шрифта. Элементы управления должны быть достаточно большими, чтобы разместить весь локализованный текст, если текст в пользовательском интерфейсе может быть локализован. Для более крупных размеров шрифтов или локализованного текста может потребоваться больше места, чем у исходного текста, и может быть усечено элементом управления, который становится слишком маленьким. Дополнительные сведения о локализации текста пользовательского интерфейса см. в разделе [Пример локализации](a-localization-example.md).

 

 



