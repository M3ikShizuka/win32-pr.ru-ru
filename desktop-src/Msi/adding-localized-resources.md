---
description: В зависимости от приложения Локализация может потребовать изменения или добавления ресурсов, таких как файлы или разделы реестра.
ms.assetid: f5af0ecd-cb57-4858-88b4-4608893004f6
title: Добавление локализованных ресурсов
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: de37bfd3c216018f6c4a6f6866206020576153e55383a9d6b36e67533bbb3b6f
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119829244"
---
# <a name="adding-localized-resources"></a>Добавление локализованных ресурсов

В зависимости от приложения Локализация может потребовать изменения или добавления ресурсов, таких как файлы или разделы реестра. Для локализации примера приложения MNP2000 требуется добавить в пакет один дополнительный файл, Fre.txt и французские версии двух существующих файлов: Help.txt и Readme.txt.

В этом случае рекомендуется локализовать пакет таким образом, чтобы английская и французская версии могли безопасно сосуществовать на компьютере. Сюда не входит установка двух различных файлов с одинаковыми именами в один каталог. Так как Help.txt и Readme.txt имеют одинаковые имена файлов в двух языковых версиях, пакет для французского языка должен устанавливать эти файлы в каталог, отличный от английского.

Пакет для французского языка устанавливается Help.txt в новый подкаталог в папке Редпарк на французском языке. Поскольку добавление Fre.txt добавляет ресурс к исходному компоненту справки, код компонента для компонента справки должен отличаться в пакетах для французского и английского языков. См. правила для кодов компонентов в разделе [изменение кода компонента](changing-the-component-code.md).

Пакет для французского языка устанавливает Readme.txt в каталог на французском языке, чтобы имя файла не конфликтовали с английской версией. файл Readme.txt устанавливается вместе с компонентом Блокнот, но правила компонента не нуждаются в изменении кода компонента. в этом примере код компонента Блокнот не должен изменяться, так как RedPark.exe, значения реестра, указанные в [таблице реестра](registry-table.md), являются общими для обоих языковых версий. См. [раздел Добавление данных реестра](adding-registry-information.md).

Удалите англоязычные версии Help.txt и Readme.txt из исходных файлов и добавьте новые французские версии Help.txt, Readme.txt и Fre.txt. Локализованный пакет должен сопоставлять установку файлов из источника к целевому объекту следующим образом.



| Файл        | Описание                  | Путь к источнику                   | Путь к целевому объекту                                         |
|-------------|------------------------------|----------------------------------|--------------------------------------------------------|
| Redpark.exe | Исполняемый файл текстового редактора. | в. \\ пример \\ Блокнот \\Redpark.exe | \[ProgramFilesFolder \] \\ Red \_ парковки \\ французский \\Redpark.exe |
| Readme.txt  | Информационный файл.       | в. \\ пример \\ Блокнот \\Readme.txt  | \[ProgramFilesFolder \] \\ Red \_ парковки \\ французский \\Readme.txt  |
| Help.txt    | Помощь в руководстве                  | в. \\ пример \\ Блокнот \\Help.txt    | \[ProgramFilesFolder \] \\ Red \_ парковки \\ французский \\Help.txt    |
| Fre.txt     | Список телефона                   | в. \\ пример \\ Блокнот \\Fre.txt     | \[ProgramFilesFolder \] \\ Red \_ парковки \\ французский \\Fre.txt     |



 

Используйте редактор базы данных Orca, поставляемый вместе с пакетом SDK, или другой редактор, чтобы открыть таблицу Directory и добавить запись для установки нового каталога на французском языке.

[Таблица каталога](directory-table.md)



| Каталог                                        | \_Родительский каталог                                | дефаултдир        |
|--------------------------------------------------|--------------------------------------------------|-------------------|
| [**TARGETDIR**](targetdir.md)                   |                                                  | SourceDir         |
| [**ProgramFilesFolder**](programfilesfolder.md) | [**TARGETDIR**](targetdir.md)                   | .                 |
| артсдир                                          | нотепаддир                                       | Искусство: события       |
| холдир                                           | мондир                                           | .: Праздники        |
| менудир                                          | нотепаддир                                       | Меню              |
| мондир                                           | нотепаддир                                       | Ворота              |
| нотепаддир                                       | [**ProgramFilesFolder**](programfilesfolder.md) | красный \_ парк: Блокнот |
| спортдир                                         | нотепаддир                                       | Спорт: события     |
| френчдир                                        | нотепаддир                                       | Французский:.          |



 

Используйте редактор таблиц, чтобы изменить значение ComponentId компонента справки в MNPFren.msi на новый идентификатор GUID.

[Таблица компонентов](component-table.md)



| Компонент | ComponentId                            | Каталог\_ | Атрибуты | Условие | Путь      |
|-----------|----------------------------------------|-------------|------------|-----------|--------------|
| Команды  | {F54ABAC0-33F2-11D3-91D7-00C04FD70856} | спортдир    | 2          |           | Baseball.txt |
| Концерт   | {76FA7A80-33F6-11D3-91D8-00C04FD70856} | артсдир     | 2          |           | Concert.txt  |
| Dance     | {CCF834A1-33F8-11D3-91D8-00C04FD70856} | артсдир     | 2          |           | Dance.txt    |
| Футбол  | {CCF834A0-33F8-11D3-91D8-00C04FD70856} | спортдир    | 2          |           | Football.txt |
| Справка      | {9ED21229-FE3C-4FE9-B01D-57E00224FD0B} | нотепаддир  | 2          |           | Help.txt     |
| Январь   | {CF0BC690-33C9-11D3-91D6-00C04FD70856} | мондир      | 2          |           | January.txt  |
| невеарс  | {A42D9140-33D8-11D3-91D6-00C04FD70856} | холдир      | 2          |           | NewYears.txt |
| Блокнот   | {19BED232-30AB-11D3-91D3-00C04FD70856} | френчдир   | 2          |           | Redpark.exe  |



 

Используйте редактор таблиц, чтобы добавить Fre.txt в [файловую таблицу](file-table.md) MNPFren.msi. Введите LANGID для французского языка в поле Language (язык) для локализованных файлов. Все остальные вещи равны, если устанавливаемый файл имеет язык, отличный от языка на компьютере, установщик предпочитает файл с языком, соответствующим устанавливаемому продукту. Независимые от языка файлы обрабатываются как еще один язык, поэтому устанавливаемый продукт лучше всего подходит для установки. Дополнительные сведения см. в разделе [правила управления версиями файлов](file-versioning-rules.md).

[Таблица файлов](file-table.md)



| File         | Компонент\_ | FileName     | FileSize | Версия | Язык | Атрибуты | Последовательность |
|--------------|-------------|--------------|----------|---------|----------|------------|----------|
| Baseball.txt | Команды    | Baseball.txt | 1000     |         |          | 0          | 1        |
| Concert.txt  | Концерт     | Concert.txt  | 1000     |         |          | 0          | 1        |
| Dance.txt    | Dance       | Dance.txt    | 1000     |         |          | 0          | 1        |
| Football.txt | Футбол    | Football.txt | 1000     |         |          | 0          | 1        |
| Help.txt     | Справка        | Help.txt     | 1000     |         | 1036     | 0          | 1        |
| January.txt  | Январь     | January.txt  | 1000     |         |          | 0          | 1        |
| NewYears.txt | невеарс    | NewYears.txt | 1000     |         |          | 0          | 1        |
| Redpark.exe  | Блокнот     | Redpark.exe  | 45328    |         |          | 0          | 1        |
| Readme.txt   | Блокнот     | Readme.txt   | 1000     |         | 1036     | 0          | 1        |
| Fre.txt      | Справка        | Fre.txt      | 1000     |         | 1036     | 0          | 1        |



 

Это завершает Пример локализации.

 

 



