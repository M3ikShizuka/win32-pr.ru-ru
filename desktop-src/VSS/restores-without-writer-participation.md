---
description: Участие в программе записи в резервную копию VSS предназначено для того, чтобы позволить приложениям управлять тем, что и как использовать их данные восстановления.
ms.assetid: 076b2e6f-c2ca-4129-8827-1b18a655d634
title: Восстановление без участия в записи
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f89fd5ea855d2d91701d351e860bf966148be587
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127462548"
---
# <a name="restores-without-writer-participation"></a>Восстановление без участия в записи

Участие в программе записи в резервную копию VSS предназначено для того, чтобы позволить приложениям управлять тем, что и как использовать их данные восстановления.

Как правило, если модуль записи доступен в системе, не рекомендуется восстанавливать данные в исходное расположение без участия в записи. Такие восстановления, скорее всего, приведут к блокированию файлов назначения и выполнят значительный риск повреждения данных.

Однако существуют причины, по которым приложению резервного копирования может потребоваться восстановить резервную копию VSS без участия в записи.

-   Управление данными осуществляется с помощью приложений, не поддерживающих VSS. Почти каждая система будет иметь некоторые приложения — текстовые редакторы, средства чтения почты, текстовые процессоры и т. д., которые не знаются с VSS. Эти данные нельзя восстановить с помощью участия в модуле записи.

    Как правило, этот тип данных не является критически важным для системы или службы и не может быть достаточно проблематичным, или по крайней мере не больше проблем, чем при обычном восстановлении.

    Как и при подготовке к обычному восстановлению, если это возможно, операторы Restore должны попытаться приостановить или завершить такие приложения перед запуском восстановления VSS.

-   Отсутствуют модули записи VSS. Такая ситуация может быть довольно распространенной при восстановлении состояния поврежденной системы. Операция резервного копирования должна определить, желательно ли восстановление файлов для отсутствующих модулей записи. Если восстановление нежелательно, файлы можно восстановить так же, как при обычной архивации.
-   Частное восстановление данных модуля записи. Инициатор запроса может выбрать восстановление данных выполняющегося модуля записи в какое-либо частное расположение без уведомления модуля записи. Примером может быть восстановление данных модуля записи для поддержки сравнения в автономном режиме. В таком случае инициатору запроса не нужно использовать [*новое целевое расположение*](vssgloss-n.md) во время восстановления, так как оно не хочет, чтобы модуль записи мог получить доступ к данным.
-   Модуль записи не хочет участвовать во время восстановления. Модуль записи указывает на это путем передачи в VSS \_ WRE \_ никогда для параметра *вритерресторе* [**ивсскреатевритерметадата:: сетресторемесод**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-setrestoremethod).
-   Для модуля записи требуется пользовательский метод восстановления. Модуль записи указывает, что для него требуется пользовательское восстановление, передав \_ параметру рме в VSS значение \_ Custom для параметра *method* [**ивсскреатевритерметадата:: сетресторемесод**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-setrestoremethod). В этом случае этот модуль записи не должен участвовать в процессе восстановления, если в документации по пользовательскому восстановлению для этого модуля записи не указано иное.

Инициатор запроса включает модуль записи в процесс восстановления, указывая один из компонентов модуля записи в вызове [**ивссбаккупкомпонентс:: сетселектедфорресторе**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setselectedforrestore). Данные модуля записи можно восстановить без использования модуля записи, просто не указывая какие-либо компоненты модуля записи в вызове **ивссбаккупкомпонентс:: сетселектедфорресторе**. Если модуль записи не ожидает каких-либо событий восстановления, то включение этого модуля записи в процесс восстановления может привести к тому, что в этом модуле сообщается о ложных ошибках.

 

 



