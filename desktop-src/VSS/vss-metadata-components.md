---
description: Важно для Организации того, какие файлы какого модуля записи следует архивировать или восстанавливать, является понятием компонента.
ms.assetid: 5f85bd0e-31bb-45aa-af7c-15299ed31b26
title: Компоненты метаданных VSS
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ac121ae62798d0318233dba48e6d0b56c36e2065a71fe8e12af9c963893dd027
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "117751437"
---
# <a name="vss-metadata-components"></a>Компоненты метаданных VSS

Важно для Организации того, какие файлы какого модуля записи следует архивировать или восстанавливать, является понятием [*компонента*](vssgloss-c.md).

Компоненты позволяют модулю записи указать подсистеме резервного копирования, каким способом следует организовывать файлы, зависимости между файлами и тип данных, которые могут содержать эти файлы. Это позволяет механизму резервного копирования выбрать способ хранения файлов для максимальной эффективности.

Кроме того, приложения на основе VSS используют компоненты в качестве стандартных блоков для их метаданных, а также носитель для обмена данными между модулем записи и запрашивающей стороны.

Модули записи и запрашивающие хранят сведения о компонентах отдельно — в документе метаданных модуля записи и в документе компонентов резервного копирования соответственно, а сведения в каждом представлении различаются.

Сведения о компоненте в документах метаданных модуля записи включают в себя следующее:

-   Информация только от одного модуля записи в каждом документе
-   Все компоненты этого модуля записи, могут ли они быть [*явно добавлены*](vssgloss-e.md) или должны быть [*неявно добавлены*](vssgloss-i.md) в операцию резервного копирования или восстановления
-   Сведения о [*логическом пути*](vssgloss-l.md) , используемые для связывания компонента резервного копирования, который можно выбрать, с определенным невыбираемым для компонентов резервного копирования, тем самым формируя набор компонентов.
-   Сведения о [*наборе файлов*](vssgloss-f.md) — путь, спецификация файла и флаг рекурсии — управляются для каждого компонента.

Документы метаданных модуля записи также содержат сведения о метаданных уровня записи, такие как методы восстановления и сопоставления альтернативного расположения для восстановления. Документы метаданных модуля записи доступны только для чтения. Интерфейс для проверки этой информации — [**ивссвмкомпонент**](/windows/desktop/api/VsBackup/nl-vsbackup-ivsswmcomponent).

Сведения о компонентах в документах резервного копирования включают следующие компоненты.

-   Только сведения о явно включенных компонентах
-   Сведения о метаданных уровня записи, такие как сопоставление альтернативного расположения и восстановление
-   Сведения о состоянии, описывающие операцию резервного копирования или восстановления

В документах компонента резервного копирования не содержатся сведения о [*наборах файлов*](vssgloss-f.md)компонентов. Документы компонента резервного копирования не предназначены только для чтения и могут быть изменены модулем записи. Интерфейс для доступа к этой информации — [**ивсскомпонент**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent).

Жизненный цикл и связь между двумя выражениями компонента можно понять следующим образом:

-   Модули записи отвечают за первоначальные определения компонентов.
-   Инициатор запроса проверяет метаданные всех модулей записи и их компонентов.
-   С помощью выбора компонентов и сведений о логическом пути инициатор запроса определяет, какие компоненты должны быть явно включены, которые могут быть явно включены, определяющие наборы компонентов, а также элементы наборов компонентов.
-   Инициатор запроса добавляет эти компоненты, требующие явного включения, и неявно включает в себя подкомпоненты в [*наборах компонентов*](/windows) (сведения о которых отсутствуют в документе "компоненты резервного копирования").
-   При обработке событий модули записи и запрашивающие стороны могут изменять и проверять сведения о компонентах, хранящихся в документе компоненты резервного копирования, чтобы координировать их деятельность.

Для правильного выполнения операций резервного копирования и восстановления требуются сведения о компонентах модуля записи и инициатора запроса, и они должны храниться вместе со всеми резервными данными.

-   [Типы компонентов](component-types.md)
-   [Определение компонентов по модулям записи](definition-of-components-by-writers.md)
-   [Использование компонентов инициатором запроса](use-of-components-by-the-requestor.md)

 

 
