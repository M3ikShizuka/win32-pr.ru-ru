---
description: Интерфейс Ивсскомпонент позволяет средству записи точно настроить точное восстановление файлов на основе компонентов.
ms.assetid: 362c6f44-ca67-4043-8d2c-4e46b5c8edd3
title: Настройка целевых объектов восстановления VSS
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3e8815e552db518c447bd63b9f02ba9228850384
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105692874"
---
# <a name="setting-vss-restore-targets"></a>Настройка целевых объектов восстановления VSS

Интерфейс [**ивсскомпонент**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) позволяет средству записи точно настроить точное восстановление файлов на основе компонентов.

Так как конфигурация системы во время восстановления возможна, что не ожидалось во время резервного копирования, предоставляется механизм восстановления цели.

Он позволяет модулям записи вызывать [**ивсскомпонент:: сетресторетаржет**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setrestoretarget) , чтобы изменить способ восстановления этих компонентов, [*явно включаемых*](vssgloss-e.md) в документ компонентов резервного копирования. Это также изменяет механизм восстановления, используемый для этих компонентов, которые [*неявно включены*](vssgloss-i.md).

Восстановление файлов, выполняемое во время перезагрузки системы (в случае невозможности замены с помощью значений перечисления [**\_ ресторемесод \_ VSS**](/windows/desktop/api/VsWriter/ne-vswriter-vss_restoremethod_enum) VSS \_ рме \_ RESTORE \_ при \_ перезагрузке и VSS \_ рме \_ RESTORE при \_ \_ перезагрузке \_ \_ \_ ), не может затронуть целевые объекты восстановления, так как службы VSS не будут копировать файлы в их окончательное расположение. 

Аналогичным образом, служба VSS \_ рме \_ может не повлиять на пользовательские восстановления, поскольку каждое Пользовательское восстановление относится к конкретному модулю записи и может принимать или пропускать целевые объекты восстановления.

Инициаторы запроса и модули записи могут использовать [**ивсскомпонент:: жетресторетаржет**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getrestoretarget) для проверки целевого объекта восстановления набора компонентов.

[**Ивсскомпонент**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) поддерживает следующие целевые объекты восстановления, которые могут быть установлены для набора компонентов по отдельности.

-   исходный модуль VSS \_ RT \_ . Метод Restore, указанный в перечислении перечисления [**\_ \_ ресторемесод для VSS**](/windows/desktop/api/VsWriter/ne-vswriter-vss_restoremethod_enum) , будет соблюдаться.
-   \_ \_ альтернатива VSS RT. Файлы восстанавливаются в расположение, определенное на основе существующего сопоставления альтернативного расположения. Если сопоставление с альтернативным расположением, соответствующее пути в подкомпоненте набора компонентов, существует, по возможности восстановите в альтернативное расположение. в противном случае возвратите ошибку.

 

 



