---
description: В следующей таблице показана последовательность действий и событий, необходимых для завершения операции резервного копирования. Дополнительные сведения см. в разделе Общие сведения об обработке резервной копии в VSS.
ms.assetid: 12dcb2d1-614b-4c4c-a47c-342f79b20a62
title: Общие сведения о завершении резервного копирования
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 52fd57822a62cf3fa39cee2b17d79ae2545afa07bd722d26cacda68cba3b6695
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "117937972"
---
# <a name="overview-of-backup-termination"></a>Общие сведения о завершении резервного копирования

В следующей таблице показана последовательность действий и событий, необходимых для завершения операции резервного копирования. Дополнительные сведения см. в разделе Общие сведения об [обработке резервной копии в VSS](overview-of-processing-a-backup-under-vss.md).



| Действие запросившего                                                                                                                                                                                                              | Событие                                                                 | Действие записи                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Инициатор запроса завершает теневую копию, освобождая интерфейс [**ивссбаккупкомпонентс**](/windows/desktop/api/VsBackup/nl-vsbackup-ivssbackupcomponents) или вызывая [**Ивссбаккупкомпонентс::D елетеснапшотс**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-deletesnapshots). | Нет                                                                  | Нет                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| [**Ивссбаккупкомпонентс**](/windows/desktop/api/VsBackup/nl-vsbackup-ivssbackupcomponents) освобождается путем вызова [**IUnknown:: Release**](/windows/win32/api/unknwn/nf-unknwn-iunknown-release).                                                                                                   | [*баккупшутдовн*](vssgloss-b.md) | Модуль записи обрабатывает событие с помощью [**квссвритер:: онбаккупшутдовн**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onbackupshutdown), что позволяет ему очистить любое состояние, связанное с набором теневых копий. Если операция резервного копирования завершилась сбоем, то есть не создавалось событие [**баккупкомплете**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-backupcomplete) — модуль записи может также выполнять обработку ошибок. Дополнительные сведения см. в разделе [Обработка событий баккупшутдовн](handling-backupshutdown-events.md) . |



 

Поскольку интерфейс [**ивссбаккупкомпонентс**](/windows/desktop/api/VsBackup/nl-vsbackup-ivssbackupcomponents) нельзя использовать повторно, и деструктор интерфейса прерывает теневые копии, обычно нет причины вызвать [**Ивссбаккупкомпонентс::D елетеснапшотс**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-deletesnapshots). Этот метод предназначен для использования в сочетании с обработкой ошибок и прерыванием резервного копирования (см. раздел [Прерывание операций VSS](aborting-vss-operations.md)).

 

 
