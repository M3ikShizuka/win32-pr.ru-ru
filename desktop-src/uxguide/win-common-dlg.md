---
title: Общие диалоговые окна
description: Общие диалоговые окна Microsoft Windows состоят из диалоговых окон Открытие файла, сохранение файла, открытие папки, Поиск и замена, печать, Настройка страницы, шрифт и цвет.
ms.assetid: 3f9fb0c9-bc1a-48c4-b021-99f155f8ea9e
ms.topic: article
ms.date: 10/20/2020
ms.openlocfilehash: 9d64dee640037fe70b88c10294ed04bfbc74fac4
ms.sourcegitcommit: 099ecdda1e83618b844387405da0db0ebda93a65
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/04/2021
ms.locfileid: "111443685"
---
# <a name="common-dialogs"></a>Общие диалоговые окна

> [!NOTE]
> Это руководство по проектированию было создано для Windows 7 и не Обновлено для более новых версий Windows. Многие рекомендации по-прежнему применяются в принципе, но презентация и примеры не соответствуют нашим [текущим руководствам по проектированию](/windows/uwp/design/).

Общие диалоговые окна Microsoft Windows состоят из диалоговых окон Открытие файла, сохранение файла, открытие папки, Поиск и замена, печать, Настройка страницы, шрифт и цвет.

## <a name="open-file"></a>Открыть файл

![снимок экрана с диалоговым окном "Открыть" ](images/win-common-dlg-image1.png)

Открытый файл оптимизирован для быстрого поиска элементов, используемых в программе.

## <a name="save-file"></a>Сохранение файла

![снимок экрана — диалоговое окно "Сохранить как" ](images/win-common-dlg-image2.png)

Сохранить файл закрывает цикл, сохраняя файл с его метаданными.

## <a name="open-folder"></a>Открыть папку

![снимок экрана: диалоговое окно "Выбор файлов и папок" ](images/win-common-dlg-image3.png)

Открытая папка предназначена специально для выбора папок.

## <a name="find-and-replace"></a>Поиск и замена

![снимок экрана диалоговых окон "найти и заменить" ](images/win-common-dlg-image4.png)

Поиск позволяет пользователям искать текстовые строки, в то время как замена версии при необходимости позволяет пользователям заменять совпадения другой строкой.

## <a name="print"></a>Печать

![снимок экрана — диалоговое окно "Печать" ](images/win-common-dlg-image5.png)

Печать позволяет пользователям выбирать, что печатать, число печатаемых копий и последовательность параметров сортировки, а также возможность выбирать и настраивать принтеры.

## <a name="page-setup"></a>Параметры страницы

![снимок экрана — диалоговое окно "Параметры страницы" ](images/win-common-dlg-image6.png)

Параметры страницы позволяют пользователям выбирать размер бумаги и источник, ориентацию страницы и поля.

## <a name="font"></a>Шрифт

![снимок экрана — диалоговое окно "Шрифт" ](images/win-common-dlg-image7.png)

Шрифт отображает шрифты и размеры точек доступных установленных шрифтов.

## <a name="color"></a>Цвет

![снимок экрана — диалоговое окно "изменение цветов" ](images/win-common-dlg-image8.png)

Цвет позволяет пользователям выбирать цвет с помощью предопределенного набора цветов или выбора пользовательского цвета.

## <a name="design-concepts"></a>Принципы проектирования

С помощью общих диалоговых окон можно обеспечить единообразную работу пользователей в разных программах. Кроме того, с помощью общих диалоговых окон вы также помогаете пользователям эффективно и приятно работать с ними.

Вы можете значительно улучшить работу пользователей с помощью этих диалоговых окон, выбрав наиболее подходящие значения по умолчанию для:

-   Входные значения (примеры: папки по умолчанию, имена файлов по умолчанию).
-   Выбранные параметры (примеры: выбранный принтер, параметры печати).
-   Представления (примеры: отображение изображений в виде эскиза, отображение изображений без имен файлов, сортировка по дате, ширина столбцов).
-   Презентация (примеры: размер окна, расположение и содержимое).

Необходимо определить начальные значения по умолчанию и последующие значения по умолчанию. Начальные значения по умолчанию определяются программой и основываются на ожидаемом использовании целевого пользователя, тогда как последующее значение по умолчанию зависит от фактического использования. Использование в прошлом является лучшим показателем использования в будущем.

Эффективно ли работают программы по умолчанию? Следите за количеством шагов, которые пользователи должны предпринять для выполнения наиболее распространенных задач. Если пользователям приходится повторять одни и те же потенциально ненужные шаги при каждом выполнении задачи, можно улучшить значения по умолчанию.

**Если вы выполняете только одно действие...**

Предоставьте пользователям возможность эффективного и приятного взаимодействия, выбрав соответствующие значения по умолчанию для соответствующих начальных и последующих значений.

## <a name="is-this-the-right-user-interface"></a>Это правильный пользовательский интерфейс?

**Да! Используйте общие диалоговые окна для единообразия взаимодействия с пользователем. Не создавайте свои собственные.** Особенно сложно создавать пользовательские интерфейсы пользовательского интерфейса, позволяющие правильно и безопасно переходить к пространству имен. Обратите внимание, что при необходимости можно настроить общие диалоговые окна.

В Windows Vista открытый файл и файл сохранения имеют новую расширяемую архитектуру, что упрощает предоставление дополнительных функциональных возможностей. Этот механизм достаточно гибок для удовлетворения минимальных требований к основным независимым поставщикам программного обеспечения (ISV), но не может быть нарушен в будущих выпусках Windows.

## <a name="guidelines"></a>Рекомендации

### <a name="general"></a>Общее

-   При необходимости предоставьте более прямые или [Немодальные](glossary.md) альтернативы. Разрешить пользователям:
    -   Откройте файлы, удалив их в программе.
    -   Сохраните файлы, используя их текущее имя и расположение, с помощью команды Save.
    -   Найти следующее вхождение строки с помощью клавиши F3.
    -   Печать одной копии всего документа на принтере по умолчанию с помощью команды «Печать».
    -   Изменение шрифтов и атрибутов шрифтов с помощью панели инструментов или окна палитры.
    -   Изменение цветов с помощью панели инструментов или окна палитры.
-   Используйте следующие команды для вывода общих диалоговых окон (заданных вместе с их предпочтительными [ключами доступа](glossary.md)):



| Общее диалоговое окно          | Команда                                 |
|------------------------|-----------------------------------------|
| Открыть файл<br/>         | Открыть...<br/>                            |
| Сохранение файла<br/>         | Сохранить как...<br/>                         |
| Открыть папку<br/>       | Открыть папку... или выберите Папка...<br/> |
| Найти и заменить<br/>  | Найти... или замените...<br/>              |
| Печать<br/>             | Печать...<br/>                           |
| Параметры страницы<br/>        | Параметры страницы...<br/>                      |
| Шрифт<br/>              | Шрифт... или выберите шрифт...<br/>          |
| Цвет<br/>             | Цвет... или выберите цвет...<br/>        |



 

-   При необходимости можно использовать более конкретные команды. Пример. для экспорта файла используйте командный файл экспорта вместо команды "Сохранить как".
-   Задайте заголовок диалогового окна, чтобы отразить команду, которая ее запустила. Пример. Если команда Save File запускается из команды Export File, переименуйте диалоговое окно, чтобы экспортировать файл.

### <a name="open-file"></a>Открыть файл

-   Для начальной папки по умолчанию используйте специальную папку (рисунки, музыку, видео) в зависимости от ситуации. в противном случае используйте документы.
-   Для последующих папок по умолчанию используйте последнюю папку, открытую пользователем с помощью программы.
-   При открытии файлов фотографий по умолчанию подавляет имена файлов. Фотографии обычно определяются их эскизами, и их имена обычно не имеют смысла.

### <a name="save-file"></a>Сохранение файла

-   Для начальной папки по умолчанию (если новый файл сохраняется в первый раз) используйте специальную папку (рисунки, музыку, видео), в противном случае используйте документы.
-   Для временных файлов используйте временную папку текущего пользователя. Выберите простые, но уникальные имена файлов. Пример. Используйте File0001. tmp вместо ~ DF1A92. tmp.
    -   **Разработчики:** Вы можете получить временную папку текущего пользователя с помощью функции API Жеттемппас.
-   Для первоначального имени файла по умолчанию используйте уникальное имя по умолчанию на основе:
    -   Содержимое файла, если оно известно. Пример: первые слова в документе.
    -   Шаблон, выбранный пользователем. Пример. Если предыдущий файл назывался "Гавайи 1.jpg", выберите "Гавайи 2.jpg" в качестве следующего файла.
    -   Универсальный шаблон, основанный на типе файла. Пример: "Photo1.jpg".
-   Для последующих значений по умолчанию (если файл уже существует) Используйте текущую папку и имя файла.
-   При сохранении файла сохраняется его Дата создания. Если программа сохраняет файлы путем создания временного файла, удаляет исходный файл и переименовывает его в исходное имя, не забудьте скопировать дату создания из исходного файла.
-   Используйте параметр сохранить файл, если пользователь выбирает команду Сохранить, не указывая имя файла.

### <a name="file-types-lists"></a>Списки типов файлов

**Примечание.** Списки типов файлов используются в файле Open File и Save File, чтобы определить типы отображаемых файлов и расширение файла по умолчанию.

-   Если список типов файлов является коротким (5 или меньшим), закажите список по вероятности использования. Если список является длинным (шесть или более), используйте алфавитный порядок, чтобы облегчить поиск типов.
-   Для параметра сохранить файл включите все варианты поддерживаемых расширений файлов, даже если они встречаются редко, и сначала поместите наиболее распространенное расширение. Логика обработки файлов просматривает этот список, чтобы определить, было ли пользователь указал поддерживаемое расширение файла. Пример. Если список типов JPEG-файлов содержит только .jpg и. JPEG, файл Test. jpe может быть сохранен как test.jpe.jpg.
-   Для сохранения файла первоначальный тип файла по умолчанию наиболее вероятно выбирается конечным пользователем. Последующее значение по умолчанию — текущий тип файла.
-   Для открытого файла первоначальный тип файла по умолчанию наиболее вероятно выбирается конечным пользователем. Последующим значением по умолчанию должен быть последний используемый тип файла.
-   Для открытого файла включите запись "все файлы" в качестве первого элемента, если пользователи могут открывать файлы любого типа или могут потребовать одновременного просмотра всех файлов в папке. Рассмотрите возможность предоставления других мета фильтров, таких как «все изображения», «все музыкальные файлы» и «все видео». Разместите их сразу после "все файлы".
-   Используйте формат "имя типа файла ( \* . EXT1;" \* . ext2). Имя типа файла должно быть зарегистрированным именем типа файла, которое можно просмотреть в элементе панели управления "Свойства папки". Пример: "HTML-документ ( \*.htm; \*.html) ".
    -   **Исключение:** Для мета-фильтров удалите список расширений файлов, чтобы избежать загромождения. Примеры: "все файлы", "все изображения", "все музыкальные записи" и "все видео".
-   Для имен типов файлов используйте [прописные буквы в стиле](glossary.md) , а для расширений типов файлов — нижний регистр.

### <a name="open-folder"></a>Открыть папку

-   **Для новых программ используйте диалоговое окно Открытие файлов в режиме "Выбор папок".** Для этого требуется Windows Vista или более поздняя версия, поэтому используйте диалоговое окно Открытие папки для программ, работающих в более ранних версиях Windows.
    -   **Разработчики:** Можно использовать диалоговое окно Открытие файлов в режиме "Выбор папок" с помощью \_ флага ПИККФОЛДЕРС Фос.

### <a name="font"></a>Шрифт

-   При необходимости можно отфильтровать список шрифтов, чтобы отображались только шрифты, доступные для программы.

### <a name="persistence"></a>Сохраняемость

-   Попробуйте сделать следующие значения постоянными для использования в качестве последующих значений по умолчанию:
    -   Входные значения (примеры: папки по умолчанию, имена файлов по умолчанию).
    -   Выбранные параметры (примеры: выбранный принтер, параметры печати).
    -   Представления (примеры: отображение изображений в виде эскиза, отображение изображений без имен файлов, сортировка по дате, ширина столбцов).
    -   Презентация (примеры: размер окна, расположение и содержимое).

**Исключение:** Не следует сохранять эти значения для общих диалоговых окон, когда их использование является более вероятной, чтобы пользователи могли начать работу полностью.

-   При определении значений по умолчанию рассмотрите, какие целевые пользователи, скорее всего, пожелаете в зависимости от важных сценариев. Кроме того, рассмотрите возможность использования сценариев в экземпляре программы в нескольких экземплярах (как последовательных, так и параллельных) и в нескольких документах. Не следует сохранять значения в обстоятельствах, которые, скорее всего, не будут полезны.
    -   **Пример:** Для типичного приложения на основе документов полезно использовать постоянные открытые файлы и сохранять параметры файлов в экземпляре программы и в последовательных экземплярах, но хранить независимые экземпляры независимо друг от друга. Таким образом, пользователи могут эффективно работать с несколькими документами за раз.
-   Сделайте эти параметры постоянными для каждой программы отдельно для каждого пользователя.

 

