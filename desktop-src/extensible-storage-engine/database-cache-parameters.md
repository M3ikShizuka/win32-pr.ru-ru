---
description: 'Дополнительные сведения: параметры кэша базы данных'
title: Параметры кэша базы данных
TOCTitle: Database Cache Parameters
ms:assetid: 715e5495-0cd8-430f-bf21-509cf03bfbfd
ms:mtpsurl: https://msdn.microsoft.com/library/Gg269293(v=EXCHG.10)
ms:contentKeyID: 32765585
ms.date: 04/11/2016
ms.topic: reference
api_name: ''
topic_type:
- apiref
- kbArticle
api_type:
- COM
api_location: ''
ROBOTS: INDEX,FOLLOW
ms.openlocfilehash: 43d51be7e2db82d64c70f6fa810be3caf4c6fbd8
ms.sourcegitcommit: 4665ebce0c106bdb52eef36e544280b496b6f50b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/26/2021
ms.locfileid: "122984097"
---
# <a name="database-cache-parameters"></a>Параметры кэша базы данных


_**Применимо к:** Windows | Windows Сервером_

## <a name="database-cache-parameters"></a>Параметры кэша базы данных

Этот раздел содержит параметры, используемые для кэша базы данных.

*JET_paramBatchIOBufferMax*  
22  

Этот параметр определяет размер вспомогательной части кэша страниц базы данных, которая используется для имитации операций ввода-вывода при недоступности. Размер находится в страницах базы данных.

**Windows XP и более поздних версий:**  Этот параметр устарел и не влияет на работу ядра СУБД.


| Метка | Применение |
|--------|-------|
| <p>Значение по умолчанию:</p> | <p>256</p> | 
| <p>Тип:</p> | <p>Целое число</p> | 
| <p>Допустимый диапазон:</p> | <p>0, 2 – 2147483647</p> | 
| <p>Область.</p> | <p>Глобальный</p> | 
| <p>Задать после <a href="gg269354(v=exchg.10).md">жеткреатеинстанце</a>:</p> | <p>Нет</p> | 
| <p>Задать после <a href="gg294068(v=exchg.10).md">жетинит</a>:</p> | <p>Нет</p> | 
| <p>Влияет на физический макет:</p> | <p>Нет</p> | 
| <p>Влияет на надежность:</p> | <p>Нет</p> | 
| <p>Влияет на производительность:</p> | <p>Да</p> | 
| <p>Влияет на ресурсы:</p> | <p>Да</p> | 
| <p>"Доступность":</p> | <p>Все</p> | 



*JET_paramCacheSize*  
41  

Этот параметр можно использовать для управления размером кэша страниц базы данных во время выполнения. Обычно кэш автоматически настраивает свой размер в виде функции уровней активности базы данных и компьютера. Если приложение устанавливает для этого параметра значение 0, то кэш будет настраивать свой собственный размер таким образом. Однако если приложение задает для этого параметра ненулевое значение, то кэш будет настроен таким же целевым размером (на страницах базы данных). Кэш будет храниться в этом пороговом значении до получения нового размера или до тех пор, пока не будет выбран его собственный размер.

**Примечание**  .  Размер кэша по-прежнему подчиняется ограничениям, наложенным **JET_paramCacheSizeMin** и **JET_paramCacheSizeMax**.

При чтении этого параметра возвращается фактический размер кэша на страницах базы данных. Этот размер может использоваться приложением в качестве входных данных для выполнения ручной настройки размера кэша.


| Метка | Применение |
|--------|-------|
| <p>Значение по умолчанию:</p> | <p>Специальные функции</p> | 
| <p>Тип:</p> | <p>Целое число</p> | 
| <p>Допустимый диапазон:</p> | <p><strong>Windows 2000:</strong> 1 – 1048575</p><p><strong>Windows XP:</strong> 1 – 4294967295</p> | 
| <p>Область.</p> | <p>Глобальный</p> | 
| <p>Задать после <a href="gg269354(v=exchg.10).md">жеткреатеинстанце</a>:</p> | <p>Да</p> | 
| <p>Задать после <a href="gg294068(v=exchg.10).md">жетинит</a>:</p> | <p>Да</p> | 
| <p>Влияет на физический макет:</p> | <p>Нет</p> | 
| <p>Влияет на надежность:</p> | <p>Нет</p> | 
| <p>Влияет на производительность:</p> | <p>Да</p> | 
| <p>Влияет на ресурсы:</p> | <p>Да</p> | 
| <p>"Доступность":</p> | <p>Все</p> | 



*JET_paramCacheSizeMin*  
60  

Этот параметр задает минимальный размер кэша страниц базы данных. Размер находится в страницах базы данных.

По умолчанию кэш базы данных автоматически подстраивает свой размер между ограничениями, заданными **JET_paramCacheSizeMin** и **JET_paramCacheSizeMax**.

**Windows 2000:**  в Windows 2000 для этого параметра должно быть задано значение примерно равное четырем числам потоков, которые будут находиться внутри API ESE одновременно. Это необходимо, чтобы избежать взаимоблокировок, вызванных недостаточным количеством буферов кэша страниц базы данных для выполнения сложных операций, таких как разбиение дерева B +.

**Windows XP и более поздних версий:**  Диспетчер кэша автоматически установит свой минимальный размер кэша, чтобы избежать взаимоблокировок.


| Метка | Применение |
|--------|-------|
| <p>Значение по умолчанию:</p> | <p><strong>Windows 2000:</strong> 64</p><p><strong>Windows XP:</strong> 1</p> | 
| <p>Тип:</p> | <p>Целое число</p> | 
| <p>Допустимый диапазон:</p> | <p><strong>Windows 2000:</strong> 1 – 1048575</p><p><strong>Windows XP:</strong> 1 – 4294967295</p> | 
| <p>Область.</p> | <p>Глобальный</p> | 
| <p>Задать после <a href="gg269354(v=exchg.10).md">жеткреатеинстанце</a>:</p> | <p><strong>Windows 2000:</strong>  Нет</p><p><strong>Windows XP:</strong>  Да</p> | 
| <p>Задать после <a href="gg294068(v=exchg.10).md">жетинит</a>:</p> | <p><strong>Windows 2000:</strong>  Нет</p><p><strong>Windows XP:</strong>  Да</p> | 
| <p>Влияет на физический макет:</p> | <p>Нет</p> | 
| <p>Влияет на надежность:</p> | <p>Нет</p> | 
| <p>Влияет на производительность:</p> | <p>Да</p> | 
| <p>Влияет на ресурсы:</p> | <p>Да</p> | 
| <p>"Доступность":</p> | <p>Все</p> | 



*JET_paramCacheSizeMax*  
23  

Этот параметр задает максимальный размер кэша страниц базы данных. Размер находится в страницах базы данных.

По умолчанию кэш базы данных автоматически подстраивает свой размер между ограничениями, заданными **JET_paramCacheSizeMin** и **JET_paramCacheSizeMax**.

**Примечание**   .   Если этот параметр оставлен со значением по умолчанию, максимальный размер кэша будет установлен в размер физической памяти при вызове [жетинит](./jetinit-function.md) .

**Windows Vista:**  начиная с Windows Vista значение этого параметра по умолчанию изменилось, чтобы объяснить это поведение.


| Метка | Применение |
|--------|-------|
| <p>Значение по умолчанию:</p> | <p><strong>Windows 2000, Windows XP и Windows Server 2003:</strong> 512</p><p><strong>Windows Vista:</strong> 2000000000</p> | 
| <p>Тип:</p> | <p>Целое число</p> | 
| <p>Допустимый диапазон:</p> | <p><strong>Windows 2000:</strong> 1 – 1048575</p><p><strong>Windows XP:</strong> 1 – 4294967295</p> | 
| <p>Область.</p> | <p>Глобальный</p> | 
| <p>Задать после <a href="gg269354(v=exchg.10).md">жеткреатеинстанце</a>:</p> | <p><strong>Windows 2000:</strong>  Нет</p><p><strong>Windows XP:</strong>  Да</p> | 
| <p>Задать после <a href="gg294068(v=exchg.10).md">жетинит</a>:</p> | <p><strong>Windows XP и Windows 2000:</strong>  Нет</p><p><strong>Windows Vista и Windows Server 2003:</strong>  Да</p> | 
| <p>Влияет на физический макет:</p> | <p>Нет</p> | 
| <p>Влияет на надежность:</p> | <p>Нет</p> | 
| <p>Влияет на производительность:</p> | <p>Да</p> | 
| <p>Влияет на ресурсы:</p> | <p>Да</p> | 
| <p>"Доступность":</p> | <p>Все</p> | 



*JET_paramCheckpointDepthMax*  
24 

Этот параметр определяет, как агрессивные страницы базы данных очищаются из кэша страниц базы данных, чтобы максимально сокращать время, необходимое для восстановления после сбоя. Параметр — это пороговое значение в байтах, необходимое для того, сколько файлов журнала транзакций потребуется воспроизвести после сбоя.

Если циклическое ведение журнала включено с помощью [JET_paramCircularLog](./transaction-log-parameters.md) то этот параметр также будет управлять приблизительным объемом файлов журнала транзакций, которые будут храниться на диске.

Важно, чтобы этот параметр не был задан слишком низким. Поскольку значение этого параметра приближается к нулю, кэш становится более и более агрессивным при сбросе страниц базы данных на диск. Это не только увеличивает число операций записи в файлы базы данных, но и косвенно приводит к увеличению числа операций чтения этих файлов. В некоторых случаях это может привести к очень значительным проблемам с производительностью. К сожалению, установка наименьшего оптимального значения для этого параметра может быть выполнена только с помощью эксперимента с целевым приложением.


| Метка | Применение |
|--------|-------|
| <p>Значение по умолчанию:</p> | <p>20971520</p> | 
| <p>Тип:</p> | <p>Целое число</p> | 
| <p>Допустимый диапазон:</p> | <p><strong>Windows 2000, Windows XP и Windows Server 2003:</strong> 0 – 2147483647</p><p><strong>Windows Vista:</strong>  Все значения</p> | 
| <p>Область.</p> | <p><strong>Windows 2000, Windows XP и Windows Server 2003:</strong> Этот параметр является глобальным.</p><p><strong>Windows Vista:</strong>  Этот параметр задан для каждого экземпляра.</p> | 
| <p>Задать после <a href="gg269354(v=exchg.10).md">жеткреатеинстанце</a>:</p> | <p>Да</p> | 
| <p>Задать после <a href="gg294068(v=exchg.10).md">жетинит</a>:</p> | <p>Да</p> | 
| <p>Влияет на физический макет:</p> | <p>Нет</p> | 
| <p>Влияет на надежность:</p> | <p>Да</p> | 
| <p>Влияет на производительность:</p> | <p>Да</p> | 
| <p>Влияет на ресурсы:</p> | <p>Да</p> | 
| <p>"Доступность":</p> | <p>Все</p> | 



*JET_paramCheckpointIOMax*  
135  

Этот параметр управляет максимальным числом одновременных операций записи, которые ядро СУБД будет использовать для сброса измененных страниц базы данных с целью перемещения контрольной точки. Значение этого параметра можно использовать для балансировки скорости, с которой может быть расширена контрольная точка, а также отрицательного воздействия на то, что этот процесс будет иметь время отклика для других операций ввода-вывода на дисках, где находится база данных.


| Метка | Применение |
|--------|-------|
| <p>Значение по умолчанию:</p> | <p>96</p> | 
| <p>Тип:</p> | <p>Целое число</p> | 
| <p>Допустимый диапазон:</p> | <p>8 — 1024</p> | 
| <p>Область.</p> | <p>Глобальный</p> | 
| <p>Задать после <a href="gg269354(v=exchg.10).md">жеткреатеинстанце</a>:</p> | <p>Да</p> | 
| <p>Задать после <a href="gg294068(v=exchg.10).md">жетинит</a>:</p> | <p>Да</p> | 
| <p>Влияет на физический макет:</p> | <p>Нет</p> | 
| <p>Влияет на надежность:</p> | <p>Нет</p> | 
| <p>Влияет на производительность:</p> | <p>Да</p> | 
| <p>Влияет на ресурсы:</p> | <p>Нет</p> | 
| <p>"Доступность":</p> | <p>Windows Vista и более поздние версии</p> | 



*JET_paramEnableViewCache*  
127  

если этот параметр имеет **значение True**, ядро субд будет использовать данные базы данных непосредственно из Windowsного кэша файлов вместо копирования кэшированных данных в собственную закрытую память. Все измененные данные базы данных по-прежнему будут кэшироваться в частной памяти.

Цель этого режима — еще больше уменьшить объем памяти, используемой ядром СУБД для кэширования данных базы данных.

кэш представлений можно использовать только в том случае, если использование Windowsного кэша файлов включено путем установки JET_paramEnableFileCache в **значение True**.


| Метка | Применение |
|--------|-------|
| <p>Значение по умолчанию:</p> | <p>False</p> | 
| <p>Тип:</p> | <p>Логическое</p> | 
| <p>Допустимый диапазон:</p> | <p>False, true</p> | 
| <p>Область.</p> | <p>Глобальный</p> | 
| <p>Задать после <a href="gg269354(v=exchg.10).md">жеткреатеинстанце</a>:</p> | <p>Нет</p> | 
| <p>Задать после <a href="gg294068(v=exchg.10).md">жетинит</a>:</p> | <p>Нет</p> | 
| <p>Влияет на физический макет:</p> | <p>Нет</p> | 
| <p>Влияет на надежность:</p> | <p>Нет</p> | 
| <p>Влияет на производительность:</p> | <p>Да</p> | 
| <p>Влияет на ресурсы:</p> | <p>Да</p> | 
| <p>"Доступность":</p> | <p>Windows Vista и более поздние версии</p> | 



*JET_paramLRUKCorrInterval*  
25  

Этот параметр задает интервал времени в микросекундах, в течение которого два доступа к странице базы данных считаются коррелированными. Этот интервал корреляции управляет чувствительностью алгоритма замены страниц кэша (LRU-K) к последовательному доступу к странице. Это, в свою очередь, повлияет на то, какие страницы он выбирает для сохранения кэширования.


| Метка | Применение |
|--------|-------|
| <p>Значение по умолчанию:</p> | <p>128 000</p> | 
| <p>Тип:</p> | <p>Целое число</p> | 
| <p>Допустимый диапазон:</p> | <p><strong>Windows 2000, Windows XP и Windows Server 2003:</strong> 0 – 2147483647</p><p><strong>Windows Vista:</strong>  Все значения</p> | 
| <p>Область.</p> | <p>Глобальный</p> | 
| <p>Задать после <a href="gg269354(v=exchg.10).md">жеткреатеинстанце</a>:</p> | <p>Нет</p> | 
| <p>Задать после <a href="gg294068(v=exchg.10).md">жетинит</a>:</p> | <p>Нет</p> | 
| <p>Влияет на физический макет:</p> | <p>Нет</p> | 
| <p>Влияет на надежность:</p> | <p>Нет</p> | 
| <p>Влияет на производительность:</p> | <p>Да</p> | 
| <p>Влияет на ресурсы:</p> | <p>Нет</p> | 
| <p>"Доступность":</p> | <p>Все</p> | 



*JET_paramLRUKHistoryMax*  
26  

Этот параметр задает максимальное количество некэшированных страниц базы данных, для которых будет храниться время доступа к странице базы данных. Эти записи журнала позволяют алгоритму замены страниц кэша (LRU-K) более точно обнаруживать популярные страницы, которые были неправильно исключены из кэша страниц базы данных.

**Windows XP и Windows Server 2003:**  этот параметр пропускается в Windows XP и Windows Server 2003 и не влияет на работу ядра субд.


| Метка | Применение |
|--------|-------|
| <p>Значение по умолчанию:</p> | <p><strong>Windows 2000:</strong> 1024</p><p><strong>Windows Vista:</strong> 100000</p> | 
| <p>Тип:</p> | <p>Целое число</p> | 
| <p>Допустимый диапазон:</p> | <p><strong>Windows 2000:</strong> 0 – 4194303</p><p><strong>Windows Vista:</strong>  Все значения</p> | 
| <p>Область.</p> | <p>Глобальный</p> | 
| <p>Задать после <a href="gg269354(v=exchg.10).md">жеткреатеинстанце</a>:</p> | <p>Нет</p> | 
| <p>Задать после <a href="gg294068(v=exchg.10).md">жетинит</a>:</p> | <p>Нет</p> | 
| <p>Влияет на физический макет:</p> | <p>Нет</p> | 
| <p>Влияет на надежность:</p> | <p>Нет</p> | 
| <p>Влияет на производительность:</p> | <p>Да</p> | 
| <p>Влияет на ресурсы:</p> | <p>Да</p> | 
| <p>"Доступность":</p> | <p>Все</p> | 



*JET_paramLRUKPolicy*  
27  

Этот параметр задает количество обращений к странице базы данных, которые учитываются при определении полезности страницы. Этот параметр по сути является K в LRU-K, алгоритмом замены страниц кэша страниц базы данных.


| Метка | Применение |
|--------|-------|
| <p>Значение по умолчанию:</p> | <p>2</p> | 
| <p>Тип:</p> | <p>Целое число</p> | 
| <p>Допустимый диапазон:</p> | <p>1–2</p> | 
| <p>Область.</p> | <p>Глобальный</p> | 
| <p>Задать после <a href="gg269354(v=exchg.10).md">жеткреатеинстанце</a>:</p> | <p>Нет</p> | 
| <p>Задать после <a href="gg294068(v=exchg.10).md">жетинит</a>:</p> | <p>Нет</p> | 
| <p>Влияет на физический макет:</p> | <p>Нет</p> | 
| <p>Влияет на надежность:</p> | <p>Нет</p> | 
| <p>Влияет на производительность:</p> | <p>Да</p> | 
| <p>Влияет на ресурсы:</p> | <p>Нет</p> | 
| <p>"Доступность":</p> | <p>Все</p> | 



*JET_paramLRUKTimeout*  
28

Этот параметр указывает период времени (в секундах), по истечении которого считается, что страница в кэше страниц базы данных потеряла доступ к странице для учета полезности страницы.


| Метка | Применение |
|--------|-------|
| <p>Значение по умолчанию:</p> | <p>100</p> | 
| <p>Тип:</p> | <p>Целое число</p> | 
| <p>Допустимый диапазон:</p> | <p><strong>Windows 2000, Windows XP и Windows Server 2003:</strong> 1 – 2147483647</p><p><strong>Windows Vista:</strong> 1 – 4294967295</p> | 
| <p>Область.</p> | <p>Глобальный</p> | 
| <p>Задать после <a href="gg269354(v=exchg.10).md">жеткреатеинстанце</a>:</p> | <p>Нет</p> | 
| <p>Задать после <a href="gg294068(v=exchg.10).md">жетинит</a>:</p> | <p>Нет</p> | 
| <p>Влияет на физический макет:</p> | <p>Нет</p> | 
| <p>Влияет на надежность:</p> | <p>Нет</p> | 
| <p>Влияет на производительность:</p> | <p>Да</p> | 
| <p>Влияет на ресурсы:</p> | <p>Нет</p> | 
| <p>"Доступность":</p> | <p>Все</p> | 



*JET_paramLRUKTrxCorrInterval*  
29  

Этот параметр устарел и не влияет на работу ядра СУБД.

*JET_paramStartFlushThreshold*  
31  

Этот параметр определяет, когда кэш страниц базы данных начинает удалять страницы из кэша, чтобы освободить место для страниц, которые не кэшируются. Когда количество буферов страниц в кэше падает ниже этого порога, запускается фоновый процесс для пополнения пула доступных буферов. Это пороговое значение всегда относительно максимального размера кэша, установленного **JET_paramCacheSizeMax**. Это пороговое значение также должно быть меньше порога окончания, установленного **JET_paramStopFlushThreshold**.

Высота расстояния начального порога определяет время отклика, которое должен иметь кэш страниц базы данных для создания доступных буферов до того, как приложение потребует их. При высоком пороговом значении запуска фоновому процессу будет больше времени на реагирование. тем не менее, при высоком пороговом значении будет более высокий порог, что снизит эффективный размер кэша страниц базы данных для измененных страниц (Windows 2000) или для всех страниц (Windows XP и более поздних версий).


| Метка | Применение |
|--------|-------|
| <p>Значение по умолчанию:</p> | <p><strong>Windows 2000, Windows XP и Windows Server 2003:</strong> 5 (1%)</p><p><strong>Windows Vista:</strong> 20000000 (1%)</p> | 
| <p>Тип:</p> | <p>Целое число</p> | 
| <p>Допустимый диапазон:</p> | <p><strong>Windows 2000:</strong> 1 – 1048575</p><p><strong>Windows XP:</strong> 1 – 4294967295</p><p><strong>Windows Vista:</strong>  Все значения</p> | 
| <p>Область.</p> | <p>Глобальный</p> | 
| <p>Задать после <a href="gg269354(v=exchg.10).md">жеткреатеинстанце</a>:</p> | <p>Да</p> | 
| <p>Задать после <a href="gg294068(v=exchg.10).md">жетинит</a>:</p> | <p>Да</p> | 
| <p>Влияет на физический макет:</p> | <p>Нет</p> | 
| <p>Влияет на надежность:</p> | <p>Нет</p> | 
| <p>Влияет на производительность:</p> | <p>Да</p> | 
| <p>Влияет на ресурсы:</p> | <p>Да</p> | 
| <p>"Доступность":</p> | <p>Все</p> | 



*JET_paramStopFlushThreshold*  
32  

Этот параметр управляет тем, когда кэш страниц базы данных завершает исключение страниц из кэша, освобождая пространство для страниц, которые не кэшируются. Когда количество буферов страниц в кэше превышает это пороговое значение, фоновый процесс, который был запущен для пополнения пула доступных буферов, останавливается. Это пороговое значение всегда относительно максимального размера кэша, установленного **JET_paramCacheSizeMax**. Это пороговое значение также должно быть больше, чем пороговое значение начала, заданное **JET_paramStartFlushThreshold**.

Расстояние между пороговым значением начала и порогом окончания влияет на эффективность, с которой страницы базы данных сбрасываются фоновым процессом. Чем больше промежуток, тем больше вероятность, что записи на соседние страницы могут быть объединены. однако при высоком пороговом значении будет уменьшен эффективный размер кэша страниц базы данных для измененных страниц (Windows 2000) или для всех страниц (Windows XP и более поздних версий).


| Метка | Применение |
|--------|-------|
| <p>Значение по умолчанию:</p> | <p><strong>Windows 2000, Windows XP и Windows Server 2003:</strong> 10 (2%)</p><p><strong>Windows Vista:</strong> 40000000 (2%)</p> | 
| <p>Тип:</p> | <p>Целое число</p> | 
| <p>Допустимый диапазон:</p> | <p><strong>Windows 2000:</strong> 1 – 1048575</p><p><strong>Windows XP:</strong> 1 – 4294967295</p><p><strong>Windows Vista:</strong>  Все значения</p> | 
| <p>Область.</p> | <p>Глобальный</p> | 
| <p>Задать после <a href="gg269354(v=exchg.10).md">жеткреатеинстанце</a>:</p> | <p>Да</p> | 
| <p>Задать после <a href="gg294068(v=exchg.10).md">жетинит</a>:</p> | <p>Да</p> | 
| <p>Влияет на физический макет:</p> | <p>Нет</p> | 
| <p>Влияет на надежность:</p> | <p>Нет</p> | 
| <p>Влияет на производительность:</p> | <p>Да</p> | 
| <p>Влияет на ресурсы:</p> | <p>Да</p> | 
| <p>"Доступность":</p> | <p>Все</p> | 



### <a name="requirements"></a>Требования


| Требование | Применение |
|------------|----------|
| <p><strong>Клиент</strong></p> | <p>требуется Windows Vista, Windows XP или Windows 2000 Professional.</p> | 
| <p><strong>Server</strong></p> | <p>требуется Windows server 2008, Windows server 2003 или сервер Windows 2000.</p> | 
| <p><strong>Header</strong></p> | <p>Объявлено в ESENT. h.</p> | 



### <a name="see-also"></a>См. также:

[жеткреатеинстанце](./jetcreateinstance-function.md)  
[жетинит](./jetinit-function.md)
