---
description: Используется WSDAPI для синтаксического анализа и создания XML с использованием таблиц байт-кода, описывающих сложные типы.
ms.assetid: 33fc9af3-c5e9-444d-bc3e-101830772aac
title: Байткода типа файла WSDAPI XML
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 305cd6443ced95186a7cf2489e71c41f3ecaa56f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105647387"
---
# <a name="wsdapi-xml-type-bytecodes"></a>Байткода типа файла WSDAPI XML

Эти байткода используются WSDAPI для анализа и создания XML с использованием таблиц байт-кода, описывающих сложные типы.

Таблица байт для типа выражает как двоичные (в памяти), так и XML (на лету) представления типа. Таблица байт-кода состоит из списка операций, завершенных специальной операцией, а именно `OpEndOfTable` . Операция состоит из однобайтового кода операции, за которым следует ноль или более байт данных аргумента.



| Байт                                     | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|----------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| опноне                                       | Ничего не соответствует.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| опендофтабле                                 | Указывает конец таблицы байт-кода.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Опбегинелемент (имя)                        | Соответствует начальному маркеру элемента с указанным именем. Имя отображается в таблице в форме с кодировкой 4 байта. Онбегинелемент запускает предложение, которое заканчивается на соответствие Опенделемент. Между Опбегинелемент и соответствующими Опенделемент должны находиться нулевые или более полные предложения.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| опбегинанелемент                            | Соответствует начальному маркеру элемента с любым именем. Онбегинанелемент запускает предложение, которое заканчивается на соответствие Опенделемент. Между Опбегинанелемент и соответствующими Опенделемент должны находиться нулевые или более полные предложения.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| опенделемент                                 | Завершает предложение, запущенное с Опбегинелемент или Опбегинанелемент.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Опелемент (имя)                             | Соответствует всему элементу с указанным именем. Имя отображается в таблице в форме с кодировкой 4 байта.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| опанелемент                                 | Соответствует всему элементу с любым именем.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| опанелементс                                | Соответствует любому числу элементов с любыми именами.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| опанитекст                                    | Соответствует токену текста.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Опаттрибуте (имя)                           | Соответствует токену метки атрибута с указанным именем. Опаттрибуте запускает предложение, включающее в себя последующее предложение в таблице. Последующее предложение используется для сопоставления значения части атрибута. Предложения Опаттрибуте всегда отображаются после операций Опбегинелемент или Опбегинанелемент или после другого предложения Опаттрибуте.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| опбегинчоице                                | Опбегинчоице запускает предложение, которое заканчивается на соответствие Опендчоице. Между Опбегинчоице и соответствующими Опендчоице должны находиться нулевые или более полные предложения. Предложение OUTER сопоставляет маркеры, совпадающие с любым из внутренних предложений. Все внутренние предложения должны начинаться с Опбегинелемент, за исключением того, что последний может быть Опанисинг. Эта конструкция соответствует примитиву XSD-выбора.                                                                                                                                                                                                                                                                                                                                                                                                                             |
| опендчоице                                  | Завершает предложение, запущенное с Опбегинчоице.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| опбегинсекуенце                              | Опбегинсекуенце запускает предложение, которое заканчивается на соответствие Опендсекуенце. Между Опбегинсекуенце и Опендсекуенце должны находиться нулевые или более полные предложения. Предложение OUTER сопоставляет токены, совпадающие со всеми внутренними предложениями в последовательности. Эта конструкция соответствует примитиву последовательности XSD.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| опендсекуенце                                | Завершает предложение, запущенное с Опбегинсекуенце.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| опбегиналл                                   | Опбегиналл запускает предложение, которое заканчивается на соответствие Опендалл. Между Опбегиналл и Опендалл должны находиться нулевые или более полные предложения. Предложение OUTER сопоставляет маркеры, совпадающие с внутренними предложениями в любой последовательности. Операторы вхождения, относящиеся к каждому внутреннему предложению, указывают, сколько раз могут встречаться маркеры для каждого предложения. Значение по умолчанию — один раз. Несколько вхождений указанного предложения могут смешиваться с вхождениями других внутренних предложений. Все внутренние предложения должны начинаться с Опбегинелемент, за исключением того, что последний может быть Опанисинг. Эта конструкция соответствует части XSD ALL.                                                                                                                                                                                                        |
| опендалл                                     | Завершает предложение, запущенное с Опбегиналл.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| опанисинг                                   | Соответствует любому числу элементов и текстовых маркеров.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| опанинумбер                                  | Указывает, что последующее предложение может происходить любое количество раз. Опанинумбер запускает предложение, которое завершается в конце последующего предложения.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| опонеорморе                                  | Указывает, что последующее предложение может происходить один или несколько раз. Опонеорморе запускает предложение, которое завершается в конце последующего предложения.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| опоптионал                                   | Указывает, что последующее предложение может быть выполнено ноль или один раз. Опоптионал запускает предложение, которое завершается в конце последующего предложения.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| OpFormatInt8 (тип, поле)                    | Соответствует 8-разрядному целому числу со знаком в текстовом маркере. Аргумент смещения размером 4 байта указывает смещение двоичного представления в текущем двоичном контексте. Макрос OpFormatInt8 вычисляет смещение указанного поля в указанном типе и предоставляет это смещение в качестве аргумента.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| OpFormatInt16 (тип, поле)                   | Соответствует 16-разрядному целому числу со знаком. Аргумент смещения размером 4 байта указывает смещение двоичного представления в текущем двоичном контексте. Макрос OpFormatInt16 вычисляет смещение указанного поля в указанном типе и предоставляет это смещение в качестве аргумента.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| OpFormatInt32 (тип, поле)                   | Соответствует 32-разрядному целому числу со знаком в текстовом маркере. Аргумент смещения размером 4 байта указывает смещение двоичного представления в текущем двоичном контексте. Макрос OpFormatInt32 вычисляет смещение указанного поля в указанном типе и предоставляет это смещение в качестве аргумента.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| OpFormatInt64 (тип, поле)                   | Соответствует 64-разрядному целому числу со знаком в текстовом маркере. Аргумент смещения размером 4 байта указывает смещение двоичного представления в текущем двоичном контексте. Макрос OpFormatInt64 вычисляет смещение указанного поля в указанном типе и предоставляет это смещение в качестве аргумента.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| OpFormatUInt8 (тип, поле)                   | Соответствует 8-разрядному целому числу без знака в текстовом маркере. Аргумент смещения размером 4 байта указывает смещение двоичного представления в текущем двоичном контексте. Макрос OpFormatUInt8 вычисляет смещение указанного поля в указанном типе и предоставляет это смещение в качестве аргумента.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| OpFormatUInt16 (тип, поле)                  | Соответствует 16-разрядному целому числу без знака в текстовом маркере. Аргумент смещения размером 4 байта указывает смещение двоичного представления в текущем двоичном контексте. Макрос OpFormatUInt16 вычисляет смещение указанного поля в указанном типе и предоставляет это смещение в качестве аргумента.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| OpFormatUInt32 (тип, поле)                  | Соответствует 32-разрядному целому числу без знака в текстовом маркере. Аргумент смещения размером 4 байта указывает смещение двоичного представления в текущем двоичном контексте. Макрос OpFormatUInt32 вычисляет смещение указанного поля в указанном типе и предоставляет это смещение в качестве аргумента.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| OpFormatUInt64 (тип, поле)                  | Соответствует 64-разрядному целому числу без знака в текстовом маркере. Аргумент смещения размером 4 байта указывает смещение двоичного представления в текущем двоичном контексте. Макрос OpFormatUInt64 вычисляет смещение указанного поля в указанном типе и предоставляет это смещение в качестве аргумента.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Опформатуникодестринг (тип, поле)           | Соответствует строке, состоящей из всего значения текстового маркера. Аргумент смещения размером 4 байта указывает смещение, в котором указатель на строку отображается в текущем двоичном контексте. Макрос Опформатуникодестринг вычисляет смещение указанного поля в указанном типе и предоставляет это смещение в качестве аргумента.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Опформатдом (тип, поле)                     | Указывает, что все XML-выражения, совпадающие с помощью следующего предложения, представлены в двоичном виде как DOM (список \_ структур узлов всдксмл). Опформатдом запускает предложение, которое завершается в конце последующего предложения. Аргумент смещения размером 4 байта указывает смещение, в котором указатель на первый узел ВСДКСМЛ \_ отображается в текущем двоичном контексте. Макрос Опформатдом вычисляет смещение указанного поля в указанном типе и предоставляет это смещение в качестве аргумента.                                                                                                                                                                                                                                                                                                                                                   |
| Опформатструкт (Структтипе, тип, поле)       | Указывает, что двоичный контекст для последующего предложения является структурой, на которую ссылается текущий двоичный контекст. Опформатструкт запускает предложение, которое завершается в конце последующего предложения. Первый из 2 4-байтовых аргументов указывает размер структуры. Второй аргумент указывает смещение, в котором указатель на структуру отображается в текущем двоичном контексте. Макрос Опформатструкт вычисляет размер указанного типа структуры (Структтипе) и предоставляет размер в качестве первого аргумента. Макрос вычисляет смещение указанного поля в указанном типе и предоставляет это смещение как второй аргумент.                                                                                                                                                                  |
| Опформатури (тип, поле)                     | Соответствует URI в текстовом токене. Аргумент смещения размером 4 байта указывает смещение, в котором указатель на строку URI отображается в текущем двоичном контексте. Макрос Опформатури вычисляет смещение указанного поля в указанном типе и предоставляет это смещение в качестве аргумента.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Опформатууидури (тип, поле)                 | Соответствует URI протокола UUID в текстовом токене. Аргумент смещения размером 4 байта указывает смещение, в котором в текущем двоичном контексте отображается URI в форме структуры GUID. Макрос Опформатууидури вычисляет смещение указанного поля в указанном типе и предоставляет это смещение в качестве аргумента.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Опформатнаме (тип, поле)                    | Соответствует полному имени в текстовом маркере. Аргумент смещения размером 4 байта указывает смещение, в котором указатель на полное имя ( \_ Структура имени всдксмл) отображается в текущем двоичном контексте. Макрос Опформатнаме вычисляет смещение указанного поля в указанном типе и предоставляет это смещение в качестве аргумента.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Опформатлистинсерттаил (nodeType, Type, Field) | Указывает, что двоичные контексты для всех вхождений последующего предложения являются структурами в однонаправленном списке, на который ссылается текущий двоичный контекст. Опформатлистинсерттаил запускает предложение, которое завершается в конце последующего предложения. Первый из 2 4-байтовых аргументов указывает размер структур. Второй аргумент указывает смещение, в котором указатель на структуру отображается в текущем двоичном контексте. Указатель "Далее", который связывает структуры с списком, всегда является первым полем в структурах. Макрос Опформатлистинсерттаил вычисляет размер указанного типа структуры (nodeType) и предоставляет размер в качестве первого аргумента. Макрос вычисляет смещение указанного поля в указанном типе и предоставляет это смещение как второй аргумент. |
| Опформаттипе (типетабле, тип, поле)          | Соответствует токенам, совпадающим с указанной таблицей типов, и указывает, что двоичный контекст для этой таблицы внедряется в текущий двоичный контекст с указанным смещением. Первый из 2 4-байтовых аргументов — это закодированная ссылка на таблицу типов. Вторым аргументом является смещение. Макрос Опформаттипе вычисляет смещение указанного поля в указанном типе и предоставляет это смещение в качестве аргумента.                                                                                                                                                                                                                                                                                                                                                                                                     |
| Опформатдинамиктипе (имя, тип, поле)        | Совпадает с токенами, соответствующими таблице типов, полученной динамически с помощью указанного имени, и указывает, что двоичный контекст для этой таблицы внедрен в текущий двоичный контекст в указанном смещении. Первый из 2 4-байтовых аргументов — это имя, идентифицирующее таблицу типов. Как правило, это имя указывается в виде строки с одной кавычкой, такой как «Body», которая создает 4-байтовое значение. Вторым аргументом является смещение. Макрос Опформатдинамиктипе вычисляет смещение указанного поля в указанном типе и предоставляет это смещение в качестве аргумента.                                                                                                                                                                                                                                   |
| Опформатлукуптипе (урифиелд, тип, поле)     | Совпадает с токенами, совпадающими с таблицей типа, идентифицируемой по универсальному коду ресурса (URI) по указанному смещению в текущем двоичном контексте, и указывает, что двоичный контекст для этой таблицы внедряется в текущий двоичный контекст в указанном смещении. Первый из 2 4-байтовых аргументов — это смещение универсального кода ресурса (URI) типа в текущем двоичном контексте. Второй аргумент — это смещение для нового двоичного контекста. Макрос Опформатлукуптипе вычисляет смещение указанного поля в указанном типе и предоставляет это смещение в качестве аргумента.                                                                                                                                                                                                                                                                                  |
| Оппроцесс (тип, поле)                        | Помечает поле, на которое указывает ссылка, как требует дополнительной обработки на этапах формирования и анализа. Используется для сложных полей, которые не могут быть обработаны автоматически.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |



 

 

 



