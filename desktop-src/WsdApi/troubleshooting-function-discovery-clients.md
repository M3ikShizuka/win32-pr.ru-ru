---
description: Список диагностических процедур, используемых при устранении неполадок клиентов обнаружения функций.
ms.assetid: e488882a-fadd-4150-89ef-b958c3df34c6
title: Устранение неполадок клиентов обнаружения функций
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3a44c17b269a604efa1f5f999dff22211cee24f7
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103811399"
---
# <a name="troubleshooting-function-discovery-clients"></a>Устранение неполадок клиентов обнаружения функций

Клиенты обнаружения функций:

-   Всегда использовать WS-Discovery UDP для обнаружения устройств
-   Всегда инициируйте подключения по протоколу HTTP или HTTPS для обмена метаданными
-   Иногда используется направленное обнаружение
-   Иногда для обмена метаданными используется безопасный канал (HTTPS)

В следующем списке показана типичная последовательность сообщений, отправленных и полученных клиентами обнаружения функций. Не все сообщения являются обязательными.

1.  Клиент отправляет [пробное](probe-message.md) сообщение для обнаружения устройств и служб. Если клиент использует направленное обнаружение, это сообщение отправляется по протоколу HTTP или HTTPS; в противном случае сообщение отправляется с помощью многоадресной рассылки UDP на порт 3702.
2.  Клиент получает сообщения [ProbeMatch](probematches-message.md) от соответствующих устройств или служб. Сообщения направленного обнаружения отправляются по протоколу HTTP или HTTPS; в противном случае эти сообщения отправляются по UDP-адресу и исходят с порта 3702.
3.  Если в сообщении ProbeMatch не было указано ни одного Ксаддрс, клиент отправит сообщение с [разрешением](resolve-message.md) по многоадресной рассылке UDP на порт 3702.
4.  Если сообщение с [разрешением](resolve-message.md) было отправлено, клиент получает сообщение [ресолвематчес](resolvematches-message.md) от соответствующих служб. Это сообщение отправляется по адресу UDP с порта 3702 на порт, в котором было создано сообщение разрешения.
5.  Клиент отправляет сообщение [Get](get--metadata-exchange--http-request-and-message.md) для запроса метаданных от устройства или службы. Это сообщение отправляется по протоколу HTTP или HTTPS.
6.  Клиент получает сообщение [GetResponse](getresponse--metadata-exchange--message.md) с метаданными устройства или службы. Это сообщение отправляется по протоколу HTTP или HTTPS.

Следующие процедуры диагностики следует использовать (по порядку) для выявления проблем с клиентом обнаружения функций.

**Устранение неполадок клиента обнаружения функций**

1.  Если используется направленное обнаружение, [Устранение неполадок с помощью направленного обнаружения](troubleshooting-applications-using-directed-discovery.md).
2.  [Проверьте параметры адаптера и брандмауэра](inspecting-adapter-and-firewall-settings.md).
3.  [Используйте универсальный узел и клиент для протокола UDP WS-Discovery](using-a-generic-host-and-client-for-udp-ws-discovery.md).
4.  [Используйте клиент отладки WSD для проверки многоадресного трафика](using-wsddebug-client-to-verify-multicast-traffic.md).
5.  [Проверьте сетевые трассировки для протокола UDP WS-Discovery](inspecting-network-traces-for-udp-ws-discovery.md).
6.  [Используйте универсальный узел и клиент для обмена метаданными HTTP](using-a-generic-host-and-client-for-http-metadata-exchange.md).
7.  [Используйте ведение журнала WinHTTP для проверки получения трафика](using-winhttp-logging-to-verify-get-traffic.md).
8.  [Проверьте сетевые трассировки для обмена метаданными HTTP](inspecting-network-traces-for-http-metadata-exchange.md).

Если источник проблемы не удается определить с помощью описанных выше процедур диагностики, следуйте инструкциям в статьях [Включение трассировки WSDAPI](enabling-wsdapi-tracing.md) и обратитесь в службу поддержки Майкрософт.

## <a name="related-topics"></a>См. также

<dl> <dt>

[начало работы с разрешениями WSDAPI](getting-started-with-wsdapi-troubleshooting.md)
</dt> </dl>

 

 



