---
description: Родительский контроль можно расширить с помощью API-интерфейсов параметров и ведения журнала.
ms.assetid: f0fc1b11-6de4-48f6-afc9-f05c8812d2bd
title: Общие сведения о функциях расширяемости родительского контроля
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4fe150c5955881b8038cdca9a1e4562ee28093f5
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "104349105"
---
# <a name="parental-controls-extensibility-features-overview"></a>Общие сведения о функциях расширяемости родительского контроля

Родительский контроль можно расширить с помощью API-интерфейсов параметров и ведения журнала.

-   [Ведение журнала — фон](/windows)
-   [Расширение ведения журнала](#logging-extensibility)
-   [Панель родительского контроля — общее Добавление расширения пользовательского интерфейса](#parental-controls-panel-general-ui-extensibility-link-addition)
-   [Замена фильтра веб-содержимого](#web-content-filter-replacement)

## <a name="loggingbackground"></a>Ведение журнала — фон

Корпорация Майкрософт определила ряд стандартных событий для решения распространенных задач:

-   Система: родительский контроль параметров, изменение учетной записи, изменение системных часов, неудачные попытки входа.
-   User:
    -   Ограничения системы и времени: время входа, выход из системы, число попыток запуска приложений и длительность выполнения приложения (см. Примечание).
    -   Интернет-ограничения: посещаемые и заблокированные веб-сайты, попытки скачивания файлов. Веб-браузерам и приложениям, похожим на браузер, не нужно заносить эти данные, так как в этом случае фильтр веб-содержимого делает это. Заменяющие веб-фильтры должны создавать эти события.
    -   Игры. игры воспроизводятся и блокируются, заканчивая играми (события вместе обеспечивают длительность).
    -   Разрешить и заблокировать определенные программы: выполнение попытки, завершение работы, заблокировано общими ограничениями приложений.
    -   Обмен мгновенными сообщениями: попытки инициации преобразования, попытки присоединиться к беседе, выход из службы видео, аудио, игры, коротких сообщений, передача файлов и переключения URL-адресов, возможность изменения списка контактов.
    -   Электронная почта: получение или получение заблокированных, попыток отправки, попытки изменения списка контактов.
    -   Носитель: носитель воспроизводился и попытался попытаться.

Не все предыдущие события подходят для использования приложениями. Изменения учетной записи, изменения системных часов, а также ведение журнала событий входа и выхода из системы реализуются только операционной системой и поэтому не являются общедоступными.

> [!Note]  
> Инструментирование событий входа и выхода приложения доступно в Windows Vista и настраивается родительскими элементами управления для записи этих данных в журнал.

 

## <a name="logging-extensibility"></a>Расширение ведения журнала

Универсальное пользовательское событие также определяется с помощью трех тегов и значений, поэтому независимые поставщики программного обеспечения, как правило, не должны определять свои собственные в манифесте. Средство просмотра журнала распознает и отображает заголовки и значения тегов, если количество используемых полей (от 1 до 3) и заголовки для каждого поля зарегистрированы с помощью API инструментария WMI. Универсальный Просмотр событий также можно использовать для просмотра пользовательских событий.

Если универсальное пользовательское событие не подходит, ISV может самостоятельно определить его с помощью манифеста приложения и зарегистрировать заголовки для трех полей, используя один API WMI.

Независимые поставщики программного обеспечения могут определять собственные события и использовать их независимо от средства просмотра журналов с помощью общедоступных интерфейсов API Windows. Это не имеет преимущества полной централизованной работы с журналом.

## <a name="parental-controls-panel-general-ui-extensibility-link-addition"></a>Панель родительского контроля — общее Добавление расширения пользовательского интерфейса

Ссылка на расширяемость пользовательского интерфейса общего назначения предоставляется путем доступа к параметрам через WMI, создавая экземпляр расширения на основе переданного пути и идентификатора DLL ресурса имени, пути к образу (точечного рисунка), пути к изображению (точечного рисунка), пути к DLL-файлу и имени исполняемого пути. После регистрации ссылка появится в области больше параметров на панели родительский контроль и будет вызывать указанный исполняемый файл.

Строка пути к исполняемому файлу может дополнительно включать маркер для идентификатора безопасности текущего пользователя, подставляемый перед вызовом. Это позволяет выполнять ссылки в контексте пользователя, для которого в данный момент выполняется просмотр страницы центра, если исполняемому файлу необходимо узнать идентификатор безопасности.

## <a name="web-content-filter-replacement"></a>Замена фильтра веб-содержимого

Как отмечалось в разделе, [родительский контроль In-Box ограничениями и пользовательскими интерфейсами](parental-controls-in-box-restrictions-and-user-interfaces.md). фильтр веб-содержимого в Интернете можно заменить на предоставленный поставщиком фильтр. Это выполняется путем доступа к параметрам через инструментарий WMI, чтобы задать идентификатор GUID и имя, принадлежащие фильтру.

Общий механизм расширяемости пользовательского интерфейса используется для предоставления фильтра стороннего разработчика. Это тот же механизм, который используется для любого расширения, которое должно появиться в разделе "Дополнительные параметры" в родительской панели управления верхнего уровня. Если вы выберете дополнительный шаг с указанием того же идентификатора GUID и соответствующего пути и идентификатора DLL ресурса имени в параметрах фильтра на уровне системы, ссылка на отображаемый фильтр будет скрыта, а запись стороннего производителя будет отображаться в верхней части раздела Дополнительные параметры. Имя, зарегистрированное для фильтра, будет отображаться в разделе сводки.

Сброс параметров GUID фильтра и имени пути и идентификатора приведет к тому, что встроенный фильтр веб-содержимого будет переустановлен в качестве активного фильтра и снова появится в разделе Параметры Windows.

Обратите внимание, что сторонние фильтры не ограничиваются технологиями, используемыми для подключения к Windows Communications. Фильтр должен просто предоставлять свои параметры, используя ссылку расширяемости и соблюдая соответствующие параметры родительского контроля.

 

 
