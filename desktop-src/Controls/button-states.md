---
title: Состояния кнопок
description: В этом разделе описывается, как при выборе кнопки изменяется состояние и как приложение должно отвечать.
ms.assetid: 7302f0f3-f29d-43d7-8e25-4f36d5ef6a86
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 96865191ac64b14dd35ff1d22631c6bf11763aff
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/21/2020
ms.locfileid: "104488385"
---
# <a name="button-states"></a>Состояния кнопок

В этом разделе описывается, как при выборе кнопки изменяется состояние и как приложение должно отвечать.

Раздел состоит из следующих разделов:

-   [Выбор кнопки](#button-selection)
-   [Элементы состояния кнопки](#elements-of-a-button-state)
    -   [Состояние фокусировки](#focus-state)
    -   [Состояние отправки](#push-state)
    -   [Состояние проверки](#check-state)
-   [Изменения состояния кнопки](#changes-to-a-button-state)

## <a name="button-selection"></a>Выбор кнопки

Пользователь может выбрать кнопку тремя способами: щелкнув ее с помощью мыши, перейдя к ней, нажав клавишу ВВОД или (если кнопка входит в группу, определяемую стилем [**\_ группы WS**](/windows/desktop/winmsg/window-styles) ), переходя к выбранной кнопке в группе и используя клавиши со стрелками для перемещения в этой группе. Два метода перехода являются частью стандартного интерфейса клавиатуры, предоставляемого системой. Полное описание этого интерфейса см. в разделе [диалоговые окна](/windows/desktop/dlgbox/dialog-boxes).

При выборе кнопки обычно выводятся следующие события:

-   Система придает кнопке фокус клавиатуры.
-   Кнопка отправляет родительскому окну сообщение, чтобы уведомить его о выделении.
-   Родительское окно (или система) отправляет кнопке сообщение, чтобы изменить его состояние.
-   Родительское окно (или система) перерисовывает кнопку, чтобы отразить ее новое состояние.

## <a name="elements-of-a-button-state"></a>Элементы состояния кнопки

Состояние кнопки может быть характеризуется состоянием фокуса, состоянием отправки и состоянием проверки.

-   [Состояние фокусировки](#focus-state)
-   [Состояние отправки](#push-state)
-   [Состояние проверки](#check-state)

### <a name="focus-state"></a>Состояние фокусировки

Состояние фокуса применяется к флажку, переключателю, кнопке или рисуемой владельцем кнопке. Кнопка получает фокус клавиатуры, когда пользователь выбирает его и теряет фокус, когда пользователь выбирает другой элемент управления. Только один элемент управления может одновременно иметь фокус клавиатуры.

Когда кнопка имеет фокус клавиатуры, система обычно выделяет текст, значок или растровое изображение кнопки, поключив ее в пунктирную линию. Кроме того, при фокусе кнопка кнопки имеет жирную темную границу. Система автоматически изменяет выделение для автоматической кнопки, но приложение должно изменить выделение для неавтоматической кнопки, отправив сообщения.

### <a name="push-state"></a>Состояние отправки

Состояние Push применяется к кнопке отправки, флажку, переключателю или по три состояния, но не к другим кнопкам. Состояние отправки кнопки может быть либо отправлено, либо не отправлено. При нажатии кнопки «Отправить» (или любой кнопки с [**\_ пушлике**](button-styles.md) стилем «BS») кнопка рисуется как утопленная кнопка. Если он не отправлен, он рисуется как вызванная кнопка. При нажатии флажка, переключателя или флажка с тремя состояниями фон кнопки становится серым. Если он не отправлен, фон кнопки не отображается серым цветом.

### <a name="check-state"></a>Состояние проверки

Состояние Check применяется к флажку, переключателю или по трем состояниям, но не применяется к другим кнопкам. Состояние может быть отмечено, снято или (для флажков с тремя состояниями) неопределенным. Флажок проверяется, если он содержит галочку, и удаляется, если нет. Переключатель проверяется, если он содержит черную точку; он удаляется, если это не так. Флажок с тремя состояниями проверяется, если он содержит галочку, удаляется, если он отсутствует, и является неопределенным, если содержит серый прямоугольник. Система автоматически изменяет состояние проверки автоматической кнопки, но приложение должно изменить состояние проверки неавтоматической кнопки.

## <a name="changes-to-a-button-state"></a>Изменения состояния кнопки

Когда пользователь выбирает кнопку, обычно требуется изменить один или несколько элементов состояния кнопки. Система автоматически изменяет состояние фокуса для всех типов кнопок, состояние принудительной отправки для кнопок или кнопок с помощью стиля [**BS \_ пушлике**](button-styles.md) и состояние проверки для всех автоматических кнопок. Приложение должно выполнять все остальные изменения состояния, принимая во внимание тип кнопки, стиль и текущее состояние. В следующем списке показаны элементы состояния, которые необходимо изменить для каждого типа кнопки:

-   Флажок должен изменить состояние проверки.
-   Переключатель должен изменить состояние проверки. Также может потребоваться изменить состояние проверки других переключателей в той же группе, чтобы обеспечить взаимоисключающую природу переключателей.
-   Так как состояние кнопки, рисуемой владельцем, зависит от приложения, то, какое приложение должно измениться в кнопке, может быть различным. Элементы группы не должны изменяться, так как пользователи не могут выбрать поля группы.

Приложение может определить состояние кнопки, отправив ей сообщение BM- [**\_ Check**](bm-getcheck.md) или BM- [**\_ State**](bm-getstate.md) ; приложение может установить состояние кнопки, отправив ему сообщение [**BM \_ сетчекк**](bm-setcheck.md) или [**BM \_ SETSTATE**](bm-setstate.md) .

 

 