---
title: Сообщение BCM_GETIDEALSIZE (Коммктрл. h)
description: Возвращает размер кнопки, которая лучше подходит для текста и изображения, если имеется список изображений. Это сообщение можно отправить явным образом или воспользоваться \_ макросом кнопки жетидеалсизе.
ms.assetid: c1bc2043-bf1a-4129-a005-f04048c4c1db
keywords:
- Элементы управления Windows для BCM_GETIDEALSIZE сообщений
topic_type:
- apiref
api_name:
- BCM_GETIDEALSIZE
api_location:
- Commctrl.h
api_type:
- HeaderDef
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 446f4acba39b8b9722ef1a01a223f671b56ae845
ms.sourcegitcommit: a1494c819bc5200050696e66057f1020f5b142cb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/12/2020
ms.locfileid: "105654489"
---
# <a name="bcm_getidealsize-message"></a>\_Сообщение ЖЕТИДЕАЛСИЗЕ BCM

Возвращает размер кнопки, которая лучше подходит для текста и изображения, если имеется список изображений. Это сообщение можно отправить явным образом или воспользоваться макросом [**кнопки \_ жетидеалсизе**](/windows/desktop/api/Commctrl/nf-commctrl-button_getidealsize) .

## <a name="parameters"></a>Параметры

<dl> <dt>

*wParam* 
</dt> <dd>

Не используется; должно быть равно нулю.

</dd> <dt>

*lParam* 
</dt> <dd>

Указатель на структуру [**размера**](/previous-versions//dd145106(v=vs.85)) , которая получает требуемый размер кнопки, включая текст и список изображений, если они есть. Вызывающее приложение отвечает за выделение этой структуры. Задайте нулевые значения для элементов **CX** и **CY** , чтобы они имели идеальную высоту и ширину, возвращаемые в структуре **размера** . Чтобы задать ширину кнопки, задайте для элемента **CX** ширину требуемой кнопки. Система будет рассчитывать идеальную высоту для этой ширины и возвращать ее в элемент **CY** .

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Если сообщение завершается с ошибкой, возвращается **значение true**. В противном случае возвращается **значение false**.

## <a name="remarks"></a>Комментарии

> [!Note]  
> Если ширина специальной кнопки не нужна, необходимо задать оба элемента [**size**](/previous-versions//dd145106(v=vs.85)) равным нулю, чтобы вычислить и вернуть идеальную высоту и ширину. Если значение элемента **CX** больше нуля, то это значение считается требуемой шириной кнопки, а идеальная высота для этой ширины вычисляется и возвращается в элемент **CY** .

 

Это сообщение наиболее применимо к кнопкам. Когда отправляется на кнопку, сообщение получает ограничивающий прямоугольник, необходимый для вывода текста кнопки. Кроме того, если у кнопки есть список изображений, ограничивающий прямоугольник также будет иметь размер, чтобы включить изображение кнопки.

При отправке на кнопку любого другого типа извлекается размер прямоугольника окна элемента управления.

> [!Note]  
> Чтобы использовать это сообщение, необходимо указать манифест, указывающий Comclt32.dll версии 6,0. Дополнительные сведения о манифестах см. в разделе [Включение визуальных стилей](cookbook-overview.md).

 

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|---------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Только для \[ классических приложений Windows Vista\]<br/>                                        |
| Минимальная версия сервера<br/> | \[Только для настольных приложений Windows Server 2003\]<br/>                                  |
| Header<br/>                   | <dl> <dt>Коммктрл. h</dt> </dl> |



 

