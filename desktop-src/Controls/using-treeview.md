---
title: Использование элементов управления Tree-View
description: В этом разделе содержатся сведения о реализации и примеры кода для работы с элементами управления "дерево-представление".
ms.assetid: 37736770-5030-4f8a-a020-6897ed5f4e96
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8beac9ef5163b52582a2ea89820278cc10f9f68ad865354404efd72a61b04993
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119318593"
---
# <a name="using-tree-view-controls"></a>Использование элементов управления Tree-View

В этом разделе содержатся сведения о реализации и примеры кода для работы с элементами управления "дерево-представление".

## <a name="in-this-section"></a>В этом разделе



| Раздел                                                                                | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|--------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [Создание элемента управления Tree-View](create-a-tree-view-control.md)<br/>       | Чтобы создать элемент управления представления в виде дерева, используйте функцию [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) , указав значение [**WC \_ TREEVIEW**](common-control-window-classes.md) для класса Window. Класс окна древовидного представления регистрируется в адресном пространстве приложения при загрузке библиотеки DLL общего контроля. Чтобы убедиться, что библиотека DLL загружена, используйте функцию [**иниткоммонконтролс**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrols) . <br/>                                                                    |
| [Инициализация списка изображений](initialize-the-image-list.md)<br/>         | Каждый элемент в элементе управления "дерево" может иметь два связанных с ним изображения. Элемент отображает одно изображение, если оно выбрано, а другое — нет. Чтобы включить изображения с элементами представления в виде дерева, сначала используйте функции [списков изображений](image-lists.md) , чтобы создать список изображений и добавить в него изображения. Затем свяжите список изображений с элементом управления "дерево-представление", используя сообщение [**TVM \_ сетимажелист**](tvm-setimagelist.md) . <br/>                                                                     |
| [Добавление Tree-View элементов](add-tree-view-items.md)<br/>                     | Вы добавляете элемент в элемент управления "дерево", отправляя сообщение [**TVM \_ INSERTITEM**](tvm-insertitem.md) в элемент управления. Сообщение включает адрес структуры [**твинсертструкт**](/windows/win32/api/commctrl/ns-commctrl-tvinsertstructa) , задавая родительский элемент, элемент, после которого вставляется новый элемент, и структуру [**твитем**](/windows/win32/api/commctrl/ns-commctrl-tvitema) , определяющую атрибуты элемента. Атрибуты включают метку элемента, его выбранные и невыбранные изображения, а также 32-разрядное значение, определяемое приложением. <br/> |
| [Перетаскивание элемента Tree-View](drag-a-tree-view-item.md)<br/>                 | В этом разделе демонстрируется код для обработки перетаскивания элементов представления в виде дерева. Пример кода состоит из трех функций. Первая функция начинает операцию перетаскивания, вторая функция перетаскивает изображение, а третья функция завершает операцию перетаскивания. <br/>                                                                                                                                                                                                                                  |
| [Работа с индексами изображений состояний](work-with-state-image-indexes.md)<br/> | Часто возникает путаница с тем, как задать и извлечь индекс изображения состояния в элементе управления "дерево-представление". В следующих примерах демонстрируется правильный метод установки и получения индекса изображения состояния. В примерах предполагается, что в элементе управления "дерево" установлены только два индекса состояния: "снят" и "Проверено". Если приложение содержит более двух, эти функции необходимо изменить, чтобы обрабатывать этот случай. <br/>                                                               |
| [Использование Tree-View Инфотипс](use-tree-view-infotips.md)<br/>               | При применении стиля [**\_ подсказки «телевизоры**](tree-view-control-window-styles.md) » к элементу управления древовидного представления он создает [ТВН \_ жетинфотип](tvn-getinfotip.md) уведомления при наведении курсора на элемент в представлении в виде дерева. Отвечая на это уведомление, можно задать текст, отображаемый в подсказке. <br/>                                                                                                                                                                                    |



 

 

