---
title: Форматирование текста в элементах управления Rich Edit
description: Приложение может отправить сообщения в элемент управления Rich Edit, чтобы форматировать символы и абзацы и получать сведения о форматировании.
ms.assetid: 19A4F0D1-88C5-407D-A70F-CB486DAD352E
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 246c6309dec94538f47ed9ca7e464f1d6d17f240
ms.sourcegitcommit: f0ca63c18dc52c357d3398af7be766d2bdd40be7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/17/2020
ms.locfileid: "103789361"
---
# <a name="how-to-format-text-in-rich-edit-controls"></a>Форматирование текста в элементах управления Rich Edit

Приложение может отправить сообщения в элемент управления Rich Edit, чтобы форматировать символы и абзацы и получать сведения о форматировании. Атрибуты форматирования абзаца включают выравнивание, табуляцию, отступы, нумерацию и простые таблицы. Для символов можно указать имя шрифта, размер, цвет и эффекты, такие как полужирный, курсив и защищенный.

## <a name="what-you-need-to-know"></a>Что необходимо знать

### <a name="technologies"></a>Технологии

-   [Элементы управления Windows](window-controls.md)

### <a name="prerequisites"></a>Предварительные условия

-   C/C++
-   Программирование пользовательского интерфейса Windows

## <a name="instructions"></a>Инструкции

### <a name="format-text-in-a-rich-edit-control"></a>Форматирование текста в элементе управления Rich Edit

Форматирование абзаца можно применить с помощью сообщения [**EM \_ сетпараформат**](em-setparaformat.md) . Чтобы определить текущее форматирование абзаца для выделенного текста, используйте сообщение [**EM \_ жетпараформат**](em-getparaformat.md) . Для указания атрибутов форматирования абзаца в обоих сообщениях используется [**Формат**](/windows/desktop/api/Richedit/ns-richedit-paraformat) значения или структура [**PARAFORMAT2**](/windows/desktop/api/Richedit/ns-richedit-paraformat2) .

Форматирование символов можно применить с помощью сообщения [**EM \_ сетчарформат**](em-setcharformat.md) . Чтобы определить текущее форматирование символов для выделенного текста, можно использовать сообщение [**EM \_ жетчарформат**](em-getcharformat.md) . Структура [**чарформат**](/windows/win32/api/richedit/ns-richedit-charformata) или [**CHARFORMAT2**](/windows/desktop/api/Richedit/ns-richedit-charformat2a) используется вместе с обоими сообщениями для указания атрибутов символов.

Кроме того, можно использовать сообщения [**EM \_ Сетчарформат**](em-setcharformat.md) и [**EM \_ жетчарформат**](em-getcharformat.md) для установки и извлечения форматирования символов точки вставки, то есть форматирования, применяемого к вставленным символам. Например, если приложение устанавливает форматирование символов по умолчанию полужирным, а пользователь вводит символ, этот символ выделяется полужирным шрифтом.

Форматирование символов точки вставки применяется ко вновь вставленному тексту только в том случае, если текущий выделенный фрагмент пуст (если текущий выделенный фрагмент является точкой вставки). В противном случае новый текст предполагает форматирование символов текста, который он заменяет. При изменении выбора форматирование символов по умолчанию изменяется в соответствии с первым символом в новом выделенном фрагменте.

Защищенный символ уникален в том, что он не изменяет внешний вид текста. Если пользователь пытается изменить защищенный текст, элемент управления Rich Edit (Правка) отправляет родительскому окну код уведомления, [ \_ защищенный коротким](en-protected.md) кодом, позволяя родительскому окну разрешать или запрещать изменение. Чтобы получить этот код уведомления, необходимо включить его с помощью сообщения [**EM \_ SETEVENTMASK**](em-seteventmask.md) .

Цвет переднего плана всегда является символьным атрибутом. В Microsoft Rich Edit 1,0 цвет фона — это только свойство элемента управления Rich Edit. Чтобы задать цвет фона по умолчанию, используйте сообщение [**EM \_ сетбкгндколор**](em-setbkgndcolor.md) . Обратите внимание, что Расширенное редактирование не поддерживает сообщение [**WM \_ ктлколоредит**](wm-ctlcoloredit.md) .

## <a name="related-topics"></a>См. также

<dl> <dt>

[Использование элементов управления Rich Edit](using-rich-edit-controls.md)
</dt> <dt>

[Демонстрация стандартных элементов управления Windows (Кппвиндовскоммонконтролс)](https://github.com/microsoftarchive/msdn-code-gallery-microsoft/tree/master/OneCodeTeam/Windows%20common%20controls%20demo%20(CppWindowsCommonControls)/%5BC++%5D-Windows%20common%20controls%20demo%20(CppWindowsCommonControls)/C++/CppWindowsCommonControls)
</dt> </dl>

 

 




