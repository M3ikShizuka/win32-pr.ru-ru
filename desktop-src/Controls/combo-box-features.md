---
title: Возможности поля со списком
description: В этом документе обсуждаются функции поля со списком.
ms.assetid: 7102beff-7f67-4e4e-a32b-9ccae1522ebd
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 735daf708785c8d7c18027ae13a9a9cdcf843dd6
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "126892392"
---
# <a name="combo-box-features"></a>Возможности поля со списком

В этом документе обсуждаются функции поля со списком. Дополнительные сведения см. в следующих разделах:

-   [Специальные возможности](#special-features)
    -   [Списки каталогов](#directory-lists)
    -   [Данные, связанные с элементами списка](#data-associated-with-list-items)
    -   [Расширенный пользовательский интерфейс](#the-extended-user-interface)
    -   [Объявления по подсказкам](#cue-banners)
-   [Уведомления в поле со списком](#combo-box-notifications)
-   [Поведение поля со списком по умолчанию](#default-combo-box-behavior)

## <a name="special-features"></a>Специальные возможности

Существуют специальные сообщения и функции, позволяющие приложению отображать список каталогов в поле со списком, связывать данные с элементами списка в поле со списком и изменять интерфейс клавиатуры для раскрывающегося поля со списком или раскрывающегося списка.

-   [Списки каталогов](#directory-lists)
-   [Данные, связанные с элементами списка](#data-associated-with-list-items)
-   [Расширенный пользовательский интерфейс](#the-extended-user-interface)
-   [Объявления по подсказкам](#cue-banners)

### <a name="directory-lists"></a>Списки каталогов

Приложение может добавлять имена файлов или подкаталогов в поле со списком, отправляя в него сообщение [**CB \_ dir**](cb-dir.md) . Параметр *wParam* для этого сообщения указывает атрибуты добавляемых файлов, а параметр *lParam* — указатель на текстовую строку, определяющую спецификацию файла.

Для замены содержимого поля со списком в диалоговом окне можно использовать функцию [**длгдирлисткомбобокс**](/windows/desktop/api/Winuser/nf-winuser-dlgdirlistcomboboxa) . Функция заполняет поле со списком именами дисков, каталогов и файлов, которые соответствуют заданному набору критериев. Функция [**длгдирселекткомбобоксекс**](/windows/desktop/api/Winuser/nf-winuser-dlgdirselectcomboboxexa) извлекает текущее выделение в поле со списком, инициализированном **длгдирлисткомбобокс**. Эти функции позволяют пользователю выбрать диск, каталог или файл из поля со списком, не вводя расположение и имя файла.

Функции [**длгдирлисткомбобокс**](/windows/desktop/api/Winuser/nf-winuser-dlgdirlistcomboboxa) и [**длгдирселекткомбобоксекс**](/windows/desktop/api/Winuser/nf-winuser-dlgdirselectcomboboxexa) и сообщение [**\_ каталога CB**](cb-dir.md) похожи на функции [**длгдирлист**](/windows/desktop/api/Winuser/nf-winuser-dlgdirlista) и [**длгдирселектекс**](/windows/desktop/api/Winuser/nf-winuser-dlgdirselectexa) и сообщение [**фунтов \_ dir**](lb-dir.md) , используемое со списками.

### <a name="data-associated-with-list-items"></a>Данные, связанные с элементами списка

Приложение может связывать данные с элементами списка в поле со списком. Сообщение [**\_ сетитемдата CB**](cb-setitemdata.md) связывает значение **DWORD** с элементом списка, а [**\_ жетитемдата CB**](cb-getitemdata.md) извлекает значение, связанное с элементом списка.

В примере [создания поля со списком, созданного владельцем](using-combo-boxes.md) , используются данные элемента для связывания константы с каждым элементом в раскрывающемся списке. Такое уникальное значение идентифицирует каждый элемент независимо от его отсортированной позиции.

Другие приложения могут использовать данные элемента для связывания маркера или указателя с элементом списка. В этом случае приложение может обработать сообщение [**WM \_ DELETEITEM**](wm-deleteitem.md) , чтобы удалить или освободить указанный объект при удалении элемента списка.

### <a name="the-extended-user-interface"></a>Расширенный пользовательский интерфейс

Раскрывающиеся поля со списком и раскрывающиеся списки поддерживают альтернативный интерфейс клавиатуры, называемый *расширенным пользовательским интерфейсом*. По умолчанию клавиша F4 открывает или закрывает список, а стрелка вниз изменяет текущее выделение. Однако в поле со списком с расширенным пользовательским интерфейсом клавиша F4 отключена, а нажатие клавиши со стрелкой вниз открывает раскрывающийся список. Кроме того, колесико мыши, которое обычно прокручивается по элементам списка, не имеет функции при установке расширенного пользовательского интерфейса.

Чтобы выбрать пользовательский интерфейс для поля со списком, приложение может отправить сообщение [**\_ сетекстендедуи CB**](cb-setextendedui.md) в поле со списком. Значение **true** для параметра *wParam* включает расширенный пользовательский интерфейс; значение **false** задает пользовательский интерфейс по умолчанию. Чтобы определить, использует ли поле со списком расширенный пользовательский интерфейс, приложение может отправить сообщение [**\_ жетекстендедуи CB**](cb-getextendedui.md) в поле со списком.

### <a name="cue-banners"></a>Объявления по подсказкам

Объявления о подсказках — это новая функция элементов управления и полей со списками редактирования. Объявление подсказки предназначено для предоставления пользователю указания в качестве элемента управления или поля со списком. На следующем снимке экрана показан элемент управления "поле ввода" с текстом подсказки "Поиск".

![снимок экрана элемента управления "поле ввода" с текстом подсказки "Поиск"](images/cue-banner.png)

Текст объявления подсказки отображается в том случае, если в элементе управления "поле ввода" нет текста или поля со списком не выбрано. Когда пользователь вводит текст в элемент управления правки или делает выбор в поле со списком, баннер подсказки исчезает. По умолчанию баннер подсказки также исчезает при получении фокуса элементом управления или полем ввода.

## <a name="combo-box-notifications"></a>Уведомления в поле со списком

Сообщения из полей со списками отправляются в виде кодов уведомления в виде [**\_ командных сообщений WM**](/windows/desktop/menurc/wm-command) . Код уведомления хранится в высоком слове параметра *wParam* , и приложение может обработать следующие коды уведомления в поле со списком.



| Код уведомления                         | Описание                                                                                                                                                            |
|-------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [КБН \_ крупный план](cbn-closeup.md)           | Указывает, что список в раскрывающемся поле со списком или раскрывающемся списке будет закрыт.                                                                                   |
| [КБН \_ дблклк](cbn-dblclk.md)             | Показывает, что пользователь дважды щелкнул элемент списка в простом поле со списком.                                                                                               |
| [\_раскрывающийся список КБН](cbn-dropdown.md)         | Указывает, что список в раскрывающемся поле со списком или раскрывающемся списке будет открыт.                                                                                    |
| [КБН \_ едитчанже](cbn-editchange.md)     | Показывает, что пользователь изменил текст в элементе управления "поле ввода" простого или раскрывающегося списка. Этот код уведомления отправляется *после* отображения измененного текста.  |
| [КБН \_ едитупдате](cbn-editupdate.md)     | Показывает, что пользователь изменил текст в элементе управления "поле ввода" простого или раскрывающегося списка. Этот код уведомления отправляется *перед* отображением измененного текста. |
| [КБН \_ еррспаце](cbn-errspace.md)         | Указывает, что поле со списком не может выделить достаточно памяти для выполнения запроса, например для добавления элемента списка.                                                              |
| [КБН \_ киллфокус](cbn-killfocus.md)       | Указывает, что поле со списком будет терять фокус ввода.                                                                                                              |
| [КБН \_ селчанже](cbn-selchange.md)       | Указывает, что текущий выделенный фрагмент изменился.                                                                                                                           |
| [КБН \_ селендканцел](cbn-selendcancel.md) | Указывает, что выбор, сделанный в раскрывающемся списке, в то время как он был удален, должен игнорироваться.                                                                 |
| [КБН \_ селендок](cbn-selendok.md)         | Указывает, что выделенный фрагмент раскрывающегося списка, когда он был удален, должен быть принят.                                                                       |
| [КБН \_ SETFOCUS](cbn-setfocus.md)         | Указывает, что поле со списком получило фокус ввода.                                                                                                                  |



 

## <a name="default-combo-box-behavior"></a>Поведение поля со списком по умолчанию

В следующей таблице описаны сообщения, специально обрабатываемые стандартной процедурой окна класса COMBOBOX.



| Сообщение                                                       | Описание                                                                                                                                                                                                                                                                                                                                                                          |
|---------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**\_ADDSTRING CB**](cb-addstring.md)                         | Отправляет сообщение [**\_ ADDSTRING балансировки нагрузки**](lb-addstring.md) в окно списка для добавления элемента списка.                                                                                                                                                                                                                                                                                        |
| [**\_ДЕЛЕТЕСТРИНГ CB**](cb-deletestring.md)                   | Отправляет сообщение [**\_ делетестринг балансировки нагрузки**](lb-deletestring.md) в окно списка для удаления элемента списка.                                                                                                                                                                                                                                                                               |
| [**\_Каталог CB**](cb-dir.md)                                     | Добавляет имена файлов, соответствующие указанным атрибутам и пути к списку.                                                                                                                                                                                                                                                                                                          |
| [**\_FINDSTRING CB**](cb-findstring.md)                       | Отправляет сообщение [**\_ FINDSTRING балансировки нагрузки**](lb-findstring.md) в окно списка. Это сообщение возвращает индекс первого элемента списка, который начинается с указанного текста.                                                                                                                                                                                                              |
| [**\_ФИНДСТРИНЖЕКСАКТ CB**](cb-findstringexact.md)             | Отправляет сообщение [**\_ FINDSTRING балансировки нагрузки**](lb-findstring.md) в окно списка. Это сообщение возвращает индекс первого элемента списка, точно соответствующего указанному тексту.                                                                                                                                                                                                              |
| [**\_число CB**](cb-getcount.md)                           | Отправляет сообщение [**\_ счетчика нагрузки**](lb-getcount.md) в окно списка. Он возвращает число элементов списка.                                                                                                                                                                                                                                                                        |
| [**CB \_**](cb-getcursel.md)                         | Отправляет сообщение [**с \_ нерекурсивной балансировкой нагрузки**](lb-getcursel.md) в окно списка. Он возвращает индекс выбранного в данный момент элемента, если таковой имеется.                                                                                                                                                                                                                                              |
| [**\_ЖЕТДРОППЕДКОНТРОЛРЕКТ CB**](cb-getdroppedcontrolrect.md) | Заполняет указанную прямоугольную структуру с помощью экранных координат раскрывающегося списка.                                                                                                                                                                                                                                                                                             |
| [**\_ЖЕТДРОППЕДСТАТЕ CB**](cb-getdroppedstate.md)             | Возвращает **значение true** , если раскрывающийся список открыт. в противном случае возвращается **значение false**.                                                                                                                                                                                                                                                                                                       |
| [**\_ЖЕТДРОППЕДВИДС CB**](cb-getdroppedwidth.md)             | Возвращает минимальную допустимую ширину (в пикселях) раскрывающегося списка.                                                                                                                                                                                                                                                                                                               |
| [**\_ЖЕТЕДИТСЕЛ CB**](cb-geteditsel.md)                       | Отправляет сообщение [**EM \_ жетсел**](em-getsel.md) в элемент управления "поле ввода" и возвращает начальную и конечную позицией текущего выделения. В раскрывающихся списках окна процедура Window возвращает значение CB \_ Err.                                                                                                                                                                       |
| [**\_ЖЕТЕКСТЕНДЕДУИ CB**](cb-getextendedui.md)                 | Возвращает **значение true** , если поле со списком является раскрывающимся полем со списком или раскрывающимся списком, а также установлен флаг расширения пользовательского интерфейса. в противном случае возвращается **значение false**.                                                                                                                                                                                                                         |
| [**\_ЖЕСОРИЗОНТАЛЕКСТЕНТ CB**](cb-gethorizontalextent.md)     | Отправляет сообщение [**\_ жесоризонталекстент балансировки нагрузки**](lb-gethorizontalextent.md) в окно списка. Он возвращает прокручиваемую ширину (в пикселях) раскрывающегося списка.                                                                                                                                                                                                                    |
| [**\_ЖЕТИТЕМДАТА CB**](cb-getitemdata.md)                     | Отправляет сообщение [**\_ жетитемдата балансировки нагрузки**](lb-getitemdata.md) в окно списка. Он возвращает значение, связанное с указанным элементом списка.                                                                                                                                                                                                                                         |
| [**\_GETITEMHEIGHT CB**](cb-getitemheight.md)                 | Отправляет сообщение [**\_ GETITEMHEIGHT балансировки нагрузки**](lb-getitemheight.md) в окно списка. Он возвращает высоту (в пикселях) указанного элемента списка, рисуемого владельцем.                                                                                                                                                                                                                         |
| [**\_ЖЕТЛБТЕКСТ CB**](cb-getlbtext.md)                         | Отправляет сообщение [**фунтов \_ нагрузки**](lb-gettext.md) в окно списка. Он копирует указанный текст списка в указанный буфер.                                                                                                                                                                                                                                                    |
| [**\_ЖЕТЛБТЕКСТЛЕН CB**](cb-getlbtextlen.md)                   | Отправляет сообщение [**\_ жеттекстлен балансировки нагрузки**](lb-gettextlen.md) в окно списка. Он возвращает длину указанного текста списка в **тчарс**.                                                                                                                                                                                                                                       |
| [**CB \_ ЦБ**](cb-getlocale.md)                         | Отправляет сообщение [**о \_ нестандартной балансировке нагрузки**](lb-getlocale.md) в окно списка. Он возвращает текущий языковой стандарт для списка.                                                                                                                                                                                                                                                               |
| [**\_ЖЕТМИНВИСИБЛЕ CB**](cb-getminvisible.md)                 | Возвращает минимальное число видимых элементов в раскрывающемся списке поля со списком.                                                                                                                                                                                                                                                                                                       |
| [**\_ЖЕТТОПИНДЕКС CB**](cb-gettopindex.md)                     | Отправляет сообщение [**\_ жеттопиндекс балансировки нагрузки**](lb-gettopindex.md) в окно списка. Он возвращает индекс первого видимого элемента в раскрывающемся списке.                                                                                                                                                                                                                                 |
| [**\_ИНИТСТОРАЖЕ CB**](cb-initstorage.md)                     | Отправляет сообщение [**\_ инитстораже балансировки нагрузки**](lb-initstorage.md) в окно списка. Он инициализирует пространство для указанного числа элементов и указанного числа байтов для строк элементов.                                                                                                                                                                                            |
| [**\_ИНСЕРТСТРИНГ CB**](cb-insertstring.md)                   | Отправляет сообщение [**\_ инсертстринг балансировки нагрузки**](lb-insertstring.md) в окно списка. Вставляет элемент списка в указанную позицию.                                                                                                                                                                                                                                                   |
| [**\_ЛИМИТТЕКСТ CB**](cb-limittext.md)                         | Отправляет сообщение [**EM \_ лимиттекст**](em-limittext.md) в элемент управления "поле ввода". Здесь задается максимальное число символов, которое может вводить пользователь в элементе управления "поле ввода". В раскрывающихся списках окна процедура Window возвращает значение CB \_ Err.                                                                                                                                                            |
| [**\_РЕСЕТКОНТЕНТ CB**](cb-resetcontent.md)                   | Отправляет сообщение [**\_ ресетконтент балансировки нагрузки**](lb-resetcontent.md) в окно списка и удаляет содержимое списка.                                                                                                                                                                                                                                                            |
| [**\_СЕЛЕКТСТРИНГ CB**](cb-selectstring.md)                   | Отправляет сообщение [**\_ селектстринг балансировки нагрузки**](lb-selectstring.md) в окно списка. Он выбирает первый элемент списка (при наличии), который начинается с символов в указанном тексте.                                                                                                                                                                                                      |
| [**\_СЕТКУРСЕЛ CB**](cb-setcursel.md)                         | Отправляет сообщение [**\_ сеткурсел балансировки нагрузки**](lb-setcursel.md) в окно списка и задает текущий выбор.                                                                                                                                                                                                                                                                        |
| [**\_СЕТДРОППЕДВИДС CB**](cb-setdroppedwidth.md)             | Задает минимальную допустимую ширину (в пикселях) раскрывающегося списка.                                                                                                                                                                                                                                                                                                                  |
| [**\_СЕТЕДИТСЕЛ CB**](cb-seteditsel.md)                       | Отправляет сообщение [**EM \_ сетсел**](em-setsel.md) в элемент управления "поле ввода". Он выбирает указанный диапазон текста. В раскрывающихся списках окна процедура Window возвращает значение CB \_ Err.                                                                                                                                                                                                         |
| [**\_СЕТЕКСТЕНДЕДУИ CB**](cb-setextendedui.md)                 | Задает или очищает расширенный флаг пользовательского интерфейса. Этот флаг изменяет открытые ключи и закрывает список в раскрывающемся поле со списком или раскрывающемся списке. Если поле со списком является простым полем со списком, процедура окна возвращает значение CB \_ Err.                                                                                                                                               |
| [**\_СЕСОРИЗОНТАЛЕКСТЕНТ CB**](cb-sethorizontalextent.md)     | Отправляет сообщение [**\_ сесоризонталекстент балансировки нагрузки**](lb-sethorizontalextent.md) в окно списка. Он задает ширину прокручиваемого раскрывающегося списка в пикселях.                                                                                                                                                                                                                       |
| [**\_СЕТИТЕМДАТА CB**](cb-setitemdata.md)                     | Отправляет сообщение [**\_ сетитемдата балансировки нагрузки**](lb-setitemdata.md) в окно списка. Он связывает указанное значение с элементом списка.                                                                                                                                                                                                                                                   |
| [**\_СЕТИТЕМХЕИГХТ CB**](cb-setitemheight.md)                 | Отправляет сообщение [**\_ сетитемхеигхт балансировки нагрузки**](lb-setitemheight.md) в окно списка. Он задает высоту указанного элемента списка, рисуемого владельцем, или поля выбора.                                                                                                                                                                                                                 |
| [**CB \_ SETLOCALE**](cb-setlocale.md)                         | Отправляет сообщение [**фунтовой \_ SETLOCALE**](lb-setlocale.md) в окно списка и задает текущий языковой стандарт для списка. Языковой стандарт влияет на порядок сортировки списка, если он имеет [**стиль \_ сортировки CBS**](combo-box-styles.md) и строки добавляются с [**помощью \_ CB ADDSTRING**](cb-addstring.md).                                                                              |
| [**\_СЕТМИНВИСИБЛЕ CB**](cb-setminvisible.md)                 | Задает минимальное число видимых элементов в раскрывающемся списке поля со списком.                                                                                                                                                                                                                                                                                                       |
| [**\_СЕТТОПИНДЕКС CB**](cb-settopindex.md)                     | Отправляет сообщение [**\_ сеттопиндекс балансировки нагрузки**](lb-settopindex.md) в окно списка. Он прокручивает раскрывающийся список так, чтобы указанный элемент находящегося в верхней части видимого диапазона.                                                                                                                                                                                                               |
| [**\_ШОВДРОПДОВН CB**](cb-showdropdown.md)                   | Показывает или скрывает раскрывающийся список. Это сообщение не влияет на простые поля со списком.                                                                                                                                                                                                                                                                                                 |
| [**WM \_ char**](/windows/desktop/inputdev/wm-char)                              | Обрабатывает символьные данные. В раскрывающихся списках это сообщение передается в окно списка, которое перемещает выделенный фрагмент в первый элемент, начинающийся с указанного символа. В простых и раскрывающихся полях со списком это сообщение передается в элемент управления Edit.                                                                                                                  |
| [**WM \_ clear**](/windows/desktop/dataxchg/wm-clear)                            | Удаляет выбранное изменение. В простых и раскрывающихся полях со списком элемент управления "поле ввода" обрабатывает это сообщение. В раскрывающихся списках окна процедура Window возвращает значение CB \_ Err.                                                                                                                                                                                                             |
| [**\_команда WM**](/windows/desktop/menurc/wm-command)                          | Обрабатывает сообщения уведомлений из окна "Правка" и "список" и отправляет соответствующие коды уведомления поля со списком в родительское окно.                                                                                                                                                                                                                                     |
|                                                               | Для уведомлений элемента управления "поле ввода" процедура окна может обновить текущее выделение окна списка, индекс курсора и верхний индекс. Для сообщений с уведомлениями о списке процедура окна может обновить содержимое поля выбора.                                                                                                                                                 |
| [**WM \_ компареитем**](wm-compareitem.md)                     | Передает сообщение в родительское окно, позволяя приложению указать расположение относительной сортировки двух элементов списка, рисуемых владельцем. Окно поля со списком получает это сообщение из окна списка.                                                                                                                                                                              |
| [**\_копия WM**](/windows/desktop/dataxchg/wm-copy)                              | Копирует выбранное изменение в буфер обмена. В простых и раскрывающихся полях со списком элемент управления "поле ввода" обрабатывает это сообщение. В раскрывающихся списках окна процедура Window возвращает значение CB \_ Err.                                                                                                                                                                                             |
| [**\_Создание WM**](/windows/desktop/winmsg/wm-create)                            | Инициализирует поле со списком.                                                                                                                                                                                                                                                                                                                                                           |
| [**Вырезание WM \_**](/windows/desktop/dataxchg/wm-cut)                                | Удаляет выбранное изменение и помещает его в буфер обмена. В простых и раскрывающихся полях со списком элемент управления "поле ввода" обрабатывает это сообщение. В раскрывающихся списках окна процедура Window возвращает значение CB \_ Err.                                                                                                                                                                              |
| [**WM \_ DELETEITEM**](wm-deleteitem.md)                       | Передает сообщение родительскому окну, уведомляя приложение об удалении элемента списка. Окно поля со списком получает это сообщение из окна списка.                                                                                                                                                                                                               |
| [**WM \_ DRAWITEM**](wm-drawitem.md)                           | Передает сообщение в родительское окно, что позволяет приложению закрасить указанный элемент списка. Окно поля со списком получает это сообщение из окна списка. Процедура окна также может поступать с этим сообщением, чтобы приложение закрашивания поле выбора раскрывающегося списка.                                                                               |
| [**\_Включение WM**](/windows/desktop/winmsg/wm-enable)                            | Задает состояние для включения или запрета ввода с клавиатуры и мыши.                                                                                                                                                                                                                                                                                                                       |
| [**WM \_ ерасебкгнд**](/windows/desktop/winmsg/wm-erasebkgnd)                    | Возвращает значение 1, указывающее, что фон удаляется.                                                                                                                                                                                                                                                                                                                                 |
| [**WM \_ жетдлгкоде**](/windows/desktop/dlgbox/wm-getdlgcode)                    | Возвращает сочетание значений ДИАЛОГового окна \_ вантчарс и длгк \_ вантарровс.                                                                                                                                                                                                                                                                                                             |
| [**WM, \_ Шрифт**](/windows/desktop/winmsg/wm-getfont)                          | Возвращает маркер текущего шрифта, с которым поле со списком будет рисовать свой текст.                                                                                                                                                                                                                                                                                                  |
| [**WM \_ gettext**](/windows/desktop/winmsg/wm-gettext)                          | Копирует содержимое поля выбора в указанный буфер. В простых и раскрывающихся полях со списком элемент управления "поле ввода" обрабатывает это сообщение.                                                                                                                                                                                                                                    |
| [**WM \_ жеттекстленгс**](/windows/desktop/winmsg/wm-gettextlength)              | Возвращает длину текста в поле выбора в символах. В простых и раскрывающихся полях со списком элемент управления "поле ввода" обрабатывает это сообщение.                                                                                                                                                                                                                                 |
| [**WM \_ KeyDown**](/windows/desktop/inputdev/wm-keydown)                        | Обрабатывает несимвольные входные данные клавиатуры. В раскрывающихся списках это сообщение отправляется в окно списка, которое может отображать или скрывать саму себя или изменять текущий выделенный фрагмент или индекс курсора. В простых и раскрывающихся полях со списком это сообщение передается в элемент управления Edit. Элемент управления "поле ввода" передает определенные клавиши в окно списка, например клавиши со СТРЕЛКАми вверх и вниз и клавишу F4. |
| [**WM \_ киллфокус**](/windows/desktop/inputdev/wm-killfocus)                    | Скрывает выделение в поле выбора и при необходимости закрывает раскрывающийся список. Если окно, получающее фокус ввода, является частью поля со списком (например, элемента управления Edit), это сообщение игнорируется.                                                                                                                                                                   |
| [**WM \_ лбуттондблклк**](/windows/desktop/inputdev/wm-lbuttondblclk)            | То же, что и [**WM \_ лбуттондовн**](/windows/desktop/inputdev/wm-lbuttondown).                                                                                                                                                                                                                                                                                                                              |
| [**WM \_ лбуттондовн**](/windows/desktop/inputdev/wm-lbuttondown)                | Устанавливает фокус на поле со списком, а для раскрывающихся полей со списком и раскрывающихся списков может открыть или закрыть список. Если открыть список, процедура окна захватывает мышь, чтобы включить выделение, перетащив и отпустив кнопку мыши.                                                                                                                                        |
| [**WM \_ лбуттонуп**](/windows/desktop/inputdev/wm-lbuttonup)                    | Освобождает захват мыши при открытии списка мышью.                                                                                                                                                                                                                                                                                                                             |
| [**WM \_ меасуреитем**](wm-measureitem.md)                     | Отправляет сообщение в родительское окно, позволяя приложению изменять содержимое указанной структуры [**меасуреитемструкт**](/windows/win32/api/winuser/ns-winuser-measureitemstruct) . Окно поля со списком получает это сообщение из окна списка.                                                                                                                                                  |
| [**WM \_ MOUSEMOVE**](/windows/desktop/inputdev/wm-mousemove)                    | Отправляет сообщение в окно списка, если мышь открыла список и кнопка мыши остается недоступной. Это позволяет пользователю выбрать элемент, перетащив указатель мыши на элемент списка и отпустив кнопку.                                                                                                                                                          |
| [**WM \_ нккреате**](/windows/desktop/winmsg/wm-nccreate)                        | Выделяет внутреннюю структуру данных, используемую процедурой окна поля со списком.                                                                                                                                                                                                                                                                                                         |
| [**WM \_ нкдестрой**](/windows/desktop/winmsg/wm-ncdestroy)                      | Освобождает ресурсы, выделенные в ответ на [**сообщение \_ нккреате WM**](/windows/desktop/winmsg/wm-nccreate) .                                                                                                                                                                                                                                                                                         |
| [**WM \_ Paint**](/windows/desktop/gdi/wm-paint)                                 | Закрашивает недействительную область поля со списком. Если аргумент *wParam* не **равен null**, предполагается, что он является маркером контекста устройства (DC), передаваемым из функции подкласса. В процедуре окна используется указанный контроллер домена вместо вызова [**бегинпаинт**](/windows/desktop/api/winuser/nf-winuser-beginpaint) и [**ендпаинт**](/windows/desktop/api/winuser/nf-winuser-endpaint).                                                                                          |
| [**\_Вставка WM**](/windows/desktop/dataxchg/wm-paste)                            | Заменяет выделение правки содержимым буфера обмена. В простых и раскрывающихся полях со списком элемент управления "поле ввода" обрабатывает это сообщение. В раскрывающихся списках окна процедура Window возвращает значение CB \_ Err.                                                                                                                                                                         |
| [**WM \_ SETFOCUS**](/windows/desktop/inputdev/wm-setfocus)                      | Устанавливает фокус на элемент управления Edit или в раскрывающихся списках, инвертирует поле выбора и включает курсор в окне списка.                                                                                                                                                                                                                                               |
| [**WM \_ сетфонт**](/windows/desktop/winmsg/wm-setfont)                          | Сохраняет заданный маркер шрифта во внутренней структуре, корректирует размеры поля выбора и списка, а также делает недействительным окно поля со списком. Текст в поле выбора и список отображается в сохраненном шрифте.                                                                                                                                                     |
| [**WM \_ сетредрав**](/windows/desktop/gdi/wm-setredraw)                         | Задает или очищает флаг перерисовки. Если флажок перерисовать снят, поле со списком не будет перерисовываться, пока не будет установлен флаг.                                                                                                                                                                                                                                                           |
| [**WM \_ SETTEXT**](/windows/desktop/winmsg/wm-settext)                          | Задает содержимое элемента управления "поле ввода". В простых и раскрывающихся полях со списком элемент управления "поле ввода" обрабатывает это сообщение. В раскрывающихся списках окна процедура Window возвращает значение CB \_ Err.                                                                                                                                                                                                  |
| [**\_Размер WM**](/windows/desktop/winmsg/wm-size)                                | При необходимости изменяет размер дочерних окон.                                                                                                                                                                                                                                                                                                                                             |
| [**WM \_ сискэйдовн**](/windows/desktop/inputdev/wm-syskeydown)                  | Открывает или закрывает раскрывающийся список в зависимости от того, какая клавиша со стрелкой нажата пользователем.                                                                                                                                                                                                                                                                                                    |



 

Все остальные сообщения передаются функции [**дефвиндовпрок**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) для обработки по умолчанию.

 

 