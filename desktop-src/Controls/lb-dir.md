---
title: Сообщение LB_DIR (Winuser. h)
description: Добавляет имена в список, отображаемый списком. В сообщении добавляются имена каталогов и файлов, соответствующие заданной строке и набору атрибутов файлов. Команда балансировки нагрузки \_ также может добавлять в список буквы подключенных дисков.
ms.assetid: 5ec134e9-fe42-4cc0-bdea-fa5e66c218f6
keywords:
- элементы управления Windows сообщений LB_DIR
topic_type:
- apiref
api_name:
- LB_DIR
api_location:
- Winuser.h
api_type:
- HeaderDef
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: f3add3c0ea14c637e0240ab296095bcc720aff9efb4c3e8e99a2f3de7019a711
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118671670"
---
# <a name="lb_dir-message"></a>\_Сообщение с каталогом балансировки

Добавляет имена в список, отображаемый списком. В сообщении добавляются имена каталогов и файлов, соответствующие заданной строке и набору атрибутов файлов. **Фунтов \_ DIR** также может добавлять в список буквы подключенных дисков.

## <a name="parameters"></a>Параметры

<dl> <dt>

*wParam* 
</dt> <dd>

Атрибуты файлов или каталогов, добавляемых в список. Этот параметр может принимать одно или несколько следующих значений.



| Значение                                                                                                                                                         | Значение                                                                                                                                        |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="DDL_ARCHIVE"></span><span id="ddl_archive"></span><dl> <dt>**\_Архив DDL**</dt> </dl>       | Включает архивные файлы.<br/>                                                                                                            |
| <span id="DDL_DIRECTORY"></span><span id="ddl_directory"></span><dl> <dt>**\_Каталог DDL**</dt> </dl> | Включает подкаталоги. Имена вложенных подкаталогов заключаются в квадратные скобки ( \[ \] ).<br/>                                                |
| <span id="DDL_DRIVES"></span><span id="ddl_drives"></span><dl> <dt>**\_диски DDL**</dt> </dl>          | Все сопоставленные диски добавляются в список. Диски перечислены в формате \[ - *x* - \] , где *x* — буква диска.<br/>                    |
| <span id="DDL_EXCLUSIVE"></span><span id="ddl_exclusive"></span><dl> <dt>**\_эксклюзивный DDL**</dt> </dl> | Включает только файлы с указанными атрибутами. По умолчанию файлы для чтения и записи перечисляются, даже если \_ не указано значение DDL ReadWrite.<br/> |
| <span id="DDL_HIDDEN"></span><span id="ddl_hidden"></span><dl> <dt>**\_скрытый DDL**</dt> </dl>          | Включает скрытые файлы.<br/>                                                                                                              |
| <span id="DDL_READONLY"></span><span id="ddl_readonly"></span><dl> <dt>**DDL \_ ReadOnly**</dt> </dl>    | Включает файлы только для чтения.<br/>                                                                                                           |
| <span id="DDL_READWRITE"></span><span id="ddl_readwrite"></span><dl> <dt>**DDL \_ ReadWrite**</dt> </dl> | Включает файлы для чтения и записи без дополнительных атрибутов. Это параметр по умолчанию.<br/>                                               |
| <span id="DDL_SYSTEM"></span><span id="ddl_system"></span><dl> <dt>**\_система DDL**</dt> </dl>          | Включает системные файлы.<br/>                                                                                                              |



 

</dd> <dt>

*lParam* 
</dt> <dd>

Указатель на строку, завершающуюся нулем, которая указывает абсолютный путь, относительный путь или имя файла. Абсолютный путь может начинаться с буквы диска (например, d: \) или UNC-имени (например, \\ \\ *MachineName* \\ *ShareName*).

Если строка указывает имя файла или каталог с атрибутами, заданными параметром *wParam* , то имя файла или каталога добавляется в список. Если имя файла или каталога содержит подстановочные знаки (? или \* ), все файлы или каталоги, которые соответствуют выражению-шаблону и имеют атрибуты, заданные параметром *wParam* , добавляются в список.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Если сообщение прошло удачно, возвращаемое значение представляет собой отсчитываемый от нуля индекс последнего имени, добавленного в список.

Если возникает ошибка, возвращается значение фунтов \_ Err. Если недостаточно места для хранения новых строк, возвращается значение фунтов \_ еррспаце.

## <a name="remarks"></a>Remarks

Сообщение [**\_ инитстораже балансировки нагрузки**](lb-initstorage.md) помогает ускорить инициализацию списков с большим количеством элементов (более 100). Он резервирует указанный объем памяти, чтобы последующие сообщения с **\_ каталогом балансировки нагрузки** занимают кратчайшее время. Для параметров *wParam* и *lParam* можно использовать оценки. При чрезмерной оценке выделяется дополнительный объем памяти. Если недооценивать, то для элементов, превышающих запрошенный объем, используется нормальное выделение.

Если параметр *wParam* включает \_ флаг DDL-каталога и *lParam* указывает все подкаталоги каталога первого уровня, например C: \\ temp \\ \* , список всегда будет содержать запись ".." для корневого каталога. Это справедливо даже в том случае, если корневой каталог имеет скрытые или системные атрибуты и \_ \_ не указаны системные флаги DDL Hidden и DDL. Корневой каталог тома NTFS содержит скрытые и системные атрибуты.

В списке отображаются длинные имена файлов, если они есть.

Для приложения ANSI система преобразует текст в поле со списком в Юникод с помощью команды CP \_ ACP. Это может вызвать проблемы. например, символы латиницы с диакритическими знаками в списке не в юникоде в японском Windows будут выступать из неискаженных символов. Чтобы устранить эту проблему, либо скомпилируйте приложение как Юникод, либо используйте список, рисуемый владельцем.

## <a name="requirements"></a>Requirements (Требования)



| Требование | Значение |
|-------------------------------------|----------------------------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows \[Только классические приложения Vista\]<br/>                                                           |
| Минимальная версия сервера<br/> | Windows Только для \[ настольных приложений сервера 2003\]<br/>                                                     |
| Header<br/>                   | <dl> <dt>Winuser. h (включает Windows. h)</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[**длгдирлист**](/windows/desktop/api/Winuser/nf-winuser-dlgdirlista)
</dt> </dl>

 

 





