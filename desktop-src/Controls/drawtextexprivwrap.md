---
title: Функция Дравтекстекспривврап
description: Рисует форматированный текст в указанном прямоугольнике. Эта функция заключает в оболочку вызов Дравтекстекс.
ms.assetid: 3212282c-1adb-4f7e-b4d7-7d833b26ac60
keywords:
- элементы управления Windows функции дравтекстекспривврап
topic_type:
- apiref
api_name:
- DrawTextExPrivWrap
api_location:
- Comctl32.dll
api_type:
- DllExport
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 3381cd7aef94556cf80ddfc3ad828477e3a29c0fd57601ad27ff735d7b2f58f2
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119916334"
---
# <a name="drawtextexprivwrap-function"></a>Функция Дравтекстекспривврап

\[**дравтекстекспривврап** доступен в Windows XP с пакетом обновления 2 (SP2). Он может быть изменен или недоступен в последующих версиях. Вместо этого рекомендуется использовать [**дравтекстекс**](/windows/desktop/api/winuser/nf-winuser-drawtextexa) напрямую.\]

Рисует форматированный текст в указанном прямоугольнике. Эта функция заключает в оболочку вызов [**дравтекстекс**](/windows/desktop/api/winuser/nf-winuser-drawtextexa).

## <a name="syntax"></a>Синтаксис


```C++
int WINAPI DrawTextExPrivWrap(
  _In_    HDC              hdc,
  _Inout_ LPTSTR           lpchText,
  _In_    int              cchText,
  _Inout_ LPRECT           lprc,
  _In_    UINT             dwDTFormat,
  _In_    LPDRAWTEXTPARAMS lpDTParams
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*HDC* \[ окне\]
</dt> <dd>

Тип: **[ **HDC**](/windows/desktop/WinProg/windows-data-types)**

Маркер контекста устройства, в котором выполняется рисование.

</dd> <dt>

*лпчтекст* \[ в, out\]
</dt> <dd>

Тип: **[ **LPTSTR**](/windows/desktop/WinProg/windows-data-types)**

Указатель на буфер, содержащий текст для рисования. Если параметр *кчтекст* имеет значение-1, строка должна завершаться нулем.

Если *двдтформат* включает DT \_ модифистринг, функция может добавить в эту строку до четырех дополнительных символов. Буфер, содержащий строку, должен быть достаточно большим, чтобы разместить эти дополнительные символы.

</dd> <dt>

*кчтекст* \[ окне\]
</dt> <dd>

Тип: **int**

Длина строки, на которую указывает *лпчтекст*. Если *кчтекст* имеет значение-1, то предполагается, что параметр *лпчтекст* является указателем на строку, завершающимся нулем, а [**дравтекстекс**](/windows/desktop/api/winuser/nf-winuser-drawtextexa) автоматически вычислит число символов.

</dd> <dt>

*ЛПРК* \[ в, out\]
</dt> <dd>

Тип: **лпрект**

Указатель на структуру [**Rect**](/previous-versions//dd162897(v=vs.85)) , содержащую прямоугольник в логических координатах, в котором должен быть отформатирован текст.

</dd> <dt>

*двдтформат* \[ окне\]
</dt> <dd>

Тип: **[ **uint**](/windows/desktop/WinProg/windows-data-types)**

Параметры форматирования. Полный список параметров см. в документации по [**дравтекстекс**](/windows/desktop/api/winuser/nf-winuser-drawtextexa) .

</dd> <dt>

*лпдтпарамс* \[ окне\]
</dt> <dd>

Тип: **лпдравтекстпарамс**

Указатель на структуру [**дравтекстпарамс**](/windows/win32/api/winuser/ns-winuser-drawtextparams) , указывающую дополнительные параметры форматирования. Этот параметр может принимать значение **NULL**.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Тип: **int**

Если функция выполняется удачно, возвращаемое значение — это высота текста в логических единицах. Если указан параметр **DT \_ vCenter** или **DT \_ Bottom** , возвращаемое значение является смещением от **верхнего** элемента *ЛПРК* до конца отображаемого текста.

Если функция выполняется неудачно, возвращается нулевое значение.

Дополнительные сведения об ошибке можно получить, вызвав [**GetLastError**](/windows/desktop/api/errhandlingapi/nf-errhandlingapi-getlasterror).

## <a name="remarks"></a>Комментарии

**Дравтекстекспривврап** не экспортируется по имени или объявлено в общедоступном файле заголовка. Чтобы использовать его, необходимо использовать [**GetProcAddress**](/windows/desktop/api/libloaderapi/nf-libloaderapi-getprocaddress) и запросить порядковый номер 416 из ComCtl32.dll для получения указателя на функцию.

Дополнительные замечания см. в разделе [**дравтекстекс**](/windows/desktop/api/winuser/nf-winuser-drawtextexa).

## <a name="requirements"></a>Requirements (Требования)



| Требование | Значение |
|-------------------------------------|----------------------------------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows \[Только классические приложения Vista\]<br/>                                                                 |
| Минимальная версия сервера<br/> | Windows Только для \[ настольных приложений сервера 2003\]<br/>                                                           |
| DLL<br/>                      | <dl> <dt>Comctl32.dll (версия 6,0 или более поздняя)</dt> </dl> |



 

