---
title: Сведения об элементах управления "Изменить"
description: Элемент управления "поле ввода" — это прямоугольное окно элемента управления, обычно используемое в диалоговом окне, чтобы пользователь может вводить и редактировать текст.
ms.assetid: 43baa58a-bc00-47c0-a3fe-413d50f08c29
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0506666f3b47ae85386fe995e66cd41c4ae252452bcd40ea7ebfeb089fa1ffad
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "117833925"
---
# <a name="about-edit-controls"></a>Сведения об элементах управления "Изменить"

*Элемент управления "поле ввода* " — это прямоугольное окно элемента управления, обычно используемое в диалоговом окне, чтобы пользователь может вводить и редактировать текст.

Элементы управления "поле ввода" поддерживают кодировку Юникода, в которой символы являются двумя байтами, и кодировками ANSI, в которых символы являются одним байтом. Дополнительные сведения о кодировках Юникод и ANSI см. в разделе [Юникод и](/windows/desktop/Intl/unicode-and-character-sets)кодировки.

*Элементы управления Rich Edit* поддерживают множество функций, недоступных в элементах управления "изменение системы". Дополнительные сведения см. в разделе [элементы управления Rich Edit](rich-edit-controls.md).

В этом обзоре рассматриваются следующие темы.

-   [Изменение функций элемента управления](#edit-control-features)
-   [Изменение типов и стилей элементов управления](#edit-control-types-and-styles)
    -   [Многострочный стиль](#multiline-style)
    -   [Стили прокрутки](#scrolling-styles)
    -   [Стили выравнивания](#alignment-styles)
    -   [Стили текста и ввода](#text-and-input-styles)
    -   [Стили оформления](#visual-styles)
-   [Текстовый буфер](#the-text-buffer)
    -   [Выделение текстового буфера](#allocating-a-text-buffer)
    -   [Инициализация текстового буфера](#initializing-a-text-buffer)
    -   [Создание текстового буфера только для чтения](#making-a-text-buffer-read-only)
-   [Изменение прямоугольника форматирования](#changing-the-formatting-rectangle)
-   [Изменение сообщений об уведомлениях элемента управления](#edit-control-notification-messages)
-   [Изменение элемента управления обработка сообщений по умолчанию](#edit-control-default-message-processing)

## <a name="edit-control-features"></a>Изменение функций элемента управления

При выборе элемента управления "поле ввода" отображается мигающий курсор, указывающий точку вставки. Затем пользователь может ввести текст, переместить точку вставки или выбрать текст для редактирования с помощью клавиатуры или мыши. Элемент управления "поле ввода" отправляет коды уведомлений в свое родительское окно в виде [**\_ командных сообщений WM**](/windows/desktop/menurc/wm-command) . Дополнительные сведения о сообщениях из элемента управления "изменение" см. в разделе [изменение управляющих сообщений с уведомлениями](#edit-control-notification-messages). Родительское окно может отсылать сообщения в элемент управления "поле ввода" в диалоговом окне путем вызова функции [**сенддлгитеммессаже**](/windows/desktop/api/winuser/nf-winuser-senddlgitemmessagea) . Некоторые сообщения также могут отправляться с помощью предопределенных макросов.

Система предоставляет как однострочные, так и многострочные элементы управления редактирования. Элементы управления "поле ввода" относятся к классу окна редактирования.

Поле со списком — это элемент управления, который объединяет большую часть функциональных возможностей элемента управления "поле ввода" и списка. В поле со списком элемент управления "поле ввода" отображает текущее выделение, а в списке отображаются параметры, которые пользователь может выбрать. Дополнительные сведения о полях со списками см. в разделе поля [со списком](combo-boxes.md).

Многие разработчики используют диалоговые окна, предоставляемые в библиотеке общих диалоговых окон (Comdlg32.dll) для выполнения задач, которые в противном случае могут потребовать настройки элементов управления редактированием. Дополнительные сведения об общих диалоговых окнах см. в разделе [Библиотека общих диалоговых](/windows/desktop/dlgbox/common-dialog-box-library)окон.

## <a name="edit-control-types-and-styles"></a>Изменение типов и стилей элементов управления

Отдельный элемент управления "поле ввода" может одновременно иметь несколько стилей. Большинство разработчиков используют средства для разработки диалоговых окон, поэтому может не потребоваться явно указывать стили элемента управления Edit. Если приложение создает элемент управления "поле ввода" с помощью функции [**CreateWindow**](/windows/desktop/api/winuser/nf-winuser-createwindowa) или [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) , то он должен указывать эти стили элемента управления Edit. Таблицу стилей элемента управления Edit см. в разделе [Edit Control Styles](edit-control-styles.md).

Каждый элемент управления "поле ввода" задает сочетание значений стиля, определяющих внешний вид и функции элемента управления "поле ввода". Значения стиля могут устанавливать внешний вид однострочного или текстового элемента управления Edit; Выровняйте текст в элементе управления; и определяют, как и даже если текст отображается в элементе управления "поле ввода".

### <a name="multiline-style"></a>Многострочный стиль

Для элементов управления "Редактирование" существует два стиля линий. Значение по умолчанию — однострочный элемент управления Edit. Приложение также может создать многострочный элемент управления Edit с помощью [**\_ многострочного стиля ES**](edit-control-styles.md) .

### <a name="scrolling-styles"></a>Стили прокрутки

Стиль [**\_ аутохскролл**](edit-control-styles.md) указывает элементу управления "поле ввода" прокручивать текст по горизонтали, когда это необходимо, по мере ввода пользователем текста. Если этот стиль не указан, элемент управления "поле ввода" не может прокручиваться по горизонтали. Для однострочных элементов управления "поле ввода" без **\_ аутохскролл** принимаются только символы, которые заполняют видимую область элемента управления. Для элементов управления многострочного редактирования без **\_ аутохскролл** текст переносится на следующую строку, когда пользователь вводит больше текста, чем может быть отображено в одной строке. Если для многострочного элемента управления Edit **\_ аутохскролл** задано значение ES, элемент управления прокручивается по горизонтали, когда пользователь вводит больше текста, чем может быть отображено в одной строке; текст не будет переноситься.

[**ES \_ АУТОХСКРОЛЛ**](edit-control-styles.md) автоматически применяется к левому, многострочному элементу управления Edit, имеющему стиль [**WS \_ HSCROLL**](/windows/desktop/winmsg/window-styles) . Иными словами, все вертикально-многострочные элементы управления Edit, имеющие горизонтальную полосу прокрутки, автоматически прокручиваются по горизонтали.

[**ES \_ АУТОХСКРОЛЛ**](edit-control-styles.md) игнорируется многострочным элементом управления Edit, не выравниваемая по левому краю. Центрированные и выровненные по правому краю многострочные элементы управления для изменения не могут быть прокручиваться горизонтально

Стиль [**\_ аутовскролл**](edit-control-styles.md) указывает элементу управления "поле ввода" прокручивать текст по вертикали, когда пользователь вводит больше текста, чем может быть отображено в элементе управления "поле ввода". Этот стиль применяется только к многострочным элементам управления редактирования. Если этот стиль не указан для многострочного поля ввода, элемент управления "поле ввода" не будет принимать входные данные при вводе большего текста, чем может быть отображено.

### <a name="alignment-styles"></a>Стили выравнивания

Существует три стиля, которые приводят к выровняйте текста в элементе управления "поле ввода". Стили [**« \_ левый**](edit-control-styles.md)», « [**\_ центр ES**](edit-control-styles.md)» и «ES» определяют, выровнен ли текст по левому краю, по центру или по правому, соответственно. [**\_**](edit-control-styles.md) Выровненные по правому краю и центрированные элементы управления для многострочного редактирования не могут иметь стиль [**\_ аутохскролл**](edit-control-styles.md) , т. е. они не могут прокручиваться по горизонтали.

Хотя стиль выравнивания элемента управления Edit нельзя изменить динамически, для обхода этого ограничения можно использовать следующие методы.

-   Создайте несколько элементов управления "поле ввода", по одному для каждого стиля, необходимых приложению, и переключаться между ними по мере необходимости.
-   Создайте новый элемент управления "поле ввода" с нужным стилем, так как он нужен, и переключитесь на новый элемент управления.

### <a name="text-and-input-styles"></a>Стили текста и ввода

Приложение может использовать стили для указания способа отображения текста в элементе управления "поле ввода". Стиль "ES" в [**\_ нижнем регистре**](edit-control-styles.md) приводит к преобразованию всех символов верхнего регистра в элемент управления "поле ввода" в нижний регистр. Аналогично, [**стиль \_ прописных букв**](edit-control-styles.md) в верхнем регистре приводит к преобразованию всех символов нижнего регистра в верхний регистр.

Дополнительные сведения о наборах символов см. в разделе [Юникод и](/windows/desktop/Intl/unicode-and-character-sets)кодировки.

Стиль [**\_ номера ES**](edit-control-styles.md) позволяет вводить только цифры в элементе управления "поле ввода".

Стиль «только [**\_ для**](edit-control-styles.md) чтения» преобразует элемент управления «поле ввода» в состояние «только чтение».

В поле со стилем [**\_ пароль ES**](edit-control-styles.md) все символы в однострочном элементе управления «поле ввода» отображаются как звездочки. Приложение может определить другой символ, который будет отображаться с помощью сообщения [**EM \_ сетпассвордчар**](em-setpasswordchar.md) , как описано далее в этом разделе.

Если элемент управления "поле ввода" относится к Comctl32.dll версии 6, символом по умолчанию для [**стиля \_ "ES**](edit-control-styles.md) " является черный круг. В элементах управления "поле ввода" из предыдущих версий стандартных элементов управления символом по умолчанию является звездочка.

стиль [**\_ оемконверт**](edit-control-styles.md) приводит к тому, что текст, указанный в элементе управления "поле ввода", преобразуется из Windows символов в набор символов OEM, а затем обратно в Windows набор символов. это обеспечивает правильное преобразование символов, когда приложение вызывает функцию [**чартуем**](/windows/desktop/api/winuser/nf-winuser-chartooema) для преобразования строки Windows в элементе управления "поле ввода" в символы OEM. **ES \_ ОЕМКОНВЕРТ** наиболее удобен в элементах управления для редактирования, содержащих имена файлов, которые будут использоваться в файловых системах, не поддерживающих Юникод.

Для многострочного элемента управления "поле ввода" в диалоговом окне стиль [**\_ вантретурн**](edit-control-styles.md) заставляет элемент управления вставлять символ возврата каретки, когда пользователь нажимает клавишу ВВОД при вводе текста. Если этот стиль не указан, нажатие клавиши ВВОД приведет к тому же результату, что и нажатие кнопки «отправить по умолчанию» в диалоговом окне. Без **\_ вантретурн** пользователь должен нажать клавиши CTRL + ВВОД, чтобы вставить символ возврата каретки. Сведения о переносе слов и разрывов строк см. в разделе [Обработка переносов и разрывов строк](edit-controls-text-operations.md).

### <a name="visual-styles"></a>Стили оформления

Стиль [**\_ нохидесел**](edit-control-styles.md) приводит к тому, что выделенный текст остается выделенным, если элемент управления "поле ввода" не имеет фокуса. Без этого стиля выделенный текст теряет выделение при потере фокуса элементом управления.

По умолчанию элемент управления "изменение" не имеет границы. Чтобы назначить его, приложение может использовать стиль окна [**\_ границы WS**](/windows/desktop/winmsg/window-styles) .

Чтобы использовать стили оформления с элементами управления "поле ввода", приложение должно включать манифест и вызывать [**иниткоммонконтролс**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrols) в начале программы. Сведения о визуальных стилях см. в разделе [стили визуальных](themes-overview.md)элементов. Дополнительные сведения о манифестах см. в разделе [Включение визуальных стилей](cookbook-overview.md).

## <a name="the-text-buffer"></a>Текстовый буфер

Система сохраняет текст элемента управления "поле ввода" в буфере и при необходимости копирует его в элемент управления.

В следующих разделах описывается, как система выделяет и инициализирует буфер и изменяет его характеристики:

-   [Выделение текстового буфера](#allocating-a-text-buffer)
-   [Инициализация текстового буфера](#initializing-a-text-buffer)
-   [Создание текстового буфера только для чтения](#making-a-text-buffer-read-only)

### <a name="allocating-a-text-buffer"></a>Выделение текстового буфера

Когда система создает элемент управления "поле ввода", она автоматически создает текстовый буфер, устанавливает его первоначальный размер и при необходимости увеличивает размер. Размер может доставлять до предопределенного предела примерно 32 КБ (КБ) для однострочных элементов управления редактирования. Поскольку это ограничение может измениться, оно называется мягким ограничением. Приложение может установить жесткое ограничение на размер буфера, отправив сообщение [**EM \_ сетлимиттекст**](em-setlimittext.md) в элемент управления Edit. Если размер буфера превышает предельное значение, система отправляет код уведомления [en \_ еррспаце](en-errspace.md) . Приложение может получить ограничение текущего текста, отправив сообщение [**\_ жетлимиттекст EM**](em-getlimittext.md) .

Как правило, система создает буфер управления редактирования в диалоговом окне, используя память за пределами сегмента данных приложения. Приложение может отключить это поведение при выделении по умолчанию и создать буфер из своей локальной кучи с помощью \_ стиля DS локаледит (см. раздел «стили шаблонов диалоговых окон» в [диалоговом окне «о программе](/windows/desktop/dlgbox/about-dialog-boxes)») при создании элемента управления «поле ввода». Приложение, использующее \_ стиль локаледит для DS, отвечает за выделение всех буферов. Чтобы сделать начальное выделение, приложение может вызвать функцию [**локалаллок**](/windows/desktop/api/winbase/nf-winbase-localalloc) и передать возвращенный маркер буфера в элемент управления "поле ввода", отправив ему сообщение [**\_ сесандле EM**](em-sethandle.md) . Для выполнения последующих выделений (например, в ответ на код уведомления [en \_ еррспаце](en-errspace.md) ) приложение должно сохранить текущее содержимое буфера (при необходимости) и получить новый буфер следующим образом.

Чтобы сохранить текущий буфер и получить новый, выполните следующую процедуру.

1.  Получение маркера памяти, выделенного для текста в многострочном элементе управления Edit, путем отправки элемента управления [**в \_ сообщении EM**](em-gethandle.md) .
2.  Освободите буфер, вызвав функцию [**функции LocalFree**](/windows/desktop/api/winbase/nf-winbase-localfree) .
3.  Получите новый буфер (и буферный), вызвав [**локалаллок**](/windows/desktop/api/winbase/nf-winbase-localalloc).
4.  Присвойте маркеру буфера системе, отправив элемент управления сообщение [**EM \_ сесандле**](em-sethandle.md) .

Сообщения [**EM \_ Сесандле**](em-sethandle.md) и [**EM \_**](em-gethandle.md) применяются только к многострочным элементам управления Edit.

Приложение, которое использует поведение выделения по умолчанию (то есть не использует \_ стиль DS локаледит (см. раздел «стили шаблонов диалоговых окон» в [диалоговом окне «о программе](/windows/desktop/dlgbox/about-dialog-boxes)»)), не должен передавать сообщения [**EM \_ сесандле**](em-sethandle.md) и [**EM \_**](em-gethandle.md) в элемент управления "поле ввода".

Отправка сообщения [**EM \_ сесандлеа**](em-sethandle.md) имеет несколько побочных эффектов: он очищает флаг отмены (что делает сообщение [**EM \_ канундо**](em-canundo.md) возвращает ноль), очищает флаг изменения (делая возвратное сообщение [**EM \_**](em-getmodify.md) возврата нуля) и перерисовывает окно редактирования элемента управления.

### <a name="initializing-a-text-buffer"></a>Инициализация текстового буфера

Приложение может инициализировать или повторно инициализировать текстовый буфер элемента управления "поле ввода", вызвав функцию [**сетдлгитемтекст**](/windows/desktop/api/winuser/nf-winuser-setdlgitemtexta) . Приложение может получить содержимое текстового буфера, вызвав функцию [**жетдлгитемтекст**](/windows/desktop/api/winuser/nf-winuser-getdlgitemtexta) .

### <a name="making-a-text-buffer-read-only"></a>Создание текстового буфера только для чтения

Для каждого элемента управления "поле ввода" система поддерживает флаг только для чтения, который указывает, доступен ли текст элемента управления для чтения и записи (по умолчанию) или только для чтения. Приложение может установить флаг чтения и записи или флаг только для чтения для текста, отправив элемент управления сообщение [**EM \_ SETREADONLY**](em-setreadonly.md) . Чтобы определить, доступен ли элемент управления "поле ввода" только для чтения, приложение может вызвать функцию [**жетвиндовлонг**](/windows/desktop/api/winuser/nf-winuser-getwindowlonga) с помощью константы **\_ стиля ГВЛ** . Сообщение **EM \_ SETREADONLY** применяется к элементам управления однострочного и многострочного редактирования.

## <a name="changing-the-formatting-rectangle"></a>Изменение прямоугольника форматирования

Видимость текста элемента управления "поле ввода" регулируется размерами его прямоугольника окна и его прямоугольником форматирования. Прямоугольник окна — это клиентская область окна, содержащая элемент управления "поле ввода". Прямоугольник форматирования — это конструкция, поддерживаемая системой для форматирования текста, отображаемого в прямоугольнике окна. При первом отображении элемента управления редактирования два прямоугольника идентичны на экране. Приложение может сделать прямоугольник форматирования больше, чем прямоугольник окна (таким образом, ограничивая видимость текста элемента управления "поле ввода") или меньше, чем прямоугольник окна (таким образом, создавая дополнительное пустое пространство вокруг текста).

Приложение может задать координаты прямоугольника форматирования элемента управления Edit, отправив ему сообщение [**\_ SETRECT EM**](em-setrect.md) . Сообщение **EM \_ SETRECT** также автоматически перерисовывает текст элемента управления "поле ввода". Чтобы установить координаты прямоугольника форматирования без перерисовки текста элемента управления, приложение может отправить элемент управления с сообщением [**\_ сетректнп EM**](em-setrectnp.md) . Чтобы получить координаты прямоугольника форматирования, приложение может отправить элемент управления в сообщении [**EM \_**](em-getrect.md) . Эти сообщения относятся только к элементам управления для многострочного редактирования.

## <a name="edit-control-notification-messages"></a>Изменение сообщений об уведомлениях элемента управления

Пользователь выполняет запросы на редактирование с помощью клавиатуры и мыши. Система отправляет каждый запрос в родительское окно элемента управления правки в виде сообщения [**\_ командной строки WM**](/windows/desktop/menurc/wm-command) . В сообщении содержится идентификатор элемента управления Edit в младшем слове параметра *wParam* , маркер элемента управления "поле ввода" в параметре *lParam* , а также код уведомления элемента управления правки, соответствующий действию пользователя в высоком порядке в слове параметра *wParam* .

Приложение должно проверять коды уведомлений, сопровождающие каждое сообщение уведомления, и отвечать соответствующим образом. В следующей таблице перечислены все коды уведомлений элемента управления правки и действия, которые его создают.



| Код уведомления                 | Рекомендуемые действия                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|-----------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [\_изменение EN](en-change.md)       | Пользователь изменил текст в элементе управления "поле ввода". Система обновляет отображение перед отправкой этого кода уведомления (в отличие [от \_ обновления для английского](en-update.md)языка).                                                                                                                                                                                                                                                                                                                                                                                                                     |
| [EN \_ еррспаце](en-errspace.md)   | Элемент управления "поле ввода" не может выделить достаточно памяти для удовлетворения конкретного запроса.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [EN \_ HSCROLL](en-hscroll.md)     | Пользователь щелкнул горизонтальную полосу прокрутки элемента управления Edit. Система отправляет этот код уведомления перед обновлением экрана.                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| [EN \_ киллфокус](en-killfocus.md) | Пользователь выбрал другой элемент управления.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| [EN \_ макстекст](en-maxtext.md)     | При вставке текста пользователь превысил указанное число символов для элемента управления "поле ввода". Вставка была усечена. Этот код уведомления также отправляется, если в элементе управления "поле ввода" отсутствует стиль [**\_ аутохскролл**](edit-control-styles.md) , а число вставляемых символов превышает ширину элемента управления "поле ввода", или если в элементе управления "поле ввода" отсутствует стиль [**\_ аутовскролл**](edit-control-styles.md) , а общее число вставляемых строк превышает высоту элемента управления "поле ввода". |
| [" \_ en"](en-setfocus.md)   | Пользователь выбрал этот элемент управления "поле ввода".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| [\_Обновление EN](en-update.md)       | Пользователь изменил текст в элементе управления "поле ввода", и система собирается отобразить новый текст. Система отправляет этот код уведомления после форматирования текста, но перед его отображением, чтобы приложение может изменить размер окна элемента управления редактированием.                                                                                                                                                                                                                                                                                                                   |
| [EN \_ VSCROLL](en-vscroll.md)     | Пользователь щелкнул вертикальную полосу прокрутки элемента управления или прокручивает колесико мыши над элементом управления "поле ввода". Система отправляет этот код уведомления перед обновлением экрана.                                                                                                                                                                                                                                                                                                                                                                                        |
| [EN \_ сеарчвеб](en-searchweb.md) | Пользователь щелкнул запись контекстного меню "Поиск в Интернете". Система отправляет это уведомление после запуска браузера.                                                                                                                                                                                                                                                                                                                                                                                        |



 

Кроме того, система отправляет сообщение [**WM \_ ктлколоредит**](wm-ctlcoloredit.md) в родительское окно элемента управления редактирования перед прорисовкой элемента управления Edit. Это сообщение содержит маркер отображаемого контекста элемента управления Edit (DC) и маркер дочернего окна. Родительское окно может использовать эти маркеры для изменения цветов текста и фона элемента управления правки.

## <a name="edit-control-default-message-processing"></a>Изменение элемента управления обработка сообщений по умолчанию

Процедура окна для предопределенного класса элемента управления "поле ввода" выполняет обработку по умолчанию для всех сообщений, которые не обрабатывает процедура управления Edit. Когда процедура редактирования элемента управления возвращает **false** для любого сообщения, предопределенная процедура окна проверяет сообщения и выполняет следующие действия по умолчанию.



| Message                                                   | Действие по умолчанию                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|-----------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**EM \_ канундо**](em-canundo.md)                         | Возвращает **значение true** , если операция редактирования элемента управления может быть отменена.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| [**EM \_ чарфромпос**](em-charfrompos.md)                 | Возвращает индекс символа и строку индекса, ближайшего к указанной точке.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [**EM \_ емптюндобуффер**](em-emptyundobuffer.md)         | Очищает буфер отмены и устанавливает флаг отмены, полученный сообщением [**EM \_ канундо**](em-canundo.md) , в **значение false**. Система автоматически снимает флаг отмены всякий раз, когда элемент управления "поле ввода" получает сообщение [**WM \_ SETTEXT**](/windows/desktop/winmsg/wm-settext) или [**EM \_ сесандле**](em-sethandle.md) .                                                                                                                                                                                                                                                                                 |
| [**EM \_ фмтлинес**](em-fmtlines.md)                       | Добавляет или удаляет символы разрыва строки (два символа возврата каретки и перевода строки) к концам упакованных строк в многострочном элементе управления "поле ввода". Он не обрабатывается элементами управления редактирования с одной строкой.                                                                                                                                                                                                                                                                                                                                                                                     |
| [**EM \_ жетфирствисиблелине**](em-getfirstvisibleline.md) | Возвращает отсчитываемый от нуля индекс первого видимого символа в однострочном элементе управления "поле ввода" или Отсчитываемый от нуля индекс самой верхней видимой строки в многострочном элементе управления "поле ввода".                                                                                                                                                                                                                                                                                                                                                                                                      |
| [**EM \_**](em-gethandle.md)                     | Возвращает маркер, идентифицирующий буфер, содержащий текст многострочного поля редактирования. Он не обрабатывается элементами управления редактирования с одной строкой.                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| [**EM \_ жетлимиттекст**](em-getlimittext.md)               | Возвращает текущее ограничение текста в символах.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [**EM, \_ строка**](em-getline.md)                         | Копирует символы в однострочном элементе управления "поле ввода" в буфер и возвращает число скопированных символов. В многострочном элементе управления "поле ввода" получает строку текста из элемента управления и возвращает число скопированных символов.                                                                                                                                                                                                                                                                                                                                                      |
| [**EM \_ жетлинекаунт**](em-getlinecount.md)               | Возвращает число строк в элементе управления "поле ввода".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| [**длинные \_ поля EM**](em-getmargins.md)                   | Возвращает ширину левого и правого полей.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| [**EM, \_ изменение**](em-getmodify.md)                     | Возвращает флаг, указывающий, было ли изменено содержимое элемента управления "поле ввода".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| [**EM \_ жетпассвордчар**](em-getpasswordchar.md)         | Возвращает символ, используемый элементами управления "поле ввода" в сочетании со стилем [**\_ пароля ES**](edit-control-styles.md) .                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| [**EM \_**](em-getrect.md)                         | Возвращает координаты прямоугольника форматирования в элементе управления "поле ввода".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| [**EM \_ жетсел**](em-getsel.md)                           | Возвращает позиции начального и конечного символов текущего выделения в элементе управления "поле ввода".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| [**\_ДОбегунок EM**](em-getthumb.md)                       | Возвращает расположение ползунка в вертикальной полосе прокрутки в многострочном элементе управления "поле ввода".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [**EM \_ жетвордбреакпрок**](em-getwordbreakproc.md)       | Возвращает адрес текущей функции WordWrap в элементе управления "поле ввода".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [**EM \_ линефромчар**](em-linefromchar.md)               | Возвращает отсчитываемый от нуля номер строки в многострочном элементе управления Edit, который содержит указанный индекс символа. Это сообщение является обратным по отношению к сообщению [**\_ линеиндекс EM**](em-lineindex.md) . Он не обрабатывается элементами управления редактирования с одной строкой.                                                                                                                                                                                                                                                                                                                              |
| [**EM \_ линеиндекс**](em-lineindex.md)                     | Возвращает символ строки в многострочном элементе управления Edit. Это сообщение является обратным по отношению к сообщению [**\_ линефромчар EM**](em-linefromchar.md) . Он не обрабатывается элементами управления редактирования с одной строкой.                                                                                                                                                                                                                                                                                                                                                                            |
| [**EM \_ линеленгс**](em-linelength.md)                   | Возвращает длину однострочного элемента управления "поле ввода" в символах. В многострочном элементе управления "поле ввода" возвращает длину указанной строки в символах.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| [**EM \_ линескролл**](em-linescroll.md)                   | Прокручивает текст по вертикали в однострочном элементе управления "поле ввода" или по горизонтали в многострочном элементе управления "поле ввода" (если у элемента управления есть [**\_ левый**](edit-control-styles.md) стиль). Параметр *lParam* задает число строк для вертикальной прокрутки, начиная с текущей строки. Параметр *wParam* задает количество символов для горизонтальной прокрутки, начиная с текущего символа.                                                                                                                                                         |
| [**EM \_ посфромчар**](em-posfromchar.md)                 | Возвращает клиентские координаты указанного символа.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| [**EM \_ реплацесел**](em-replacesel.md)                   | Заменяет текущий выделенный фрагмент текстом в буфере, предоставляемом приложением, отправляет коды уведомлений для родительского окна EN и [en \_ ](en-change.md) и обновляет буфер отмены. [ \_ ](en-update.md)                                                                                                                                                                                                                                                                                                                                                              |
| [**\_прокрутка EM**](em-scroll.md)                           | Прокручивает текст по вертикали в многострочном элементе управления Edit. Это сообщение эквивалентно отправке сообщения [**WM \_ VSCROLL**](wm-vscroll.md) в элемент управления Edit. Он не обрабатывается элементами управления редактирования с одной строкой.                                                                                                                                                                                                                                                                                                                                                                 |
| [**EM \_ скроллкарет**](em-scrollcaret.md)                 | Прокручивает курсор на представление в элементе управления "поле ввода".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| [**EM \_ сетфонт**](em-setfontsize.md)                     | Не поддерживается.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| [**EM \_ сесандле**](em-sethandle.md)                     | Задает маркер для памяти, используемой в качестве текстового буфера, очищает буфер отмены, сбрасывает позиции прокрутки до нуля и перерисовывает окно.                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [**EM \_ сетлимиттекст**](em-setlimittext.md)               | Задает максимальное число символов, которые пользователь может ввести в элементе управления "поле ввода". Для однострочных элементов управления редактирования это значение равно либо 0x7FFFFFFE, либо значению параметра *wParam* , в зависимости от того, какое значение меньше. Для элементов управления многострочного редактирования это значение равно 1 или значению параметра *wParam* , в зависимости от того, какое значение меньше.<br/>                                                                                                                                                                                                                                          |
| [**EM \_ сетмаргинс**](em-setmargins.md)                   | Задает ширину левого и правого полей и перерисовывает элемент управления "поле ввода" для отражения новых полей.                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| [**EM \_ сетмодифи**](em-setmodify.md)                     | Задает или очищает флаг изменения, чтобы указать, был ли изменен элемент управления "поле ввода".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| [**EM \_ сетпассвордчар**](em-setpasswordchar.md)         | Определяет символ, используемый элементами управления "поле ввода" в сочетании со стилем [**\_ пароля ES**](edit-control-styles.md) .                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| [**EM \_ SETREADONLY**](em-setreadonly.md)                 | Задает или удаляет доступный только для чтения стиль ([**\_ ReadOnly**](edit-control-styles.md)) в элементе управления "поле ввода".                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| [**EM \_ SETRECT**](em-setrect.md)                         | Задает прямоугольник форматирования для многострочного элемента управления "поле ввода" и перерисовывает окно. Он не обрабатывается элементами управления редактирования с одной строкой.                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| [**EM \_ сетректнп**](em-setrectnp.md)                     | Задает прямоугольник форматирования для многострочного элемента управления "поле ввода", но не перерисовывает окно. Он не обрабатывается элементами управления редактирования с одной строкой.                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [**EM \_ сетсел**](em-setsel.md)                           | Выбирает диапазон символов в элементе управления «поле ввода», устанавливая начальные и конечные позиции.                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [**EM \_ сеттабстопс**](em-settabstops.md)                 | Задает позиции табуляции в многострочном элементе управления Edit. Он не обрабатывается элементами управления редактирования с одной строкой.                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [**EM \_ сетвордбреакпрок**](em-setwordbreakproc.md)       | Заменяет функцию WordWrap по умолчанию на определяемую приложением функцию WordWrap.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| [**\_Отмена EM**](em-undo.md)                               | Удаляет любой текст, который был только что вставлен или вставляет все удаленные символы, и устанавливает для него выделенный текст. При необходимости отправляет коды уведомлений о [коротком \_ обновлении](en-update.md) и [коротком \_ изменении](en-change.md) в родительское окно.                                                                                                                                                                                                                                                                                                                               |
| [**WM \_ char**](/windows/desktop/inputdev/wm-char)                          | Записывает символ в однострочный элемент управления "поле ввода" и отправляет коды уведомлений о [коротком \_ обновлении](en-update.md) и [коротком \_ изменении](en-change.md) в родительское окно. Записывает символ в многострочный элемент управления Edit. Обрабатывает сочетания клавиш для стандартных функций, таких как CTRL + C для копирования и CTRL + V для вставления. В многострочных элементах управления редактированием также вкладка «процессы» и клавиши CTRL + TAB для перемещения между элементами управления в диалоговом окне и вставки вкладок в многострочные элементы управления редактирования. Использует функцию [**мессажебип**](/windows/desktop/api/winuser/nf-winuser-messagebeep) для недопустимых символов. |
| [**WM \_ clear**](/windows/desktop/dataxchg/wm-clear)                        | Очищает текущий выбор (при наличии) в элементе управления "поле ввода". Если текущее выделение отсутствует, удаляет символ справа от курсора. Если пользователь нажмет клавишу SHIFT, он вырезает выделенный фрагмент в буфер обмена или удаляет символ слева от курсора, когда ничего не выделено. Если пользователь нажимает клавишу CTRL, он удаляет выделенный фрагмент или удаляет его до конца строки, когда нет выделения.                                                                                                                                               |
| [**\_копия WM**](/windows/desktop/dataxchg/wm-copy)                          | Копирует текст в буфер обмена, если этот стиль не является [**\_ паролем ES**](edit-control-styles.md). в этом случае сообщение возвращает ноль.                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| [**\_Создание WM**](/windows/desktop/winmsg/wm-create)                        | Создает элемент управления "поле ввода" и сообщает родительскому окну **значение true** для успешного выполнения или 1 для сбоя.                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| [**Вырезание WM \_**](/windows/desktop/dataxchg/wm-cut)                            | Вырезает выделенный фрагмент в буфер обмена или удаляет символ слева от курсора, если ничего не выбрано.                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| [**\_Включение WM**](/windows/desktop/winmsg/wm-enable)                        | Вызывает перерисовку прямоугольника серым цветом для однострочных элементов управления редактирования. Возвращает включенное состояние для однострочных и многострочных элементов управления "поле ввода".                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| [**WM \_ ерасебкгнд**](/windows/desktop/winmsg/wm-erasebkgnd)                | Заполняет окно многострочного элемента управления редактирования текущим цветом элемента управления "поле ввода".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| [**WM \_ жетдлгкоде**](/windows/desktop/dlgbox/wm-getdlgcode)                | Возвращает следующие значения: ДЛГК \_ вантчарс, длгк \_ ХАССЕТСЕЛ и длгк \_ вантарровс. В многострочных элементах управления редактирования он также возвращает ДЛГК \_ ванталлкэйс. Если пользователь нажимает ALT + BACKSPACE, он также возвращает ДЛГК \_ вантмессаже.                                                                                                                                                                                                                                                                                                                                                        |
| [**WM, \_ Шрифт**](/windows/desktop/winmsg/wm-getfont)                      | Возвращает маркер шрифта, используемого элементом управления, или **значение NULL** , если элемент управления использует системный шрифт.                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| [**WM \_ gettext**](/windows/desktop/winmsg/wm-gettext)                      | Копирует указанное число символов в буфер и возвращает число скопированных символов.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| [**WM \_ жеттекстленгс**](/windows/desktop/winmsg/wm-gettextlength)          | Возвращает длину текста в символах в элементе управления "поле ввода". Длина не включает завершающий символ null.                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| [**WM \_ HSCROLL**](wm-hscroll.md)                         | Прокручивает текст в многострочном элементе управления "поле ввода" горизонтально и обрабатывает перемещение полосы прокрутки.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| [**WM \_ KeyDown**](/windows/desktop/inputdev/wm-keydown)                    | Выполняет стандартную обработку кодов виртуальных клавиш.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| [**WM \_ киллфокус**](/windows/desktop/inputdev/wm-killfocus)                | Удаляет фокус клавиатуры окна элемента управления "поле ввода", уничтожает курсор, скрывает текущее выделение и уведомляет родительское окно о том, что фокус был утерян элементом управления "поле ввода".                                                                                                                                                                                                                                                                                                                                                                                                   |
| [**WM \_ лбуттондблклк**](/windows/desktop/inputdev/wm-lbuttondblclk)        | Очищает текущий выбор и выделяет слово под курсором. Если нажата клавиша SHIFT, расширяет выделение до слова под курсором.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| [**WM \_ лбуттондовн**](/windows/desktop/inputdev/wm-lbuttondown)            | Изменяет текущую точку вставки. Если нажата клавиша SHIFT, расширяет выделение до положения курсора. В многострочных элементах управления "поле ввода" также задает таймер для автоматической прокрутки, когда пользователь удерживает кнопку мыши за пределами окна элемента управления "поле ввода".                                                                                                                                                                                                                                                                                             |
| [**WM \_ лбуттонуп**](/windows/desktop/inputdev/wm-lbuttonup)                | Освобождает захват мыши и задает точку вставки текста в однострочном элементе управления "поле ввода". В многострочном элементе управления "поле ввода" также завершает набор таймера в сообщении [**WM \_ лбуттондовн**](/windows/desktop/inputdev/wm-lbuttondown) .                                                                                                                                                                                                                                                                                                                                                           |
| [**WM \_ MOUSEMOVE**](/windows/desktop/inputdev/wm-mousemove)                | Изменяет текущий выбор в однострочном элементе управления "поле ввода", если кнопка мыши не нажата. В многострочных элементах управления "поле ввода" также задает таймер для автоматической прокрутки, если пользователь удерживает кнопку мыши за пределами окна элемента управления "поле ввода".                                                                                                                                                                                                                                                                                                                          |
| [**WM \_ нккреате**](/windows/desktop/winmsg/wm-nccreate)                    | Указатель на структуру [**CREATESTRUCT**](/windows/win32/api/winuser/ns-winuser-createstructa) для окна. Это сообщение отправляется в сообщение [**о \_ создании WM**](/windows/desktop/winmsg/wm-create) при первом создании окна.                                                                                                                                                                                                                                                                                                                                                                                           |
| [**WM \_ нкдестрой**](/windows/desktop/winmsg/wm-ncdestroy)                  | Освобождает всю память, связанную с окном элемента управления "поле ввода", включая текстовый буфер, буфер отмены, буфер табуляции и выделенную кисть.                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| [**WM \_ Paint**](/windows/desktop/gdi/wm-paint)                             | Стирает фон, заполняет окно текущим цветом окна элемента управления редактированием, рисует границу (если она есть), устанавливает шрифт и рисует текст, а также отображает курсор вставки текста.                                                                                                                                                                                                                                                                                                                                                                                       |
| [**\_Вставка WM**](/windows/desktop/dataxchg/wm-paste)                        | Вставляет текст из буфера обмена в окно редактирования элемента управления в позиции курсора.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| [**WM \_ SETFOCUS**](/windows/desktop/inputdev/wm-setfocus)                  | Устанавливает фокус клавиатуры в окне элемента управления "поле ввода" (показывает текущее выделение, если оно скрыто, и создает курсор).                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| [**WM \_ сетфонт**](/windows/desktop/winmsg/wm-setfont)                      | Задает шрифт и при необходимости перерисовывает элемент управления "поле ввода".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| [**WM \_ SETTEXT**](/windows/desktop/winmsg/wm-settext)                      | Копирует текст в однострочный элемент управления "поле ввода", уведомляет родительское окно при нехватке памяти, очищает буфер отмены и отправляет коды уведомлений о [ \_ смене](en-change.md) и [ \_ обновлении](en-update.md) EN в родительское окно. В многострочных элементах управления "поле ввода" также переносит строки (при необходимости) и задает позиции прокрутки.                                                                                                                                                                                                                           |
| [**\_Размер WM**](/windows/desktop/winmsg/wm-size)                            | Задает размер окна элемента управления редактированием, гарантируя, что размер будет соответствовать высоте и ширине символа.                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| [**WM \_ сисчар**](/windows/desktop/menurc/wm-syschar)                      | Возвращает **значение true** , если пользователь нажимает ALT + BACKSPACE; в противном случае действие не выполняется.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [**WM \_ сискэйдовн**](/windows/desktop/inputdev/wm-syskeydown)              | Отменяет последнее действие, если пользователь нажимает ALT + BACKSPACE; в противном случае действие не выполняется.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| [**\_таймер WM**](/windows/desktop/winmsg/wm-timer)                          | Прокручивает текст в окне редактирования элемента управления, если пользователь удерживает кнопку мыши за пределами многострочного окна редактирования.                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [**\_Отмена изменений WM**](wm-undo.md)                               | Удаляет любой текст, который был только что вставлен или вставляет все удаленные символы, и устанавливает для него выделенный текст. При необходимости отправляет коды уведомлений о [коротком \_ обновлении](en-update.md) и [коротком \_ изменении](en-change.md) в родительское окно.                                                                                                                                                                                                                                                                                                                               |
| [**WM \_ VSCROLL**](wm-vscroll.md)                         | Прокручивает многострочный элемент управления "поле ввода" вертикально и обрабатывает перемещение полосы прокрутки. Он не обрабатывается элементами управления редактирования с одной строкой.                                                                                                                                                                                                                                                                                                                                                                                                                                                    |



 

Встроенная процедура элемента управления "Правка" передает все остальные сообщения в функцию [**дефвиндовпрок**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) для обработки по умолчанию.

 

