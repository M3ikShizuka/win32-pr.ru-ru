---
title: Сообщение LVM_SETITEMCOUNT (Коммктрл. h)
description: Заставляет элемент управления "представление списка" выделить память для указанного числа элементов или задать виртуальное количество элементов в элементе управления виртуального представления списка.
ms.assetid: 5e794c12-ddcb-44fc-b0d2-677352602503
keywords:
- элементы управления Windows сообщений LVM_SETITEMCOUNT
topic_type:
- apiref
api_name:
- LVM_SETITEMCOUNT
api_location:
- Commctrl.h
api_type:
- HeaderDef
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: be6b35b38c65663d9811a27341cf10d668a9e045641a8ff0871f6b49fe8bcdbe
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119656284"
---
# <a name="lvm_setitemcount-message"></a>\_Сообщение LVM сетитемкаунт

Заставляет элемент управления "представление списка" выделить память для указанного числа элементов или задать виртуальное количество элементов в [элементе управления виртуального представления списка](list-view-controls-overview.md).

## <a name="parameters"></a>Параметры

<dl> <dt>

*wParam* 
</dt> <dd>

Число элементов, которые в конечном итоге будет содержать элемент управления "представление списка".

</dd> <dt>

*lParam* 
</dt> <dd>

[Версия 4,70](common-control-versions.md). Значения, определяющие поведение элемента управления "представление списка" после сброса числа элементов. Это значение может быть сочетанием следующих значений:



| Значение                                                                                                                                                                                    | Значение                                                                                           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------|
| <span id="LVSICF_NOINVALIDATEALL"></span><span id="lvsicf_noinvalidateall"></span><dl> <dt>**ЛВСИКФ \_ ноинвалидатеалл**</dt> </dl> | Элемент управления "представление списка" не будет перерисовываться, если только затронутые элементы в настоящее время не доступны для просмотра.<br/>    |
| <span id="LVSICF_NOSCROLL"></span><span id="lvsicf_noscroll"></span><dl> <dt>**ЛВСИКФ \_ ПРОкрутка**</dt> </dl>                      | Элемент управления "представление списка" не изменит позицию прокрутки при изменении числа элементов.<br/> |



 

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Возвращает ненулевое значение в случае успеха или ноль в противном случае.

## <a name="remarks"></a>Remarks

Распределение памяти зависит от способа создания элемента управления "представление списка". Это сообщение можно отправить явным образом или использовать макросы [**ListView \_ Сетитемкаунт**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setitemcount) или [**ListView \_ сетитемкаунтекс**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setitemcountex) . Дополнительные сведения см. в статье [стиль виртуальных List-View](/windows/desktop/Controls/list-view-controls-overview).

Если элемент управления "список" был создан без стиля [**LVS \_ овнердата**](list-view-window-styles.md) , отправка этого сообщения приводит к выделению элементом управления внутренних структур данных для указанного числа элементов. Это не позволяет элементу управления распределять структуры данных при каждом добавлении элемента.

Если элемент управления "представление списка" был создан с использованием стиля [**LVS \_ овнердата**](list-view-window-styles.md) (виртуального представления списка), то при отправке этого сообщения задается виртуальное количество элементов, содержащихся в элементе управления.

Параметр *lParam* предназначен только для элементов управления "представление списка", использующих стили [**LVS \_ овнердата**](list-view-window-styles.md) и [**LVS \_ отчета**](list-view-window-styles.md) или [**LVS \_ списка**](list-view-window-styles.md) .

Если представление "список общих элементов управления" является виртуализированным представлением списка ([**LVS \_ овнердата**](list-view-window-styles.md)), то в списке отображается ограничение в 100 000 000 элементов. В этом сценарии **LVM \_ сетитемкаунт** возвращает значение false, если оно имеет *wParam* 100 000 001.

## <a name="requirements"></a>Requirements (Требования)



| Требование | Значение |
|-------------------------------------|---------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows \[Только классические приложения Vista\]<br/>                                        |
| Минимальная версия сервера<br/> | Windows Только для \[ настольных приложений сервера 2003\]<br/>                                  |
| Заголовок<br/>                   | <dl> <dt>Коммктрл. h</dt> </dl> |



 

