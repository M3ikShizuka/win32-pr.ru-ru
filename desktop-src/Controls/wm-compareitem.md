---
title: Сообщение WM_COMPAREITEM (Winuser. h)
description: Отправляется, чтобы определить относительное расположение нового элемента в отсортированном списке рисуемого владельцем поля со списком или списка.
ms.assetid: 22882730-9fd6-4b45-a563-d7b00ed26564
keywords:
- элементы управления Windows сообщений WM_COMPAREITEM
topic_type:
- apiref
api_name:
- WM_COMPAREITEM
api_location:
- Winuser.h
api_type:
- HeaderDef
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 4f269b90f00e69cce2fb84e6b4efa76e554ad96f
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127165244"
---
# <a name="wm_compareitem-message"></a>\_Сообщение КОМПАРЕИТЕМ WM

Отправляется, чтобы определить относительное расположение нового элемента в отсортированном списке рисуемого владельцем поля со списком или списка. Каждый раз, когда приложение добавляет новый элемент, система отправляет это сообщение владельцу поля со списком или списка, созданного с помощью параметра [**CBS \_ Sort**](combo-box-styles.md) или [**фунтов \_ сортировки**](list-box-styles.md) .


```C++
WM_COMPAREITEM

    WPARAM wParam;
    LPARAM lParam; 
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*wParam* 
</dt> <dd>

Указывает идентификатор элемента управления, который отправил сообщение **WM \_ компареитем** .

</dd> <dt>

*lParam* 
</dt> <dd>

Указатель на структуру [**COMPAREITEMSTRUCT**](/windows/win32/api/winuser/ns-winuser-compareitemstruct) , которая содержит идентификаторы и данные, предоставляемые приложением, для двух элементов в поле со списком или в списке.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Возвращаемое значение указывает относительное расположение двух элементов. Это может быть любое из значений, приведенных в следующей таблице.



| Код возврата                                                                          | Описание                                                  |
|--------------------------------------------------------------------------------------|--------------------------------------------------------------|
| <dl> <dt>**Значение**</dt> </dl> | Значение<br/>                                           |
| <dl> <dt>**-1**</dt> </dl>    | Элемент 1 предшествует элементу 2 в отсортированном порядке.<br/>       |
| <dl> <dt>**0,0**</dt> </dl>     | Элементы 1 и 2 эквивалентны в порядке сортировки.<br/> |
| <dl> <dt>**1**</dt> </dl>     | Элемент 1 соответствует элементу 2 в отсортированном порядке.<br/>        |



 

## <a name="remarks"></a>Комментарии

Когда владелец рисуемого владельцем поля со списком или списка получает это сообщение, владелец возвращает значение, указывающее, какие из элементов, указанных структурой [**COMPAREITEMSTRUCT**](/windows/win32/api/winuser/ns-winuser-compareitemstruct) , будут отображаться перед другой. Как правило, система отправляет это сообщение несколько раз до тех пор, пока оно не определит точную позицию для нового элемента.

Если процедура диалогового окна обрабатывает это сообщение, необходимо привести требуемое возвращаемое значение к **логическому** типу и вернуть значение напрямую. \_Значение МСГРЕСУЛТ DWL, заданное функцией [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga) , игнорируется.

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|----------------------------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows \[Только классические приложения Vista\]<br/>                                                           |
| Минимальная версия сервера<br/> | Windows Только для \[ настольных приложений сервера 2003\]<br/>                                                     |
| Заголовок<br/>                   | <dl> <dt>Winuser. h (включает Windows. h)</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

**Ссылки**
</dt> <dt>

[**COMPAREITEMSTRUCT**](/windows/win32/api/winuser/ns-winuser-compareitemstruct)
</dt> <dt>

**Другие ресурсы**
</dt> <dt>

[**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga)
</dt> </dl>

 

