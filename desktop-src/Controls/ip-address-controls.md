---
title: Сведения об элементах управления IP-адресов
description: Элемент управления IP-адреса позволяет пользователю ввести IP-адрес в удобном для понимания формате.
ms.assetid: cf6a59fc-661c-420a-a67f-a42619946357
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ce537b3b3a92846961e95321889d106a61a81e14bfa4cbc4edd93da5c8c033ae
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119435602"
---
# <a name="about-ip-address-controls"></a>Сведения об элементах управления IP-адресов

Элемент управления IP-адреса позволяет пользователю ввести IP-адрес в удобном для понимания формате. Этот элемент управления также позволяет приложению получить адрес в виде цифровой формы, а не в виде текста.

-   [Сведения об элементах управления IP-адресов](#about-ip-address-controls)
-   [Создание элемента управления IP-адреса](#creating-an-ip-address-control)
-   [Является ли IP-адрес элементом управления "поле ввода"?](#is-an-ip-address-control-an-edit-control)

## <a name="about-ip-address-controls"></a>Сведения об элементах управления IP-адресов

Windows В обозревателе Internet Explorer версии 4,0 появился новый элемент управления IP-адрес, аналогичный элементу управления Edit, который позволяет пользователю вводить числовой адрес в формате протокола Интернета (IP). Этот формат состоит из 4 3-разрядных полей. Каждое поле обрабатывается по отдельности. Номера полей отсчитываются от нуля и продолжаются слева направо, как показано на рисунке.

![Диаграмма, показывающая значения в каждом из четырех полей элемента управления IP-адреса](images/ipa-scrn.png)

Элемент управления позволяет указать в каждом из полей только числовой текст. После ввода трех цифр в заданное поле фокус клавиатуры автоматически перемещается в следующее поле. Если заполнение всего поля не требуется приложению, пользователь может ввести меньше трех цифр. Например, если поле должно содержать только цифру двадцать 1, введя «21» и нажав клавишу, пользователь перейдет к следующему полю.

По умолчанию для каждого поля используется диапазон от 0 до 255, но приложение может задать диапазону любые значения между этими ограничениями с помощью сообщения [**IPM \_ SETRANGE**](ipm-setrange.md) .

> [!Note]  
> Элемент управления IP-адресов реализован в версии 4,71 и более поздних Comctl32.dll.

 

## <a name="creating-an-ip-address-control"></a>Создание элемента управления IP-адреса

Перед созданием элемента управления IP-адресами вызовите [**InitCommonControlsEx**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrolsex) с флагом **ICC- \_ \_ классов** , установленным в члене **двикк** структуры [**InitCommonControlsEx**](/windows/win32/api/commctrl/ns-commctrl-initcommoncontrolsex) .

Для создания элемента управления IP-адреса используйте функцию [**CreateWindow**](/windows/desktop/api/winuser/nf-winuser-createwindowa) или [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) . Имя класса для элемента управления — это [**WC \_ IPAddress**](common-control-window-classes.md), который определен в коммктрл. h. Стили, относящиеся к контролю IP-адресов, не существуют; Однако, поскольку это дочерний элемент управления, используйте в качестве минимума стиль [**\_ дочернего элемента WS**](/windows/desktop/winmsg/window-styles) .

## <a name="is-an-ip-address-control-an-edit-control"></a>Является ли IP-адрес элементом управления "поле ввода"?

Элемент управления "IP-адрес" не является элементом управления редактированием и не реагирует на \_ сообщения EM. Однако окно "владелец" будет отправлять следующие уведомления об изменении элементов управления через [**\_ командное сообщение WM**](/windows/desktop/menurc/wm-command) . Обратите внимание, что элемент управления IP-адресов также будет отправлять уведомления частного ИПН \_ через сообщение [**WM \_ Notify**](wm-notify.md) .



|     Уведомление                              |     Причина уведомления                                                                                                                                                                                                    |
|-----------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [" \_ en"](en-setfocus.md)   | Посылается, когда элемент управления "IP-адрес" получает фокус клавиатуры.                                                                                                                                              |
| [EN \_ киллфокус](en-killfocus.md) | Посылается, когда элемент управления "IP-адрес" теряет фокус клавиатуры.                                                                                                                                              |
| [\_изменение EN](en-change.md)       | Посылается при изменении любого поля в элементе управления IP-адресов. Как и в случае уведомления о [ \_ смене](en-change.md) в стандартном элементе управления "поле ввода", это уведомление будет получено после обновления экрана. |



 

 

 