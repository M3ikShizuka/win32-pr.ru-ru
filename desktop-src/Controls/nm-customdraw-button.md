---
title: Код уведомления NM_CUSTOMDRAW (кнопка) (Коммктрл. h)
description: Сообщает родительскому окну элемента управления "Кнопка" о пользовательских операциях рисования на кнопке. Элемент управления "Кнопка" отправляет этот код уведомления в виде сообщения WM \_ Notify.
ms.assetid: cabe5515-ba64-4c53-8746-7a0559df8989
keywords:
- элемент управления Windows кода уведомления NM_CUSTOMDRAW (button)
topic_type:
- apiref
api_name:
- NM_CUSTOMDRAW
api_location:
- Commctrl.h
api_type:
- HeaderDef
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: f5930dd9023bac636fb645b7309c17cb4d70902b88a2b4f8a8ba857984a54ac1
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "120061744"
---
# <a name="nm_customdraw-button-notification-code"></a>\_Код уведомления NM кустомдрав (кнопка)

Сообщает родительскому окну элемента управления "Кнопка" о пользовательских операциях рисования на кнопке.

Элемент управления "Кнопка" отправляет этот код уведомления в виде сообщения [**WM \_ Notify**](wm-notify.md) .


```C++
NM_CUSTOMDRAW

    lpNMCustomDraw = (LPNMCUSTOMDRAW) lParam;
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*lParam* 
</dt> <dd>

Указатель на структуру [**нмкустомдрав**](/windows/win32/api/commctrl/ns-commctrl-nmcustomdraw) , содержащую сведения об операции рисования. Элемент **двитемспек** этой структуры содержит индекс рисуемого элемента, а элемент **литемлпарам** этой структуры содержит *lParam* элемента.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Значение, которое может возвращать приложение, зависит от текущей стадии рисования. Элемент **двдравстаже** связанной структуры [**нмкустомдрав**](/windows/win32/api/commctrl/ns-commctrl-nmcustomdraw) содержит значение, указывающее стадию рисования. Необходимо вернуть одно из следующих значений.



| Код возврата                                                                                          | Описание                                                                                                                                                           |
|------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <dl> <dt>**КДРФ \_ нотифипостерасе**</dt> </dl> | Элемент управления будет уведомлять родительский элемент после стирания элемента. Его можно использовать, только если **двдравстаже** равняется кддс \_ .<br/>                                  |
| <dl> <dt>**КДРФ \_ нотифипостпаинт**</dt> </dl> | Элемент управления будет уведомлять родительский элемент после рисования элемента. Его можно использовать, только если **двдравстаже** равняется кддс \_ .<br/>                                 |
| <dl> <dt>**КДРФ \_ скипдефаулт**</dt> </dl>     | Приложение назначит элемент вручную. Элемент управления не будет рисовать элемент. Это можно использовать, когда **двдравстаже** равно КДДС \_ reerase или кддс \_ .<br/> |



 

## <a name="remarks"></a>Remarks

Если элемент управления "Кнопка" помечен как овнердрав (BS \_ овнердрав), то \_ код уведомления NM кустомдрав не отправляется.

Дополнительные сведения см. [в статье Использование пользовательского рисования](custom-draw.md) .

> [!Note]  
> Чтобы использовать этот код уведомления, необходимо указать манифест, указывающий Comclt32.dll версии 6,0. Дополнительные сведения о манифестах см. в разделе [Включение визуальных стилей](cookbook-overview.md).

 

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|-----------------------------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows \[Только классические приложения Vista\]<br/>                                                            |
| Минимальная версия сервера<br/> | Windows Только для \[ настольных приложений сервера 2003\]<br/>                                                      |
| Заголовок<br/>                   | <dl> <dt>коммктрл. h (включает Windows. h)</dt> </dl> |



 

 





