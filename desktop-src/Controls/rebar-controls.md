---
title: Общие сведения об элементах управления главной панели
description: Элемент управления "Главная панель" выступает в качестве контейнера для дочерних окон.
ms.assetid: vs|controls|~\controls\rebar\rebar.htm
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 56bc68629db7387f4ba408a769f7d87a64256000
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/21/2020
ms.locfileid: "104070727"
---
# <a name="about-rebar-controls"></a>Общие сведения об элементах управления главной панели

*Элемент управления "Главная панель* " выступает в качестве контейнера для дочерних окон. Он может содержать одну или несколько *полос*, и каждая полоса может иметь любое сочетание полосы захвата, точечного рисунка, метки текста и одного дочернего окна. Приложение назначает дочернее окно (как правило, другой элемент управления) в полосу управления главной панелью. При динамическом изменении расположения элемента управления "Главная панель" элемент управления "Главная панель" управляет размером и положением дочернего окна, назначенного этому диапазону. Кроме того, приложение может указать фоновое растровое изображение для полосы, а элемент управления "Главная панель" будет отображать дочернее окно полосы по точечному рисунку.

На следующем снимке экрана показан элемент управления "Главная панель" с двумя полосами. Одна содержит панель инструментов, а другая содержит поле со списком. Обе полосы имеют захват, позволяющий перемещать их и изменять их размер.

![снимок экрана диалогового окна, показывающего элемент управления главной панели с полосой, содержащей панель инструментов и полосу, содержащую поле со списком](images/rb-rebar.png)

> [!Note]  
> Элемент управления "Главная панель" реализован в версии 4,70 и более поздних Comctl32.dll.

 

## <a name="rebar-bands-and-child-windows"></a>Полосы главной панели и дочерние окна

Приложение определяет признаки полосы главной панели с помощью сообщений [**RB \_ Инсертбанд**](rb-insertband.md) и [**RB \_ сетбандинфо**](rb-setbandinfo.md) . Эти сообщения принимают адрес структуры [**ребарбандинфо**](/windows/win32/api/commctrl/ns-commctrl-rebarbandinfoa) в качестве параметра *lParam* . Элементы структуры **ребарбандинфо** определяют признаки заданного диапазона. Чтобы задать признаки полосы, установите элемент **кбсизе** , чтобы указать размер структуры в байтах. Затем задайте элемент **фмаск** , чтобы указать, какие элементы структуры заполняет приложение.

Чтобы назначить дочернее окно полосе, включите \_ дочерний флаг рббим в элемент **Фмаск** структуры [**ребарбандинфо**](/windows/win32/api/commctrl/ns-commctrl-rebarbandinfoa) , а затем присвойте элементу **хвндчилд** значение маркера дочернего окна. Приложения могут устанавливать минимально допустимую ширину и высоту дочернего окна в элементах **кксминчилд** и **циминчилд** .

При уничтожении элемента управления главной панели он уничтожает все дочерние окна, назначенные для полос внутри него. Чтобы элемент управления не удалил дочерние окна, назначенные его полосам, удалите эти полосы, отправив сообщение [**RB \_ делетебанд**](rb-deleteband.md) , а затем используйте сообщение [**RB \_ сетпарент**](rb-setparent.md) для сброса родителя в другое окно перед уничтожением элемента управления главной панели.

## <a name="the-rebar-control-user-interface"></a>Пользовательский интерфейс элемента управления "Главная панель"

Размер всех панелей управления главной панели можно изменять, за исключением тех, которые используют \_ стиль рббс FIXEDSIZE. Чтобы изменить порядок полос в элементе управления, щелкните и перетащите полосу захвата диапазона. Элемент управления "Главная панель" автоматически изменяет размеры и расположение дочерних окон, назначенных его полосам. Кроме того, можно включить или отключить размер полосы, щелкнув полосу текста, если она есть.

## <a name="the-rebar-controls-image-list"></a>Список изображений элемента управления "Главная панель"

Если приложение использует список изображений с элементом управления главной панели, он должен отправить сообщение [**\_ сетбаринфо RB**](rb-setbarinfo.md) перед добавлением полос в элемент управления. Это сообщение принимает адрес структуры [**ребаринфо**](/windows/win32/api/commctrl/ns-commctrl-rebarinfo) в качестве параметра *lParam* . Перед отправкой сообщения подготовьте структуру **ребаринфо** , задав для элемента **кбсизе** размер структуры в байтах. Затем, если элемент управления "Главная панель" будет отображать изображения на полосах, установите для элемента **фмаск** \_ флаг IMAGELIST рбим и присвойте элементу **химл** маркер списка изображений. Если Главная панель не будет использовать образы полос, задайте для **фмаск** значение 0.

## <a name="rebar-control-message-forwarding"></a>Пересылка сообщений управления главной панелью

Элемент управления "Главная панель" пересылает все сообщения окна [**\_ уведомления WM**](wm-notify.md) в родительское окно. Кроме того, элемент управления "Главная панель" пересылает сообщения, отправленные ей из окон, назначенные его делениям, например [**WM \_ чартоитем**](wm-chartoitem.md), [**WM \_ Command**](/windows/desktop/menurc/wm-command)и др.

 

 