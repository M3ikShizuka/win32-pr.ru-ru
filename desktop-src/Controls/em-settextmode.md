---
title: Сообщение EM_SETTEXTMODE (RichEdit. h)
description: Задает режим текста или уровень отмены для элемента управления расширенного редактирования. Сообщение завершается ошибкой, если элемент управления содержит какой бы то ни было текст.
ms.assetid: d6741234-0ef3-4cd2-8817-6c852f1b500d
keywords:
- элементы управления Windows сообщений EM_SETTEXTMODE
topic_type:
- apiref
api_name:
- EM_SETTEXTMODE
api_location:
- Richedit.h
api_type:
- HeaderDef
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 0ea489dcdb60908cac8600188d40b9aae4b7e3e531c713094bb180e84ee24bee
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118672373"
---
# <a name="em_settextmode-message"></a>\_Сообщение СЕТТЕКСТМОДЕ EM

Задает режим текста или уровень отмены для элемента управления расширенного редактирования. Сообщение завершается ошибкой, если элемент управления содержит какой бы то ни было текст.

## <a name="parameters"></a>Параметры

<dl> <dt>

*wParam* 
</dt> <dd>

Одно или несколько значений из типа перечисления [**TEXTMODE**](/windows/win32/api/richedit/ne-richedit-textmode) . Значения указывают новые параметры для текстового режима элемента управления и параметры уровня отмены.

Укажите одно из следующих значений, чтобы задать параметр текстового режима. Если не указать значение текстового режима, то текстовый режим останется в текущем параметре. 

| Значение                                          | Значение                                                                                                                                                               |
|------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**\_открытый текст TM**](/windows/win32/api/richedit/ne-richedit-textmode) | Указывает режим обычного текста, в котором элемент управления аналогичен стандартному элементу управления "поле ввода". Дополнительные сведения о режиме обычного текста см. в следующем разделе "Примечания". |
| [**TM \_ RICHTEXT**](/windows/win32/api/richedit/ne-richedit-textmode)   | Указывает режим форматированного текста, в котором элемент управления имеет стандартные широкие возможности редактирования. Режим форматированного текста является параметром по умолчанию.                                           |



 

Укажите одно из следующих значений, чтобы задать параметр уровня отмены. Если значение уровня отмены не задано, то уровень отмены остается в текущем параметре. 

| Значение                                                      | Значение                                                                                                                                                                            |
|------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**TM \_ синглелевелундо**](/windows/win32/api/richedit/ne-richedit-textmode) | Элемент управления позволяет пользователю отменить только Последнее действие, которое может быть отменено.                                                                                                       |
| [**TM \_ мултилевелундо**](/windows/win32/api/richedit/ne-richedit-textmode)   | Элемент управления поддерживает несколько операций отмены. Это параметр по умолчанию. Используйте сообщение [**EM \_ сетундолимит**](em-setundolimit.md) , чтобы задать максимальное количество действий отмены. |



 

Укажите одно из следующих значений, чтобы задать параметр кодовой страницы. Если не указать значение кодовой страницы, то кодовая страница остается в текущем параметре. 

| Значение                                                    | Значение                                                                                                                                                                                                                                                                                                    |
|----------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**TM \_ синглекодепаже**](/windows/win32/api/richedit/ne-richedit-textmode) | Элемент управления допускает только английскую клавиатуру и клавиатуру, соответствующие кодировке по умолчанию. Например, можно использовать греческий и английский язык. Обратите внимание, что это предотвращает ввод элемента управления в Юникоде. Например, используйте это значение, если элемент управления Rich Edit должен быть ограничен текстом ANSI. |
| [**\_МНОГОкодовая страница TM**](/windows/win32/api/richedit/ne-richedit-textmode)   | Элемент управления допускает в элементе управления несколько кодовых страниц и текста в Юникоде. Это параметр по умолчанию.                                                                                                                                                                                                     |



 

</dd> <dt>

*lParam* 
</dt> <dd>

Этот параметр не используется; оно должно быть равно нулю.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Если сообщение прошло удачно, возвращаемое значение равно нулю.

Если сообщение не выполняется, возвращаемое значение будет ненулевым.

## <a name="remarks"></a>Remarks

В режиме форматированного текста расширенный элемент управления "поле ввода" имеет стандартные широкие возможности редактирования. Однако в режиме обычного текста элемент управления аналогичен стандартному элементу управления Edit:

-   Текст в элементе управления обычным текстом может иметь только один формат (например, полужирный шрифт, 10 пт, Arial).
-   Пользователь не может вставлять форматированные текстовые форматы, такие как RTF или внедренные объекты, в обычный текстовый элемент управления.
-   Элементы управления в режиме форматированного текста всегда имеют маркер конца документа по умолчанию или символ возврата каретки для форматирования абзацев. Элементы управления обычным текстом, с другой стороны, не нуждаются в маркере конца документа по умолчанию, поэтому он опускается.

Элемент управления не должен содержать текст при получении сообщения **EM \_ сеттекстмоде** . Чтобы убедиться в отсутствии текста, отправьте сообщение [**WM \_ SETTEXT**](/windows/desktop/winmsg/wm-settext) с пустой строкой ("").

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|---------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows \[Только классические приложения Vista\]<br/>                                        |
| Минимальная версия сервера<br/> | Windows Только для \[ настольных приложений сервера 2003\]<br/>                                  |
| Header<br/>                   | <dl> <dt>RichEdit. h</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[**EM \_ жеттекстмоде**](em-gettextmode.md)
</dt> <dt>

[**EM \_ сетундолимит**](em-setundolimit.md)
</dt> <dt>

[**TEXTMODE**](/windows/win32/api/richedit/ne-richedit-textmode)
</dt> <dt>

[**WM \_ SETTEXT**](/windows/desktop/winmsg/wm-settext)
</dt> </dl>

 

