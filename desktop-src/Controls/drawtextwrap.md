---
title: Функция Дравтекстврап
description: Рисует форматированный текст в указанном прямоугольнике. Текст форматируется в соответствии с заданным методом (расширяя вкладки, выполняя, выполняя и т. д.). Эта функция заключает в оболочку вызов DrawText.
ms.assetid: 28ab4c5e-3b8f-49e8-b072-500ba1916caf
keywords:
- элементы управления Windows функции дравтекстврап
topic_type:
- apiref
api_name:
- DrawTextWrap
api_location:
- Comctl32.dll
api_type:
- DllExport
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: cfc5eb707b4016a592ad339223e0f32ab21d4a29
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127174128"
---
# <a name="drawtextwrap-function"></a>Функция Дравтекстврап

\[**дравтекстврап** доступен в Windows XP с пакетом обновления 2 (SP2). Он может быть изменен или недоступен в последующих версиях. Вместо этого рекомендуется использовать [**DrawText**](/windows/desktop/api/winuser/nf-winuser-drawtext) напрямую.\]

Рисует форматированный текст в указанном прямоугольнике. Текст форматируется в соответствии с заданным методом (расширяя вкладки, выполняя, выполняя и т. д.). Эта функция заключает в оболочку вызов [**DrawText**](/windows/desktop/api/winuser/nf-winuser-drawtext).

## <a name="syntax"></a>Синтаксис


```C++
int WINAPI DrawTextWrap(
  _In_    HDC              hdc,
  _Inout_ LPCTSTR          lpString,
  _In_    int              nCount,
  _Inout_ LPRECT           lpRect,
  _In_    UINT             uFormat,
  _In_    LPDRAWTEXTPARAMS lpDTParams
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*HDC* \[ окне\]
</dt> <dd>

Тип: **[ **HDC**](/windows/desktop/WinProg/windows-data-types)**

Маркер контекста устройства.

</dd> <dt>

*лпстринг* \[ в, out\]
</dt> <dd>

Тип: **[ **LPCTSTR**](/windows/desktop/WinProg/windows-data-types)**

Указатель на буфер, содержащий текст для рисования. Если параметр *нкаунт* имеет значение-1, строка должна завершаться нулем.

Если *UFormat* включает DT \_ модифистринг, функция может добавить в эту строку до четырех дополнительных символов. Буфер, содержащий строку, должен быть достаточно большим, чтобы разместить эти дополнительные символы.

</dd> <dt>

*нкаунт* \[ окне\]
</dt> <dd>

Тип: **int**

Длина строки, на которую указывает *лпстринг*. Если *нкаунт* имеет значение-1, то предполагается, что параметр *лпстринг* является указателем на строку, завершающимся нулем, а [**DrawText**](/windows/desktop/api/winuser/nf-winuser-drawtext) автоматически вычислит число символов.

</dd> <dt>

*лпрект* \[ в, out\]
</dt> <dd>

Тип: **лпрект**

Указатель на структуру [**Rect**](/previous-versions//dd162897(v=vs.85)) , содержащую прямоугольник в логических координатах, в котором должен быть отформатирован текст.

</dd> <dt>

*UFormat* \[ окне\]
</dt> <dd>

Тип: **[ **uint**](/windows/desktop/WinProg/windows-data-types)**

Параметры форматирования. Полный список параметров см. в документации по [**DrawText**](/windows/desktop/api/winuser/nf-winuser-drawtext) .

</dd> <dt>

*лпдтпарамс* \[ окне\]
</dt> <dd>

Тип: **лпдравтекстпарамс**

Указатель на структуру [**дравтекстпарамс**](/windows/win32/api/winuser/ns-winuser-drawtextparams) , указывающую дополнительные параметры форматирования. Этот параметр может принимать значение **NULL**.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Тип: **int**

Если функция выполняется удачно, возвращаемое значение — это высота текста в логических единицах. Если указан параметр **DT \_ vCenter** или **DT \_ Bottom** , возвращаемое значение является смещением от **верхнего** элемента *ЛПРК* до конца рисуемого текста, если функция завершается ошибкой, возвращаемое значение равно нулю.

Если функция выполняется неудачно, возвращается нулевое значение.

Дополнительные сведения об ошибке можно получить, вызвав [**GetLastError**](/windows/desktop/api/errhandlingapi/nf-errhandlingapi-getlasterror).

## <a name="remarks"></a>Комментарии

**Дравтекстврап** не экспортируется по имени или объявлено в общедоступном заголовке. Чтобы использовать его, необходимо использовать [**GetProcAddress**](/windows/desktop/api/libloaderapi/nf-libloaderapi-getprocaddress) и запросить порядковый номер 415 из ComCtl32.dll для получения указателя на функцию.

Дополнительные замечания см. в разделе [**DrawText**](/windows/desktop/api/winuser/nf-winuser-drawtext).

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|----------------------------------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows \[Только классические приложения Vista\]<br/>                                                                 |
| Минимальная версия сервера<br/> | Windows Только для \[ настольных приложений сервера 2003\]<br/>                                                           |
| DLL<br/>                      | <dl> <dt>Comctl32.dll (версия 6,0 или более поздняя)</dt> </dl> |



 

