---
title: Выбор даты и времени
description: В этом разделе содержатся сведения об элементах API, используемых с элементами управления "Выбор даты и времени".
ms.assetid: vs|controls|~\controls\datetime\reflist.htm
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0e4e91b325b798ff465d8048cac2f0a9a72e5774
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/21/2020
ms.locfileid: "103891161"
---
# <a name="date-and-time-picker"></a>Выбор даты и времени

В этом разделе содержатся сведения об элементах API, используемых с элементами управления "Выбор даты и времени".

### <a name="overviews"></a>Разделы общих сведений



| Раздел                                                                    | Содержимое                                                                                                                                                     |
|--------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [Сведения об элементах управления "Выбор даты и времени"](date-and-time-picker-controls.md) | *Элемент управления "Выбор даты и времени" (DTP)* предоставляет простой и интуитивно понятный интерфейс для обмена данными о дате и времени с пользователем.<br/> |
| [Использование элементов управления "Выбор даты и времени"](using-date-and-time-picker.md)    | В этом разделе приводятся сведения и примеры кода для реализации элементов управления средства выбора даты и времени. <br/>                                                |



 

### <a name="macros"></a>Макросы



| Раздел                                                                     | Содержимое                                                                                                                                                                                                                                                                     |
|---------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**DateTime \_ клосемонскал**](/windows/desktop/api/Commctrl/nf-commctrl-datetime_closemonthcal)                 | Закрывает элемент управления "Выбор даты и времени" (DTP). Используйте этот макрос или явно отправьте сообщение [**DTM \_ клосемонскал**](dtm-closemonthcal.md) .<br/>                                                                                                                     |
| [**DateTime \_ жетдатетимепиккеринфо**](/windows/desktop/api/Commctrl/nf-commctrl-datetime_getdatetimepickerinfo) | Получает сведения для указанного элемента управления "Выбор даты и времени" (DTP).<br/>                                                                                                                                                                                              |
| [**DateTime \_ жетидеалсизе**](/windows/desktop/api/Commctrl/nf-commctrl-datetime_getidealsize)                   | Возвращает размер, необходимый для вывода элемента управления без усечения. Используйте этот макрос или явно отправьте сообщение [**DTM \_ жетидеалсизе**](dtm-getidealsize.md) .<br/>                                                                                                        |
| [**DateTime \_ жетмонскал**](/windows/desktop/api/Commctrl/nf-commctrl-datetime_getmonthcal)                     | Возвращает маркер для элемента управления "Календарь дочернего месяца выбора даты и времени" (DTP). Вы можете использовать этот макрос или явно отправить сообщение [**DTM \_ жетмонскал**](dtm-getmonthcal.md) . <br/>                                                                               |
| [**DateTime \_ жетмонскалколор**](/windows/desktop/api/Commctrl/nf-commctrl-datetime_getmonthcalcolor)           | Возвращает цвет для заданной части месячного календаря в элементе управления "Выбор даты и времени" (DTP). Вы можете использовать этот макрос или явно отправить сообщение [**DTM \_ жетмкколор**](dtm-getmccolor.md) . <br/>                                                           |
| [**DateTime \_ жетмонскалфонт**](/windows/desktop/api/Commctrl/nf-commctrl-datetime_getmonthcalfont)             | Возвращает шрифт, который в настоящее время используется элементом управления "Календарь" элемента управления "Выбор даты и времени" (DTP). Вы можете использовать этот макрос или явно отправить сообщение [**DTM \_ жетмкфонт**](dtm-getmcfont.md) . <br/>                                                      |
| [**DateTime \_ жетмонскалстиле**](/windows/desktop/api/Commctrl/nf-commctrl-datetime_getmonthcalstyle)           | Возвращает стиль указанного элемента управления DTP. Используйте этот макрос или явно отправьте сообщение [**DTM \_ жетмкстиле**](dtm-getmcstyle.md) .<br/>                                                                                                                               |
| [**Тип \_ DateTime**](/windows/desktop/api/Commctrl/nf-commctrl-datetime_getrange)                           | Возвращает текущее минимальное и максимальное допустимое системное время для элемента управления "Выбор даты и времени" (DTP). Вы можете использовать этот макрос или явно отправить сообщение [**DTM \_**](dtm-getrange.md) . <br/>                                                              |
| [**Тип \_ даты и времени**](/windows/desktop/api/Commctrl/nf-commctrl-datetime_getsystemtime)                 | Получает выбранное в данный момент время из элемента управления "Выбор даты и времени" (DTP) и помещает его в указанную структуру [**SYSTEMTIME**](/windows/desktop/api/minwinbase/ns-minwinbase-systemtime) . Можно использовать этот макрос или явно отправить сообщение [**DTM \_ GETSYSTEMTIME**](dtm-getsystemtime.md) . <br/> |
| [**DateTime \_ сетформат**](/windows/desktop/api/Commctrl/nf-commctrl-datetime_setformat)                         | Задает отображение элемента управления "Выбор даты и времени" (DTP) на основе заданной строки формата. Вы можете использовать этот макрос или явно отправить сообщение [**DTM \_ сетформат**](dtm-setformat.md) . <br/>                                                                          |
| [**DateTime \_ сетмонскалколор**](/windows/desktop/api/Commctrl/nf-commctrl-datetime_setmonthcalcolor)           | Задает цвет для заданной части месячного календаря в элементе управления "Выбор даты и времени" (DTP). Вы можете использовать этот макрос или явно отправить сообщение [**DTM \_ сетмкколор**](dtm-setmccolor.md) . <br/>                                                           |
| [**DateTime \_ сетмонскалфонт**](/windows/desktop/api/Commctrl/nf-commctrl-datetime_setmonthcalfont)             | Задает шрифт, используемый элементом управления "Календарь" элемента управления "Выбор даты и времени" (DTP). Вы можете использовать этот макрос или явно отправить сообщение [**DTM \_ сетмкфонт**](dtm-setmcfont.md) . <br/>                                                                |
| [**DateTime \_ сетмонскалстиле**](/windows/desktop/api/Commctrl/nf-commctrl-datetime_setmonthcalstyle)           | Задает стиль для указанного элемента управления DTP. Используйте этот макрос или явно отправьте сообщение [**DTM \_ сетмкстиле**](dtm-setmcstyle.md) .<br/>                                                                                                                              |
| [**DateTime \_ SetRange**](/windows/desktop/api/Commctrl/nf-commctrl-datetime_setrange)                           | Задает минимальное и максимальное допустимое системное время для элемента управления "Выбор даты и времени" (DTP). Вы можете использовать этот макрос или явно отправить сообщение [**DTM \_ SETRANGE**](dtm-setrange.md) . <br/>                                                                       |
| [**DateTime \_ сетсистемтиме**](/windows/desktop/api/Commctrl/nf-commctrl-datetime_setsystemtime)                 | Устанавливает элемент управления выбора даты и времени (DTP) в заданную дату и время. Вы можете использовать этот макрос или явно отправить сообщение [**DTM \_ сетсистемтиме**](dtm-setsystemtime.md) . <br/>                                                                                       |



 

### <a name="messages"></a>Сообщения



| Раздел                                                           | Содержимое                                                                                                                                                                                                                                                                              |
|-----------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**DTM \_ клосемонскал**](dtm-closemonthcal.md)                 | Закрывает элемент управления DTP. Отправляйте это сообщение явным образом или с помощью макроса [**DateTime \_ клосемонскал**](/windows/desktop/api/Commctrl/nf-commctrl-datetime_closemonthcal) .<br/>                                                                                                                                        |
| [**DTM \_ жетдатетимепиккеринфо**](dtm-getdatetimepickerinfo.md) | Возвращает сведения об элементе управления "Выбор даты и времени" (DTP).<br/>                                                                                                                                                                                                                  |
| [**DTM \_ жетидеалсизе**](dtm-getidealsize.md)                   | Возвращает размер, необходимый для вывода элемента управления без усечения. Отправляйте это сообщение явным образом или с помощью макроса [**DateTime \_ жетидеалсизе**](/windows/desktop/api/Commctrl/nf-commctrl-datetime_getidealsize) .<br/>                                                                                                  |
| [**DTM \_ жетмкколор**](dtm-getmccolor.md)                       | Возвращает цвет для заданной части месячного календаря в элементе управления "Выбор даты и времени" (DTP). Это сообщение можно отправить явным образом или использовать макрос [**\_ жетмонскалколор DateTime**](/windows/desktop/api/Commctrl/nf-commctrl-datetime_getmonthcalcolor) . <br/>                                              |
| [**DTM \_ жетмкфонт**](dtm-getmcfont.md)                         | Возвращает шрифт, который в настоящее время используется элементом управления "Календарь" элемента управления "Выбор даты и времени" (DTP). Это сообщение можно отправить явным образом или использовать макрос [**\_ жетмонскалфонт DateTime**](/windows/desktop/api/Commctrl/nf-commctrl-datetime_getmonthcalfont) . <br/>                                         |
| [**DTM \_ жетмкстиле**](dtm-getmcstyle.md)                       | Возвращает стиль элемента управления DTP. Отправляйте это сообщение явным образом или с помощью макроса [**DateTime \_ жетмонскалстиле**](/windows/desktop/api/Commctrl/nf-commctrl-datetime_getmonthcalstyle) .<br/>                                                                                                                       |
| [**DTM \_ жетмонскал**](dtm-getmonthcal.md)                     | Возвращает маркер для элемента управления "Календарь дочернего месяца выбора даты и времени" (DTP). Это сообщение можно отправить явным образом или использовать макрос [**\_ жетмонскал DateTime**](/windows/desktop/api/Commctrl/nf-commctrl-datetime_getmonthcal) . <br/>                                                                              |
| [**DTM \_**](dtm-getrange.md)                           | Возвращает текущее минимальное и максимальное допустимое системное время для элемента управления "Выбор даты и времени" (DTP). Это сообщение можно отправить явным образом или использовать макрос [**DateTime \_**](/windows/desktop/api/Commctrl/nf-commctrl-datetime_getrange) . <br/>                                                              |
| [**DTM \_ GETSYSTEMTIME**](dtm-getsystemtime.md)                 | Получает выбранное в данный момент время из элемента управления "Выбор даты и времени" (DTP) и помещает его в указанную структуру [**SYSTEMTIME**](/windows/desktop/api/minwinbase/ns-minwinbase-systemtime) . Это сообщение можно отправить явным образом или использовать макрос [**\_ GetSystemtime типа DateTime**](/windows/desktop/api/Commctrl/nf-commctrl-datetime_getsystemtime) . <br/> |
| [**DTM \_ сетформат**](dtm-setformat.md)                         | Задает отображение элемента управления "Выбор даты и времени" (DTP) на основе заданной строки формата. Это сообщение можно отправить явным образом или использовать макрос [**\_ сетформат DateTime**](/windows/desktop/api/Commctrl/nf-commctrl-datetime_setformat) . <br/>                                                                         |
| [**DTM \_ сетмкколор**](dtm-setmccolor.md)                       | Задает цвет для заданной части месячного календаря в элементе управления "Выбор даты и времени" (DTP). Это сообщение можно отправить явным образом или использовать макрос [**\_ сетмонскалколор DateTime**](/windows/desktop/api/Commctrl/nf-commctrl-datetime_setmonthcalcolor) . <br/>                                              |
| [**DTM \_ сетмкфонт**](dtm-setmcfont.md)                         | Задает шрифт, используемый элементом управления "Календарь" элемента управления "Выбор даты и времени" (DTP). Это сообщение можно отправить явным образом или использовать макрос [**\_ сетмонскалфонт DateTime**](/windows/desktop/api/Commctrl/nf-commctrl-datetime_setmonthcalfont) .<br/>                                                    |
| [**DTM \_ сетмкстиле**](dtm-setmcstyle.md)                       | Задает стиль элемента управления DTP. Отправляйте это сообщение явным образом или с помощью макроса [**DateTime \_ сетмонскалстиле**](/windows/desktop/api/Commctrl/nf-commctrl-datetime_setmonthcalstyle) .<br/>                                                                                                                       |
| [**DTM \_ SETRANGE**](dtm-setrange.md)                           | Задает минимальное и максимальное допустимое системное время для элемента управления "Выбор даты и времени" (DTP). Это сообщение можно отправить явным образом или воспользоваться макросом [**DateTime \_ SetRange**](/windows/desktop/api/Commctrl/nf-commctrl-datetime_setrange) . <br/>                                                                      |
| [**DTM \_ сетсистемтиме**](dtm-setsystemtime.md)                 | Задает время в элементе управления "Выбор даты и времени" (DTP). Это сообщение можно отправить явным образом или использовать макрос [**\_ сетсистемтиме DateTime**](/windows/desktop/api/Commctrl/nf-commctrl-datetime_setsystemtime) . <br/>                                                                                                   |



 

### <a name="notifications"></a>Уведомления



| Раздел                                                   | Содержимое                                                                                                                                                                                                                                                                                                                                                     |
|---------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [ДТН \_ крупный план](dtn-closeup.md)                         | Отправляется элементом управления "Выбор даты и времени" (DTP), когда пользователь закрывает календарь раскрывающегося списка. Месячный календарь закрывается, когда пользователь выбирает дату из календаря месяца или щелкает стрелку раскрывающегося списка, когда календарь открыт. <br/>                                                                                                      |
| [ДТН \_ датетимечанже](dtn-datetimechange.md)           | Отправляется элементом управления "Выбор даты и времени" каждый раз, когда происходит изменение. Этот код уведомления отправляется в виде сообщения [**WM \_ Notify**](wm-notify.md) . <br/>                                                                                                                                                                                  |
| [\_раскрывающийся список ДТН](dtn-dropdown.md)                       | Отправляется элементом управления "Выбор даты и времени" (DTP), когда пользователь активирует раскрывающийся календарь с раскрывающимся списком. <br/>                                                                                                                                                                                                                                               |
| [\_Формат ДТН](dtn-format.md)                           | Отправляется элементом управления "Выбор даты и времени" (DTP) для запроса текста, отображаемого в поле обратного вызова. Этот код уведомления отправляется в виде сообщения [**WM \_ Notify**](wm-notify.md) . <br/>                                                                                                                                                       |
| [ДТН \_ форматкуери](dtn-formatquery.md)                 | Отправляется элементом управления "Выбор даты и времени" (DTP) для получения максимально допустимого размера строки, которая будет отображаться в поле обратного вызова. Этот код уведомления отправляется в виде сообщения [**WM \_ Notify**](wm-notify.md) . <br/>                                                                                                           |
| [ДТН \_ усерстринг](dtn-userstring.md)                   | Отправляется элементом управления "Выбор даты и времени" (DTP), когда пользователь заканчивает редактирование строки в элементе управления. Этот код уведомления отправляется только элементами управления DTP, для которых задан стиль [**\_ Аппканпарсе служб DTS**](date-and-time-picker-control-styles.md) . Это сообщение отправляется в виде сообщения [**WM \_ Notify**](wm-notify.md) . <br/> |
| [ДТН \_ вмкэйдовн](dtn-wmkeydown.md)                     | Отправляется элементом управления "Выбор даты и времени" (DTP), когда пользователь вводит в поле обратного вызова. Это сообщение отправляется в виде сообщения [**WM \_ Notify**](wm-notify.md) . <br/>                                                                                                                                                                             |
| [NM \_ киллфокус (Дата и время)](nm-killfocus-date-time.md) | Сообщает родительскому окну элемента управления "Выбор даты и времени", что элемент управления потерял фокус ввода. [**NM \_ КИЛЛФОКУС (Дата и время)**](nm-killfocus-date-time.md) отправляется в виде сообщения [**WM \_ Notify**](wm-notify.md) . <br/>                                                                                                                 |
| [NM \_ SETFOCUS (Дата и время)](nm-setfocus-date-time-.md)  | Сообщает родительскому окну элемента управления "Выбор даты и времени", что элемент управления получил фокус ввода. [NM \_ Функция SETFOCUS (Дата и время)](nm-setfocus-date-time-.md) отправляется в виде сообщения [**WM \_ Notify**](wm-notify.md) . <br/>                                                                                                                  |



 

### <a name="structures"></a>Структуры



| Раздел                                                  | Содержимое                                                                                                                                                                                                                                                                                                                                                                                           |
|--------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**датетимепиккеринфо**](/windows/win32/api/commctrl/ns-commctrl-datetimepickerinfo)       | Содержит сведения об элементе управления DTP. <br/>                                                                                                                                                                                                                                                                                                                                              |
| [**нмдатетимечанже**](/windows/win32/api/commctrl/ns-commctrl-nmdatetimechange)           | Содержит сведения об изменениях, выполненных в элементе управления "Выбор даты и времени" (DTP). Эта структура используется с кодом уведомления [ДТН \_ датетимечанже](dtn-datetimechange.md) . <br/>                                                                                                                                                                                     |
| [**нмдатетимеформат**](/windows/win32/api/commctrl/ns-commctrl-nmdatetimeformata)           | Содержит сведения о части строки формата, определяющей поле обратного вызова в элементе управления выбора даты и времени (DTP). Он несет подстроку, определяющую поле обратного вызова, и содержит буфер для получения строки, которая будет отображаться в поле обратного вызова. Эта структура используется с кодом уведомления [ \_ формата ДТН](dtn-format.md) . <br/>               |
| [**нмдатетимеформаткуери**](/windows/win32/api/commctrl/ns-commctrl-nmdatetimeformatquerya) | Содержит сведения о поле обратного вызова элемента управления "Выбор даты и времени" (DTP). Он содержит подстроку (взятую из строки формата элемента управления), которая определяет поле обратного вызова. Структура получает максимально допустимый размер текста, который будет отображаться в поле обратного вызова. Эта структура используется с кодом уведомления [ДТН \_ форматкуери](dtn-formatquery.md) . <br/> |
| [**нмдатетиместринг**](/windows/win32/api/commctrl/ns-commctrl-nmdatetimestringa)           | Содержит сведения, относящиеся к операции изменения, выполненной в элементе управления "Выбор даты и времени" (DTP). Это сообщение используется с кодом уведомления [ДТН \_ усерстринг](dtn-userstring.md) . <br/>                                                                                                                                                                                |
| [**нмдатетимевмкэйдовн**](/windows/win32/api/commctrl/ns-commctrl-nmdatetimewmkeydowna)     | Содержит сведения, используемые для описания и обработке кода уведомления [ДТН \_ вмкэйдовн](dtn-wmkeydown.md) . <br/>                                                                                                                                                                                                                                                                               |



 

### <a name="constants"></a>Константы



| Раздел                                                                          | Содержимое                                                                                |
|--------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------|
| [Стили элемента управления выбора даты и времени](date-and-time-picker-control-styles.md) | Перечисленные здесь стили окон относятся к элементам управления выбора даты и времени.<br/> |



 

 

