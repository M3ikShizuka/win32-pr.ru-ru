---
title: Сообщение TVM_EXPAND (Коммктрл. h)
description: Сообщение TVM \_ Expand разворачивает или сворачивает список дочерних элементов, связанных с указанным родительским элементом, если таковой имеется. Это сообщение можно отправить явно или с помощью \_ макроса развертывания TreeView.
ms.assetid: d6c2e5b2-ce36-4c2b-b527-91c6de56e305
keywords:
- элементы управления Windows сообщений TVM_EXPAND
topic_type:
- apiref
api_name:
- TVM_EXPAND
api_location:
- Commctrl.h
api_type:
- HeaderDef
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 14d5cd7577c6f4581865569c3aefca93f13aa305
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127165771"
---
# <a name="tvm_expand-message"></a>TVM \_ развернуть сообщение

Сообщение **TVM \_ expand** разворачивает или сворачивает список дочерних элементов, связанных с указанным родительским элементом, если таковой имеется. Это сообщение можно отправить явно или с помощью макроса [**\_ развертывания TreeView**](/windows/desktop/api/Commctrl/nf-commctrl-treeview_expand) .

## <a name="parameters"></a>Параметры

<dl> <dt>

*wParam* 
</dt> <dd>

Флаг действия. Этот параметр может принимать одно или несколько из следующих значений:



| Значение                                                                                                                                                                     | Значение                                                                                                                                                                                                                                                                               |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="TVE_COLLAPSE"></span><span id="tve_collapse"></span><dl> <dt>**ТВЕ \_ Свернуть**</dt> </dl>                | Сворачивает список. <br/>                                                                                                                                                                                                                                                       |
| <span id="TVE_COLLAPSERESET"></span><span id="tve_collapsereset"></span><dl> <dt>**ТВЕ \_ коллапсересет**</dt> </dl> | Сворачивает список и удаляет дочерние элементы. Флаг состояния [**ТВИС \_ експандедонце**](tree-view-control-item-states.md) сброшен. Этот флаг должен использоваться с \_ флагом СВОРАЧИВАНИЯ тве.<br/>                                                                 |
| <span id="TVE_EXPAND"></span><span id="tve_expand"></span><dl> <dt>**\_развернуть тве**</dt> </dl>                      | Раскрывает список.<br/>                                                                                                                                                                                                                                                          |
| <span id="TVE_EXPANDPARTIAL"></span><span id="tve_expandpartial"></span><dl> <dt>**ТВЕ \_ експандпартиал**</dt> </dl> | [Версия 4,70](common-control-versions.md). Частично расширяет список. В этом состоянии дочерние элементы видимы и знак плюс (+) родительского элемента, указывающий, что он может быть развернут, отображается. Этот флаг следует использовать в сочетании с \_ флагом развертывания тве.<br/> |
| <span id="TVE_TOGGLE"></span><span id="tve_toggle"></span><dl> <dt>**\_переключатель тве**</dt> </dl>                      | Сворачивает список, если он развернут, или разворачивает его, если он свернут.<br/>                                                                                                                                                                                                     |



 

</dd> <dt>

*lParam* 
</dt> <dd>

Обработчик родительского элемента, который необходимо развернуть или свернуть.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Возвращает ненулевое значение, если операция выполнена успешно, или ноль в противном случае.

## <a name="remarks"></a>Remarks

Расширение уже развернутого узла считается успешной операцией, и [**SendMessage**](/windows/desktop/api/winuser/nf-winuser-sendmessage) возвращает ненулевое значение. Свертывание узла возвращает нуль, если узел уже свернут; в противном случае возвращается ненулевое значение. Попытка развернуть или свернуть узел, не имеющий дочерних элементов, считается ошибкой, а **SendMessage** возвращает ноль.

Когда элемент сначала разворачивается с помощью **сообщения \_ TVM Expand** , действие создает коды уведомлений [ТВН \_ итемекспандинг](tvn-itemexpanding.md) и [ТВН \_ итемекспандед](tvn-itemexpanded.md) , а также установлен флаг элемента [**ТВИС \_ експандедонце**](tree-view-control-item-states.md) State. Если этот флаг состояния остается установленным, последующие сообщения **TVM \_ expand** не создают \_ уведомления ТВН итемекспандинг или ТВН \_ итемекспандед. Чтобы сбросить флаг состояния **ТВИС \_ експандедонце** , необходимо отправить TVM-сообщение **\_ расширения** с \_ \_ установленными флагами тве свернуть и тве коллапсересет. Попытка явного задания **ТВИС \_ експандедонце** приведет к непредсказуемому поведению.

Операция развертывания может завершиться ошибкой, если владелец элемента управления TreeView отклоняет операцию в ответ на уведомление [ТВН \_ итемекспандинг](tvn-itemexpanding.md) .

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|---------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows \[Только классические приложения Vista\]<br/>                                        |
| Минимальная версия сервера<br/> | Windows Только для \[ настольных приложений сервера 2003\]<br/>                                  |
| Заголовок<br/>                   | <dl> <dt>Коммктрл. h</dt> </dl> |



 

