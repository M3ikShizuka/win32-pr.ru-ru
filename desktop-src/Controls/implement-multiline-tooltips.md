---
title: Как реализовать многострочные подсказки
description: Многострочные подсказки позволяют отображать текст более чем в одной строке.
ms.assetid: 62B10B44-C1C2-4C86-8648-AE6B606BACBB
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f0d6f32d638b2d33ea6270aa5f8ce2c09f0f4174
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "103774198"
---
# <a name="how-to-implement-multiline-tooltips"></a>Как реализовать многострочные подсказки

Многострочные подсказки позволяют отображать текст более чем в одной строке.

Они поддерживаются в [версии 4,70](common-control-versions.md) и более поздних стандартных элементах управления. Приложение создает многострочную подсказку, отправляя сообщение [**ТТМ \_ сетмакстипвидс**](ttm-setmaxtipwidth.md) , указав ширину отображаемого прямоугольника. Текст, превышающий эту ширину, переносится на следующую строку, а не расширяет область отображаемой области. Высота прямоугольника увеличивается по мере необходимости для размещения дополнительных строк. Элемент управления ToolTip автоматически заключает строки в оболочку, или можно использовать сочетание символов возврата каретки или перевода строки, \\ r \\ n, для принудительного разрыва строк в определенных местах.

Результирующий экран показан на следующем рисунке.

![снимок экрана: диалоговое окно с подсказкой, содержащей текст, упорядоченный в виде многострочного абзаца](images/tt-multiline.png)

> [!Note]  
> Текстовый буфер, заданный членом **сзтекст** структуры [**нмттдиспинфо**](/windows/win32/api/commctrl/ns-commctrl-nmttdispinfoa) , может размещать только 80 символов. Если необходимо использовать более длинную строку, наведите элемент **Лпсзтекст** **нмттдиспинфо** на буфер, содержащий нужный текст.

 

## <a name="what-you-need-to-know"></a>Что необходимо знать

### <a name="technologies"></a>Технологии

-   [Элементы управления Windows](window-controls.md)

### <a name="prerequisites"></a>Предварительные условия

-   C/C++
-   Программирование пользовательского интерфейса Windows

## <a name="instructions"></a>Инструкции

### <a name="implement-multiline-tooltips"></a>Реализация многострочных подсказок

Следующий фрагмент кода является примером простого обработчика уведомлений [ТТН \_ жетдиспинфо](ttn-getdispinfo.md) . Он включает многострочную подсказку, устанавливая для прямоугольника экрана значение 150 пикселей. Разрыв строки вручную вставляется после первого слова, чтобы увидеть, что разрывы строк могут быть сложными и мягкими.


```C++
    case WM_NOTIFY:
    {
        switch (((LPNMHDR)lParam)->code)
        {
        case TTN_GETDISPINFO:
            LPNMTTDISPINFO pInfo = (LPNMTTDISPINFO)lParam;
            SendMessage(pInfo->hdr.hwndFrom, TTM_SETMAXTIPWIDTH, 0, 150);
            wcscpy_s(pInfo->szText, ARRAYSIZE(pInfo->szText), 
                L"This\nis a very long text string " \
                L"that must be broken into several lines.");
            break;
        }
        break;
    }
```



## <a name="related-topics"></a>См. также

<dl> <dt>

[Использование элементов управления ToolTip](using-tooltip-contro.md)
</dt> </dl>

 

 




