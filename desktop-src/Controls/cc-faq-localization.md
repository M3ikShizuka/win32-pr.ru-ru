---
title: Поддержка локализации для стандартных элементов управления
description: В этом разделе описывается поддержка национальных языков, встроенных в общие элементы управления.
ms.assetid: c5720198-9071-4213-8dad-50b4c015c5f0
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 70ccc307defa687c8640425dd781660641fe78a8
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "103986269"
---
# <a name="localization-support-for-common-controls"></a>Поддержка локализации для стандартных элементов управления

В этом разделе описывается поддержка национальных языков, встроенных в общие элементы управления. Встроенная поддержка национальных языков упрощает реализацию локализованных приложений.

В этом разделе содержатся следующие подразделы.

-   [Указание языка для общих элементов управления](#specifying-a-language-for-the-common-controls)
-   [Указание языка для элементов управления в диалоговом окне](#specifying-a-language-for-controls-in-a-dialog-box)
-   [См. также](#related-topics)

## <a name="specifying-a-language-for-the-common-controls"></a>Указание языка для общих элементов управления

Если необходимо указать язык для общих элементов управления, отличающихся от языка системы, вызовите [**инитмуилангуаже**](/windows/desktop/api/Commctrl/nf-commctrl-initmuilanguage). Язык, заданный этой функцией, применяется только к процессу, из которого вызывается функция.

Чтобы определить, какой язык в данный момент используется общими элементами управления, вызовите [**жетмуилангуаже**](/windows/desktop/api/Commctrl/nf-commctrl-getmuilanguage). Он возвращает значение, заданное предыдущим вызовом метода [**инитмуилангуаже**](/windows/desktop/api/Commctrl/nf-commctrl-initmuilanguage). Возвращаемый язык — это тот, который был указан для процесса, из которого он вызывается. Если **инитмуилангуаже** не был вызван или был вызван из другого процесса, **жетмуилангуаже** вернет значение по умолчанию.

## <a name="specifying-a-language-for-controls-in-a-dialog-box"></a>Указание языка для элементов управления в диалоговом окне

В отличие от стандартных элементов управления, стандартные элементы управления, такие как кнопки или поля ввода, по умолчанию не используют текущий язык системы. Элемент управления "Шрифт" машинного кода — это невидимый элемент управления, который работает в фоновом режиме, что позволяет использовать стандартные элементы управления диалогового окна для вывода текущего языка системы.

Чтобы использовать собственный элемент управления шрифта, выполните следующую процедуру.

1.  Инициализируйте собственный элемент управления шрифта путем вызова [**InitCommonControlsEx**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrolsex). Установите элемент **двикк** структуры [**INITCOMMONCONTROLSEX**](/windows/win32/api/commctrl/ns-commctrl-initcommoncontrolsex) , на который указывает *лпинитктрлс* , в класс ICC \_ нативефнтктл \_ .
2.  Добавьте элемент управления в скрипт ресурсов для диалогового окна. Установите один или несколько из следующих флагов стиля, чтобы указать, какие элементы управления будут затронуты. 

    | Flag              | Применяется к                                                                                                                                                                                                                                                       |
    |-------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
    | \_изменение NFS         | Изменить элементы управления                                                                                                                                                                                                                                                    |
    | \_СТАТИЧЕСКАЯ NFS       | Статические элементы управления                                                                                                                                                                                                                                                  |
    | \_ЛИСТКОМБО NFS    | Элементы управления List, ComboBox, List-View и ComboBoxEx                                                                                                                                                                                                               |
    | \_кнопка NFS       | Элементы управления "Кнопка"                                                                                                                                                                                                                                                  |
    | \_все NFS          | Все элементы управления                                                                                                                                                                                                                                                     |
    | \_УСЕФОНТАССОК NFS | Восточно-Азиатская платформа. Элемент управления использует функцию сопоставления шрифтов вместо переключения на собственный шрифт. Все остальные платформы игнорируют его. Это не рекомендуется для Windows Vista и не поддерживается в комктл V6. Это существует в комктл V5 для устаревших причин. |

    

     

В следующем примере показано, как добавить собственный элемент управления шрифта в скрипт ресурсов. Это приводит к тому, что элементы управления, списки и поля со списком в диалоговом окне заменяют текст на текущем языке системы.


```
CONTROL    "",-1,"NativeFontCtl",NFS_EDIT|NFS_LISTCOMBO,0,0,0,0
```



## <a name="related-topics"></a>См. также

<dl> <dt>

[Общие сведения об элементах управления](common-controls-intro.md)
</dt> </dl>

 

 




