---
description: В этом разделе содержатся сведения о программировании. В следующем списке приведены некоторые советы по программированию, помогающие написать синтаксический анализатор.
ms.assetid: 24d3e11f-8281-4464-a2d7-f4f2466e9d9e
title: Вопросы программирования (сетевой монитор)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2deb53a27d8abda4f45663b65fb922600a5b5386
ms.sourcegitcommit: b32433cc0394159c7263809ae67615ab5792d40d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/30/2021
ms.locfileid: "113120229"
---
# <a name="programming-considerations-network-monitor"></a><span data-ttu-id="9215c-104">Вопросы программирования (сетевой монитор)</span><span class="sxs-lookup"><span data-stu-id="9215c-104">Programming Considerations (Network Monitor)</span></span>

<span data-ttu-id="9215c-105">В этом разделе содержатся сведения о программировании.</span><span class="sxs-lookup"><span data-stu-id="9215c-105">This topic contains programming information.</span></span> <span data-ttu-id="9215c-106">В следующем списке приведены некоторые советы по программированию, помогающие написать синтаксический анализатор.</span><span class="sxs-lookup"><span data-stu-id="9215c-106">The following list identifies some programming tips to help you write a parser.</span></span>



| <span data-ttu-id="9215c-107">Совет</span><span class="sxs-lookup"><span data-stu-id="9215c-107">Tip</span></span>                                                | <span data-ttu-id="9215c-108">Описание</span><span class="sxs-lookup"><span data-stu-id="9215c-108">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                          |
|-------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="9215c-109">Автоматическая установка средства синтаксического анализа</span><span class="sxs-lookup"><span data-stu-id="9215c-109">Auto-installing your parser</span></span>                     | <span data-ttu-id="9215c-110">Реализуйте функцию [**парсераутоинсталлинфо**](parserautoinstallinfo.md) для автоматической установки средства синтаксического анализа и обновления соответствующих ini-файлов.</span><span class="sxs-lookup"><span data-stu-id="9215c-110">Implement the [**ParserAutoInstallInfo**](parserautoinstallinfo.md) function to automatically install your parser, and update the associated INI files.</span></span> <span data-ttu-id="9215c-111">Если средство синтаксического анализа устанавливается вручную, необходимо обновить все связанные INI-файлы вручную.</span><span class="sxs-lookup"><span data-stu-id="9215c-111">If you install your parser manually, you must update all associated INI files manually.</span></span>                                                                                                                                                          |
| <span data-ttu-id="9215c-112">Свойства протокола анализа</span><span class="sxs-lookup"><span data-stu-id="9215c-112">Parsing protocol properties</span></span>                     | <span data-ttu-id="9215c-113">Реализуйте функцию [**аттачпропертиес**](attachproperties.md) для анализа свойств протокола.</span><span class="sxs-lookup"><span data-stu-id="9215c-113">Implement the [**AttachProperties**](attachproperties.md) function to parse the protocol properties.</span></span> <span data-ttu-id="9215c-114">Старайтесь не использовать функцию [**аттачпропертинстанцеекс**](attachpropertyinstanceex.md) при присоединении экземпляра свойства и использовать его только для данных, не поддерживающих байт, или данных, которые необходимо декодировать.</span><span class="sxs-lookup"><span data-stu-id="9215c-114">Avoid using the [**AttachPropertyInstanceEx**](attachpropertyinstanceex.md) function when you attach a property instance, and use it for only non byte-aligned data, or data that must be decoded.</span></span> <span data-ttu-id="9215c-115">Присоединение свойств означает сопоставление экземпляра свойства с конкретным расположением в записи.</span><span class="sxs-lookup"><span data-stu-id="9215c-115">Attaching properties refers to mapping a property instance to a specific location in a capture.</span></span> |
| <span data-ttu-id="9215c-116">Синтаксический анализ протоколов, разделенных между кадрами</span><span class="sxs-lookup"><span data-stu-id="9215c-116">Parsing protocols that are split between frames</span></span> | <span data-ttu-id="9215c-117">Предположим, что каждая часть протокола завершена внутри фрейма, и предполагается, что пользователь вызывает средство объединения протоколов для объединения частей в один протокол.</span><span class="sxs-lookup"><span data-stu-id="9215c-117">Assume that each piece of the protocol is complete within a frame, and assume that the user calls the Protocol Coalesce tool to combine the pieces into one protocol.</span></span> <span data-ttu-id="9215c-118">Не Проанализируйте предыдущий кадр при синтаксическом анализе протокола и Избегайте повторного создания протокола, разделенного между кадрами.</span><span class="sxs-lookup"><span data-stu-id="9215c-118">Do not look back at a previous frame when parsing a protocol, and avoid trying to reconstruct a protocol that is split between frames.</span></span>                                                                                              |
| <span data-ttu-id="9215c-119">Форматирование отображаемых данных</span><span class="sxs-lookup"><span data-stu-id="9215c-119">Formatting displayed data</span></span>                       | <span data-ttu-id="9215c-120">Вызовите функцию [**форматпропертинстанце**](formatpropertyinstance.md) , чтобы использовать универсальный модуль форматирования для форматирования данных, отображаемых в области сведений пользовательского интерфейса сетевой монитор.</span><span class="sxs-lookup"><span data-stu-id="9215c-120">Call the [**FormatPropertyInstance**](formatpropertyinstance.md) function to use the generic formatter to format the data displayed in the details pane of the Network Monitor UI.</span></span> <span data-ttu-id="9215c-121">Не следует писать пользовательский модуль форматирования для данных, отображаемых в пользовательском интерфейсе.</span><span class="sxs-lookup"><span data-stu-id="9215c-121">Avoid writing a custom formatter for UI display data.</span></span> <span data-ttu-id="9215c-122">Однако можно вызвать пользовательское средство форматирования, чтобы создать строку [*Свойства сводки*](s.md) для анализируемого протокола.</span><span class="sxs-lookup"><span data-stu-id="9215c-122">However, you can call a custom formatter to create a [*summary property*](s.md) line for the protocol you are parsing.</span></span>            |
| <span data-ttu-id="9215c-123">Использование Ккаллок</span><span class="sxs-lookup"><span data-stu-id="9215c-123">Using CCAlloc</span></span>                                   | <span data-ttu-id="9215c-124">Используйте Ккаллок, если требуется, чтобы сетевой монитор выделять данные для каждого отдельного захвата.</span><span class="sxs-lookup"><span data-stu-id="9215c-124">Use CCAlloc when you want Network Monitor to allocate data on a per-capture basis.</span></span> <span data-ttu-id="9215c-125">Сетевой монитор не указывает порядок, в котором фреймы вызывают средство синтаксического анализа.</span><span class="sxs-lookup"><span data-stu-id="9215c-125">Network Monitor does not specify the order that frames call the parser.</span></span>                                                                                                                                                                                                                                                |
| <span data-ttu-id="9215c-126">Сохранение состояния средства синтаксического анализа</span><span class="sxs-lookup"><span data-stu-id="9215c-126">Keeping a parser stateless</span></span>                      | <span data-ttu-id="9215c-127">Сохранить состояние операции синтаксического анализа без отслеживания, так как когда сетевой монитор анализирует запись, она не передает кадры в синтаксический анализатор в определенном порядке.</span><span class="sxs-lookup"><span data-stu-id="9215c-127">Keep parser operation stateless because when Network Monitor parses a capture, it does not pass the frames to the parser in a specific order.</span></span> <span data-ttu-id="9215c-128">По этой причине не рекомендуется хранить глобальные данные.</span><span class="sxs-lookup"><span data-stu-id="9215c-128">For this reason, it is recommended that you do not retain global data.</span></span>                                                                                                                                                                                      |



 

 

 



