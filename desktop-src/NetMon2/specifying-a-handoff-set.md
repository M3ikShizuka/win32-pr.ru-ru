---
description: В переданном наборе указываются протоколы, которые следуют за протоколом. Средство синтаксического анализа использует переданный набор, только если средство синтаксического анализа может определить следующий протокол из данных в экземпляре протокола.
ms.assetid: d1f44646-98ee-4e3a-a81a-83d6c87c23f4
title: Указание переданного набора
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e9acb421963bea3ffaa70b6165c6ffceee138e38
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105682902"
---
# <a name="specifying-a-handoff-set"></a>Указание переданного набора

В переданном наборе указываются протоколы, которые следуют за протоколом. Средство синтаксического анализа использует переданный набор, только если средство синтаксического анализа может определить следующий протокол из данных в экземпляре протокола.

Например, протокол TCP имеет свойство Port, определяющее протокол, который следует за протоколом TCP. Значение свойства, равное 20, указывает, что следующий протокол — FTP. Значение свойства 53 указывает на то, что следующий протокол является DNS. Так как свойство Port определяет протокол, следующий за ним, средство синтаксического анализа TCP может использовать следующий заданный набор для получения маркера для протокола, заданного свойством Port.

``` syntax
[TCP_HandoffSet]
  20    = FTP
  21    = FTP
  23    = TELNET
  25    = SMTP
  53    = DNS
  79    = FINGER
  80    = HTTP
  102   = ISO
  111   = RPC
  119   = NNTP
  137   = NBT, 1000
  138   = NBT, 1002
  139   = NBT, 1001
  389   = LDAP
  445   = NBT, 1001
  515   = LPR
  612   = HMMP
  613   = HMMP
  1024  = NBT, 1001
  1047  = NBT, 1001
  1362  = TDS
  1433  = TDS
  1723  = PPTP
  3020  = NBT, 1001
  3268  = LDAP
  5678  = PPTP
```

Передающее наборы хранятся в INI-файле средства синтаксического анализа. Например, предыдущий переданный TCP-набор находится в файле tcpip.ini. Обратите внимание, что если библиотека DLL средства синтаксического анализа поддерживает несколько протоколов, каждое средство синтаксического анализа, использующее этот набор, имеет собственное расположение в INI-файле.

Сведения о передаче задаются во время реализации функции [**парсераутоинсталлинфо**](parserautoinstallinfo.md) . Средство синтаксического анализа может указывать протоколы, которые предшествуют протоколу синтаксического анализа, и протоколы, которые следуют за протоколом анализатора. Сетевой монитор принимает все протоколы, предшествующие, и добавляет протокол синтаксического анализатора в разделы "Section" в INI-файле средства синтаксического анализа — для каждого предыдущего протокола. Сетевой монитор сохраняет список протоколов, которые следуют в разделе "набираемый набор" INI-файла средства синтаксического анализа.

Сетевой монитор сохраняет сведения о переданных наборе в INI-файле средства синтаксического анализа, но средство синтаксического анализа не обращается к INI-файлам напрямую. Чтобы использовать сведения из этого набора, средство синтаксического анализа вызывает функцию [**креатехандоффтабле**](createhandofftable.md) для создания таблицы передачи. Как правило, таблица передачи создается, когда средство синтаксического анализа регистрирует протокол. После регистрации протокола сетевой монитор создает таблицу набираемых наборов, которую может использовать анализатор.

При распознавании данных синтаксический анализатор использует его набираемый набор. Сначала средство синтаксического анализа считывает значение свойства, идентифицирующего следующий протокол. Затем средство синтаксического анализа вызывает [**жетпротоколфромтабле**](getprotocolfromtable.md) для получения маркера для следующего протокола. Наконец, средство синтаксического анализа возвращает указатель на маркер в параметре *фнекстпротокол* объекта [**рекогнизефраме**](recognizeframe.md).

 

 



