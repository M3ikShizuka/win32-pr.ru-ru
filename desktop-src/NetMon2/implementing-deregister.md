---
description: Сетевой монитор передает все кадры записи в средства синтаксического анализа, а затем запускает вызов функции дерегистрации для всех определяемых им протоколов. Каждая библиотека DLL анализатора должна реализовывать функцию дерегистрации для каждого протокола, поддерживаемого библиотекой DLL средства синтаксического анализа.
ms.assetid: 936d5b00-b0ee-4a29-9396-1e2a7a91a2dd
title: Реализация отмены регистрации
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2ee07c5b6b3c746e9c29811332b9e7674e49db26
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127057294"
---
# <a name="implementing-deregister"></a>Реализация отмены регистрации

Сетевой монитор передает все кадры записи в средства синтаксического анализа, а затем запускает вызов функции [**дерегистрации**](deregister.md) для всех определяемых им протоколов. Каждая библиотека DLL анализатора должна реализовывать функцию **дерегистрации** для каждого протокола, ПОДДЕРЖИВАЕМого библиотекой DLL средства синтаксического анализа.

Каждая реализация функции [**дерегистрации**](deregister.md) должна вызывать функцию [**дестройпротоколдатабасе**](destroypropertydatabase.md) для освобождения ресурсов, используемых для создания базы данных.

Следующая процедура определяет один шаг, необходимый для реализации [**отмены регистрации**](deregister.md).

**Реализация отмены регистрации для одного протокола**

-   Вызовите [**дестройпротоколдатабасе**](destroypropertydatabase.md) , чтобы освободить ресурсы базы данных.

Ниже приведена базовая реализация [**отмены регистрации**](deregister.md). Обратите внимание, что в примере кода показан выпуск ресурсов, которые используются для создания базы данных свойств.

``` syntax
#include <windows.h>

VOID WINAPI MyProtocolDeregister (HPROTOCOL hProtocol)
{
  DestroyPropertyDatabase (hProtocol);
}
```

 

 



