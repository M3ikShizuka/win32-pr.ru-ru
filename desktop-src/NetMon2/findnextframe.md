---
description: Находит следующий кадр в текущем контексте записи, соответствующий фильтру.
ms.assetid: cc99b4a0-b6b0-43b4-8121-0e402d024009
title: Функция Финднекстфраме (Netmon. h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- FindNextFrame
api_type:
- DllExport
api_location:
- Nmapi.dll
ms.openlocfilehash: 2e303f7f9031ad451ad19be8bc8cbcd3abae3f46
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104540226"
---
# <a name="findnextframe-function"></a>Функция Финднекстфраме

Функция **финднекстфраме** находит следующий кадр в текущем контексте отслеживания, соответствующий фильтру.

## <a name="syntax"></a>Синтаксис


```C++
HFRAME WINAPI FindNextFrame(
   HFRAME    hCurrentFrame,
   LPSTR     ProtocolName,
   LPADDRESS DestinationAddress,
   LPADDRESS SourceAddress,
   LPWORD    ProtocolOffset,
   DWORD     OriginalFrameNumber,
   DWORD     HighestFrame
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*хкуррентфраме* 
</dt> <dd>

Маркер фрейма.

</dd> <dt>

*ProtocolName* 
</dt> <dd>

Имя протокола, например TCP.

</dd> <dt>

*DestinationAddress* 
</dt> <dd>

Адрес назначения.

</dd> <dt>

*саурцеаддресс* 
</dt> <dd>

Исходный адрес.

</dd> <dt>

*протоколоффсет* 
</dt> <dd>

Указатель на **слово** , которое будет принимать смещение протокола.

</dd> <dt>

*оригиналфраменумбер* 
</dt> <dd>

Начальная точка поиска. По умолчанию эта функция выполняет поиск в пересылках кадров 1 000, начиная с начальной точки *оригиналфраменумбер* . Чтобы изменить расстояние поиска вперед, добавьте эту строку в файл Nmapi.ini, расположенный в \\ каталоге сетевой монитор.

МАКСЛУКБАКК =<new lookforward distance>

</dd> <dt>

*хигхестфраме* 
</dt> <dd>

Наибольший номер кадра в записи, в которой выполняется поиск.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Если функция выполнена успешно, возвращаемое значение является маркером для следующего кадра.

Если функция не выполнена успешно, возвращается значение **null**.

## <a name="remarks"></a>Комментарии

Фильтр записи определяется в первую очередь параметром *ProtocolName* , который является единственным обязательным входом фильтра. Вы можете добавить данные *дестинатионаддресс* и *саурцеаддресс* , чтобы увеличить скорость записи.

Указатель *протоколоффсет* возвращается вызывающему средству синтаксического анализа, который добавляет **слово** к указателю, возвращаемому при блокировке кадра (WITH [Парсертемпорарилоккфраме](parsertemporarylockframe.md)), чтобы получить **LPBYTE** протокола для поиска. При возврате ХФРАМЕ, которому был передан фильтр, выдается анализатору. Если средство синтаксического анализа обнаруживает, что этот кадр не найден, средство синтаксического анализа может передать ХФРАМЕ обратно в функцию **финднекстфраме** , чтобы получить следующий кадр. Исходный и конечный адреса не являются обязательными и могут быть переданы как **null**.

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|--------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows 2000 Professional \[только классические приложения\]<br/>                           |
| Минимальная версия сервера<br/> | Windows 2000 Server \[только классические приложения\]<br/>                                 |
| Заголовок<br/>                   | <dl> <dt>Netmon. h</dt> </dl>  |
| Библиотека<br/>                  | <dl> <dt>Нмапи. lib</dt> </dl> |
| DLL<br/>                      | <dl> <dt>Nmapi.dll</dt> </dl> |



 

 




