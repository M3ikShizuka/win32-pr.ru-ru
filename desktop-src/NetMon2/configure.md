---
description: Настраивает эксперт в библиотеке DLL эксперта.
ms.assetid: 3906569d-9ad4-4c03-9637-f4a57697b227
title: Настройка функции обратного вызова (Netmon. h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- Configure
api_type:
- UserDefined
api_location:
- Netmon.h
ms.openlocfilehash: 76ba55b7544e35a07b74a41788a3befa766f87bc
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127253861"
---
# <a name="configure-callback-function"></a>Настройка функции обратного вызова

Функция **Configure** настраивает эксперт в библиотеке DLL эксперта.

Эксперт должен реализовать функцию **Configure** . При получении вызова функции эксперт отображает диалоговое окно, позволяющее пользователю изменять любой настраиваемый элемент.

## <a name="syntax"></a>Синтаксис


```C++
BOOL WINAPI Configure(
  _In_    HEXPERTKEY         hExpertKey,
  _Inout_ PEXPERTCONFIG      *ppConfig,
  _In_    PEXPERTSTARTUPINFO pExpertStartupInfo,
  _In_    DWORD              StartupFlags,
  _In_    HWND               hWnd
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*хексперткэй* \[ окне\]
</dt> <dd>

Уникальный идентификатор эксперта.

Уникальный идентификатор передается обратно для всех функций сетевой монитор, зависящих от эксперта. Имейте в виду, что идентификатор может не совпадать с ключом эксперта, который был передан функции [**Run**](run.md) . Не храните ключ эксперта в вызове **Configure** .

</dd> <dt>

*ппконфиг* \[ в, out\]
</dt> <dd>

Указатель на указатель на структуру [**експертконфиг**](expertconfig.md) после записи.

После успешного выхода структура [**експертконфиг**](expertconfig.md) , на которую указывает ссылка, содержит новые данные конфигурации.

</dd> <dt>

*пекспертстартупинфо* \[ окне\]
</dt> <dd>

Указатель на элемент захвата с фокусом при запуске эксперта.

</dd> <dt>

*Стартупфлагс* \[ окне\]
</dt> <dd>

Флаги, указывающие, как эксперт должен использовать параметр *пекспертстартупинфо* . Единственный заданный флаг — это **флаг запуска "Эксперт". \_ \_ \_ Используйте данные о \_ загрузке \_ \_ для \_ \_ данных конфигурации**. Флаг указывает, что эксперт будет использовать параметр *пекспертстартупинфо* , а не переданный параметр *ппконфиг* . Обычно флаг задается при запуске эксперта из контекстного меню.

</dd> <dt>

*HWND* \[ окне\]
</dt> <dd>

Маркер родительского окна. Используйте маркер, чтобы открыть диалоговое окно.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Если функция выполнена успешно (то есть, если текущая конфигурация существует), возвращается значение **true**.

Если функция завершается неудачно, возвращается значение **false**.

## <a name="remarks"></a>Комментарии

Сетевой монитор вызывает функцию **Configure** с текущей конфигурацией эксперта, если она существует. Эксперт отображает диалоговое окно, в котором можно изменить любой настраиваемый элемент.

Если *ппконфиг* передается и сетевой монитор не имеет конфигурации, хранящейся для указанного эксперта, значение параметра может быть **равно NULL**. В этом случае функция **Configure** принимает жестко запрограммированные значения по умолчанию (или использует сведения о запуске) для открытия диалогового окна.

Данные конфигурации также могут иметь **значение NULL** , если функция **Configure** возвращает, а **значение NULL** было передано. Такая ситуация возникает, когда сетевой монитор не имеет сохраненного значения по умолчанию и пользователь нажимает кнопку **Отмена**.

В начале структуры данных [**експертконфиг**](expertconfig.md) входит частный раздел, в котором хранятся сведения о размере структуры. Размер структуры **експертконфиг** должен включать зарезервированную длину **DWORD** , которая отображается в начале структуры. Например, если для данных конфигурации требуется 20 байт дискового пространства, выделите 24 байта для хранения данных. Если *ппконфиг* имеет **значение NULL**, функция **Configure** вызывает функцию [**експерталлокмемори**](expertallocmemory.md) для выделения новой конфигурации, которая имеет правильный размер. Если буфер недостаточно для хранения данных экспертов, эксперт должен вызвать функцию [**експертреаллокмемори**](expertreallocmemory.md) .

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|-------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows 2000 Professional \[только классические приложения\]<br/>                          |
| Минимальная версия сервера<br/> | Windows 2000 Server \[только классические приложения\]<br/>                                |
| Заголовок<br/>                   | <dl> <dt>Netmon. h</dt> </dl> |



 

 




