---
title: Использование функций настройки монитора High-Level
description: Использование функций настройки монитора High-Level
ms.assetid: 23e5d45d-a924-4119-b21d-b24764b53a94
keywords:
- монитор, функции
- мониторинг, функции конфигурации высокого уровня
- мониторинг, перечисление физических мониторов
- монитор, непрерывные параметры
- Конфигурация мониторинга, функции высокоуровневой конфигурации
- мониторинг конфигурации, функции
- Конфигурация монитора, перечисление физических мониторов
- Конфигурация монитора, непрерывные параметры
- Перечисление физических мониторов
- функции конфигурации высокого уровня
- Параметры непрерывного монитора
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ff494388aac91d8aacd92ed4fe345722ea18659f
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/19/2020
ms.locfileid: "105661709"
---
# <a name="using-the-high-level-monitor-configuration-functions"></a>Использование функций настройки монитора High-Level

## <a name="enumerating-physical-monitors"></a>Перечисление физических мониторов

Существует несколько функций, которые перечисляют устройства вывода, включая [**енумдисплаймониторс**](/windows/desktop/api/winuser/nf-winuser-enumdisplaymonitors) и [**мониторфромвиндов**](/windows/desktop/api/winuser/nf-winuser-monitorfromwindow). Эти функции описаны в документации по Windows GDI в разделе [несколько мониторов монитора](/windows/desktop/gdi/multiple-display-monitors). Эти функции возвращают дескрипторы **хмонитор** . Несмотря на имя, обработчик **хмонитор** может быть связан с более чем одним физическим монитором. Чтобы настроить параметры на мониторе, приложение должно получить уникальный маркер физического монитора, вызвав [**жетфисикалмониторсфромхмонитор**](/windows/desktop/api/PhysicalMonitorEnumerationAPI/nf-physicalmonitorenumerationapi-getphysicalmonitorsfromhmonitor).

Если приложение использует Direct3D, вы можете получить маркер монитора из устройства Direct3D, вызвав [**GetPhysicalMonitorsFromIDirect3DDevice9**](/windows/desktop/api/PhysicalMonitorEnumerationAPI/nf-physicalmonitorenumerationapi-getphysicalmonitorsfromidirect3ddevice9).

## <a name="supported-functions"></a>Поддерживаемые функции

Монитор может не поддерживать все функции конфигурации монитора. Чтобы узнать, какие функции поддерживает монитор, вызовите [**жетмониторкапабилитиес**](/windows/desktop/api/HighLevelMonitorConfigurationAPI/nf-highlevelmonitorconfigurationapi-getmonitorcapabilities).

## <a name="continuous-monitor-settings"></a>Параметры непрерывного монитора

Параметр *непрерывного* монитора, который может варьироваться от минимального до максимального значения. Большинство функций конфигурации монитора высокого уровня управляют параметрами непрерывного монитора. Например, яркость и контрастность — непрерывные параметры.

В параметрах непрерывного монитора не определены реальные единицы. Единицы являются произвольными и могут изменяться от одного производителя к другому. Если два монитора имеют одинаковое значение яркости, например, один монитор может выглядеть намного ярче, чем другой. Как правило, приложение будет представлять собой ползунки или элементы управления "вверх-вниз" для пользователя. Затем пользователь может настроить параметры, чтобы обеспечить наилучшее субъективное качество.

## <a name="changes-in-monitor-state"></a>Изменения в состоянии монитора

Монитор может изменять состояния по различным причинам, включая следующие:

-   Пользователь изменяет параметры с помощью элементов управления на передней панели монитора.
-   Пользователь изменяет разрешение экрана монитора, частоту обновления или глубину.
-   Приложение использует низкоуровневые функции монитора для изменения параметра, недоступного в функциях высокого уровня.
-   Приложение вызывает [**ресторемониторфакториколордефаултс**](/windows/desktop/api/HighLevelMonitorConfigurationAPI/nf-highlevelmonitorconfigurationapi-restoremonitorfactorycolordefaults) или [**ресторемониторфакторидефаултс**](/windows/desktop/api/HighLevelMonitorConfigurationAPI/nf-highlevelmonitorconfigurationapi-restoremonitorfactorydefaults).

Все эти события могут изменять параметры монитора. Они также могут изменять минимальное и максимальное значения параметра.

## <a name="dependencies-among-monitor-settings"></a>Зависимости между параметрами монитора

Изменение цветовой температуры может изменить текущий диск и получить параметры, а также обратную замену. Это единственные зависимости между функциями конфигурации монитора высокого уровня. Другие параметры могут быть доступны только через функции монитора низкого уровня. Между этими параметрами и параметрами высокого уровня могут существовать зависимости. Эти зависимости связаны с конкретным поставщиком. Приложение может решить эту проблему несколькими способами:

-   Используйте только функции высокого уровня.
-   После вызова функции низкого уровня получите текущее значение всех параметров монитора. К сожалению, этот подход может быть очень трудоемким, поскольку получение каждого параметра занимает около 40 миллисекунд.
-   Используйте низкоуровневые функции только с конкретными моделями мониторинга, поведение которых вы понимаете.

## <a name="disabled-monitor-settings"></a>Отключенные параметры монитора

Приложение не может отключить какие-либо параметры монитора, вызвав функции монитора высокого уровня. Однако приложение может случайно отключить параметр, если он использует низкоуровневые функции для изменения параметра монитора, который не поддерживается функциями высокого уровня. Кроме того, пользователь может отключить параметр с помощью элемента управления на передней панели. Это поведение зависит от поставщика.

Если параметр монитора становится отключенным, любая функция, которая устанавливает или получает этот параметр, завершится ошибкой и установит параметр монитора "код последней ошибки \_ отключен" \_ \_ . В этом случае приложение может выполнить одно из следующих действий:

-   Отобразится сообщение об ошибке и предложение пользователю, которое попытается настроить параметр с помощью элемента управления на передней панели.
-   Вызовите функцию [**ресторемониторфакторидефаултс**](/windows/desktop/api/HighLevelMonitorConfigurationAPI/nf-highlevelmonitorconfigurationapi-restoremonitorfactorydefaults) . Если монитор имеет \_ \_ заводские \_ значения по умолчанию для \_ восстановления \_ \_ , включает флаг параметров монитора, эта функция включает все параметры монитора, которые поддерживаются функциями монитора высокого уровня. К сожалению, функция также сбрасывает параметры монитора до заводских настроек по умолчанию.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Использование конфигурации монитора](using-monitor-configuration.md)
</dt> </dl>

 

 