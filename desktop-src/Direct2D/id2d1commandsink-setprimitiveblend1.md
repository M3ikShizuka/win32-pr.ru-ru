---
title: ID2D1CommandSink1 SetPrimitiveBlend1, метод
description: Задает новый режим простого смешения.
ms.assetid: 3EA9EC07-1B2F-48A2-ABFB-2DA0E2EFFBF4
keywords:
- Метод SetPrimitiveBlend1 Direct2D
- Метод SetPrimitiveBlend1 Direct2D, интерфейс ID2D1CommandSink1
- Интерфейс ID2D1CommandSink1 Direct2D, метод SetPrimitiveBlend1
topic_type:
- apiref
api_name:
- ID2D1CommandSink1.SetPrimitiveBlend1
api_type:
- COM
ms.topic: reference
ms.date: 05/31/2018
api_location: ''
ms.openlocfilehash: b3aa961eec873cc84e5b34ce41279c09f580e63d
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127163103"
---
# <a name="id2d1commandsink1setprimitiveblend1-method"></a>Метод ID2D1CommandSink1:: SetPrimitiveBlend1

Задает новый режим простого смешения.

## <a name="syntax"></a>Синтаксис


```C++
HRESULT SetPrimitiveBlend1(
   D2D1_PRIMITIVE_BLEND primitiveBlend
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*примитивебленд* 
</dt> <dd>

Тип: **[ **D2D1- \_ примитив \_ Blend**](/windows/desktop/api/D2d1_1/ne-d2d1_1-d2d1_primitive_blend)**

Примитивное смешение, которое будет применяться к последующим примитивам.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Тип: **HRESULT**

Если метод завершается успешно, возвращается значение **S \_ ОК**. В случае сбоя возвращается код ошибки **HRESULT** .

## <a name="remarks"></a>Комментарии

### <a name="blend-modes"></a>Режимы смешения

Для отрисовки с псевдонимами (за исключением режима MIN) выходное значение O вычислено путем линейной интерполяции значения *Blend (S, D)* с целевым значением пикселя на основе величины, на которую примитив охватывает целевой пиксель.

В таблице ниже показаны режимы простого смешения для наложения псевдонимов и сглаживания. В формулах, перечисленных в таблице, используются следующие элементы:

-   O = выходные данные
-   S = источник
-   SA = источник альфа
-   D = назначение
-   DA = альфа-канал назначения
-   C = покрытие пикселей



| Режим "примитивный Blend"                 | Смешение с псевдонимами                            | Смешение с сглаживанием            | Описание                                                                                                              |
|--------------------------------------|---------------------------------------------|---------------------------------|--------------------------------------------------------------------------------------------------------------------------|
| D2D1- \_ примитивный \_ \_ источник Blend \_ | O = (S + (1 SA) \* D) \* C + D \* (1 C) | O = S \* C + D \* (1 SA \* C)   | Стандартный режим наложения «источник с назначением».                                                                         |
| Копирование D2D1- \_ примитивного \_ смешения \_         | O = S \* C + D \* (1 C)                   | O = S \* C + D \* (1 C)       | Источник копируется в место назначения; целевые Пиксели игнорируются.                                             |
| D2D1- \_ примитивное \_ \_ минимальное смешение          | O = min (S + 1-SA, D)                        | O = min (S \* C + 1 SA \* c, D) | Результирующие значения пикселей используют минимальное значение исходного и целевого пикселей. доступно в Windows 8 и более поздних версиях. |
| D2D1- \_ примитивное \_ \_ Добавление          | O = (S + D) \* C + D \* (1 C)             | O = S \* C + D                  | Результирующие значения пикселей — это сумма значений исходного и конечного пикселей. доступно в Windows 8 и более поздних версиях.     |



 

![Иллюстрация Direct2D-примитивных режимов наложения с различной прозрачностью и фоновыми рисунками.](images/primblenddemo.png)

Иллюстрация примитивных режимов наложения с различной прозрачностью и фоновыми рисунками.

Примитив Blend будет применяться ко всему примитиву, рисуемому в контексте, если это не переопределено с помощью параметра *компоситемоде* в API-интерфейсе [**DrawImage**](/windows/win32/api/d2d1_1/nf-d2d1_1-id2d1devicecontext-drawimage(id2d1image_constd2d1_point_2f_constd2d1_rect_f_d2d1_interpolation_mode_d2d1_composite_mode)) .

Примитив Blend применяется к внутренней части всех примитивов, отображаемых в контексте. В случае с [**DrawImage**](/windows/win32/api/d2d1_1/nf-d2d1_1-id2d1devicecontext-drawimage(id2d1image_constd2d1_point_2f_constd2d1_rect_f_d2d1_interpolation_mode_d2d1_composite_mode))это будет предприниматься прямоугольником изображения, смещением и универсальным преобразованием.

Если примитив Blend является любым, отличным от **D2D1- \_ примитивного \_ смешения \_ по сравнению** с, то рендеринг ClearType будет отключен. Если приложение явно вызывает визуализацию ClearType в этих режимах, то контекст рисования будет помещен в состояние ошибки. D2DERR \_ \_ будет возвращено неправильное состояние: [**EndDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-enddraw) или [**flush**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-flush).

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|-----------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows 8.1 \[ приложения UWP для классических приложений \|\]<br/>                                     |
| Минимальная версия сервера<br/> | Windows Server 2012 Приложения универсального \[ приложения UWP для настольных приложений \|\]<br/>                          |
| Минимальный поддерживаемый телефон<br/>  | Windows Phone 8,1 \[ Windows Phone Silverlight 8,1 и среда выполнения Windows приложения\]<br/> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[**ID2D1CommandSink1**](/windows/win32/api/d2d1_2/nn-d2d1_2-id2d1commandsink1)
</dt> </dl>

 

