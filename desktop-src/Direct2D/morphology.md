---
title: Морфологи, результат
description: Используйте морфологиный результат к границам тонкого или сиккенного периметра изображения.
ms.assetid: 4B3CFC51-D556-4729-B433-7307C80291F4
keywords:
- эффекты морфологи
- непоздний результат
- разрушить, результат
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f43cf41810ae0b16c9bc96dd37473a0231fc132c
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127162684"
---
# <a name="morphology-effect"></a>Морфологи, результат

Используйте морфологиный результат к границам тонкого или сиккенного периметра изображения. Этот результат создает ядро, в котором в два раза больше заданные значения ширины и высоты. Этот результат выравнивает ядро на раздельном пикселе и возвращает максимальное значение в ядре (если дилатинг) или минимальное значение в ядре (если еродинг).

Идентификатором CLSID для этого действия является CLSID \_ D2D1Morphology.

## <a name="example-images"></a>Примеры изображений

В этом примере показаны выходные данные этого действия при использовании режима разрушить.



| До                                                     |
|------------------------------------------------------------|
| ![изображение перед результатом.](images/default-before.jpg) |
| После                                                      |
| ![изображение после преобразования.](images/7-morphology.png) |



 


```C++
ComPtr<ID2D1Effect> morphologyEffect;
m_d2dContext->CreateEffect(CLSID_D2D1Morphology, &morphologyEffect);

morphologyEffect->SetInput(0, bitmap);

morphologyEffect->SetValue(D2D1_MORPHOLOGY_PROP_MODE, D2D1_MORPHOLOGY_MODE_ERODE);
morphologyEffect->SetValue(D2D1_MORPHOLOGY_PROP_WIDTH, 14);

m_d2dContext->BeginDraw();
m_d2dContext->DrawImage(morphologyEffect.Get());
m_d2dContext->EndDraw(); 
```



## <a name="effect-properties"></a>Свойства эффектов



| Отображаемое имя и перечисление индекса                          | Тип и значение по умолчанию                                                     | Описание                                                                                                                                                       |
|-------------------------------------------------------------|----------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Режим<br/> D2D1 \_ морфологи \_ \_ режим Prop<br/>     | \_Режим МОРФОЛОГИ \_ D2D1<br/> D2D1 \_ морфологи \_ Mode \_ разрушить<br/> | Режим морфологи. Доступные режимы: разрушить (сведение) и a-поздно (сиккен).<br/> Дополнительные сведения см. в разделе [режимы морфологи](#morphology-modes) .<br/> |
| Ширина<br/> \_Ширина D2D1 \_ морфологи \_<br/>   | UINT<br/> 1<br/>                                               | Размер ядра в направлении X. Единицы измерения — DIP. Значения должны быть в диапазоне от 1 до 100 включительно.                                                         |
| Высота:<br/> \_Высота D2D1 \_ морфологи \_<br/> | UINT<br/> 1<br/>                                               | Размер ядра в направлении Y. Единицы измерения — DIP. Значения должны быть в диапазоне от 1 до 100 включительно.                                                         |



 

## <a name="morphology-modes"></a>Режимы морфологи



| Имя                           | Описание                                                    |
|--------------------------------|----------------------------------------------------------------|
| D2D1 \_ морфологи \_ Mode \_ разрушить  | Используется максимальное значение из каждого канала RGB в ядре. |
| D2D1 \_ морфологи \_ Mode \_ | Используется минимальное значение из каждого канала RGB в ядре. |



 

## <a name="output-bitmap"></a>Битовая карта вывода

Для режима переводит размер битовой карты увеличивается: 

| Требование | Значение |
|--------------------------|-----------------------------------------|
| Увеличение битовой карты вывода X = | INT (FLOAT (ширина) \* (dpi для пользователей)/96))  |
| Увеличение битовой карты вывода Y = | INT (FLOAT (высота) \* (dpi пользователя)/96)) |



 

Для режима РАЗРУШИТЬ размер битовой карты сжимается:

| Требование | Значение |
|--------------------------|------------------------------------------|
| Увеличение битовой карты вывода X = | INT (FLOAT (-Width) \* (dpi для пользователей)/96))  |
| Увеличение битовой карты вывода Y = | INT (FLOAT (-Height) \* (dpi для пользователей)/96)) |



 

## <a name="requirements"></a>Требования



| Требование | Значение |
|--------------------------|------------------------------------------------------------------------------------|
| Минимальная версия клиента | Windows 8 и обновление платформы для Windows 7 \[ классических приложений \| Windows приложения магазина\] |
| Минимальная версия сервера | Windows 8 и обновление платформы для Windows 7 \[ классических приложений \| Windows приложения магазина\] |
| Заголовок                   | d2d1effects. h                                                                      |
| Библиотека                  | D2D1. lib, дксгуид. lib                                                               |



 

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[**ID2D1Effect**](/windows/win32/api/d2d1_1/nn-d2d1_1-id2d1effect)
</dt> </dl>

 

