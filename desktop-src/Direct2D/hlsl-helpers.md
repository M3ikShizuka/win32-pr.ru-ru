---
title: Вспомогательные методы HLSL
description: Чтобы помочь авторам повлиять на написание построителей шейдеров пикселей, d2d1effecthelpers. hlsli определяет набор расширений языка HLSL в виде вспомогательных методов и макросов.
ms.assetid: 5D0BB99E-7C77-4D45-82E6-F038E4B752A4
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 608ae4b47b96616f8818cd45b466c02a7b09b2171383fbe82ecbe055ed0915b8
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119569564"
---
# <a name="hlsl-helpers"></a>Вспомогательные методы HLSL

Чтобы помочь авторам повлиять на написание построителей шейдеров пикселей, d2d1effecthelpers. hlsli определяет набор расширений языка HLSL в виде вспомогательных методов и макросов.

Чтобы добавить d2d1effecthelpers. hlsli в проект, добавьте \# инструкцию include в файл HLSL. d2d1effecthelpers. hlsli находится в том же расположении, что и другие заголовки Direct2D, такие как D2D1. h; для ссылки на него можно использовать страницу свойств файла HLSL, добавив макрос $ (Виндовссдк \_ IncludePath) в свойство Дополнительные каталоги включаемых файлов. Обратите внимание, что \# оператор include должен следовать после всех директив препроцессора, таких как \_ число входов D2D \_ .

``` syntax
#include <d2d1effecthelpers.hlsli>
```

Direct2D не поддерживает связывание вычислений или шейдеров вершин. Однако если в результате используется и шейдер вершин, и шейдер пикселей, выходные данные шейдера пикселей по-прежнему могут быть связаны.

## <a name="preprocessor-directives"></a>Директивы препроцессора

Для передачи сведений об этом действии требуются директивы препроцессора. Сюда входит число входов и тип выборки для каждого входного значения. Следующие значения должны быть определены в коде шейдера эффектов над соответствующей точкой входа шейдера, когда это применимо.

-   `D2D_INPUT_COUNT <N>` : Объявляет количество входных данных текстуры для результата. Если результат имеет переменное число входов, это значение должно быть соответствующим образом ограничено каждой точкой входа шейдера. Определение этого значения является обязательным.
-   `D2D_INPUT<N>_SIMPLE` : Объявляет n входных данных для использования простой выборки. Если не определено, по умолчанию используется значение n. Определение этого значения является необязательным.
-   `D2D_INPUT<N>_COMPLEX` : Объявляет n входных данных для использования сложной выборки. Если не определено, по умолчанию используется значение n. Определение этого значения является необязательным.
-   `D2D_REQUIRES_SCENE_POSITION` : Указывает, что функция шейдера вызывает вспомогательные методы, использующие значение расположения сцены (а именно, вспомогательную функцию [D2DGetScenePosition](d2dgetsceneposition.md) ). Этот параметр следует включать только при необходимости, так как только одна функция на связанный шейдер может использовать этот параметр. Определение этого значения является необязательным.
-   `D2D_CUSTOM_ENTRY` : Указывает, что функция шейдера пикселей использует выходные данные пользовательского шейдера вершин и, таким образом, объявляет свои входные параметры. Все пользовательские входные шейдеры вершин используют сложную выборку и не могут использовать выходные данные другой функции шейдера (т. е. они доступны только после компоновки). Определение этого значения является необязательным.

Пример:

``` syntax
#define D2D_INPUT_COUNT 3
#define D2D_INPUT0_SIMPLE
#define D2D_INPUT1_SIMPLE
#define D2D_INPUT2_COMPLEX
#include <d2d1effecthelpers.hlsli>
          
```

## <a name="helper-functions"></a>Вспомогательные функции

Вспомогательные функции используются в качестве замены для некоторых встроенных функций HLSL. Во время компиляции эти вспомогательные функции переопределяются Direct2D в соответствующую версию в зависимости от типа целевого объекта компиляции (полного шейдера или функции экспорта).

Вспомогательные функции:

<dl>

[D2DGetInput](d2dgetinput.md)  
[D2DSampleInput](d2dsampleinput.md)  
[D2DSampleInputAtOffset](d2dsampleinputatoffset.md)  
[D2DSampleInputAtPosition](d2dsampleinputatposition.md)  
[D2DGetInputCoordinate](d2dgetinputcoordinate.md)  
[D2DGetScenePosition](d2dgetsceneposition.md)  
[\_Запись D2D PS \_](d2d-ps-entry.md)  
</dl>

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Связывание шейдеров эффектов](effect-shader-linking.md)
</dt> </dl>

 

 




