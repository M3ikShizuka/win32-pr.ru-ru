---
title: Интерактивный пользовательский интерфейс
description: Поставщик, реализующий протокол проверки подлинности, может также предоставлять интерактивный пользовательский интерфейс для протокола.
ms.assetid: 4f8ba0a4-3b52-4e7c-9e67-748f8d81d7a2
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 811f35ac3492e45e80721f800925a003edbb8116ac8c199a1b633e08a28de675
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119117784"
---
# <a name="interactive-user-interface"></a>Интерактивный пользовательский интерфейс

Поставщик, реализующий протокол проверки подлинности, может также предоставлять интерактивный пользовательский интерфейс для протокола. Интерактивный пользовательский интерфейс позволяет протоколу проверки подлинности получать от пользователя дополнительные сведения, необходимые во время сеанса проверки подлинности.

Интерактивный пользовательский интерфейс может быть реализован в той же библиотеке DLL, что и протокол проверки подлинности, или в отдельной библиотеке DLL. Кроме того, Библиотека DLL, реализующая интерактивный пользовательский интерфейс, может поддерживать более одного протокола проверки подлинности. Путь к библиотеке DLL для интерактивного пользовательского интерфейса хранится в параметре реестра [RAS \_ EAP \_ valueName \_ интерактивеуи](authentication-protocol-registry-values.md) в разделе ключа для протокола проверки подлинности. Дополнительные сведения о создании этого значения реестра см. в разделе [Установка EAP](eap-installation.md).

Библиотека DLL для интерактивного пользовательского интерфейса должна экспортировать точки входа для следующих функций:<dl>

[**расеапинвокеинтерактивеуи**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapinvokeinteractiveui)  
[**расеапфримемори**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapfreememory)  
</dl>

Интерактивный пользовательский интерфейс должен поддерживать [**\_ Командные сообщения WM**](../menurc/wm-command.md) , где [**ловорд**](/previous-versions/windows/desktop/legacy/ms632659(v=vs.85))(*wParam*) равняется идканцел.

Для вывода интерактивного пользовательского интерфейса протокол проверки подлинности должен установить **значение true** для элемента **финвокеинтерактивеуи** в структуре [**\_ \_ вывода PPP EAP**](/windows/desktop/api/Raseapif/ns-raseapif-ppp_eap_output) . При необходимости протокол проверки подлинности может также установить для членов **пуиконтекстдата** и **двсизеофуиконтекстдата** **значение true** . Служба проверки подлинности использует значения этих членов для передачи контекстных данных интерактивному пользовательскому интерфейсу. Протокол проверки подлинности **возвращает \_ \_ выходную структуру PPP EAP** в качестве параметра функции [**расеапмакемессаже**](/previous-versions/windows/desktop/legacy/aa363532(v=vs.85)) .

Служба проверки подлинности вызывает интерактивный пользовательский интерфейс путем вызова [**расеапинвокеинтерактивеуи**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapinvokeinteractiveui). Затем служба передает протоколу проверки подлинности указатель на данные, возвращаемые интерактивным пользовательским интерфейсом, в последующем вызове [**расеапмакемессаже**](/previous-versions/windows/desktop/legacy/aa363532(v=vs.85)). Указатель передается в качестве члена входной структуры [**PPP \_ EAP \_**](/windows/desktop/api/Raseapif/ns-raseapif-ppp_eap_input) . После возврата **расеапмакемессаже** служба вызывает [**расеапфримемори**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapfreememory) , чтобы освободить память, занятую данными. Поэтому протокол проверки подлинности должен скопировать информацию в буфер закрытой памяти во время вызова **расеапмакемессаже**.

 

 