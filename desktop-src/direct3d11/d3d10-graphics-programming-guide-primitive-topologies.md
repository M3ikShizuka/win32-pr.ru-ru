---
title: Примитивные топологии
description: Direct3D 10 и более поздние версии поддерживают несколько типов-примитивов (или топологий), которые представлены \_ \_ перечисляемым типом топологии примитивов D3D. Эти типы определяют, как вершины обрабатываются и визуализируются в конвейере.
ms.assetid: 357ad085-fd91-4420-abc3-1c57e8cbb517
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0e83f901d4d91d01a3cffedddb343fde7b50c20e
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "104337585"
---
# <a name="primitive-topologies"></a>Примитивные топологии

Direct3D 10 и более поздние версии поддерживают несколько типов-примитивов (или топологий), которые представлены перечисляемым типом [**\_ \_ топологии примитивов D3D**](/windows/desktop/api/D3DCommon/ne-d3dcommon-d3d_primitive_topology) . Эти типы определяют, как вершины обрабатываются и визуализируются в конвейере.

-   [Основные простые типы](#basic-primitive-types)
-   [Элементарное соседство](#primitive-adjacency)
-   [Направление поворота и начальные положения вершины](#winding-direction-and-leading-vertex-positions)
-   [Создание нескольких полос](#generating-multiple-strips)
-   [См. также](#related-topics)

## <a name="basic-primitive-types"></a>Основные простые типы

Поддерживаются следующие базовые типы-примитивы:

-   [Список точек](/windows/desktop/direct3d9/point-lists)
-   [Список строк](/windows/desktop/direct3d9/line-lists)
-   [Полоса строк](/windows/desktop/direct3d9/line-strips)
-   [Список треугольников](/windows/desktop/direct3d9/triangle-lists)
-   [Полоса трианже](/windows/desktop/direct3d9/triangle-strips)

Для визуализации каждого типа-примитива см. схему далее в этом разделе в [направлении поворота и начальных позициях вершин](#winding-direction-and-leading-vertex-positions).

Этап входного ассемблера считывает данные из буферов вершин и индексов, собирает данные в эти примитивы, а затем отправляет данные на остальные этапы конвейера. (Можно использовать метод [**ссылку ID3D11DeviceContext:: иасетпримитиветопологи**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-iasetprimitivetopology) , чтобы указать тип-примитив для этапа входного ассемблера.)

## <a name="primitive-adjacency"></a>Элементарное соседство

Все типы-примитивы Direct3D 10 и выше (за исключением списка точек) доступны в двух версиях: один примитивный тип с соседией и один примитивный тип без соседства. Примитивы с соседством содержат некоторые окружающие вершин, а примитивы без соседство содержат только вершины целевого примитива. Например, примитив списка линий (представленный значением линелист для **\_ топологии- \_ \_ примитива D3D** ) имеет соответствующий примитив списка линий, включающий соседство (представленное **значением \_ \_ \_ \_ года линелистной топологии D3D** ).

Соседние примитивы предоставляют дополнительные сведения о геометрии и видны только через шейдер геометрии. Соседство полезно для шейдеров геометрии, которые используются обнаружение силуэтов, экструзию теневых объемов и т. д.

Например, предположим, что вы хотите нарисовать список треугольников с соседством. Список треугольников, содержащий 36 вершин (с соседством), даст 6 завершенных примитивов. Примитивы с соседством (за исключением ломаных) содержат ровно два раза больше вершин, чем эквивалентный примитив без соседства, где каждая дополнительная вершина является соседней.

## <a name="winding-direction-and-leading-vertex-positions"></a>Направление поворота и начальные положения вершины

Как показано на следующем рисунке, передняя вершина — это первая несмежная вершина в примитиве. Для типа примитива может быть задано несколько начальных вершин, если каждая из них используется для различных примитивов. Для полосы треугольников с соседством передние вершины — это 0, 2, 4, 6 и т. д. Для ломаной с соседством передние вершины — 1, 2, 3 и т. д. С другой стороны у соседнего примитива нет передних вершин.

На следующем рисунке показан порядок вершин для всех типов примитивов, которые может получить сборщик входных данных.

![схема порядка вершин для типов примитивов](images/d3d10-primitive-topologies.png)

В следующей таблице описаны символы, использованные в предыдущем примере.



| Символ                                                                                   | name              | Описание                                                                                                                                                                                        |
|------------------------------------------------------------------------------------------|-------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ![символ вершины](images/d3d10-primitive-topologies-vertex.png)                     | Вершина            | Точка в трехмерном пространстве.                                                                                                                                                                               |
| ![символ направления поворота](images/d3d10-primitive-topologies-winding-direction.png) | Направление поворота | Порядок вершин при сборке примитива. Может быть по часовой стрелке или против часовой стрелки; Укажите это путем вызова [**ID3D11Device1:: CreateRasterizerState1**](/windows/desktop/api/D3D11_1/nf-d3d11_1-id3d11device1-createrasterizerstate1). |
| ![символ передней вершины](images/d3d10-primitive-topologies-leading-vertex.png)       | Передняя вершина    | Первая несмежная вершина в примитиве, содержащем данные констант.                                                                                                                      |



 

## <a name="generating-multiple-strips"></a>Создание нескольких полос

Вы можете создать несколько полос с помощью вырезания полос. Вы можете вырезать полосы, явно вызвав HLSL-функцию [RestartStrip](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-so-restartstrip) или вставив специальное значение индекса в буфер индексов. Это значение –1, т. е. 0xffffffff для 32-разрядных индексы или 0xffff для 16-разрядные индексов. Индекс –1 указывает на явное «вырезание» или «перезапуск» текущей полосы. Предыдущий индекс завершает предыдущий примитив или полосу, а следующий индекс начинает новый примитив или полосу. Дополнительные сведения о создании нескольких полос см. в разделе [этап шейдера Geometry](/previous-versions//bb205146(v=vs.85)).

> [!Note]  
> Требуется [уровень компонентов](overviews-direct3d-11-devices-downlevel-intro.md) 10,0 или выше, так как не все 10level9 оборудование реализует эту функцию.

 

## <a name="related-topics"></a>См. также

<dl> <dt>

[Начало работы с этапом Input-Assembler](d3d10-graphics-programming-guide-input-assembler-stage-getting-started.md)
</dt> <dt>

[Этапы конвейера (Direct3D 10)](/windows/desktop/direct3d10/d3d10-graphics-programming-guide-pipeline-stages)
</dt> </dl>

 

 