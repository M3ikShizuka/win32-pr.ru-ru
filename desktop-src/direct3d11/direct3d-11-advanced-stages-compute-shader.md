---
title: Общие сведения о вычислении шейдера
description: Шейдер вычислений — это программируемый этап шейдера, который расширяет возможности Microsoft Direct3D 11 после программирования графики. Технология вычислений с шейдером также называется технологией DirectCompute.
ms.assetid: 02c1f98e-fdd6-49b0-b8b2-efbd472ab599
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 485e83ab965f14342d235a07810f210e18aadc53
ms.sourcegitcommit: 556bf3a984f2fc4d18e370329c3043bf3329c93f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/09/2021
ms.locfileid: "107222872"
---
# <a name="compute-shader-overview"></a>Общие сведения о вычислении шейдера

Шейдер вычислений — это программируемый этап шейдера, который расширяет возможности Microsoft Direct3D 11 после программирования графики. Технология вычислений с шейдером также называется технологией DirectCompute.

Как и другие программируемые шейдеры (например, шейдеры вершин и Geometry), шейдер вычислений разрабатывается и реализуется с помощью [HLSL](/windows/desktop/direct3dhlsl/dx-graphics-hlsl) , но именно там, где заканчивается сходство. Шейдер вычислений позволяет выполнять высокоскоростные универсальные вычисления и использует большое количество параллельных процессоров в графическом процессоре. Шейдер вычислений предоставляет функции совместного использования памяти и синхронизации потоков, чтобы разрешить использование более эффективных методов параллельного программирования. Вызов метода [**ссылку ID3D11DeviceContext::D Patch**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-dispatch) или [**ссылку ID3D11DeviceContext::D испатчиндирект**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-dispatchindirect) для выполнения команд в шейдере вычислений. Шейдер вычислений может выполняться параллельно во многих потоках.

## <a name="using-compute-shader-on-direct3d-10x-hardware"></a>Использование COMPUTE Shader на оборудовании Direct3D 10. x

Вычисление шейдера в Microsoft Direct3D 10 также известно как DirectCompute 4. x.

Если вы используете API Direct3D 11 и обновленные драйверы, то аппаратный [уровень компонентов](overviews-direct3d-11-devices-downlevel-intro.md) 10 и 10,1 Direct3D может дополнительно поддерживать ограниченную форму DirectCompute, использующую \_ Профили CS 4 \_ 0 и \_ CS \_ 4 [](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-models)1. При использовании DirectCompute на этом оборудовании учитывайте следующие ограничения.

-   Максимальное число потоков ограничено размером в \_ \_ группу потоков D3D11 CS 4 \_ X MAX threads \_ \_ \_ \_ \_ на \_ группу (768) на группу.
-   Размерность X и Y **numthreads** ограничена D3D11 \_ CS \_ 4 \_ x \_ \_ группа потоков \_ Max \_ x (768) и D3D11 \_ CS \_ 4 \_ x \_ Thread \_ Group \_ Max \_ Y (768).
-   Размер Z-измерения **numthreads** ограничен 1.
-   Размерность Z для диспетчеризации ограничена D3D11 \_ CS \_ 4 \_ X \_ Dispatch максимальное количество \_ \_ групп потоков \_ \_ в \_ Z \_ -измерении (1).
-   Только одно неупорядоченное представление доступа можно привязать к шейдеру (D3D11 \_ CS \_ 4 \_ X \_ UAV \_ registers \_ Count равен 1).
-   В качестве неупорядоченных представлений доступа доступны только [рвструктуредбуффер](/windows/desktop/direct3dhlsl/sm5-object-rwstructuredbuffer)s и [рвбитеаддрессбуффер](/windows/desktop/direct3dhlsl/sm5-object-rwbyteaddressbuffer).
-   Поток может получить доступ к собственному региону в памяти граупшаред для записи, хотя он может считывать из любого расположения.
-   [ОКП \_](/previous-versions/windows/desktop/legacy/ff471569(v=vs.85))При доступе к памяти **граупшаред** для записи необходимо использовать граупиндекс или [SV \_ граупсреадид](/windows/desktop/direct3dhlsl/sv-groupthreadid) .
-   Память **граупшаред** ограничена 16 КБ на группу.
-   Один поток ограничен размером 256 байт **граупшаред** памяти для записи.
-   Атомарные инструкции недоступны.
-   Значения двойной точности недоступны.

## <a name="using-compute-shader-on-direct3d-11x-hardware"></a>Использование COMPUTE Shader на оборудовании Direct3D 11. x

Вычисление шейдера в Direct3D 11 также известно как DirectCompute 5,0.

При использовании DirectCompute с \_ \_ [профилями](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-models)CS 5 0 учитывайте следующие пункты:

-   Максимальное число потоков ограничено D3D11 \_ CS количество \_ \_ \_ \_ потоков \_ в группе \_ (1024) для каждой группы.
-   Размерность X и Y **numthreads** ограничена D3D11 CS для \_ \_ группы потоков \_ \_ Max \_ X (1024) и D3D11 \_ CS \_ \_ \_ Max \_ Y (1024).
-   Измерение Z для **numthreads** ограничено \_ группой потоков D3D11 CS \_ \_ \_ Max \_ Z (64).
-   Максимальная длина диспетчеризации ограничена D3D11 \_ CS \_ Максимальное количество \_ \_ \_ групп потоков \_ на \_ измерение (65535).
-   Максимальное число неупорядоченных представлений доступа, которые могут быть привязаны к шейдеру, — D3D11 \_ PS \_ CS \_ UAV \_ Register \_ (8).
-   Поддерживает [рвструктуредбуффер](/windows/desktop/direct3dhlsl/sm5-object-rwstructuredbuffer)s, [рвбитеаддрессбуффер](/windows/desktop/direct3dhlsl/sm5-object-rwbyteaddressbuffer)и типизированные неупорядоченные представления доступа ([RWTexture1D](/windows/desktop/direct3dhlsl/sm5-object-rwtexture1d), [RWTexture2D](/windows/desktop/direct3dhlsl/sm5-object-rwtexture2d), [RWTexture3D](/windows/desktop/direct3dhlsl/sm5-object-rwtexture3d)и т. д.).
-   Доступны атомарные инструкции.
-   Может быть доступна поддержка двойной точности. Сведения о том, как определить, доступна ли двойная точность, см. в разделе [**D3D11- \_ функция \_ double**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_feature).

## <a name="in-this-section"></a>В этом разделе



| Раздел                                                                              | Описание                                                                                                                                                                                                                                                           |
|------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [Новые типы ресурсов](direct3d-11-advanced-stages-cs-resources.md)<br/>      | В Direct3D 11 были добавлены несколько новых типов ресурсов.<br/>                                                                                                                                                                                                 |
| [Доступ к ресурсам](direct3d-11-advanced-stages-cs-access.md)<br/>        | Существует несколько способов доступа к [ресурсам](overviews-direct3d-11-resources-types.md).<br/>                                                                                                                                                                   |
| [Атомарные функции](direct3d-11-advanced-stages-cs-atomic-functions.md)<br/> | Чтобы получить доступ к новому типу ресурса или общей памяти, используйте блокируемую встроенную функцию. Блокируемые функции гарантированно работают в атомарном режиме. То есть они гарантированно выполняются в запрограммированном порядке. В этом разделе перечислены атомарные функции.<br/> |



 

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Графический конвейер](overviews-direct3d-11-graphics-pipeline.md)
</dt> <dt>

[Как создать вычисление шейдера](direct3d-11-advanced-stages-compute-create.md)
</dt> </dl>

 

