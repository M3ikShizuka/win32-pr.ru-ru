---
title: Изменение размера пула плиток
description: Используйте API ID3D11DeviceContext2 Ресизетилепул, чтобы расширить пул плиток, если приложению требуется больше рабочего набора для сопоставления мозаичных ресурсов или для сжатия, если требуется меньше пространства.
ms.assetid: 529E874E-650B-4BFD-97F6-E66E743564A9
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 86368da46f7c2219f42b5ecbc122b79fee19e72c
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "103887788"
---
# <a name="tile-pool-resizing"></a>Изменение размера пула плиток

Используйте API [**ID3D11DeviceContext2:: ресизетилепул**](/windows/desktop/api/D3D11_2/nf-d3d11_2-id3d11devicecontext2-resizetilepool) , чтобы расширить пул плиток, если приложению требуется больше рабочего набора для сопоставления с мозаичными ресурсами или для сжатия, если требуется меньше пространства. Другим вариантом для приложений является выделение дополнительных пулов плиток для новых мозаичных ресурсов. Но если одному мозаичному ресурсу требуется больше места, чем изначально доступно в его пуле плиток, лучше всего увеличивать пул плиток. Мозаичный ресурс не может одновременно сопоставляться с несколькими пулами плиток.

При увеличения пула плиток дополнительные плитки добавляются в конец драйвером дисплея посредством одного или нескольких выделений. Разбивка выделения памяти недоступна для приложения. Существующая память в пуле плиток остается нетронутой, а существующие сопоставления незаполненных ресурсов в этой памяти остаются без изменений.

При уменьшении пула плитки удаляются с конца. Плитки удаляются даже при размере ниже исходного, до 0. Это означает, что новые сопоставления не могут быть сделаны за пределами нового размера. При этом существующие сопоставления за пределами нового размера остаются без изменений и могут быть использованы. Драйвер дисплея сохраняет выделенную память до тех пор, пока существуют сопоставления с любой частью выделенной памяти, используемой драйвером в качестве памяти для пула плиток. Если после уменьшения часть памяти остается активной, поскольку на нее указывают сопоставления плиток, а затем пул плиток снова увеличивается (на любое значение), сначала повторно используется существующая память, а затем выделяется дополнительная память для обслуживания операции по увеличению.

Чтобы сэкономить память, приложение должно не только уменьшать пул плиток, но и удалять или преобразовывать существующие сопоставления за пределами нового уменьшенного размера пула плиток.

Процесс уменьшения (и удаления сопоставлений) не всегда непосредственно приводит к экономии памяти. Освобождение памяти зависит от того, насколько детально базовое распределение драйвером дисплея памяти для пула плиток. Если уменьшения пула достаточно, чтобы выделенная драйвером дисплея память перестала использоваться, драйвер может ее освободить. Если пул плиток увеличился, уменьшение его до предыдущего размера (и соответствующее удаление или переназначение сопоставлений плиток) с большей вероятностью приведет к экономии памяти, хотя и не гарантируется, если размеры в точности не соответствуют размерам базового распределения, выбранным драйвером дисплея.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Сопоставления в пуле плиток](mappings-are-into-a-tile-pool.md)
</dt> </dl>

 

 




