---
title: Сжатие блоков текстуры в Direct3D 11
description: В Direct3D 11 расширена поддержка сжатия блоков для текстур и теперь она включает алгоритмы BC6H и BC7.
ms.assetid: E0735D4E-9C0F-45DC-854A-C27EB8367D86
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b52c2c764c0f9dca4021dcb14187db67e697cd7155701294a9c6214b4543d00b
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "120027804"
---
# <a name="texture-block-compression-in-direct3d-11"></a>Сжатие блоков текстуры в Direct3D 11

В Direct3D 11 расширена поддержка сжатия блоков для текстур и теперь она включает алгоритмы BC6H и BC7. BC6H поддерживает исходные данные цвета из высокодинамичного диапазона, а BC7 обеспечивает качество сжатия выше среднего с меньшим количеством артефактов для стандартных исходных данных RGB.

Более подробные сведения о поддержке алгоритма блочного сжатия в версиях до Direct3D 11 включая поддержку форматов BC1–BC5 см. в статье [Блочное сжатие (Direct3D 10)](/windows/desktop/direct3d10/d3d10-graphics-programming-guide-resources-block-compression).

**Примечание о форматах файлов:** Форматы сжатия текстур BC6H и BC7 используют формат файлов DDS для хранения сжатых данных текстуры. Дополнительные сведения см. в статье [Руководство по программированию для DDS](/windows/desktop/direct3ddds/dx-graphics-dds-pguide).

## <a name="block-compression-formats-supported-in-direct3d-11"></a>Форматы блочного сжатия, поддерживаемые в Direct3D 11



| Исходные данные                                  | Минимальное требуемое разрешение сжатия данных                              | Рекомендуемый формат | Минимальный поддерживаемый уровень возможностей |
|----------------------------------------------|---------------------------------------------------------------------------|--------------------|---------------------------------|
| Трехканальный цвет с альфа-каналом       | Три цветовых канала (5 бит:6 бит:5 бит), с нулевым или 1-битным альфа-каналом  | BC1                | Direct3D 9.1                    |
| Трехканальный цвет с альфа-каналом       | Три цветовых канала (5 бит:6 бит:5 бит), с 4-битным альфа-каналом         | BC2                | Direct3D 9.1                    |
| Трехканальный цвет с альфа-каналом       | Три цветовых канала (5 бит:6 бит:5 бит) с 8-битным альфа-каналом          | BC3                | Direct3D 9.1                    |
| Одноканальный цвет                            | Один цветовой канал (8 бит)                                                | BC4                | Direct3D 10                     |
| Двухканальный цвет                            | Два цветовых канала (8 бит:8 бит)                                        | BC5                | Direct3D 10                     |
| Трехканальный цвет с расширенным динамическим диапазоном (HDR) | Три цветовых канала (16 бит: 16 бит, 16 бит) в "половинной" плавающей запятой\* | BC6H               | Direct3D 11                     |
| Трехканальный цвет, альфа-канал необязателен  | Три цветовых канала (4–7 бит на канал), альфа-канал 0–8 бит  | BC7                | Direct3D 11                     |



 

\*"Половина" плавающей запятой — это 16-разрядное значение, состоящее из необязательного бита знака, 5-разрядного смещенного показателя степени и 10 или 11-разрядной мантисса.

## <a name="bc1-bc2-and-b3-formats"></a>Форматы BC1, BC2 и В3

Форматы BC1, BC2 и BC3 эквивалентны форматам сжатия текстур DXTn Direct3D 9 и совпадают с соответствующими форматами BC1, BC2, и BC3 в Direct3D. Поддержка этих трех форматов необходима для всех уровней компонентов (уровень компонента D3D 9 1, уровень возможностей D3D 9 2, уровень функции D3D 9, уровень возможностей D3D: 10 0, уровень компонента D3D 10 \_ \_ \_ \_ \_ \_ \_ \_ \_ \_ \_ \_ \_ \_ \_ \_ \_ \_ \_ \_ 1 и \_ уровень функций D3D \_ \_ 11 \_ 0).



| Формат блочного сжатия | Формат DXGI                                                                           | Эквивалентный формат в Direct3D 9                               | Байт в блоке 4×4 пикселя |
|--------------------------|---------------------------------------------------------------------------------------|------------------------------------------------------------|---------------------------|
| BC1                      | \_Формат DXGI \_ BC1 \_ UNORM, \_ Формат DXGI \_ BC1 \_ UNORM \_ sRGB, \_ Формат DXGI \_ BC1 \_ тип | D3DFMT \_ DXT1, FourCC = "DXT1"                                | 8                         |
| BC2                      | \_Формат DXGI \_ BC2 \_ UNORM, \_ Формат DXGI \_ BC2 \_ UNORM \_ sRGB, \_ Формат DXGI \_ BC2 \_ тип | D3DFMT \_ DXT2 \* , FourCC = "DXT2", D3DFMT \_ DXT3, FourCC = "DXT3" | 16                        |
| BC3                      | \_Формат DXGI \_ BC3 \_ UNORM, \_ Формат DXGI \_ BC3 \_ UNORM \_ sRGB, \_ Формат DXGI \_ BC3 \_ тип | D3DFMT \_ DXT4 \* , FourCC = "DXT4", D3DFMT \_ DXT5, FourCC = "DXT5" | 16                        |



 

\*Эти схемы сжатия (DXT2 и DXT4) не имеют различий между форматами альфа-канала с предварительным умножением Direct3D 9 и стандартными форматами альфа. Это различие должно обрабатываться программируемыми шейдерами во время отрисовки.

## <a name="bc4-and-bc5-formats"></a>Форматы BC4 и BC5



| Формат блочного сжатия | Формат DXGI                                                                     | Эквивалентный формат в Direct3D 9 | Байт в блоке 4×4 пикселя |
|--------------------------|---------------------------------------------------------------------------------|------------------------------|---------------------------|
| BC4                      | \_Формат DXGI \_ BC4 \_ UNORM, \_ Формат DXGI \_ BC4 \_ снорм, \_ Формат DXGI \_ BC4 \_ тип | FourCC="ATI1"                | 8                         |
| BC5                      | \_Формат DXGI \_ Bc5 \_ UNORM, \_ Формат DXGI \_ Bc5 \_ снорм, \_ Формат DXGI \_ Bc5 \_ тип | FourCC="ATI2"                | 16                        |



 

## <a name="bc6h-format"></a>Формат BC6H

Дополнительные сведения об этом формате см. в документации по [формату BC6H](bc6h-format.md).



| Формат блочного сжатия | Формат DXGI                                                                      | Эквивалентный формат в Direct3D 9 | Байт в блоке 4×4 пикселя |
|--------------------------|----------------------------------------------------------------------------------|------------------------------|---------------------------|
| BC6H                     | \_Формат DXGI \_ BC6H \_ UF16, \_ Формат DXGI \_ BC6H \_ SF16, \_ Формат DXGI \_ BC6H \_ тип | н/д                          | 16                        |



 

Для формата BC6H можно выбирать разные режимы кодирования для каждого блока размером 4×4 пикселя. Доступно 14 различных режимов кодирования, каждый из которых обладает собственными, немного отличающимися от других плюсами и минусами, касающимися итогового качества отображения текстуры. Выбор режима обеспечивает быстрое декодирование оборудованием с выбранным или адаптированным в соответствии с исходным содержимым уровнем качества, но при этом значительно увеличивает сложность пространства поиска.

## <a name="bc7-format"></a>Формат BC7

Дополнительные сведения об этом формате см. в документации по [формату BC7](bc7-format.md).



| Формат блочного сжатия | Формат DXGI                                                                           | Эквивалентный формат в Direct3D 9 | Байт в блоке 4×4 пикселя |
|--------------------------|---------------------------------------------------------------------------------------|------------------------------|---------------------------|
| BC7                      | \_Формат DXGI \_ BC7 \_ UNORM, \_ Формат DXGI \_ BC7 \_ UNORM \_ sRGB, \_ Формат DXGI \_ BC7 \_ тип | н/д                          | 16                        |



 

Для формата BC7 можно выбирать разные режимы кодирования для каждого блока размером 4×4 пикселя. Доступно 8 различных режимов кодирования, каждый из которых обладает собственными, немного отличающимися от других плюсами и минусами, касающимися итогового качества отображения текстуры. Выбор режима обеспечивает быстрое декодирование оборудованием с выбранным или адаптированным в соответствии с исходным содержимым уровнем качества, но при этом значительно увеличивает сложность пространства поиска.

## <a name="in-this-section"></a>В этом разделе



| Раздел                                                                 | Описание                                                                                                                          |
|-----------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------|
| [Формат BC6H](bc6h-format.md)<br/>                             | Формат BC6H — это формат сжатия текстуры, предназначенный для обеспечения поддержки цветовых пространств HDR в исходных данных.<br/> |
| [Формат BC7](bc7-format.md)<br/>                               | Формат BC7 — это формат сжатия текстур, используемый для высококачественного сжатия данных RGB и RGBA.<br/>                    |
| [Справочник по режиму форматирования BC7](bc7-format-mode-reference.md)<br/> | Эта документация содержит список 8 блочных режимов и битовых выделений для блоков формата сжатия BC7 текстуры.<br/>    |



 

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Блочное сжатие (Direct3D 10)](/windows/desktop/direct3d10/d3d10-graphics-programming-guide-resources-block-compression)
</dt> <dt>

[Текстуры](overviews-direct3d-11-resources-textures.md)
</dt> </dl>

 

