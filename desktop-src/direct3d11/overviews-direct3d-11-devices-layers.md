---
title: Программные уровни
description: Среда выполнения Direct3D 11 создается с использованием слоев, начиная с базовой функциональности ядра и создавая необязательные функции и возможности для разработчиков во внешних слоях. В этом разделе описываются функциональные возможности каждого слоя.
ms.assetid: c545983c-5351-42a9-82e5-deea73aa035f
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cb05658860e678e8020392cb046a634e3b03c7c2
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "104533191"
---
# <a name="software-layers"></a>Программные уровни

Среда выполнения Direct3D 11 создается с использованием слоев, начиная с базовой функциональности ядра и создавая необязательные функции и возможности для разработчиков во внешних слоях. В этом разделе описываются функциональные возможности каждого слоя.

Как правило, слои добавляют функциональные возможности, но не изменяют существующее поведение. Например, основные функции будут иметь одинаковые возвращаемые значения независимо от создаваемого слоя отладки, хотя при создании экземпляра слоя отладки могут быть предоставлены дополнительные выходные данные отладки.

Чтобы создать слои при создании устройства, вызовите [**D3D11CreateDevice**](/windows/desktop/api/D3D11/nf-d3d11-d3d11createdevice) или [**D3D11CreateDeviceAndSwapChain**](/windows/desktop/api/D3D11/nf-d3d11-d3d11createdeviceandswapchain) и укажите один или несколько [**D3D11 создать значения \_ \_ \_ флага устройства**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_create_device_flag) .

Direct3D 11 предоставляет следующие уровни среды выполнения:

-   [Уровень ядра](#core-layer)
-   [Отладочный слой](#debug-layer)
-   [См. также](#related-topics)

## <a name="core-layer"></a>Уровень ядра

Основной слой существует по умолчанию. обеспечение очень тонкого сопоставления между API и драйвером устройства, что сводит к минимуму затраты на вызовы с высокой частотой. Поскольку основной уровень является важным для производительности, он выполняет только критическую проверку. Остальные слои являются необязательными.

## <a name="debug-layer"></a>Отладочный слой

Слой отладки предоставляет широкие возможности проверки целостности и согласованности (например, проверка компоновки шейдера и привязки ресурсов, проверка согласованности параметров и сообщения об ошибках).

Чтобы создать устройство, поддерживающее уровень отладки, необходимо установить пакет SDK DirectX (для получения D3D11SDKLayers.dll), а затем указать флаг **D3D11 \_ Create \_ Device \_ Debug** при вызове функции [**D3D11CreateDevice**](/windows/desktop/api/D3D11/nf-d3d11-d3d11createdevice) или функции [**D3D11CreateDeviceAndSwapChain**](/windows/desktop/api/D3D11/nf-d3d11-d3d11createdeviceandswapchain) . Если приложение запускается с включенным уровнем отладки, приложение будет работать значительно медленнее. Но чтобы гарантировать, что приложение будет очищать ошибки и предупреждения перед отправкой, используйте отладочный слой. Дополнительные сведения см. в разделе [Использование отладочного слоя для отладки приложений](using-the-debug-layer-to-test-apps.md).


> [!Note]  
> Для создания устройства, поддерживающего уровень отладки Windows 7 с обновлением платформы для Windows 7 (KB2670838) или Windows 8. x, установите пакет средств разработки программного обеспечения (SDK) для Windows 8. x, чтобы получить \_1SDKLayers.dll D3D11.


> [!Note]  
> В Windows 10 для создания устройства, поддерживающего уровень отладки, включите необязательный компонент "графические средства". Перейдите на панель "Параметры" в разделе "система", "приложения & компоненты", "Управление дополнительными компонентами", "добавить компонент" и найдите "графические инструменты".


> [!Note]  
> Сведения об удаленной отладке приложений DirectX см. в разделе [Отладка приложений DirectX удаленно](/windows/desktop/direct3dtools/debugging-directx-apps-remotely).

 

Кроме того, флаг отладки можно включить или отключить с помощью [панели управления DirectX](/previous-versions//bb219725(v=vs.85)) , входящей в состав пакета SDK DirectX.

Когда уровень отладки перечисляет утечки памяти, он выводит список указателей на объектные интерфейсы и их понятные имена. Понятное имя по умолчанию — безымянное &lt; &gt; . Понятное имя можно задать с помощью метода [**ID3D11DeviceChild:: сетприватедата**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicechild-setprivatedata) и идентификатора GUID **вкпдид \_ D3DDebugObjectName** , который находится в D3Dcommon. h. Например, чтобы присвоить имя Птекстуре имя Сдклайер mytexture.jpg, используйте следующий код:


```
const char c_szName[] = "mytexture.jpg";
pTexture->SetPrivateData( WKPDID_D3DDebugObjectName, sizeof( c_szName ) - 1, c_szName );
```



Как правило, следует компилировать эти вызовы из рабочей версии.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Устройства](overviews-direct3d-11-devices.md)
</dt> </dl>

 

 