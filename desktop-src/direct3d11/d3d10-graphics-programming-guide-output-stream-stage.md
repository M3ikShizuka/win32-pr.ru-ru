---
title: Стадия Stream-Output
description: Целью этапа потокового вывода является непрерывный вывод (или потоковая) данных вершин с этапа шейдера геометрии (или этапа вершинного шейдера, если этап Geometry-Shader неактивен) в один или несколько буферов в памяти (см. начало работы с этапом Stream-Output).
ms.assetid: f902dc93-9612-481b-a6bd-073e924a4c79
keywords:
- Стадия вывода потока (Direct3D 10)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7f630208b60b107b211f8bb6f6ee0f1efac3ed736c96756dbe1e95e24032b02f
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118538578"
---
# <a name="stream-output-stage"></a>Стадия Stream-Output

Целью этапа потокового вывода является непрерывный вывод (или потоковая) данных вершин с этапа шейдера геометрии (или этапа вершинного шейдера, если этап Geometry-Shader неактивен) в один или несколько буферов в памяти (см. [Начало работы с этапом Stream-Output](d3d10-graphics-programming-guide-output-stream-stage-getting-started.md)).

Этап потокового вывода (SO) находится в конвейере сразу после этапа создания шейдера geometry и непосредственно перед этапом растрирования, как показано на следующей схеме.

![схема расположения этапа потокового вывода в конвейере](images/d3d10-pipeline-stages-so.png)

Данные поточно переданные в память можно считать обратно в конвейер в последующем проходе отрисовки или скопировать в промежуточный ресурс (для его считывания центральным процессором). Объем данных в потоке может быть разным; API [**ссылку ID3D11DeviceContext::D равауто**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-drawauto) предназначен для работы с данными без необходимости запроса (GPU) о объеме записанных данных.

Если линейка треугольника или линии привязана к этапу входного ассемблера, то каждая полоса преобразуется в список до их потоковой передачи. Вершины всегда записываются как полные примитивы (например, 3 вершины за раз для треугольников); неполные примитивы никогда не выводятся из потоков. Типы-примитивы с соседкой отбросить соседство перед выходом потоковой передачи данных.

Существует два способа подать данные потокового вывода в конвейер:

-   Потоковая передача выходных данных может быть возвращена на этапе ассемблера ввода.
-   Потоковая передача данных может быть прочитана программируемыми шейдерами с помощью функций Load (например, [Load](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-to-load)).

Чтобы использовать буфер в качестве ресурса потокового вывода, создайте буфер с помощью флага [**\_ \_ \_ Output потока привязки D3D11**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_bind_flag) . Этап потокового вывода поддерживает до 4 буферов одновременно.

-   Если вы выполняете потоковую передачу данных в несколько буферов, каждый буфер можно записать только один элемент (до 4 компонент) данных каждой вершины, с шагом подразумеваемых данных равным ширине элемента в каждом буфере (это совместимо со способом, которым буферы одного элемента можно привязать для ввода в этапы шейдеров). Кроме того, если буферы имеют различные размеры, запись будет остановлена, как только заполнится один из буферов.
-   Если вы выполняете потоковую передачу данных в один буфер, то он может сохранить до 64 скалярных компонент индивидуальных данных вершины (256 байт или меньше) или же шаг вершины может иметь размер до 2048 байт.


## <a name="in-this-section"></a>В этом разделе



| Раздел                                                                                                                               | Описание                                                                                  |
|-------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------|
| [Начало работы с этапом Stream-Output](d3d10-graphics-programming-guide-output-stream-stage-getting-started.md)<br/> | В этом разделе описывается использование шейдера Geometry с стадией вывода потока.<br/> |



 

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Графический конвейер](overviews-direct3d-11-graphics-pipeline.md)
</dt> <dt>

[Этапы конвейера (Direct3D 10)](/windows/desktop/direct3d10/d3d10-graphics-programming-guide-pipeline-stages)
</dt> </dl>

 

