---
title: диспетчер окон рабочего стола всегда включено
description: диспетчер окон рабочего стола всегда включено
ms.assetid: 36E2DD1B-E480-47A9-850B-3057119641C0
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b256b4270ab0bbeba588a4beff9bd1bd2bbe1c8166b40cd527f8b48a4f897df0
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "120057364"
---
# <a name="desktop-window-manager-is-always-on"></a>диспетчер окон рабочего стола всегда включено

## <a name="platforms"></a>Платформы

**клиенты** — Windows 8  
**серверы** — Windows Server 2012  


## <a name="description"></a>Описание

в Windows 8 диспетчер окон рабочего стола (DWM) всегда включен и не может быть отключен конечными пользователями и приложениями. как и в Windows 7, DWM используется для создания рабочего стола. в дополнение к опыту, включенному в Windows 7, теперь компонент DWM desktop композиция обеспечивает композицию рабочего стола для всех тем, поддержку стереоскопик 3d, а также управление, разделение и защиту работы с приложениями магазина Windows.

**Композиция рабочего стола для всех тем**

в Windows Vista и Windows 7 компоновка рабочего стола включена только с помощью темы AERO Glass. таким образом, пользователи Windows классических и высококонтрастных тем не могут использовать возможности, предоставляемые композицией рабочего стола, такие как Windows переворот, автоматическое масштабирование для масштабирования с высоким разрешением (DPI), предварительный просмотр эскизов и полноэкранная экранная лупа. кроме того, в этих более ранних версиях Windows разработчикам приложений необходимо писать и поддерживать несколько ветвей кода, один из которых включает композицию рабочего стола, а другой — для отключенной композиции рабочего стола.

при Windows 8 композиция рабочего стола включена для всех тем. пользователи Windows классической и высококонтрастной темы могут использовать возможности, предоставляемые композицией рабочего стола, такие как Windows переворот, автоматическое масштабирование для масштабирования с высоким разрешением (DPI), предварительный просмотр эскизов и полноэкранная экранная лупа. Кроме того, разработчикам не нужно писать и поддерживать несколько путей кода, что упрощает разработку.

**Поддержка стереоскопик 3D**

Визуализация рабочего стола DWM поддерживает отрисовку и представление содержимого стереоскопик трехмерного приложения в оконном и полноэкранном режиме.

**управление, разделение и защита опыта работы с приложениями Windows Store**

при компоновке рабочего стола DWM обеспечивает разделение и защиту окон настольных приложений из новых окон приложений магазина Windows, управляя и отделение окон классических приложений от окон приложений магазина Windows. Так как композиция настольных систем отвечает за управление всеми окнами приложений, отключение композиции рабочего стола может привести к непредвиденному поведению. кроме того, вы несете ответственность за составление новых меню, а также дополнительных анимаций окон, которые формируют основную индивидуальность новой операционной системы Windows.

## <a name="controlling-desktop-composition"></a>Управление композицией рабочего стола

в Windows Vista и Windows 7 композиция рабочего стола отключена в ряде сценариев. в Windows 8 компоновка рабочего стола DWM является основным компонентом операционной системы и не может быть отключена. За некоторыми исключениями, композиция рабочего стола всегда включена; он запускается перед входом пользователя и остается активным в течение сеанса. в этом разделе описано, как Windows 8 обрабатывает сценарии в Windows 7 с отключенной компоновкой рабочего стола.

**SKU сервера и определенные номера SKU клиентов**

в Windows 8 для всех номеров sku сервера и клиента включена композиция рабочего стола. Это гарантирует, что администраторы сервера и пользователи смогут воспользоваться преимуществами функций, включенных в композицию рабочего стола.

**Фундаментальные требования к компоновке рабочего стола**

Windows 8 обеспечивает выполнение требований к графическому адаптеру и глубине цвета системы с помощью поддержки драйвера WDDM и глубины системного цвета.

**Поддержка драйвера WDDM**

если в системе нет драйвера графики, совместимого с WDDM, Windows 8 использует адаптер Microsoft Basic дисплея в качестве адаптера по умолчанию. Так как DWM всегда выполняется на адаптере по умолчанию, он выбирает видеоадаптер Microsoft Basic для создания настольных систем, когда драйвер графики, соответствующий WDDM, недоступен (независимо от того, установлен или отключен) в системе.

Базовый видеоадаптер (Майкрософт) — это программное средство для прорисовки, использующее процессор, а не GPU для выполнения всех рисунков. Обратите внимание, что производительность композиции рабочего стола на базовом видеоадаптере Майкрософт (особенно анимация) может быть не столь гладкой, как при выполнении композиции рабочего стола на GPU.

**Глубина цвета системы**

Компоновка рабочего стола не может быть выполнена, если для параметра Глубина цвета не задано значение 32 бит на пиксель. в Windows 7 глубина цвета системы может быть изменена в следующих сценариях:

-   для изменения системного цвета конечный пользователь использует Windows панели управления или третью панель управления.
-   Конечный пользователь запускает приложение, которое изменяет глубину цвета системы с помощью общедоступного API.

в отличие от Windows 7, Windows 8 не поддерживает глубину цвета, отличную от 32 бит на пиксель. Пользователь больше не может изменять глубину цвета системы с помощью панели управления.

Кроме того, разработчики приложений не могут использовать интерфейсы API для изменения глубины цвета системы. Windows 8 обнаружит приложения, которые пытаются изменить глубину цвета системы до менее 32 бит на пиксель, и уведомить пользователя о том, что для запуска приложений необходимо применить оболочку совместимости приложения. После подтверждения от пользователя применяется оболочка совместимости приложений, и оболочка режима виртуализации применяет режим низкого цвета к приложению, при этом система работает в 32 битах на пиксель.

**WinSAT**

в Windows 8 компоновка рабочего стола не зависит от оценок WinSAT. Более того, WinSAT больше не включает оценку DWM.

**Совместимость приложений и действие пользователя**

В Windows 8:

-   Все параметры отключения композиции рабочего стола, существующие в Windows 7, удаляются
-   Композиция рабочего стола отвечает за составление всех тем
-   Приложения не могут использовать Двменаблекомпоситион для отключения композиции рабочего стола. Чтобы обеспечить обратную совместимость, вызов этого API вернет значение Success; Однако компоновка рабочего стола не отключена
-   Оболочка совместимости "Отключить композицию рабочего стола" удалена
-   Параметр "Отключить композицию рабочего стола" на вкладке "совместимость" диалогового окна свойств приложения удаляется

**Приложение использует драйвер зеркального отображения для удаленного взаимодействия**

В Windows 8:

-   Не поддерживает зеркальные драйверы для сценариев удаленного взаимодействия. хотя большая часть существующих приложений, использующих зеркальные драйверы, должна продолжать работать из-за изменения инфраструктуры, необходимого для поддержки существующих зеркальных драйверов в Windows 8 с помощью DWM, некоторые функции или приложения, использующие зеркальные драйверы, могут не работать.
-   Поддерживает API дублирования рабочего стола для разработчиков приложений, использующих зеркальные драйверы для сценариев удаленного взаимодействия.
-   Не поддерживает существующие зеркальные драйверы специальных возможностей
-   Существующие зеркальные драйверы должны быть обновлены, чтобы обеспечить их совместимость с Windows 8

**Подключение к удаленному рабочему столу**

в Windows 8 компоновка рабочего стола всегда включена для подключения к удаленному рабочему столу. клиентский компьютер, подключающийся к Windows 8 удаленному компьютеру, всегда будет иметь включенную композицию рабочего стола для сеанса удаленного рабочего стола независимо от версии клиента Windows. Композиция рабочего стола поддерживается для нескольких мониторов на клиентском компьютере, а также для сеанса удаленного приложения.

кроме того, при подключении к Windows 8 удаленному компьютеру эти параметры в клиенте подключение к удаленному рабочему столу не вступают в силу.

-   Глубина цвета
-   Флажок "включить композицию"

Глубина цвета соединения всегда равна 32 бит на пиксель, а компоновка рабочего стола всегда включена.

 

 




