---
title: Ранний запуск антивредоносного ПО
description: Ранний запуск антивредоносного ПО
ms.assetid: 4064CD44-FC50-48DE-8490-F592ED21CB7E
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 34c3e51d7fb009ffa0e85a59990b321fb38ad196
ms.sourcegitcommit: a93d3abaf4d6d45a6f0b87faed3f576b222b1745
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/05/2021
ms.locfileid: "104081658"
---
# <a name="early-launch-antimalware"></a>Ранний запуск антивредоносного ПО

## <a name="platforms"></a>Платформы

 **Клиенты** — Windows 8  
**Серверы** — Windows Server 2012  

## <a name="description"></a>Описание

По мере того, как антивредоносное по стало более эффективным при обнаружении вредоносных программ во время выполнения, злоумышленники также становятся более эффективными при создании rootkit-программ, которые могут скрываться от обнаружения. Обнаружение вредоносных программ, запускаемых на ранних этапах цикла загрузки, является сложной задачей, которая в большинстве случаев имеет более тщательного решения. Как правило, они создают системные атаки, которые не поддерживаются операционной системой узла, и фактически могут привести к нестабильной работе компьютера. До этого момента Windows не предоставила хороший способ обнаружения и устранения угроз с ранним загрузкой.

В Windows 8 появилась новая функция, называемая безопасной загрузкой, которая защищает конфигурацию загрузки Windows и компоненты, а также загружает драйвер раннего запуска антивредоносной программы (ELAM). Этот драйвер запускается перед другими драйверами загрузки и позволяет оценить эти драйверы и помогает ядру Windows решить, следует ли их инициализировать.

## <a name="manifestation"></a>Проявление

При первом запуске ядра ELAM гарантирует запуск до любого стороннего программного обеспечения и, следовательно, сможет обнаружить вредоносные программы в процессе загрузки и предотвратить его инициализацию.

## <a name="mitigation"></a>Меры по снижению риска

Драйверы загрузки инициализируются на основе классификации, возвращаемой драйвером ELAM в соответствии с политикой инициализации. По умолчанию политика инициализирует известные хорошие и неизвестные драйверы, но не инициализирует известные неправильные драйверы. Системный администратор может указать настраиваемую политику с помощью групповая политика, которая может препятствовать инициализации неизвестных драйверов, или включить драйверы, которые являются критически важными для процесса загрузки, но были незаконно изменены с помощью начальной загрузки.

## <a name="solution"></a>Решение

Драйвер ELAM должен зарегистрироваться для обратных вызовов ядра, чтобы получить сведения о каждом драйвере загрузки при инициализации. После этого драйвер ELAM может возвращать классификацию для каждого драйвера. Эти функции являются обязательными:

-   [иорегистербутдриверкаллбакк](/windows-hardware/drivers/ddi/ntddk/nf-ntddk-ioregisterbootdrivercallback)
-   [иаунрегистербутдриверкаллбакк](/windows-hardware/drivers/ddi/ntddk/nf-ntddk-iounregisterbootdrivercallback)

Драйвер ELAM также может зарегистрироваться для обратных вызовов реестра. Это позволит драйверу ELAM проверить данные конфигурации, используемые каждым драйвером загрузки. После этого драйвер ELAM может блокировать или изменять данные перед использованием драйверов, запускаемых при загрузке, при необходимости. Эти функции являются обязательными:

-   [кмрегистеркаллбаккекс](/windows-hardware/drivers/ddi/wdm/nf-wdm-cmregistercallbackex)
-   [кмунрегистеркаллбакк](/windows-hardware/drivers/ddi/wdm/nf-wdm-cmunregistercallback)

Дополнительные сведения о требованиях к драйверу ELAM и использовании API см. в статье [ранний запуск антивредоносной программы](/windows-hardware/drivers/install/early-launch-antimalware).

## <a name="tests"></a>Тесты

Драйверы ELAM должны быть специально подписаны корпорацией Майкрософт, чтобы гарантировать их запуск ядром Windows на ранних этапах процесса загрузки. Чтобы получить подпись, драйверы ELAM должны пройти набор тестов сертификации для проверки производительности и другого поведения. Эти тесты включены в комплект сертификации оборудования для Windows.

## <a name="resources"></a>Ресурсы

-   [Ранний запуск антивредоносной программы](/windows-hardware/drivers/install/early-launch-antimalware)
-   [кмрегистеркаллбаккекс](/windows-hardware/drivers/ddi/wdm/nf-wdm-cmregistercallbackex)
-   [кмунрегистеркаллбакк](/windows-hardware/drivers/ddi/wdm/nf-wdm-cmunregistercallback)
-   [иорегистербутдриверкаллбакк](/windows-hardware/drivers/ddi/ntddk/nf-ntddk-ioregisterbootdrivercallback)
-   [иаунрегистербутдриверкаллбакк](/windows-hardware/drivers/ddi/ntddk/nf-ntddk-iounregisterbootdrivercallback)
-   [Сертификация оборудования с помощью Конференции сборки комплекта сертификации оборудования для Windows](https://channel9.msdn.com/events/BUILD/BUILD2011/HW-659T)
-   [Загрузка комплектов и средств](https://msdn.microsoft.com/windows/hardware/br259105)

 

 
