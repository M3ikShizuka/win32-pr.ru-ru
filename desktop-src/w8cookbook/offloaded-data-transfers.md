---
title: Разгрузка передачи данных
description: Разгрузка передачи данных
ms.assetid: 91EBE6D6-2DA7-48DA-AEB7-3FAFCA8341F5
keywords:
- ODX
- Копировать разгрузку
- нагрузку
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1057ed27347fefc7ebc6a171eb7273da4341b024
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127570363"
---
# <a name="offloaded-data-transfers"></a>Разгрузка передачи данных

## <a name="platforms"></a>Платформы

**клиенты** — Windows 8  
**серверы** — Windows Server 2012  


## <a name="description"></a>Описание

Чтобы продвинуть перемещение данных хранилища, корпорация Майкрософт разработала новую технологию передачи данных — разгрузку передачи данных (ODX). вместо использования буферизованных операций чтения и буферизации операции записи Windows ODX запускает операцию копирования с разгрузкой read и извлекает маркер, представляющий данные с устройства хранения, а затем использует разгрузку команды write с маркером для запроса перемещения данных с исходного диска на целевой диск. Диспетчер копирования запоминающих устройств выполняет перемещение данных в соответствии с маркером. в Windows 8 ит-менеджер и администратор хранилища могут использовать функцию Windows ODX для взаимодействия с устройством хранения для перемещения больших файлов или данных через высокоскоростную сеть хранения. Windows ODX значительно сокращает сетевой трафик клиента и использования времени ЦП во время передачи больших данных, так как все перемещения данных находятся в внутренней сети хранилища. ODX можно использовать при развертывании виртуальных машин, массовом переносе данных и поддержке многоуровневого запоминающего устройства, а также снизить затраты на развертывание физического оборудования с помощью ODX и функций хранения с тонкой подготовкой.

> [!Note]  
> Эта функция будет работать только на устройствах хранения с реализацией спецификации SPC4 и SBC3.

 

## <a name="functional-details"></a>Функциональные сведения

-   функция Windows ODX внедрена в механизм копирования операционной системы Windows; во время перечисления хранилища Windows будет запрашивать возможность ODX устройства хранения.
-   Копирование исходного устройства хранения и копирования целевого устройства хранения должно осуществляться в том же диспетчере копирования, что и для поддержки разгрузки копий
-   В случае сбоя операции разгрузки копирования диспетчер копирования устройства хранения должен вернуть соответствующие дополнительные данные для обработки ошибок приложений.
-   модуль копирования Windows будет возвращаться к традиционной операции копирования в случае сбоя операции разгрузки копирования.

## <a name="using-odx"></a>Использование ODX

-   Приложение для обмена данными должно гарантировать, что оба исходного LUN копируются и конечный LUN копирования ODX, прежде чем вызывать подпрограммы API ODX
-   в обозревателе Windows пользователи могут использовать "перетаскивание" или "копирование и вставка" для разгрузки копирования
-   Если исходный LUN и целевой LUN подключены к файловой системе, приложение должно вызвать только ФСКТЛ \_ разгрузки \_ Read и фсктл, \_ \_ чтобы выполнить перенос данных из ИСХОДНОГО LUN в целевой LUN.
-   В случае сбоя операции разгрузки копирования диспетчер копирования устройства хранения должен вернуть соответствующие дополнительные данные для обработки ошибок приложений.
-   Если исходный LUN или целевой LUN не подключен к файловой системе и заблокирован, приложение должно вызвать функцию "хранилище IOCTL" \_ \_ Управление \_ \_ \_ атрибутами набора данных с помощью девицедсмактион \_ оффлоадреад или девицедсмактион \_ оффлоадврите действие для выполнения разгрузки копирования.
-   приложения управления служба хранилища могут использовать \_ API- \_ интерфейс PASS, чтобы выполнить разгрузку передачи данных, если как исходный, так и целевой lun не подключены к файловой системе и заблокированы

## <a name="tests"></a>Тесты

-   чтобы обеспечить надежный пользовательский интерфейс, проверьте Windows сертификации ODX массива хранения данных.
-   устройство хранения должно соответствовать требованиям к сертификатам Windows разгрузки при передаче данных (используется в качестве логотипа) для поддержки функции ODX
-   используйте Windows разгрузки аппаратных средств для передачи данных, чтобы проверить поддержку функций устройств хранения в ODX.

## <a name="resources"></a>Ресурсы

-   T10 XCOPY Lite Spec (11-059r8)
    -   [https://www.t10.org/cgi-bin/ac.pl?t=f&f=spc4r35b.pdf](https://www.t10.org/cgi-bin/ac.pl?t=f&f=spc4r35b.pdf)
    -   [https://www.t10.org/cgi-bin/ac.pl?t=f&f=sbc3r30.pdf](https://www.t10.org/cgi-bin/ac.pl?t=f&f=sbc3r30.pdf)
-   [Службы панели мониторинга оборудования](/windows-hardware/drivers/dashboard/)
-   [\_Структура передачи \_ SCSI](/windows-hardware/drivers/ddi/ntddscsi/ns-ntddscsi-_scsi_pass_through)

 

 