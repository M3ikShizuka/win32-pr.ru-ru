---
title: параметры платформа .NET Framework по умолчанию
description: платформа .NET Framework 4,5 по умолчанию и платформа .NET Framework 3,5 являются необязательными
ms.assetid: 19B53C82-812A-49AC-87C6-C08E7C199208
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e875f7508bc0940689afde5eb9b3f00407dd2c7dd70e35de52fe580717c8ad53
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119549794"
---
# <a name="net-framework-45-is-default-and-net-framework-35-is-optional"></a>платформа .NET Framework 4,5 по умолчанию и платформа .NET Framework 3,5 являются необязательными

## <a name="platforms"></a>Платформы

**клиенты** Windows 8     
**серверы** Windows Server 2012     

## <a name="description"></a>Описание

платформа .NET Framework 4,5 по умолчанию включена в Windows 8. по умолчанию Windows 8 не включает .net 3,5, но файлы для .net 3,5 доступны на установочном носителе Windows 8 установки в качестве дополнительного компонента.

если пользователь выполняет обновление с Windows 7 до Windows 8, платформа .NET Framework 3,5 полностью включено, чтобы все приложения на компьютере продолжали работать правильно.

## <a name="manifestation"></a>Проявление

если пользователь выполняет чистую установку Windows 8, а затем устанавливает приложения, требующие платформа .NET Framework 3,5 (или 2,0), они активируют запрос на наличие необходимых файлов .net 3,5. обычно недостающие файлы будут скачаны из Центр обновления Windows (после запроса разрешения), но если доступ к Центр обновления Windows невозможен, включение платформа .NET Framework 3,5 завершится ошибкой, если не указан альтернативный источник отсутствующих файлов.

## <a name="mitigation"></a>Меры по снижению риска

чтобы включить платформа .NET Framework 3,5 на тестовых компьютерах с чистой установкой Windows 8:

1.  Скопируйте \\ источники \\ SxS \\ из подключенной операционной системы ISO-образа сборки в dotnet35 или аналогичную папку. Пример:
    ```
    xcopy e:\sources\sxs\*.* c:\dotnet35 /s
    ```



2.  Выполните эту командную строку с правами администратора:
    ```
    Dism.exe /online /enable-feature /featurename:NetFX3 /All /Source:c:\dotnet35 /LimitAccess

    ```



> [!Note]  
> \\Папка SxS Sources не должна использоваться в качестве механизма распространения, так как этот механизм не поддерживается.



## <a name="solution"></a>Решение

**Для потребителей:**

Windows 8 включает механизм, который автоматически включает платформа .NET Framework 3,5 при попытке установить распространяемый пакет или когда установщик приложения, которому требуется .net 3,5, вызывает распространяемый компонент.

**Для разработчиков приложений (и ИТ-администраторов):**

ИТ-администраторы могут настроить приложения .NET 3,5 для работы в .NET 3,5 или .NET 4,5 (в зависимости от того, что уже установлено). Чтобы запустить управляемое приложение на 3,5 или 4,5, просто добавьте раздел в файл конфигурации приложения. Это гарантирует, что при установке .NET 3,5 приложение будет выполняться в .NET 3,5; в противном случае приложение будет работать на платформе .NET 4,5. Ниже приведен пример дополнительного раздела в файле конфигурации.


```
<configuration>
   <startup>
      <supportedRuntime version="v2.0.50727"/>
      <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.5"/>
   </startup>
</configuration>
```



**Для корпоративных изготовителей оборудования:**

чтобы включить платформа .NET Framework 3,5 для сборок иап и для приложений, которые не имеют доступа к Центр обновления Windows:

1.  Скопируйте \\ источники \\ SxS \\ из подключенного образа ISO сборки ОС в dotnet35 или аналогичную папку. Пример:
    ```
    xcopy e:\sources\sxs\*.* c:\dotnet35 /s
    ```



2.  Задайте параметр RegKey:
    ```
    [HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\Servicing]
     LocalSourcePath = c:\dotnet35
    ```



**Для предприятий:**

для компьютеров, на которых настроено использование WSUS для обслуживания, можно задать параметр реестра, чтобы разрешить компьютеру использовать Центр обновления Windows для включения .net 3,5 вместо WSUS (обслуживание по-прежнему выполняется из wsus, если это сделано).

-   Задайте параметр RegKey:
    ```
    [HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\Servicing]  RepairContentServerSource =DWORD(2)
    ```



Эту запись реестра также можно задать с помощью групповая политика (Политика локального компьютера — > Конфигурация компьютера — > система административные шаблоны->. Выберите параметр указать параметры для установки дополнительных компонентов и восстановления компонентов.

если вы выберете параметр Contact Центр обновления Windows напрямую, чтобы скачать содержимое исправления вместо Windows Server Update Services (WSUS), любые попытки добавить Windows функции (например, платформа .NET Framework 3,5) или компоненты восстановления запустит загрузку файлов из Центр обновления Windows. Для этого параметра конечным компьютерам требуется доступ к Интернету и WU. Нормальные операции обслуживания продолжают использовать WSUS, если они были настроены в качестве источника.

**Примечание о настройке расположения локального источника с помощью записей реестра**

ит-администраторы могут задать расположение локальных источников для файлов .net 3,5 с помощью записи реестра, чтобы пользователи могли использовать диалоговое окно "добавление и удаление Windows компонентов" для включения компонентов с отсутствующими полезными данными без указания исходного расположения. Значение параметра реестра можно контролировать с помощью групповой политики.

Эта запись реестра поддерживается:



<table>
<thead>
<tr class="header">
<th>Ввод</th>
<th>Тип</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Локальный исходный путь</td>
<td>REG_EXPAND_SZ</td>
<td>Локальные пути к источникам, используемые по умолчанию. Можно указать несколько путей. они должны быть разделены символом;. Поиск по расположениям выполняется в том порядке, в котором они указаны. <br/> Локальные расположения, указанные в командной строке DISM, имеют приоритет над расположениями, указанными в этой записи реестра. Расположение папок можно указать в этой записи реестра. <br/> Формат WIM можно использовать, но путь должен указывать на WIM-файл; его не нужно подключать, например: <br/> <dl> WIM: \\ мачине\шаре\филе.Вим: 1<br />
</dl> Обратите внимание на 1 в конце. Необходимо указать числовой индекс изображения, которое будет использоваться в WIM-файле. <br/> Для подключенного WIM-файла исходный путь должен ссылаться на каталог Windows подключенного образа, а не на точку подключения (например:/Source: <mount_point> \Windows, а не/Source: <mount_point> ). <br/></td>
</tr>
</tbody>
</table>





## <a name="resources"></a>Ресурсы

<dl>

[Реализация политики на основе реестра](/previous-versions/windows/desktop/Policy/implementing-registry-based-policy)  
</dl>