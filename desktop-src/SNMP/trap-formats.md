---
title: Форматы ловушек
description: Формат PDU ловушки отличается от формата других устройств PDU. Формат ловушек и ловушек SNMPv2C не отличается.
ms.assetid: 2d2b4520-28b7-4a2e-8dee-456e17d9d6f6
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b73e9cd2a5396bbe258fcb67c88cc207ea0243a9e8aff9f31e4866b9ee8adcc1
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119885684"
---
# <a name="trap-formats"></a>Форматы ловушек

Формат PDU ловушки отличается от формата других устройств PDU. Формат ловушек и ловушек SNMPv2C не отличается.

В SNMPv2C Framework формат ловушки PDU представляет собой список привязок переменных для *n* записей привязки переменных, организованных следующим образом:

-   Первая запись привязки переменной содержит метку времени.
-   Вторая запись привязки переменной — это идентификатор объекта, определяющий ловушку.
-   Третья — *n* записей привязки переменных, если они есть, содержат дополнительные сведения, связанные с ловушкой.

В среде с кодом версии не ниже, используется следующий формат ловушек PDU.

| Поле                      | Описание                                                      |
|----------------------------|------------------------------------------------------------------|
| корпоративные                 | Определяет тип устройства, создавшего ловушку.           |
| "Агент-адрес"                 | Определяет IP-адрес устройства, создавшего ловушку. |
| универсальный — ловушка/особая ловушка | Определяет предопределенный тип ловушки.                               |
| Временная метка                 | Определяет, когда была создана ловушка.                          |
| переменные привязки          | Содержит дополнительные сведения, связанные с ловушкой.        |



 

Функция [**снмпреквмсг**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmprecvmsg) всегда возвращает сообщение в формате SNMPv2c. Если сообщение содержит тип операции **\_ \_ ловушка PDU SNMP**, приложение может считывать записи привязки переменных сообщения и получать сведения, связанные с этой ловушкой.

 

 




