---
title: Заданное значение ссылки на набор элементов в шейдере (графика Direct3D 12)
description: Включение шейдера пикселей для вывода значения ссылки на набор элементов вместо использования указанного API-интерфейса обеспечивает очень точный контроль над операциями с набором элементов.
ms.assetid: F58B1930-F12E-4FA4-A15C-A3C2B8705033
ms.localizationpriority: high
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f6a8b7697cc06594b3e2ffc717cbded9e6832129
ms.sourcegitcommit: 8fa6614b715bddf14648cce36d2df22e5232801a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/10/2020
ms.locfileid: "104548987"
---
# <a name="shader-specified-stencil-reference-value-direct3d-12-graphics"></a>Заданное значение ссылки на набор элементов в шейдере (графика Direct3D 12)

Включение шейдера пикселей для вывода значения ссылки на набор элементов вместо использования указанного API-интерфейса обеспечивает очень точный контроль над операциями с набором элементов.

Значение ссылки на набор элементов обычно задается методом [**ID3D12GraphicsCommandList:: омсетстенЦилреф**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-omsetstencilref) . Этот метод задает значение ссылки на набор элементов на уровне детализации. Однако это значение может быть перезаписано шейдером пикселей.

Эта функция D3D12 (и D3D 11.3) позволяет разработчикам считывать и использовать значение ссылки на набор элементов (*SV \_ стенЦилреф*), выводимое из шейдера пикселей, что позволяет выполнять детализацию по пикселям или образцам.

Заданное значение шейдера заменяет значение ссылки, заданное API, для этого вызова. Это означает, что изменение влияет как на тест шаблона, так и при выполнении операции с набором элементов D3D12 \_ набор элементов, \_ \_ заменяя (один член из [**D3D12 \_ набора \_**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_stencil_op)элементов), для записи ссылочного значения в буфер шаблона.

Эта функция необязательна в D3D12 и 11.3 D3D. Чтобы проверить поддержку, проверьте логическое поле *псспеЦифиедстенЦилрефсуппортед* в [**\_ \_ \_ \_ параметре D3D12 данных функции D3D12**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_feature_data_d3d12_options) с помощью [**чеккфеатуресуппорт**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-checkfeaturesupport).

Ниже приведен пример использования *SV \_ стенЦилреф* в построителе пикселей.

``` syntax
uint main2(float4 c : COORD) : SV_StencilRef
{
    return uint(c.x);
}
```

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Отрисовка](rendering.md)
</dt> <dt>

[Привязка ресурсов в HLSL](resource-binding-in-hlsl.md)
</dt> <dt>

[Модель шейдера 5,1](/windows/desktop/direct3dhlsl/shader-model-5-1)
</dt> <dt>

[Указание корневых подписей в HLSL](specifying-root-signatures-in-hlsl.md)
</dt> </dl>

 

 
