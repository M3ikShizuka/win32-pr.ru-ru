---
title: Копирование дескрипторов
description: Методы ID3D12Device Копидескрипторс и ID3D12Device Копидескрипторссимпле в интерфейсе устройства используют ЦП для немедленного копирования дескрипторов.
ms.assetid: 65AE4D96-6221-46B5-BF55-F86479FCF97C
ms.localizationpriority: high
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ce02abfb433b36738de0fd62285e44b2f065ac017217a1e61f8c305e8ca76228
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "120069704"
---
# <a name="copying-descriptors"></a>Копирование дескрипторов

Методы [**ID3D12Device:: копидескрипторс**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-copydescriptors) и [**ID3D12Device:: копидескрипторссимпле**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-copydescriptorssimple) в интерфейсе устройства используют ЦП для немедленного копирования дескрипторов. Они могут называться свободными потоками, если несколько потоков в ЦП или GPU не выполняют потенциально конфликтующие записи.

## <a name="copying-descriptors-immediately-cpu-timeline"></a>Немедленное копирование дескрипторов (временная шкала ЦП)

Число исходных дескрипторов (для копирования из), заданных в виде набора диапазонов дескрипторов, должно равняться количеству целевых дескрипторов (для копирования в), указанных в виде отдельного набора диапазонов дескрипторов. Исходные и конечные диапазоны в противном случае не должны выровняться. Например, разреженный набор дескрипторов может быть скопирован в непрерывное назначение, наоборот или в некоторой комбинации.

В операцию копирования можно вовлечение нескольких куч дескриптора — как источника, так и назначения. Использование дескрипторов дескрипторов в качестве параметров означает, что методы копирования не важны для тех куч, в которых находится данный дескриптор, — они являются всего лишь памятью.

Типы кучи дескрипторов, копируемые из и в, должны совпадать, поэтому методы принимают в качестве входных данных один тип кучи дескрипторов. Драйверу необходимо знать тип кучи всех дескрипторов в данной операции копирования, чтобы он знал, какой размер данных участвует в операции копирования. Драйверу также может потребоваться выполнить пользовательскую работу по копированию, если данный тип кучи дескрипторов гарантирует его — подробности реализации. Обратите внимание, что дескрипторы дескрипторов сами по себе не определяют тип, на который они указывают. Поэтому для операции копирования требуется дополнительный параметр.

Альтернативный API для [**копидескрипторс**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-copydescriptors) предоставляется для простого случая копирования одного диапазона дескрипторов из одного расположения в другое – [**копидескрипторссимпле**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-copydescriptorssimple).

Для этих методов копирования дескрипторов, основанных на устройствах (временной шкале ЦП), исходные дескрипторы должны исходить из кучи-видимого нешейдера. Конечные дескрипторы могут находиться в любой куче дескрипторов, видимой для ЦП (шейдер видимым или нет).

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Дескрипторы](descriptors.md)
</dt> </dl>

 

 




