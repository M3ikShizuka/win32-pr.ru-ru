---
description: Функция Екситвиндовс выходит из системы текущего пользователя. Также можно вызвать функцию ExitWindowsEx с \_ флагом выхода из ЕКСВ.
ms.assetid: 906d92f1-7cbe-454e-9c71-34b4383aebab
title: Выход из системы
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5c2ab8525630673b897704cea675c5c2a1e6dc6b1df4dd875e8872a79f915204
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119664404"
---
# <a name="logging-off"></a>Выход из системы

Функция [**екситвиндовс**](/windows/desktop/api/Winuser/nf-winuser-exitwindows) выходит из системы текущего пользователя. Также можно вызвать функцию [**ExitWindowsEx**](/windows/desktop/api/Winuser/nf-winuser-exitwindowsex) с \_ флагом выхода из ЕКСВ.

По умолчанию, когда приложение использует [**екситвиндовс**](/windows/desktop/api/Winuser/nf-winuser-exitwindows) или [**ExitWindowsEx**](/windows/desktop/api/Winuser/nf-winuser-exitwindowsex) для выхода из системы, система отправляет сообщение [**WM \_ куерендсессион**](wm-queryendsession.md) в каждое окно. Приложения договариваются о завершении, возвращая **значение true** , когда они получили это сообщение. Если какое-либо приложение возвращает **значение false** при обработке этого сообщения, операция выхода из системы отменяется. Если приложение обрабатывает сообщение **WM \_ куерендсессион** , можно разрешить пользователю отменить операцию выхода, даже если другое приложение или система поступили к порождению запроса на завершение сеанса. Пример см. в разделе выход [из текущего пользователя](how-to-log-off-the-current-user.md).

Когда приложение возвращает **true** для [**WM \_ куерендсессион**](wm-queryendsession.md), оно получает сообщение [**WM \_ ENDSESSION**](wm-endsession.md) и завершается, независимо от того, как другие приложения реагируют на сообщение **WM \_ куерендсессион** .

Чтобы принудительно завершить все приложения, используйте функцию [**ExitWindowsEx**](/windows/desktop/api/Winuser/nf-winuser-exitwindowsex)и укажите \_ флаг force ЕКСВ. Это предотвращает отправку сообщений [**\_ куерендсессион WM**](wm-queryendsession.md) .

Система также отправляет \_ \_ сигнал управления событиями нажатия клавиши CTRL для каждого процесса во время операции выхода из системы. Консольное приложение может зарегистрировать [**хандлерраутине**](/windows/console/handlerroutine) для обработки этих сообщений.

Если процесс, который вызвал функцию [**ExitWindowsEx**](/windows/desktop/api/Winuser/nf-winuser-exitwindowsex) , выполняется в сеансе входа интерактивного пользователя, все процессы в сеансе входа будут прерваны. Если процесс, вызывающий функцию **ExitWindowsEx** , находится в другом сеансе входа, выполняются только уведомления. процессы не прерываются.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Выход из системы текущего пользователя](how-to-log-off-the-current-user.md)
</dt> </dl>

 

 
