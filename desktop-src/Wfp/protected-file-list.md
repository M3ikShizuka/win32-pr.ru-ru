---
description: Список защищенных ресурсов
ms.assetid: 70413c13-3db0-4af0-b584-259cce70f084
title: Список защищенных ресурсов
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 316a9bf9233283a7c0aba11f0d5fe8a09f38f1e7
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127571054"
---
# <a name="protected-resource-list"></a>Список защищенных ресурсов

Разрешение на полный доступ для изменения ресурсов, защищенных WRP, ограничено TrustedInstaller. ресурсы, защищенные WRP, можно изменять только с помощью [поддерживаемых механизмов замены ресурсов](supported-file-replacement-mechanisms.md) в службе установщика Windows modules.

WRP защищает файлы со следующими расширениями, которые устанавливаются Windows Server 2008 или Windows Vista: .dll, .exe, ocx и .sys.

WRP защищает критически важные файлы, установленные Windows Server 2008 или Windows Vista со следующими расширениями:. acm, ade,. adp,. app,. asa,. asp,. aspx,. ax,. bas, .bat,. bin,. cer,. chm,.,. cmd,. cnt,. кнв,. com, .cpl,. кпкс,. crt,. кш, .dll,. drv,. dtd, .exe,. фксп,. grp,. h1s,. hlp,. hta,. ime,. inf,. ins,. isp,. my, .js,. жсе,. кш,. lnk,. mad,. maf,. mag,. mam,. man,. maq. mas,. мав,. mau,. mda,. mdb,. mde,. mdt,. mdw,. мдз,. msc, .msi,. msp,. mst,. mui,. nls,. ocx,. ops,. pal,. пкд,. pif,. prf,. прг, pst, reg,. scf,. scr,. sct,. шб,. шс, .sys,. tlb,. tsp,. url,. vb,. vbe,. vbs,. всмакрос,. vss,. vst,. всв,. ws,. wsc,. wsf,. wsh,  . xsd и. xsl.

WRP защищает критические папки. папка, содержащая только файлы, защищенные WRP, может быть заблокирована, чтобы только доверенный установщик Windows мог создавать файлы или вложенные папки в папке. Папка может быть частично заблокирована, чтобы позволить администраторам создавать файлы и вложенные папки в папке.

WRP защищает критические разделы реестра, установленные Windows Server 2008 и Windows Vista. Если ключ защищен WRP, все его подразделы и значения могут быть защищены.

WRP копирует файлы, необходимые для перезапуска Windows в *каталоге кэша* , расположенном в папке% Windir% \\ winsxs \\ Backup. критические файлы, которые не требуются для перезапуска Windows, не копируются в каталог кэша. Невозможно изменить размер каталога кэша и список файлов, скопированных в кэш.

* * Windows Server 2003 и Windows XP: * *

Windows Защита файлов (WFP) предшествует WRP.

WFP защищает файлы, установленные Windows со следующими расширениями: .dll, .exe, ocx и .sys. Кроме того, также защищаются шрифты TrueType Fonts. ttf, Tahoma. ttf и Тахомабд. ttf.

в конце установки Windows WFP выполняет проверку всех защищенных файлов, чтобы убедиться, что они не были изменены приложениями, установленными с помощью автоматической установки. WFP также копирует проверенные версии этих системных файлов в каталог кэша. Когда приложение пытается заменить защищенный файл, WFP может восстановить исходный файл из каталога кэша.

Значение по умолчанию —% SystemRoot% \\ system32 \\ Dllcache. чтобы указать другое расположение кэша, создайте следующее значение реестра: **HKEY \_ LOCAL \_ MACHINE \\ SOFTWARE \\ Microsoft \\ Windows NT \\ CurrentVersion \\ Winlogon \\ сфкдллкачедир**

Это должен быть локальный путь. При использовании сетевого пути создается один источник общей сети для файлов кэша, при условии, что все клиенты, использующие общую папку, работают с теми же пакетами обновления и исправлениями.

Размер кэша по умолчанию не ограничен. чтобы изменить размер кэша, используйте следующий параметр реестра: **HKEY \_ LOCAL \_ MACHINE \\ SOFTWARE \\ Microsoft \\ Windows NT \\ CurrentVersion \\ Winlogon \\ SFCQuota**

Если это значение равно \_ квоте \_ sfc \_ , все файлы будут кэшироваться в каталоге кэша.

Из-за соображений места на диске может быть нежелательно поддерживать кэшированные версии всех системных файлов в каталоге кэша. В зависимости от размера кэша WFP будет хранить проверенные версии файлов в каталоге кэша на жестком диске системы. WFP добавляет файлы в кэш до тех пор, пока размер каталога кэша не достигнет указанного предела.

Когда приложение пытается заменить защищенный файл, который не находится в кэше, WFP пытается восстановить исходный файл из источника установки, запрашивая пользователя при необходимости.

 

 



