---
title: LD (SM4-ASM)
description: Извлекает данные из указанного буфера или текстуры без фильтрации (например, выборка точек), используя предоставленный целочисленный адрес. Исходные данные могут поступать из любого типа ресурсов, кроме Текстурекубе.
ms.assetid: DEE9A55F-EDFE-478E-8169-5BF9C43E98AF
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: eaacc3d76d49cc2b3043d39036f0ff652d7b8794
ms.sourcegitcommit: fe03c5d92ca6a0d66a114b2303e99c0a19241ffb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/20/2019
ms.locfileid: "104335539"
---
# <a name="ld-sm4---asm"></a>LD (SM4-ASM)

Извлекает данные из указанного буфера или текстуры без фильтрации (например, выборка точек), используя предоставленный целочисленный адрес. Исходные данные могут поступать из любого типа ресурсов, кроме Текстурекубе.



| LD \[ \_ аоффимми (u, v, w) \] dest \[ . Mask \] , сркаддресс \[ . свиззле \] , сркресаурце \[ . свиззле\] |
|----------------------------------------------------------------------------------------|



 



| Элемент                                                                                                               | Описание                                                                                                                 |
|--------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------|
| <span id="dest"></span><span id="DEST"></span>*dest*<br/>                                                    | \[в \] адресе результата операции.<br/>                                                               |
| <span id="srcAddress"></span><span id="srcaddress"></span><span id="SRCADDRESS"></span>*сркаддресс*<br/>     | \[в \] координатах текстуры, необходимых для выполнения примера.<br/>                                                     |
| <span id="srcResource"></span><span id="srcresource"></span><span id="SRCRESOURCE"></span>*сркресаурце*<br/> | \[в \] регистре текстуры (t \# ), который должен быть объявлен, чтобы определить, из какой текстуры или буфера извлечь.<br/> |



 

## <a name="remarks"></a>Примечания

Эта инструкция является упрощенной альтернативой инструкции [образца](sample--sm4---asm-.md) . В отличие от **Sample**, **LD** также может получать данные из буферов. **LD** также может получать из нескольких выборок ресурсов (только в шейдере Pixel Shader).

*сркаддресс* предоставляет набор координат текстуры, необходимых для выполнения образца в виде целых чисел без знака. Если *сркаддресс* находится за пределами диапазона \[ 0... ( \# пикселей текстуры в измерении-1) \] , то вызывается поведение вне границ, где **LD** возвращает 0 во всех неотсутствующих компонентах формата *сркресаурце* и значение по умолчанию для отсутствующих компонентов. Приложение, которому необходимо более гибкое управление поведением адресов вне диапазона, должно использовать **образец** инструкции, так как он учитывает поведение перетекания адресов, зеркального отображения, среза или границы, определенного как состояние выборки.

*сркаддресс. a* (POS-свиззле) всегда предоставляет Неподписанный целочисленный уровень mipmap. Если значение выходит за пределы диапазона \[ 0... ( Num миплевелс в Resource-1) \] ), то вызывается поведение вне границ. Если ресурс является буфером, который не может иметь MIP-карты, то *сркаддресс. a* игнорируется.

*сркаддресс. GB* (POS-свиззле) игнорируется для буферов и texture1D (кроме массива). *сркаддресс. b* (POS-свиззле) игнорируется для texture1D массивов и texture2Ds.

Для массивов texture1D *сркаддресс. g* (POS-свиззле) предоставляет индекс массива как целое число без знака. Если значение выходит за пределы диапазона доступных индексов массива \[ 0... ( Размер массива — 1) \] , то вызывается поведение вне границ.

Для массивов texture2D *сркаддресс. b* (POS-свиззле) предоставляет индекс массива, в противном случае — с той же семантикой, что и для texture1D.

Выборка из *t \#* без привязки к ней возвращает значение 0 для всех компонентов.

### <a name="address-offset"></a>Смещение адреса

Необязательный \[ \_ суффикс аоффимми (u, v, w) \] (смещение адреса непосредственно целым числом) указывает, что координаты текстуры для **LD** должны быть смещены на набор предоставленных шаг текселя значений целых констант. Литеральные значения представляют собой набор из 4-разрядных чисел 2, имеющих целочисленный диапазон \[ — 8, 7 \] . Этот модификатор определен только для texture1D/2D/3D, включая массивы, а не для буферов.

Смещения добавляются к координатам текстуры в шаг текселя пространстве относительно миплевел, к которому обращается **LD**.

Смещения адресов не применяются вдоль оси массива texture1D и двумерных массивов.

Компоненты *\_ аоффимми v, w* игнорируются для texture1Ds.

Компонент *\_ аоффимми w* не учитывается для texture2Ds.

Так как координаты текстуры для **LD** являются целыми числами без знака, если смещение приводит к тому, что адрес перейдется ниже нуля, он будет переноситься на большой адрес и приведет к выходу за пределы границ.

### <a name="return-type-control"></a>Контроль возвращаемого типа

Формат данных, возвращаемый **LD** в регистр назначения, определяется так же, как описано в **образце** инструкции. Он основан на формате, привязанном к параметру *сркресаурце* (*t \#*).

Как и в **примере** инструкции, возвращаемые значения для **LD** являются 4-векторами с заданными по умолчанию форматами для компонентов, которые не представлены в формате. Свиззле On *сркресаурце* определяет, как свиззле результат из 4 компонентов, который возвращается из текстуры загрузки, после чего. Mask в *dest* определяет, какие компоненты в *dest* -обновлении будут обновлены.

Если 32-разрядное значение с плавающей запятой *считывается в 32* -разрядный регистр, то биты не затрагиваются. то есть нормальные значения остаются ненормальными. Это не похоже на **образец** инструкции.

### <a name="miscellaneous-details"></a>Прочие сведения

Поскольку фильтрация, связанная с инструкцией **LD** , отсутствует, такие понятия, как Лод, не применяются к **LD**. Таким образом, параметр образца *s \#* отсутствует.

### <a name="restrictions"></a>Ограничения

-   *сркресаурце* должен быть t- \# регистром, а не текстурекубе. *сркресаурце* не может иметь значение константбуффер, которое не может быть привязано к \# регистрам t.
-   Относительная адресация в *сркресаурце* не разрешена.
-   *сркаддресс* должен быть временным (r \# /x \# ), постоянным (CB \# ) или входным (v \# ) регистром.
-   *dest* должен быть временным (r \# /x \# ) или выходным \* \# регистром (o).

Эта инструкция применяется к следующим этапам шейдера:



| Вершинный построитель текстуры | Шейдер геометрии | Построитель текстуры |
|---------------|-----------------|--------------|
| x             | x               | x            |



 

## <a name="minimum-shader-model"></a>Минимальная модель шейдера

Эта функция поддерживается в следующих моделях шейдеров.



| Модель шейдера                                              | Поддерживается |
|-----------------------------------------------------------|-----------|
| [Модель шейдера 5](d3d11-graphics-reference-sm5.md)        | да       |
| [Модель шейдера 4,1](dx-graphics-hlsl-sm4.md)              | да       |
| [Модель шейдера 4](dx-graphics-hlsl-sm4.md)                | да       |
| [Модель шейдера 3 (DirectX HLSL)](dx-graphics-hlsl-sm3.md) | Нет        |
| [Модель шейдера 2 (DirectX HLSL)](dx-graphics-hlsl-sm2.md) | Нет        |
| [Модель шейдера 1 (DirectX HLSL)](dx-graphics-hlsl-sm1.md) | Нет        |



 

## <a name="related-topics"></a>См. также

<dl> <dt>

[Сборка Shader Model 4 (DirectX HLSL)](dx-graphics-hlsl-sm4-asm.md)
</dt> </dl>

 

 





