---
title: numthreads
description: Определяет число потоков, выполняемых в одной группе потоков при отправке шейдера вычислений (см. раздел Dispatch ссылку ID3D11DeviceContext).
ms.assetid: ec6b751c-d81c-4221-ae80-166d2a3707fe
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- apiref
api_name: ''
api_type: ''
api_location: ''
ms.openlocfilehash: f790548fb8ab629b7f6e7af345fa535d28a0d2216f570d02e851ce18618bbae2
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118510123"
---
# <a name="numthreads"></a>numthreads

Определяет число потоков, выполняемых в одной группе потоков при отправке шейдера вычислений (см. раздел [**ссылку ID3D11DeviceContext::D Patch**](/windows/desktop/api/d3d11/nf-d3d11-id3d11devicecontext-dispatch)).


```
numthreads(X, Y, Z)    
```



Значения X, Y и Z указывают размер группы потоков в определенном направлении, а суммарное значение X \* Y \* Z указывает число потоков в группе. Возможность указывать размер группы потоков в трех измерениях позволяет осуществлять доступ к отдельным потокам способом, логически плоскими и трехмерными структурами данных.

Например, если в качестве шейдера вычислений выполняется добавление матрицы 4x4, то numthreads может иметь значение numthreads (4, 4, 1), а индексирование в отдельных потоках будет автоматически сопоставлять записи матрицы. Шейдер вычислений также может объявить группу потоков с тем же числом потоков (16) с помощью numthreads (16, 1, 1), однако после этого потребуется вычислить текущую запись матрицы на основе текущего номера потока.

Допустимые значения параметров для **numthreads** зависят от версии COMPUTE Shader.



| Вычисление шейдера | Максимальное значение Z | Максимальное число потоков (X \* Y \* ) |
|----------------|-----------|---------------------------|
| CS \_ 4 \_ x       | 1         | 768                       |
| CS \_ 5 \_ 0       | 64        | 1024                      |



 

На следующем рисунке показана связь между параметрами, передаваемыми в [**ссылку ID3D11DeviceContext::D диспетчеризации**](/windows/desktop/api/d3d11/nf-d3d11-id3d11devicecontext-dispatch), диспетчеризации (5, 3, 2), значениями, указанными в атрибуте numthreads, numthreads (10, 8, 3) и значениями, которые будут переданы в шейдер вычислений для системных значений, связанных с потоком ([ОКП \_ граупиндекс](sv-groupindex.md),[SV \_ диспатчсреадид](sv-dispatchthreadid.md),[ОКП \_ граупсреадид](sv-groupthreadid.md),[SV \_ groupId](sv-groupid.md)).

![Иллюстрация связи между диспетчеризация, группами потоков и потоками](images/threadgroupids.png)

Этот атрибут поддерживается в следующих типах шейдеров:



| Вершина | Поверхности | Домен | Геометрия | Пиксель | Службы вычислений |
|--------|------|--------|----------|-------|---------|
|        |      |        |          |       | x       |



 

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Атрибуты модели шейдеров 5](d3d11-graphics-reference-sm5-attributes.md)
</dt> <dt>

[Модель шейдера 5](d3d11-graphics-reference-sm5.md)
</dt> </dl>

 

 