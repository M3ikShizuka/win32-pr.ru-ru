---
title: Регистры ps_3_0
description: Шейдеры пикселей зависят от регистров для получения данных вершин, вывода пиксельных данных, хранения временных результатов во время вычислений и для обнаружения этапов выборки текстуры.
ms.assetid: 01bee50a-c1b7-4b15-9df8-1dd52d9ff163
keywords:
- впос
- Регистр позиций, шейдер пикселей
- Регистры — ps_3_0
ms.topic: article
ms.date: 05/31/2018
topic_type:
- kbArticle
api_name: ''
api_type: ''
api_location: ''
ms.openlocfilehash: ef4eef435857968246ab0413841ef072b5391a5e
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "104413112"
---
# <a name="ps_3_0-registers"></a>\_ \_ регистры PS 3 0

Шейдеры пикселей зависят от регистров для получения данных вершин, вывода пиксельных данных, хранения временных результатов во время вычислений и для обнаружения этапов выборки текстуры. Существует несколько типов регистров, каждый из которых имеет уникальную функциональность. В этом разделе содержатся справочные сведения о входных и выходных регистрах, реализованных построителем пиксельных шейдеров версии 3 \_ 0.

## <a name="new-registers"></a>Новые регистры

### <a name="input-register"></a>Входной регистр

Входные регистры (v \# ) теперь являются полностью плавающей точкой и в нее были объединены [регистры координат текстуры](dx9-graphics-reference-asm-ps-registers-texture-coordinate.md)s (t \# ). [ \_ Семантика дкл (SM3-PS ASM)](dcl-usage---ps.md) в верхней части шейдера используется для описания того, что автономный в определенном входном \_ регистре. Для этой модели введена семантика для типов пикселей (аналога со стороны вершины). Если входные регистры определены как цвета (например, координаты текстуры), то фиксация не выполняется. Вычисление регистров, определенных как цвет, отличается от координат текстуры при множественной выборки.

### <a name="face-register"></a>Регистрация лица

Регистр лиц (Вфаце) является новым для этой модели. Это скалярная регистр с плавающей запятой, которая в конечном итоге будет содержать примитивную область. Однако в PS \_ 3 \_ 0 допустим только знак этого регистра. Таким образом, если значение меньше нуля (бит знака задан отрицательно), примитив — это задняя поверхность (площадь отрицательная, против часовой стрелки). Поэтому в PS \_ 3 \_ 0 имеет смысл только сравнить этот регистр с 0 (> 0 или < 0). Внутри шейдера пикселей приложение может принять решение о том, какой прием освещения использовать. Это можно сделать с помощью двустороннего освещения. Для этого регистра требуется объявление, поэтому необъявленное использование будет отмечено как ошибка. Для линий и примитивов точек этот регистр не определен. Регистр лиц можно использовать только в качестве условия со следующими инструкциями: [сетп \_ comp-PS](setp-comp---ps.md)( [Если \_ comp-PS](if-comp---ps.md)) или [break \_ comp-PS](break-comp---ps.md).

### <a name="loop-counter-register"></a>Регистр счетчика цикла

[Регистр счетчика циклов](dx9-graphics-reference-asm-ps-registers-loop-counter.md) (Al) является новым для этой модели. Он автоматически увеличивается при каждом выполнении блока [Loop-PS](loop---ps.md) / [ендлуп-PS](endloop---ps.md) . Его можно использовать в блоке для относительной адресации, если это необходимо. Нельзя использовать регистр счетчиков циклов вне цикла.

### <a name="position-register"></a>Регистр позиций

Регистр позиций (впос) является новым для этой модели. Он содержит текущие Пиксели (x, y) в соответствующих каналах. Каналы (z, w) не определены. Для этого регистра требуется объявление, поэтому необъявленное использование будет отмечено как ошибка. При объявлении этот регистр должен иметь только одну из следующих масок:. x,. y,. XY.

## <a name="input-register-types"></a>Типы регистров входных данных



| Регистрация | Имя                                                                                      | Count | Чтение-запись | \# Чтение портов | \# Операций чтения и inst | Измерение | реладдр | Значения по умолчанию   | Требуется ДКЛ |
|----------|-------------------------------------------------------------------------------------------|-------|-----|---------------|---------------|-----------|---------|------------|--------------|
| 3,3\#      | [Входной регистр](dx9-graphics-reference-asm-ps-registers-input-color.md)                 | 10    | R   | 1             | Неограниченно     | 4         | aL      | Нет       | Да          |
| Cерверный\#      | [Временный регистр](dx9-graphics-reference-asm-ps-registers-temporary.md)               | 32    | Чтение-запись | 3             | Неограниченно     | 4         | нет      | None       | Нет           |
| c\#      | [Регистр постоянного float](dx9-graphics-reference-asm-ps-registers-constant-float.md)     | 224   | R   | 1             | Неограниченно     | 4         | нет      | 0000       | Нет           |
| сохранении\#      | [Постоянный целочисленный регистр](dx9-graphics-reference-asm-ps-registers-constant-integer.md) | 16    | R   | 1             | 1             | 4         | нет      | 0000       | Нет           |
| &\#      | [Постоянный логический регистр](dx9-graphics-reference-asm-ps-registers-constant-boolean.md) | 16    | R   | 1             | 1             | 1         | Нет      | FALSE      | Нет           |
| P0       | [Регистр предиката](dx9-graphics-reference-asm-ps-registers-predicate.md)               | 1     | R   | 1             | 1             | 1         | Нет      | None       | Нет           |
| s\#      | [Образцы (Direct3D 9 ASM-PS)](dx9-graphics-reference-asm-ps-registers-sampler.md)        | 16    | R   | 1             | 1             | 4         | нет      | См. Примечание 1 | Да          |
| вфаце    | \_Регистрация лица                                                                            | 1     | R   | 1             | Неограниченно     | 1         | Нет      | None       | Да          |
| впос     | \_Регистр позиций                                                                        | 1     | R   | 1             | Неограниченно     | 4         | нет      | None       | Да          |
| aL       | \_Регистр счетчика цикла \_                                                                   | 1     | R   | 1             | Неограниченно     | 1         | Недоступно     | Нет       | Нет           |



 

Примечания.

-   Существуют значения по умолчанию для поиска образцов, но они зависят от формата текстуры.

Число реадпортс — это количество различных регистров (для каждого типа регистра), которые могут быть считаны одной инструкцией.

## <a name="output-register-types"></a>Типы регистров выходных данных



| Регистрация | Имя                                                                              | Count                                                                             | Чтение-запись | Измерение | реладдр | Значения по умолчанию | Требуется ДКЛ |
|----------|-----------------------------------------------------------------------------------|-----------------------------------------------------------------------------------|-----|-----------|---------|----------|--------------|
| даваемым #     | [Регистр цвета вывода](dx9-graphics-reference-asm-ps-registers-output-color.md) | См. раздел [текстуры с несколькими элементами (Direct3D 9)](/windows/desktop/direct3d9/multiple-element-textures) . | W   | 4         | нет      | None     | Нет           |
| одепс   | [Регистр глубины выходных данных](dx9-graphics-reference-asm-ps-registers-output-depth.md) | 1                                                                                 | W   | 1         | Нет      | None     | Нет           |



 

## <a name="related-topics"></a>См. также

<dl> <dt>

[Регистры](dx9-graphics-reference-asm-ps-registers.md)
</dt> </dl>

 

 