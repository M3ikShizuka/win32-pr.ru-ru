---
title: ps_3_0
description: Программируемый шейдер пикселей состоит из набора инструкций, которые работают с данными пикселей. Регистрирует перенос данных в ALU и из него. Можно применить дополнительный элемент управления для изменения инструкции, результатов или данных, которые будут записаны.
ms.assetid: 3eabf173-9d9d-45b2-bc30-de857428f3ee
ms.topic: article
ms.date: 05/31/2018
topic_type:
- kbArticle
api_name: ''
api_type: ''
api_location: ''
ms.openlocfilehash: 5aca251b1e8a462b4f2204241680922d76c45ba0
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "104338068"
---
# <a name="ps_3_0"></a>PS \_ 3 \_ 0

Программируемый шейдер пикселей состоит из набора инструкций, которые работают с данными пикселей. Регистрирует перенос данных в ALU и из него. Можно применить дополнительный элемент управления для изменения инструкции, результатов или данных, которые будут записаны.

-   [инструкции по PS \_ 3 \_ 0](dx9-graphics-reference-asm-ps-instructions-ps-3-0.md) содержат список доступных инструкций.
-   [в \_ \_ регистрах PS 3 0](dx9-graphics-reference-asm-ps-registers-ps-3-0.md) перечислены различные типы регистров, используемые построителем пиксельных шейдеров ALU.
-   [Модификаторы](dx9-graphics-reference-asm-ps-registers-modifiers.md) Используются для изменения способа работы инструкции.
-   [Маска записи целевого регистра](dx9-graphics-reference-asm-ps-registers-modifiers-write-mask.md) определяет, какие компоненты записываются в реестре назначения.
-   [Модификаторы исходного регистра Pixel Shader](dx9-graphics-reference-asm-ps-registers-modifiers-source.md) изменяют данные исходной регистрации перед выполнением инструкции.
-   [Исходный регистр группирующие](dx9-graphics-reference-asm-ps-registers-modifiers-source-register-swizzling.md) обеспечивает дополнительный контроль над тем, какие компоненты регистрации считываются, копируются или записываются.

## <a name="new-features"></a>Новые возможности

Добавьте регистр лиц. Добавьте регистр позиций. Регистры цветов (v \# ) теперь полностью плавающей точкой, а регистры координат текстуры (t \# ) были объединены. Входные объявления принимают имена использования, и для компонентов заданной регистрации разрешено несколько использований.

## <a name="dynamic-flow-control"></a>Динамическое управление потоком

Устройство поддерживает управление динамическими потоками ([Если bool-PS](if-bool---ps.md), [break-PS](break---ps.md)и [break \_ -PS](break-comp---ps.md)). Глубина вложенности диапазонов от 0 до 24.

## <a name="number-of-temporary-registers"></a>Количество временных регистров

Количество поддерживаемых временных регистров составляет 32.

## <a name="static-flow-control-nesting-depth"></a>Глубина вложения статического управления потоком

Параметр [пред-PS](call---ps.md) / [каллнз](callnz-bool---ps.md)  / [Call \_ ](callnz-pred---ps.md) можно вложить в максимальную глубину 4. По отдельности инструкции [Loop-PS](loop---ps.md) / [-PS](rep---ps.md) могут быть вложены в максимальную глубину 4.

## <a name="arbitrary-swizzle"></a>Произвольный Свиззле

Поддерживается произвольный свиззле. См. раздел [Source Register группирующие](dx9-graphics-reference-asm-ps-registers-modifiers-source-register-swizzling.md).

## <a name="gradient-instructions"></a>Инструкции по градиенту

Поддерживаются инструкции градиента. См. раздел [ДСКС-PS](dsx---ps.md), [ДСИ-PS](dsy---ps.md)и [текслдд-PS](texldd---ps.md).

## <a name="predication"></a>Предикация

Инструкция затенения поддерживается. См. раздел [Регистрация предиката](dx9-graphics-reference-asm-ps-registers-predicate.md).

## <a name="dependent-read-limit"></a>Зависимое ограничение чтения

Нет зависимых ограничений чтения.

## <a name="texture-instruction-limit"></a>Предел для инструкции текстуры

В инструкциях по текстуре нет ограничений.

## <a name="instruction-count"></a>Число инструкций

Каждый шейдер пикселей может находиться в любом месте от 512 до количества слотов в MaxPixelShader30InstructionSlots (не более 32768). Количество выполняемых инструкций может быть намного выше из-за поддержки циклов. Макспшадеринструктионсексекутед должен быть не менее 2 ^ 16.

## <a name="sampler-count"></a>Число образцов

Число доступных образцов для пробных текстур равно 16.

## <a name="device-caps"></a>Ограничения устройств

Если PS \_ 3 \_ 0 поддерживается, оборудование (как минимум) поддерживает следующие ограничения:



| Колпачок                                                                                                          | Значение                                                                                                                                                                                                                                                                                                 |
|--------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Макстекстуревидс, Макстекстурехеигхт                                                                            | 4 КБ каждый                                                                                                                                                                                                                                                                                               |
| макстекстуререпеат                                                                                             | 8 КБ                                                                                                                                                                                                                                                                                                    |
| максанисотропи                                                                                                | 16                                                                                                                                                                                                                                                                                                    |
| пикселшадерверсион                                                                                           | 3 \_ 0                                                                                                                                                                                                                                                                                                  |
| MaxPixelShader30InstructionSlots                                                                             | 512                                                                                                                                                                                                                                                                                                   |
| Задаются следующие простые заглушки:                                                                        | D3DPMISCCAPS \_ блендоп, D3DPMISCCAPS \_ КЛИППЛАНЕСКАЛЕДПОИНТС, D3DPMISCCAPS \_ клиптлвертс, D3DPMISCCAPS \_ куллккв, D3DPMISCCAPS \_ КУЛЛКВ, D3DPMISCCAPS \_ куллноне, D3DPMISCCAPS \_ фогинфвф, D3DPMISCCAPS \_ маскз                                                                                               |
| Установлены следующие растровые ограничения:                                                                           | D3DPRASTERCAPS \_ мипмаплодбиас, D3DPRASTERCAPS \_ анизотропный, D3DPRASTERCAPS \_ колорперспективе, D3DPRASTERCAPS \_ сЦиссортест in D3DCAPS9                                                                                                                                                                  |
| Полная поддержка для смещения глубины, включая:                                                                       | D3DPRASTERCAPS \_ слопескаледепсбиас, D3DPRASTERCAPS \_ депсбиас                                                                                                                                                                                                                                        |
| Полный набор сравнений для теста глубины и альфа-канала, включая следующие:                                                  | Все D3DPCMPCAPS в D3DCAPS9.                                                                                                                                                                                                                                                                      |
| Режимы наложения исходного кода                                                                                        | Все режимы наложения поддерживаются в качестве источника (за исключением D3DPBLENDCAPS \_ сркалфасат, D3DPBLENDCAPS \_ БОССРКАЛФА и D3DPBLENDCAPS \_ босинвсркалфа).                                                                                                                                                    |
| Поддерживаются следующие ограничения текстуры:                                                                    | D3DPTEXTURECAPS \_ кубической карты, D3DPTEXTURECAPS \_ МИПКУБЕМАП, D3DPTEXTURECAPS \_ mipmap, D3DPTEXTURECAPS \_ мипволумемап, D3DPTEXTURECAPS \_ Перспектива, D3DPTEXTURECAPS \_ проецируется, D3DPTEXTURECAPS \_ тексрепеатнотскаледбисизе, D3DPTEXTURECAPS \_ волумемап                                                        |
| Ниже перечислены поддерживаемые ограничения на фильтры текстур, фильтры и ограничения для фильтров текстур. | D3DPTFILTERCAPS \_ минфпоинт, D3DPTFILTERCAPS \_ МИНФЛИНЕАР, D3DPTFILTERCAPS \_ минфанисотропик (это не является обязательным для волуметекстурефилтеркапс и КУБЕТЕКСТУРЕФИЛТЕРКАПС), D3DPTFILTERCAPS \_ MIPFPOINT, D3DPTFILTERCAPS \_ MIPFLINEAR, D3DPTFILTERCAPS \_ MAGFPOINT, D3DPTFILTERCAPS \_ MAGFLINEAR             |
| Следующие режимы адресации текстур поддерживаются на стадиях вершин и пикселей.                                | D3DPTADDRESSCAPS \_ Wrap, \_ зеркальное отражение D3DPTADDRESSCAPS, D3DPTADDRESSCAPSный \_ срез, D3DPTADDRESSCAPS \_ Border, D3DPTADDRESSCAPS \_ индепендентув, D3DPTADDRESSCAPS \_ мирроронце                                                                                                                                    |
| Поддерживаются все ограничения шейдера пикселей.                                                                     | Динамикфловконтролдепс = 24, Нумтемпс = 32, Статикфловконтролдепс = 4, Нуминструктионслотс = 512. Поддерживаются следующие функции: затенения, произвольная свиззлес и инструкции по градиенту. Ограничения на число операций чтения не ограничены, и сочетание текстур и математических инструкций не ограничено. |
| Поддерживаются все операции с наборами элементов. Сюда входит два набора трафаретов.                                   | См. [ **D3DSTENCILOP**](/windows/desktop/direct3d9/d3dstencilop)                                                                                                                                                                                                                                                        |
| Размер точки поддержки устройства на вершину                                                                         | D3DFVFCAPS \_ псизе в D3DCAPS9                                                                                                                                                                                                                                                                         |
| Не мощность 2. Поддержка текстур.                                                                              | Полная поддержка или условная поддержка, не Pow-2; устройство не должно иметь ограничение на текстуру только для текстуры, как в D3DPTEXTURECAPS \_ скуареонли.                                                                                                                                                    |
| Если устройство поддерживает несколько рендертаржетс, поддерживаются следующие ограничения:                             | D3DPMISCCAPS \_ индепендентвритемаскс, D3DPMISCCAPS \_ мртпостпикселшадерблендинг                                                                                                                                                                                                                         |
| Если VS \_ 3 \_ 0 поддерживается                                                                                     | Максусерклиппланес в D3DCAPS9 — 6                                                                                                                                                                                                                                                                    |



 

## <a name="related-topics"></a>См. также

<dl> <dt>

[Шейдеры пикселей](dx9-graphics-reference-asm-ps.md)
</dt> </dl>

 

 