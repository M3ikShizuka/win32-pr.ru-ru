---
title: Объект текстуры
description: В Direct3D 10 вы указываете пробы и текстуры независимо друг от друга. Выбор текстуры реализуется с помощью объекта шаблонной текстуры. Этот объект шаблона-текстуры имеет конкретный формат, возвращает конкретный тип и реализует несколько методов.
ms.assetid: e8cb483a-d831-4942-b6fe-61dd5edb1813
keywords:
- HLSL объекта текстуры
topic_type:
- apiref
api_name:
- Texture Object
api_type:
- NA
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: b075ddc1f659923efd03d9fe9d21ee3238e656e9
ms.sourcegitcommit: 6515eef99ca0d1bbe3e27d4575e9986f5255f277
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/10/2021
ms.locfileid: "104273675"
---
# <a name="texture-object"></a>Объект текстуры

В Direct3D 10 вы указываете пробы и текстуры независимо друг от друга. Выбор текстуры реализуется с помощью объекта шаблонной текстуры. Этот объект шаблона-текстуры имеет конкретный формат, возвращает конкретный тип и реализует несколько методов.




|                                                                                                                                                                                                                                                                                                                   |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Различия между Direct3D9 и Direct3D10: в Direct3D 9 пробы привязаны к конкретным текстурам; в Direct3D 10 текстуры и пробы являются независимыми объектами. Каждый объект шаблона текстуры реализует методы выборки текстур, принимающие текстуру и образец в качестве входных параметров.<br/> |



 

Ниже приведен синтаксис для создания всех объектов текстуры (за исключением многовыборочных объектов).



| \[ <  > \] *Имя* типа Object1; |
|------------------------------------|



 

Для многовыборочных объектов (Texture2DMS и Texture2DMSArray) требуется, чтобы размер текстуры был явно указан и выражается в виде числа выборок.



| \[ < *Тип Object2, имя выборки* > \] ; |
|---------------------------------------------|



 

## <a name="parameters"></a>Параметры



<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th>Элемент</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span id="Object"></span><span id="object"></span><span id="OBJECT"></span><em>Объектами</em><br/></td>
<td>Объект текстуры. Должен иметь один из следующих типов. <br/> 
<table>
<thead>
<tr class="header">
<th>Тип Object1</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Буфер</td>
<td>Буфер </td>
</tr>
<tr class="even">
<td>Texture1D</td>
<td>Текстура 1D</td>
</tr>
<tr class="odd">
<td>Texture1DArray</td>
<td>Массив одномерной текстуры</td>
</tr>
<tr class="even">
<td>Texture2D</td>
<td>Двухмерная текстура</td>
</tr>
<tr class="odd">
<td>Texture2DArray</td>
<td>Массив двумерных текстур</td>
</tr>
<tr class="even">
<td>Texture3D</td>
<td>Трехмерная текстура</td>
</tr>
<tr class="odd">
<td>TextureCube</td>
<td>Текстура Куба</td>
</tr>
<tr class="even">
<td>текстурекубеаррай  </td>
<td>Массив текстур Куба</td>
</tr>
<tr class="odd">
<td>Тип Object2</td>
<td>Описание</td>
</tr>
<tr class="even">
<td>Texture2DMS</td>
<td>Плоская многовыборочная текстура</td>
</tr>
<tr class="odd">
<td>Texture2DMSArray</td>
<td>Массив двумерных текстур с многовыборочной выборкой</td>
</tr>
</tbody>
</table>

<p> </p>
<ol>
<li>Тип буфера поддерживает большинство методов объекта текстуры, за исключением измерений.</li>
<li>Текстурекубеаррай доступен в модели шейдеров 4,1 или более поздней версии.</li>
<li>Модель шейдеров 4,1 доступна в Direct3D 10,1 или более поздней версии.</li>
</ol></td>
</tr>
<tr class="even">
<td><p><span id="Type"></span><span id="type"></span><span id="TYPE"></span><em>Тип</em></p></td>
<td><p>Необязательный параметр. Любой <a href="dx-graphics-hlsl-scalar.md">скалярный тип HLSL</a> или <a href="dx-graphics-hlsl-vector.md"><strong>тип HLSL Vector</strong></a>, заключенный в угловые скобки. Тип по умолчанию — <strong>float4</strong>.</p></td>
</tr>
<tr class="odd">
<td><p><span id="Name"></span><span id="name"></span><span id="NAME"></span><em>Безымян</em></p></td>
<td><p>Строка ASCII, указывающая имя объекта текстуры.</p></td>
</tr>
<tr class="even">
<td><p><span id="Samples"></span><span id="samples"></span><span id="SAMPLES"></span><em>Регистрируют</em></p></td>
<td><p>Число выборок (диапазоны от 1 до 128).</p></td>
</tr>
</tbody>
</table>



 

## <a name="example-1"></a>Пример 1

Ниже приведен пример объявления объекта текстуры.


```
Texture2D <float4> MyTex;

Texture2DMS <float4, 128> MyMSTex;
```



## <a name="texture-object-methods"></a>Методы объекта текстуры

Каждый объект текстуры реализует определенные методы; Ниже приведена таблица, в которой перечислены все методы. Чтобы узнать, какие объекты могут использовать этот метод, см. справочную страницу по каждому из методов.



| Метод текстуры                                                                     | Описание                                                                                                       | VS \_ 4 \_ 0 | VS \_ 4 \_ 1  | PS \_ 4 \_ 0 | PS \_ 4 \_ 1  | GS \_ 4 \_ 0 | GS \_ 4 \_ 1  |
|------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------|----------|-----------|----------|-----------|----------|-----------|
| [калкулателевелофдетаил](dx-graphics-hlsl-to-calculate-lod.md)                    | Вычислите Лод, возвращая результат с фиксацией.                                                                       |          |           |          | x         |          |           |
| [калкулателевелофдетаилунклампед](dx-graphics-hlsl-to-calculate-lod-unclamped.md) | Вычислите Лод, возвращая несрезный результат.                                                                    |          |           |          | x         |          |           |
| [Собрать](dx-graphics-hlsl-to-gather.md)                                           | Получает четыре образца (только красный компонент), которые будут использоваться для интерполяции билинейной при выборке текстуры. |          | x         |          | x         |          | x         |
| [GetDimensions](dx-graphics-hlsl-to-getdimensions.md)                             | Возвращает измерение текстуры для указанного уровня mipmap.                                                           | x        | x         | x        | x         | x        | x         |
| [Измерения (многопримерные)](dx-graphics-hlsl-to-getdimensions.md)               | Возвращает измерение текстуры для указанного уровня mipmap.                                                           |          | x         |          | x         |          | x         |
| [жетсамплепоситион](dx-graphics-hlsl-to-get-sample-position.md)                   | Возвращает расположение указанного образца.                                                                         |          | x         |          | x         |          | x         |
| [Загрузить](dx-graphics-hlsl-to-load.md)                                               | Загрузка данных без фильтрации или выборки.                                                                      | x        | x         | x        | x         | x        | x         |
| [Загрузка (многовыборочная)](dx-graphics-hlsl-to-load.md)                                 | Загрузка данных без фильтрации или выборки.                                                                      |          | x         | x        | x         |          | x         |
| [Образец](dx-graphics-hlsl-to-sample.md)                                           | Пример текстуры.                                                                                                 |          |           | x        | x         |          |           |
| [самплебиас](dx-graphics-hlsl-to-samplebias.md)                                   | Пример текстуры после применения значения смещения к уровню mipmap.                                              |          |           | x        | x         |          |           |
| [самплекмп](dx-graphics-hlsl-to-samplecmp.md)                                     | Пример текстуры с использованием значения сравнения для отклонения выборок.                                                     |          |           | x        | x         |          |           |
| [SampleCmpLevelZero](dx-graphics-hlsl-to-samplecmplevelzero.md)                   | Пример текстуры (только для mipmap уровня 0) с использованием значения сравнения для отклонения выборок.                               | x        | x         | x        | x         | x        | x         |
| [самплеград](dx-graphics-hlsl-to-samplegrad.md)                                   | Пример текстуры с помощью градиента, влияющей на способ вычисления расположения образца.                         | x        | x         | x        | x         | x        | x         |
| [SampleLevel](dx-graphics-hlsl-to-samplelevel.md)                                 | Пример текстуры на указанном уровне mipmap.                                                                   | x        | x         | x        | x         | x        | x         |



 

### <a name="return-type"></a>Тип возвращаемых данных

Тип возвращаемого значения для метода объекта текстуры — float4, если не указано иное, за исключением объектов текстур с несколькими примерами, которые всегда требуют указания типа и числа выборки. Тип возвращаемого значения совпадает с типом ресурса текстуры ([**\_ Формат DXGI**](/windows/desktop/api/dxgiformat/ne-dxgiformat-dxgi_format)). Иными словами, это может быть любой из следующих типов.



| Тип                       | Описание                                                                                                                                                             |
|----------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| FLOAT                      | 32-разрядное число с плавающей запятой (см. раздел [правила с плавающей запятой](/windows/desktop/direct3d10/d3d10-graphics-programming-guide-resources-float-rules) для отличий от IEEE float)                            |
| INT                        | 32-битное целое число со знаком                                                                                                                                                   |
| unsigned int               | 32-битное целое число без знака                                                                                                                                                 |
| снорм                      | 32-разрядное число с плавающей запятой в диапазоне от 1 до 1 включительно (см. раздел [правила с плавающей запятой](/windows/desktop/direct3d10/d3d10-graphics-programming-guide-resources-float-rules) для отличий от IEEE float). |
| unorm                      | 32-bit float в диапазоне от 0 до 1 включительно (см. раздел [правила с плавающей запятой](/windows/desktop/direct3d10/d3d10-graphics-programming-guide-resources-float-rules) для отличий от IEEE float)  |
| любой тип или структура текстуры | Число возвращаемых компонентов должно быть в диапазоне от 1 до 3 включительно.                                                                                                    |



 

Кроме того, тип возвращаемого значения может быть любым типом текстуры, включая структуру, но он должен быть меньше 4 компонентов, например типа float1, возвращающего один компонент.

## <a name="default-values-for-missing-components-in-a-texture"></a>Значения по умолчанию для отсутствующих компонентов в текстуре

Значение по умолчанию для отсутствующих компонентов в типе ресурса текстуры равно нулю для любого компонента, кроме альфа-компонента (A); значение по умолчанию для отсутствующего A равно единице. Способ, которым этот элемент появляется в шейдере, зависит от типа ресурса текстуры. Он принимает форму первого типизированного компонента, который фактически содержится в типе ресурса текстуры (начиная слева в порядке RGBA). Если это форма UNORM или FLOAT, значение по умолчанию для отсутствующего A равно 1,0 f. Если форма имеет вид Синт или UINT, значением по умолчанию для Missing является 0x1.

Например, когда шейдер считывает тип ресурса текстуры [**\_ \_ R24 \_ UNORM \_ x8 \_ типа DXGI**](/windows/desktop/api/dxgiformat/ne-dxgiformat-dxgi_format) , значения по умолчанию для G и B равны нулю, а значение по умолчанию — 1,0 f; когда шейдер считывает тип ресурса текстуры [**\_ \_ R16G16 \_ uint в формате DXGI**](/windows/desktop/api/dxgiformat/ne-dxgiformat-dxgi_format) , значение по умолчанию для B равно нулю, а значение по умолчанию — 0X00000001; когда шейдер считывает тип ресурса текстуры [**\_ \_ R16 \_ Синт в формате DXGI**](/windows/desktop/api/dxgiformat/ne-dxgiformat-dxgi_format) , значения по умолчанию для G и B равны нулю, а значение по умолчанию — 0x00000001.

## <a name="example-2"></a>Пример 2

Ниже приведен пример выборки текстуры с помощью метода текстуры.


```
sampler MySamp;
Texture2D <float4> MyTex;
 
float4 main( float2 TexCoords[2] : TEXCOORD ) : SV_Target
{
    return MyTex.Sample( MySamp, TexCoords[0] ));
}
```



## <a name="minimum-shader-model"></a>Минимальная модель шейдера

Этот объект поддерживается в следующих моделях шейдеров.



| Модель шейдера                                                        | Поддерживается |
|---------------------------------------------------------------------|-----------|
| [Модели шейдеров 4](dx-graphics-hlsl-sm4.md) и более поздних шейдеров | да       |



 

## <a name="see-also"></a>См. также раздел

<dl> <dt>

[Модель шейдера 4](dx-graphics-hlsl-sm4.md)
</dt> </dl>

 

