---
title: текскилл-PS
description: Отменяет отрисовку текущего пикселя, если любой из первых трех компонентов (УВВ) координат текстуры меньше нуля.
ms.assetid: 7641aef8-8931-4a19-827a-75ab17e901ac
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- apiref
api_name: ''
api_type: ''
api_location: ''
ms.openlocfilehash: 462549a9caba9b4b49ca5b5ac088e41320b3d6f731a78a0251d5191cc601a2e1
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118284032"
---
# <a name="texkill---ps"></a>текскилл-PS

Отменяет отрисовку текущего пикселя, если любой из первых трех компонентов (УВВ) координат текстуры меньше нуля.

## <a name="syntax"></a>Синтаксис



| текскилл DST |
|-------------|



 

where

-   DST — это регистр назначения

## <a name="remarks"></a>Remarks



| Версии шейдеров пикселей | 1\_1 | 1\_2 | 1 \_ 3 | 1\_4 | 2 \_ 0 | 2 \_ x | 2 \_ SW | 3 \_ 0 | 3 \_ SW |
|-----------------------|------|------|------|------|------|------|-------|------|-------|
| текскилл               | x    | x    | x    | x    | x    | x    | x     | x    | x     |



 

Эта инструкция соответствует функции [**Clip**](dx-graphics-hlsl-clip.md) HLSL.

текскилл не выполняет выборку текстуры. Он работает на первых трех компонентах координат текстуры, заданных номером регистра назначения. Для PS \_ 1 \_ 4 текскилл работает с данными в первых трех компонентах регистра назначения.

Эту инструкцию можно использовать для реализации произвольных роликовых плоскостей в средстве программной прорисовки.

При использовании шейдеров вершин приложение отвечает за применение преобразования перспективы. Это может вызвать проблемы для произвольных обтравочных плоскостей, так как если она содержит коэффициенты масштабирования анисоморфик, необходимо также преобразовать плоскости Clip. Поэтому лучше предоставить непроецированную точку на вершину для использования в произвольном Clipper, который является набором координат текстуры, определяемым оператором текскилл.

Эта инструкция используется следующим образом:

<dl> текскилл тн  
Маскирование пикселей выполняется следующим образом:  
Если (компоненты x, y, z TextureCoordinates (этап n)<sub>уввк</sub>< 0)  
Отмена отрисовки пикселей
</dl>

Для построителя текстуры 1 \_ 1, 1 \_ 2 и 1 \_ 3 текскилл работает с набором координат текстуры, заданным номером регистра назначения. Однако в версии 1 \_ 4 текскилл работает с данными, содержащимися в [регистре координат текстуры](dx9-graphics-reference-asm-ps-registers-texture-coordinate.md) (тн) или во временном регистре (RN), который был указан в качестве назначения.

Если включена многовыборочная выборка, любые эффекты сглаживания, полученные на краях многоугольников из-за множественной выборки, не будут достигаться на границе, созданной текскилл. Шейдер пикселей выполняется один раз на пиксель.

Данный пример служит только для демонстрационных целей.

Этот пример маскирует Пиксели с отрицательными координатами текстуры. Цвета пикселов интерполируются на основе цветов вершин, предоставленных в данных вершин.


```
ps_1_1       // Version instruction
texkill t0   // Mask out pixel using texture coordinates from stage 0
mov r0, v0   // Move the diffuse color in v0 to r0

// The rendered output from the pixel shader is shown below
```



Координаты текстуры находятся в диапазоне от-0,5 до 0,5 в u, а 0,0 – 1,0 в v. Эта инструкция приводит к раскрытию отрицательных значений u. На первой иллюстрации показан цвет вершины, примененный к четырем без примененной инструкции текскилл. На втором рисунке ниже показан результат выполнения инструкции текскилл. Цвета пикселей из координат текстуры, приведенные ниже 0 (где x переходит от-0,5 к 0,0), маскируются. Цвет фона (белый) используется, когда цвет пикселя замаскирован.

![Иллюстрация вывода с цветом вершины, примененным к четырем без инструкции текскилл](images/pstexkill-in.jpg)![Иллюстрация выходных данных с примененной инструкцией текскилл](images/pstexkill-out.jpg)

Данные координаты текстуры объявляются в объявлении данных вершин в этом примере.


```
   
struct CUSTOMVERTEX
{
    FLOAT x, y, z;
    DWORD color;
    FLOAT tu1, tv1;
};

#define D3DFVF_CUSTOMVERTEX (D3DFVF_XYZ|D3DFVF_DIFFUSE|D3DFVF_TEX1|D3DTEXCOORD2(0))

static CUSTOMVERTEX g_Vertices[]=
{
    //  x      y     z    color         u1,    v1  
    { -1.0f, -1.0f, 0.0f, 0xffff0000, -0.5f,  1.0f, },
    {  1.0f, -1.0f, 0.0f, 0xff00ff00,  0.5f,  1.0f, },
    {  1.0f,  1.0f, 0.0f, 0xff0000ff,  0.5f,  0.0f, },
    { -1.0f,  1.0f, 0.0f, 0xffffffff, -0.5f,  0.0f, },

};
```



## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Инструкции шейдера пикселей](dx9-graphics-reference-asm-ps-instructions.md)
</dt> </dl>

 

 




