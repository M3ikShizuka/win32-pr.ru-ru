---
title: dcl_input Вгсинстанцеид (SM5-ASM)
description: Включите создание экземпляров шейдера Geometry.
ms.assetid: 47B9BAD5-0FFF-4DB7-B34A-7811B8A4F792
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 81d0ec89be2d75b591315bd4b38ff495426d98e5ce941b2eb6bc9028ba647620
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119950634"
---
# <a name="dcl_input-vgsinstanceid-sm5---asm"></a>дкл \_ input вгсинстанцеид (SM5-ASM)

Включите создание экземпляров шейдера Geometry.



| дкл \_ входные вгсинстанцеид, instanceCount |
|-----------------------------------------|



 



| Элемент                                                                                                                       | Описание                           |
|----------------------------------------------------------------------------------------------------------------------------|---------------------------------------|
| <span id="vGSInstanceID"></span><span id="vgsinstanceid"></span><span id="VGSINSTANCEID"></span>*вгсинстанцеид*<br/> | \[в \] идентификаторе экземпляра.<br/>    |
| <span id="instanceCount"></span><span id="instancecount"></span><span id="INSTANCECOUNT"></span>*instanceCount*<br/> | \[в \] поле число экземпляров.<br/> |



 

## <a name="remarks"></a>Remarks

Параметр *instanceCount* объявления указывает, сколько экземпляров шейдер геометрии должен выполнять для каждого входного примитива. Максимальное значение для *instanceCount* — 32.

Максимальное число вершин, объявленных для выходных данных через [**дкл \_ максаутпутвертекскаунт**](dcl-maxoutputvertexcount.md), применяется по отдельности к каждому экземпляру.

Число экземпляров в этом объявлении, умноженное на максимальное число вершин на экземпляр через [**дкл \_ максаутпутвертекскаунт**](dcl-maxoutputvertexcount.md), должно быть <= 1024.

Объем данных, которые может порождать данный экземпляр шейдера Geometry, — это 1024 скаляров, проверенных с помощью подсчета всех скалярных значений, объявленных для входа и умножения на число объявленных выходных вершин.

Использование создания экземпляров шейдера Geometry эффективно увеличивает общий объем данных, которые могут выдаваться для каждого примитива ввода. 1024 скаляры для одного экземпляра дают до 1024 \* 32 скалярных выходных данных по всем экземплярам шейдера Geometry для одного примитива ввода. Однако чем больше экземпляров, тем меньше вершин может порождать каждый экземпляр. Один экземпляр (без создания экземпляра) может выдавать 1024 вершин. Если объявить \* экземпляры 32, это означает, что каждый экземпляр может выводить только 1024/32 = 32 вершин.

Объявление создания экземпляров шейдера Geometry делает доступной для программы автономный 32-разрядный целочисленный входной регистр *вгсинстанцеид*. Каждый экземпляр шейдера Geometry определяется значением, содержащимся в *вгсинстанцеид* \[ 0, 1, 2.. \] .

*вгсинстанцеид* не является частью входного массива вершин шейдера Geometry (например, 3 вершины при вводе треугольника). Регистр *вгсинстанцеид* по своей собственной, например впримитивеид.

После завершения каждого экземпляра шейдера Geometry в выходной топологии возникает неявная вырезание, поэтому последовательные экземпляры не зависят друг от друга.

Несмотря на то что оборудование может выполнять каждый экземпляр шейдера Geometry в параллельном режиме, выходные данные всех экземпляров в конце сериализуются, как если бы все экземпляры вызовов шейдера Geometry выполнялись последовательно в цикле, *вгсинстанцеид* от 0 до *instanceCount*-1, с неявной выходной топологией в конце каждого экземпляра.

Эта инструкция применяется к следующим этапам шейдера:



| Вершина | Поверхности | Домен | Геометрия | Пиксель | Вычисления |
|--------|------|--------|----------|-------|---------|
|        |      |        | X        |       |         |



 

## <a name="minimum-shader-model"></a>Минимальная модель шейдера

Эта инструкция поддерживается в следующих моделях шейдеров:



| Модель шейдера                                              | Поддерживается |
|-----------------------------------------------------------|-----------|
| [Модель шейдера 5](d3d11-graphics-reference-sm5.md)        | Да       |
| [Модель шейдера 4,1](dx-graphics-hlsl-sm4.md)              | Нет        |
| [Модель шейдера 4](dx-graphics-hlsl-sm4.md)                | Нет        |
| [Модель шейдера 3 (DirectX HLSL)](dx-graphics-hlsl-sm3.md) | Нет        |
| [Модель шейдера 2 (DirectX HLSL)](dx-graphics-hlsl-sm2.md) | Нет        |
| [Модель шейдера 1 (DirectX HLSL)](dx-graphics-hlsl-sm1.md) | Нет        |



 

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Сборка Shader Model 5 (DirectX HLSL)](shader-model-5-assembly--directx-hlsl-.md)
</dt> </dl>

 

 





