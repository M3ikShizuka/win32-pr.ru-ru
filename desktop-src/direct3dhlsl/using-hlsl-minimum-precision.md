---
title: Использование HLSL минимальной точности
description: начиная с Windows 8, графические драйверы могут реализовывать скалярные типы данных с минимальной точностью HLSL, используя любую точность, которая больше или равна заданной точности разрядов.
ms.assetid: 422B0C45-5CEB-4235-AD05-62D36C36CFC6
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4981cd80fdd80fbccf1b2610cbfeb210a9894a857fb2d7af1ddd84b9e2772e70
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "120067284"
---
# <a name="using-hlsl-minimum-precision"></a>Использование HLSL минимальной точности

начиная с Windows 8, графические драйверы могут реализовывать [скалярные типы данных](dx-graphics-hlsl-scalar.md) с минимальной точностью HLSL, используя любую точность, которая больше или равна заданной точности разрядов. Если на оборудовании, реализующем минимальную точность HLSL, используется код шейдера минимальной точности, используется меньше пропускной способности памяти, и в результате уменьшается энергопотребление системы.

Вы можете запросить поддержку минимальной точности, предоставляемую графическим драйвером, вызвав [**ID3D11Device:: чеккфеатуресуппорт**](/windows/desktop/api/d3d11/nf-d3d11-id3d11device-checkfeaturesupport) с параметром [**\_ \_ \_ \_ \_ поддержки минимальной точности для шейдера функций D3D11**](/windows/desktop/api/d3d11/ne-d3d11-d3d11_feature) . Дополнительные сведения см. в разделе [Поддержка минимальной точности HLSL](/windows/desktop/direct3d11/direct3d-11-1-features).

-   [Объявите переменные с минимальными типами данных точности](#declare-variables-with-minimum-precision-data-types)
-   [Проверка кода для шейдера с минимальными точностьми](#testing-your-minimum-precision-shader-code)
-   [Связанные темы](#related-topics)

## <a name="declare-variables-with-minimum-precision-data-types"></a>Объявите переменные с минимальными типами данных точности

Чтобы использовать минимальную точность в коде шейдера HLSL, объявите отдельные переменные с такими типами, как **min16float** (**min16float4** для Vector), **min16int**, **min10float** и т. д. С помощью этих переменных код шейдера указывает, что для него не требуется больше точности, чем указывает переменная. Но оборудование может игнорировать минимальные индикаторы точности и выполнять их в полной 32-разрядной точности. Если код шейдера используется на оборудовании, который использует преимущества минимальной точности, используется меньше пропускной способности памяти, и в результате уменьшается производительность системы, если для кода шейдера не требуется больше точности, чем указано.

Вам не нужно создавать несколько шейдеров, которые выполняют и не используют минимальную точность. Вместо этого создайте шейдер с минимальной точностью, и переменные точности с точностью работают при полной 32-разрядной точности, если графический драйвер сообщает о том, что он не поддерживает какую-либо минимальную точность. HLSLные шейдеры точности не работают в операционных системах, предшествующих Windows 8 поэтому если планируется ориентироваться на более ранние операционные системы, необходимо создать несколько шейдеров, некоторые из которых не используют минимальную точность.

> [!Note]  
> Не делайте переключения данных между разными уровнями точности в шейдере, так как эти типы преобразований являются непроизводительна и снижают производительность. Исключением является то, что константы шейдеров по-прежнему всегда 32 бит, но поставщики могут создавать графические аппаратные средства, которые могут свободно преобразовываться в любую меньшую точность, а HLSL инструкция может использовать.

 

С помощью минимальной точности можно управлять точностью вычислений в различных частях кода шейдера.

Правила для HLSL минимальной точности похожи на C/C++, где типы в выражении определяют точность операции, а не тип, в который в конечном итоге записывается.

## <a name="testing-your-minimum-precision-shader-code"></a>Проверка кода для шейдера с минимальными точностьми

Справочное средство программной прорисовки ([**\_ \_ \_ ссылка на тип драйвера D3D**](/windows/desktop/api/d3dcommon/ne-d3dcommon-d3d_driver_type)) позволяет приблизительно понять, как минимальная точность в коде шейдера HLSL ведет себя, куантизинг каждую инструкцию HLSL до указанной точности. Это помогает обнаружить код, который может случайно полагаться на больше, чем минимальная точность. Средство программной прорисовки ссылок работает быстрее, если в коде шейдера HLSL используется минимальная точность, но его можно использовать для проверки правильности кода. [Деформация](/windows/desktop/direct3d11/overviews-direct3d-11-devices-create-warp) ([**\_ \_ \_ деформация типа драйвера D3D**](/windows/desktop/api/d3dcommon/ne-d3dcommon-d3d_driver_type)) не поддерживает использование минимальной точности в коде шейдера HLSL. ДЕФОРМАЦИЯ выполняется только при полной 32-разрядной точности.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Руководство по программированию для HLSL](dx-graphics-hlsl-pguide.md)
</dt> </dl>

 

 