---
title: Регистр глубины выходных данных
description: Регистр глубины выходных данных для шейдера пикселей (Одепс) является скалярной регистром только для записи с диапазоном \ 0.. 1 \, который возвращает новое значение глубины для теста глубины для буфера шаблона глубины.
ms.assetid: 47b9afd9-4520-480d-b4a2-3d9a5569defb
ms.topic: article
ms.date: 05/31/2018
topic_type:
- kbArticle
api_name: ''
api_type: ''
api_location: ''
ms.openlocfilehash: 9be825d6117cf1cc14464973146dbe176d696d25
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "104332603"
---
# <a name="output-depth-register"></a>Регистр глубины выходных данных

Регистр глубины выходных данных построителя текстуры (Одепс) является скалярной регистром только для записи с диапазоном \[ 0.. 1 \] , возвращающим новое значение глубины для теста глубины для буфера шаблона глубины.

Синтаксис



| одепс |
|--------|



 

Где:



| Имя   | Описание                                                       |
|--------|-------------------------------------------------------------------|
| одепс | Новое значение глубины для теста глубины в буфере шаблона глубины |



 

Важно помнить, что запись в Одепс приводит к утрате любых алгоритмов оптимизации буфера глубины, относящихся к оборудованию (т. е. иерархическим Z), которые ускоряют тестовую производительность.

При записи в Одепс требуется репликация источника свиззле (. x \| . y \| . z \| . w). Явные маски записи не допускаются.

Запись в регистр Одепс заменяет значение глубины с интерполяцией (и игнорирует любые смещения глубины и слопескале рендерстатес). Если буфер глубины не был создан или присоединен к устройству, запись в Одепс игнорируется.

Если вы выполняете множественную выборку и пишите в Одепс, так как шейдер пикселей выполняется только один раз на пиксель, значение глубины реплицируется для всех охваченных вложенных примеров. Тест глубины по-прежнему выполняется в образце, но у вас нет значения глубины для каждого образца, которое перейдет в сравнение из шейдера пикселей, например, если вы не написали Одепс.

Если в приложении в качестве буфера глубины задано значение w-buffer, то при записи в Одепс необходимо учитывать это. Возможно, необходимо отправить сведения о диапазоне в шейдер пикселей и вычислить w-Range, чтобы масштабировать значения w-Values, записанные в Одепс.

### <a name="ps_2_0-and-ps_2_x-restrictions"></a>\_ограничения PS 2 \_ и PS \_ 2 \_ x

-   Одепс может быть написан только с помощью инструкции [MOV-PS](mov---ps.md) и может быть выполнен только один раз.
-   Не допускается использование модификатора источника при записи в Одепс.
-   Не допускается использование модификатора инструкции при записи в Одепс.
-   Нет записи в Одепс из конструкции управления потоком или при использовании затенения.

### <a name="ps_3_0-restrictions"></a>\_ограничения PS 3 \_ 0

-   Для PS \_ 3 \_ 0 выходные регистры OC # и oD \# могут записываться любое количество раз. Выходные данные шейдера пикселей поступают из содержимого выходных регистров в конце выполнения шейдера. Если запись в выходной регистр не происходит, возможно, из-за управления потоком или если шейдер только что не записал его, то соответствующий целевой объект прорисовки также не обновляется. Если подмножество каналов в выходном регистре записано, то неопределенные значения будут записаны в оставшиеся каналы.
-   Можно выполнить запись в Одепс в элементе управления потоком или затенения, если все возможные пути в конечном итоге записываются в регистр.
-   Вы не можете выполнять вычисления градиента (или операции, которые неявно вызывают такие вычисления градиента, как [текслд-PS \_ 2 \_ 0 и up](texld---ps-2-0.md), [текслдб-PS](texldb---ps.md), [текслдп-PS](texldp---ps.md)) внутри операторов управления потоком, условия ветвления которых различаются для отдельных примитивов (IE: Динамическая Инструкция по управлению потоком). Инструкция затенения не считается динамической системой управления потоком.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Регистры](dx9-graphics-reference-asm-ps-registers.md)
</dt> </dl>

 

 




