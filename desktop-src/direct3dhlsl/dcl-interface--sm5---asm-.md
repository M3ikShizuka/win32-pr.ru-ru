---
title: dcl_interface (SM5-ASM)
description: Объявите указатели на таблицу функций (интерфейсы). | dcl_interface (SM5-ASM)
ms.assetid: 5A4D911E-7117-409B-8FDC-9CEC2C185C15
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: e61435e06d0d5b88bb82ca91f758646d7911d3bb
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127573919"
---
# <a name="dcl_interface-sm5---asm"></a>\_интерфейс дкл (SM5-ASM)

Объявите указатели на таблицу функций (интерфейсы).



| \_интерфейс дкл FP \# \[ размера массива \] \[ нумкаллситес \] = {ft \# , ft \# ,...} |
|----------------------------------------------------------------------|



 



| Элемент                                                          | Описание                                    |
|---------------------------------------------------------------|------------------------------------------------|
| <span id="fp_"></span><span id="FP_"></span>*FP\#*<br/> | \[в \] указателях таблицы функций.<br/> |



 

## <a name="remarks"></a>Комментарии

Прежде чем использовать шейдер, каждый интерфейс должен быть привязан к API. Привязка предоставляет ссылку на одну из таблиц функций, чтобы можно было заполнить слоты метода. Компилятор не будет создавать указатели для объектов, на которые нет ссылок.

Указатель таблицы функций имеет полный набор областей методов, чтобы избежать дополнительного уровня косвенного обращения, которое потребовалось для представления указателя на объект C++ в виде указателя на таблицу vtable. Это также потребует, чтобы эти указатели были пятью кортежами. В модели виртуального деструктуры HLSL всегда известно, какие глобальные переменные и входные данные используются для вызова, чтобы мы могли настроить таблицы для каждого корневого объекта.

Объявления указателей функций указывают, какие таблицы функций допустимы для использования с ними. Это также позволяет получить производную информацию о корреляции методов.

Первое \[ \] объявление интерфейса — это размер массива. Если используется динамическое индексирование, объявление будет указывать, как показано ниже. Массив указателей интерфейсов может индексироваться статически. также не требуется, чтобы массивы указателей интерфейсов имели динамическую индексацию.

Нумерация указателей интерфейсов начинается с 0 для первого объявления и затем принимает размер массива в учетной записи, поэтому первым указателем после четырех входных массивов Fp0 \[ 4 \] \[ 1 будет \] fp4 \[ \] \[ \] .

Вторым \[ \] объявлением интерфейса является количество мест вызова, которые должны соответствовать числу фрагментов в каждой таблице, на которую ссылается объявление.

Нет границ для количества вариантов таблицы функций (ft), которые \# могут быть перечислены в объявлении интерфейса.

Данная таблица функций (ft \# ) может появляться в одном или нескольких объявлениях интерфейса более одного раза.

### <a name="restrictions"></a>Ограничения

-   Число сайтов объектов в шейдере, которое является суммой для всех объявлений *FP \#* их \[ \] объявлений размера массива, не должно превышать 253. Это число соответствует числу **этих** указателей. Среда выполнения применяет это ограничение 253, чтобы иметь ограниченный размер DDI для связи с данными указателя.
-   Число сайтов вызова в шейдере, которое является суммой для всех инструкций фкалл в количестве потенциальных целей ветвления, не должно превышать 4096.

    Например, [фкалл](fcall--sm5---asm-.md) , использующий статический индекс для первого *плоского \[ \] \[ \]* измерения, считается одним из следующих:

    `                       fcall fp0[0][0]         // +1`

    **Фкалл** , использующий динамический индекс, считается числом элементов в массиве (первым \[ \] из **\_ интерфейса дкл**):

    `                    dcl_interface_dynamicindexed fp1[2][1] = {ft2, ft3, ft4}                      ...                     `

    `fcall fp1[r0.z + 0][1]  // +2`

    Это ограничение позволяет некоторым реализациям легко подобрать таблицы, выделенные в теле функции, в постоянном хранилище, аналогичном буферу.

Эта инструкция применяется к следующим этапам шейдера:



| Вершина | Поверхности | Домен | Geometry | Пиксель | Вычисления |
|--------|------|--------|----------|-------|---------|
| X      | X    | X      | X        | X     | X       |



 

## <a name="minimum-shader-model"></a>Минимальная модель шейдера

Эта инструкция поддерживается в следующих моделях шейдеров:



| Модель шейдера                                              | Поддерживается |
|-----------------------------------------------------------|-----------|
| [Модель шейдера 5](d3d11-graphics-reference-sm5.md)        | да       |
| [Модель шейдера 4,1](dx-graphics-hlsl-sm4.md)              | Нет        |
| [Модель шейдера 4](dx-graphics-hlsl-sm4.md)                | Нет        |
| [Модель шейдера 3 (DirectX HLSL)](dx-graphics-hlsl-sm3.md) | Нет        |
| [Модель шейдера 2 (DirectX HLSL)](dx-graphics-hlsl-sm2.md) | Нет        |
| [Модель шейдера 1 (DirectX HLSL)](dx-graphics-hlsl-sm1.md) | Нет        |



 

CS \_ 4 \_ 0 и CS \_ 4 \_ 1 поддерживают эту инструкцию для UAV и SRV.

## <a name="related-topics"></a>Связанные разделы

<dl> <dt>

[Сборка Shader Model 5 (DirectX HLSL)](shader-model-5-assembly--directx-hlsl-.md)
</dt> </dl>

 

 





