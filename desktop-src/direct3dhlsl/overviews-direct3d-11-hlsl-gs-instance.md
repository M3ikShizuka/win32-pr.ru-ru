---
title: Как экземпляр шейдера Geometry
description: Создание экземпляров шейдера Geometry позволяет выполнять несколько выполнений одного шейдера Geometry для каждого примитива.
ms.assetid: e3d8616b-7129-40e9-99fc-2852914a80b0
ms.topic: article
ms.date: 05/31/2018
topic_type:
- kbArticle
api_name: ''
api_type: ''
api_location: ''
ms.openlocfilehash: 7858de7d8526a9468d3ebd0a07d57777983a66db
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "104996787"
---
# <a name="how-to-instance-a-geometry-shader"></a>Как выполнить экземпляр шейдера Geometry

Создание экземпляров шейдера Geometry позволяет выполнять несколько выполнений одного шейдера Geometry для каждого примитива. Чтобы создать экземпляр шейдера Geometry, добавьте атрибут экземпляра в основную функцию шейдера и задайте параметр индекса экземпляра в теле функции шейдера.

Для экземпляра шейдера Geometry:

1.  Добавьте [атрибут экземпляра](sm5-attributes-instance.md) в функцию main.

    ```
    [instance(24)]
    ```

    

    Определяет количество экземпляров (не более 32), которые будут выполняться для каждого примитива.

2.  Присоедините системное значение [SV \_ гсинстанцеид](sv-gsinstanceid.md) к переменной в списке параметров функции, которая может использоваться для контроля идентификатора выполняемого экземпляра.
    ```
    uint InstanceID : SV_GSInstanceID
    ```

    

3.  Скомпилируйте и создайте шейдер так же, как любой другой шейдер геометрии.

Другие сведения включают:

-   Максимальное число экземпляров — 32.
-   Максимальное число вершин — это максимальное число вершин на экземпляр.
-   Вызов каждого экземпляра (как и любой вызов шейдера Geometry) увеличивает число вызовов и создает неявный Рестартстрип ().

## <a name="related-topics"></a>См. также

<dl> <dt>

[Функции шейдера Geometry](overviews-direct3d-11-hlsl-gs-features.md)
</dt> </dl>

 

 




