---
title: Оператор if
description: Условно выполняет ряд инструкций на основе вычисления условного выражения.
ms.assetid: ed4e347b-b5ee-40bc-a3f8-36e83ccf45b8
keywords:
- Оператор If HLSL
topic_type:
- apiref
api_name:
- if Statement
api_type:
- NA
ms.topic: reference
ms.date: 05/31/2018
api_location: ''
ms.openlocfilehash: 66c04a2ac9c995d3eafa0f93171483c784c72814
ms.sourcegitcommit: 9b5faa61c38b2d0c432b7f2dbee8c127b0e28a7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/19/2021
ms.locfileid: "122473100"
---
# <a name="if-statement"></a>Оператор if

Условно выполняет ряд инструкций на основе вычисления условного выражения.

\[*Атрибут* \] If ( *Условный* ) { *блок операторов*;}



 

## <a name="parameters"></a>Параметры

<dl> <dt>

<span id="Attribute"></span><span id="attribute"></span><span id="ATTRIBUTE"></span>*Версию*
</dt> <dd>

Необязательный параметр, управляющий компиляцией инструкции.




| attribute | Описание | 
|-----------|-------------|
| ветвь | Оцените только одну сторону оператора if в зависимости от заданного условия.<blockquote>[!Note]<br />При использовании <a href="dx-graphics-hlsl-sm2.md">модели шейдеров 2. x</a> или <a href="dx-graphics-hlsl-sm3.md">Shader Model 3,0</a>каждый раз при использовании динамического ветвления используются ресурсы. Поэтому при чрезмерном использовании динамической ветви при выборе этих профилей могут возникнуть ошибки компиляции.</blockquote><br /> | 
| преобразовать в плоский формат | Оцените обе стороны оператора if и выберите один из двух результирующих значений. | 




 

</dd> <dt>

<span id="Conditional"></span><span id="conditional"></span><span id="CONDITIONAL"></span>*Условие*
</dt> <dd>

Условное [выражение](dx-graphics-hlsl-expressions.md). Выражение вычисляется, и, если значение true, выполняется блок операторов.

</dd> <dt>

<span id="Statement_Block"></span><span id="statement_block"></span><span id="STATEMENT_BLOCK"></span>*Блок инструкции*
</dt> <dd>

Одна или несколько [инструкций HLSL](dx-graphics-hlsl-statement-blocks.md).

</dd> </dl>

## <a name="remarks"></a>Комментарии

Если компилятор использует метод ветвления для компиляции оператора if, он создаст код, который будет оценивать только одну сторону оператора if в зависимости от заданного условия. Например, в операторе if:


```
[branch] if(x)
{
    x = sqrt(x);
}
```



Оператор **If** имеет неявный блок Else, эквивалентный x = x. Поскольку мы представили компилятору инструкцию использовать метод Branch с предыдущим атрибутом Branch, скомпилированный код вычислит x и выполнит только часть, которая должна быть выполнена. Если значение x равно нулю, то выполняется и **другая** сторона, и если он не равен нулю, то будет выполняться сторона **then** .

И наоборот, если используется атрибут **спрямления** , скомпилированный код будет оценивать обе стороны оператора **If** и выбирать между двумя результирующими значениями, используя исходное значение x. Ниже приведен пример использования атрибута «сведение»:


```
[flatten] if(x)
{
    x = sqrt(x);
}
```



В некоторых случаях использование атрибутов branch или "сведение" может привести к ошибке компиляции. Атрибут Branch может завершиться ошибкой, если одна из сторон оператора If содержит функцию градиента, например [**tex2D**](dx-graphics-hlsl-tex2d.md). Атрибут «сведение» может завершиться ошибкой, если обе стороны оператора if содержат инструкцию добавления потока или любую другую инструкцию, имеющую побочные эффекты.

Оператор **If** может также использовать необязательный блок else. Если выражение **If** имеет значение true, обрабатывается код в блоке инструкций, связанного с оператором if. В противном случае обрабатывается блок инструкций, связанный с необязательным блоком Else.

## <a name="see-also"></a>См. также

<dl> <dt>

[Flow Элемента](dx-graphics-hlsl-flow-control.md)
</dt> </dl>

 

 





