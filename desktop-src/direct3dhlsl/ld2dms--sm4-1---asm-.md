---
title: ld2dms (SM 4.1-ASM)
description: Считывает отдельные выборки из двухмерных многоуровневой текстуры.
ms.assetid: 8D92BFA8-4B22-46F3-876D-8D84BB3A96E7
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 17d00b3d6cdc3640f0b8d5266bd6dc8fd6dafefaf10cf47b500011cfe952d4ca
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119043792"
---
# <a name="ld2dms-sm41---asm"></a>ld2dms (SM 4.1-ASM)

Считывает отдельные выборки из двухмерных многоуровневой текстуры.



| ld2dms \[ \_ аоффимми (u, v) \] dest \[ . Mask \] , сркаддресс \[ . свиззле \] , сркресаурце \[ . свиззле \] , sampleIndex (скалярный операнд) |
|------------------------------------------------------------------------------------------------------------------------|



 



| Элемент                                                                                                               | Описание                                                                                                                |
|--------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------|
| <span id="dest"></span><span id="DEST"></span>*dest*<br/>                                                    | \[в \] адресе результата операции. <br/>                                                                 |
| <span id="srcAddress"></span><span id="srcaddress"></span><span id="SRCADDRESS"></span>*сркаддресс*<br/>     | \[в \] координатах текстуры, необходимых для выполнения примера.<br/>                                                    |
| <span id="srcResource"></span><span id="srcresource"></span><span id="SRCRESOURCE"></span>*сркресаурце*<br/> | \[в \] регистре текстуры (t \# ), который должен быть объявлен, чтобы определить, из какой текстуры или буфера извлечь<br/> |
| <span id="sampleIndex"></span><span id="sampleindex"></span><span id="SAMPLEINDEX"></span>*sampleIndex*<br/> | \[в \] идендифиес примеры для чтения из *сркресаурце*.<br/>                                                       |



 

## <a name="remarks"></a>Remarks

Эта инструкция является упрощенной альтернативой инструкции [образца](sample--sm4---asm-.md) . Он извлекает данные из указанной текстуры без какой-либо фильтрации (например, выборки точек) с помощью предоставленного целого числа *сркаддресс* и *sampleIndex*.

*сркаддресс* предоставляет набор координат текстуры, необходимых для выполнения образца в виде целых чисел без знака. Если *сркаддресс* находится за пределами диапазона \[ 0... ( \# пикселей текстуры в измерении-1 \] ) **ld2dms** всегда возвращает 0 во всех компонентах, представленных в формате ресурса, и значения по умолчанию (0, 0, 0, 1,0 f/0x00000001) для отсутствующих компонентов.

*sampleIndex* не обязательно должен быть литералом. Количество нескольких выборок не обязательно указывать на ресурсе текстуры, оно работает с представлениями глубины или трафарета.

Приложение, которому необходимо более гибкое управление поведением адресов вне диапазона, должно использовать **образец** инструкции, так как он учитывает поведение перетекания адресов, зеркального отображения, среза или границы, определенного как состояние выборки.

*сркаддресс. b* (POST-свиззле) игнорируется для Texture2Ds. Если значение выходит за пределы диапазона доступных индексов массива \[ 0... ( Размер массива — 1) \] , то **ld2dms** всегда возвращает 0 во всех компонентах, представленных в формате ресурса, и значения по умолчанию (0, 0, 0, 1,0 f/0x00000001) для отсутствующих компонентов.

Для массивов Texture2D *сркаддресс. b* (после свиззле) предоставляет индекс массива. Охервисе имеет то же поведение, что и Texture2D.

*сркаддресс. a* (POST-свиззле) всегда игнорируется. Компилятор HLSL никогда не будет выводить ничего.

*сркресаурце* — это регистр текстуры (t \# ), который должен быть объявлен (22.3.11), определяющий, из какой текстуры извлечь.

Выборка из t без \# привязки к ней возвращает значение 0 для всех компонентов.

### <a name="address-offset"></a>Смещение адреса

Необязательный \[ \_ суффикс аоффимми (u, v, w) \] (смещение адреса непосредственно целым числом) указывает на то, что координаты текстуры для **ld2dms** должны быть смещены по набору заданных непосредственных значений целочисленных констант шаг текселяого пространства. Литеральные значения представляют собой набор из 4-разрядных чисел 2, имеющих целочисленный диапазон \[ — 8, 7 \] .

Смещения добавляются к координатам текстуры в шаг текселя пространстве.

Смещения адресов не применяются вдоль оси массива Texture1D и двумерных массивов.

Компоненты *\_ аоффимми v, w* игнорируются для Texture1Ds.

Компонент *\_ аоффимми w* не учитывается для Texture2Ds.

Так как координаты текстуры для **ld2dms** являются целыми числами без знака, если смещение приводит к тому, что адрес перейдется ниже нуля, он будет переноситься на большой адрес и приведет к выходу за пределы допустимого диапазона, который, например, **LD** возвращает 0 во всех компонентах в формате ресурса, и значения по умолчанию (0, 0, 0, 1,0 f/0x00000001)

### <a name="sample-number"></a>Образец числа

**ld2dms** доступен для использования с любым ресурсом. **ld2dms** работает **идентично, за исключением** ресурсов 2D мултсампле, с помощью дополнительного операнда *sampleIndex* (от 0), который определяет, какой пример следует считать из ресурса.

Результат указания *sampleIndex* , превышающего число выборок в ресурсе, не определен, но не может возвращать данные за пределами адресного пространства контекста устройства.

### <a name="return-type-control"></a>Контроль возвращаемого типа

Формат данных, возвращаемый функцией **ld2dms** в регистр назначения, определяется так же, как описано в **образце** инструкции. Он основан на формате, привязанном к параметру *сркресаурце* (t \# ).

Как и в **образце** инструкции, возвращаемые значения для **ld2dms** — это 4-векторы с использованием значений по умолчанию, относящихся к формату для компонентов, отсутствующих в формате. Свиззле On *сркресаурце* определяет, как свиззле результат из 4 компонентов, который возвращается из текстуры загрузки, после чего. Mask в *dest* определяет, какие компоненты в *dest* -обновлении будут обновлены.

При считывании 32-разрядного значения с плавающей запятой с помощью **ld2dms** в 32-разрядный регистр бит не затрагивается. то есть нормальные значения остаются ненормальными. Это не похоже на **образец** инструкции.

### <a name="miscellaneous-details"></a>Прочие сведения

Так как фильтрация, связанная с этой инструкцией, отсутствует, такие понятия, как Лод-смещение, не применяются. Таким образом, параметр *образца s \#* отсутствует.

### <a name="restrictions"></a>Ограничения

-   *сркресаурце* должен быть t- \# регистром, а не текстурекубе, Texture1D или Texture1DArray. *сркресаурце* не может быть константбуффер, который не может быть привязан к \# регистрам t.
-   Относительная адресация в *сркресаурце* не разрешена.
-   *сркаддресс* и *sampleIndex* должны быть временным (r \# /x \# ), постоянным (CB \# ) или входным (v \# ) регистром.
-   *dest* должен быть временным (r \# /x \# ) или выходным \* \# регистром (o).

Эта инструкция применяется к следующим этапам шейдера:



| Вершинный построитель текстуры | Шейдер геометрии | Построитель текстуры |
|---------------|-----------------|--------------|
| x             | x               | x            |



 

## <a name="minimum-shader-model"></a>Минимальная модель шейдера

Эта функция поддерживается в следующих моделях шейдеров.



| Модель шейдера                                              | Поддерживается |
|-----------------------------------------------------------|-----------|
| [Модель шейдера 5](d3d11-graphics-reference-sm5.md)        | Да       |
| [Модель шейдера 4,1](dx-graphics-hlsl-sm4.md)              | Да       |
| [Модель шейдера 4](dx-graphics-hlsl-sm4.md)                | Нет        |
| [Модель шейдера 3 (DirectX HLSL)](dx-graphics-hlsl-sm3.md) | Нет        |
| [Модель шейдера 2 (DirectX HLSL)](dx-graphics-hlsl-sm2.md) | Нет        |
| [Модель шейдера 1 (DirectX HLSL)](dx-graphics-hlsl-sm1.md) | Нет        |



 

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Сборка Shader Model 4 (DirectX HLSL)](dx-graphics-hlsl-sm4-asm.md)
</dt> </dl>

 

 





