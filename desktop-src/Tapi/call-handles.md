---
description: Как упоминалось в обзоре идентификатора сеанса, маркер вызова — это средство, с помощью которого приложение TAPI 2,2 определяет конкретный сеанс связи.
ms.assetid: 5f6a7adf-c074-4bf6-9828-76604eb7609c
title: Дескрипторы вызовов
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: aacad5b73d9d22caa006b734acaf8b992203d7d2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105673356"
---
# <a name="call-handles"></a>Дескрипторы вызовов

Как упоминалось в обзоре [идентификатора сеанса](./session-identifier-ovr.md) , маркер вызова — это средство, с помощью которого приложение TAPI 2,2 определяет конкретный сеанс связи. Когда приложение инициирует сеанс, TAPI возвращает маркер вызова для использования в дальнейших операциях или запросах. Когда приложение получает уведомления о входящем сеансе, TAPI также передает маркер вызова.

После завершения сеанса и состояния сеанса в состоянии бездействия обработчик вызова остается действительным до тех пор, пока приложение не выделит маркер или не закроет строку. Строка может быть закрыта приложением, или же может появиться сообщение о [**\_ закрытии строки**](line-close.md) . Если строка закрыта, все дескрипторы вызовов в строке мгновенно становятся недействительными.

После того как вызов возвращается в состояние *простоя* , приложению по-прежнему разрешено считывать сведения о структуре и состоянии вызова. Это позволяет приложениям использовать такие операции, как [**линежеткаллинфо**](/windows/desktop/api/Tapi/nf-tapi-linegetcallinfo) , для получения сведений о вызовах в целях ведения журнала.

Если приложение больше не использует маркер неактивного вызова, оно должно вызывать [**линедеаллокатекалл**](/windows/desktop/api/Tapi/nf-tapi-linedeallocatecall) для освобождения памяти, выделенной системой, связанной с вызовом. TAPI выделяет память для каждого вызова для каждого из приложений, имеющих маркер вызова. Скорее всего, поставщики услуг будут выделять память для хранения информации о вызовах. Освобождение маркера вызова приложения позволяет библиотеке и поставщику услуг освободить эти ресурсы памяти. После успешного освобождения маркер приложения для вызова станет недействительным.

Приложение должно свободно освобождать память, связанную с вызовом, который был выделен для собственных целей.

 

 
