---
description: Со временем для приложений TAPI, TAPI и поставщиков услуг могут существовать разные версии.
ms.assetid: 39b16328-931e-4d75-a6ec-1edc97f1a287
title: Согласование версий
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: beffff7ceeb90ccf419e138986562ca90f83c204
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127056657"
---
# <a name="version-negotiation"></a>Согласование версий

Со временем для приложений TAPI, TAPI и поставщиков услуг могут существовать разные версии. Для оптимального взаимодействия приложения TAPI необходимо знать не только версию TAPI приложения, но также и версии служб DLL, ТАПИСВР и поставщика услуг TAPI.

Несоблюдение правильного согласования версий может привести к серьезным проблемам. Например, некоторые из часто используемых структур имеют члены данных, добавленные из одной версии в следующую. Если размер структуры не совпадает с предполагаемым приложением или TAPI, то последствия от утечки памяти до периодического значения AVs не будут.

Дополнительные сведения см. в разделе [Управление версиями с интерфейсом TAPI](./tapi-versioning.md).

**Интерфейс TAPI 2. x:** Приложения согласовываются с TAPI и ТАПИСВР во время [**линеинитиализикс**](/windows/win32/api/tapi/nf-tapi-lineinitializeexa). Приложения выполняют согласование устройств с поставщиками услуг, вызывая [**линенеготиатеапиверсион**](/windows/win32/api/tapi/nf-tapi-linenegotiateapiversion) для каждой строки, которую может использовать приложение.

**Интерфейс TAPI 3. x:** Нет необходимости выполнять согласование версий; Однако можно использовать [**QueryInterface**](/windows/win32/api/unknwn/nf-unknwn-iunknown-queryinterface(q)) , чтобы определить, доступен ли интерфейс в своей версии.

 

 
