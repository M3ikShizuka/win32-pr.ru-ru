---
description: В следующей процедуре описано, как включить трассировку и ведение журнала отладки.
ms.assetid: 52381397-df75-4d81-a048-f0ed408ac6b8
title: Включение трассировки и ведения журнала отладки для производных MSP
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 565b66055a43edbe7556e640f8e368aab84fab206bced431c22578a7e21a94ce
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119140527"
---
# <a name="how-to-enable-debug-tracinglogging-for-derived-msps"></a>Включение трассировки и ведения журнала отладки для производных MSP

Во-первых, убедитесь, что реализация производного MSP выполнила рекомендации в предыдущем разделе относительно трассировки отладки (определение символа препроцессора МСПЛОГ, регистрация для трассировки во время DllMain и использование макроса LOG для трассировки). Выясните, какое имя используется MSP при регистрации для трассировки (обычно это имя библиотеки DLL; оно упоминается как имя &lt; библиотеки DLL &gt; ). Чтобы включить трассировку, воспользуйтесь редактором реестра ("Regedit.exe" или "Regedt32.exe"), чтобы выбрать раздел "HKEY \_ Local \_ Machine \\ программное обеспечение \\ Microsoft \\ Tracing" и выполните следующие действия. Обратите внимание, что все указанные ниже значения, за исключением значения ЕнабледебугжертраЦинг, должны быть созданы автоматически после первого запуска MSP.

-   Чтобы включить трассировку для отладчиков пользователя и режима ядра, установите  значение DWORD <dll name> \\ енабледебугжертраЦинг равным 1. При необходимости используйте параметр **DWORD** <dll name> \\ консолетраЦинг Mask, чтобы включить или отключить различные уровни вывода трассировки (значение по умолчанию — 0xFFFF0000, которое включает все уровни трассировки).
-   Чтобы включить трассировку в файле, установите значение **DWORD** <dll name> \\ енаблефилетраЦинг равным 1. При необходимости используйте строковое значение <dll name> \\ филедиректори для настройки расположения файла журнала. При необходимости используйте значение **DWORD** филетраЦингмаск, <dll name> \\ чтобы включить или отключить различные уровни выходных данных трассировки (значение по умолчанию — 0xFFFF0000, которое включает все уровни трассировки).
-   Чтобы включить трассировку в отдельном окне консоли, разделенном на библиотеки DLL, установите значение **DWORD** енаблеконсолетраЦинг равным 1, а также задайте значение **DWORD** <dll name> \\ енаблеконсолетраЦинг равным 1. При необходимости используйте параметр **DWORD** <dll name> \\ консолетраЦинг Mask, чтобы включить или отключить различные уровни вывода трассировки (значение по умолчанию — 0xFFFF0000, которое включает все уровни трассировки).

 

 



