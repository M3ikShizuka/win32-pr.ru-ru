---
description: Операция передачи позволяет приложению отправить подключенный в данный момент сеанс связи с другим адресом.
ms.assetid: b1027f09-74e1-4da8-b718-bb55a56dda1d
title: Перенос
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 87bb527ad8e0a26ba5e4da341eb15509e8af05e7950d82de92be839e70370c79
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119514544"
---
# <a name="transfer"></a>Перенос

Операция передачи позволяет приложению отправить подключенный в данный момент сеанс связи с другим адресом.

TAPI предоставляет два механизма передачи текущего сеанса на другой адрес. *Передача скрытия* позволяет передать существующий сеанс на указанный адрес назначения за один этап. При *переносе консультации* требуется наличие сеанса консультации в дополнение к текущему сеансу для настройки перемещения, а затем завершение перемещения. Вариант между этими двумя типами часто основан на возможностях поставщика услуг, так как некоторые поставщики служб не поддерживают перенос с потерей. В некоторых случаях требуется, чтобы консултативе мог переносить предпочтительный метод, даже если возможна перенаправление слепых.

Операция преобразования «вслепую» по сути является такой же, как в TAPI 2 и TAPI 3, но консултативеная перенаправление на несколько разных шаблонов.

**Интерфейс TAPI 2. x:** Консултативе-перенос начинается с вызова [**линесетуптрансфер**](/windows/win32/api/tapi/nf-tapi-linesetuptransfer), который помещает существующий вызов на удержании консультации и идентифицирует этот вызов как цель для следующего запроса на завершение перемещения. Функция **линесетуптрансфер** также выделяет вызов консультации, который можно использовать для установления вызова консультации с стороной, для которой будет передан вызов. Приложение может набрать расширение целевой стороны в вызове консультации (с помощью [**линедиал**](/windows/win32/api/tapi/nf-tapi-linedial)) или удалить и освободить вызов консультации, а вместо этого активировать существующий Удерживаемый вызов (с помощью [**линеунхолд**](/windows/win32/api/tapi/nf-tapi-lineunhold)), если он поддерживается параметром. В то время как первоначальный вызов находится на удержании, а вызов консультации активен, приложение может переключаться между этими вызовами с помощью [**линесвафолд**](/windows/win32/api/tapi/nf-tapi-lineswaphold).

**Интерфейс TAPI 2. x:** Приложения завершают перенос консултативе с помощью [**линекомплететрансфер**](/windows/win32/api/tapi/nf-tapi-linecompletetransfer). Оба вызова будут возвращены в состояние *простоя* .

Приложения могут использовать функцию одноэтапного перемещения во многих УАТС (нажатие одной кнопки для установки консультации) путем установки параметра *лпкаллпарамс* в **линекаллпарамфлагс \_ Онестептрансфер** в [ \_ константах линекаллпарамфлагс](./linecallparamflags--constants.md) при вызове [**линесетуптрансфер**](/windows/win32/api/tapi/nf-tapi-linesetuptransfer).

**Интерфейс TAPI 3. x:** Консултативе-перемещение начинается с использования [**итаддресс:: креатекалл**](/windows/desktop/api/tapi3if/nf-tapi3if-itaddress-createcall) для создания вызова консультации с новым адресом назначения. [**Итбасиккаллконтрол:: перемещение**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-transfer) затем вызывается для исходного объекта вызова с помощью указателя на новый объект метода консультации в качестве параметра. Вызов [**итбасиккаллконтрол:: Finish**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-finish) на объекте консультации Call, затем завершает перемещение.

Приложение должно освободить ресурсы сеанса после успешного завершения операции перемещения.

Не все поставщики служб поддерживают использование этой операции.

**Интерфейс TAPI 2. x:** См. раздел [**линеблиндтрансфер**](/windows/win32/api/tapi/nf-tapi-lineblindtransfer), [**линесетуптрансфер**](/windows/win32/api/tapi/nf-tapi-linesetuptransfer), [**линекомплететрансфер**](/windows/win32/api/tapi/nf-tapi-linecompletetransfer).

**Интерфейс TAPI 3. x:** См. раздел [**итбасиккаллконтрол:: блиндтрансфер**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-blindtransfer), [**Итаддресс:: креатекалл**](/windows/desktop/api/tapi3if/nf-tapi3if-itaddress-createcall), [**итбасиккаллконтрол:: передает**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-transfer), [**итбасиккаллконтрол:: Finish**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-finish).

 

 
