---
description: ТСПИ включает ряд операций, которые начинают время существования маркера вызова.
ms.assetid: 28e171a3-db47-40fd-9c5a-d7b76d834a99
title: Асинхронные ответы и события для новых дескрипторов вызовов
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 02511a083c318afb227e3e172191d3ab84a69fed
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "103911220"
---
# <a name="async-replies-versus-events-on-new-call-handles"></a>Асинхронные ответы и события для новых дескрипторов вызовов

ТСПИ включает ряд операций, которые начинают время существования маркера вызова. Если поставщик услуг возвращает результат для такой операции, он должен заполнить непрозрачный маркер типа **хдрвкалл**, который используется для нового вызова перед возвратом. TAPI никогда не выполняет операции с вызовом до получения [*соответствующей \_ процедуры завершения*](/windows/win32/api/tspi/nc-tspi-async_completion) . Если поставщик услуг возвращает ошибку, этот маркер автоматически становится недопустимым (т. е. без [**тспи \_ линеклосекалл**](/windows/win32/api/tspi/nf-tspi-tspi_lineclosecall)). По сути, TAPI обрабатывает этот обработчик как "пока не допустим" до асинхронного завершения.

Поставщик услуг также должен рассматривать этот обработчик как "еще не действителен" до тех пор, пока не будет получена соответствующая [*\_ процедура завершения*](/windows/win32/api/tspi/nc-tspi-async_completion) . Иными словами, он не должен выдавать никаких функций для [*\_ событий строк*](/windows/win32/api/tspi/nc-tspi-lineevent) для нового вызова или включать его в число вызовов в сообщениях или структурах данных состояния для строки.

Уровень TAPI также соответствует этим ограничениям жизненного цикла; новый маркер вызова не возвращается или является допустимым до соответствующего сообщения [**\_ ответа строки**](./line-reply.md) , и никакие события для нового вызова не доставляются приложению до тех пор, пока не будет отправлено \_ сообщение с ответом строки.

Ниже перечислены операции ТСПИ, к которым применяется принцип "время жизни запуска".

-   [**ТСПИ \_ линекомплететрансфер**](/windows/win32/api/tspi/nf-tspi-tspi_linecompletetransfer)
-   [**ТСПИ \_ линефорвард**](/windows/win32/api/tspi/nf-tspi-tspi_lineforward)
-   [**ТСПИ \_ линемакекалл**](/windows/win32/api/tspi/nf-tspi-tspi_linemakecall)
-   [**ТСПИ \_ линепиккуп**](/windows/win32/api/tspi/nf-tspi-tspi_linepickup)
-   [**ТСПИ \_ линепрепареаддтоконференце**](/windows/win32/api/tspi/nf-tspi-tspi_lineprepareaddtoconference)
-   [**ТСПИ \_ линесетупконференце**](/windows/win32/api/tspi/nf-tspi-tspi_linesetupconference)
-   [**ТСПИ \_ линесетуптрансфер**](/windows/win32/api/tspi/nf-tspi-tspi_linesetuptransfer)
-   [**ТСПИ \_ линеунпарк**](/windows/win32/api/tspi/nf-tspi-tspi_lineunpark)

 

 
