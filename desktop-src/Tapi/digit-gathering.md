---
description: Помимо включения контроля цифр и получения уведомления о цифрах по одному, приложение может также запросить, чтобы в буфере собираются несколько цифр.
ms.assetid: db83c48a-5178-40ed-90a9-e7c8e1886fe0
title: Сбор цифр
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d5eab4185882b86a5a8e5dcb1444f39c9db2b3ba
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105673520"
---
# <a name="digit-gathering"></a>Сбор цифр

Помимо включения контроля цифр и получения уведомления о цифрах по одному, приложение может также запросить, чтобы в буфере собираются несколько цифр. Приложение уведомляется только при заполнении буфера или при выполнении какого-либо другого условия завершения. Сбор цифр полезен для таких функций, как коллекция номеров кредитных карт. Он выполняется, когда приложение вызывает [**линегасердигитс**](/windows/desktop/api/Tapi/nf-tapi-linegatherdigits), указывая буфер для заполнения цифрами. Сбор цифр завершается, когда выполняется одно из следующих условий.

-   Было собрано запрошенное количество цифр.
-   Обнаружена одна из нескольких завершающих цифр. Цифры завершения задаются как [**линегасердигитс**](/windows/desktop/api/Tapi/nf-tapi-linegatherdigits), а завершающая цифра также помещается в буфер.
-   Истекло одно из двух истечения времени ожидания. Время ожидания — это первое время ожидания, определяющее максимальную продолжительность до того, как должна быть собрана первая цифра, и время ожидания между цифрами, с указанием максимальной длительности между последовательными цифрами.
-   Сбор цифр явным образом отменяется с помощью [**линегасердигитс**](/windows/desktop/api/Tapi/nf-tapi-linegatherdigits) с другим набором параметров для запуска нового запроса на сбор данных или с помощью параметра буфера цифр **null** для отмены.

Когда по какой-либо причине сбор цифр завершается, в приложение, которое запросило сбор цифр, отправляется сообщение [**\_ гасердигитс**](line-gatherdigits.md) . Однозначный запрос на сбор данных может быть выполнен в любой момент времени во всех приложениях, являющихся владельцами вызова.

Сбор цифр и отслеживание цифр можно включить одновременно для одного вызова. В этом случае приложение получит сообщение [**Line \_ монитордигитс**](line-monitordigits.md) для каждой обнаруженной цифры и \_ сообщение гасердигитс отдельной строки при обратной отправке буфера.

 

 



