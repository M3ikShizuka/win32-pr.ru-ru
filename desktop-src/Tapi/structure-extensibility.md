---
description: Сведения о расширяемости структуры. Подготавливается для расширения констант и структур как независимо от устройства, так и для конкретного устройства.
ms.assetid: d30f80c3-3535-4d78-b0a1-c9a7389f8fd4
title: Расширяемость структуры
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 378defd35304f6745d42723a44e21c0aa56a34e1f6c40c2f96d5f6743d61b805
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119991724"
---
# <a name="structure-extensibility"></a>Расширяемость структуры

Подготавливается для расширения констант и структур как независимо от устройства, так и для конкретного устройства (зависящего от поставщика).

В константах, являющихся скалярными перечислениями, диапазон значений зарезервирован для будущих распространенных расширений. Оставшаяся часть значений определяется как специфичное для устройства. Поставщик может определить смысл этих значений любым способом. Интерпретация этих значений имеет ключ к *идентификатору расширения* , предоставленному через структуру данных [**линедевкапс**](/windows/win32/api/tapi/ns-tapi-linedevcaps) . Для констант, определенных как битовые флаги, диапазон младших битов резервируется, где старшие биты могут быть специфичными для расширения. Рекомендуется, чтобы расширенные значения и битовые массивы использовали биты из самого высокого значения или со старшим битом. Это оставляет возможность перемещать границу между общей частью и расширением, если это необходимо сделать в будущем. Расширениям для структур данных назначается поле размера вариабли, размер или смещение которого являются частью фиксированной части. ТСПИ описывает каждую структуру данных, в которой разрешаются расширения для конкретных устройств.

Помимо распознавания определенного идентификатора расширения TAPI (работа от имени приложения) должен согласовать номер версии расширения, под которой работает приложение и поставщик служб. Это делается с помощью функций [**тспи \_ Линенеготиатикстверсион**](/windows/win32/api/tspi/nf-tspi-tspi_linenegotiateextversion) и [**тспи \_ фоненеготиатикстверсион**](/windows/win32/api/tspi/nf-tspi-tspi_phonenegotiateextversion) .

Идентификатор расширения — это глобальный уникальный идентификатор. Отсутствует центральный реестр для идентификаторов расширений. Вместо этого они создаются разработчиком локально с помощью служебной программы, доступной в наборе средств. Число состоит из таких частей, как (уникальный) адрес локальной сети, время суток и случайное число, чтобы гарантировать глобальную уникальность. Глобальные уникальные идентификаторы должны отличаться от универсальных уникальных идентификаторов HP/DEC и, таким образом, полностью совместимы с ними.

 

 
