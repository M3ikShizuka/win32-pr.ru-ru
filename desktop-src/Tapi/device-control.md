---
description: Для управления устройствами на уровне приложений конечного пользователя или сервера требуется относительно небольшой набор основных сведений.
ms.assetid: 9c787656-93ef-4e0b-9516-8822ae49a83a
title: Управление устройствами (API телефонии)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 83b17336941a55a529c6b436270f7b225a1cada3
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105682694"
---
# <a name="device-control-telephony-api"></a>Управление устройствами (API телефонии)

Для управления устройствами на уровне приложений конечного пользователя или сервера требуется относительно небольшой набор основных сведений. Слой абстракции поставщика услуг выполняет подробную операцию управления устройством. Поставщики услуг сообщают о необходимости сведения об устройстве в приложение через TAPI.

К основным категориям устройств относятся:

-   [Сеть](network-ovr.md): транспортный уровень для обмена данными. С точки зрения приложения сведения о сети обычно внедряются в тип адреса, например ЛИНЕАДДРЕССТИПЕ \_ PHONENUMBER.
-   [Line](line-ovr.md): подключение к сети. Эта концепция интенсивно используется в TAPI 2,2 (TAPI/C).
-   [Канал](channel-ovr.md): подразделение линии. Как правило, знание каналов не требуется для приложения, так как поставщик услуг настраивает, как они будут отображаться как адреса.
-   [Адрес](address-ovr.md): сетевое расположение в сети. Каждая строка или канал имеет один или несколько связанных адресов. Адрес является ключевой концепцией в интерфейсах TAPI 3,1 (TAPI/COM) и TAPI 2,2 (TAPI/C).
-   [Терминал](terminal-ovr.md): источник или модуль подготовки отчетов для определенного адреса и типа носителя.

Поставщики услуг сообщают о характеристиках устройств TAPI в ответ на запросы приложений. Поставщики услуг также инициируют отчеты об изменениях в состоянии устройства. Затем эти изменения передаются в приложение на основе уведомлений, запрошенных во время инициализации.

Основные характеристики устройства:

-   [Класс устройства](device-class-ovr.md)
-   [Идентификатор устройства](device-identifier-ovr.md)
-   [Тип адреса](address-type-ovr.md)
-   [Идентификатор адреса](address-identifier-ovr.md)
-   [События устройства](device-events-ovr.md)
-   [Тип носителя](media-type-ovr.md)
-   [Тип терминала](terminal-type-ovr.md)

Кроме того, поставщики услуг предоставляют сведения о емкости заданного адреса для выполнения различных операций сеанса.

Дополнительные характеристики могут быть связаны с определенными устройствами, если поставщики услуг их поддерживают. Приложение TAPI 2. x обнаруживает возможности с помощью функций [**линежетдевкапс**](/windows/win32/api/tapi/nf-tapi-linegetdevcaps) и [**линежетаддресскапс**](/windows/win32/api/tapi/nf-tapi-linegetaddresscaps) . Приложения TAPI 3. x используют для этой цели интерфейс [**итаддресскапабилитиес**](/windows/desktop/api/tapi3if/nn-tapi3if-itaddresscapabilities) .

TAPI 2. x предоставляет специальный набор дополнительных операций, которые поставщик услуг может реализовать для использования с телефонными устройствами. См. раздел [устройства Phone](./opening-and-closing-phone-devices.md).

Расширенные возможности зависят от поставщика и не распространяются непосредственно в API телефонии Майкрософт. См. раздел [Расширенные функции Line](./extended-line-functions.md), [функции телефонной](./extended-telephony-phone-functions.md)телефонии или [интерфейсы, зависящие от поставщика](provider-specific-interfaces.md).

Ниже приведена сводка операций TAPI, которые запрашивают поставщики услуг на характеристики устройства и предоставляют данные в текущем состоянии.



| Функции TAPI 2. x                                                  | Описание                                                                                                    |
|---------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------|
| [**линежетдевкапс**](/windows/win32/api/tapi/nf-tapi-linegetdevcaps)                   | Запрашивает указанное устройство линии для определения возможностей телефонии связанных адресов.               |
| [**линежетаддресскапс**](/windows/win32/api/tapi/nf-tapi-linegetaddresscaps)           | Запрашивает указанное устройство линии для определения возможностей телефонии определенного адреса.                   |
| [**линежетдевконфиг**](/windows/win32/api/tapi/nf-tapi-linegetdevconfig)               | Возвращает непрозрачную структуру данных, в которой хранится текущая конфигурация устройства.                          |
| [**линесетдевконфиг**](/windows/win32/api/tapi/nf-tapi-linesetdevconfig)               | Восстанавливает конфигурацию устройства.                                                                                 |
| [**линеконфигдиалог**](/windows/win32/api/tapi/nf-tapi-lineconfigdialog)               | Отображение диалогового окна, позволяющего пользователю настраивать параметры, связанные с устройством.                       |
| [**линежетид**](/windows/win32/api/tapi/nf-tapi-linegetid)                             | Извлекает стабильный идентификатор устройства, который можно использовать в дальнейших вызовах функций TAPI или с другим API. |
| [**линежетлинедевстатус**](/windows/win32/api/tapi/nf-tapi-linegetlinedevstatus)       | Запрашивает текущее состояние устройства, например число активных вызовов.                                             |
| [**линесетлинедевстатус**](/windows/win32/api/tapi/nf-tapi-linesetlinedevstatus)       | Задает состояние устройства, например задание устройства как не в службе.                                                |
| [**линежетикон**](/windows/win32/api/tapi/nf-tapi-linegeticon)                         | Возвращает специфический для поставщика значок, отображаемый пользователю.                                                      |
| [**линенеготиатикстверсион**](/windows/win32/api/tapi/nf-tapi-linenegotiateextversion) | Позволяет приложению согласовывать версию расширения для использования с указанным устройством.                 |
| [**линедевспеЦифик**](/windows/win32/api/tapi/nf-tapi-linedevspecific)                 | Предоставляет доступ к функциям для конкретных устройств.                                                                      |
| [**линедевспеЦификфеатуре**](/windows/win32/api/tapi/nf-tapi-linedevspecificfeature)   | Отправляет поставщику услуг функции для конкретных устройств.                                                        |



 



| Интерфейсы или методы интерфейса TAPI 3. x                                   | Описание                                                                                             |
|------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------|
| [**итаддресскапабилитиес**](/windows/desktop/api/tapi3if/nn-tapi3if-itaddresscapabilities)           | Возвращает сведения о возможностях адреса.                                                  |
| [**итаммедиаформат**](/windows/win32/api/tapi3/nn-tapi3-itammediaformat)                       | Задает и получает™ формат мультимедиа DirectShow.                                                                 |
| [**итбасикаудиотерминал**](/windows/desktop/api/tapi3if/nn-tapi3if-itbasicaudioterminal)             | Задает и получает стандартные характеристики звукового терминала, такие как Volume.                                  |
| [**итмедиасуппорт**](/windows/desktop/api/tapi3if/nn-tapi3if-itmediasupport)                         | Возвращает сведения о возможностях поддержки мультимедиа адреса.                                    |
| [**иттерминал**](/windows/win32/api/tapi3if/nn-tapi3if-itterminal)                                 | Базовый интерфейс для объекта терминала. Получает такие сведения, как класс терминала и Поддерживаемые носители. |
| [**иттерминалсуппорт**](/windows/win32/api/tapi3if/nn-tapi3if-itterminalsupport)                   | Получает сведения о доступных терминалах и создает дополнительные терминалы.                               |
| [Интерфейсы, зависящие от поставщика](provider-specific-interfaces.md) | Зависимый от поставщика служб.                                                                             |



 

 

 
