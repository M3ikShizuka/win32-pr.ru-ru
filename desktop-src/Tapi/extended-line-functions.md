---
description: Расширенные службы линии (или специальные службы для конкретных устройств) включают в API все расширения, определенные поставщиком услуг.
ms.assetid: 0f01509e-caa5-4f79-be78-36bd5f23c5d7
title: Расширенные функции строк
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3531a63357276e6b2ea37365b5d5078d5c1de324
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104541778"
---
# <a name="extended-line-functions"></a>Расширенные функции строк

Расширенные службы линии (или специальные службы для конкретных устройств) включают в API все расширения, определенные поставщиком услуг. API определяет механизм, позволяющий поставщикам поставщиков услуг расширить TAPI, используя расширения для конкретных устройств. API определяет только механизм расширения, и таким образом предоставляет доступ к расширениям для конкретных устройств, но API не определяет их поведение. Поведение полностью определяется поставщиком услуг.

Интерфейс TAPI состоит из скалярных и двоичных определений флагов, структур данных, функций и сообщений. Определяются процедуры, которые позволяют поставщику расширить большинство из них следующим образом.

Для расширяемых скалярных констант данных поставщик поставщика услуг может определять новые значения в указанном диапазоне. Так как большинство констант данных имеют значение **DWORD**, обычно диапазон от 0X00000000 до 0x7FFFFFFF зарезервирован для распространенных будущих расширений, а 0x80000000 — по 0xFFFFFFFF — для расширений, зависящих от поставщика. Предполагается, что поставщик определит значения, которые являются естественными расширениями типов данных, определенных API.

Для расширяемых констант данных в виде битовых флагов поставщик поставщика услуг может определять новые значения для указанных битов. Как правило, большинство констант побитовых флагов — **DWORD**, обычно определенное число младших битов зарезервировано для распространенных расширений, а оставшиеся верхние доступны для расширений, зависящих от поставщика. Распространенным битовым флагам присваивается нулевой разряд. расширения, зависящие от поставщика, должны быть назначены с 31 бита. Это обеспечивает максимальную гибкость при назначении битовых позиций общим расширениям и расширениям, зависящим от поставщика. Предполагается, что поставщик определяет новые значения, которые являются естественными расширениями битовых флагов, определенных API.

Расширяемые структуры данных имеют поле размера вариабли, зарезервированное для использования в конкретных устройствах. Вариабли размер, поставщик услуг определяет объем информации и интерпретацию. Поставщик, определяющий поле для конкретного устройства, должен сделать эти естественные расширения исходной структуры данных, определенной API.

Две функции, [**линедевспеЦифик**](/windows/desktop/api/Tapi/nf-tapi-linedevspecific) и [**линедевспеЦификфеатуре**](/windows/desktop/api/Tapi/nf-tapi-linedevspecificfeature), и два связанных сообщения, [**Line \_ девспеЦифик**](line-devspecific.md) и [**Line \_ девспеЦификфеатуре**](line-devspecificfeature.md), предоставляют механизм расширения, зависящий от поставщика. Функция **линедевспеЦифик** и связанная строка \_ девспеЦифик позволяют приложению получить доступ к линиям, адресам или вызовам функций, недоступных в базовых или дополнительных службах телефонии. Профиль параметров функции **линедевспеЦифик** является универсальным в этой незначительной интерпретации параметров API. Интерпретация параметров определяется поставщиком услуг и должна быть понята приложению, которое их использует. Параметры просто передаются через интерфейс TAPI из приложения поставщику услуг. Приложение, основанное на расширениях для конкретных устройств, обычно не работает с другими поставщиками служб. Однако приложения, написанные в базовой и дополнительной службах телефонии, будут работать с расширенным поставщиком услуг.

Для удобства также предоставляется более специализированная Escape-функция. Он похож на [**линедевспеЦифик**](/windows/desktop/api/Tapi/nf-tapi-linedevspecific), но размещается на некоторых параметрах. Эта более специализированная функция — [**линедевспеЦификфеатуре**](/windows/desktop/api/Tapi/nf-tapi-linedevspecificfeature), функция экранирования для конкретного устройства, позволяющая отправлять функции переключения в коммутатор. Строка сообщения [**\_ девспеЦификфеатуре**](line-devspecificfeature.md) — это сообщение для конкретного устройства, отправляемое в приложение в качестве указания о возможностях, отправляемых в коммутатор. Эта функция и связанное с ней сообщение позволяют приложению имитировать нажатия кнопки в телефоне функции. По мере того, как телефоны функций и их кнопки относятся к конкретному поставщику, вызов функции с использованием [**линедевспеЦификфеатуре**](/windows/desktop/api/Tapi/nf-tapi-linedevspecificfeature) также зависит от поставщика.

Как упоминалось ранее, Центральный реестр для идентификаторов производителей отсутствует. Вместо этого становится доступным генератор уникальных идентификаторов (ЕКСТИДЖЕН).

 

 



