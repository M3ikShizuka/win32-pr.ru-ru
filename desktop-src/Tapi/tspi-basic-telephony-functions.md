---
description: Все поставщики служб должны реализовывать базовые функции телефонии.
ms.assetid: 4250f3a0-a66a-4a6e-8566-d71be7463179
title: Базовые функции телефонии ТСПИ
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5308def0c94df9fa59f2022bf25c4dbb1843e2f8
ms.sourcegitcommit: 8ebcf6cd36f67f8bcf78e76ae8923d65b8995c8a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/05/2021
ms.locfileid: "111524158"
---
# <a name="tspi-basic-telephony-functions"></a>Базовые функции телефонии ТСПИ

Все поставщики служб должны реализовывать базовые функции телефонии. Ниже приведен список таких функций по категориям. Функция определяется как *асинхронная* , если она указывает на завершение в ответном сообщении для приложения. Если функция всегда возвращает результат немедленно, функция считается *синхронной*.

-   [Адреса](#addresses)
-   [Ответ на входящие вызовы](#answering-incoming-calls)
-   [Вызов функций Drop](#call-drop-functions)
-   [Состояния вызовов и события](#call-states-and-events)
-   [Состояние и возможности линий](#line-status-and-capabilities)
-   [Согласование версии строки](#line-version-negotiation)
-   [Выполнение вызовов](#making-calls)
-   [Открытие и закрытие линейных устройств](#opening-and-closing-line-devices)
-   [Согласование версии телефона](#phone-version-negotiation)
-   [Инициализация и завершение работы TSP](#tsp-initialization-and-shutdown)

## <a name="tsp-initialization-and-shutdown"></a>Инициализация и завершение работы TSP



|  Функция                                                         |   Описание                                                        |
|-----------------------------------------------------------|-----------------------------------------------------------|
| [**ТУИСПИ \_ провидеринсталл**](/windows/win32/api/tspi/nf-tspi-tuispi_providerinstall) | Устанавливает TSP. Синхронный.                              |
| [**ТСПИ \_ провидеринсталл**](/windows/win32/api/tspi/nf-tspi-tspi_providerinstall)     | Устанавливает TSP. Устарело с версией 2,0. Синхронный. |
| [**ТСПИ \_ провидеринит**](/windows/win32/api/tspi/nf-tspi-tspi_providerinit)           | Инициализирует TSP. Синхронный.                         |
| [**ТСПИ \_ провидершутдовн**](/windows/win32/api/tspi/nf-tspi-tspi_providershutdown)   | Завершает работу поставщика услуг.                          |
| [**ТУИСПИ \_ провидерремове**](/windows/win32/api/tspi/nf-tspi-tuispi_providerremove)   | Удаляет TSP. Синхронный.                               |
| [**ТСПИ \_ провидерремове**](/windows/win32/api/tspi/nf-tspi-tspi_providerremove)       | Удаляет TSP. Устарело с версией 2,0. Синхронный.    |



 

## <a name="phone-version-negotiation"></a>Согласование версии телефона



|  Функция                                                         |   Описание                                                        |
|---------------------------------------------------------------------------|-----------------------------------------------------------------------------------------|
| [**ТСПИ \_ фоненеготиатетспиверсион**](/windows/win32/api/tspi/nf-tspi-tspi_phonenegotiatetspiversion) | Возвращает максимальную версию SPI, для которой может действовать поставщик служб для этого устройства. |



 

## <a name="line-version-negotiation"></a>Согласование версии строки



|  Функция                                                         |   Описание                                                        |
|-------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------|
| [**ТСПИ \_ линенеготиатетспиверсион**](/windows/win32/api/tspi/nf-tspi-tspi_linenegotiatetspiversion) | Позволяет приложению согласовывать версию ТСПИ для использования с заданным устройством. Синхронный. |



 

## <a name="line-status-and-capabilities"></a>Состояние и возможности линий



|  Функция                                                         |   Описание                                                        |
|---------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**ТСПИ \_ линежетдевкапс**](/windows/win32/api/tspi/nf-tspi-tspi_linegetdevcaps)                 | Возвращает возможности данного устройства линии. Синхронный.                                                                                                  |
| [**ТСПИ \_ линежетдевконфиг**](/windows/win32/api/tspi/nf-tspi-tspi_linegetdevconfig)             | Возвращает конфигурацию устройства потоковой передачи мультимедиа. Синхронный.                                                                                                   |
| [**ТСПИ \_ линежетлинедевстатус**](/windows/win32/api/tspi/nf-tspi-tspi_linegetlinedevstatus)     | Возвращает текущее состояние указанного устройства с открытым графиком. Синхронный.                                                                                         |
| [**ТСПИ \_ линесетдевконфиг**](/windows/win32/api/tspi/nf-tspi-tspi_linesetdevconfig)             | Задает конфигурацию указанного устройства потока мультимедиа. Синхронный.                                                                                      |
| [**ТСПИ \_ линесетстатусмессажес**](/windows/win32/api/tspi/nf-tspi-tspi_linesetstatusmessages)   | Указывает изменения состояния, для которых приложение должно получать уведомления. Синхронный.                                                                      |
| [**ТСПИ \_ линежетид**](/windows/win32/api/tspi/nf-tspi-tspi_linegetid)                           | Извлекает идентификатор устройства, связанный с указанной открытой строкой, адресом или вызовом. Синхронный.                                                                  |
| [**ТСПИ \_ линежетикон**](/windows/win32/api/tspi/nf-tspi-tspi_linegeticon)                       | Позволяет приложению получить значок для показа пользователю. Синхронный.                                                                                |
| [**ТУИСПИ \_ линеконфигдиалог**](/windows/win32/api/tspi/nf-tspi-tuispi_lineconfigdialog)         | Заставляет поставщик указанного устройства отображать диалоговое окно, позволяющее пользователю настраивать параметры, связанные с устройством линии. Синхронный. |
| [**ТУИСПИ \_ линеконфигдиаложедит**](/windows/win32/api/tspi/nf-tspi-tuispi_lineconfigdialogedit) | Отображает диалоговое окно, позволяющее пользователю изменить сведения о конфигурации для линейного устройства. Синхронный.                                                    |



 

## <a name="addresses"></a>Адреса



|  Функция                                                         |   Описание                                                        |
|-----------------------------------------------------------------|------------------------------------------------------------------------------------------|
| [**ТСПИ \_ линежетаддресскапс**](/windows/win32/api/tspi/nf-tspi-tspi_linegetaddresscaps)     | Возвращает возможности телефонии адреса. Синхронный.                           |
| [**ТСПИ \_ линежетаддрессстатус**](/windows/win32/api/tspi/nf-tspi-tspi_linegetaddressstatus) | Возвращает текущее состояние указанного адреса. Синхронный.                              |
| [**ТСПИ \_ линежетнумаддрессидс**](/windows/win32/api/tspi/nf-tspi-tspi_linegetnumaddressids) | Извлекает количество идентификаторов адресов, поддерживаемое в указанной строке.             |
| [**ТСПИ \_ линежетаддрессид**](/windows/win32/api/tspi/nf-tspi-tspi_linegetaddressid)         | Извлекает идентификатор адреса, указанного в альтернативном формате. Синхронный. |



 

## <a name="opening-and-closing-line-devices"></a>Открытие и закрытие линейных устройств



|  Функция                                                         |   Описание                                                        |
|-------------------------------------------|------------------------------------------------------------------------------------------------------------|
| [**ТСПИ \_ линеопен**](/windows/win32/api/tspi/nf-tspi-tspi_lineopen)   | Открывает указанное устройство линии для последующего мониторинга и (или) управления строкой. Синхронный. |
| [**ТСПИ \_ линеклосе**](/windows/win32/api/tspi/nf-tspi-tspi_lineclose) | Закрывает указанное устройство Open Line. Синхронный.                                                        |



 

## <a name="call-states-and-events"></a>Состояния вызовов и события



|  Функция                                                         |   Описание                                                        |
|-------------------------------------------------------------|-------------------------------------------------------------------------------------|
| [**ТСПИ \_ линежеткаллинфо**](/windows/win32/api/tspi/nf-tspi-tspi_linegetcallinfo)       | Возвращает фиксированные сведения о вызове. Синхронный.                                |
| [**ТСПИ \_ линежеткаллстатус**](/windows/win32/api/tspi/nf-tspi-tspi_linegetcallstatus)   | Возвращает сведения о состоянии завершения вызова для указанного вызова. Синхронный.       |
| [**ТСПИ \_ линесетаппспеЦифик**](/windows/win32/api/tspi/nf-tspi-tspi_linesetappspecific) | Задает зависящее от приложения поле структуры сведений о вызове. Синхронный. |



 

## <a name="making-calls"></a>Выполнение вызовов



|  Функция                                                         |   Описание                                                        |
|-------------------------------------------------|------------------------------------------------------------------------|
| [**ТСПИ \_ линемакекалл**](/windows/win32/api/tspi/nf-tspi-tspi_linemakecall) | Выполняет исходящий вызов и возвращает для него маркер вызова. Асинхронная. |
| [**ТСПИ \_ линедиал**](/windows/win32/api/tspi/nf-tspi-tspi_linedial)         | Звонки (части одного или нескольких) коммутируемых адресов. Асинхронная.         |



 

## <a name="answering-incoming-calls"></a>Ответ на входящие вызовы



|  Функция                                                         |   Описание                                                        |
|---------------------------------------------|-----------------------------------------|
| [**ТСПИ \_ линеансвер**](/windows/win32/api/tspi/nf-tspi-tspi_lineanswer) | Отвечает на входящий вызов. Асинхронная. |



 

## <a name="call-drop-functions"></a>Вызов функций Drop



|  Функция                                                         |   Описание                                                        |
|-----------------------------------------|---------------------------------------------------------------------------|
| [**ТСПИ \_ линедроп**](/windows/win32/api/tspi/nf-tspi-tspi_linedrop) | Отключает вызов или прерывает выполнение попытки вызова. Асинхронная. |



 

 

 
