---
description: Многие приложения зависят от отношения времени между событиями мультимедиа (например, число полученных разрядов DTMF) для определения природы запрошенной операции.
ms.assetid: 8d25a31f-de40-4c74-b8e7-a81fbfd47db2
title: Таймеры событий мультимедиа
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4a584518c9c33e8991bd2388f01cb863bab1c7a3
ms.sourcegitcommit: c16214e53680dc71d1c07111b51f72b82a4512d8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/03/2021
ms.locfileid: "105684765"
---
# <a name="media-event-timers"></a>Таймеры событий мультимедиа

Многие приложения зависят от отношения времени между событиями мультимедиа (например, число полученных разрядов DTMF) для определения природы запрошенной операции. Например, в приложении для работы с голосовыми сообщениями две последовательные цифры DTMF "1" могут означать "резервное копирование двух сегментов" или "воспроизведение с начала сообщения" в зависимости от того, сколько времени прошло между двумя цифрами. В клиентской или серверной среде, если обнаружение DTMF выполняется на отдельном процессоре, отличном от того, на котором запущено приложение, задержка в локальной сети очень высока, так как связь времени между событиями мультимедиа будет отклонена, и в результате эти различия по времени могут быть потеряны или станут ненадежными.

Для устранения этой проблемы несколько сообщений TAPI могут иметь метку времени. Так как это относительная продолжительность между этими событиями, то "время события" не имеет значения, а также время, относящееся к моменту времени, для этих отметок времени используется время в миллисекундах "с момента запуска Windows", возвращаемого функцией [**жеттикккаунт**](/windows/desktop/api/sysinfoapi/nf-sysinfoapi-gettickcount) . Приложения должны иметь в виду, что это счетчик тактов на сервере (или на компьютере, на котором работает поставщик услуг, непосредственно управляющее оборудованием), и не обязательно является компьютером, на котором выполняются приложения. Таким же отметка времени в этих сообщениях TAPI может сравниваться только друг с другом, а не со значением, возвращаемым функцией **жеттикккаунт** на процессоре, на котором выполняется приложение.

К сообщениям TAPI, которые могут быть отметкой времени, относятся: [**Line \_ гасердигитс**](line-gatherdigits.md), [**\_ монитордигитс**](line-monitordigits.md) [**строки, \_**](line-generate.md)Line [**\_ монитормедиа**](line-monitormedia.md)и [**Line \_ монитортоне**](line-monitortone.md). Счетчик тактов вставляется в *dwParam3* этих сообщений. Если значение метки времени не поддерживается поставщиком услуг (который указывается параметром поставщика услуг *dwParam3* в этих сообщениях равным 0), то интерфейс TAPI будет вставлять счетчик тактов в *dwParam3* всех этих сообщений (он может быть наклонен немного, но меньше, чем если бы приложение выполняло такое же действие после того, как сообщения проходят схему межпроцессного взаимодействия).

 

 
