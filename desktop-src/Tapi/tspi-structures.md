---
description: Структуры данных, используемые ТСПИ, идентичны тем, которые определены в структурах TAPI, за исключением ТУИСПИКРЕАТЕДИАЛОГИНСТАНЦЕПАРАМС.
ms.assetid: 99d966ea-49b5-4a84-83a1-99dc8465c751
title: Структуры ТСПИ
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4e3468171bc160ca03ac9f5501a9eba7fd9221ef
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105683390"
---
# <a name="tspi-structures"></a>Структуры ТСПИ

Структуры данных, используемые ТСПИ, идентичны тем, которые определены в [структурах TAPI](./tapi-structures.md), за исключением [**туиспикреатедиалогинстанцепарамс**](/windows/win32/api/tspi/ns-tspi-tuispicreatedialoginstanceparams).

В случае большей части больших структур данных ответственность за заполнение элементов делится на поставщика услуг и TAPI. Поставщик услуг должен сохранять значения, которые находятся в членах, принадлежащих TAPI. Описание элементов, которые должны быть заданы поставщиком услуг и которые должны быть сохранены, приводится в разделе функции в функциях, ссылающихся на эту структуру данных.

Для каждой структуры в разделе Reference перечислены следующие элементы.

-   Назначение структуры
-   Описание значений или полей
-   Описание расширяемости структуры
-   Необязательные комментарии по использованию структуры
-   Необязательные ссылки на другие функции, сообщения, константы или структуры.

Память для всех структур данных, представление которых публикуется и совместно используется интерфейсом TAPI и поставщиком услуг, выделено TAPI или приложением с помощью TAPI. TAPI передает указатель на функцию ТСПИ, которая возвращает информацию. ТСПИ заполняет структуру данных запрашиваемой информацией. Если операция является асинхронной, сведения недоступны, пока обратный вызов асинхронного ответа не указывает на успешное выполнение.

> [!Note]  
> Некоторые структуры включают поля Размер и смещение для определения расположения и длины строк в переменной части структуры. Если поставщик услуг запрашивает добавление строки, но строка не доступна, поставщик услуг должен указать это условие одним из следующих способов:
>
> -   Задайте для полей Размер и смещение значение 0.
> -   Задайте для поля смещения ненулевое значение, а для параметра size — 0.
> -   Задайте для поля смещение значение ненулевой, установите размер равным 1 и байт со смещением до 0.

 

 

 
