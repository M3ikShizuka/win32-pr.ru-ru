---
description: Спецификация ТСПИ очень тесно связана с спецификациями для TAPI 2,2 (TAPI/C).
ms.assetid: 2c51f7e3-c741-4736-9611-2327d65b427e
title: Общее сравнение с TAPI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ecedd5a53fd30e2a49b6d44e90d30f86ff8469f002166ca3328f3146a2748b78
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119002812"
---
# <a name="overall-comparison-with-tapi"></a>Общее сравнение с TAPI

Спецификация ТСПИ очень тесно связана с спецификациями для TAPI 2,2 (TAPI/C). Большинство функций в одной из них имеют соответствующую функцию в другой. Обычная корреспонденция выглядит следующим образом:

-   Функции ТСПИ имеют те же имена, что и функции TAPI, за исключением того, что они добавляются к «**тспи \_**». Например, функция TAPI [**линеакцепт**](/windows/win32/api/tapi/nf-tapi-lineaccept) соответствует функции тспи [**тспи \_ линеакцепт**](/windows/win32/api/tspi/nf-tspi-tspi_lineaccept).
-   Процедуры, допускающие асинхронную операцию, вставляют в качестве первого параметра параметр *дврекуестид* типа [DRV \_ REQUESTID](drv-requestid.md) . Этот параметр определяет значение, которое должно быть возвращено для указания асинхронной операции и для асинхронного завершения.
-   параметры *хкалл* типа хкалл заменяются параметрами *хдкалл* типа [хдрвкалл](hdrvline.md), указывающими на маркер поставщика услуг для вызова.
-   параметры *хлине* типа хлине заменяются параметрами *хдлине* типа [хдрвлине](hdrvline.md), которые указывают на маркер поставщика услуг для строки.
-   параметры *хфоне* типа хфоне заменяются параметрами *хдфоне* типа [хдрвфоне](hdrvphone.md), которые указывают на маркер поставщика услуг для телефона.
-   Процедуры, создающие новый вызов, например [**тспи \_ линемакекалл**](/windows/win32/api/tspi/nf-tspi-tspi_linemakecall), заменяют один параметр *Лфкалл* двумя параметрами: *хткалл* типа [хтапикалл](htapicall.md) , который передает маркер TAPI для вызова, и *лфдкалл* типа лфдрвкалл, который указывает расположение, в которое поставщик услуг должен записать новый маркер для вызова. Аналогичное разбиение параметров происходит в [**тспи \_ Линеопен**](/windows/win32/api/tspi/nf-tspi-tspi_lineopen) и [**тспи \_ фонеопен**](/windows/win32/api/tspi/nf-tspi-tspi_phoneopen).
-   На уровне ТСПИ отсутствует понятие "привилегия", связанное с дескрипторами устройств. Более того, на уровне API каждое приложение, имеющее устройство или обработчик вызова, имеет другой обработчик, но TAPI объединяет их в единый маркер на стороне поставщика услуг. Как следствие, коды ошибок и сообщения о состоянии, относящиеся к привилегиям и числу клиентов, использующих устройство, не отображаются на уровне ТСПИ.

Набор функций TAPI не сопоставлен друг с одной на наборе функций ТСПИ. В частности, функции, связанные с привилегией, переводом номера телефона и обменом данными между приложениями, обрабатываются TAPI и не имеют соответствующей функции в ТСПИ. Другие функции, например, используемые для настройки и инициализации поставщика служб, не имеют соответствующих функций в TAPI.

 

 
