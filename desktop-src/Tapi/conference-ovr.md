---
description: Улучшенные конференции с использованием сетей на основе IP-адресов описаны в конференции 3S для встреч-телефонии TAPI. Следующий материал относится к основным конференциям.
ms.assetid: f685097b-1b54-412b-999f-d9bdb3120ab9
title: Организации
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1ace4cb45bf74335298a3d4d262d064eb85c547f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105673393"
---
# <a name="conference"></a>Организации

Улучшенные конференции с использованием сетей на основе IP-адресов описаны в статье Использование [встреч в конференц-телефонном](rendezvous-ip-telephony-conferencing.md)интерфейсе TAPI 3. Следующий материал относится к основным конференциям.

Сеансы конференции — это сеансы, включающие более двух сторон одновременно. Их можно настроить с помощью моста на основе внешнего сервера или моста на основе коммутатора.

В сеансах серверной Конференции все участвующие стороны подключаются к серверу, который объединяет потоки мультимедиа и отправляет каждому участнику сочетание. В вызове Конференции может отсутствовать понятие отдельных сторон, а только один вызов между приложением и сервером моста. Для TAPI этот тип вызова конференции является обычным подключением "один к одному".

Конференции на основе коммутатора происходят поэтапно, некоторые из которых могут быть объединены, если поставщик услуг его поддерживает.

1.  Инициация обычного сеанса связи.
2.  Создайте сеанс конференции с первым участником, который инициировал Конференции.
3.  Создайте сеанс консультации по конференциям с стороной на другом конце текущего подключения.
4.  Добавьте сеанс консультации на конференцию.

После того как сеанс станет участником конференции, состояние участника вернется к Конференции. Состояние сеанса Конференции обычно будет *подключено*. Идентификаторы сеансов для Конференции и все добавленные стороны остаются действительными. События состояния могут быть получены обо всех вызовах. Например, если один из членов отключается через зависание, соответствующее сообщение о состоянии может сообщить приложению об этом факте.

**Интерфейс TAPI 2. x:** Приложения могут использовать функцию "без конференции с удержанием" УАТС с помощью параметра ЛИНЕКАЛЛПАРАМФЛАГС \_ нохолдконференце. Эта функция позволяет автоматически подключать к строке другое устройство, например Супервизор или записывающее устройство.

При отмене сеанса консультации третьим лицам для Конференции или при удалении третьей стороны в ранее установленной конференции поставщик услуг может освободить конференцию и вернуться к обычной двусторонней связи. В этом случае сеанс Конференции переходит в состояние *простоя* , и только оставшийся сеанс участия будет переходить с конференции на *подключенное* состояние.

Не все поставщики услуг поддерживают Конференции.

**Интерфейс TAPI 2. x:** Функция [**линесетупконференце**](/windows/win32/api/tapi/nf-tapi-linesetupconference) принимает исходный вызов от сторонних поставщиков в качестве входных данных, выделяет вызов конференции, подключает исходный вызов к Конференции и выделяет вызов консультации, маркер которого возвращается приложению.

Если приложение планирует добавить еще одного участника на конференцию, в вызове консультации можно выполнить операцию вызова. Затем в функции [**линеаддтоконференце**](/windows/win32/api/tapi/nf-tapi-lineaddtoconference) используются обработчики вызовов конференций и подключение к вызову консультации. Участники Конференции также могут быть добавлены с помощью функции [**линепрепареаддтоконференце**](/windows/win32/api/tapi/nf-tapi-lineprepareaddtoconference) , если это поддерживается поставщиком услуг.

Участники конференции удаляются с помощью функции [**линеремовефромконференце**](/windows/win32/api/tapi/nf-tapi-lineremovefromconference) , если поставщик услуг его поддерживает.

Кроме того, можно создать конференцию с помощью функции [**линесетуптрансфер**](/windows/win32/api/tapi/nf-tapi-linesetuptransfer) , которая возвращает маркер вызова консультации, и функцию [**линекомплететрансфер**](/windows/win32/api/tapi/nf-tapi-linecompletetransfer) с параметром конференции (вместо параметра [переносить](transfer-ovr.md) ).

**Интерфейс TAPI 3. x:** Метод [**итбасиккаллконтрол:: Conference**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-conference) принимает существующий сеанс в качестве входных данных и создает [объект каллхуб](callhub-object.md) , если он еще не существует. Метод [**итбасиккаллконтрол:: Finish**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-finish) добавляет вызов консультации в каллхуб. Дополнительные сеансы консультации можно создать с помощью [**итаддресс:: креатекалл**](/windows/desktop/api/tapi3if/nf-tapi3if-itaddress-createcall)и добавить с помощью методов **Conference** и **Finish** .

> [!Note]  
> Возможности устройства, предназначенного для работы с обделом, могут ограничивать количество сторон, участвующих в одном вызове, и независимо от того, начинается ли Конференция с обычного вызова от двух сторон.

 

 

 
