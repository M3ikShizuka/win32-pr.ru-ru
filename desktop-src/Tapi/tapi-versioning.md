---
description: Дополнительные сведения об управлении версиями для TAPI. Со временем могут быть созданы различные версии TAPI, приложений и поставщиков служб.
ms.assetid: 35fea8f9-307e-4429-b4ec-ffb5c62c2610
title: Управление версиями TAPI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 853cf9d5f3744e11936f121986edc4e6e027d251
ms.sourcegitcommit: 6fc8a7419bd01787cf6a1c52c355a4a2d1aec471
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/10/2021
ms.locfileid: "111989299"
---
# <a name="tapi-versioning"></a>Управление версиями TAPI

Со временем могут быть созданы различные версии TAPI, приложений и поставщиков служб. Эти новые версии могут создавать новые определения, например для новых функций, новых элементов в структурах данных и новых битовых полей. Следовательно, Номера версий необходимы для указания способа интерпретации различных структур данных.

Чтобы обеспечить оптимальное взаимодействие различных версий приложений, версий самой TAPI и версий поставщиков услуг разных поставщиков, Microsoft телефонии предоставляет простой механизм согласования версий для приложений. Существует две различные версии, которые TAPI и поставщик услуг телефонии должны согласовать для каждого устройства линии. Первая — это версия, согласованная с TAPI и поставщиком услуг телефонии (TSP) Basic и дополнительная телефония, называемая версией интерфейса TAPI. Другой — для расширений, зависящих от поставщика, если таковые имеются, и называется версией расширения. Формат структур данных и типов данных, используемых базовыми и дополнительными функциями TAPI, определяется версией TAPI, а версия расширения определяет формат структур данных, определенных расширениями, определенными для поставщика.

Функция [**линенеготиатеапиверсион**](/windows/desktop/api/Tapi/nf-tapi-linenegotiateapiversion) СОГЛАСОВЫВАЕТ версию TAPI и [**линенеготиатикстверсион**](/windows/desktop/api/Tapi/nf-tapi-linenegotiateextversion) согласовывает версию расширения TSP. Один TSP может обрабатывать более одной версии, и приложение должно "возвращаться" к использованию более старой версии, если используется более старая версия TSP. В **линенеготиатеапиверсион** параметр *двапиверсион* по умолчанию имеет значение в соответствии с версией, как показано ниже.



| Версия TAPI | Значение по умолчанию |
|--------------|---------------|
| 1,3          | 0x00010003    |
| 1.4          | 0x00010004    |
| 2.0          | 0x00020000    |
| 2.1          | 0x00020001    |
| 2.2          | 0x00020002    |



 

Тем не менее TAPI делает это гораздо проще, если сам TSP использует более новую версию, чем приложение. Если TSP действительно новее, TAPI может перевести "вниз" в версию приложения. Например, TAPI 2,0 специалистами не обязательно должен специально поддерживать работу с TAPI версии 1,4. Если приложение TAPI 1,4 запущено, TAPI преобразует все структуры и сообщения TAPI 2,0 в эквиваленты TAPI 1,4 или как можно ближе. Если в TAPI 1,4 нет близкой аппроксимации, то все сведения, относящиеся к TAPI 2,0, будут потеряны.

Точное значение версии расширения зависит от конкретного поставщика. Чтобы использовать TSP, поддерживающий расширения, обратитесь к документации поставщика.

Существует несколько версий TAPI. Хотя большая часть этих версий включала изменения в наборы документации TAPI и интерфейс поставщика услуг телефонии (ТСПИ), существуют и другие последствия для каждой версии, а именно, различия в архитектуре, вариации операционных систем, распространяемые пакеты и проблемы при разработке TSP.



| Версия TAPI        | Distribution                                                   |
|---------------------|----------------------------------------------------------------|
| 1,0 – 1,2           | Бета-версии, которые больше не должны использоваться.              |
| [1.4](tapi-1-4.md) | Входит в Windows 95.                                        |
| [1.5](tapi-1-5.md) | Входит в Windows CE 1,0.                                    |
| [2.0](tapi-2-0.md) | Входит в состав Windows NT 4,0 с пакетом обновления 3 (SP3).                           |
| [2.1](tapi-2-1.md) | Входит в состав Windows NT 4,0 с пакетом обновления 4 (SP4) и Windows 98.            |
| [2.2](tapi-2-2.md) | Входит в Windows Server 2003, Windows XP и Windows 2000. |



 

 

 



