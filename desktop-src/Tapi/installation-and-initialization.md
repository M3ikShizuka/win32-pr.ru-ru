---
description: Установка нового поставщика услуг — это высокопроизводительное устройство и операционная система, поэтому подробные сведения выходят за рамки этого пакета SDK.
ms.assetid: 5b48e144-5092-4462-b74c-d3295d23afe1
title: Установка и инициализация
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b15dc5d9d93ce33ac13a04aec3abd7d49fec3ed2ece3cce691d47c0d617bacd0
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119003542"
---
# <a name="installation-and-initialization"></a>Установка и инициализация

Установка нового поставщика услуг — это высокопроизводительное устройство и операционная система, поэтому подробные сведения выходят за рамки этого пакета SDK. Как правило, целью установки является настройка поставщика услуг для текущей среды связи. Обычно это касается записей реестра и настройки зависимостей служб.

Инициализация поставщика услуг телефонии начинается с согласования версий. Описание согласования версий и текущей версии см. в разделе [Тспи управление версиями](tspi-versioning.md) .

Затем TAPI вызывает [**тспи \_ провидеринит**](/windows/win32/api/tspi/nf-tspi-tspi_providerinit), который передает поставщику указатель на функцию обратного вызова, используемую для отчета о ходе выполнения асинхронных функций. TSP возвращает количество линий и телефонных устройств, связанных с текущим идентификатором устройства.

Как правило, на следующем шаге будет проведена инвентаризация ресурсов, осуществляемая TAPI при вызове [**тспи \_ Линежетдевкапс**](/windows/win32/api/tspi/nf-tspi-tspi_linegetdevcaps) и [**тспи \_ линежетаддресскапс**](/windows/win32/api/tspi/nf-tspi-tspi_linegetaddresscaps). Предполагается, что поставщик услуг заполнит эти элементы структур данных, которые относятся к поддерживаемым им возможностям устройства и сеанса.

TAPI собирает информацию из различных приложений, касающихся требований к уведомлениям о событиях, и инструктирует TSP с помощью [**тспи \_ линесетдефаултмедиадетектион**](/windows/win32/api/tspi/nf-tspi-tspi_linesetdefaultmediadetection) , чтобы указать, какие типы мультимедиа следует обнаружить для строки, и [**тспи \_ линесетстатусмессажес**](/windows/win32/api/tspi/nf-tspi-tspi_linesetstatusmessages) , чтобы указать, какие строки и адреса должны быть переданы.

 

 
