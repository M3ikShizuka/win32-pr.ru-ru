---
description: Конструкторы поставщиков услуг должны попытаться сократить время выполнения синхронных операций.
ms.assetid: eb264ab7-15bb-4cd5-8af8-f979f02a7a39
title: Синхронные запросы
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3684b1fa8ea2bca1b7fb777663f2c4e50ffd36a3
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105674357"
---
# <a name="synchronous-requests"></a>Синхронные запросы

Конструкторы поставщиков услуг должны попытаться сократить время выполнения синхронных операций. Например, в момент инициализации вызывается операция "Открыть", которая подготавливает поставщик услуг и TAPI для последующих операций на устройстве. Поставщик услуг, реализация которого разделяется между клиентским компьютером и выделенным сервером, может иметь разумную уверенность, что он может взаимодействовать с удаленным сервером. Его реализация "Open" может просто выделить и инициализировать структуры данных для представления устройства и возврата, отложив сквозную связь до тех пор, пока не запрашиваются некоторые реальные операции.

Любая такая "Оптимистическая" реализация синхронной операции может впоследствии привести к ограничениям ресурсов или удаленным сбоям связи. Как правило, даже «консервативный» подход не может полностью предотвратить эти проблемы. разработчики поставщиков услуг должны выбрать оптимальный компромисс между надежностью и производительностью. Сбой такого рода должен быть корректно обработан везде, где это возможно. С точки зрения ТСПИ устройств они должны оставаться действительными для «бухгалтерского учета», даже если они возвращают состояние сбоя для любой запрошенной операции.

Реализация оптимистичного подхода для синхронных запросов не должна выполняться за счет правильной семантики операции. При возврате к примеру "Open", если открытие устройства должно занимать и зарезервировать неограниченный, неразделяемый ресурс, такой как коммуникационные порты, это, скорее всего, сделает это, даже если оно занимает много времени.

**Интерфейс TAPI 2. x:** Операция, которая завершается синхронно, выполняет всю обработку в вызове функции, сделанной приложением. Функция возвращает различные значения в зависимости от успешности или неудачи:

-   **Синхронное выполнение.** Если запрос или служба, соответствующие функции, были успешно выполнены, функция возвращает ноль, что указывает на успешное выполнение. Все значения, записанные в результате вызова функции, являются надежными и могут использоваться немедленно.
-   **Синхронный сбой.** Если функция обнаруживает ошибку и запрос не выполняется, для определения ошибки возвращается отрицательный номер ошибки.

 

 



