---
description: Сообщение TAPI LINE \_ проксирекуест доставляет запрос в зарегистрированный обработчик прокси-функции.
ms.assetid: 7f33de55-2482-4558-bd86-ee2ac1e31269
title: Сообщение LINE_PROXYREQUEST (TAPI. h)
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: d536e85a9c773626bb5aacc4745d9d82817fe3c0
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127250084"
---
# <a name="line_proxyrequest-message"></a>Строка \_ сообщения проксирекуест

Сообщение TAPI **Line \_ проксирекуест** доставляет запрос в зарегистрированный обработчик прокси-функции.


```C++
            
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*хдевице* 
</dt> <dd>

Маркер приложения для линейного устройства, на котором изменилось состояние агента.

</dd> <dt>

*двкаллбаккинстанце* 
</dt> <dd>

Экземпляр обратного вызова, указанный при открытии линии вызова.

</dd> <dt>

*dwParam1* 
</dt> <dd>

Указатель на структуру [**линепроксирекуест**](/windows/desktop/api/Tapi/ns-tapi-lineproxyrequest) , содержащую запрос, который должен быть обработан приложением-обработчиком прокси.

</dd> <dt>

*dwParam2* 
</dt> <dd>

Зарезервировано.

</dd> <dt>

*dwParam3* 
</dt> <dd>

Зарезервировано.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Нет возвращаемого значения.

## <a name="remarks"></a>Комментарии

Сообщение **Line \_ проксирекуест** отправляется только первому приложению, зарегистрированному для обработки запросов прокси-сервера типа, для которого выполняется доставка.

Приложение должно обработать запрос, содержащийся в буфере прокси, и вызвать [**линепроксиреспонсе**](/windows/desktop/api/Tapi/nf-tapi-lineproxyresponse) для возврата данных или доставки результатов. Обработка запроса должна выполняться в контексте функции обратного вызова TAPI приложения, только если ее можно выполнить немедленно, не дожидаясь ответа от любой другой сущности. Если приложению требуется взаимодействовать с другими сущностями (например, поставщик услуг для работы с ACD на основе УАТС или любая другая системная служба, которая может привести к блокировке), запрос должен быть помещен в приложение и функция обратного вызова завершается, чтобы избежать задержки получения дополнительных сообщений TAPI приложением.

В момент доставки **строки \_ проксирекуест** в обработчик прокси-сервера, TAPI уже вернул положительный результат функции *дврекуестид* в исходное приложение и разблокировал вызывающий поток для продолжения выполнения. Приложение ожидает сообщение [**\_ ответа строки**](line-reply.md) , которое автоматически создается, когда приложение обработчика прокси-сервера вызывает [**линепроксиреспонсе**](/windows/desktop/api/Tapi/nf-tapi-lineproxyresponse).

Приложение не должно освобождать память, на которую указывает *лппроксирекуест*. TAPI освобождает память во время выполнения [**линепроксиреспонсе**](/windows/desktop/api/Tapi/nf-tapi-lineproxyresponse). Приложение может вызвать [**линепроксиреспонсе**](/windows/desktop/api/Tapi/nf-tapi-lineproxyresponse) ровно один раз для каждого **сообщения \_ проксирекуест строки** .

Если приложение получает сообщение о [**\_ закрытии строки**](line-close.md) при наличии ожидающих запросов прокси-сервера, оно должно вызывать [**линепроксиреспонсе**](/windows/desktop/api/Tapi/nf-tapi-lineproxyresponse) для каждого ожидающего запроса, передавая ему соответствующее значение *двресулт* (например, линирр \_ оператионфаилед).

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------|-----------------------------------------------------------------------------------|
| Версия TAPI<br/> | Требуется TAPI 2,0 или более поздней версии<br/>                                             |
| Заголовок<br/>       | <dl> <dt>TAPI. h</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[**\_закрыть строку**](line-close.md)
</dt> <dt>

[**\_ответ строки**](line-reply.md)
</dt> <dt>

[**линепроксирекуест**](/windows/desktop/api/Tapi/ns-tapi-lineproxyrequest)
</dt> <dt>

[**линепроксиреспонсе**](/windows/desktop/api/Tapi/nf-tapi-lineproxyresponse)
</dt> </dl>

 

 




