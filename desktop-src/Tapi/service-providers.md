---
description: Поставщики услуг реализуют подробные элементы управления телефонными устройствами. Поставщик услуг телефонии (TSP) предоставляет элементы управления вызовами и поставщик службы мультимедиа, если он существует, предоставляет контроль над потоком мультимедиа.
ms.assetid: eb63d55e-4a2b-4bc0-8001-99772f418d72
title: Поставщики услуг
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 424c11d5b99af7440835e8822a5631e1b36f48cb
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "103999753"
---
# <a name="service-providers"></a>Поставщики услуг

Поставщики услуг реализуют подробные элементы управления телефонными устройствами. Поставщик услуг телефонии (TSP) предоставляет элементы управления вызовами и поставщик службы мультимедиа, если он существует, предоставляет контроль над потоком мультимедиа.

Все поставщики услуг телефонии выполняются в процессе ТАПИСРВ. Поставщики услуг могут создавать потоки в контексте ТАПИСРВ, необходимые для выполнения их работы, и быть уверенными, что ни один из ресурсов, создаваемых ими, не будет уничтожен при выходе какого бы то ни было отдельного приложения. Сервер TAPI преобразует команды приложения по мере необходимости в единый набор команд, известный как интерфейс поставщика услуг телефонии (ТСПИ).

Поставщики служб мультимедиа выполняются в пространстве процесса приложения, что позволяет быстро реагировать на них в элементах управления мультимедиа. Библиотека DLL TAPI обеспечивает единообразное соблюдение интерфейса поставщика службы мультимедиа (МСПИ).

Дополнительные сведения о поставщиках услуг см. в статье [Общие сведения о поставщике услуг TAPI](./tapi-service-provider-overview.md).

Под библиотекой DLL поставщика услуг телефонии поставщик услуг может использовать любые системные функции или другие необходимые компоненты. К этим функциям относятся [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) и [**DeviceIoControl**](/windows/desktop/api/ioapiset/nf-ioapiset-deviceiocontrol), работающие с независимыми поставщиками аппаратно-ориентированного и сервисного режима ядра, а также стандартные устройства, такие как последовательные и параллельные порты для управления внешними локально подключенными устройствами. Они также могут получать доступ к сетевым службам (таким как RPC, сокеты Windows и именованные каналы) для телефонии клиента/сервера.

Библиотека DLL пользовательского интерфейса поставщика услуг телефонии загружается TAPI в процесс приложения, вызывающего любую функцию поставщика услуг, которая может отображать диалоговое окно (например, [**тспи \_ линеконфигдиалог**](/windows/win32/api/tspi/nf-tspi-tspi_lineconfigdialog)). Поставщик услуг также может вызвать загрузку и выполнение связанной с ним DLL пользовательского интерфейса в процессе работы приложения, если поставщик услуг должен отображать пользовательский интерфейс непредвиденным временем. Например, для отображения диалогового окна « **разговор/зависание** », отображаемого драйвером универсального модема (UNIMODEM) при использовании модема данных для вызова интерактивного речевого вызова с помощью [**тспи \_ линемакекалл**](/windows/win32/api/tspi/nf-tspi-tspi_linemakecall) (обычно не считается функцией, создающей пользовательский интерфейс).

Обработчик запросов прокси-сервера — это полное приложение телефонии, которое обычно выполняется на сервере телефонии (на том же сервере, на котором выполняется поставщик услуг телефонии для связанных устройств). Эта архитектура, а не архитектура поставщика службы ВОСА, используется, когда конкретная служба более правильно реализована в приложении, чем в драйвере на сервере. Например, ACD-функции управления агентами реализуются в обработчике запросов прокси, а не в поставщике услуг.

Поставщик службы драйвера UNIMODEM для управления модемом доступен в операционных системах Windows Server 2003, Windows XP, Windows 2000 и Windows NT. Телефон Windows также включает универсальный интерфейс поставщика услуг телефонии (ТСПИ) в режиме ядра (КМДДСП), позволяющий реализовать поставщики услуг как драйверы устройств в режиме ядра.

 

 
