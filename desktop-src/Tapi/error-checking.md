---
description: На уровне TAPI приложение может передавать множество различных параметров, многие из которых могут быть недопустимыми.
ms.assetid: cc52e2a2-08e0-4a66-a75f-975e50dbf654
title: Проверка ошибок (API телефонии)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 072ee8e456ed255da6945adef7a0bba872870a8d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105673715"
---
# <a name="error-checking"></a>Проверка ошибок

На уровне TAPI приложение может передавать множество различных параметров, многие из которых могут быть недопустимыми. TAPI проверяет параметры и возвращает приложению ошибки, не обращаясь к поставщику услуг. Каждое описание функции на уровне ТСПИ описывает уже протестированные ошибки параметров. Поставщику услуг не нужно повторять эти тесты, хотя он должен выполнять любые дополнительные тесты проверки допустимости, соответствующие функции. В следующей таблице перечислены заголовки и описания общих проверок допустимости параметров, которые отображаются во многих функциях.



| Проверка достоверности       | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|---------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Допустимость указателя    | TAPI уже тестировал указатели на хранилище данных, чтобы убедиться в том, что они указывают на возможность чтения или записи в память, соответствующую размеру операции. Кроме того, для структур данных с размерами вариабли, начинающихся с элемента **двтоталсизе** , структура данных была проверена, чтобы обеспечить доступность указанного общего размера.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Допустимость фиксированного размера | Для структур данных с переменным размером структура данных была проверена так, что пространство для части фиксированного размера структуры данных и **двтоталсизе** достаточно для фиксированной части.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Смещение или размер обнулены  | Для структур данных с переменным размером "... **Offset**"и"... **Размер**"поля, соответствующие частям, которые устанавливаются поставщиком услуг, имеют нулевые значения до вызова поставщика услуг.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Срок действия маркера     | TAPI обеспечивает допустимость линий, телефонов и дескрипторов вызовов (определенных типов [хдрвлине](hdrvline.md), [хдрвфоне](hdrvphone.md)и хдрвкалл). То есть, это значения, которые были возвращены без ошибок в качестве дескрипторов в [**тспи \_ линеопен**](/windows/win32/api/tspi/nf-tspi-tspi_lineopen), [**тспи \_ фонеопен**](/windows/win32/api/tspi/nf-tspi-tspi_phoneopen)или один из следующих, который начинает время существования дескриптора вызова: [**тспи \_ линемакекалл**](/windows/win32/api/tspi/nf-tspi-tspi_linemakecall)<br/> [**ТСПИ \_ линекомплететрансфер**](/windows/win32/api/tspi/nf-tspi-tspi_linecompletetransfer)<br/> [**ТСПИ \_ линефорвард**](/windows/win32/api/tspi/nf-tspi-tspi_lineforward)<br/> [**ТСПИ \_ линепиккуп**](/windows/win32/api/tspi/nf-tspi-tspi_linepickup)<br/> [**ТСПИ \_ линепрепареаддтоконференце**](/windows/win32/api/tspi/nf-tspi-tspi_lineprepareaddtoconference)<br/> [**ТСПИ \_ линесетупконференце**](/windows/win32/api/tspi/nf-tspi-tspi_linesetupconference)<br/> [**ТСПИ \_ линесетуптрансфер**](/windows/win32/api/tspi/nf-tspi-tspi_linesetuptransfer)<br/> [**ТСПИ \_ линеунпарк**](/windows/win32/api/tspi/nf-tspi-tspi_lineunpark)<br/> [**Строка \_ Сообщения НЕВКАЛЛ**](line-newcall.md)<br/> |



 

 

