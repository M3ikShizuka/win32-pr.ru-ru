---
description: Перечисление и обновление
ms.assetid: 67d34946-47df-43e2-8ca7-628d0671b869
title: Перечисление и обновление
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 42f19d28d44234b773988f3038666212caf447fb45dee39435b0d99169f92212
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118125924"
---
# <a name="reenumerating-and-refreshing"></a>Перечисление и обновление

\[начиная с Windows 8 и Windows Server 2012, интерфейс COM [службы виртуальных дисков](virtual-disk-service-portal.md) заменяется [API Windows служба хранилища управления](/previous-versions/windows/desktop/stormgmt/windows-storage-management-api-portal).\]

Операция переперечисления находит только что подключенные и вновь Отключенные устройства. Операция обновления обновляет сведения о конфигурации существующих устройств.

**Перечисление объектов поставщика программного обеспечения**

-   Вызовите метод [**ивдссервице:: reenumerat**](/windows/desktop/api/Vds/nf-vds-ivdsservice-reenumerate) . Этот метод обнаруживает все подключенные и отключенные диски и дисководы компакт-дисков, а также гарантирует, что все диски имеют соответствующего владельца. Служба VDS владеет необработанными дисками или дисками с ошибками; базовый поставщик владеет базовыми дисками; и динамический поставщик владеет динамическими дисками. Эта операция может содержать проверку внутренних шин подсистем и Ожидание истечения времени ожидания.

**Перечисление и обновление объектов поставщика программного обеспечения**

-   Вызовите метод [**ивдссервице:: reenumerat**](/windows/desktop/api/Vds/nf-vds-ivdsservice-reenumerate) , а затем вызовите метод [**Ивдссервице:: Refresh**](/windows/desktop/api/Vds/nf-vds-ivdsservice-refresh) . Помимо обнаружения новых подключенных и отключенных дисков и дисководов компакт-дисков, такое сочетание методов обновляет все сведения о диске, Томе и плекса в кэше VDS для дисков, которые не были недавно подключены или отключены. Вызовите метод **Refresh** только для обновления сведений о свойствах существующих объектов в кэше. Эта операция может содержать проверку внутренних шин подсистем и Ожидание истечения времени ожидания. Обратите внимание, что служба VDS автоматически обновляет кэш всякий раз, когда происходит изменение, запускающее уведомление. Кроме того, вызов **обновления** в ответ на уведомление VDS может привести к отправке бесконечного цикла уведомлений. По этим причинам **Обновление** следует вызывать только в том случае, если кажется, что кэш не обновляется должным образом.

**Перечисление аппаратных подсистем**

-   Вызовите метод [**ивдшвпровидер:: reenumerat**](/windows/desktop/api/Vds/nf-vds-ivdshwprovider-reenumerate) . В зависимости от поставщика эта операция может задействовать отправку сетевых пакетов и Ожидание истечения времени ожидания, повторное сканирование шин SCSI и Ожидание истечения времени ожидания и т. д.

**Перечисление объектов аппаратной подсистемы**

-   Вызовите метод [**ивдссубсистем:: reenumerat**](/windows/desktop/api/Vds/nf-vds-ivdssubsystem-reenumerate) для инвентаризации объектов (обычно накопителей) в подсистеме. В зависимости от подсистемы эта операция может содержать проверку внутренних шин подсистем и Ожидание истечения времени ожидания.

**Обновление подсистем оборудования и объектов подсистемы**

-   Вызовите метод [**ивдшвпровидер:: Refresh**](/windows/desktop/api/Vds/nf-vds-ivdshwprovider-refresh) , чтобы обновить кэш VDS сведений о существующих подсистемах, управляемых поставщиками оборудования VDS. Обратите внимание, что служба VDS автоматически обновляет кэш всякий раз, когда происходит изменение, запускающее уведомление. Кроме того, вызов [**обновления**](/windows/desktop/api/Vds/nf-vds-ivdsservice-refresh) в ответ на уведомление VDS может привести к отправке бесконечного цикла уведомлений. По этим причинам **Обновление** следует вызывать только в том случае, если кажется, что кэш не обновляется должным образом.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Использование VDS](using-vds.md)
</dt> <dt>

[**Ивдссервице:: перечисление**](/windows/desktop/api/Vds/nf-vds-ivdsservice-reenumerate)
</dt> <dt>

[**Ивдссервице:: Refresh**](/windows/desktop/api/Vds/nf-vds-ivdsservice-refresh)
</dt> <dt>

[**Ивдшвпровидер:: перечисление**](/windows/desktop/api/Vds/nf-vds-ivdshwprovider-reenumerate)
</dt> <dt>

[**Ивдссубсистем:: перечисление**](/windows/desktop/api/Vds/nf-vds-ivdssubsystem-reenumerate)
</dt> <dt>

[**Ивдшвпровидер:: Refresh**](/windows/desktop/api/Vds/nf-vds-ivdshwprovider-refresh)
</dt> </dl>

 

 
