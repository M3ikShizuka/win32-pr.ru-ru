---
description: Объект Pack
ms.assetid: e84a05a0-ea12-4bc1-83e1-1eb0dd291dc9
title: Объект Pack
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 02b01978747df5ccc273a31ae2f516b35c01df96
ms.sourcegitcommit: 37f276b5d887a3aad04b1ba86e390dea9d87e591
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/04/2021
ms.locfileid: "104565387"
---
# <a name="pack-object"></a>Объект Pack

\[Начиная с Windows 8 и Windows Server 2012, интерфейс COM [службы виртуальных дисков](virtual-disk-service-portal.md) заменяется [API управления хранилищами Windows](/previous-versions/windows/desktop/stormgmt/windows-storage-management-api-portal).\]

Объект типа "Pack" моделирует группу дисков, коллекцию дисков и томов, управляемых базовым или динамическим поставщиком программного обеспечения. Поставщик может содержать несколько объектов Pack.

С помощью API приложения могут направлять VDS для добавления одного или нескольких дисков в пакет, привязывать диски к томам и при необходимости перемещать диски в виде единиц между узлами. Нельзя импортировать существующий том в пакет.

> [!Note]  
> Членство в пакете не подразумевает согласованность между дисками в отношении производительности, мультимедиа, протокола межсетевого подключения или других характеристик.

 

Объекты диска либо не распределены, либо управляются службой VDS, либо являются членами только одного пакета. Базовый поставщик программного обеспечения может иметь ноль или более пакетов, каждый из которых содержит один базовый диск. Поставщик накладывает ограничения на количество томов на базовом диске. Динамический поставщик может иметь от нуля или более пакетов с несколькими динамическими дисками в каждом пакете. Этот поставщик ограничивает количество томов на диске в зависимости от размера в 1 МБ базы данных диспетчера логических дисков (LDM). Учитывая, что том имеет по крайней мере один Плекс и один экстент диска, максимальное число томов для пакета составляет примерно 1000. Максимальное число выходит за пределы числа дисков.

Помимо объектов-дисков, пакет может содержать один или несколько объектов LUN, реализованных одним или несколькими поставщиками оборудования. Для ядра Windows LUN — это просто другой диск. (Объекты LUN должны быть раскрыты на компьютере, на котором работает программа поставщика.) Если диск является LUN, объект LUN предоставляет интерфейсы [**ивдслун**](/windows/desktop/api/Vds/nn-vds-ivdslun) и [**ивдсдиск**](/windows/desktop/api/Vds/nn-vds-ivdsdisk) . Объект Pack использует **ивдсдиск** вместо **Ивдслун** для перечисления LUN в пакете. Более подробное описание LUN см. в разделе [объект LUN](lun-object.md).

На следующем рисунке показан пакет с двумя членами: диск и LUN. Приложение может добавить эти объекты в веб-пакет и создать том из экстентов базового диска и диска, представленных на дисках.

![Схема, на которой показан "Pack" с диском и LUN, добавляемый приложением для создания тома, представляемого "диск" и "шпиндель".](images/vdsdisksareluns.png)

Используйте метод [**ивдссвпровидер:: креатепакк**](/windows/desktop/api/Vds/nf-vds-ivdsswprovider-createpack) для создания нового объекта Pack. Вызывающие объекты могут получить указатель на конкретный пакет, выбрав нужный объект Pack из перечисления, возвращаемого методом [**ивдссвпровидер:: куерипаккс**](/windows/desktop/api/Vds/nf-vds-ivdsswprovider-querypacks) . С помощью объекта Pack можно добавлять, удалять или заменять члены пакета. При добавлении объекта диска в пакет служба VDS инициализирует диск для отмены привязки всех существующих томов. В отличие от этого, LUN при добавлении в пакет оставляет все сведения о привязке. При удалении последнего диска из пакета служба VDS удаляет объект Pack, когда вызывающая сторона освобождает последнюю ссылку на объект.

Свойства объекта включают в себя идентификатор объекта, имя, состояние пакета и флаги. Доступен сетевой пакет для настройки и использования. автономный пакет недоступен. Служба VDS поддерживает любое количество сетевых и автономных пакетов.

**Windows Server 2003:** Поддерживает только один сетевой пакет за раз.

Служба VDS принудительно применяет кворум сетевых дисков в пакете. Кворум определяет, может ли пакет иметь состояние "в сети", и предотвращает предоставление нескольким узлам состояния "в сети" для одного и того же пакета. Если число сетевых дисков в пакете падает ниже кворума (n/2 + 1), служба VDS переводит в автономный режим.

В следующей таблице перечислены связанные интерфейсы, перечисления и структуры.



| Тип                                              | Элемент                                                                                                |
|---------------------------------------------------|--------------------------------------------------------------------------------------------------------|
| Интерфейсы, которые всегда предоставляются этим объектом | [**Ивдспакк**](/windows/desktop/api/Vds/nn-vds-ivdspack) и [**IVdsPack2**](/windows/desktop/api/Vds/nn-vds-ivdspack2) \* .                                     |
| Связанные перечисления                           | Служба [**VDS \_ \_Флаг пакета**](/windows/desktop/api/Vds/ne-vds-vds_pack_flag) и [**\_ \_ состояние пакета VDS**](/windows/desktop/api/Vds/ne-vds-vds_pack_status).             |
| Связанные структуры                             | Служба [**VDS \_ \_**](/windows/desktop/api/Vds/ns-vds-vds_pack_prop) [**\_ \_ Уведомление о**](/windows/desktop/api/Vds/ns-vds-vds_pack_notification)пакете Prop и пакет VDS. |



 

**\* Windows Server 2003:** этот интерфейс не поддерживается до Windows Vista.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Объекты поставщика программного обеспечения](software-provider-objects.md)
</dt> <dt>

[LUN, объект](lun-object.md)
</dt> <dt>

[**ивдслун**](/windows/desktop/api/Vds/nn-vds-ivdslun)
</dt> <dt>

[**ивдсдиск**](/windows/desktop/api/Vds/nn-vds-ivdsdisk)
</dt> </dl>

 

 
