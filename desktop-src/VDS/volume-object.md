---
description: Объект Volume
ms.assetid: 92013015-b0f5-4b92-937b-c2637f65810c
title: Объект Volume
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4e47092a237e7b0e9441b08c410d95d0836dbdb7
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105674456"
---
# <a name="volume-object"></a>Объект Volume

\[Начиная с Windows 8 и Windows Server 2012, интерфейс COM [службы виртуальных дисков](virtual-disk-service-portal.md) заменяется [API управления хранилищами Windows](/previous-versions/windows/desktop/stormgmt/windows-storage-management-api-portal).\]

Объект тома моделирует логическую единицу хранения, созданную поставщиком программного обеспечения и представленную файловой системе в качестве диска. Каждый том состоит по крайней мере из одного плекса тома, который, в свою очередь, состоит из экстентов одного или нескольких дисков.

## <a name="volume-types"></a>Типы томов

Служба VDS поддерживает пять типов томов: простые, составные, чередующиеся, зеркальные и чередующиеся с четностью. Простые, составные и чередующиеся тома не являются отказоустойчивыми; тома с зеркальным отображением и четности являются отказоустойчивыми. В оставшейся части этого раздела описываются все типы томов VDS.

-   Простой том — это часть физического диска, которая работает, как будто это физически отдельная единица. Простой том может состоять из одного региона на диске или нескольких регионов того же диска, которые связаны друг с другом.
-   Составной том объединяет области нераспределенного пространства из нескольких дисков в один логический том, что позволяет более эффективно использовать все пространство и все буквы дисков в системе с несколькими дисками.
-   Чередующийся том создается путем объединения областей свободного места на двух или более дисках в один логический том. Чередующиеся тома используют RAID-0, который распределяет данные между несколькими дисками. Чередующиеся тома не могут быть расширены или зеркально отображены и не обеспечивают отказоустойчивость. В случае сбоя одного из дисков, содержащих чередующийся том, произойдет сбой всего тома. При создании чередующихся томов лучше использовать диски с одинаковым размером, моделью и производителем.
-   Зеркальный том — это отказоустойчивый том, обеспечивающий избыточность данных с помощью двух копий (или плексов) тома для дублирования данных, хранящихся на томе. Все данные, записанные на зеркальный том, записываются в оба плекса, расположенные на разных физических дисках. В случае сбоя одного из физических дисков данные на неисправном диске становятся недоступными, но система будет продолжать работать с использованием диска, не соответствующего затронутому.
-   Чередующийся том с четностью — это отказоустойчивый том с данными и четностью, который периодически распределяется между тремя или более физическими дисками. В случае сбоя части физического диска можно повторно создать данные, находящийся в неисправной части, из оставшихся данных и четности. Этот тип тома (также называемый томом RAID-5) является хорошим решением для избыточности данных в компьютерной среде, в которой большинство действий состоит из чтения данных.

### <a name="volume-creation"></a>Создание тома

Базовый и динамический поставщики программного обеспечения поддерживают частично направленное создание томов; вызывающий объект указывает только те атрибуты, которые относятся к определенному интересу, и позволяет поставщику выбрать остальные. Служба VDS автоматически подключает созданный том, за исключением платформ Windows Server 2003, Enterprise Edition и Windows Server 2003, Datacenter Edition.

### <a name="working-with-volumes"></a>Работа с томами

Всегда Создавайте том в том же пакете, что и диски, на которые он входит. Используйте метод [**ивдспакк:: креатеволуме**](/windows/desktop/api/Vds/nf-vds-ivdspack-createvolume) для создания нового объекта тома. Можно определить тома, содержащиеся в определенном пакете, вызвав метод [**куериволумес**](/windows/desktop/api/Vds/nf-vds-ivdspack-queryvolumes) , который также предоставляется [**ивдспакк**](/windows/desktop/api/Vds/nn-vds-ivdspack). Вызывающий объект может получить указатель на конкретный том, выбрав нужный объект тома из перечисления, возвращаемого **куериволумес**. С помощью объекта Volume можно задать состояние. запрос для плексов; расширение и сжатие тома; Добавление, прерывание и удаление плексов; и удалите том.

В дополнение к идентификатору объекта, имени и серийному номеру свойства объекта тома включают тип тома, размер, состояние, работоспособность, состояние перехода, флаги и рекомендуемый тип файловой системы.

В следующей таблице перечислены связанные интерфейсы, перечисления и структуры.



| Тип                                              | Элемент                                                                                                                                                                                                               |
|---------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Интерфейсы, которые всегда предоставляются этим объектом | [**Ивдсволуме**](/windows/desktop/api/Vds/nn-vds-ivdsvolume), [**ивдсволумемф**](/windows/desktop/api/Vds/nn-vds-ivdsvolumemf), [**IVdsVolumeMF2**](/windows/desktop/api/Vds/nn-vds-ivdsvolumemf2) \* , [**ивдсволумеонлине**](/windows/desktop/api/Vds/nn-vds-ivdsvolumeonline) \* и [**ивдсволумешринк**](/windows/desktop/api/Vds/nn-vds-ivdsvolumeshrink) \* . |
| Связанные перечисления                           | Служба [**VDS \_ \_Флаг тома**](/windows/desktop/api/Vds/ne-vds-vds_volume_flag), [**\_ \_ состояние тома VDS**](/windows/desktop/api/Vds/ne-vds-vds_volume_status), [**\_ \_ тип тома VDS**](/windows/desktop/api/Vds/ne-vds-vds_volume_type)и [**\_ \_ \_ тип экстента диска VDS**](/windows/desktop/api/Vds/ne-vds-vds_disk_extent_type).            |
| Связанные структуры                             | Служба [**VDS \_ Уведомление \_ тома**](/windows/desktop/api/Vds/ns-vds-vds_volume_prop) и [**\_ \_ уведомления о томе VDS**](/windows/desktop/api/Vds/ns-vds-vds_volume_notification).                                                                                                        |



 

**\* Windows Server 2003:** эти интерфейсы не поддерживаются до Windows Vista.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Объекты поставщика программного обеспечения](software-provider-objects.md)
</dt> </dl>

 

 
