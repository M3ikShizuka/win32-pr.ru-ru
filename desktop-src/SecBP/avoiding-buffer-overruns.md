---
description: Краткое введение в несколько типов ситуаций переполнения буфера и предлагает некоторые идеи и ресурсы, которые помогут избежать создания новых рисков и устранения проблем с существующими.
ms.assetid: 713fd6de-16af-49d2-8940-763c4a6e414b
title: Предотвращение переполнения буфера
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ae85d66d32b1efc29e75e187bb1afa67653084a3b9c729cd56728078f5e0c1ef
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119622954"
---
# <a name="avoiding-buffer-overruns"></a>Предотвращение переполнения буфера

Переполнение буфера — один из наиболее распространенных источников угрозы безопасности. Переполнение буфера по сути вызывается путем обработки непроверенных внешних входных данных в качестве надежных. Процесс копирования этих данных с помощью таких операций, как [**копимемори**](/previous-versions/windows/desktop/legacy/aa366535(v=vs.85)), **strcat**, **strcpy** или **wcscpy**, может создавать непредвиденные результаты, что позволяет повредить систему. В лучших случаях приложение будет прерываться с помощью основного дампа, сбоя сегментации или нарушения прав доступа. В худшем случае злоумышленник может воспользоваться переполнением буфера, поставляя и выполняя другой вредоносный код в процессе. Копирование непроверенных входных данных в буфер на основе стека является наиболее распространенной причиной уязвимых ошибок.

Переполнение буфера может происходить различными способами. Ниже приведен краткий обзор нескольких типов ситуаций переполнения буфера, а также некоторые идеи и ресурсы, помогающие избежать создания новых рисков и устранения проблем с существующими элементами.

<dl> <dt>

<span id="Static_buffer_overruns"></span><span id="static_buffer_overruns"></span><span id="STATIC_BUFFER_OVERRUNS"></span>Переполнение статических буферов
</dt> <dd>

Статическое переполнение буфера возникает, когда буфер, который был объявлен в стеке, записывается в с большим объемом данных, чем он был выделен для хранения. Менее очевидные версии этой ошибки возникают, когда непроверенные входные данные пользователя копируются непосредственно в статическую переменную, что приводит к потенциальному повреждению стека.

</dd> <dt>

<span id="Heap_overruns"></span><span id="heap_overruns"></span><span id="HEAP_OVERRUNS"></span>Переполнение кучи
</dt> <dd>

Переполнение кучи, как и переполнение статических буферов, может привести к повреждению памяти и стека. Так как переполнение кучи происходит в памяти кучи, а не в стеке, некоторые пользователи считают, что они менее способны вызвать серьезные проблемы. Тем не менее, для переполнения кучи требуется реальное программирование, а также возможность разрешения системных рисков в случае переполнения статических буферов.

</dd> <dt>

<span id="Array_indexing_errors"></span><span id="array_indexing_errors"></span><span id="ARRAY_INDEXING_ERRORS"></span>Ошибки индексации массива
</dt> <dd>

Ошибки индексирования массива также представляют собой источник переполнения памяти. Тщательная проверка границ и управление индексами помогут предотвратить такой тип переполнения памяти.

</dd> </dl>

Предотвращение переполнения буфера в основном заключается в написании хорошего кода. Всегда проверяйте все входные данные и при необходимости корректно завершаются. Дополнительные сведения о создании безопасного кода см. в следующих ресурсах:

-   Магуире, Стив \[ 1993 \] , *написание твердого кода*, ISBN 1-55615-551-4, Microsoft Press, Redmond, Вашингтон.
-   Говард, Майкл и Леблана, Дэвид \[ 2003 \] , *написание безопасного кода*, 2d ED, ISBN 0-7356-1722-8, Microsoft Press, Redmond, Вашингтон.

> [!Note]  
> Эти ресурсы могут быть недоступны в некоторых языках и странах.

 

Сейфная обработка строк — это долгосрочная проблема, которая, по-своему, должна быть решена как в следующих эффективных методиках программирования, так и часто с помощью и модернизация существующих систем с защищенными функциями обработки строк. пример такого набора функций для оболочки Windows начинается с [**стрингкбкат**](/windows/win32/api/strsafe/nf-strsafe-stringcbcata).

 

 
