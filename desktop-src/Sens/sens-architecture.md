---
description: Служба уведомлений о системных событиях работает с системой событий COM+.
ms.assetid: c51d1f61-6087-4480-b989-31241829781b
title: Архитектура Сенс
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e32976a716ab0ba5651ce6605fe524d639820696
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127067040"
---
# <a name="sens-architecture"></a>Архитектура Сенс

Служба уведомлений о системных событиях работает с системой событий COM+. Сенс — это издатель событий для классов событий, которые он отслеживает: сеть, вход в систему и события питания/аккумулятора. Приложение, получающее уведомление, называется подписчиком на событие.

Когда приложение подписывается на получение уведомлений, оно также может указывать фильтры, связанные с подписанными событиями. События Сенс и COM+ используют фильтры, чтобы дополнительно определить, когда приложение должно получать уведомления.

Уведомления являются асинхронными, поэтому приложение, получающее уведомление, не обязательно должно быть активным при отправке уведомления. Когда приложение подписывается на получение уведомлений, оно может указать, должно ли оно быть активировано при возникновении события или когда оно будет уведомлено позже, когда оно активно.

Подписка может быть временной и допустимой только до тех пор, пока приложение не будет остановлено или оно будет постоянным и действительным до тех пор, пока приложение не будет удалено из системы.

Хранилище данных событий COM+ содержит сведения о издателе событий (Сенс), подписчиках событий и фильтрах. Сенс также определяет исходящий интерфейс для каждого класса событий в библиотеке типов.



| Класс событий    | GUID                          | Интерфейс    |
|----------------|-------------------------------|--------------|
| Сетевые события | \_сеть сенсгуид EVENTCLASS \_ | исенснетворк |
| События входа   | \_Вход сенсгуид EVENTCLASS \_   | исенслогон   |
| События питания   | СЕНСГУИД \_ EVENTCLASS \_ ONNOW   | исенсоннов   |



 

Чтобы получать уведомления для любого из этих событий, приложение должно выполнить два действия:

-   Подпишитесь на интересующие вас события Сенс. Чтобы подписываться на событие, используйте интерфейсы **иевентсубскриптион** и **ИЕВЕНТСИСТЕМ** в событиях com+. Необходимо указать идентификатор для классов событий и идентификатор издателя Сенс, СЕНСГУИД \_ Publisher. Подписки относятся к каждому уровню событий, поэтому приложение-подписчика должно также указывать, какие события в классе представляют интерес. Каждое событие соответствует методу в интерфейсе, соответствующему его классу событий.
-   Создайте объект приемника с реализацией для каждого интерфейса, который вы обрабатываете. Дополнительные сведения об этих интерфейсах и событиях, поддерживаемых в каждом из них, см. в разделе [**исенснетворк**](/windows/desktop/api/Sensevts/nn-sensevts-isensnetwork), [**исенслогон**](/windows/desktop/api/Sensevts/nn-sensevts-isenslogon)и [**исенсоннов**](/windows/desktop/api/Sensevts/nn-sensevts-isensonnow) .

При возникновении одного из наблюдаемых событий Сенс обрабатывает каждую подписку со связанными фильтрами и уведомляет подписчиков через систему событий COM+.

 

 



