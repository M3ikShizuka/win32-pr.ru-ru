---
title: Маркировка маршрутов для состояния Hold-Down
description: Некоторые клиенты, такие как протоколы векторов расстояний, такие как RIP и ДВМРП, потребовали, чтобы целевые объекты были объявлены как недоступные в течение определенного времени после удаления последнего маршрута к назначению.
ms.assetid: 2a86c092-d8a6-4fd4-8b2e-451c160f743f
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 833f41da08c45d8f9bbe9419360f4d1857b2a52fb92ee0be341b56bc8362536e
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "117790492"
---
# <a name="marking-routes-for-the-hold-down-state"></a>Маркировка маршрутов для состояния Hold-Down

Некоторые клиенты, такие как протоколы векторов расстояний, такие как RIP и ДВМРП, потребовали, чтобы целевые объекты были объявлены как недоступные в течение определенного времени после удаления последнего маршрута к назначению. Последний удаленный маршрут должен быть объявлен как недостижимый, даже если новые маршруты поступают. Последний удаленный маршрут помечается как *находился в состоянии удержания*. Процесс удержания предотвращает образование циклов маршрутизации. Циклы маршрутизации вызываются, когда протокол маршрутизации объявляет об устаревшей информации о маршрутизации. По истечении срока хранения эти протоколы возобновляют объявление с помощью нового лучшего маршрута.

Протокол, реализующий состояния удержания, указывает, что назначение находится в состоянии удержания с помощью функции [**ртмхолддестинатион**](/windows/desktop/api/Rtmv2/nf-rtmv2-rtmholddestination) . Клиент вызывает эту функцию, когда она объявляет оптимальный маршрут к этому назначению. Если впоследствии все маршруты к этому назначению будут удалены, последний удаленный маршрут сохраняется в состоянии удержания в течение периода времени, указанного в предыдущем вызове **ртмхолддестинатион**.

Когда протокол объявляет назначение, используемые сведения о маршруте зависят от того, использует ли протокол состояния удержания, и если маршрут находится в состоянии удержания для назначения.

Протоколы, которые не используют состояния удержания, могут игнорировать сведения о маршруте, относящиеся к состояниям удержания для назначения, и всегда объявлять оптимальный маршрут.

Пример кода, демонстрирующий использование этих функций, см. [в разделе Использование состояния Hold-Down маршрута](use-the-route-hold-down-state.md).

 

 




