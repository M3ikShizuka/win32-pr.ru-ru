---
title: Операции подключения автонабора
description: Если попытка подключения к сетевому адресу завершается сбоем из-за недоступности узла, система выполняет поиск адреса в базе данных сопоставления автоматического набора номера.
ms.assetid: 343ee69e-1ff5-4107-9ddb-4245c3b4a54d
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ef0f65f62121d631dcf035e641c9d0d4d89850d7673e1c47b82ff4a4889dff49
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "120030504"
---
# <a name="autodial-connection-operations"></a>Операции подключения автонабора

Если попытка подключения к сетевому адресу завершается сбоем из-за недоступности узла, система выполняет поиск адреса в базе данных сопоставления автоматического набора номера. Если адрес находится в базе данных, система инициирует операцию автонабора для [**расаутодиалентри**](/previous-versions/windows/desktop/legacy/aa376721(v=vs.85))(если таковая имеется), которая соответствует локальному телефонному расположению TAPI.

API RAS предоставляет функции, позволяющие задавать и запрашивать параметры автонабора, которые управляют подключениями автонабора. Вы можете вызвать функцию [**рассетаутодиаленабле**](/windows/desktop/api/Ras/nf-ras-rassetautodialenablea) , чтобы включить или отключить функцию автоматического набора номера для УКАЗАННОГО местоположения TAPI. Функция [**расжетаутодиаленабле**](/windows/desktop/api/Ras/nf-ras-rasgetautodialenablea) указывает, включена ли функция автоматического набора номера для указанного места вызова TAPI. Дополнительные сведения о расположении набора номера TAPI см. в документации по интерфейсу TAPI. Для задания других параметров подключения автонабора можно вызвать функцию [**рассетаутодиалпарам**](/windows/desktop/api/Ras/nf-ras-rassetautodialparama) . Например, можно отключить автонабор подключений для текущего сеанса входа в систему. Вызовите функцию [**расжетаутодиалпарам**](/windows/desktop/api/Ras/nf-ras-rasgetautodialparama) , чтобы определить текущее значение параметров автоматического подключения.

Система предоставляет пользовательский интерфейс по умолчанию для операций автонабора номера. Однако можно создать библиотеку динамической компоновки (DLL) автоматического набора номера, чтобы предоставить настраиваемый пользовательский интерфейс для операций автонабора номеров, включающих указанные записи телефонной книги. Библиотека DLL автонабора должна экспортировать как ANSI, так и Юникод-версию обработчика автонабора [**расадфунк**](/windows/desktop/api/Ras/nc-ras-rasadfunca) .

Чтобы включить пользовательский обработчик автонабора для записи телефонной книги, вызовите функцию [**рассетентрипропертиес**](/windows/desktop/api/Ras/nf-ras-rassetentrypropertiesa) , чтобы задать свойства для этой записи. Члены **сзаутодиалдлл** и **сзаутодиалфунк** структуры [**Расентри**](/previous-versions/windows/desktop/legacy/aa377274(v=vs.85)) , передаваемые в **Рассетентрипропертиес** , указывают имя библиотеки DLL автонабора и имя функции [**расадфунк**](/windows/desktop/api/Ras/nc-ras-rasadfunca) , исключая суффикс "A" или "W".

Когда система запускает операцию автоматического набора номера для записи телефонной книги с пользовательским обработчиком автоматического набора, он вызывает указанный [**расадфунк**](/windows/desktop/api/Ras/nc-ras-rasadfunca). Функция **расадфунк** получает указатель на структуру [**расадпарамс**](/previous-versions/windows/desktop/legacy/aa376719(v=vs.85)) , которая указывает расположение и родительское окно для окна пользовательского интерфейса. **Расадфунк** может запустить поток для выполнения настраиваемой операции набора. Функция **расадфунк** возвращает **значение true** , чтобы указать, что она заняла набор, или **значение false** , чтобы разрешить системе выполнять набор. Настраиваемая операция набора номера должна использовать функцию [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) для выполнения фактического набора. После завершения операции набора номера пользовательская операция набора номера указывает на успешное выполнение или сбой, задавая переменную, на которую указывает параметр *лпдвреткоде* , передаваемый в [**расадфунк**](/windows/desktop/api/Ras/nc-ras-rasadfunca).

 

 