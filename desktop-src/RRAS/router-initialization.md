---
title: Инициализация маршрутизатора
description: Сведения о конфигурации маршрутизатора, диспетчеры маршрутизаторов и протоколы маршрутизации и клиенты делятся на глобальные сведения и сведения о интерфейсах, которые хранятся в реестре и файле телефонной книги маршрутизатора, router. pbk.
ms.assetid: c54541c1-6508-448a-a211-5fca634a184a
keywords:
- маршрутизаторы RRAS, инициализация
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bf3cbb55e4488da750a0fb8e8f813a5a5116a1d9e1caadad81eaefe4e12a79eb
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "120081114"
---
# <a name="router-initialization"></a>Инициализация маршрутизатора

Сведения о конфигурации маршрутизатора, диспетчеры маршрутизаторов и протоколы маршрутизации и клиенты делятся на глобальные сведения и сведения о интерфейсах, которые хранятся в реестре и файле телефонной книги маршрутизатора, router. pbk.

При запуске процесса маршрутизатора DIM (диспетчер динамических интерфейсов) считывает конфигурацию маршрутизатора из реестра. DIM создает интерфейсы, заданные сведениями интерфейса.

DIM также получает глобальные сведения диспетчера маршрутизаторов. DIM запускает диспетчеры маршрутизаторов, соответствующие этой информации, и передает их сведения. Например, если DIM находит глобальные сведения для диспетчера IP-маршрутизаторов в реестре, то DIM запускает диспетчер IP-маршрутизаторов и передает ему глобальную информацию. Если в реестре для определенного диспетчера маршрутизаторов нет глобальных сведений, DIM не запускает этот диспетчер маршрутизаторов.

Диспетчеры маршрутизаторов проверяют глобальную информацию, полученную от DIM. Если диспетчер маршрутизатора находит сведения, относящиеся к конкретному клиенту, в глобальной информации, диспетчер маршрутизатора загружает библиотеку DLL для клиента (например IpNAT.dll) и инициализирует клиент, вызывая функции клиента [**регистерпротокол**](/windows/desktop/api/Routprot/nc-routprot-pregister_protocol) и [**стартпротокол**](/windows/desktop/api/Routprot/nc-routprot-pstart_protocol) . Диспетчер маршрутизатора передает клиентские глобальные сведения клиенту в вызове [**стартпротокол**](/windows/desktop/api/Routprot/nc-routprot-pstart_protocol).

На каждом этапе информация, передаваемая следующей сущности, непрозрачна для сущности, предшествующей ей. То есть, DIM не интерпретирует глобальные сведения для диспетчера IP-маршрутизаторов, помимо того факта, что информация предназначена для диспетчера IP-маршрутизаторов. Аналогичным образом диспетчер IP-маршрутизаторов не интерпретирует сведения, относящиеся к OSPF, помимо того факта, что это OSPF-информация.

 

 




