---
title: Запуск протокола многоадресной маршрутизации
description: В следующей таблице приведена последовательность действий по взаимодействию при запуске между протоколом маршрутизации и диспетчером групп многоадресной рассылки.
ms.assetid: 14524745-5cf9-442c-a5b4-b1ef313151cf
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 63fc5dc5b25541c798ac0907a54dd19105a4c641
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "104488072"
---
# <a name="starting-up-a-multicast-routing-protocol"></a>Запуск протокола многоадресной маршрутизации

В следующей таблице приведена последовательность действий по взаимодействию при запуске между протоколом маршрутизации и диспетчером групп многоадресной рассылки. В первом столбце описываются действия, выполняемые протоколом маршрутизации, а также ответы протокола маршрутизации к диспетчеру групп многоадресной рассылки. Во втором столбце описаны ответы диспетчера групп многоадресной рассылки по протоколу маршрутизации и действия, выполняемые диспетчером групп многоадресной рассылки, такие как обратные вызовы. В третьем столбце представлены дополнительные сведения.

Каждая строка таблицы представляет один шаг.



| Действие протокола маршрутизации                                                                                                                                                                                                                                                                                                                 | Действие диспетчера групп многоадресной рассылки                                                                                                                                                                                                                                                                                                                                                                                                                                            | Примечания                                                                                                                                                                                                                                   |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Зарегистрируйтесь в диспетчере групп многоадресной рассылки с помощью функции [**мгмрегистермпротокол**](/windows/desktop/api/Mgm/nf-mgm-mgmregistermprotocol) .                                                                                                                                                                                                                      | Вернитесь к протоколу маршрутизации, который должен использоваться протоколом для идентификации в последующих вызовах API МГМ.                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                         |
| Определите, владеет ли уже интерфейс, и протокол маршрутизации, который его владеет, с помощью функции [**мгмжетпротоколонинтерфаце**](/windows/desktop/api/Mgm/nf-mgm-mgmgetprotocoloninterface) .                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Протокол IGMP может использовать эту функцию для определения владельца интерфейса и выполнения обработки, зависящей от протокола, с информацией, возвращаемой этой функцией.                                                                             |
| Стать владельцем всех интерфейсов, на которых включен протокол, с помощью функции [**мгмтакеинтерфацеовнершип**](/windows/desktop/api/Mgm/nf-mgm-mgmtakeinterfaceownership) .                                                                                                                                                                                | Если протокол IGMP уже владеет интерфейсом, а вызов функции [**мгмтакеинтерфацеовнершип**](/windows/desktop/api/Mgm/nf-mgm-mgmtakeinterfaceownership) получен для того же интерфейса, обратитесь по адресу IGMP, используя обратный вызов [**\_ \_ \_ обратного вызова IGMP в пмгм Disable**](/windows/win32/api/mgm/nc-mgm-pmgm_disable_igmp_callback) . После внесения всех изменений в многоадресные данные, касающиеся владения интерфейсом, обратитесь к IGMP снова с помощью [**пмгм \_ Enable \_ IGMP \_**](/windows/desktop/api/Mgm/nc-mgm-pmgm_enable_igmp_callback).<br/> | Только один протокол может владеть интерфейсом в определенный момент времени в дополнение к IGMP.                                                                                                                                                            |
| Определите текущее состояние членства в группе на маршрутизаторе. Это действие выполняется с помощью функций перечисления членства в группах: [**мгмграупенумератионстарт**](/windows/desktop/api/Mgm/nf-mgm-mgmgroupenumerationstart), [**мгмграупенумератионжетнекст**](/windows/desktop/api/Mgm/nf-mgm-mgmgroupenumerationgetnext)и [**мгмграупенумератионенд**](/windows/desktop/api/Mgm/nf-mgm-mgmgroupenumerationend). | Возвращает список групп.                                                                                                                                                                                                                                                                                                                                                                                                                                                | Протоколы маршрутизации могут использовать результаты для определения действий, выполняемых в зависимости от групп, которые уже были присоединены. Полный пример использования этих функций см. в разделе [Перечисление групп](enumerating-groups.md) .<br/> |



 

 

