---
title: Функция обратного вызова Расадминрелеасеипаддресс
description: Функция Расадминрелеасеипаддресс — это определяемая приложением функция, экспортируемая сторонней библиотекой DLL администрирования сервера удаленного доступа.
ms.assetid: 86fd9173-f158-4de5-8166-483a652a52cc
keywords:
- RAS функции обратного вызова Расадминрелеасеипаддресс
topic_type:
- apiref
api_name:
- RasAdminReleaseIpAddress
api_type:
- UserDefined
ms.topic: reference
ms.date: 05/31/2018
api_location: ''
ms.openlocfilehash: 102c9af7a8e38ccbbb4a7e67b2734588857ddca93da862be211fd1223133f80d
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "117788866"
---
# <a name="rasadminreleaseipaddress-callback-function"></a>Функция обратного вызова Расадминрелеасеипаддресс

\[функция **расадминрелеасеипаддресс** доступна для использования в Windows NT 4,0 и недоступна в последующих версиях. Вместо этого используйте [**мпрадминрелеасеипаддресс**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminreleaseipaddress).\]

Функция **расадминрелеасеипаддресс** — это определяемая приложением функция, экспортируемая сторонней библиотекой DLL администрирования сервера удаленного доступа. Служба RAS вызывает эту функцию, чтобы уведомить библиотеку DLL о том, что удаленный клиент был отключен и что IP-адрес должен быть освобожден.

## <a name="syntax"></a>Синтаксис


```C++
void CALLBACK RasAdminReleaseIpAddress(
  _In_ WCHAR  *lpszUserName,
  _In_ WCHAR  *lpszPortName,
  _In_ IPADDR *pipAddress
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*лпсзусернаме* \[ окне\]
</dt> <dd>

Задает указатель на строку в Юникоде, заканчивающуюся нулем, которая указывает имя удаленного пользователя, для которого IP-адрес был ранее получен с помощью функции [**расадминжетипаддрессфорусер**](rasadmingetipaddressforuser.md) .

</dd> <dt>

*лпсзпортнаме* \[ окне\]
</dt> <dd>

Указатель на строку в Юникоде, заканчивающуюся нулем, которая указывает имя порта, к которому подключен пользователь, указанный параметром *лпсзусернаме* .

</dd> <dt>

*пипаддресс* \[ окне\]
</dt> <dd>

Указатель на переменную **reduce** , которая указывает IP-адрес, возвращенный этим пользователем в предыдущем вызове [**расадминжетипаддрессфорусер**](rasadmingetipaddressforuser.md).

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Расширенные сведения об ошибке для этой функции отсутствуют. не вызывайте [**GetLastError**](/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror).

## <a name="remarks"></a>Remarks

Сервер RAS вызывает функцию **расадминрелеасеипаддресс** , только если приложение вернуло **значение true** в параметре *Бнотифирелеасе* во время предыдущего вызова [**Расадминжетипаддрессфорусер**](rasadmingetipaddressforuser.md) для пользователя, указанного параметром *лпсзусернаме* .

Программа установки для библиотеки DLL администрирования RAS стороннего производителя должна зарегистрировать библиотеку DLL в службе RAS, предоставив сведения в следующем разделе реестра:

```
HKEY_LOCAL_MACHINE
   SOFTWARE
      Microsoft
         RAS
            AdminDll
```

Чтобы зарегистрировать библиотеку DLL, задайте в этом разделе следующие значения.



| Имя значения    | Данные                                                                    |
|---------------|-------------------------------------------------------------------------------|
| *Отображаемое имя* | Строка **reg \_ SZ** , которая содержит ПОНЯТНОЕ имя библиотеки DLL, отображаемое пользователем. |
| *DLLPath*     | Строка **reg \_ SZ** , содержащая полный путь к библиотеке DLL.                  |



 

Например, запись реестра для библиотеки DLL администрирования RAS из вымышленной компании с названием «прочисление» может быть:

```
HKEY_LOCAL_MACHINE
   SOFTWARE
      Microsoft
         RAS
            AdminDll
```

*DisplayName*: **reg \_ SZ** : в *формате DLL-* библиотеки администрирования RAS: **reg \_ SZ** : C: \\ NT \\ system32 \\ntwkadm.dll

Программа установки библиотеки DLL администрирования RAS должна также предоставлять функции удаления и удаления. Если пользователь удаляет библиотеку DLL, программа установки должна удалить записи реестра библиотеки DLL.

 

 