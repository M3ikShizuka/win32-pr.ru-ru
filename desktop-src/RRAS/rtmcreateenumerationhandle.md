---
title: Функция Ртмкреатинумератионхандле (RTM. h)
description: Функция Ртмкреатинумератионхандле возвращает маркер для использования с Ртменумератежетнекстрауте для просмотра всех маршрутов или подмножества маршрутов, известных диспетчеру таблиц маршрутизации.
ms.assetid: 73e3ac7d-498a-4d89-a6b5-17aaf4b17ec2
keywords:
- RAS функции Ртмкреатинумератионхандле
topic_type:
- apiref
api_name:
- RtmCreateEnumerationHandle
api_location:
- Rtm.dll
api_type:
- DllExport
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 635bc169b1f68e2ef29e85e9e7ef800868453dd7221d08eda7953eda277ae423
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "120035914"
---
# <a name="rtmcreateenumerationhandle-function"></a>Функция Ртмкреатинумератионхандле

\[этот api был заменен api [диспетчера таблиц маршрутизации версии 2](about-routing-table-manager-version-2.md) и не будет доступен за пределами Windows Server 2003. Приложения должны использовать API диспетчера таблиц маршрутизации версии 2.\]

Функция **ртмкреатинумератионхандле** возвращает маркер для использования с [**ртменумератежетнекстрауте**](rtmenumerategetnextroute.md) для просмотра всех маршрутов или подмножества маршрутов, известных диспетчеру таблиц маршрутизации.

## <a name="syntax"></a>Синтаксис


```C++
HANDLE RtmCreateEnumerationHandle(
  _In_ DWORD ProtocolFamily,
  _In_ DWORD EnumerationFlags,
  _In_ PVOID CriteriaRoute
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*Протоколфамили* \[ окне\]
</dt> <dd>

Указывает семейство протоколов для перечислений маршрутов.

</dd> <dt>

*Енумератионфлагс* \[ окне\]
</dt> <dd>

Указывает, какие маршруты следует перечислить. Этот параметр ограничивает набор маршрутов, возвращаемых API перечисления, в подмножество, определенное следующими флагами, и значения в соответствующих элементах структуры, на которые указывает параметр *критериарауте* . Этот параметр может принимать одно из указанных ниже значений.



| енумератионфлагс                                                                                                                                                                              | Значение                                                                                                                                                                 |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="RTM_ONLY_THIS_NETWORK"></span><span id="rtm_only_this_network"></span><dl> <dt>**RTM \_ только \_ Эта \_ сеть**</dt> </dl>       | Перечислите только те маршруты, которые имеют тот же номер сети, что и \_ сетевой член RR структуры, на которую указывает критериарауте.<br/>                        |
| <span id="RTM_ONLY_THIS_INTERFACE"></span><span id="rtm_only_this_interface"></span><dl> <dt>**RTM \_ только \_ этот \_ интерфейс**</dt> </dl> | Перечислите только те маршруты, которые были получены через интерфейс, указанный в \_ поле RR InterfaceID структуры, на которую указывает критериарауте.<br/>    |
| <span id="RTM_ONLY_THIS_PROTOCOL"></span><span id="rtm_only_this_protocol"></span><dl> <dt>**\_только RTM \_ этот \_ протокол**</dt> </dl>    | Перечислите только те маршруты, которые были добавлены протоколом маршрутизации, указанным в \_ поле RR раутингпротокол структуры, на которую указывает критериарауте.<br/> |
| <span id="RTM_ONLY_BEST_ROUTES"></span><span id="rtm_only_best_routes"></span><dl> <dt>**\_только \_ лучшие \_ маршруты RTM**</dt> </dl>          | Перечислите только оптимальные маршруты к каждой из сетей в наборе.<br/>                                                                                           |



 

</dd> <dt>

*Критериарауте* \[ окне\]
</dt> <dd>

Указатель на структуру маршрута для конкретного семейства протоколов ([**RTM \_ - \_ маршрут IP**](rtm-ip-route.md) или [**\_ \_ маршрут RTM IPX**](rtm-ipx-route.md)). Значения элементов в этой структуре соответствуют флагам, заданным параметром *енумератионфлагс* .

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Если функция выполнена, возвращаемое значение является **маркером** , используемым при последующих вызовах перечисления.

Если функция завершается с ошибкой или не существует маршрутов с указанными критериями, возвращается значение **null**. Чтобы получить дополнительные сведения, вызовите [**GetLastError**](/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror) .



| Значение                                                                                                       | Описание                                                                                                                  |
|-------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------|
| <dl> <dt>**ОШИБКИ \_ нет \_ маршрутов**</dt> </dl>            | Нет маршрутов с указанными критериями.<br/>                                                             |
| <dl> <dt>**Ошибка \_ недопустимого \_ параметра**</dt> </dl>    | Один или несколько входных параметров являются недопустимыми (например, неизвестное семейство протоколов, недопустимые флаги перечисления).<br/> |
| <dl> <dt>**\_нет \_ системных \_ ресурсов**</dt> </dl> | Недостаточно ресурсов для выполнения операции.<br/>                                                      |
| <dl> <dt>**Ошибка \_ не \_ хватает \_ памяти**</dt> </dl>   | Недостаточно памяти для выделения маркера.<br/>                                                              |



 

## <a name="requirements"></a>Requirements (Требования)



| Требование | Значение |
|-------------------------------------|------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Ни одна версия не поддерживается<br/>                                                          |
| Минимальная версия сервера<br/> | Windows 2000 Server \[только классические приложения\]<br/>                               |
| Поддержка конца сервера<br/>    | Windows Server 2003<br/>                                                     |
| Заголовок<br/>                   | <dl> <dt>RTM. h</dt> </dl>   |
| Библиотека<br/>                  | <dl> <dt>RTM. lib</dt> </dl> |
| DLL<br/>                      | <dl> <dt>Rtm.dll</dt> </dl> |



## <a name="see-also"></a>См. также

<dl> <dt>

[Справочник по диспетчеру таблиц маршрутизации версии 1](routing-table-manager-version-1-reference.md)
</dt> <dt>

[Функции диспетчера таблиц маршрутизации версии 1](routing-table-manager-version-1-functions.md)
</dt> <dt>

[**Функция**](/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror)
</dt> <dt>

[**Окончательная версия \_ IP- \_ маршрута**](rtm-ip-route.md)
</dt> <dt>

[**\_маршрут IPX \_ RTM**](rtm-ipx-route.md)
</dt> <dt>

[**ртмклосинумератионхандле**](rtmcloseenumerationhandle.md)
</dt> <dt>

[**ртменумератежетнекстрауте**](rtmenumerategetnextroute.md)
</dt> </dl>

 

