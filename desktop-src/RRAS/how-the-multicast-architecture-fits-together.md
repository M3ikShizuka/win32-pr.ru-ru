---
title: Совместное использование многоадресной архитектуры
description: В этом разделе описывается пример конфигурации и объясняется, как основные компоненты соединяются друг с другом.
ms.assetid: 1fa0b343-0276-402b-8c3d-5ca114ad43cf
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 94f4ca79b9fdd6b2e2fd9e75dc61d780af4380ed958a491f69231f7d541f0aa0
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "117791327"
---
# <a name="how-the-multicast-architecture-fits-together"></a>Совместное использование многоадресной архитектуры

В этом разделе описывается пример конфигурации и объясняется, как основные компоненты соединяются друг с другом.

На следующем рисунке показана связь между различными компонентами маршрутизатора.

![отношение между компонентами маршрутизатора Windows 2000](images/mrarch1.png)

Диспетчер групп многоадресной рассылки является частью службы RRAS, которая работает на сервере, работающем в качестве маршрутизатора.

На указанном маршрутизаторе есть три протокола многоадресной маршрутизации (протокол 1, протокол 2, протокол 3), который работает на нем. Каждый протокол может владеть одним или несколькими интерфейсами (на этом рисунке протокол 1 владеет интерфейсом 1, протокол 2 владеет интерфейсом 2, а протокол 3 владеет интерфейсом 3). Каждый интерфейс может принадлежать только одному протоколу маршрутизации (в дополнение к IGMP, что является особым случаем).

Диспетчер групп многоадресной рассылки выполняется на маршрутизаторе и координирует распределение сведений о группах между протоколами маршрутизации.

На следующем рисунке показана связь между двумя маршрутизаторами в архитектуре многоадресной рассылки.

![отношение между двумя маршрутизаторами в архитектуре многоадресной рассылки](images/mrarch2.png)

На предыдущем рисунке маршрутизатор 2 отправляет многоадресное сообщение в сеть 2 в интерфейсе 3. Маршрутизатор 1 получает многоадресное сообщение из сети 2 в интерфейсе 3. На обоих маршрутизаторах протокол 3 владеет соответствующим интерфейсом 3.

На следующем рисунке показан путь к сообщению, полученному от источника многоадресной рассылки (в группу многоадресной рассылки), для достижения узла, который присоединился к группе многоадресной рассылки. Маршрутизаторы на рисунке используют ту же конфигурацию, что и предыдущие иллюстрации; Однако сведения об интерфейсе и Протоколе не отображаются, чтобы не усложнять рисунок.

![путь к сообщению от источника многоадресной рассылки на узел назначения](images/mrarch3.png)

В следующем сценарии описываются события, происходящие при присоединении узла к группе многоадресной рассылки. Связи между различными сущностями см. на предыдущем рисунке.

1.  Узел 1 присоединяется к группе многоадресной рассылки G в сети 3.
2.  Маршрутизатор 3 рассказывает об G через IGMP.
3.  Диспетчер групп многоадресной рассылки на маршрутизаторе 3 уведомляет протокол 3 на маршрутизаторе 3 о новых получателях для G.
4.  Протокол 3 на маршрутизаторе 3 затем уведомляет протокол 3 на маршрутизаторе 1 о G.
5.  В свою очередь, протокол 3 на маршрутизаторе 1 уведомляет Диспетчер групп многоадресной рассылки на маршрутизаторе 1 о G.
6.  Диспетчер групп многоадресной рассылки на маршрутизаторе 1 затем уведомляет протокол 1 и протокол 2 о G.
7.  Протокол 2 может сообщить маршрутизатору 2 о G, если этот протокол предназначен для этого.

В следующем сценарии описываются события, происходящие при отправке сообщения группе многоадресной рассылки. Сведения о связях между различными сущностями см. на предыдущем рисунке.

1.  Источник в сети 1 отправляет сообщение группе G.
2.  Сообщение, отправленное из источника S, сначала поступает маршрутизатору 2, который затем пересылает его маршрутизатору 1 через интерфейс 2 (так как маршрутизатор 2 был уведомлен по протоколу 2 о том, что приемники находятся в подчиненном виде).
3.  Маршрутизатор 1 перенаправляет сообщение маршрутизатору 3 (поскольку маршрутизатор 1 был уведомлен по протоколу 2 о том, что приемники находятся в подчиненном виде).
4.  Маршрутизатор 3 перенаправляет сообщение в сеть 3 и, следовательно, поступает на узел 1.

Дополнительные сведения о взаимодействии протокола многоадресной маршрутизации см. в статье [RFC 2715](routing-protocols-request-for-comments.md), правила взаимодействия для протоколов многоадресной маршрутизации.

 

 




