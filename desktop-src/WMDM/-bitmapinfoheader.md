---
title: Структура _BITMAPINFOHEADER
description: '\_Структура битмапинфохеадер определяет формат видеокадра.'
ms.assetid: 394b8ded-81db-4ad3-8cf7-086f1e832771
keywords:
- _BITMAPINFOHEADER структура диспетчер устройств Windows Media
topic_type:
- apiref
api_name:
- _BITMAPINFOHEADER
api_location:
- wmdm.idl
api_type:
- HeaderDef
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 481c80b6d209e0da8d00ef06d88392504bcae8e0
ms.sourcegitcommit: c8ec1ded1ffffc364d3c4f560bb2171da0dc5040
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/22/2021
ms.locfileid: "105699043"
---
# <a name="_bitmapinfoheader-structure"></a>\_Структура БИТМАПИНФОХЕАДЕР

Структура **\_ битмапинфохеадер** определяет формат видеокадра.

## <a name="syntax"></a>Синтаксис


```C++
typedef struct _tagBITMAPINFOHEADER {
  DWORD biSize;
  LONG  biWidth;
  LONG  biHeight;
  WORD  biPlanes;
  WORD  biBitCount;
  DWORD biCompression;
  DWORD biSizeImage;
  LONG  biXPelsPerMeter;
  LONG  biYPelsPerMeter;
  DWORD biClrUsed;
  DWORD biClrImportant;
} _BITMAPINFOHEADER;
```



## <a name="members"></a>Члены

<dl> <dt>

**бисизе**
</dt> <dd>

Указывает число байтов, необходимых для структуры.

</dd> <dt>

**бивидс**
</dt> <dd>

Задает ширину точечного рисунка в пикселях.

</dd> <dt>

**бихеигхт**
</dt> <dd>

Задает высоту точечного рисунка в пикселях. Если **бихеигхт** является положительным, то точечный рисунок имеет значение DIB, а его источник — в левом нижнем углу. Если **бихеигхт** является отрицательным, точечный рисунок является верхним (DIB) и его источником является левый верхний угол. Если **бихеигхт** имеет отрицательное значение, указывая, что значение DIB сверху вниз, **бикомпрессион** должно быть либо BI \_ RGB, либо BI \_ битовых полей. Не удается сжать файлы DIB, расположенные сверху вниз.

</dd> <dt>

**бипланес**
</dt> <dd>

Указывает количество плоскостей для целевого устройства. Это значение должно быть равно 1.

</dd> <dt>

**бибиткаунт**
</dt> <dd>

Указывает число битов на пиксель. Элемент **бибиткаунт** структуры **битмапинфохеадер** определяет количество битов, определяющих каждый пиксель, и максимальное число цветов в точечном рисунке. Этот элемент должен иметь одно из следующих значений.



| Значение | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|-------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1     | Точечный рисунок является монохромным, а элемент Бмиколорс содержит две записи. Каждый бит в массиве Bitmap представляет пиксель. Если бит снят, пиксель отображается с цветом первой записи в таблице Бмиколорс; Если бит установлен, пиксел имеет цвет второй записи в таблице.                                                                                                                                                                                                                                                                                                        |
| 2     | Точечный рисунок имеет четыре возможных значения цвета.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 4     | Точечный рисунок имеет не более 16 цветов, а элемент Бмиколорс содержит до 16 записей. Каждый пиксель точечного рисунка представлен 4-битным индексом в таблице цветов. Например, если первый байт в битовой карте — 0x1F, то байт представляет два пикселя. Первый пиксель содержит цвет во второй записи таблицы, а второй пиксель содержит цвет в записи шестнадцатой таблицы.                                                                                                                                                                                                                 |
| 8     | Точечный рисунок имеет максимум 256 цветов, а элемент Бмиколорс содержит до 256 записей. В этом случае каждый байт в массиве представляет один пиксель.                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 16    | Размер точечного рисунка не должен превышать 2 ^ 16 цветов. Если элемент Бикомпрессион в БИТМАПИНФОХЕАДЕР является BI \_ RGB, то элемент бмиколорс имеет **значение NULL**. Каждое слово в массиве Bitmap представляет один пиксель. Относительные интенситиес красного, зеленого и синего цветов представлены 5 битами для каждого компонента цвета. Значение синего находится в наименее значащих 5 бит, за которым следуют 5 бит для зеленого и Красного. Наиболее значимый бит не используется. Таблица цветов Бмиколорс используется для оптимизации цветов, используемых на устройствах на основе палитры, и должна содержать количество записей, заданных элементом Биклрусед. |
| 24    | Битовая карта имеет не более 2 ^ 24 цветов, а элемент Бмиколорс имеет **значение NULL**. Каждый 3-байтовый Triplet в массиве Bitmap представляет относительные интенситиес синего, зеленого и красного, соответственно, для пикселя. Таблица цветов Бмиколорс используется для оптимизации цветов, используемых на устройствах на основе палитры, и должна содержать количество записей, заданных элементом Биклрусед.                                                                                                                                                                                                                                     |
| 32    | Размер точечного рисунка не должен превышать 2 ^ 32 цвета. Если элемент Бикомпрессион является BI \_ RGB, то элемент бмиколорс имеет **значение NULL**. Каждый DWORD в массиве Bitmap представляет относительные интенситиесы синего, зеленого и красного, соответственно, для пикселя. Старший байт в каждом DWORD не используется. Таблица цветов Бмиколорс используется для оптимизации цветов, используемых на устройствах на основе палитры, и должна содержать количество записей, заданных элементом Биклрусед.                                                                                                                                                                 |



 

</dd> <dt>

**бикомпрессион**
</dt> <dd>

Указывает тип сжатия для сжатого нижнего точечного рисунка (файлы DIB, расположенные сверху вниз, не могут быть сжаты). Этот элемент может принимать одно из следующих значений.



| Значение         | Описание                                                                                                                                                                                                                                                                                                        |
|---------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| RGB для BI \_       | Несжатый формат.                                                                                                                                                                                                                                                                                            |
| Бизнес-аналитика \_ битовых полей | Указывает, что точечный рисунок не сжимается и таблица цветов состоит из трех цветовых масок DWORD, которые задают красный, зеленый и синий компоненты соответственно для каждого пикселя. Это допустимо при использовании точечных рисунков размером 16 бит и 32 бит/с. Это значение допустимо в Microsoft Windows CE версии 2,0 и более поздних версиях. |



 

</dd> <dt>

**бисизеимаже**
</dt> <dd>

Задает размер изображения в байтах. Это может быть нулевое значение для \_ точечных рисунков RGB BI.

</dd> <dt>

**бикспелсперметер**
</dt> <dd>

Задает горизонтальное разрешение (в пикселях на счетчик) целевого устройства для точечного рисунка. Приложение может использовать это значение для выбора точечного рисунка из группы ресурсов, который наилучшим образом соответствует характеристикам текущего устройства.

</dd> <dt>

**бийпелсперметер**
</dt> <dd>

Задает вертикальное разрешение (в пикселях на счетчик) целевого устройства для точечного рисунка.

</dd> <dt>

**биклрусед**
</dt> <dd>

Указывает количество цветовых индексов в таблице цветов, которые фактически используются точечным рисунком. Если это значение равно нулю, точечный рисунок использует максимальное число цветов, соответствующее значению элемента **бибиткаунт** для режима сжатия, заданного параметром **бикомпрессион**.

</dd> <dt>

**биклримпортант**
</dt> <dd>

Указывает количество цветовых индексов, необходимых для отображения точечного рисунка. Если это значение равно нулю, то требуются все цвета.

Если Биклрусед имеет ненулевое значение, а элемент Бибиткаунт меньше 16, то элемент Биклрусед указывает фактическое число цветов, к которым подсистема графики или драйвер устройства обращается. Если Бибиткаунт имеет значение 16 или выше, то элемент Биклрусед указывает размер таблицы цветов, используемой для оптимизации производительности системных цветовых палитр. Если Бибиткаунт равно 16 или 32, то оптимальная цветовая палитра начинается сразу после трех масок DWORD.

Если точечный рисунок является упакованным точечным рисунком (точечный рисунок, в котором массив точечных рисунков непосредственно следует за \_ структурой битмапинфохеадер и на него ссылается один указатель), то элемент биклрусед должен быть либо нулевым, либо фактическим размером таблицы цветов.

</dd> </dl>

## <a name="remarks"></a>Комментарии

Эта структура содержится в структуре **\_ видеоинфохеадер** .

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------|-------------------------------------------------------------------------------------|
| Header<br/> | <dl> <dt>Вмдм. idl</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[**Структуры**](structures.md)
</dt> <dt>

[**\_видеоинфохеадер**](-videoinfoheader.md)
</dt> </dl>

 

 





