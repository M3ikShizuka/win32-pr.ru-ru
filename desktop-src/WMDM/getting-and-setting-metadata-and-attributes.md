---
title: Получение и установка метаданных и атрибутов
description: Получение и установка метаданных и атрибутов
ms.assetid: 83534998-4e7d-49b6-a160-ef9a0ddea5db
keywords:
- Windows Диспетчер устройств мультимедиа, атрибуты
- Диспетчер устройств, атрибуты
- Классические приложения, атрибуты
- поставщики услуг, атрибуты
- инструкции по программированию, атрибуты
- attributes
- Windows Диспетчер устройств мультимедиа, метаданные
- Диспетчер устройств, метаданные
- Классические приложения, метаданные
- поставщики услуг, метаданные
- инструкции по программированию, метаданные
- метаданные
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8697f62dac44f5aab4b08aa4f6c516ac35a17e4e
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "126890301"
---
# <a name="getting-and-setting-metadata-and-attributes"></a>Получение и установка метаданных и атрибутов

Приложение может получить два вида информации о хранилище или устройстве: атрибуты и метаданные. Атрибуты — это более простые логические значения, которые обычно описывают сведения о файловой системе, такие как наличие дочерних объектов в хранилище, возможность их переименования, чтения или удаления и т. д. Атрибуты извлекаются как значения флагов путем вызова [**ивмдмстораже:: InAttribute**](/windows/desktop/api/mswmdm/nf-mswmdm-iwmdmstorage-getattributes) или [**IWMDMStorage2:: GetAttributes2**](/windows/desktop/api/mswmdm/nf-mswmdm-iwmdmstorage2-getattributes2). Атрибуты задаются путем вызова [**IWMDMStorage3:: сетметадата**](/windows/desktop/api/mswmdm/nf-mswmdm-iwmdmstorage3-setmetadata).

Приложение также может запрашивать более сложные данные (числовые, строковые или другие типы данных) в качестве *метаданных*. Значения метаданных идентифицируются уникальными именами строк. Windows Диспетчер устройств носителя определяет список строковых констант, которые можно использовать для запроса значений. Эти определенные значения перечислены в [константах метаданных](metadata-constants.md). Поставщик услуг может определять собственные константы, но вызывающее приложение должно учитывать эти определения, чтобы запрашивать или задавать значения пользовательских метаданных. Приложение запрашивает метаданные с помощью вызова [**IWMDMStorage3::**](/windows/desktop/api/mswmdm/nf-mswmdm-iwmdmstorage3-getmetadata) IWMDMStorage4 или [**:: жетспеЦифиедметадата**](/windows/desktop/api/mswmdm/nf-mswmdm-iwmdmstorage4-getspecifiedmetadata).

Важным аспектом получения и установки метаданных и атрибутов является понимание того, откуда берутся полученные значения. Поставщик услуг или устройство могут получать эти значения из различных мест, включая следующие:

-   Из заголовка файла. Например, в файле ASF скорость потока сохраняется в заголовке файла.
-   Из значений, явно заданных приложением при вызове метода. Эти значения могут быть сохранены во внешнем хранилище метаданных в поставщике услуг или на устройстве. Это хранилище может не сохраняться, если устройство отключается или выключено. Например, количество воспроизводимых и пользовательских оценок обычно хранится во внешних хранилищах на компьютере или устройстве.
-   Изучив сведения, предоставленные файловой системой. Например, доступен ли файл только для чтения или у папки есть дочерние элементы.
-   Путем открытия и анализа данных файла.

Важно понимать, что свойство может храниться в нескольких местах (в заголовке файла и в локальном хранилище), а также может и не быть доступным для редактирования. Например, изменение описания файла может быть постоянным или неустойчивым. Если поставщик услуг хранит описание локально, он не будет сохранен на устройстве. Аналогично, если в заголовке файла берется описание файла, изменение этого действия будет постоянным только в том случае, если поставщик услуг или устройство откроет и изменит данные заголовка. Большинство приложений наиболее эффективны, изменяя нужные значения, но не зависящие от свойств, которые должны быть постоянно изменены.

Дополнительные сведения о получении и установке значений приведены в соответствующих разделах, посвященных разработчикам приложений и разработчикам поставщиков услуг.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[**Задачи, общие для приложений и поставщиков служб**](tasks-common-to-applications-and-service-providers.md)
</dt> </dl>

 

 




