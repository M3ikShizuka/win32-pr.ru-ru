---
title: Параметры устройства
description: Параметры устройства
ms.assetid: d8774c85-b5c0-4d9e-8a8e-d60ffdf59549
keywords:
- Windows Диспетчер устройств носителя, параметры устройства
- Диспетчер устройств, параметры устройства
- рекомендации по программированию, параметры устройств
- поставщики услуг, параметры устройства
- Создание поставщиков услуг, параметры устройства
- Параметры устройства
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ef097940670148551042c22fd8efc6aa51c641960bf0f821361aaf3c29c731d0
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118585353"
---
# <a name="device-parameters"></a>Параметры устройства

Windows Диспетчер устройств мультимедиа использует параметры устройства для управления поведением устройства. Эти параметры добавляются в реестр, как указано в файле установки устройства (INF-файле). в следующей таблице перечислены параметры устройства, которые Windows мультимедиа диспетчер устройств запросы.



| Имя параметра устройства | Тип данных реестра | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|-----------------------|--------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| *вмдмспклсид*         | **REG \_ SZ**        | Значение, указывающее идентификатор CLSID поставщика услуг, управляющего этим устройством. Этот параметр является обязательным для поддержки PnP.<br/> Значение параметра должно быть идентификатором CLSID, а не ProgID поставщика услуг. этот параметр является обязательным для поддержки самонастраивающийся (PnP) в разделе Windows Media диспетчер устройств. Дополнительные сведения см. в разделе [Включение PnP для устройств](enabling-pnp-for-devices.md).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| *оптималтрансферсизе* | **REG \_ DWORD**     | необязательное значение, указывающее предпочтительный размер передачи, который Windows Media диспетчер устройств использует во время операций чтения и записи. Если он не указан, используется размер перемещения по умолчанию.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| *усеметадатавиевс*    | **REG \_ DWORD**     | необязательный параметр, указывающий, следует ли Windows Media диспетчер устройств упорядочивать содержимое по метаданным при представлении содержимого устройства в приложениях. Если не указано, значение по умолчанию равно 0.<br/> когда приложения перечисляют содержимое в хранилищах переносимого аудио-плеера, Windows мультимедиа диспетчер устройств может представлять содержимое, упорядоченное по метаданным. Это особенно удобно для устройств с большой емкостью хранилища.<br/> Приложения и устройства могут управлять этим поведением. Устройства указывают свои предпочтения с помощью параметра устройства *усеметадатавиевс*.<br/> Поддерживаются следующие два целочисленных значения:<br/> Запрашивает, чтобы содержимое было представлено приложениям точно так же, как это было в файловой системе устройства.<br/> Запрашивает, чтобы содержимое было представлено приложениям, упорядоченным по метаданным.<br/> |
| *шовиншелл*         | **REG \_ DWORD**     | необязательный параметр, указывающий, должно ли устройство отображаться в Windows Explorer. значение 1 указывает, что устройство должно отображаться в Windows Explorer. дополнительные сведения см. [в разделе требования к портативным проигрывателям, отображаемым в Windows Explorer](requirements-for-portable-audio-players-to-appear-in-windows-explorer.md).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| *усикстендедвмдм*     | **REG \_ DWORD**     | необязательный параметр, который оповещает Windows Media диспетчер устройств о том, что поставщик услуг поддерживает **IMDSPDevice3**, **IMDSPObject2** и **IMDSPStorage4**. без этого флага Windows Media диспетчер устройств никогда не будет вызывать эти интерфейсы. Значение 1 указывает, что эти интерфейсы поддерживаются.<br/> этот флаг необходим для поставщиков услуг, которые синхронизируются с проигрыватель Windows Media. (см. раздел [включение синхронизации с проигрыватель Windows Media](enabling-synchronization-with-windows-media-player.md)).<br/>                                                                                                                                                                                                                                                                                                                                                                        |



 

**Кодирование INF-файла**

В следующем примере кода из INF-файла устройства демонстрируется настройка некоторых параметров устройства во время установки устройства.


```C++
; Set parameters on Windows 95 and Windows 98 operating systems.
[DriverInstall.hw]
AddReg=DriverHwPropReg

; Set parameters on Windows NT-based operating systems.
[DriverInstall.NT.hw]
AddReg=DriverHwPropReg

; Related section that specifies the device parameters.
[DriverHwPropReg]
; Add your own CLSID here.
HKR,,WMDMSPCLSID,,"{00000000-0000-0000-0000-000000000000}"
HKR,,OptimalTransferSize,0x10001,0x10000
HKR,,UseMetadataViews,0x10001,0x1
```



## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[**Создание поставщика услуг**](creating-a-service-provider.md)
</dt> <dt>

[**Интерфейс IMDServiceProvider2**](/windows/desktop/api/mswmdm/nn-mswmdm-imdserviceprovider2)
</dt> <dt>

[**IMDServiceProvider2:: Креатедевице**](/windows/desktop/api/mswmdm/nf-mswmdm-imdserviceprovider2-createdevice)
</dt> <dt>

[**Интерфейс Ивмдмдевице**](/windows/desktop/api/mswmdm/nn-mswmdm-iwmdmdevice)
</dt> </dl>

 

 





