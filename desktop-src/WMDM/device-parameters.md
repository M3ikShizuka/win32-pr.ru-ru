---
title: Параметры устройства
description: Параметры устройства
ms.assetid: d8774c85-b5c0-4d9e-8a8e-d60ffdf59549
keywords:
- Диспетчер устройств Windows Media, параметры устройства
- Диспетчер устройств, параметры устройства
- рекомендации по программированию, параметры устройств
- поставщики услуг, параметры устройства
- Создание поставщиков услуг, параметры устройства
- Параметры устройства
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bb3ad1a1bfc6a24736fdad8385e6cc03e0b20be2
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "104329456"
---
# <a name="device-parameters"></a>Параметры устройства

Диспетчер устройств Windows Media использует параметры устройства для управления поведением устройства. Эти параметры добавляются в реестр, как указано в файле установки устройства (INF-файле). В следующей таблице перечислены параметры устройства, которые Windows Media диспетчер устройств запросы.



| Имя параметра устройства | Тип данных реестра | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|-----------------------|--------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| *вмдмспклсид*         | **REG \_ SZ**        | Значение, указывающее идентификатор CLSID поставщика услуг, управляющего этим устройством. Этот параметр является обязательным для поддержки PnP.<br/> Значение параметра должно быть идентификатором CLSID, а не ProgID поставщика услуг. Этот параметр является обязательным для поддержки самонастраивающийся (PnP) в Windows Media диспетчер устройств. Дополнительные сведения см. в разделе [Включение PnP для устройств](enabling-pnp-for-devices.md).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| *оптималтрансферсизе* | **REG \_ DWORD**     | Необязательное значение, указывающее предпочтительный размер передачи, используемый Windows Media диспетчер устройств при операциях чтения и записи. Если он не указан, используется размер перемещения по умолчанию.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| *усеметадатавиевс*    | **REG \_ DWORD**     | Необязательный параметр, указывающий, будет ли Windows Media диспетчер устройств упорядочивать содержимое по метаданным при представлении содержимого устройства в приложениях. Если не указано, значение по умолчанию равно 0.<br/> Когда приложения перечисляют содержимое в хранилищах переносимого аудио-плеера, Windows Media диспетчер устройств может представлять содержимое, упорядоченное по метаданным. Это особенно удобно для устройств с большой емкостью хранилища.<br/> Приложения и устройства могут управлять этим поведением. Устройства указывают свои предпочтения с помощью параметра устройства *усеметадатавиевс*.<br/> Поддерживаются следующие два целочисленных значения:<br/> Запрашивает, чтобы содержимое было представлено приложениям точно так же, как это было в файловой системе устройства.<br/> Запрашивает, чтобы содержимое было представлено приложениям, упорядоченным по метаданным.<br/> |
| *шовиншелл*         | **REG \_ DWORD**     | Необязательный параметр, указывающий, должно ли устройство отображаться в проводнике Windows. Значение 1 указывает, что устройство должно отображаться в проводнике Windows. Дополнительные сведения см. [в разделе Требования к портативным проигрывателям, отображаемым в проводнике Windows](requirements-for-portable-audio-players-to-appear-in-windows-explorer.md).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| *усикстендедвмдм*     | **REG \_ DWORD**     | Необязательный параметр, который оповещает Windows Media диспетчер устройств о том, что поставщик услуг поддерживает **IMDSPDevice3**, **IMDSPObject2** и **IMDSPStorage4**. Без этого флага Windows Media диспетчер устройств не будет вызывать эти интерфейсы. Значение 1 указывает, что эти интерфейсы поддерживаются.<br/> Этот флаг необходим для поставщиков услуг, которые синхронизируются с проигрывателем Windows Media. (См. раздел [Включение синхронизации с помощью проигрывателя Windows Media](enabling-synchronization-with-windows-media-player.md)).<br/>                                                                                                                                                                                                                                                                                                                                                                        |



 

**Кодирование INF-файла**

В следующем примере кода из INF-файла устройства демонстрируется настройка некоторых параметров устройства во время установки устройства.


```C++
; Set parameters on Windows 95 and Windows 98 operating systems.
[DriverInstall.hw]
AddReg=DriverHwPropReg

; Set parameters on Windows NT-based operating systems.
[DriverInstall.NT.hw]
AddReg=DriverHwPropReg

; Related section that specifies the device parameters.
[DriverHwPropReg]
; Add your own CLSID here.
HKR,,WMDMSPCLSID,,"{00000000-0000-0000-0000-000000000000}"
HKR,,OptimalTransferSize,0x10001,0x10000
HKR,,UseMetadataViews,0x10001,0x1
```



## <a name="related-topics"></a>См. также

<dl> <dt>

[**Создание поставщика услуг**](creating-a-service-provider.md)
</dt> <dt>

[**Интерфейс IMDServiceProvider2**](/windows/desktop/api/mswmdm/nn-mswmdm-imdserviceprovider2)
</dt> <dt>

[**IMDServiceProvider2:: Креатедевице**](/windows/desktop/api/mswmdm/nf-mswmdm-imdserviceprovider2-createdevice)
</dt> <dt>

[**Интерфейс Ивмдмдевице**](/windows/desktop/api/mswmdm/nn-mswmdm-iwmdmdevice)
</dt> </dl>

 

 





