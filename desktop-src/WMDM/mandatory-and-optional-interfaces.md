---
title: Обязательные и необязательные интерфейсы
description: Обязательные и необязательные интерфейсы
ms.assetid: 582c9dd5-f8ab-48df-afb3-fba931ee0dea
keywords:
- Диспетчер устройств Windows Media, интерфейсы
- Диспетчер устройств, интерфейсы
- Программное обеспеченное программирование, интерфейсы
- поставщики услуг, интерфейсы
- Создание поставщиков услуг, интерфейсы
- interfaces
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6aaa28db79fe8bc3cd159219cffb35f5434645ea
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "103774984"
---
# <a name="mandatory-and-optional-interfaces"></a>Обязательные и необязательные интерфейсы

В следующей таблице описаны обязательные и необязательные интерфейсы и методы для реализации поставщиками услуг. Все интерфейсы с одним или несколькими обязательными методами должны быть реализованы. Обязательный метод не может возвращать ВМДМ \_ e \_ NOTSUPPORTED или e \_ нотимпл.



| Интерфейс и метод                                                                                                                  | Параметр реализации                                                                                                                                                                                                                              |
|---------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**Имдсервицепровидер:: Енумдевицес**](/windows/desktop/api/mswmdm/nf-mswmdm-imdserviceprovider-enumdevices)                                                             | Mandatory.                                                                                                                                                                                                                                         |
| [**Имдсервицепровидер:: Жетдевицекаунт**](/windows/desktop/api/mswmdm/nf-mswmdm-imdserviceprovider-getdevicecount)                                                       | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDServiceProvider2:: Креатедевице**](/windows/desktop/api/mswmdm/nf-mswmdm-imdserviceprovider2-createdevice)                                                         | Необязательный элемент. Этот метод должен быть реализован для поддержки PnP и проводника Windows.                                                                                                                                                                    |
| [**Имдспдевице:: Енумстораже**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspdevice-enumstorage)                                                                           | Mandatory.                                                                                                                                                                                                                                         |
| [**Имдспдевице:: Жетдевицеикон**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspdevice-getdeviceicon)                                                                       | Mandatory.                                                                                                                                                                                                                                         |
| [**Имдспдевице:: Жетформатсуппорт**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspdevice-getformatsupport)                                                                 | Mandatory.                                                                                                                                                                                                                                         |
| [**Имдспдевице:: поставщик**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspdevice-getmanufacturer)                                                                   | Mandatory.                                                                                                                                                                                                                                         |
| [**Имдспдевице:: Name**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspdevice-getname)                                                                                   | Mandatory.                                                                                                                                                                                                                                         |
| [**Имдспдевице:: Жетповерсаурце**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspdevice-getpowersource)                                                                     | Необязательный элемент.                                                                                                                                                                                                                                          |
| [**Имдспдевице:: Жетсериалнумбер**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspdevice-getserialnumber)                                                                   | Необязательный элемент. Для защищенной передачи содержимого Windows Media диспетчер устройств использует **имдспсторажеглобалс:: жетсериалнумбер**.                                                                                                                              |
| [**Имдспдевице::/Status**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspdevice-getstatus)                                                                               | Mandatory.                                                                                                                                                                                                                                         |
| [**Имдспдевице:: GetType**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspdevice-gettype)                                                                                   | Mandatory.                                                                                                                                                                                                                                         |
| [**Имдспдевице::/версия**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspdevice-getversion)                                                                             | Необязательный элемент.                                                                                                                                                                                                                                          |
| [**Имдспдевице:: Сендопакуекомманд**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspdevice-sendopaquecommand)                                                               | Необязательный элемент.                                                                                                                                                                                                                                          |
| [**IMDSPDevice2:: Жетканоникалнаме**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspdevice2-getcanonicalname)                                                               | Необязательный элемент.                                                                                                                                                                                                                                          |
| [**IMDSPDevice2::GetFormatSupport2**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspdevice2-getformatsupport2)                                                             | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPDevice2:: ЖетспеЦифипропертипажес**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspdevice2-getspecifypropertypages)                                                 | Необязательный элемент.                                                                                                                                                                                                                                          |
| [**IMDSPDevice2:: в хранилище**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspdevice2-getstorage)                                                                           | Необязательный элемент.                                                                                                                                                                                                                                          |
| [**Интерфейс Имдспдевицеконтрол**](/windows/desktop/api/mswmdm/nn-mswmdm-imdspdevicecontrol)                                                                            | Необязательный элемент.                                                                                                                                                                                                                                          |
| [**Имдспенумдевице:: Clone**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspenumdevice-clone)                                                                               | Mandatory.                                                                                                                                                                                                                                         |
| [**Имдспенумдевице:: Next**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspenumdevice-next)                                                                                 | Mandatory.                                                                                                                                                                                                                                         |
| [**Имдспенумдевице:: Reset**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspenumdevice-reset)                                                                               | Mandatory.                                                                                                                                                                                                                                         |
| [**Имдспенумдевице:: Skip**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspenumdevice-skip)                                                                                 | Mandatory.                                                                                                                                                                                                                                         |
| [**Имдспенумстораже:: Clone**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspenumstorage-clone)                                                                             | Mandatory.                                                                                                                                                                                                                                         |
| [**Имдспенумстораже:: Next**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspenumstorage-next)                                                                               | Mandatory.                                                                                                                                                                                                                                         |
| [**Имдспенумстораже:: Reset**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspenumstorage-reset)                                                                             | Mandatory.                                                                                                                                                                                                                                         |
| [**Имдспенумстораже:: Skip**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspenumstorage-skip)                                                                               | Mandatory.                                                                                                                                                                                                                                         |
| [**Имдспобжект:: Close**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspobject-close)                                                                                       | Mandatory.                                                                                                                                                                                                                                         |
| [**Имдспобжект::D удалить**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspobject-delete)                                                                                     | Mandatory.                                                                                                                                                                                                                                         |
| [**Имдспобжект:: Move**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspobject-move)                                                                                         | Необязательный элемент.                                                                                                                                                                                                                                          |
| [**Имдспобжект:: Open**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspobject-open)                                                                                         | Mandatory.                                                                                                                                                                                                                                         |
| [**Имдспобжект:: Read**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspobject-read)                                                                                         | Обязательно (если требуется поддержка проигрывателя Windows Media).                                                                                                                                                                                            |
| [**Имдспобжект:: Rename**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspobject-rename)                                                                                     | Необязательный элемент.                                                                                                                                                                                                                                          |
| [**Имдспобжект:: Seek**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspobject-seek)                                                                                         | Необязательный элемент.                                                                                                                                                                                                                                          |
| [**Имдспобжект:: Write**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspobject-write)                                                                                       | Mandatory.                                                                                                                                                                                                                                         |
| [**Интерфейс Имдспобжектинфо**](/windows/desktop/api/mswmdm/nn-mswmdm-imdspobjectinfo)                                                                                  | Необязательный элемент.                                                                                                                                                                                                                                          |
| [**Интерфейс Имдспревокед**](/windows/desktop/api/mswmdm/nn-mswmdm-imdsprevoked)                                                                                        | Необязательный элемент.                                                                                                                                                                                                                                          |
| [**Имдспстораже:: Креатестораже**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorage-createstorage)                                                                     | Является обязательным только в том случае, если *дваттрибутес* является \_ \_ файлом атрибутов attr вмдм \_ .                                                                                                                                                                                        |
| [**Имдспстораже:: Енумстораже**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorage-enumstorage)                                                                         | Mandatory.                                                                                                                                                                                                                                         |
| [**Имдспстораже:: OutAttribute**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorage-getattributes)                                                                     | Mandatory.                                                                                                                                                                                                                                         |
| [**Имдспстораже:: GETDATE**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorage-getdate)                                                                                 | Mandatory.                                                                                                                                                                                                                                         |
| [**Имдспстораже:: Name**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorage-getname)                                                                                 | Mandatory.                                                                                                                                                                                                                                         |
| [**Имдспстораже:: направо**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorage-getrights)                                                                             | Необязательный элемент.                                                                                                                                                                                                                                          |
| [**Имдспстораже:: DataSize**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorage-getsize)                                                                                 | Mandatory.                                                                                                                                                                                                                                         |
| [**Имдспстораже:: Жетсторажеглобалс**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorage-getstorageglobals)                                                             | Mandatory.                                                                                                                                                                                                                                         |
| [**Имдспстораже:: Сендопакуекоммандс**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorage-sendopaquecommand)                                                           | Необязательный элемент.                                                                                                                                                                                                                                          |
| [**Имдспстораже:: Сетаттрибутес**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorage-setattributes)                                                                     | Необязательный элемент.                                                                                                                                                                                                                                          |
| [**IMDSPStorage2::CreateStorage2**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorage2-createstorage2)                                                                 | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPStorage2::GetAttributes2**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorage2-getattributes2)                                                                 | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPStorage2:: в хранилище**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorage2-getstorage)                                                                         | Необязательный элемент.                                                                                                                                                                                                                                          |
| [**IMDSPStorage2::SetAttributes2**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorage2-setattributes2)                                                                 | Необязательный элемент.                                                                                                                                                                                                                                          |
| [**Интерфейс IMDSPStorage3**](/windows/desktop/api/mswmdm/nn-mswmdm-imdspstorage3)                                                                                      | Необязательный элемент. Однако если параметр устройства *усеметадатавиевс* имеет значение 1, этот интерфейс должен быть реализован, а **IMDSPStorage3::-Metadata** — обязательным, хотя **IMDSPStorage3:: сетметадата** по-прежнему является необязательным.                    |
| [**Возможности Имдспсторажеглобалс:: Capabilities**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorageglobals-getcapabilities)                                                   | Mandatory.                                                                                                                                                                                                                                         |
| [**Имдспсторажеглобалс:: наустройство**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorageglobals-getdevice)                                                               | Mandatory.                                                                                                                                                                                                                                         |
| [**Имдспсторажеглобалс:: Жетрутстораже**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorageglobals-getrootstorage)                                                     | Mandatory.                                                                                                                                                                                                                                         |
| [**Имдспсторажеглобалс:: Жетсериалнумбер**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorageglobals-getserialnumber)                                                   | Обязательно только для ПДДРМ. Необязательно. в противном случае.                                                                                                                                                                                                      |
| [**Имдспсторажеглобалс::/Status**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorageglobals-getstatus)                                                               | Mandatory.                                                                                                                                                                                                                                         |
| [**Имдспсторажеглобалс:: Жеттоталбад**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorageglobals-gettotalbad)                                                           | Mandatory.                                                                                                                                                                                                                                         |
| [**Имдспсторажеглобалс:: Жеттоталфри**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorageglobals-gettotalfree)                                                         | Mandatory.                                                                                                                                                                                                                                         |
| [**Имдспсторажеглобалс:: GetTotalSize**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorageglobals-gettotalsize)                                                         | Mandatory.                                                                                                                                                                                                                                         |
| [**Имдспсторажеглобалс:: Initialize**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorageglobals-initialize)                                                             | Необязательный элемент. Этот метод должен быть реализован, если устройство поддерживает эту функцию. Если этот метод не реализован, **имдспсторажеглобалс:: жеткапабилитес** должен возвращать вмдм \_ сторажекап \_ не \_ инициализируемый метод в дополнение к любым другим флагам. |
| [**IMDSPDevice3**](/windows/desktop/api/mswmdm/nn-mswmdm-imdspdevice3)[**IMDSPObject2**](/windows/desktop/api/mswmdm/nn-mswmdm-imdspobject2)<br/> [**IMDSPStorage4**](/windows/desktop/api/mswmdm/nn-mswmdm-imdspstorage4)<br/> | Требуется для поддержки автоматической синхронизации с проигрывателем Windows Media                                                                                                                                                                            |



 

## <a name="related-topics"></a>См. также

<dl> <dt>

[**Создание поставщика услуг**](creating-a-service-provider.md)
</dt> </dl>

 

 





