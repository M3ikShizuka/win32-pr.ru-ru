---
title: требования к портативным проигрывателям, отображаемым в Windows Explorer
description: требования к портативным проигрывателям, отображаемым в Windows Explorer
ms.assetid: 94227ed8-56e7-4366-9c38-9b5dbf907e16
keywords:
- Windows Диспетчер устройств мультимедиа, портативные аудио проигрыватели
- Диспетчер устройств, Portable Audio Players
- Программное обеспеченное, Портативное аудио Player
- поставщики услуг, Portable Audio Players
- Создание поставщиков услуг, переносимые аудио проигрыватели
- портативные аудио проигрыватели
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 16d91e844f564ead03ddb78cf57c13c81a56bc8934bbfbde51c105b5c7e1e2f5
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119055582"
---
# <a name="requirements-for-portable-audio-players-to-appear-in-windows-explorer"></a>требования к портативным проигрывателям, отображаемым в Windows Explorer

расширение пространства имен для переносимого аудио плеера предоставляет Windows пользователям единообразный способ управления звуковыми устройствами, управляемыми Windows Media диспетчер устройств. Если вы разрабатываете компоненты поставщика услуг и драйверов в соответствии со следующими рекомендациями, устройство будет отображаться в пространстве имен оболочки. пользователи смогут согласованно взаимодействовать с содержимым устройства в Windows Explorer для выполнения основных операций, таких как копирование, удаление и переименование.

следующие требования к оболочке для поставщиков услуг и компонентов драйверов предназначены для дополнения общих Windows диспетчер устройств рекомендаций.

Возможности устройства

Windows Поставщики услуг мультимедиа диспетчер устройств должны быть явными в поддерживаемых ими возможностях. Если вызов не поддерживается, должен возвращаться код ошибки. Соответствующие поля должны быть установлены для присутствия или отсутствия возможностей, возвращаемых из следующих функций:

-   [**Возможности Имдспсторажеглобалс:: Capabilities**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorageglobals-getcapabilities)
-   [**Имдспстораже:: OutAttribute**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorage-getattributes)
-   [**Имдспдевице:: Жетформатсуппорт**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspdevice-getformatsupport)

Поставщики услуг должны поддерживать следующие возможности, совместимые с оболочкой:

-   Копирование на устройство (с поддержкой обратных вызовов Cancel и Progress)
-   Удаление файла с устройства (с поддержкой обратных вызовов Cancel и Progress)
-   Переименовать файл на устройстве
-   Отчет о пространстве (общий объем, свободное место, неиспользуемое пространство)
-   Самонастраивающийся (см. раздел [Включение PnP для устройств](enabling-pnp-for-devices.md))
-   Формат (желательно с поддержкой для обратных вызовов Cancel и Progress)

Если метаданные поддерживаются, для отдельных файлов должны поддерживаться следующие поля. Если данные недоступны, поле должно быть инициализировано как пустая строка:



| Поле        | Константа (определяется в ВМДМ. IDL) | Тег Metadata    |
|--------------|--------------------------------|-----------------|
| Название песни   | g \_ всзвмдмтитле                | ВМДМ/заголовок      |
| Номер записи | g \_ всзвмдмтракк                | ВМДМ/Track      |
| Исполнител       | g \_ всзвмдмаусор               | ВМДМ/автор     |
| Album        | g \_ всзвмдмалбумтитле           | ВМДМ/Албумтитле |
| Year;         | g \_ всзвмдмеар                 | ВМДМ в год       |
| Genre        | g \_ всзвмдмженре                | ВМДМ/жанр      |



 

Параллелизм

драйверы режима ядра для Windows мультимедиа диспетчер устройств должны быть надежными при обработке параллельного доступа. Например, пользователь может одновременно получить доступ к устройству через оболочку или проигрыватель мультимедиа или просто через несколько окон в оболочке. В рамках обработки параллелизма драйверы не должны считаться, только потому что поставщик услуг загружен, что устройство используется. Вместо этого они должны реализовать механизм блокировки для сериализации доступа к устройству по мере необходимости для отдельных операций.

Пользовательский интерфейс

поставщики услуг для Windows Media диспетчер устройств не должны отображать пользовательский интерфейс. все ошибки должны возвращаться из вызовов методов как определенные Windows носители диспетчер устройств коды ошибок, когда это возможно.

Включение в оболочке

Если пакет отвечает всем требованиям оболочки, можно включить отображение устройства в оболочке, задав для параметра *шовиншелл* значение 1 в параметрах устройства. Дополнительные сведения см. в разделе [Параметры устройства](device-parameters.md).

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[**Создание поставщика услуг**](creating-a-service-provider.md)
</dt> </dl>

 

 




