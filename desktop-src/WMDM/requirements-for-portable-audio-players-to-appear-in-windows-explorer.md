---
title: Требования к отображению портативных проигрывателей в проводнике Windows
description: Требования к отображению портативных проигрывателей в проводнике Windows
ms.assetid: 94227ed8-56e7-4366-9c38-9b5dbf907e16
keywords:
- Диспетчер устройств Windows Media, портативные аудио проигрыватели
- Диспетчер устройств, Portable Audio Players
- Программное обеспеченное, Портативное аудио Player
- поставщики услуг, Portable Audio Players
- Создание поставщиков услуг, переносимые аудио проигрыватели
- портативные аудио проигрыватели
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4a163bf04f4185bc1325aa12ea6acddd43191529
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "105691242"
---
# <a name="requirements-for-portable-audio-players-to-appear-in-windows-explorer"></a>Требования к отображению портативных проигрывателей в проводнике Windows

Расширение пространства имен для оболочки Portable Audio Player предоставляет пользователям Windows единообразный способ управления звуковыми устройствами, управляемыми диспетчер устройств Windows Media. Если вы разрабатываете компоненты поставщика услуг и драйверов в соответствии со следующими рекомендациями, устройство будет отображаться в пространстве имен оболочки. Пользователи смогут единообразно взаимодействовать с содержимым устройства в проводнике Windows для выполнения основных операций, таких как копирование, удаление и переименование.

Следующие требования к оболочке для поставщиков услуг и компонентов драйверов предназначены для дополнения общих руководств по диспетчер устройств Windows Media.

Возможности устройства

Поставщики услуг Windows Media диспетчер устройств должны быть явными в поддерживаемых ими возможностях. Если вызов не поддерживается, должен возвращаться код ошибки. Соответствующие поля должны быть установлены для присутствия или отсутствия возможностей, возвращаемых из следующих функций:

-   [**Возможности Имдспсторажеглобалс:: Capabilities**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorageglobals-getcapabilities)
-   [**Имдспстораже:: OutAttribute**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorage-getattributes)
-   [**Имдспдевице:: Жетформатсуппорт**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspdevice-getformatsupport)

Поставщики услуг должны поддерживать следующие возможности, совместимые с оболочкой:

-   Копирование на устройство (с поддержкой обратных вызовов Cancel и Progress)
-   Удаление файла с устройства (с поддержкой обратных вызовов Cancel и Progress)
-   Переименовать файл на устройстве
-   Отчет о пространстве (общий объем, свободное место, неиспользуемое пространство)
-   Самонастраивающийся (см. раздел [Включение PnP для устройств](enabling-pnp-for-devices.md))
-   Формат (желательно с поддержкой для обратных вызовов Cancel и Progress)

Если метаданные поддерживаются, для отдельных файлов должны поддерживаться следующие поля. Если данные недоступны, поле должно быть инициализировано как пустая строка:



| Поле        | Константа (определяется в ВМДМ. IDL) | Тег Metadata    |
|--------------|--------------------------------|-----------------|
| Название песни   | g \_ всзвмдмтитле                | ВМДМ/заголовок      |
| Номер записи | g \_ всзвмдмтракк                | ВМДМ/Track      |
| Исполнител       | g \_ всзвмдмаусор               | ВМДМ/автор     |
| Музыкальных        | g \_ всзвмдмалбумтитле           | ВМДМ/Албумтитле |
| Year;         | g \_ всзвмдмеар                 | ВМДМ в год       |
| Genre        | g \_ всзвмдмженре                | ВМДМ/жанр      |



 

Параллелизм

Драйверы режима ядра для Windows Media диспетчер устройств должны быть надежными при обработке параллельного доступа. Например, пользователь может одновременно получить доступ к устройству через оболочку или проигрыватель мультимедиа или просто через несколько окон в оболочке. В рамках обработки параллелизма драйверы не должны считаться, только потому что поставщик услуг загружен, что устройство используется. Вместо этого они должны реализовать механизм блокировки для сериализации доступа к устройству по мере необходимости для отдельных операций.

Пользовательский интерфейс

Поставщики услуг для диспетчер устройств Windows Media не должны отображать пользовательский интерфейс. Все ошибки должны возвращаться из вызовов методов в качестве конкретных кодов ошибок Windows Media диспетчер устройств всякий раз, когда это возможно.

Включение в оболочке

Если пакет отвечает всем требованиям оболочки, можно включить отображение устройства в оболочке, задав для параметра *шовиншелл* значение 1 в параметрах устройства. Дополнительные сведения см. в разделе [Параметры устройства](device-parameters.md).

## <a name="related-topics"></a>См. также

<dl> <dt>

[**Создание поставщика услуг**](creating-a-service-provider.md)
</dt> </dl>

 

 




