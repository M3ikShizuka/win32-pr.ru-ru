---
title: Создание приложения диспетчер устройств Windows Media
description: Создание приложения диспетчер устройств Windows Media
ms.assetid: 6a200bd9-19dd-4130-acb4-e038b469c334
keywords:
- Диспетчер устройств Windows Media, создание приложений
- Диспетчер устройств, создание приложений
- Диспетчер устройств Windows Media, программное руководством
- Диспетчер устройств, программное руководством
- Программное обеспечено, классические приложения
- инструкции по программированию, Windows Media диспетчер устройств
- инструкции по программированию, подключаемые модули
- инструкции по программированию, создание приложений
- Windows Media диспетчер устройств, классические приложения
- Диспетчер устройств, классические приложения
- Диспетчер устройств Windows Media, подключаемые модули
- Диспетчер устройств, Plug-инсп
- подключаемые модули, создание
- подключаемые модули, программное обеспеченное программирование
- Классические приложения, создание
- Создание приложений диспетчер устройств Windows Media, о
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1b50a2dfce057b993f84c0aca4c8f45796f67ba8
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "105691184"
---
# <a name="creating-a-windows-media-device-manager-application"></a>Создание приложения диспетчер устройств Windows Media

В этом разделе описывается использование диспетчер устройств Windows Media в приложении. Термин "приложение" здесь означает либо исполняемый файл, например проигрыватель мультимедиа, либо подключаемый модуль COM, например подключаемый модуль измерения.

Корпорация Майкрософт предоставляет несколько поставщиков услуг с Windows XP и проигрывателем Windows Media 10, включая поставщика услуг MTP, Windows CE поставщика услуг (для устройств под управлением Windows CE и с помощью протокола RAPI, такого как Pocket PC), и поставщика услуг для устройств категории запоминающих устройств (MSC). Вы также можете создать собственный поставщик услуг, чтобы обеспечить взаимодействие с вашим устройством. Дополнительные сведения см. [в разделе Создание поставщика услуг](creating-a-service-provider.md).

Существует несколько сторонних поставщиков услуг прежних версий, использующих устройство, отличное от MTP, не RAPI или не поддерживающее MSC. Эти поставщики услуг входят в состав диска драйверов, поставляемого вместе с этими устройствами.

Приложение, использующее диспетчер устройств Windows Media, должно выполнить следующие действия.

1.  **Учитывайте вопросы конфиденциальности, связанные с разработкой приложения.** Ознакомьтесь с заявлением [о конфиденциальности](privacy-statement.md) , чтобы узнать о некоторых проблемах с конфиденциальностью, связанных с разработкой приложения Диспетчер устройств Windows Media.
2.  **Включите необходимые файлы библиотек и заголовков для приложения.** Сведения о том, какие файлы необходимо включить в проект, см. в разделе [необходимые файлы библиотеки и заголовков приложения](required-library-and-header-files-for-an-application.md) .
3.  **Проверяйте подлинность приложения и получите корневой интерфейс Ивмдмдевице.** Первая задача, которую приложение должно выполнить для использования диспетчер устройств Windows Media, — это проверка подлинности. Этот процесс проверяет подлинность приложения на диспетчер устройств Windows Media, используя фиктивный сертификат для ограниченного функционирования Windows Media диспетчер устройств или используя официальный сертификат для полной функциональности. Дополнительные сведения см. [в разделе Проверка подлинности приложения](authenticating-the-application.md).
4.  **Перечисление подключенных устройств.** Первый шаг при взаимодействии с устройствами — узнать, какие устройства подключены и доступны для Windows Media диспетчер устройств. Дополнительные сведения см. в разделе [Перечисление устройств](enumerating-devices.md).
5.  **Проверьте состояние компонентов DRM устройства.** Для использования файлов, защищенных DRM, устройство должно быть создано на основе какой-либо версии Windows Media DRM для переносных устройств, а компоненты DRM должны быть актуальными. Прежде чем начать обработку файлов на устройстве, лучше узнать, поддерживает ли устройство файлы, защищенные DRM, а также необходимость обновления устройства. Дополнительные сведения см. [в разделе Обработка защищенного содержимого в приложении](handling-protected-content-in-the-application.md).
6.  **Изучите устройство.** После того как вы нашли нужное устройство, вы сможете просмотреть содержимое этого устройства. Дополнительные сведения см. [в разделе Просмотр устройства](exploring-a-device.md).
7.  **Чтение файлов с устройства и запись файлов на устройство.** После того как вы узнаете о макете устройства, вы можете начать передачу файлов на устройство и с него. Дополнительные сведения см. в разделе [чтение файлов с устройства](reading-files-from-the-device.md) и [запись файлов на устройство](writing-files-to-the-device.md).
8.  **Создание списков воспроизведения на устройстве.** Файлы одного типа, которые можно записать на устройство, — это абстрактный файл, который представляет собой коллекцию ссылок на другие файлы. Хотя возможность записи абстрактных файлов на устройство зависит от поставщика услуг и устройства, обычно эта возможность доступна только для устройств MTP. Дополнительные сведения см. в разделе [Создание списка воспроизведения на устройстве](creating-a-playlist-on-the-device.md).

В дополнение к этим действиям в приложении можно включить еще несколько функций:

-   **Уведомления.** Вы можете разрешить приложению получать уведомления, когда устройства подключаются к компьютеру или отключаются от него. Дополнительные сведения см. в разделе [Включение уведомлений](enabling-notifications.md).
-   **Подробности.** Диспетчер устройств Windows Media использует объект ведения журнала, который сохраняет запись своих действий в локальный текстовый файл. В этот журнал можно добавлять сообщения, помогающие анализировать ошибки или производительность приложения. Дополнительные сведения см. в разделе [Включение ведения журнала](enabling-logging.md).
-   **Использование содержимого измерения.** Вы можете получить статистику использования содержимого для лицензий, которые предоставляют это право. Затем эти статистические данные можно отправить на веб-сервер, чтобы вычислить прямые платежи владельцам содержимого. Дополнительные сведения см. в разделе [измерение использования содержимого](metering-content-usage.md).

**Обратите внимание на предупреждение**

Приложению может потребоваться работать с различными устройствами, в том числе некоторые из которых вы не разработали и никогда не тестировали код. Эти устройства могут не отвечать на запросы и команды или реализовывать MTP или другие спецификации. Не забудьте обеспечить надежную проверку ошибок и возможности резервного использования, чтобы работать с непредвиденными. Программа защищена.

## <a name="related-topics"></a>См. также

<dl> <dt>

[**Инструкции по программированию**](programming-guide.md)
</dt> </dl>

 

 




