---
description: Эта спецификация описывает структуру исполняемых файлов (образов) и объектных файлов в семействе операционных систем Windows. Эти файлы называются переносимыми исполняемыми (PE) и файловыми файлами формата COFF соответственно.
ms.assetid: 3dbfbf7f-6662-45a4-99f1-e0e24c370dee
title: Формат PE
ms.topic: article
ms.date: 08/11/2020
ms.custom: contperf-fy21q1
ms.openlocfilehash: 257185019f329e0d4431ca61d1d88e2c0347f133
ms.sourcegitcommit: f374b50b37160b683da16b59ac9340282a8f50a5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/04/2021
ms.locfileid: "103989878"
---
# <a name="pe-format"></a><span data-ttu-id="ffb41-104">Формат PE</span><span class="sxs-lookup"><span data-stu-id="ffb41-104">PE Format</span></span>

<span data-ttu-id="ffb41-105">Эта спецификация описывает структуру исполняемых файлов (образов) и объектных файлов в семействе операционных систем Windows.</span><span class="sxs-lookup"><span data-stu-id="ffb41-105">This specification describes the structure of executable (image) files and object files under the Windows family of operating systems.</span></span> <span data-ttu-id="ffb41-106">Эти файлы называются переносимыми исполняемыми (PE) и файловыми файлами формата COFF соответственно.</span><span class="sxs-lookup"><span data-stu-id="ffb41-106">These files are referred to as Portable Executable (PE) and Common Object File Format (COFF) files, respectively.</span></span>

> [!Note]  
> <span data-ttu-id="ffb41-107">Этот документ предназначен для помощи в разработке средств и приложений для Windows, но не обязательно должен быть полной спецификацией во всех отношениях.</span><span class="sxs-lookup"><span data-stu-id="ffb41-107">This document is provided to aid in the development of tools and applications for Windows but is not guaranteed to be a complete specification in all respects.</span></span> <span data-ttu-id="ffb41-108">Корпорация Майкрософт оставляет за собой право изменять этот документ без предварительного уведомления.</span><span class="sxs-lookup"><span data-stu-id="ffb41-108">Microsoft reserves the right to alter this document without notice.</span></span>

<span data-ttu-id="ffb41-109">Эта редакция спецификации переносимого исполняемого файла и формата общих объектных файлов заменяет все предыдущие редакции этой спецификации.</span><span class="sxs-lookup"><span data-stu-id="ffb41-109">This revision of the Microsoft Portable Executable and Common Object File Format Specification replaces all previous revisions of this specification.</span></span>

## <a name="general-concepts"></a><span data-ttu-id="ffb41-110">Общие понятия</span><span class="sxs-lookup"><span data-stu-id="ffb41-110">General Concepts</span></span>

<span data-ttu-id="ffb41-111">В этом документе указывается структура исполняемых файлов (образов) и файлов объектов в семействе операционных систем Microsoft Windows.</span><span class="sxs-lookup"><span data-stu-id="ffb41-111">This document specifies the structure of executable (image) files and object files under the Microsoft Windows family of operating systems.</span></span> <span data-ttu-id="ffb41-112">Эти файлы называются переносимыми исполняемыми (PE) и файловыми файлами формата COFF соответственно.</span><span class="sxs-lookup"><span data-stu-id="ffb41-112">These files are referred to as Portable Executable (PE) and Common Object File Format (COFF) files, respectively.</span></span> <span data-ttu-id="ffb41-113">Имя "переносимый исполняемый файл" означает тот факт, что формат не зависит от архитектуры.</span><span class="sxs-lookup"><span data-stu-id="ffb41-113">The name "Portable Executable" refers to the fact that the format is not architecture specific.</span></span>

<span data-ttu-id="ffb41-114">В следующей таблице описаны некоторые основные понятия, которые отображаются в этой спецификации.</span><span class="sxs-lookup"><span data-stu-id="ffb41-114">Certain concepts that appear throughout this specification are described in the following table:</span></span>

| <span data-ttu-id="ffb41-115">Имя</span><span class="sxs-lookup"><span data-stu-id="ffb41-115">Name</span></span>                              | <span data-ttu-id="ffb41-116">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-116">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|-----------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-117">сертификат атрибута</span><span class="sxs-lookup"><span data-stu-id="ffb41-117">attribute certificate</span></span> <br/> | <span data-ttu-id="ffb41-118">Сертификат, используемый для связи проверяемых инструкций с изображением.</span><span class="sxs-lookup"><span data-stu-id="ffb41-118">A certificate that is used to associate verifiable statements with an image.</span></span> <span data-ttu-id="ffb41-119">С файлом можно связать несколько различных проверяемых инструкций. одним из наиболее полезных является предложение от производителя программного обеспечения, которое указывает, что должен быть дайджест сообщения для этого образа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-119">A number of different verifiable statements can be associated with a file; one of the most useful ones is a statement by a software manufacturer that indicates what the message digest of the image is expected to be.</span></span> <span data-ttu-id="ffb41-120">Дайджест сообщения аналогичен контрольной сумме, за исключением того, что ее чрезвычайно трудно подделать.</span><span class="sxs-lookup"><span data-stu-id="ffb41-120">A message digest is similar to a checksum except that it is extremely difficult to forge.</span></span> <span data-ttu-id="ffb41-121">Поэтому очень сложно изменить файл так, чтобы он имел тот же дайджест сообщений, что и исходный файл.</span><span class="sxs-lookup"><span data-stu-id="ffb41-121">Therefore, it is very difficult to modify a file to have the same message digest as the original file.</span></span> <span data-ttu-id="ffb41-122">Эту инструкцию можно проверить с помощью схем шифрования с открытым или закрытым ключом.</span><span class="sxs-lookup"><span data-stu-id="ffb41-122">The statement can be verified as being made by the manufacturer by using public or private key cryptography schemes.</span></span> <span data-ttu-id="ffb41-123">В этом документе содержатся сведения о сертификатах атрибутов, не позволяющих их вставлять в файлы изображений.</span><span class="sxs-lookup"><span data-stu-id="ffb41-123">This document describes details about attribute certificates other than to allow for their insertion into image files.</span></span> <br/> |
| <span data-ttu-id="ffb41-124">Метка даты и времени</span><span class="sxs-lookup"><span data-stu-id="ffb41-124">date/time stamp</span></span> <br/>       | <span data-ttu-id="ffb41-125">Штамп, используемый для различных целей в нескольких местах в PE-файле или COFF.</span><span class="sxs-lookup"><span data-stu-id="ffb41-125">A stamp that is used for different purposes in several places in a PE or COFF file.</span></span> <span data-ttu-id="ffb41-126">В большинстве случаев формат каждой отметки совпадает со стилем, используемым функциями времени в библиотеке времени выполнения C.</span><span class="sxs-lookup"><span data-stu-id="ffb41-126">In most cases, the format of each stamp is the same as that used by the time functions in the C run-time library.</span></span> <span data-ttu-id="ffb41-127">Сведения об исключениях см. в описании параметра описание для \_ типа отладки образа \_ \_ Воспр в [типе отладки](#debug-type).</span><span class="sxs-lookup"><span data-stu-id="ffb41-127">For exceptions, see the descripton of IMAGE\_DEBUG\_TYPE\_REPRO in [Debug Type](#debug-type).</span></span> <span data-ttu-id="ffb41-128">Если значение метки равно 0 или 0xFFFFFFFF, оно не представляет действительную или значимую метку даты и времени.</span><span class="sxs-lookup"><span data-stu-id="ffb41-128">If the stamp value is 0 or 0xFFFFFFFF, it does not represent a real or meaningful date/time stamp.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="ffb41-129">указатель файла</span><span class="sxs-lookup"><span data-stu-id="ffb41-129">file pointer</span></span> <br/>          | <span data-ttu-id="ffb41-130">Расположение элемента в самом файле перед обработкой компоновщиком (в случае файловых файлов) или загрузчик (в случае файлов изображений).</span><span class="sxs-lookup"><span data-stu-id="ffb41-130">The location of an item within the file itself, before being processed by the linker (in the case of object files) or the loader (in the case of image files).</span></span> <span data-ttu-id="ffb41-131">Иными словами, это расположение в файле, хранящееся на диске.</span><span class="sxs-lookup"><span data-stu-id="ffb41-131">In other words, this is a position within the file as stored on disk.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="ffb41-132">компоновщик</span><span class="sxs-lookup"><span data-stu-id="ffb41-132">linker</span></span> <br/>                | <span data-ttu-id="ffb41-133">Ссылка на компоновщик, предоставляемый с Microsoft Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="ffb41-133">A reference to the linker that is provided with Microsoft Visual Studio.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="ffb41-134">объектный файл</span><span class="sxs-lookup"><span data-stu-id="ffb41-134">object file</span></span> <br/>           | <span data-ttu-id="ffb41-135">Файл, предоставленный в качестве входных данных компоновщику.</span><span class="sxs-lookup"><span data-stu-id="ffb41-135">A file that is given as input to the linker.</span></span> <span data-ttu-id="ffb41-136">Компоновщик создает файл изображения, который, в свою очередь, используется в качестве входных данных загрузчиком.</span><span class="sxs-lookup"><span data-stu-id="ffb41-136">The linker produces an image file, which in turn is used as input by the loader.</span></span> <span data-ttu-id="ffb41-137">Термин «объектный файл» не обязательно подразумевает любое подключение к объектно-ориентированному программированию.</span><span class="sxs-lookup"><span data-stu-id="ffb41-137">The term "object file" does not necessarily imply any connection to object-oriented programming.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="ffb41-138">зарезервировано, должно быть равно 0</span><span class="sxs-lookup"><span data-stu-id="ffb41-138">reserved, must be 0</span></span> <br/>   | <span data-ttu-id="ffb41-139">Описание поля, которое указывает, что значение поля должно быть нулевым для генераторов, и потребители должны игнорировать это поле.</span><span class="sxs-lookup"><span data-stu-id="ffb41-139">A description of a field that indicates that the value of the field must be zero for generators and consumers must ignore the field.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="ffb41-140">Относительный виртуальный адрес (RVA)</span><span class="sxs-lookup"><span data-stu-id="ffb41-140">Relative virtual address (RVA)</span></span> <br/>                   | <span data-ttu-id="ffb41-141">В файле изображения это адрес элемента после его загрузки в память с базовым адресом вычитаемого файла изображения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-141">In an image file, this is the address of an item after it is loaded into memory, with the base address of the image file subtracted from it.</span></span> <span data-ttu-id="ffb41-142">RVA элемента почти всегда отличается от его позиции в файле на диске (указатель на файл).</span><span class="sxs-lookup"><span data-stu-id="ffb41-142">The RVA of an item almost always differs from its position within the file on disk (file pointer).</span></span> <br/> <span data-ttu-id="ffb41-143">В объектном файле RVA является менее значимым, так как расположения в памяти не назначены.</span><span class="sxs-lookup"><span data-stu-id="ffb41-143">In an object file, an RVA is less meaningful because memory locations are not assigned.</span></span> <span data-ttu-id="ffb41-144">В этом случае RVA будет адресом в разделе (описан далее в этой таблице), к которому позже будет применяться перемещение при компоновке.</span><span class="sxs-lookup"><span data-stu-id="ffb41-144">In this case, an RVA would be an address within a section (described later in this table), to which a relocation is later applied during linking.</span></span> <span data-ttu-id="ffb41-145">Для простоты компилятор должен просто установить первый RVA в каждом разделе равным нулю.</span><span class="sxs-lookup"><span data-stu-id="ffb41-145">For simplicity, a compiler should just set the first RVA in each section to zero.</span></span> <br/>                                                                                                                                         |
| <span data-ttu-id="ffb41-146">section</span><span class="sxs-lookup"><span data-stu-id="ffb41-146">section</span></span> <br/>               | <span data-ttu-id="ffb41-147">Базовая единица кода или данных в PE-файле или COFF.</span><span class="sxs-lookup"><span data-stu-id="ffb41-147">The basic unit of code or data within a PE or COFF file.</span></span> <span data-ttu-id="ffb41-148">Например, весь код в объектном файле можно объединить в один раздел или (в зависимости от поведения компилятора) Каждая функция может занимать свой собственный раздел.</span><span class="sxs-lookup"><span data-stu-id="ffb41-148">For example, all code in an object file can be combined within a single section or (depending on compiler behavior) each function can occupy its own section.</span></span> <span data-ttu-id="ffb41-149">С дополнительными разделами накладные расходы на файл больше, но компоновщик может обеспечить более выборочную компоновку кода.</span><span class="sxs-lookup"><span data-stu-id="ffb41-149">With more sections, there is more file overhead, but the linker is able to link in code more selectively.</span></span> <span data-ttu-id="ffb41-150">Раздел похож на сегмент в архитектуре Intel 8086.</span><span class="sxs-lookup"><span data-stu-id="ffb41-150">A section is similar to a segment in Intel 8086 architecture.</span></span> <span data-ttu-id="ffb41-151">Все необработанные данные в разделе должны быть непрерывно загружены.</span><span class="sxs-lookup"><span data-stu-id="ffb41-151">All the raw data in a section must be loaded contiguously.</span></span> <span data-ttu-id="ffb41-152">Кроме того, файл изображения может содержать несколько разделов, таких как. TLS или. reloc, которые имеют особые цели.</span><span class="sxs-lookup"><span data-stu-id="ffb41-152">In addition, an image file can contain a number of sections, such as .tls or .reloc , which have special purposes.</span></span> <br/>                                                                                                                                                                      |
| <span data-ttu-id="ffb41-153">Виртуальный адрес (ва)</span><span class="sxs-lookup"><span data-stu-id="ffb41-153">Virtual Address (VA)</span></span> <br/>                    | <span data-ttu-id="ffb41-154">То же, что и RVA, за исключением того, что базовый адрес файла изображения не вычитается.</span><span class="sxs-lookup"><span data-stu-id="ffb41-154">Same as RVA, except that the base address of the image file is not subtracted.</span></span> <span data-ttu-id="ffb41-155">Адрес называется «ва», так как Windows создает отдельное пространство для каждого процесса, независимо от физической памяти.</span><span class="sxs-lookup"><span data-stu-id="ffb41-155">The address is called a VA because Windows creates a distinct VA space for each process, independent of physical memory.</span></span> <span data-ttu-id="ffb41-156">Для почти всех целей должен рассматриваться только адрес.</span><span class="sxs-lookup"><span data-stu-id="ffb41-156">For almost all purposes, a VA should be considered just an address.</span></span> <span data-ttu-id="ffb41-157">Значение по адресу не так предсказуемо, как RVA, поскольку загрузчик может не загрузить образ в предпочтительном расположении.</span><span class="sxs-lookup"><span data-stu-id="ffb41-157">A VA is not as predictable as an RVA because the loader might not load the image at its preferred location.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                        |

## <a name="overview"></a><span data-ttu-id="ffb41-158">Обзор</span><span class="sxs-lookup"><span data-stu-id="ffb41-158">Overview</span></span>

<span data-ttu-id="ffb41-159">В следующем списке описывается исполняемый формат Microsoft PE с базовым заголовком изображения вверху.</span><span class="sxs-lookup"><span data-stu-id="ffb41-159">The following list describes the Microsoft PE executable format, with the base of the image header at the top.</span></span> <span data-ttu-id="ffb41-160">Раздел из заголовка MS-DOS 2,0, совместимого с, в раздел "неиспользуемые" непосредственно перед заголовком PE является разделом MS-DOS 2,0 и используется только для совместимости с MS-DOS.</span><span class="sxs-lookup"><span data-stu-id="ffb41-160">The section from the MS-DOS 2.0 Compatible EXE Header through to the unused section just before the PE header is the MS-DOS 2.0 Section, and is used for MS-DOS compatibility only.</span></span>

-   <span data-ttu-id="ffb41-161">Заголовок EXE, совместимый с MS-DOS 2,0</span><span class="sxs-lookup"><span data-stu-id="ffb41-161">MS-DOS 2.0 Compatible EXE Header</span></span>
-   <span data-ttu-id="ffb41-162">unused</span><span class="sxs-lookup"><span data-stu-id="ffb41-162">unused</span></span>
-   <span data-ttu-id="ffb41-163">Идентификатор OEM</span><span class="sxs-lookup"><span data-stu-id="ffb41-163">OEM Identifier</span></span>

    <span data-ttu-id="ffb41-164">Сведения об изготовителе оборудования</span><span class="sxs-lookup"><span data-stu-id="ffb41-164">OEM Information</span></span>

    <span data-ttu-id="ffb41-165">Смещение к заголовку PE</span><span class="sxs-lookup"><span data-stu-id="ffb41-165">Offset to PE Header</span></span>

-   <span data-ttu-id="ffb41-166">Программа-заглушка MS-DOS 2,0 и таблица перемещения</span><span class="sxs-lookup"><span data-stu-id="ffb41-166">MS-DOS 2.0 Stub Program and Relocation Table</span></span>

-   <span data-ttu-id="ffb41-167">unused</span><span class="sxs-lookup"><span data-stu-id="ffb41-167">unused</span></span>

-   <span data-ttu-id="ffb41-168">Заголовок PE (по 8-байтовой границе)</span><span class="sxs-lookup"><span data-stu-id="ffb41-168">PE Header (aligned on 8-byte boundary)</span></span>

-   <span data-ttu-id="ffb41-169">Заголовки разделов</span><span class="sxs-lookup"><span data-stu-id="ffb41-169">Section Headers</span></span>
-   <span data-ttu-id="ffb41-170">Страницы изображений:</span><span class="sxs-lookup"><span data-stu-id="ffb41-170">Image Pages:</span></span>

    <span data-ttu-id="ffb41-171">сведения о импорте</span><span class="sxs-lookup"><span data-stu-id="ffb41-171">import info</span></span>

    <span data-ttu-id="ffb41-172">Экспорт сведений</span><span class="sxs-lookup"><span data-stu-id="ffb41-172">export info</span></span>

    <span data-ttu-id="ffb41-173">изменения в базовом расположении</span><span class="sxs-lookup"><span data-stu-id="ffb41-173">base relocations</span></span>

    <span data-ttu-id="ffb41-174">Информация о ресурсах</span><span class="sxs-lookup"><span data-stu-id="ffb41-174">resource info</span></span>

<span data-ttu-id="ffb41-175">В следующем списке приведено описание формата объектных модулей Microsoft COFF.</span><span class="sxs-lookup"><span data-stu-id="ffb41-175">The following list describes the Microsoft COFF object-module format:</span></span>

-   <span data-ttu-id="ffb41-176">Заголовок Microsoft COFF</span><span class="sxs-lookup"><span data-stu-id="ffb41-176">Microsoft COFF Header</span></span>
-   <span data-ttu-id="ffb41-177">Заголовки разделов</span><span class="sxs-lookup"><span data-stu-id="ffb41-177">Section Headers</span></span>
-   <span data-ttu-id="ffb41-178">Необработанные данные:</span><span class="sxs-lookup"><span data-stu-id="ffb41-178">Raw Data:</span></span>

    <span data-ttu-id="ffb41-179">code</span><span class="sxs-lookup"><span data-stu-id="ffb41-179">code</span></span>

    <span data-ttu-id="ffb41-180">.</span><span class="sxs-lookup"><span data-stu-id="ffb41-180">data</span></span>

    <span data-ttu-id="ffb41-181">отладочная информация</span><span class="sxs-lookup"><span data-stu-id="ffb41-181">debug info</span></span>

    <span data-ttu-id="ffb41-182">перемещения</span><span class="sxs-lookup"><span data-stu-id="ffb41-182">relocations</span></span>

## <a name="file-headers"></a><span data-ttu-id="ffb41-183">Заголовки файлов</span><span class="sxs-lookup"><span data-stu-id="ffb41-183">File Headers</span></span>

- [<span data-ttu-id="ffb41-184">Заглушка MS-DOS (только образ)</span><span class="sxs-lookup"><span data-stu-id="ffb41-184">MS-DOS Stub (Image Only)</span></span>](#ms-dos-stub-image-only)
- [<span data-ttu-id="ffb41-185">Подпись (только изображение)</span><span class="sxs-lookup"><span data-stu-id="ffb41-185">Signature (Image Only)</span></span>](#signature-image-only)
- [<span data-ttu-id="ffb41-186">Заголовок COFF-файла (объект и изображение)</span><span class="sxs-lookup"><span data-stu-id="ffb41-186">COFF File Header (Object and Image)</span></span>](#coff-file-header-object-and-image)
  - [<span data-ttu-id="ffb41-187">Типы компьютеров</span><span class="sxs-lookup"><span data-stu-id="ffb41-187">Machine Types</span></span>](#machine-types)
  - [<span data-ttu-id="ffb41-188">Характеристики</span><span class="sxs-lookup"><span data-stu-id="ffb41-188">Characteristics</span></span>](#characteristics)
- [<span data-ttu-id="ffb41-189">Необязательный заголовок (только изображение)</span><span class="sxs-lookup"><span data-stu-id="ffb41-189">Optional Header (Image Only)</span></span>](#optional-header-image-only)
  - [<span data-ttu-id="ffb41-190">Необязательные поля заголовка "Стандартный" (только изображение)</span><span class="sxs-lookup"><span data-stu-id="ffb41-190">Optional Header Standard Fields (Image Only)</span></span>](#optional-header-standard-fields-image-only)
  - [<span data-ttu-id="ffb41-191">Необязательные Windows-Specific поля заголовка (только изображение)</span><span class="sxs-lookup"><span data-stu-id="ffb41-191">Optional Header Windows-Specific Fields (Image Only)</span></span>](#optional-header-windows-specific-fields-image-only)
  - [<span data-ttu-id="ffb41-192">Необязательные каталоги данных заголовков (только изображение)</span><span class="sxs-lookup"><span data-stu-id="ffb41-192">Optional Header Data Directories (Image Only)</span></span>](#optional-header-data-directories-image-only)

<span data-ttu-id="ffb41-193">Заголовок PE-файла состоит из заглушки Microsoft MS-DOS, подписи PE, заголовка COFF-файла и необязательного заголовка.</span><span class="sxs-lookup"><span data-stu-id="ffb41-193">The PE file header consists of a Microsoft MS-DOS stub, the PE signature, the COFF file header, and an optional header.</span></span> <span data-ttu-id="ffb41-194">Заголовок объектного файла COFF состоит из заголовка COFF-файла и необязательного заголовка.</span><span class="sxs-lookup"><span data-stu-id="ffb41-194">A COFF object file header consists of a COFF file header and an optional header.</span></span> <span data-ttu-id="ffb41-195">В обоих случаях заголовки файлов следуют сразу после заголовков разделов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-195">In both cases, the file headers are followed immediately by section headers.</span></span>

### <a name="ms-dos-stub-image-only"></a><span data-ttu-id="ffb41-196">Заглушка MS-DOS (только образ)</span><span class="sxs-lookup"><span data-stu-id="ffb41-196">MS-DOS Stub (Image Only)</span></span>

<span data-ttu-id="ffb41-197">Заглушка MS-DOS — это допустимое приложение, работающее в среде MS-DOS.</span><span class="sxs-lookup"><span data-stu-id="ffb41-197">The MS-DOS stub is a valid application that runs under MS-DOS.</span></span> <span data-ttu-id="ffb41-198">Он помещается в начало образа EXE-файла.</span><span class="sxs-lookup"><span data-stu-id="ffb41-198">It is placed at the front of the EXE image.</span></span> <span data-ttu-id="ffb41-199">Компоновщик помещает в него заглушку по умолчанию, которая выводит сообщение «Эта программа не может быть запущена в режиме DOS», когда образ запускается в MS-DOS.</span><span class="sxs-lookup"><span data-stu-id="ffb41-199">The linker places a default stub here, which prints out the message "This program cannot be run in DOS mode" when the image is run in MS-DOS.</span></span> <span data-ttu-id="ffb41-200">Пользователь может указать другую заглушку с помощью параметра компоновщика/stub ПРИЛАГАЕТ.</span><span class="sxs-lookup"><span data-stu-id="ffb41-200">The user can specify a different stub by using the /STUB linker option.</span></span>

<span data-ttu-id="ffb41-201">В расположении 0x3C заглушка имеет смещение файла для подписи PE.</span><span class="sxs-lookup"><span data-stu-id="ffb41-201">At location 0x3c, the stub has the file offset to the PE signature.</span></span> <span data-ttu-id="ffb41-202">Эта информация позволяет Windows правильно выполнить файл образа, даже если у него есть заглушка MS-DOS.</span><span class="sxs-lookup"><span data-stu-id="ffb41-202">This information enables Windows to properly execute the image file, even though it has an MS-DOS stub.</span></span> <span data-ttu-id="ffb41-203">Это смещение файла помещается в расположение 0x3C во время компоновки.</span><span class="sxs-lookup"><span data-stu-id="ffb41-203">This file offset is placed at location 0x3c during linking.</span></span>

### <a name="signature-image-only"></a><span data-ttu-id="ffb41-204">Подпись (только изображение)</span><span class="sxs-lookup"><span data-stu-id="ffb41-204">Signature (Image Only)</span></span>

<span data-ttu-id="ffb41-205">После того, как заглушка MS-DOS в смещении файла, указанного по смещению 0x3C, представляет собой 4-байтовую сигнатуру, которая идентифицирует файл как файл изображения PE.</span><span class="sxs-lookup"><span data-stu-id="ffb41-205">After the MS-DOS stub, at the file offset specified at offset 0x3c, is a 4-byte signature that identifies the file as a PE format image file.</span></span> <span data-ttu-id="ffb41-206">Эта сигнатура — "PE \\ 0 \\ 0" (буквы "P" и "E", за которыми следуют два байта (null)).</span><span class="sxs-lookup"><span data-stu-id="ffb41-206">This signature is "PE\\0\\0" (the letters "P" and "E" followed by two null bytes).</span></span>

### <a name="coff-file-header-object-and-image"></a><span data-ttu-id="ffb41-207">Заголовок COFF-файла (объект и изображение)</span><span class="sxs-lookup"><span data-stu-id="ffb41-207">COFF File Header (Object and Image)</span></span>

<span data-ttu-id="ffb41-208">В начале объектного файла или непосредственно после подписи файла изображения является стандартным заголовком COFF-файла в следующем формате.</span><span class="sxs-lookup"><span data-stu-id="ffb41-208">At the beginning of an object file, or immediately after the signature of an image file, is a standard COFF file header in the following format.</span></span> <span data-ttu-id="ffb41-209">Обратите внимание, что загрузчик Windows ограничивает количество разделов до 96.</span><span class="sxs-lookup"><span data-stu-id="ffb41-209">Note that the Windows loader limits the number of sections to 96.</span></span>

| <span data-ttu-id="ffb41-210">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-210">Offset</span></span>         | <span data-ttu-id="ffb41-211">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-211">Size</span></span>          | <span data-ttu-id="ffb41-212">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-212">Field</span></span>                            | <span data-ttu-id="ffb41-213">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-213">Description</span></span>                                                                                                                                                                                                                                                          |
|----------------|---------------|----------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-214">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-214">0</span></span> <br/>  | <span data-ttu-id="ffb41-215">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-215">2</span></span> <br/> | <span data-ttu-id="ffb41-216">Компьютер</span><span class="sxs-lookup"><span data-stu-id="ffb41-216">Machine</span></span> <br/>              | <span data-ttu-id="ffb41-217">Число, идентифицирующее тип целевого компьютера.</span><span class="sxs-lookup"><span data-stu-id="ffb41-217">The number that identifies the type of target machine.</span></span> <span data-ttu-id="ffb41-218">Дополнительные сведения см. в разделе [типы компьютеров](#machine-types).</span><span class="sxs-lookup"><span data-stu-id="ffb41-218">For more information, see [Machine Types](#machine-types).</span></span> <br/>                                                                                                                                        |
| <span data-ttu-id="ffb41-219">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-219">2</span></span> <br/>  | <span data-ttu-id="ffb41-220">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-220">2</span></span> <br/> | <span data-ttu-id="ffb41-221">нумберофсектионс</span><span class="sxs-lookup"><span data-stu-id="ffb41-221">NumberOfSections</span></span> <br/>     | <span data-ttu-id="ffb41-222">Количество разделов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-222">The number of sections.</span></span> <span data-ttu-id="ffb41-223">Указывает размер таблицы разделов, которая сразу же следует за заголовками.</span><span class="sxs-lookup"><span data-stu-id="ffb41-223">This indicates the size of the section table, which immediately follows the headers.</span></span> <br/>                                                                                                                                             |
| <span data-ttu-id="ffb41-224">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-224">4</span></span> <br/>  | <span data-ttu-id="ffb41-225">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-225">4</span></span> <br/> | <span data-ttu-id="ffb41-226">тимедатестамп</span><span class="sxs-lookup"><span data-stu-id="ffb41-226">TimeDateStamp</span></span> <br/>        | <span data-ttu-id="ffb41-227">Младшие 32 бита количества секунд с 00:00 1 января 1970 (значение t времени выполнения C \_ ), которое указывает на момент создания файла.</span><span class="sxs-lookup"><span data-stu-id="ffb41-227">The low 32 bits of the number of seconds since 00:00 January 1, 1970 (a C run-time time\_t value), which indicates when the file was created.</span></span> <br/>                                                                                                             |
| <span data-ttu-id="ffb41-228">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-228">8</span></span> <br/>  | <span data-ttu-id="ffb41-229">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-229">4</span></span> <br/> | <span data-ttu-id="ffb41-230">поинтертосимболтабле</span><span class="sxs-lookup"><span data-stu-id="ffb41-230">PointerToSymbolTable</span></span> <br/> | <span data-ttu-id="ffb41-231">Смещение файла таблицы символов COFF или нуль, если таблица символов COFF отсутствует.</span><span class="sxs-lookup"><span data-stu-id="ffb41-231">The file offset of the COFF symbol table, or zero if no COFF symbol table is present.</span></span> <span data-ttu-id="ffb41-232">Для образа это значение должно быть равно нулю, так как отладочные данные COFF являются устаревшими.</span><span class="sxs-lookup"><span data-stu-id="ffb41-232">This value should be zero for an image because COFF debugging information is deprecated.</span></span> <br/>                                                                           |
| <span data-ttu-id="ffb41-233">12</span><span class="sxs-lookup"><span data-stu-id="ffb41-233">12</span></span> <br/> | <span data-ttu-id="ffb41-234">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-234">4</span></span> <br/> | <span data-ttu-id="ffb41-235">нумберофсимболс</span><span class="sxs-lookup"><span data-stu-id="ffb41-235">NumberOfSymbols</span></span> <br/>      | <span data-ttu-id="ffb41-236">Число записей в таблице символов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-236">The number of entries in the symbol table.</span></span> <span data-ttu-id="ffb41-237">Эти данные можно использовать для размещения таблицы строк, которая сразу же следует за таблицей символов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-237">This data can be used to locate the string table, which immediately follows the symbol table.</span></span> <span data-ttu-id="ffb41-238">Для образа это значение должно быть равно нулю, так как отладочные данные COFF являются устаревшими.</span><span class="sxs-lookup"><span data-stu-id="ffb41-238">This value should be zero for an image because COFF debugging information is deprecated.</span></span> <br/>                        |
| <span data-ttu-id="ffb41-239">16</span><span class="sxs-lookup"><span data-stu-id="ffb41-239">16</span></span> <br/> | <span data-ttu-id="ffb41-240">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-240">2</span></span> <br/> | <span data-ttu-id="ffb41-241">сизеофоптионалхеадер</span><span class="sxs-lookup"><span data-stu-id="ffb41-241">SizeOfOptionalHeader</span></span> <br/> | <span data-ttu-id="ffb41-242">Размер необязательного заголовка, который необходим для исполняемых файлов, но не для объектных файлов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-242">The size of the optional header, which is required for executable files but not for object files.</span></span> <span data-ttu-id="ffb41-243">Для объектного файла это значение должно быть равно нулю.</span><span class="sxs-lookup"><span data-stu-id="ffb41-243">This value should be zero for an object file.</span></span> <span data-ttu-id="ffb41-244">Описание формата заголовка см. в разделе [необязательный заголовок (только изображение)](#optional-header-image-only).</span><span class="sxs-lookup"><span data-stu-id="ffb41-244">For a description of the header format, see [Optional Header (Image Only)](#optional-header-image-only).</span></span> <br/> |
| <span data-ttu-id="ffb41-245">18</span><span class="sxs-lookup"><span data-stu-id="ffb41-245">18</span></span> <br/> | <span data-ttu-id="ffb41-246">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-246">2</span></span> <br/> | <span data-ttu-id="ffb41-247">Характеристики</span><span class="sxs-lookup"><span data-stu-id="ffb41-247">Characteristics</span></span> <br/>      | <span data-ttu-id="ffb41-248">Флаги, указывающие атрибуты файла.</span><span class="sxs-lookup"><span data-stu-id="ffb41-248">The flags that indicate the attributes of the file.</span></span> <span data-ttu-id="ffb41-249">Конкретные значения флагов см. в разделе [характеристики](#characteristics).</span><span class="sxs-lookup"><span data-stu-id="ffb41-249">For specific flag values, see [Characteristics](#characteristics).</span></span> <br/>                                                                                                                               |

#### <a name="machine-types"></a><span data-ttu-id="ffb41-250">Типы компьютеров</span><span class="sxs-lookup"><span data-stu-id="ffb41-250">Machine Types</span></span>

<span data-ttu-id="ffb41-251">Поле Machine имеет одно из следующих значений, которое указывает тип ЦП.</span><span class="sxs-lookup"><span data-stu-id="ffb41-251">The Machine field has one of the following values, which specify the CPU type.</span></span> <span data-ttu-id="ffb41-252">Файл изображения может быть запущен только на указанном компьютере или в системе, которая эмулирует указанный компьютер.</span><span class="sxs-lookup"><span data-stu-id="ffb41-252">An image file can be run only on the specified machine or on a system that emulates the specified machine.</span></span>

| <span data-ttu-id="ffb41-253">Константа</span><span class="sxs-lookup"><span data-stu-id="ffb41-253">Constant</span></span>                                    | <span data-ttu-id="ffb41-254">Значение</span><span class="sxs-lookup"><span data-stu-id="ffb41-254">Value</span></span>              | <span data-ttu-id="ffb41-255">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-255">Description</span></span>                                                                             |
|---------------------------------------------|--------------------|-----------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-256">\_неизвестный файл образа \_ компьютера \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-256">IMAGE\_FILE\_MACHINE\_UNKNOWN</span></span> <br/>   | <span data-ttu-id="ffb41-257">0x0</span><span class="sxs-lookup"><span data-stu-id="ffb41-257">0x0</span></span> <br/>    | <span data-ttu-id="ffb41-258">Предполагается, что содержимое этого поля применимо к любому типу компьютера</span><span class="sxs-lookup"><span data-stu-id="ffb41-258">The content of this field is assumed to be applicable to any machine type</span></span> <br/> |
| <span data-ttu-id="ffb41-259">\_AM33 файл образа \_ компьютера \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-259">IMAGE\_FILE\_MACHINE\_AM33</span></span> <br/>      | <span data-ttu-id="ffb41-260">0x1d3</span><span class="sxs-lookup"><span data-stu-id="ffb41-260">0x1d3</span></span> <br/>  | <span data-ttu-id="ffb41-261">Матсушита AM33</span><span class="sxs-lookup"><span data-stu-id="ffb41-261">Matsushita AM33</span></span> <br/>                                                             |
| <span data-ttu-id="ffb41-262">Файл образа на \_ \_ машине \_ AMD64</span><span class="sxs-lookup"><span data-stu-id="ffb41-262">IMAGE\_FILE\_MACHINE\_AMD64</span></span> <br/>     | <span data-ttu-id="ffb41-263">0x8664</span><span class="sxs-lookup"><span data-stu-id="ffb41-263">0x8664</span></span> <br/> | <span data-ttu-id="ffb41-264">X64</span><span class="sxs-lookup"><span data-stu-id="ffb41-264">x64</span></span> <br/>                                                                         |
| <span data-ttu-id="ffb41-265">\_ARM для файлового \_ компьютера образа \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-265">IMAGE\_FILE\_MACHINE\_ARM</span></span> <br/>       | <span data-ttu-id="ffb41-266">0x1c0</span><span class="sxs-lookup"><span data-stu-id="ffb41-266">0x1c0</span></span> <br/>  | <span data-ttu-id="ffb41-267">Прямой порядок байтов</span><span class="sxs-lookup"><span data-stu-id="ffb41-267">ARM little endian</span></span> <br/>                                                           |
| <span data-ttu-id="ffb41-268">\_ARM64 файл образа \_ компьютера \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-268">IMAGE\_FILE\_MACHINE\_ARM64</span></span> <br/>     | <span data-ttu-id="ffb41-269">0xaa64</span><span class="sxs-lookup"><span data-stu-id="ffb41-269">0xaa64</span></span> <br/> | <span data-ttu-id="ffb41-270">ARM64 с прямым порядком байтов</span><span class="sxs-lookup"><span data-stu-id="ffb41-270">ARM64 little endian</span></span> <br/>                                                         |
| <span data-ttu-id="ffb41-271">\_армнт файл образа \_ компьютера \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-271">IMAGE\_FILE\_MACHINE\_ARMNT</span></span> <br/>     | <span data-ttu-id="ffb41-272">0x1c4</span><span class="sxs-lookup"><span data-stu-id="ffb41-272">0x1c4</span></span> <br/>  | <span data-ttu-id="ffb41-273">Бегунок ARM-2 с прямым порядком байтов</span><span class="sxs-lookup"><span data-stu-id="ffb41-273">ARM Thumb-2 little endian</span></span> <br/>                                                   |
| <span data-ttu-id="ffb41-274">\_ебк файл образа \_ компьютера \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-274">IMAGE\_FILE\_MACHINE\_EBC</span></span> <br/>       | <span data-ttu-id="ffb41-275">0xebc</span><span class="sxs-lookup"><span data-stu-id="ffb41-275">0xebc</span></span> <br/>  | <span data-ttu-id="ffb41-276">Код байта EFI</span><span class="sxs-lookup"><span data-stu-id="ffb41-276">EFI byte code</span></span> <br/>                                                               |
| <span data-ttu-id="ffb41-277">\_Файл образа \_ Machine \_ i386</span><span class="sxs-lookup"><span data-stu-id="ffb41-277">IMAGE\_FILE\_MACHINE\_I386</span></span> <br/>      | <span data-ttu-id="ffb41-278">0x14c</span><span class="sxs-lookup"><span data-stu-id="ffb41-278">0x14c</span></span> <br/>  | <span data-ttu-id="ffb41-279">Процессоры Intel 386 или более поздней версии и совместимые процессоры</span><span class="sxs-lookup"><span data-stu-id="ffb41-279">Intel 386 or later processors and compatible processors</span></span> <br/>                     |
| <span data-ttu-id="ffb41-280">\_Файл образа \_ Machine \_ ia64</span><span class="sxs-lookup"><span data-stu-id="ffb41-280">IMAGE\_FILE\_MACHINE\_IA64</span></span> <br/>      | <span data-ttu-id="ffb41-281">0x200</span><span class="sxs-lookup"><span data-stu-id="ffb41-281">0x200</span></span> <br/>  | <span data-ttu-id="ffb41-282">Семейство процессоров Intel Itanium</span><span class="sxs-lookup"><span data-stu-id="ffb41-282">Intel Itanium processor family</span></span> <br/>                                              |
| <span data-ttu-id="ffb41-283">\_M32R файл образа \_ компьютера \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-283">IMAGE\_FILE\_MACHINE\_M32R</span></span> <br/>      | <span data-ttu-id="ffb41-284">0x9041</span><span class="sxs-lookup"><span data-stu-id="ffb41-284">0x9041</span></span> <br/> | <span data-ttu-id="ffb41-285">Mitsubishi M32R с прямым порядком байтов</span><span class="sxs-lookup"><span data-stu-id="ffb41-285">Mitsubishi M32R little endian</span></span> <br/>                                               |
| <span data-ttu-id="ffb41-286">\_MIPS16 файл образа \_ компьютера \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-286">IMAGE\_FILE\_MACHINE\_MIPS16</span></span> <br/>    | <span data-ttu-id="ffb41-287">0x266</span><span class="sxs-lookup"><span data-stu-id="ffb41-287">0x266</span></span> <br/>  | <span data-ttu-id="ffb41-288">MIPS16</span><span class="sxs-lookup"><span data-stu-id="ffb41-288">MIPS16</span></span> <br/>                                                                      |
| <span data-ttu-id="ffb41-289">\_мипсфпу файл образа \_ компьютера \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-289">IMAGE\_FILE\_MACHINE\_MIPSFPU</span></span> <br/>   | <span data-ttu-id="ffb41-290">0x366</span><span class="sxs-lookup"><span data-stu-id="ffb41-290">0x366</span></span> <br/>  | <span data-ttu-id="ffb41-291">MIPS с FPU</span><span class="sxs-lookup"><span data-stu-id="ffb41-291">MIPS with FPU</span></span> <br/>                                                               |
| <span data-ttu-id="ffb41-292">\_MIPSFPU16 файл образа \_ компьютера \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-292">IMAGE\_FILE\_MACHINE\_MIPSFPU16</span></span> <br/> | <span data-ttu-id="ffb41-293">0x466</span><span class="sxs-lookup"><span data-stu-id="ffb41-293">0x466</span></span> <br/>  | <span data-ttu-id="ffb41-294">MIPS16 с FPU</span><span class="sxs-lookup"><span data-stu-id="ffb41-294">MIPS16 with FPU</span></span> <br/>                                                             |
| <span data-ttu-id="ffb41-295">\_файл образа \_ машины \_ POWERPC</span><span class="sxs-lookup"><span data-stu-id="ffb41-295">IMAGE\_FILE\_MACHINE\_POWERPC</span></span> <br/>   | <span data-ttu-id="ffb41-296">0x1f0</span><span class="sxs-lookup"><span data-stu-id="ffb41-296">0x1f0</span></span> <br/>  | <span data-ttu-id="ffb41-297">Power PC с прямым порядком байтов</span><span class="sxs-lookup"><span data-stu-id="ffb41-297">Power PC little endian</span></span> <br/>                                                      |
| <span data-ttu-id="ffb41-298">\_поверпкфп файл образа \_ компьютера \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-298">IMAGE\_FILE\_MACHINE\_POWERPCFP</span></span> <br/> | <span data-ttu-id="ffb41-299">0x1f1</span><span class="sxs-lookup"><span data-stu-id="ffb41-299">0x1f1</span></span> <br/>  | <span data-ttu-id="ffb41-300">Power PC с поддержкой плавающих точек</span><span class="sxs-lookup"><span data-stu-id="ffb41-300">Power PC with floating point support</span></span> <br/>                                        |
| <span data-ttu-id="ffb41-301">\_R4000 файл образа \_ компьютера \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-301">IMAGE\_FILE\_MACHINE\_R4000</span></span> <br/>     | <span data-ttu-id="ffb41-302">0x166</span><span class="sxs-lookup"><span data-stu-id="ffb41-302">0x166</span></span> <br/>  | <span data-ttu-id="ffb41-303">MIPS с прямым порядком байтов</span><span class="sxs-lookup"><span data-stu-id="ffb41-303">MIPS little endian</span></span> <br/>                                                          |
| <span data-ttu-id="ffb41-304">\_RISCV32 файл образа \_ компьютера \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-304">IMAGE\_FILE\_MACHINE\_RISCV32</span></span> <br/>   | <span data-ttu-id="ffb41-305">0x5032</span><span class="sxs-lookup"><span data-stu-id="ffb41-305">0x5032</span></span> <br/> | <span data-ttu-id="ffb41-306">RISC-V 32-разрядное адресное пространство</span><span class="sxs-lookup"><span data-stu-id="ffb41-306">RISC-V 32-bit address space</span></span> <br/>                                                 |
| <span data-ttu-id="ffb41-307">\_RISCV64 файл образа \_ компьютера \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-307">IMAGE\_FILE\_MACHINE\_RISCV64</span></span> <br/>   | <span data-ttu-id="ffb41-308">0x5064</span><span class="sxs-lookup"><span data-stu-id="ffb41-308">0x5064</span></span> <br/> | <span data-ttu-id="ffb41-309">RISC-V 64-разрядное адресное пространство</span><span class="sxs-lookup"><span data-stu-id="ffb41-309">RISC-V 64-bit address space</span></span> <br/>                                                 |
| <span data-ttu-id="ffb41-310">\_RISCV128 файл образа \_ компьютера \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-310">IMAGE\_FILE\_MACHINE\_RISCV128</span></span> <br/>  | <span data-ttu-id="ffb41-311">0x5128</span><span class="sxs-lookup"><span data-stu-id="ffb41-311">0x5128</span></span> <br/> | <span data-ttu-id="ffb41-312">RISC-V 128-разрядное адресное пространство</span><span class="sxs-lookup"><span data-stu-id="ffb41-312">RISC-V 128-bit address space</span></span> <br/>                                                |
| <span data-ttu-id="ffb41-313">\_SH3 файл образа \_ компьютера \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-313">IMAGE\_FILE\_MACHINE\_SH3</span></span> <br/>       | <span data-ttu-id="ffb41-314">0x1a2</span><span class="sxs-lookup"><span data-stu-id="ffb41-314">0x1a2</span></span> <br/>  | <span data-ttu-id="ffb41-315">Hitachi SH3</span><span class="sxs-lookup"><span data-stu-id="ffb41-315">Hitachi SH3</span></span> <br/>                                                                 |
| <span data-ttu-id="ffb41-316">\_SH3DSP файл образа \_ компьютера \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-316">IMAGE\_FILE\_MACHINE\_SH3DSP</span></span> <br/>    | <span data-ttu-id="ffb41-317">0x1a3</span><span class="sxs-lookup"><span data-stu-id="ffb41-317">0x1a3</span></span> <br/>  | <span data-ttu-id="ffb41-318">Hitachi SH3 DSP</span><span class="sxs-lookup"><span data-stu-id="ffb41-318">Hitachi SH3 DSP</span></span> <br/>                                                             |
| <span data-ttu-id="ffb41-319">\_SH4 файл образа \_ компьютера \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-319">IMAGE\_FILE\_MACHINE\_SH4</span></span> <br/>       | <span data-ttu-id="ffb41-320">0x1a6</span><span class="sxs-lookup"><span data-stu-id="ffb41-320">0x1a6</span></span> <br/>  | <span data-ttu-id="ffb41-321">Hitachi SH4</span><span class="sxs-lookup"><span data-stu-id="ffb41-321">Hitachi SH4</span></span> <br/>                                                                 |
| <span data-ttu-id="ffb41-322">\_SH5 файл образа \_ компьютера \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-322">IMAGE\_FILE\_MACHINE\_SH5</span></span> <br/>       | <span data-ttu-id="ffb41-323">0x1a8</span><span class="sxs-lookup"><span data-stu-id="ffb41-323">0x1a8</span></span> <br/>  | <span data-ttu-id="ffb41-324">Hitachi SH5</span><span class="sxs-lookup"><span data-stu-id="ffb41-324">Hitachi SH5</span></span> <br/>                                                                 |
| <span data-ttu-id="ffb41-325">\_ \_ бегунок файл образа компьютера \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-325">IMAGE\_FILE\_MACHINE\_THUMB</span></span> <br/>     | <span data-ttu-id="ffb41-326">0x1c2</span><span class="sxs-lookup"><span data-stu-id="ffb41-326">0x1c2</span></span> <br/>  | <span data-ttu-id="ffb41-327">Бегунок</span><span class="sxs-lookup"><span data-stu-id="ffb41-327">Thumb</span></span> <br/>                                                                       |
| <span data-ttu-id="ffb41-328">\_WCEMIPSV2 файл образа \_ компьютера \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-328">IMAGE\_FILE\_MACHINE\_WCEMIPSV2</span></span> <br/> | <span data-ttu-id="ffb41-329">0x169</span><span class="sxs-lookup"><span data-stu-id="ffb41-329">0x169</span></span> <br/>  | <span data-ttu-id="ffb41-330">MIPS с прямым порядком байтов ВЦЕ v2</span><span class="sxs-lookup"><span data-stu-id="ffb41-330">MIPS little-endian WCE v2</span></span> <br/>                                                   |

#### <a name="characteristics"></a><span data-ttu-id="ffb41-331">Характеристики</span><span class="sxs-lookup"><span data-stu-id="ffb41-331">Characteristics</span></span>

<span data-ttu-id="ffb41-332">Поле характеристики содержит флаги, указывающие атрибуты объекта или файла изображения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-332">The Characteristics field contains flags that indicate attributes of the object or image file.</span></span> <span data-ttu-id="ffb41-333">В настоящее время определены следующие флаги:</span><span class="sxs-lookup"><span data-stu-id="ffb41-333">The following flags are currently defined:</span></span>

| <span data-ttu-id="ffb41-334">Флаг</span><span class="sxs-lookup"><span data-stu-id="ffb41-334">Flag</span></span>                                                 | <span data-ttu-id="ffb41-335">Значение</span><span class="sxs-lookup"><span data-stu-id="ffb41-335">Value</span></span>              | <span data-ttu-id="ffb41-336">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-336">Description</span></span>                                                                                                                                                                                                                                                                                                                                                        |
|------------------------------------------------------|--------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-337">\_неочищенный файл изображения \_ reloc \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-337">IMAGE\_FILE\_RELOCS\_STRIPPED</span></span> <br/>            | <span data-ttu-id="ffb41-338">0x0001</span><span class="sxs-lookup"><span data-stu-id="ffb41-338">0x0001</span></span> <br/> | <span data-ttu-id="ffb41-339">Только образ, Windows CE и Microsoft Windows NT и более поздние версии.</span><span class="sxs-lookup"><span data-stu-id="ffb41-339">Image only, Windows CE, and Microsoft Windows NT and later.</span></span> <span data-ttu-id="ffb41-340">Это означает, что файл не содержит базовых перемещений и поэтому должен быть загружен по предпочтительному базовому адресу.</span><span class="sxs-lookup"><span data-stu-id="ffb41-340">This indicates that the file does not contain base relocations and must therefore be loaded at its preferred base address.</span></span> <span data-ttu-id="ffb41-341">Если базовый адрес недоступен, загрузчик сообщает об ошибке.</span><span class="sxs-lookup"><span data-stu-id="ffb41-341">If the base address is not available, the loader reports an error.</span></span> <span data-ttu-id="ffb41-342">Поведение компоновщика по умолчанию заключается в том, чтобы удалить базовые перемещения из исполняемых файлов (EXE).</span><span class="sxs-lookup"><span data-stu-id="ffb41-342">The default behavior of the linker is to strip base relocations from executable (EXE) files.</span></span> <br/> |
| <span data-ttu-id="ffb41-343">\_ \_ образ исполняемого файла образа \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-343">IMAGE\_FILE\_EXECUTABLE\_IMAGE</span></span> <br/>           | <span data-ttu-id="ffb41-344">0x0002</span><span class="sxs-lookup"><span data-stu-id="ffb41-344">0x0002</span></span> <br/> | <span data-ttu-id="ffb41-345">Только изображение.</span><span class="sxs-lookup"><span data-stu-id="ffb41-345">Image only.</span></span> <span data-ttu-id="ffb41-346">Это означает, что файл изображения является допустимым и может быть запущен.</span><span class="sxs-lookup"><span data-stu-id="ffb41-346">This indicates that the image file is valid and can be run.</span></span> <span data-ttu-id="ffb41-347">Если этот флаг не установлен, он указывает на ошибку компоновщика.</span><span class="sxs-lookup"><span data-stu-id="ffb41-347">If this flag is not set, it indicates a linker error.</span></span> <br/>                                                                                                                                                                                                                          |
| <span data-ttu-id="ffb41-348">\_строка файла \_ изображения \_ NUMS \_ опущена</span><span class="sxs-lookup"><span data-stu-id="ffb41-348">IMAGE\_FILE\_LINE\_NUMS\_STRIPPED</span></span> <br/>        | <span data-ttu-id="ffb41-349">0x0004</span><span class="sxs-lookup"><span data-stu-id="ffb41-349">0x0004</span></span> <br/> | <span data-ttu-id="ffb41-350">Номера строк COFF удалены.</span><span class="sxs-lookup"><span data-stu-id="ffb41-350">COFF line numbers have been removed.</span></span> <span data-ttu-id="ffb41-351">Этот флаг является устаревшим и должен быть равен нулю.</span><span class="sxs-lookup"><span data-stu-id="ffb41-351">This flag is deprecated and should be zero.</span></span> <br/>                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="ffb41-352">удален \_ \_ локальный \_ Симс файла \_ образа</span><span class="sxs-lookup"><span data-stu-id="ffb41-352">IMAGE\_FILE\_LOCAL\_SYMS\_STRIPPED</span></span> <br/>       | <span data-ttu-id="ffb41-353">0x0008</span><span class="sxs-lookup"><span data-stu-id="ffb41-353">0x0008</span></span> <br/> | <span data-ttu-id="ffb41-354">Записи таблицы символов COFF для локальных символов были удалены.</span><span class="sxs-lookup"><span data-stu-id="ffb41-354">COFF symbol table entries for local symbols have been removed.</span></span> <span data-ttu-id="ffb41-355">Этот флаг является устаревшим и должен быть равен нулю.</span><span class="sxs-lookup"><span data-stu-id="ffb41-355">This flag is deprecated and should be zero.</span></span> <br/>                                                                                                                                                                                                                                             |
| <span data-ttu-id="ffb41-356">\_файл образа \_ интенсивная \_ \_ Обрезка WS</span><span class="sxs-lookup"><span data-stu-id="ffb41-356">IMAGE\_FILE\_AGGRESSIVE\_WS\_TRIM</span></span> <br/>        | <span data-ttu-id="ffb41-357">0x0010</span><span class="sxs-lookup"><span data-stu-id="ffb41-357">0x0010</span></span> <br/> | <span data-ttu-id="ffb41-358">Является устаревшей.</span><span class="sxs-lookup"><span data-stu-id="ffb41-358">Obsolete.</span></span> <span data-ttu-id="ffb41-359">Агрессивно обрезать рабочий набор.</span><span class="sxs-lookup"><span data-stu-id="ffb41-359">Aggressively trim working set.</span></span> <span data-ttu-id="ffb41-360">Этот флаг является устаревшим для Windows 2000 и более поздних версий и должен быть равен нулю.</span><span class="sxs-lookup"><span data-stu-id="ffb41-360">This flag is deprecated for Windows 2000 and later and must be zero.</span></span> <br/>                                                                                                                                                                                                                                          |
| <span data-ttu-id="ffb41-361">\_файл изображения \_ с \_ поддержкой большого адреса \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-361">IMAGE\_FILE\_LARGE\_ADDRESS\_ AWARE</span></span> <br/>      | <span data-ttu-id="ffb41-362">0x0020</span><span class="sxs-lookup"><span data-stu-id="ffb41-362">0x0020</span></span> <br/> | <span data-ttu-id="ffb41-363">Приложение может работать с адресами > 2 ГБ.</span><span class="sxs-lookup"><span data-stu-id="ffb41-363">Application can handle > 2-GB addresses.</span></span> <br/>                                                                                                                                                                                                                                                                                                            |
|                                                      | <span data-ttu-id="ffb41-364">0x0040</span><span class="sxs-lookup"><span data-stu-id="ffb41-364">0x0040</span></span> <br/> | <span data-ttu-id="ffb41-365">Этот флаг зарезервирован для использования в будущем.</span><span class="sxs-lookup"><span data-stu-id="ffb41-365">This flag is reserved for future use.</span></span> <br/>                                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="ffb41-366">\_ \_ обратный байт файла \_ образа \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-366">IMAGE\_FILE\_BYTES\_REVERSED\_LO</span></span> <br/>         | <span data-ttu-id="ffb41-367">0x0080</span><span class="sxs-lookup"><span data-stu-id="ffb41-367">0x0080</span></span> <br/> | <span data-ttu-id="ffb41-368">Прямой порядок байтов: наименее важный бит (ЛСБ) предшествует наиболее значимому биту в памяти.</span><span class="sxs-lookup"><span data-stu-id="ffb41-368">Little endian: the least significant bit (LSB) precedes the most significant bit (MSB) in memory.</span></span> <span data-ttu-id="ffb41-369">Этот флаг является устаревшим и должен быть равен нулю.</span><span class="sxs-lookup"><span data-stu-id="ffb41-369">This flag is deprecated and should be zero.</span></span> <br/>                                                                                                                                                                                                          |
| <span data-ttu-id="ffb41-370">Файл образа — \_ \_ 32-разрядный \_ компьютер</span><span class="sxs-lookup"><span data-stu-id="ffb41-370">IMAGE\_FILE\_32BIT\_MACHINE</span></span> <br/>              | <span data-ttu-id="ffb41-371">0x0100</span><span class="sxs-lookup"><span data-stu-id="ffb41-371">0x0100</span></span> <br/> | <span data-ttu-id="ffb41-372">Компьютер основан на архитектуре с 32-разрядным словом.</span><span class="sxs-lookup"><span data-stu-id="ffb41-372">Machine is based on a 32-bit-word architecture.</span></span> <br/>                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="ffb41-373">\_Отладка файла изображения не \_ \_ обрезается</span><span class="sxs-lookup"><span data-stu-id="ffb41-373">IMAGE\_FILE\_DEBUG\_STRIPPED</span></span> <br/>             | <span data-ttu-id="ffb41-374">0x0200</span><span class="sxs-lookup"><span data-stu-id="ffb41-374">0x0200</span></span> <br/> | <span data-ttu-id="ffb41-375">Отладочная информация удаляется из файла образа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-375">Debugging information is removed from the image file.</span></span> <br/>                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="ffb41-376">\_файл образа \_ с съемным \_ запуском \_ из \_ переключения</span><span class="sxs-lookup"><span data-stu-id="ffb41-376">IMAGE\_FILE\_REMOVABLE\_RUN\_ FROM\_SWAP</span></span> <br/> | <span data-ttu-id="ffb41-377">0x0400</span><span class="sxs-lookup"><span data-stu-id="ffb41-377">0x0400</span></span> <br/> | <span data-ttu-id="ffb41-378">Если образ находится на съемном носителе, необходимо полностью загрузить его и скопировать в файл подкачки.</span><span class="sxs-lookup"><span data-stu-id="ffb41-378">If the image is on removable media, fully load it and copy it to the swap file.</span></span> <br/>                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="ffb41-379">\_файл образа \_ net \_ Run \_ из \_ Swap</span><span class="sxs-lookup"><span data-stu-id="ffb41-379">IMAGE\_FILE\_NET\_RUN\_FROM\_SWAP</span></span> <br/>        | <span data-ttu-id="ffb41-380">0x0800</span><span class="sxs-lookup"><span data-stu-id="ffb41-380">0x0800</span></span> <br/> | <span data-ttu-id="ffb41-381">Если образ находится на сетевых носителях, необходимо полностью загрузить его и скопировать в файл подкачки.</span><span class="sxs-lookup"><span data-stu-id="ffb41-381">If the image is on network media, fully load it and copy it to the swap file.</span></span> <br/>                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="ffb41-382">\_Файловая \_ система образа</span><span class="sxs-lookup"><span data-stu-id="ffb41-382">IMAGE\_FILE\_SYSTEM</span></span> <br/>                      | <span data-ttu-id="ffb41-383">0x1000</span><span class="sxs-lookup"><span data-stu-id="ffb41-383">0x1000</span></span> <br/> | <span data-ttu-id="ffb41-384">Файл образа является системным файлом, а не пользовательской программой.</span><span class="sxs-lookup"><span data-stu-id="ffb41-384">The image file is a system file, not a user program.</span></span> <br/>                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="ffb41-385">\_Библиотека файлов \_ изображений</span><span class="sxs-lookup"><span data-stu-id="ffb41-385">IMAGE\_FILE\_DLL</span></span> <br/>                         | <span data-ttu-id="ffb41-386">0x2000</span><span class="sxs-lookup"><span data-stu-id="ffb41-386">0x2000</span></span> <br/> | <span data-ttu-id="ffb41-387">Файл изображения является библиотекой динамической компоновки (DLL).</span><span class="sxs-lookup"><span data-stu-id="ffb41-387">The image file is a dynamic-link library (DLL).</span></span> <span data-ttu-id="ffb41-388">Такие файлы считаются исполняемыми файлами почти во всех целях, хотя они не могут быть запущены напрямую.</span><span class="sxs-lookup"><span data-stu-id="ffb41-388">Such files are considered executable files for almost all purposes, although they cannot be directly run.</span></span> <br/>                                                                                                                                                                                              |
| <span data-ttu-id="ffb41-389">\_файл образа \_ — \_ \_ только система</span><span class="sxs-lookup"><span data-stu-id="ffb41-389">IMAGE\_FILE\_UP\_SYSTEM\_ONLY</span></span> <br/>            | <span data-ttu-id="ffb41-390">0x4000</span><span class="sxs-lookup"><span data-stu-id="ffb41-390">0x4000</span></span> <br/> | <span data-ttu-id="ffb41-391">Файл должен выполняться только на однопроцессорном компьютере.</span><span class="sxs-lookup"><span data-stu-id="ffb41-391">The file should be run only on a uniprocessor machine.</span></span> <br/>                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="ffb41-392">\_обращений к файлу образа ( \_ байт) \_ \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-392">IMAGE\_FILE\_BYTES\_REVERSED\_HI</span></span> <br/>         | <span data-ttu-id="ffb41-393">0x8000</span><span class="sxs-lookup"><span data-stu-id="ffb41-393">0x8000</span></span> <br/> | <span data-ttu-id="ffb41-394">Обратный порядок байтов. перед ЛСБ в памяти находится перед ним.</span><span class="sxs-lookup"><span data-stu-id="ffb41-394">Big endian: the MSB precedes the LSB in memory.</span></span> <span data-ttu-id="ffb41-395">Этот флаг является устаревшим и должен быть равен нулю.</span><span class="sxs-lookup"><span data-stu-id="ffb41-395">This flag is deprecated and should be zero.</span></span> <br/>                                                                                                                                                                                                                                                            |

### <a name="optional-header-image-only"></a><span data-ttu-id="ffb41-396">Необязательный заголовок (только изображение)</span><span class="sxs-lookup"><span data-stu-id="ffb41-396">Optional Header (Image Only)</span></span>

<span data-ttu-id="ffb41-397">Каждый файл изображения имеет необязательный заголовок, предоставляющий сведения загрузчику.</span><span class="sxs-lookup"><span data-stu-id="ffb41-397">Every image file has an optional header that provides information to the loader.</span></span> <span data-ttu-id="ffb41-398">Этот заголовок необязателен в том смысле, что некоторые файлы (в частности, объектные файлы) их не имеют.</span><span class="sxs-lookup"><span data-stu-id="ffb41-398">This header is optional in the sense that some files (specifically, object files) do not have it.</span></span> <span data-ttu-id="ffb41-399">Для файлов изображений этот заголовок является обязательным.</span><span class="sxs-lookup"><span data-stu-id="ffb41-399">For image files, this header is required.</span></span> <span data-ttu-id="ffb41-400">Объектный файл может иметь необязательный заголовок, но обычно этот заголовок не имеет функции в объектном файле, за исключением увеличения его размера.</span><span class="sxs-lookup"><span data-stu-id="ffb41-400">An object file can have an optional header, but generally this header has no function in an object file except to increase its size.</span></span>

<span data-ttu-id="ffb41-401">Обратите внимание, что размер необязательного заголовка не фиксирован.</span><span class="sxs-lookup"><span data-stu-id="ffb41-401">Note that the size of the optional header is not fixed.</span></span> <span data-ttu-id="ffb41-402">Поле **сизеофоптионалхеадер** в заголовке COFF должно использоваться для проверки того, что зонд в файле для конкретного каталога данных не выходит за пределы **сизеофоптионалхеадер**.</span><span class="sxs-lookup"><span data-stu-id="ffb41-402">The **SizeOfOptionalHeader** field in the COFF header must be used to validate that a probe into the file for a particular data directory does not go beyond **SizeOfOptionalHeader**.</span></span> <span data-ttu-id="ffb41-403">Дополнительные сведения см. в статье [заголовок файла COFF (объект и изображение)](#coff-file-header-object-and-image).</span><span class="sxs-lookup"><span data-stu-id="ffb41-403">For more information, see [COFF File Header (Object and Image)](#coff-file-header-object-and-image).</span></span>

<span data-ttu-id="ffb41-404">Поле **нумберофрваандсизес** необязательного заголовка также должно использоваться, чтобы не доставлять зонда конкретной записи каталога данных за пределы дополнительного заголовка.</span><span class="sxs-lookup"><span data-stu-id="ffb41-404">The **NumberOfRvaAndSizes** field of the optional header should also be used to ensure that no probe for a particular data directory entry goes beyond the optional header.</span></span> <span data-ttu-id="ffb41-405">Кроме того, важно проверить необязательное магическое число заголовка для совместимости формата.</span><span class="sxs-lookup"><span data-stu-id="ffb41-405">In addition, it is important to validate the optional header magic number for format compatibility.</span></span>

<span data-ttu-id="ffb41-406">Необязательное магическое число заголовка определяет, является ли изображение исполняемым файлом формат PE32 или формат PE32 +.</span><span class="sxs-lookup"><span data-stu-id="ffb41-406">The optional header magic number determines whether an image is a PE32 or PE32+ executable.</span></span>

| <span data-ttu-id="ffb41-407">Магическое число</span><span class="sxs-lookup"><span data-stu-id="ffb41-407">Magic number</span></span>      | <span data-ttu-id="ffb41-408">Формат PE</span><span class="sxs-lookup"><span data-stu-id="ffb41-408">PE format</span></span>         |
|-------------------|-------------------|
| <span data-ttu-id="ffb41-409">0x10b</span><span class="sxs-lookup"><span data-stu-id="ffb41-409">0x10b</span></span> <br/> | <span data-ttu-id="ffb41-410">ФОРМАТ PE32</span><span class="sxs-lookup"><span data-stu-id="ffb41-410">PE32</span></span> <br/>  |
| <span data-ttu-id="ffb41-411">0x20b</span><span class="sxs-lookup"><span data-stu-id="ffb41-411">0x20b</span></span> <br/> | <span data-ttu-id="ffb41-412">ФОРМАТ PE32 +</span><span class="sxs-lookup"><span data-stu-id="ffb41-412">PE32+</span></span> <br/> |

<span data-ttu-id="ffb41-413">ФОРМАТ PE32 + Images позволяет использовать 64-битное пространство адресов, ограничивая размер образа 2 гигабайтами.</span><span class="sxs-lookup"><span data-stu-id="ffb41-413">PE32+ images allow for a 64-bit address space while limiting the image size to 2 gigabytes.</span></span> <span data-ttu-id="ffb41-414">Другие формат PE32 и изменения рассматриваются в соответствующих разделах.</span><span class="sxs-lookup"><span data-stu-id="ffb41-414">Other PE32+ modifications are addressed in their respective sections.</span></span>

<span data-ttu-id="ffb41-415">Необязательный заголовок состоит из трех основных частей.</span><span class="sxs-lookup"><span data-stu-id="ffb41-415">The optional header itself has three major parts.</span></span>

| <span data-ttu-id="ffb41-416">Offset (формат PE32/формат PE32 +)</span><span class="sxs-lookup"><span data-stu-id="ffb41-416">Offset (PE32/PE32+)</span></span> | <span data-ttu-id="ffb41-417">Размер (формат PE32/формат PE32 +)</span><span class="sxs-lookup"><span data-stu-id="ffb41-417">Size (PE32/PE32+)</span></span>    | <span data-ttu-id="ffb41-418">Часть заголовка</span><span class="sxs-lookup"><span data-stu-id="ffb41-418">Header part</span></span>                         | <span data-ttu-id="ffb41-419">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-419">Description</span></span>                                                                                                                                                                   |
|---------------------|----------------------|-------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-420">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-420">0</span></span> <br/>       | <span data-ttu-id="ffb41-421">28/24</span><span class="sxs-lookup"><span data-stu-id="ffb41-421">28/24</span></span> <br/>    | <span data-ttu-id="ffb41-422">Стандартные поля</span><span class="sxs-lookup"><span data-stu-id="ffb41-422">Standard fields</span></span> <br/>         | <span data-ttu-id="ffb41-423">Поля, определенные для всех реализаций COFF, включая UNIX.</span><span class="sxs-lookup"><span data-stu-id="ffb41-423">Fields that are defined for all implementations of COFF, including UNIX.</span></span> <br/>                                                                                          |
| <span data-ttu-id="ffb41-424">28/24</span><span class="sxs-lookup"><span data-stu-id="ffb41-424">28/24</span></span> <br/>   | <span data-ttu-id="ffb41-425">68/88</span><span class="sxs-lookup"><span data-stu-id="ffb41-425">68/88</span></span> <br/>    | <span data-ttu-id="ffb41-426">Поля, относящиеся к Windows</span><span class="sxs-lookup"><span data-stu-id="ffb41-426">Windows-specific fields</span></span> <br/> | <span data-ttu-id="ffb41-427">Дополнительные поля для поддержки конкретных функций Windows (например, подсистем).</span><span class="sxs-lookup"><span data-stu-id="ffb41-427">Additional fields to support specific features of Windows (for example, subsystems).</span></span> <br/>                                                                              |
| <span data-ttu-id="ffb41-428">96/112</span><span class="sxs-lookup"><span data-stu-id="ffb41-428">96/112</span></span> <br/>  | <span data-ttu-id="ffb41-429">Переменная</span><span class="sxs-lookup"><span data-stu-id="ffb41-429">Variable</span></span> <br/> | <span data-ttu-id="ffb41-430">Каталоги данных</span><span class="sxs-lookup"><span data-stu-id="ffb41-430">Data directories</span></span> <br/>        | <span data-ttu-id="ffb41-431">Пары "адрес-размер" для специальных таблиц, которые находятся в файле изображения и используются операционной системой (например, таблица импорта и таблица экспорта).</span><span class="sxs-lookup"><span data-stu-id="ffb41-431">Address/size pairs for special tables that are found in the image file and are used by the operating system (for example, the import table and the export table).</span></span> <br/> |

#### <a name="optional-header-standard-fields-image-only"></a><span data-ttu-id="ffb41-432">Необязательные поля заголовка "Стандартный" (только изображение)</span><span class="sxs-lookup"><span data-stu-id="ffb41-432">Optional Header Standard Fields (Image Only)</span></span>

<span data-ttu-id="ffb41-433">Первые восемь полей необязательного заголовка являются стандартными полями, которые определены для каждой реализации COFF.</span><span class="sxs-lookup"><span data-stu-id="ffb41-433">The first eight fields of the optional header are standard fields that are defined for every implementation of COFF.</span></span> <span data-ttu-id="ffb41-434">Эти поля содержат общие сведения, полезные при загрузке и запуске исполняемого файла.</span><span class="sxs-lookup"><span data-stu-id="ffb41-434">These fields contain general information that is useful for loading and running an executable file.</span></span> <span data-ttu-id="ffb41-435">Они не изменяются для формата формат PE32 +.</span><span class="sxs-lookup"><span data-stu-id="ffb41-435">They are unchanged for the PE32+ format.</span></span>

| <span data-ttu-id="ffb41-436">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-436">Offset</span></span>         | <span data-ttu-id="ffb41-437">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-437">Size</span></span>          | <span data-ttu-id="ffb41-438">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-438">Field</span></span>                               | <span data-ttu-id="ffb41-439">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-439">Description</span></span>                                                                                                                                                                                                                                                                                                                                   |
|----------------|---------------|-------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-440">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-440">0</span></span> <br/>  | <span data-ttu-id="ffb41-441">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-441">2</span></span> <br/> | <span data-ttu-id="ffb41-442">Волшебная команда</span><span class="sxs-lookup"><span data-stu-id="ffb41-442">Magic</span></span> <br/>                   | <span data-ttu-id="ffb41-443">Целое число без знака, определяющее состояние файла изображения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-443">The unsigned integer that identifies the state of the image file.</span></span> <span data-ttu-id="ffb41-444">Наиболее распространенным числом является 0x10B, которое идентифицирует его как обычный исполняемый файл.</span><span class="sxs-lookup"><span data-stu-id="ffb41-444">The most common number is 0x10B, which identifies it as a normal executable file.</span></span> <span data-ttu-id="ffb41-445">0x107 идентифицирует его как образ ROM, а 0x20B идентифицирует его как исполняемый файл формат PE32 +.</span><span class="sxs-lookup"><span data-stu-id="ffb41-445">0x107 identifies it as a ROM image, and 0x20B identifies it as a PE32+ executable.</span></span> <br/>                                                                                            |
| <span data-ttu-id="ffb41-446">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-446">2</span></span> <br/>  | <span data-ttu-id="ffb41-447">1</span><span class="sxs-lookup"><span data-stu-id="ffb41-447">1</span></span> <br/> | <span data-ttu-id="ffb41-448">мажорлинкерверсион</span><span class="sxs-lookup"><span data-stu-id="ffb41-448">MajorLinkerVersion</span></span> <br/>      | <span data-ttu-id="ffb41-449">Основной номер версии компоновщика.</span><span class="sxs-lookup"><span data-stu-id="ffb41-449">The linker major version number.</span></span> <br/>                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="ffb41-450">3</span><span class="sxs-lookup"><span data-stu-id="ffb41-450">3</span></span> <br/>  | <span data-ttu-id="ffb41-451">1</span><span class="sxs-lookup"><span data-stu-id="ffb41-451">1</span></span> <br/> | <span data-ttu-id="ffb41-452">минорлинкерверсион</span><span class="sxs-lookup"><span data-stu-id="ffb41-452">MinorLinkerVersion</span></span> <br/>      | <span data-ttu-id="ffb41-453">Дополнительный номер версии компоновщика.</span><span class="sxs-lookup"><span data-stu-id="ffb41-453">The linker minor version number.</span></span> <br/>                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="ffb41-454">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-454">4</span></span> <br/>  | <span data-ttu-id="ffb41-455">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-455">4</span></span> <br/> | <span data-ttu-id="ffb41-456">сизеофкоде</span><span class="sxs-lookup"><span data-stu-id="ffb41-456">SizeOfCode</span></span> <br/>              | <span data-ttu-id="ffb41-457">Размер раздела кода (текст) или сумма всех разделов кода, если имеется несколько разделов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-457">The size of the code (text) section, or the sum of all code sections if there are multiple sections.</span></span> <br/>                                                                                                                                                                                                                              |
| <span data-ttu-id="ffb41-458">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-458">8</span></span> <br/>  | <span data-ttu-id="ffb41-459">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-459">4</span></span> <br/> | <span data-ttu-id="ffb41-460">сизеофинитиализеддата</span><span class="sxs-lookup"><span data-stu-id="ffb41-460">SizeOfInitializedData</span></span> <br/>   | <span data-ttu-id="ffb41-461">Размер инициализированного раздела данных или сумма всех таких разделов, если имеется несколько разделов данных.</span><span class="sxs-lookup"><span data-stu-id="ffb41-461">The size of the initialized data section, or the sum of all such sections if there are multiple data sections.</span></span> <br/>                                                                                                                                                                                                                    |
| <span data-ttu-id="ffb41-462">12</span><span class="sxs-lookup"><span data-stu-id="ffb41-462">12</span></span> <br/> | <span data-ttu-id="ffb41-463">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-463">4</span></span> <br/> | <span data-ttu-id="ffb41-464">сизеофунинитиализеддата</span><span class="sxs-lookup"><span data-stu-id="ffb41-464">SizeOfUninitializedData</span></span> <br/> | <span data-ttu-id="ffb41-465">Размер неинициализированного раздела данных (BSS) или сумма всех таких разделов, если имеется несколько разделов BSS.</span><span class="sxs-lookup"><span data-stu-id="ffb41-465">The size of the uninitialized data section (BSS), or the sum of all such sections if there are multiple BSS sections.</span></span> <br/>                                                                                                                                                                                                             |
| <span data-ttu-id="ffb41-466">16</span><span class="sxs-lookup"><span data-stu-id="ffb41-466">16</span></span> <br/> | <span data-ttu-id="ffb41-467">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-467">4</span></span> <br/> | <span data-ttu-id="ffb41-468">аддрессофентрипоинт</span><span class="sxs-lookup"><span data-stu-id="ffb41-468">AddressOfEntryPoint</span></span> <br/>     | <span data-ttu-id="ffb41-469">Адрес точки входа относительно базы изображения при загрузке исполняемого файла в память.</span><span class="sxs-lookup"><span data-stu-id="ffb41-469">The address of the entry point relative to the image base when the executable file is loaded into memory.</span></span> <span data-ttu-id="ffb41-470">Для образов программ это начальный адрес.</span><span class="sxs-lookup"><span data-stu-id="ffb41-470">For program images, this is the starting address.</span></span> <span data-ttu-id="ffb41-471">Для драйверов устройств это адрес функции инициализации.</span><span class="sxs-lookup"><span data-stu-id="ffb41-471">For device drivers, this is the address of the initialization function.</span></span> <span data-ttu-id="ffb41-472">Точка входа является необязательной для библиотек DLL.</span><span class="sxs-lookup"><span data-stu-id="ffb41-472">An entry point is optional for DLLs.</span></span> <span data-ttu-id="ffb41-473">Если отсутствует точка входа, это поле должно быть равно нулю.</span><span class="sxs-lookup"><span data-stu-id="ffb41-473">When no entry point is present, this field must be zero.</span></span> <br/> |
| <span data-ttu-id="ffb41-474">20</span><span class="sxs-lookup"><span data-stu-id="ffb41-474">20</span></span> <br/> | <span data-ttu-id="ffb41-475">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-475">4</span></span> <br/> | <span data-ttu-id="ffb41-476">басеофкоде</span><span class="sxs-lookup"><span data-stu-id="ffb41-476">BaseOfCode</span></span> <br/>              | <span data-ttu-id="ffb41-477">Адрес, который относится к базовой части образа раздела начала кода при его загрузке в память.</span><span class="sxs-lookup"><span data-stu-id="ffb41-477">The address that is relative to the image base of the beginning-of-code section when it is loaded into memory.</span></span> <br/>                                                                                                                                                                                                                    |

<span data-ttu-id="ffb41-478">ФОРМАТ PE32 содержит это дополнительное поле, отсутствующее в формат PE32 +, после Басеофкоде.</span><span class="sxs-lookup"><span data-stu-id="ffb41-478">PE32 contains this additional field, which is absent in PE32+, following BaseOfCode.</span></span>

| <span data-ttu-id="ffb41-479">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-479">Offset</span></span>         | <span data-ttu-id="ffb41-480">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-480">Size</span></span>          | <span data-ttu-id="ffb41-481">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-481">Field</span></span>                  | <span data-ttu-id="ffb41-482">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-482">Description</span></span>                                                                                                                |
|----------------|---------------|------------------------|----------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-483">24</span><span class="sxs-lookup"><span data-stu-id="ffb41-483">24</span></span> <br/> | <span data-ttu-id="ffb41-484">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-484">4</span></span> <br/> | <span data-ttu-id="ffb41-485">басеофдата</span><span class="sxs-lookup"><span data-stu-id="ffb41-485">BaseOfData</span></span> <br/> | <span data-ttu-id="ffb41-486">Адрес, который является относительным для базовой области изображения раздела начала данных при его загрузке в память.</span><span class="sxs-lookup"><span data-stu-id="ffb41-486">The address that is relative to the image base of the beginning-of-data section when it is loaded into memory.</span></span> <br/> |

#### <a name="optional-header-windows-specific-fields-image-only"></a><span data-ttu-id="ffb41-487">Необязательные Windows-Specific поля заголовка (только изображение)</span><span class="sxs-lookup"><span data-stu-id="ffb41-487">Optional Header Windows-Specific Fields (Image Only)</span></span>

<span data-ttu-id="ffb41-488">Следующие 21 поля являются расширением для необязательного формата заголовка COFF.</span><span class="sxs-lookup"><span data-stu-id="ffb41-488">The next 21 fields are an extension to the COFF optional header format.</span></span> <span data-ttu-id="ffb41-489">Они содержат дополнительные сведения, необходимые компоновщику и загрузчику в Windows.</span><span class="sxs-lookup"><span data-stu-id="ffb41-489">They contain additional information that is required by the linker and loader in Windows.</span></span>

| <span data-ttu-id="ffb41-490">Offset (формат PE32/формат PE32 +)</span><span class="sxs-lookup"><span data-stu-id="ffb41-490">Offset (PE32/ PE32+)</span></span> | <span data-ttu-id="ffb41-491">Размер (формат PE32/формат PE32 +)</span><span class="sxs-lookup"><span data-stu-id="ffb41-491">Size (PE32/ PE32+)</span></span> | <span data-ttu-id="ffb41-492">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-492">Field</span></span>                                   | <span data-ttu-id="ffb41-493">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-493">Description</span></span>                                                                                                                                                                                                                                                                                                            |
|----------------------|--------------------|-----------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-494">28/24</span><span class="sxs-lookup"><span data-stu-id="ffb41-494">28/24</span></span> <br/>    | <span data-ttu-id="ffb41-495">4/8</span><span class="sxs-lookup"><span data-stu-id="ffb41-495">4/8</span></span> <br/>    | <span data-ttu-id="ffb41-496">ImageBase</span><span class="sxs-lookup"><span data-stu-id="ffb41-496">ImageBase</span></span> <br/>                   | <span data-ttu-id="ffb41-497">Предпочтительный адрес первого байта изображения, загружаемого в память; значение должно быть кратно 64 КБ. По умолчанию для библиотек DLL используется 0x10000000.</span><span class="sxs-lookup"><span data-stu-id="ffb41-497">The preferred address of the first byte of image when loaded into memory; must be a multiple of 64 K. The default for DLLs is 0x10000000.</span></span> <span data-ttu-id="ffb41-498">Значение по умолчанию для Windows CE exe — 0x00010000.</span><span class="sxs-lookup"><span data-stu-id="ffb41-498">The default for Windows CE EXEs is 0x00010000.</span></span> <span data-ttu-id="ffb41-499">Значение по умолчанию для Windows NT, Windows 2000, Windows XP, Windows 95, Windows 98 и Windows Me — 0x00400000.</span><span class="sxs-lookup"><span data-stu-id="ffb41-499">The default for Windows NT, Windows 2000, Windows XP, Windows 95, Windows 98, and Windows Me is 0x00400000.</span></span> <br/>       |
| <span data-ttu-id="ffb41-500">32/32</span><span class="sxs-lookup"><span data-stu-id="ffb41-500">32/32</span></span> <br/>    | <span data-ttu-id="ffb41-501">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-501">4</span></span> <br/>      | <span data-ttu-id="ffb41-502">SectionAlignment</span><span class="sxs-lookup"><span data-stu-id="ffb41-502">SectionAlignment</span></span> <br/>            | <span data-ttu-id="ffb41-503">Выравнивание разделов (в байтах) при загрузке в память.</span><span class="sxs-lookup"><span data-stu-id="ffb41-503">The alignment (in bytes) of sections when they are loaded into memory.</span></span> <span data-ttu-id="ffb41-504">Оно должно быть больше или равно FileAlignment.</span><span class="sxs-lookup"><span data-stu-id="ffb41-504">It must be greater than or equal to FileAlignment.</span></span> <span data-ttu-id="ffb41-505">Значением по умолчанию является размер страницы для архитектуры.</span><span class="sxs-lookup"><span data-stu-id="ffb41-505">The default is the page size for the architecture.</span></span> <br/>                                                                                                                               |
| <span data-ttu-id="ffb41-506">36/36</span><span class="sxs-lookup"><span data-stu-id="ffb41-506">36/36</span></span> <br/>    | <span data-ttu-id="ffb41-507">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-507">4</span></span> <br/>      | <span data-ttu-id="ffb41-508">FileAlignment</span><span class="sxs-lookup"><span data-stu-id="ffb41-508">FileAlignment</span></span> <br/>               | <span data-ttu-id="ffb41-509">Коэффициент выравнивания (в байтах), используемый для выравнивания необработанных данных разделов в файле образа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-509">The alignment factor (in bytes) that is used to align the raw data of sections in the image file.</span></span> <span data-ttu-id="ffb41-510">Значение должно быть степенью 2 в диапазоне от 512 до 64 K включительно.</span><span class="sxs-lookup"><span data-stu-id="ffb41-510">The value should be a power of 2 between 512 and 64 K, inclusive.</span></span> <span data-ttu-id="ffb41-511">Значение по умолчанию — 512.</span><span class="sxs-lookup"><span data-stu-id="ffb41-511">The default is 512.</span></span> <span data-ttu-id="ffb41-512">Если выравнивание раздела меньше размера страницы архитектуры, то FileAlignment должен соответствовать выравнивание раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-512">If the SectionAlignment is less than the architecture's page size, then FileAlignment must match SectionAlignment.</span></span> <br/> |
| <span data-ttu-id="ffb41-513">40/40</span><span class="sxs-lookup"><span data-stu-id="ffb41-513">40/40</span></span> <br/>    | <span data-ttu-id="ffb41-514">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-514">2</span></span> <br/>      | <span data-ttu-id="ffb41-515">мажороператингсистемверсион</span><span class="sxs-lookup"><span data-stu-id="ffb41-515">MajorOperatingSystemVersion</span></span> <br/> | <span data-ttu-id="ffb41-516">Основной номер версии требуемой операционной системы.</span><span class="sxs-lookup"><span data-stu-id="ffb41-516">The major version number of the required operating system.</span></span> <br/>                                                                                                                                                                                                                                                 |
| <span data-ttu-id="ffb41-517">42/42</span><span class="sxs-lookup"><span data-stu-id="ffb41-517">42/42</span></span> <br/>    | <span data-ttu-id="ffb41-518">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-518">2</span></span> <br/>      | <span data-ttu-id="ffb41-519">минороператингсистемверсион</span><span class="sxs-lookup"><span data-stu-id="ffb41-519">MinorOperatingSystemVersion</span></span> <br/> | <span data-ttu-id="ffb41-520">Дополнительный номер версии требуемой операционной системы.</span><span class="sxs-lookup"><span data-stu-id="ffb41-520">The minor version number of the required operating system.</span></span> <br/>                                                                                                                                                                                                                                                 |
| <span data-ttu-id="ffb41-521">44/44</span><span class="sxs-lookup"><span data-stu-id="ffb41-521">44/44</span></span> <br/>    | <span data-ttu-id="ffb41-522">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-522">2</span></span> <br/>      | <span data-ttu-id="ffb41-523">мажоримажеверсион</span><span class="sxs-lookup"><span data-stu-id="ffb41-523">MajorImageVersion</span></span> <br/>           | <span data-ttu-id="ffb41-524">Основной номер версии образа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-524">The major version number of the image.</span></span> <br/>                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="ffb41-525">46/46</span><span class="sxs-lookup"><span data-stu-id="ffb41-525">46/46</span></span> <br/>    | <span data-ttu-id="ffb41-526">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-526">2</span></span> <br/>      | <span data-ttu-id="ffb41-527">миноримажеверсион</span><span class="sxs-lookup"><span data-stu-id="ffb41-527">MinorImageVersion</span></span> <br/>           | <span data-ttu-id="ffb41-528">Дополнительный номер версии образа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-528">The minor version number of the image.</span></span> <br/>                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="ffb41-529">48/48</span><span class="sxs-lookup"><span data-stu-id="ffb41-529">48/48</span></span> <br/>    | <span data-ttu-id="ffb41-530">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-530">2</span></span> <br/>      | <span data-ttu-id="ffb41-531">мажорсубсистемверсион</span><span class="sxs-lookup"><span data-stu-id="ffb41-531">MajorSubsystemVersion</span></span> <br/>       | <span data-ttu-id="ffb41-532">Основной номер версии подсистемы.</span><span class="sxs-lookup"><span data-stu-id="ffb41-532">The major version number of the subsystem.</span></span> <br/>                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="ffb41-533">50/50</span><span class="sxs-lookup"><span data-stu-id="ffb41-533">50/50</span></span> <br/>    | <span data-ttu-id="ffb41-534">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-534">2</span></span> <br/>      | <span data-ttu-id="ffb41-535">минорсубсистемверсион</span><span class="sxs-lookup"><span data-stu-id="ffb41-535">MinorSubsystemVersion</span></span> <br/>       | <span data-ttu-id="ffb41-536">Дополнительный номер версии подсистемы.</span><span class="sxs-lookup"><span data-stu-id="ffb41-536">The minor version number of the subsystem.</span></span> <br/>                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="ffb41-537">52/52</span><span class="sxs-lookup"><span data-stu-id="ffb41-537">52/52</span></span> <br/>    | <span data-ttu-id="ffb41-538">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-538">4</span></span> <br/>      | <span data-ttu-id="ffb41-539">Win32VersionValue</span><span class="sxs-lookup"><span data-stu-id="ffb41-539">Win32VersionValue</span></span> <br/>           | <span data-ttu-id="ffb41-540">Зарезервировано, должно быть равно нулю.</span><span class="sxs-lookup"><span data-stu-id="ffb41-540">Reserved, must be zero.</span></span> <br/>                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="ffb41-541">56/56</span><span class="sxs-lookup"><span data-stu-id="ffb41-541">56/56</span></span> <br/>    | <span data-ttu-id="ffb41-542">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-542">4</span></span> <br/>      | <span data-ttu-id="ffb41-543">сизеофимаже</span><span class="sxs-lookup"><span data-stu-id="ffb41-543">SizeOfImage</span></span> <br/>                 | <span data-ttu-id="ffb41-544">Размер (в байтах) изображения, включая все заголовки, по мере загрузки изображения в память.</span><span class="sxs-lookup"><span data-stu-id="ffb41-544">The size (in bytes) of the image, including all headers, as the image is loaded in memory.</span></span> <span data-ttu-id="ffb41-545">Он должен быть кратен выравнивание раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-545">It must be a multiple of SectionAlignment.</span></span> <br/>                                                                                                                                                                      |
| <span data-ttu-id="ffb41-546">60/60</span><span class="sxs-lookup"><span data-stu-id="ffb41-546">60/60</span></span> <br/>    | <span data-ttu-id="ffb41-547">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-547">4</span></span> <br/>      | <span data-ttu-id="ffb41-548">сизеофхеадерс</span><span class="sxs-lookup"><span data-stu-id="ffb41-548">SizeOfHeaders</span></span> <br/>               | <span data-ttu-id="ffb41-549">Суммарный размер заголовков заглушки MS-DOS, PE и разделов, округленный до кратного FileAlignment.</span><span class="sxs-lookup"><span data-stu-id="ffb41-549">The combined size of an MS-DOS stub, PE header, and section headers rounded up to a multiple of FileAlignment.</span></span> <br/>                                                                                                                                                                                             |
| <span data-ttu-id="ffb41-550">64/64</span><span class="sxs-lookup"><span data-stu-id="ffb41-550">64/64</span></span> <br/>    | <span data-ttu-id="ffb41-551">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-551">4</span></span> <br/>      | <span data-ttu-id="ffb41-552">Вычислен</span><span class="sxs-lookup"><span data-stu-id="ffb41-552">CheckSum</span></span> <br/>                    | <span data-ttu-id="ffb41-553">Контрольная сумма файла образа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-553">The image file checksum.</span></span> <span data-ttu-id="ffb41-554">Алгоритм вычисления контрольной суммы включен в IMAGHELP.DLL.</span><span class="sxs-lookup"><span data-stu-id="ffb41-554">The algorithm for computing the checksum is incorporated into IMAGHELP.DLL.</span></span> <span data-ttu-id="ffb41-555">Следующие проверки проверяются во время загрузки: все драйверы, все библиотеки DLL, загруженные во время загрузки, и любая библиотека DLL, которая загружается в критически важный процесс Windows.</span><span class="sxs-lookup"><span data-stu-id="ffb41-555">The following are checked for validation at load time: all drivers, any DLL loaded at boot time, and any DLL that is loaded into a critical Windows process.</span></span> <br/>                                          |
| <span data-ttu-id="ffb41-556">68/68</span><span class="sxs-lookup"><span data-stu-id="ffb41-556">68/68</span></span> <br/>    | <span data-ttu-id="ffb41-557">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-557">2</span></span> <br/>      | <span data-ttu-id="ffb41-558">Subsystem</span><span class="sxs-lookup"><span data-stu-id="ffb41-558">Subsystem</span></span> <br/>                   | <span data-ttu-id="ffb41-559">Подсистема, необходимая для выполнения этого образа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-559">The subsystem that is required to run this image.</span></span> <span data-ttu-id="ffb41-560">Дополнительные сведения см. в разделе [подсистема Windows](#windows-subsystem).</span><span class="sxs-lookup"><span data-stu-id="ffb41-560">For more information, see [Windows Subsystem](#windows-subsystem).</span></span> <br/>                                                                                                                                                                                       |
| <span data-ttu-id="ffb41-561">70/70</span><span class="sxs-lookup"><span data-stu-id="ffb41-561">70/70</span></span> <br/>    | <span data-ttu-id="ffb41-562">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-562">2</span></span> <br/>      | <span data-ttu-id="ffb41-563">DllCharacteristics</span><span class="sxs-lookup"><span data-stu-id="ffb41-563">DllCharacteristics</span></span> <br/>          | <span data-ttu-id="ffb41-564">Дополнительные сведения см. в разделе [характеристики DLL](#dll-characteristics) далее в этой спецификации.</span><span class="sxs-lookup"><span data-stu-id="ffb41-564">For more information, see [DLL Characteristics](#dll-characteristics) later in this specification.</span></span> <br/>                                                                                                                                                                                                         |
| <span data-ttu-id="ffb41-565">72/72</span><span class="sxs-lookup"><span data-stu-id="ffb41-565">72/72</span></span> <br/>    | <span data-ttu-id="ffb41-566">4/8</span><span class="sxs-lookup"><span data-stu-id="ffb41-566">4/8</span></span> <br/>    | <span data-ttu-id="ffb41-567">сизеофстаккресерве</span><span class="sxs-lookup"><span data-stu-id="ffb41-567">SizeOfStackReserve</span></span> <br/>          | <span data-ttu-id="ffb41-568">Размер резервируемого стека.</span><span class="sxs-lookup"><span data-stu-id="ffb41-568">The size of the stack to reserve.</span></span> <span data-ttu-id="ffb41-569">Зафиксирована только Сизеофстакккоммит; Оставшаяся страница становится доступной по одной странице за раз, пока не будет достигнут резервный размер.</span><span class="sxs-lookup"><span data-stu-id="ffb41-569">Only SizeOfStackCommit is committed; the rest is made available one page at a time until the reserve size is reached.</span></span> <br/>                                                                                                                                                    |
| <span data-ttu-id="ffb41-570">76/80</span><span class="sxs-lookup"><span data-stu-id="ffb41-570">76/80</span></span> <br/>    | <span data-ttu-id="ffb41-571">4/8</span><span class="sxs-lookup"><span data-stu-id="ffb41-571">4/8</span></span> <br/>    | <span data-ttu-id="ffb41-572">сизеофстакккоммит</span><span class="sxs-lookup"><span data-stu-id="ffb41-572">SizeOfStackCommit</span></span> <br/>           | <span data-ttu-id="ffb41-573">Размер фиксируемого стека.</span><span class="sxs-lookup"><span data-stu-id="ffb41-573">The size of the stack to commit.</span></span> <br/>                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="ffb41-574">80/88</span><span class="sxs-lookup"><span data-stu-id="ffb41-574">80/88</span></span> <br/>    | <span data-ttu-id="ffb41-575">4/8</span><span class="sxs-lookup"><span data-stu-id="ffb41-575">4/8</span></span> <br/>    | <span data-ttu-id="ffb41-576">сизеофхеапресерве</span><span class="sxs-lookup"><span data-stu-id="ffb41-576">SizeOfHeapReserve</span></span> <br/>           | <span data-ttu-id="ffb41-577">Размер резервируемого пространства в локальной куче.</span><span class="sxs-lookup"><span data-stu-id="ffb41-577">The size of the local heap space to reserve.</span></span> <span data-ttu-id="ffb41-578">Зафиксирована только Сизеофхеапкоммит; Оставшаяся страница становится доступной по одной странице за раз, пока не будет достигнут резервный размер.</span><span class="sxs-lookup"><span data-stu-id="ffb41-578">Only SizeOfHeapCommit is committed; the rest is made available one page at a time until the reserve size is reached.</span></span> <br/>                                                                                                                                          |
| <span data-ttu-id="ffb41-579">84/96</span><span class="sxs-lookup"><span data-stu-id="ffb41-579">84/96</span></span> <br/>    | <span data-ttu-id="ffb41-580">4/8</span><span class="sxs-lookup"><span data-stu-id="ffb41-580">4/8</span></span> <br/>    | <span data-ttu-id="ffb41-581">сизеофхеапкоммит</span><span class="sxs-lookup"><span data-stu-id="ffb41-581">SizeOfHeapCommit</span></span> <br/>            | <span data-ttu-id="ffb41-582">Размер фиксируемого пространства в локальной куче.</span><span class="sxs-lookup"><span data-stu-id="ffb41-582">The size of the local heap space to commit.</span></span> <br/>                                                                                                                                                                                                                                                                |
| <span data-ttu-id="ffb41-583">88/104</span><span class="sxs-lookup"><span data-stu-id="ffb41-583">88/104</span></span> <br/>   | <span data-ttu-id="ffb41-584">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-584">4</span></span> <br/>      | <span data-ttu-id="ffb41-585">лоадерфлагс</span><span class="sxs-lookup"><span data-stu-id="ffb41-585">LoaderFlags</span></span> <br/>                 | <span data-ttu-id="ffb41-586">Зарезервировано, должно быть равно нулю.</span><span class="sxs-lookup"><span data-stu-id="ffb41-586">Reserved, must be zero.</span></span> <br/>                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="ffb41-587">92/108</span><span class="sxs-lookup"><span data-stu-id="ffb41-587">92/108</span></span> <br/>   | <span data-ttu-id="ffb41-588">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-588">4</span></span> <br/>      | <span data-ttu-id="ffb41-589">нумберофрваандсизес</span><span class="sxs-lookup"><span data-stu-id="ffb41-589">NumberOfRvaAndSizes</span></span> <br/>         | <span data-ttu-id="ffb41-590">Число записей каталога данных в оставшейся части необязательного заголовка.</span><span class="sxs-lookup"><span data-stu-id="ffb41-590">The number of data-directory entries in the remainder of the optional header.</span></span> <span data-ttu-id="ffb41-591">Каждая из них описывает расположение и размер.</span><span class="sxs-lookup"><span data-stu-id="ffb41-591">Each describes a location and size.</span></span> <br/>                                                                                                                                                                                          |

##### <a name="windows-subsystem"></a><span data-ttu-id="ffb41-592">Подсистема Windows</span><span class="sxs-lookup"><span data-stu-id="ffb41-592">Windows Subsystem</span></span>

<span data-ttu-id="ffb41-593">Следующие значения, определенные для поля подсистемы необязательного заголовка, определяют, какая подсистема Windows (если есть) требуется для запуска образа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-593">The following values defined for the Subsystem field of the optional header determine which Windows subsystem (if any) is required to run the image.</span></span>

| <span data-ttu-id="ffb41-594">Константа</span><span class="sxs-lookup"><span data-stu-id="ffb41-594">Constant</span></span>                                                  | <span data-ttu-id="ffb41-595">Значение</span><span class="sxs-lookup"><span data-stu-id="ffb41-595">Value</span></span>          | <span data-ttu-id="ffb41-596">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-596">Description</span></span>                                                      |
|-----------------------------------------------------------|----------------|------------------------------------------------------------------|
| <span data-ttu-id="ffb41-597">\_ПОДСИСТЕМА образа \_ неизвестна</span><span class="sxs-lookup"><span data-stu-id="ffb41-597">IMAGE\_SUBSYSTEM\_UNKNOWN</span></span> <br/>                     | <span data-ttu-id="ffb41-598">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-598">0</span></span> <br/>  | <span data-ttu-id="ffb41-599">Неизвестная подсистема</span><span class="sxs-lookup"><span data-stu-id="ffb41-599">An unknown subsystem</span></span> <br/>                                 |
| <span data-ttu-id="ffb41-600">\_собственная ПОДСИСТЕМА \_ образа</span><span class="sxs-lookup"><span data-stu-id="ffb41-600">IMAGE\_SUBSYSTEM\_NATIVE</span></span> <br/>                      | <span data-ttu-id="ffb41-601">1</span><span class="sxs-lookup"><span data-stu-id="ffb41-601">1</span></span> <br/>  | <span data-ttu-id="ffb41-602">Драйверы устройств и собственные процессы Windows</span><span class="sxs-lookup"><span data-stu-id="ffb41-602">Device drivers and native Windows processes</span></span> <br/>          |
| <span data-ttu-id="ffb41-603">\_ \_ графический интерфейс Windows для ПОДсистемы изображения \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-603">IMAGE\_SUBSYSTEM\_WINDOWS\_GUI</span></span> <br/>                | <span data-ttu-id="ffb41-604">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-604">2</span></span> <br/>  | <span data-ttu-id="ffb41-605">Подсистема графического пользовательского интерфейса Windows</span><span class="sxs-lookup"><span data-stu-id="ffb41-605">The Windows graphical user interface (GUI) subsystem</span></span> <br/> |
| <span data-ttu-id="ffb41-606">\_ПОДСИСТЕМА образов \_ Windows \_ несекретная</span><span class="sxs-lookup"><span data-stu-id="ffb41-606">IMAGE\_SUBSYSTEM\_WINDOWS\_CUI</span></span> <br/>                | <span data-ttu-id="ffb41-607">3</span><span class="sxs-lookup"><span data-stu-id="ffb41-607">3</span></span> <br/>  | <span data-ttu-id="ffb41-608">Подсистема символов Windows</span><span class="sxs-lookup"><span data-stu-id="ffb41-608">The Windows character subsystem</span></span> <br/>                      |
| <span data-ttu-id="ffb41-609">\_ПОДСИСТЕМА образа \_ OS2 \_ несекретная</span><span class="sxs-lookup"><span data-stu-id="ffb41-609">IMAGE\_SUBSYSTEM\_OS2\_CUI</span></span> <br/>                    | <span data-ttu-id="ffb41-610">5</span><span class="sxs-lookup"><span data-stu-id="ffb41-610">5</span></span> <br/>  | <span data-ttu-id="ffb41-611">Подсистема символов ОС/2</span><span class="sxs-lookup"><span data-stu-id="ffb41-611">The OS/2 character subsystem</span></span> <br/>                         |
| <span data-ttu-id="ffb41-612">\_ПОДСИСТЕМА образа \_ POSIX \_ несекретная</span><span class="sxs-lookup"><span data-stu-id="ffb41-612">IMAGE\_SUBSYSTEM\_POSIX\_CUI</span></span> <br/>                  | <span data-ttu-id="ffb41-613">7</span><span class="sxs-lookup"><span data-stu-id="ffb41-613">7</span></span> <br/>  | <span data-ttu-id="ffb41-614">Подсистема символов POSIX</span><span class="sxs-lookup"><span data-stu-id="ffb41-614">The Posix character subsystem</span></span> <br/>                        |
| <span data-ttu-id="ffb41-615">\_ \_ собственные окна ПОДсистемы \_ образа</span><span class="sxs-lookup"><span data-stu-id="ffb41-615">IMAGE\_SUBSYSTEM\_NATIVE\_WINDOWS</span></span> <br/>             | <span data-ttu-id="ffb41-616">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-616">8</span></span> <br/>  | <span data-ttu-id="ffb41-617">Собственный драйвер Win9x</span><span class="sxs-lookup"><span data-stu-id="ffb41-617">Native Win9x driver</span></span> <br/>                                  |
| <span data-ttu-id="ffb41-618">\_ \_ \_ \_ графический интерфейс пользователя Windows CE для подсистемы образа</span><span class="sxs-lookup"><span data-stu-id="ffb41-618">IMAGE\_SUBSYSTEM\_WINDOWS\_CE\_GUI</span></span> <br/>            | <span data-ttu-id="ffb41-619">9</span><span class="sxs-lookup"><span data-stu-id="ffb41-619">9</span></span> <br/>  | <span data-ttu-id="ffb41-620">Windows CE</span><span class="sxs-lookup"><span data-stu-id="ffb41-620">Windows CE</span></span> <br/>                                           |
| <span data-ttu-id="ffb41-621">\_приложение EFI подсистемы образа \_ \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-621">IMAGE\_SUBSYSTEM\_EFI\_APPLICATION</span></span> <br/>            | <span data-ttu-id="ffb41-622">10</span><span class="sxs-lookup"><span data-stu-id="ffb41-622">10</span></span> <br/> | <span data-ttu-id="ffb41-623">Приложение, поддерживающее интерфейс расширяемого микропрограммы (EFI)</span><span class="sxs-lookup"><span data-stu-id="ffb41-623">An Extensible Firmware Interface (EFI) application</span></span> <br/>   |
| <span data-ttu-id="ffb41-624">\_ \_ \_ \_ драйвер службы загрузки EFI подсистемы \_ образа</span><span class="sxs-lookup"><span data-stu-id="ffb41-624">IMAGE\_SUBSYSTEM\_EFI\_BOOT\_ SERVICE\_DRIVER</span></span> <br/> | <span data-ttu-id="ffb41-625">11</span><span class="sxs-lookup"><span data-stu-id="ffb41-625">11</span></span> <br/> | <span data-ttu-id="ffb41-626">Драйвер EFI со службами загрузки</span><span class="sxs-lookup"><span data-stu-id="ffb41-626">An EFI driver with boot services</span></span> <br/>                     |
| <span data-ttu-id="ffb41-627">\_ \_ \_ драйвер среды выполнения EFI подсистемы образа \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-627">IMAGE\_SUBSYSTEM\_EFI\_RUNTIME\_ DRIVER</span></span> <br/>       | <span data-ttu-id="ffb41-628">12</span><span class="sxs-lookup"><span data-stu-id="ffb41-628">12</span></span> <br/> | <span data-ttu-id="ffb41-629">Драйвер EFI со службами времени выполнения</span><span class="sxs-lookup"><span data-stu-id="ffb41-629">An EFI driver with run-time services</span></span> <br/>                 |
| <span data-ttu-id="ffb41-630">\_ПЗУ образа подсистемы \_ EFI \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-630">IMAGE\_SUBSYSTEM\_EFI\_ROM</span></span> <br/>                    | <span data-ttu-id="ffb41-631">13</span><span class="sxs-lookup"><span data-stu-id="ffb41-631">13</span></span> <br/> | <span data-ttu-id="ffb41-632">Образ ПЗУ EFI</span><span class="sxs-lookup"><span data-stu-id="ffb41-632">An EFI ROM image</span></span> <br/>                                     |
| <span data-ttu-id="ffb41-633">\_ПОДСИСТЕМА образа \_ Xbox</span><span class="sxs-lookup"><span data-stu-id="ffb41-633">IMAGE\_SUBSYSTEM\_XBOX</span></span> <br/>                        | <span data-ttu-id="ffb41-634">14</span><span class="sxs-lookup"><span data-stu-id="ffb41-634">14</span></span> <br/> | <span data-ttu-id="ffb41-635">XBOX.</span><span class="sxs-lookup"><span data-stu-id="ffb41-635">XBOX</span></span> <br/>                                                 |
| <span data-ttu-id="ffb41-636">\_ \_ \_ приложение загрузки Windows для подсистемы образа \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-636">IMAGE\_SUBSYSTEM\_WINDOWS\_BOOT\_APPLICATION</span></span> <br/>  | <span data-ttu-id="ffb41-637">16</span><span class="sxs-lookup"><span data-stu-id="ffb41-637">16</span></span> <br/> | <span data-ttu-id="ffb41-638">Приложение загрузки Windows.</span><span class="sxs-lookup"><span data-stu-id="ffb41-638">Windows boot application.</span></span> <br/>                            |

##### <a name="dll-characteristics"></a><span data-ttu-id="ffb41-639">Характеристики DLL</span><span class="sxs-lookup"><span data-stu-id="ffb41-639">DLL Characteristics</span></span>

<span data-ttu-id="ffb41-640">Следующие значения определены для поля DllCharacteristics необязательного заголовка.</span><span class="sxs-lookup"><span data-stu-id="ffb41-640">The following values are defined for the DllCharacteristics field of the optional header.</span></span>

| <span data-ttu-id="ffb41-641">Константа</span><span class="sxs-lookup"><span data-stu-id="ffb41-641">Constant</span></span>                                                             | <span data-ttu-id="ffb41-642">Значение</span><span class="sxs-lookup"><span data-stu-id="ffb41-642">Value</span></span>              | <span data-ttu-id="ffb41-643">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-643">Description</span></span>                                                                                             |
|----------------------------------------------------------------------|--------------------|---------------------------------------------------------------------------------------------------------|
|                                                                      | <span data-ttu-id="ffb41-644">0x0001</span><span class="sxs-lookup"><span data-stu-id="ffb41-644">0x0001</span></span> <br/> | <span data-ttu-id="ffb41-645">Зарезервировано, должно быть равно нулю.</span><span class="sxs-lookup"><span data-stu-id="ffb41-645">Reserved, must be zero.</span></span> <br/>                                                                     |
|                                                                      | <span data-ttu-id="ffb41-646">0x0002</span><span class="sxs-lookup"><span data-stu-id="ffb41-646">0x0002</span></span> <br/> | <span data-ttu-id="ffb41-647">Зарезервировано, должно быть равно нулю.</span><span class="sxs-lookup"><span data-stu-id="ffb41-647">Reserved, must be zero.</span></span> <br/>                                                                     |
|                                                                      | <span data-ttu-id="ffb41-648">0x0004</span><span class="sxs-lookup"><span data-stu-id="ffb41-648">0x0004</span></span> <br/> | <span data-ttu-id="ffb41-649">Зарезервировано, должно быть равно нулю.</span><span class="sxs-lookup"><span data-stu-id="ffb41-649">Reserved, must be zero.</span></span> <br/>                                                                     |
|                                                                      | <span data-ttu-id="ffb41-650">0x0008</span><span class="sxs-lookup"><span data-stu-id="ffb41-650">0x0008</span></span> <br/> | <span data-ttu-id="ffb41-651">Зарезервировано, должно быть равно нулю.</span><span class="sxs-lookup"><span data-stu-id="ffb41-651">Reserved, must be zero.</span></span> <br/>                                                                     |
| <span data-ttu-id="ffb41-652">IMAGE \_ DLLCHARACTERISTICS \_ High \_ энтропия \_ ва</span><span class="sxs-lookup"><span data-stu-id="ffb41-652">IMAGE\_DLLCHARACTERISTICS\_HIGH\_ENTROPY\_VA</span></span> <br/>             | <span data-ttu-id="ffb41-653">0x0020</span><span class="sxs-lookup"><span data-stu-id="ffb41-653">0x0020</span></span> <br/> | <span data-ttu-id="ffb41-654">Образ может работать с большим 64-битным виртуальным адресным пространством с высоким уровнем энтропии.</span><span class="sxs-lookup"><span data-stu-id="ffb41-654">Image can handle a high entropy 64-bit virtual address space.</span></span> <br/>                               |
| <span data-ttu-id="ffb41-655">\_DLLCHARACTERISTICS изображения\_</span><span class="sxs-lookup"><span data-stu-id="ffb41-655">IMAGE\_DLLCHARACTERISTICS\_</span></span> <br/> <span data-ttu-id="ffb41-656">ДИНАМИЧЕСКИЙ \_ базовый</span><span class="sxs-lookup"><span data-stu-id="ffb41-656">DYNAMIC\_BASE</span></span> <br/>    | <span data-ttu-id="ffb41-657">0x0040</span><span class="sxs-lookup"><span data-stu-id="ffb41-657">0x0040</span></span> <br/> | <span data-ttu-id="ffb41-658">Библиотека DLL может быть перемещена во время загрузки.</span><span class="sxs-lookup"><span data-stu-id="ffb41-658">DLL can be relocated at load time.</span></span> <br/>                                                          |
| <span data-ttu-id="ffb41-659">\_DLLCHARACTERISTICS изображения\_</span><span class="sxs-lookup"><span data-stu-id="ffb41-659">IMAGE\_DLLCHARACTERISTICS\_</span></span> <br/> <span data-ttu-id="ffb41-660">ПРИНУДИТЕЛЬная \_ целостность</span><span class="sxs-lookup"><span data-stu-id="ffb41-660">FORCE\_INTEGRITY</span></span> <br/> | <span data-ttu-id="ffb41-661">0x0080</span><span class="sxs-lookup"><span data-stu-id="ffb41-661">0x0080</span></span> <br/> | <span data-ttu-id="ffb41-662">Проверки целостности кода применяются принудительно.</span><span class="sxs-lookup"><span data-stu-id="ffb41-662">Code Integrity checks are enforced.</span></span> <br/>                                                         |
| <span data-ttu-id="ffb41-663">\_DLLCHARACTERISTICS изображения\_</span><span class="sxs-lookup"><span data-stu-id="ffb41-663">IMAGE\_DLLCHARACTERISTICS\_</span></span> <br/> <span data-ttu-id="ffb41-664">совместимость с NX \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-664">NX\_COMPAT</span></span> <br/>       | <span data-ttu-id="ffb41-665">0x0100</span><span class="sxs-lookup"><span data-stu-id="ffb41-665">0x0100</span></span> <br/> | <span data-ttu-id="ffb41-666">Образ совместим с NX.</span><span class="sxs-lookup"><span data-stu-id="ffb41-666">Image is NX compatible.</span></span> <br/>                                                                     |
| <span data-ttu-id="ffb41-667">ОБРАЗ \_ DLLCHARACTERISTICS \_ без \_ изоляции</span><span class="sxs-lookup"><span data-stu-id="ffb41-667">IMAGE\_DLLCHARACTERISTICS\_ NO\_ISOLATION</span></span> <br/>                | <span data-ttu-id="ffb41-668">0x0200</span><span class="sxs-lookup"><span data-stu-id="ffb41-668">0x0200</span></span> <br/> | <span data-ttu-id="ffb41-669">С учетом изоляции, но не изолируйте образ.</span><span class="sxs-lookup"><span data-stu-id="ffb41-669">Isolation aware, but do not isolate the image.</span></span> <br/>                                              |
| <span data-ttu-id="ffb41-670">IMAGE \_ DLLCHARACTERISTICS \_ без \_ SEH</span><span class="sxs-lookup"><span data-stu-id="ffb41-670">IMAGE\_DLLCHARACTERISTICS\_ NO\_SEH</span></span> <br/>                      | <span data-ttu-id="ffb41-671">0x0400</span><span class="sxs-lookup"><span data-stu-id="ffb41-671">0x0400</span></span> <br/> | <span data-ttu-id="ffb41-672">Не использует обработку структурированных исключений (SE).</span><span class="sxs-lookup"><span data-stu-id="ffb41-672">Does not use structured exception (SE) handling.</span></span> <span data-ttu-id="ffb41-673">В этом образе нельзя вызвать обработчик SE.</span><span class="sxs-lookup"><span data-stu-id="ffb41-673">No SE handler may be called in this image.</span></span> <br/> |
| <span data-ttu-id="ffb41-674">ОБРАЗ \_ DLLCHARACTERISTICS \_ без \_ привязки</span><span class="sxs-lookup"><span data-stu-id="ffb41-674">IMAGE\_DLLCHARACTERISTICS\_ NO\_BIND</span></span> <br/>                     | <span data-ttu-id="ffb41-675">0x0800</span><span class="sxs-lookup"><span data-stu-id="ffb41-675">0x0800</span></span> <br/> | <span data-ttu-id="ffb41-676">Не привяжите образ.</span><span class="sxs-lookup"><span data-stu-id="ffb41-676">Do not bind the image.</span></span> <br/>                                                                      |
| <span data-ttu-id="ffb41-677">\_DLLCHARACTERISTICSя \_ APPCONTAINER образа</span><span class="sxs-lookup"><span data-stu-id="ffb41-677">IMAGE\_DLLCHARACTERISTICS\_APPCONTAINER</span></span> <br/>                  | <span data-ttu-id="ffb41-678">0x1000</span><span class="sxs-lookup"><span data-stu-id="ffb41-678">0x1000</span></span> <br/> | <span data-ttu-id="ffb41-679">Образ должен выполняться в AppContainer.</span><span class="sxs-lookup"><span data-stu-id="ffb41-679">Image must execute in an AppContainer.</span></span> <br/>                                                      |
| <span data-ttu-id="ffb41-680">\_ \_ драйвер WDM DLLCHARACTERISTICS для образа \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-680">IMAGE\_DLLCHARACTERISTICS\_ WDM\_DRIVER</span></span> <br/>                  | <span data-ttu-id="ffb41-681">0x2000</span><span class="sxs-lookup"><span data-stu-id="ffb41-681">0x2000</span></span> <br/> | <span data-ttu-id="ffb41-682">Драйвер WDM.</span><span class="sxs-lookup"><span data-stu-id="ffb41-682">A WDM driver.</span></span> <br/>                                                                               |
| <span data-ttu-id="ffb41-683">IMAGE \_ DLLCHARACTERISTICS \_ Guard \_ CF</span><span class="sxs-lookup"><span data-stu-id="ffb41-683">IMAGE\_DLLCHARACTERISTICS\_GUARD\_CF</span></span> <br/>                     | <span data-ttu-id="ffb41-684">0x4000</span><span class="sxs-lookup"><span data-stu-id="ffb41-684">0x4000</span></span> <br/> | <span data-ttu-id="ffb41-685">Изображение поддерживает защиту потока управления.</span><span class="sxs-lookup"><span data-stu-id="ffb41-685">Image supports Control Flow Guard.</span></span> <br/>                                                          |
| <span data-ttu-id="ffb41-686">IMAGE \_ DLLCHARACTERISTICS \_ Terminal \_ Server с поддержкой сервера терминалов \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-686">IMAGE\_DLLCHARACTERISTICS\_ TERMINAL\_SERVER\_AWARE</span></span> <br/>      | <span data-ttu-id="ffb41-687">0x8000</span><span class="sxs-lookup"><span data-stu-id="ffb41-687">0x8000</span></span> <br/> | <span data-ttu-id="ffb41-688">С учетом сервера терминалов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-688">Terminal Server aware.</span></span> <br/>                                                                      |

#### <a name="optional-header-data-directories-image-only"></a><span data-ttu-id="ffb41-689">Необязательные каталоги данных заголовков (только изображение)</span><span class="sxs-lookup"><span data-stu-id="ffb41-689">Optional Header Data Directories (Image Only)</span></span>

<span data-ttu-id="ffb41-690">Каждый каталог данных предоставляет адрес и размер таблицы или строки, которые использует Windows.</span><span class="sxs-lookup"><span data-stu-id="ffb41-690">Each data directory gives the address and size of a table or string that Windows uses.</span></span> <span data-ttu-id="ffb41-691">Эти записи каталога данных загружаются в память, чтобы система могла их использовать во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-691">These data directory entries are all loaded into memory so that the system can use them at run time.</span></span> <span data-ttu-id="ffb41-692">Каталог данных — это 8-байтовое поле, которое имеет следующее объявление:</span><span class="sxs-lookup"><span data-stu-id="ffb41-692">A data directory is an 8-byte field that has the following declaration:</span></span>

```cpp
typedef struct _IMAGE_DATA_DIRECTORY {
    DWORD   VirtualAddress;
    DWORD   Size;
} IMAGE_DATA_DIRECTORY, *PIMAGE_DATA_DIRECTORY;
```

<span data-ttu-id="ffb41-693">Первое поле, Виртуаладдресс, фактически является RVA таблицы.</span><span class="sxs-lookup"><span data-stu-id="ffb41-693">The first field, VirtualAddress, is actually the RVA of the table.</span></span> <span data-ttu-id="ffb41-694">RVA — это адрес таблицы относительно базового адреса изображения при загрузке таблицы.</span><span class="sxs-lookup"><span data-stu-id="ffb41-694">The RVA is the address of the table relative to the base address of the image when the table is loaded.</span></span> <span data-ttu-id="ffb41-695">Второе поле задает размер в байтах.</span><span class="sxs-lookup"><span data-stu-id="ffb41-695">The second field gives the size in bytes.</span></span> <span data-ttu-id="ffb41-696">Каталоги данных, которые формируют последнюю часть необязательного заголовка, перечислены в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="ffb41-696">The data directories, which form the last part of the optional header, are listed in the following table.</span></span>

<span data-ttu-id="ffb41-697">Обратите внимание, что количество каталогов не фиксировано.</span><span class="sxs-lookup"><span data-stu-id="ffb41-697">Note that the number of directories is not fixed.</span></span> <span data-ttu-id="ffb41-698">Перед поиском конкретного каталога проверьте поле Нумберофрваандсизес в необязательном заголовке.</span><span class="sxs-lookup"><span data-stu-id="ffb41-698">Before looking for a specific directory, check the NumberOfRvaAndSizes field in the optional header.</span></span>

<span data-ttu-id="ffb41-699">Кроме того, не следует считать, что RVA в этой таблице указывает на начало раздела или что разделы, содержащие конкретные таблицы, имеют определенные имена.</span><span class="sxs-lookup"><span data-stu-id="ffb41-699">Also, do not assume that the RVAs in this table point to the beginning of a section or that the sections that contain specific tables have specific names.</span></span>

| <span data-ttu-id="ffb41-700">Offset (PE/формат PE32 +)</span><span class="sxs-lookup"><span data-stu-id="ffb41-700">Offset (PE/PE32+)</span></span>   | <span data-ttu-id="ffb41-701">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-701">Size</span></span>          | <span data-ttu-id="ffb41-702">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-702">Field</span></span>                               | <span data-ttu-id="ffb41-703">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-703">Description</span></span>                                                                                                                                                                          |
|---------------------|---------------|-------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-704">96/112</span><span class="sxs-lookup"><span data-stu-id="ffb41-704">96/112</span></span> <br/>  | <span data-ttu-id="ffb41-705">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-705">8</span></span> <br/> | <span data-ttu-id="ffb41-706">Экспорт таблицы</span><span class="sxs-lookup"><span data-stu-id="ffb41-706">Export Table</span></span> <br/>            | <span data-ttu-id="ffb41-707">Адрес и размер таблицы экспорта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-707">The export table address and size.</span></span> <span data-ttu-id="ffb41-708">Дополнительные сведения см. в [разделе. едата (только изображение)](#the-edata-section-image-only).</span><span class="sxs-lookup"><span data-stu-id="ffb41-708">For more information see [.edata Section (Image Only)](#the-edata-section-image-only).</span></span> <br/>                                                |
| <span data-ttu-id="ffb41-709">104/120</span><span class="sxs-lookup"><span data-stu-id="ffb41-709">104/120</span></span> <br/> | <span data-ttu-id="ffb41-710">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-710">8</span></span> <br/> | <span data-ttu-id="ffb41-711">Импорт таблицы</span><span class="sxs-lookup"><span data-stu-id="ffb41-711">Import Table</span></span> <br/>            | <span data-ttu-id="ffb41-712">Адрес и размер таблицы импорта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-712">The import table address and size.</span></span> <span data-ttu-id="ffb41-713">Дополнительные сведения см. [в разделе. иДата](#the-idata-section).</span><span class="sxs-lookup"><span data-stu-id="ffb41-713">For more information, see [The .idata Section](#the-idata-section).</span></span><br/>                                                                    |
| <span data-ttu-id="ffb41-714">112/128</span><span class="sxs-lookup"><span data-stu-id="ffb41-714">112/128</span></span> <br/> | <span data-ttu-id="ffb41-715">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-715">8</span></span> <br/> | <span data-ttu-id="ffb41-716">Таблица ресурсов</span><span class="sxs-lookup"><span data-stu-id="ffb41-716">Resource Table</span></span> <br/>          | <span data-ttu-id="ffb41-717">Адрес и размер таблицы ресурсов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-717">The resource table address and size.</span></span> <span data-ttu-id="ffb41-718">Дополнительные сведения см. [в разделе. rsrc](#the-rsrc-section).</span><span class="sxs-lookup"><span data-stu-id="ffb41-718">For more information, see [The .rsrc Section](#the-rsrc-section).</span></span><br/>                                                                    |
| <span data-ttu-id="ffb41-719">120/136</span><span class="sxs-lookup"><span data-stu-id="ffb41-719">120/136</span></span> <br/> | <span data-ttu-id="ffb41-720">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-720">8</span></span> <br/> | <span data-ttu-id="ffb41-721">Таблица исключений</span><span class="sxs-lookup"><span data-stu-id="ffb41-721">Exception Table</span></span> <br/>         | <span data-ttu-id="ffb41-722">Адрес и размер таблицы исключений.</span><span class="sxs-lookup"><span data-stu-id="ffb41-722">The exception table address and size.</span></span> <span data-ttu-id="ffb41-723">Дополнительные сведения см. [в разделе. pdata](#the-pdata-section).</span><span class="sxs-lookup"><span data-stu-id="ffb41-723">For more information, see [The .pdata Section](#the-pdata-section).</span></span> <br/>                                                                |
| <span data-ttu-id="ffb41-724">128/144</span><span class="sxs-lookup"><span data-stu-id="ffb41-724">128/144</span></span> <br/> | <span data-ttu-id="ffb41-725">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-725">8</span></span> <br/> | <span data-ttu-id="ffb41-726">Таблица сертификатов</span><span class="sxs-lookup"><span data-stu-id="ffb41-726">Certificate Table</span></span> <br/>       | <span data-ttu-id="ffb41-727">Атрибут address и size таблицы сертификатов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-727">The attribute certificate table address and size.</span></span> <span data-ttu-id="ffb41-728">Дополнительные сведения см. в описании [атрибута таблица сертификатов (только для изображений)](#the-attribute-certificate-table-image-only).</span><span class="sxs-lookup"><span data-stu-id="ffb41-728">For more information, see [The Attribute Certificate Table (Image Only)](#the-attribute-certificate-table-image-only).</span></span> <br/> |
| <span data-ttu-id="ffb41-729">136/152</span><span class="sxs-lookup"><span data-stu-id="ffb41-729">136/152</span></span> <br/> | <span data-ttu-id="ffb41-730">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-730">8</span></span> <br/> | <span data-ttu-id="ffb41-731">Базовая таблица перемещений</span><span class="sxs-lookup"><span data-stu-id="ffb41-731">Base Relocation Table</span></span> <br/>   | <span data-ttu-id="ffb41-732">Базовый адрес и размер таблицы перемещения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-732">The base relocation table address and size.</span></span> <span data-ttu-id="ffb41-733">Дополнительные сведения см. [в разделе. reloc (только изображение)](#the-reloc-section-image-only).</span><span class="sxs-lookup"><span data-stu-id="ffb41-733">For more information, see [The .reloc Section (Image Only)](#the-reloc-section-image-only).</span></span><br/>                                   |
| <span data-ttu-id="ffb41-734">144/160</span><span class="sxs-lookup"><span data-stu-id="ffb41-734">144/160</span></span> <br/> | <span data-ttu-id="ffb41-735">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-735">8</span></span> <br/> | <span data-ttu-id="ffb41-736">Отладка</span><span class="sxs-lookup"><span data-stu-id="ffb41-736">Debug</span></span> <br/>                   | <span data-ttu-id="ffb41-737">Начальный адрес и размер данных отладки.</span><span class="sxs-lookup"><span data-stu-id="ffb41-737">The debug data starting address and size.</span></span> <span data-ttu-id="ffb41-738">Дополнительные сведения см. [в разделе. Debug](#the-debug-section).</span><span class="sxs-lookup"><span data-stu-id="ffb41-738">For more information, see [The .debug Section](#the-debug-section).</span></span><br/>                                                             |
| <span data-ttu-id="ffb41-739">152/168</span><span class="sxs-lookup"><span data-stu-id="ffb41-739">152/168</span></span> <br/> | <span data-ttu-id="ffb41-740">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-740">8</span></span> <br/> | <span data-ttu-id="ffb41-741">Архитектура</span><span class="sxs-lookup"><span data-stu-id="ffb41-741">Architecture</span></span> <br/>            | <span data-ttu-id="ffb41-742">Зарезервировано, должно быть равно 0</span><span class="sxs-lookup"><span data-stu-id="ffb41-742">Reserved, must be 0</span></span> <br/>                                                                                                                                                      |
| <span data-ttu-id="ffb41-743">160/176</span><span class="sxs-lookup"><span data-stu-id="ffb41-743">160/176</span></span> <br/> | <span data-ttu-id="ffb41-744">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-744">8</span></span> <br/> | <span data-ttu-id="ffb41-745">Глобальный PTR</span><span class="sxs-lookup"><span data-stu-id="ffb41-745">Global Ptr</span></span> <br/>              | <span data-ttu-id="ffb41-746">RVA для значения, сохраняемого в глобальном указателе.</span><span class="sxs-lookup"><span data-stu-id="ffb41-746">The RVA of the value to be stored in the global pointer register.</span></span> <span data-ttu-id="ffb41-747">Элемент size этой структуры должен иметь значение 0.</span><span class="sxs-lookup"><span data-stu-id="ffb41-747">The size member of this structure must be set to zero.</span></span> <br/>                                                 |
| <span data-ttu-id="ffb41-748">168/184</span><span class="sxs-lookup"><span data-stu-id="ffb41-748">168/184</span></span> <br/> | <span data-ttu-id="ffb41-749">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-749">8</span></span> <br/> | <span data-ttu-id="ffb41-750">Таблица TLS</span><span class="sxs-lookup"><span data-stu-id="ffb41-750">TLS Table</span></span> <br/>               | <span data-ttu-id="ffb41-751">Адрес и размер таблицы локального хранилища потока (TLS).</span><span class="sxs-lookup"><span data-stu-id="ffb41-751">The thread local storage (TLS) table address and size.</span></span> <span data-ttu-id="ffb41-752">Дополнительные сведения см. [в разделе. TLS](#the-tls-section).</span><span class="sxs-lookup"><span data-stu-id="ffb41-752">For more information, [The .tls Section](#the-tls-section).</span></span><br/>                                                        |
| <span data-ttu-id="ffb41-753">176/192</span><span class="sxs-lookup"><span data-stu-id="ffb41-753">176/192</span></span> <br/> | <span data-ttu-id="ffb41-754">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-754">8</span></span> <br/> | <span data-ttu-id="ffb41-755">Загрузить таблицу конфигурации</span><span class="sxs-lookup"><span data-stu-id="ffb41-755">Load Config Table</span></span> <br/>       | <span data-ttu-id="ffb41-756">Адрес и размер таблицы конфигурации загрузки.</span><span class="sxs-lookup"><span data-stu-id="ffb41-756">The load configuration table address and size.</span></span> <span data-ttu-id="ffb41-757">Дополнительные сведения см. [в структуре конфигурации загрузки (только для образа)](#the-load-configuration-structure-image-only).</span><span class="sxs-lookup"><span data-stu-id="ffb41-757">For more information, [The Load Configuration Structure (Image Only)](#the-load-configuration-structure-image-only).</span></span><br/>       |
| <span data-ttu-id="ffb41-758">184/200</span><span class="sxs-lookup"><span data-stu-id="ffb41-758">184/200</span></span> <br/> | <span data-ttu-id="ffb41-759">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-759">8</span></span> <br/> | <span data-ttu-id="ffb41-760">Связанный импорт</span><span class="sxs-lookup"><span data-stu-id="ffb41-760">Bound Import</span></span> <br/>            | <span data-ttu-id="ffb41-761">Адрес и размер связанной таблицы импорта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-761">The bound import table address and size.</span></span> <br/>                                                                                                                                 |
| <span data-ttu-id="ffb41-762">192/208</span><span class="sxs-lookup"><span data-stu-id="ffb41-762">192/208</span></span> <br/> | <span data-ttu-id="ffb41-763">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-763">8</span></span> <br/> | <span data-ttu-id="ffb41-764">IAT</span><span class="sxs-lookup"><span data-stu-id="ffb41-764">IAT</span></span> <br/>                     | <span data-ttu-id="ffb41-765">Адрес и размер таблицы адресов импорта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-765">The import address table address and size.</span></span> <span data-ttu-id="ffb41-766">Дополнительные сведения см. в разделе [Импорт таблицы адресов](#import-address-table).</span><span class="sxs-lookup"><span data-stu-id="ffb41-766">For more information, see [Import Address Table](#import-address-table).</span></span><br/>                                                 |
| <span data-ttu-id="ffb41-767">200/216</span><span class="sxs-lookup"><span data-stu-id="ffb41-767">200/216</span></span> <br/> | <span data-ttu-id="ffb41-768">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-768">8</span></span> <br/> | <span data-ttu-id="ffb41-769">Дескриптор отложенного импорта</span><span class="sxs-lookup"><span data-stu-id="ffb41-769">Delay Import Descriptor</span></span> <br/> | <span data-ttu-id="ffb41-770">Адрес и размер дескриптора импорта с задержкой.</span><span class="sxs-lookup"><span data-stu-id="ffb41-770">The delay import descriptor address and size.</span></span> <span data-ttu-id="ffb41-771">Дополнительные сведения см. в разделе [таблица импорта с отложенной загрузкой (только для изображений)](#delay-load-import-tables-image-only).</span><span class="sxs-lookup"><span data-stu-id="ffb41-771">For more information, see [Delay-Load Import Tables (Image Only)](#delay-load-import-tables-image-only).</span></span><br/>                    |
| <span data-ttu-id="ffb41-772">208/224</span><span class="sxs-lookup"><span data-stu-id="ffb41-772">208/224</span></span> <br/> | <span data-ttu-id="ffb41-773">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-773">8</span></span> <br/> | <span data-ttu-id="ffb41-774">Заголовок среды выполнения CLR</span><span class="sxs-lookup"><span data-stu-id="ffb41-774">CLR Runtime Header</span></span> <br/>      | <span data-ttu-id="ffb41-775">Адрес и размер заголовка среды выполнения среды CLR.</span><span class="sxs-lookup"><span data-stu-id="ffb41-775">The CLR runtime header address and size.</span></span> <span data-ttu-id="ffb41-776">Дополнительные сведения см. [в разделе. кормета (только объект)](#the-cormeta-section-object-only).</span><span class="sxs-lookup"><span data-stu-id="ffb41-776">For more information, see [The .cormeta Section (Object Only)](#the-cormeta-section-object-only).</span></span><br/>                                |
| <span data-ttu-id="ffb41-777">216/232</span><span class="sxs-lookup"><span data-stu-id="ffb41-777">216/232</span></span> <br/> | <span data-ttu-id="ffb41-778">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-778">8</span></span> <br/> | <span data-ttu-id="ffb41-779">Зарезервировано, должно быть равно нулю</span><span class="sxs-lookup"><span data-stu-id="ffb41-779">Reserved, must be zero</span></span> <br/>  |                                                                                                                                                                                      |

<span data-ttu-id="ffb41-780">Запись таблицы сертификатов указывает на таблицу сертификатов атрибутов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-780">The Certificate Table entry points to a table of attribute certificates.</span></span> <span data-ttu-id="ffb41-781">Эти сертификаты не загружаются в память в составе образа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-781">These certificates are not loaded into memory as part of the image.</span></span> <span data-ttu-id="ffb41-782">Таким образом, первое поле этой записи, которое обычно является RVA, является указателем на файл.</span><span class="sxs-lookup"><span data-stu-id="ffb41-782">As such, the first field of this entry, which is normally an RVA, is a file pointer instead.</span></span>

## <a name="section-table-section-headers"></a><span data-ttu-id="ffb41-783">Таблица разделов (заголовки разделов)</span><span class="sxs-lookup"><span data-stu-id="ffb41-783">Section Table (Section Headers)</span></span>

- [<span data-ttu-id="ffb41-784">Флаги разделов</span><span class="sxs-lookup"><span data-stu-id="ffb41-784">Section Flags</span></span>](#section-flags)
- [<span data-ttu-id="ffb41-785">Сгруппированные разделы (только объект)</span><span class="sxs-lookup"><span data-stu-id="ffb41-785">Grouped Sections (Object Only)</span></span>](#grouped-sections-object-only)

<span data-ttu-id="ffb41-786">Каждая строка таблицы разделов фактически является заголовком раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-786">Each row of the section table is, in effect, a section header.</span></span> <span data-ttu-id="ffb41-787">Эта таблица сразу следует за необязательным заголовком, если он есть.</span><span class="sxs-lookup"><span data-stu-id="ffb41-787">This table immediately follows the optional header, if any.</span></span> <span data-ttu-id="ffb41-788">Это расположение необходимо, так как заголовок файла не содержит прямой указатель на таблицу разделов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-788">This positioning is required because the file header does not contain a direct pointer to the section table.</span></span> <span data-ttu-id="ffb41-789">Вместо этого расположение таблицы разделов определяется путем вычисления расположения первого байта после заголовков.</span><span class="sxs-lookup"><span data-stu-id="ffb41-789">Instead, the location of the section table is determined by calculating the location of the first byte after the headers.</span></span> <span data-ttu-id="ffb41-790">Обязательно используйте размер необязательного заголовка, как указано в заголовке файла.</span><span class="sxs-lookup"><span data-stu-id="ffb41-790">Make sure to use the size of the optional header as specified in the file header.</span></span>

<span data-ttu-id="ffb41-791">Число записей в таблице разделов указывается полем Нумберофсектионс в заголовке файла.</span><span class="sxs-lookup"><span data-stu-id="ffb41-791">The number of entries in the section table is given by the NumberOfSections field in the file header.</span></span> <span data-ttu-id="ffb41-792">Записи в таблице разделов нумеруются, начиная с единицы (1).</span><span class="sxs-lookup"><span data-stu-id="ffb41-792">Entries in the section table are numbered starting from one (1).</span></span> <span data-ttu-id="ffb41-793">Записи в разделе "код и память данных" находятся в порядке, выбранном компоновщиком.</span><span class="sxs-lookup"><span data-stu-id="ffb41-793">The code and data memory section entries are in the order chosen by the linker.</span></span>

<span data-ttu-id="ffb41-794">В файле изображения VAs для разделов должен быть назначен компоновщиком таким образом, чтобы они находящегося в возрастающем порядке и смежными, и они должны быть кратными значению выравнивание раздела в необязательном заголовке.</span><span class="sxs-lookup"><span data-stu-id="ffb41-794">In an image file, the VAs for sections must be assigned by the linker so that they are in ascending order and adjacent, and they must be a multiple of the SectionAlignment value in the optional header.</span></span>

<span data-ttu-id="ffb41-795">Каждый заголовок раздела (запись в таблице разделов) имеет следующий формат, в котором всего 40 байт на запись.</span><span class="sxs-lookup"><span data-stu-id="ffb41-795">Each section header (section table entry) has the following format, for a total of 40 bytes per entry.</span></span>



| <span data-ttu-id="ffb41-796">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-796">Offset</span></span>         | <span data-ttu-id="ffb41-797">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-797">Size</span></span>          | <span data-ttu-id="ffb41-798">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-798">Field</span></span>                            | <span data-ttu-id="ffb41-799">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-799">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|----------------|---------------|----------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-800">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-800">0</span></span> <br/>  | <span data-ttu-id="ffb41-801">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-801">8</span></span> <br/> | <span data-ttu-id="ffb41-802">Имя</span><span class="sxs-lookup"><span data-stu-id="ffb41-802">Name</span></span> <br/>                 | <span data-ttu-id="ffb41-803">8-байтовая строка в кодировке UTF-8, заполненная нулем.</span><span class="sxs-lookup"><span data-stu-id="ffb41-803">An 8-byte, null-padded UTF-8 encoded string.</span></span> <span data-ttu-id="ffb41-804">Если строка содержит ровно 8 символов, то завершающее значение NULL отсутствует.</span><span class="sxs-lookup"><span data-stu-id="ffb41-804">If the string is exactly 8 characters long, there is no terminating null.</span></span> <span data-ttu-id="ffb41-805">Для более длинных имен это поле содержит косую черту (/), за которой следует ASCII-представление десятичного числа, которое является смещением в таблице строк.</span><span class="sxs-lookup"><span data-stu-id="ffb41-805">For longer names, this field contains a slash (/) that is followed by an ASCII representation of a decimal number that is an offset into the string table.</span></span> <span data-ttu-id="ffb41-806">Исполняемые образы не используют таблицу строк и не поддерживают имена разделов длиннее 8 символов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-806">Executable images do not use a string table and do not support section names longer than 8 characters.</span></span> <span data-ttu-id="ffb41-807">Длинные имена в объектных файлах усекаются, если они выдаются в исполняемый файл.</span><span class="sxs-lookup"><span data-stu-id="ffb41-807">Long names in object files are truncated if they are emitted to an executable file.</span></span> <br/>                                         |
| <span data-ttu-id="ffb41-808">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-808">8</span></span> <br/>  | <span data-ttu-id="ffb41-809">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-809">4</span></span> <br/> | <span data-ttu-id="ffb41-810">виртуалсизе</span><span class="sxs-lookup"><span data-stu-id="ffb41-810">VirtualSize</span></span> <br/>          | <span data-ttu-id="ffb41-811">Общий размер раздела при загрузке в память.</span><span class="sxs-lookup"><span data-stu-id="ffb41-811">The total size of the section when loaded into memory.</span></span> <span data-ttu-id="ffb41-812">Если это значение больше Сизеофравдата, раздел заполняется нулем.</span><span class="sxs-lookup"><span data-stu-id="ffb41-812">If this value is greater than SizeOfRawData, the section is zero-padded.</span></span> <span data-ttu-id="ffb41-813">Это поле допустимо только для исполняемых образов и должно иметь нулевое значение для объектных файлов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-813">This field is valid only for executable images and should be set to zero for object files.</span></span> <br/>                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="ffb41-814">12</span><span class="sxs-lookup"><span data-stu-id="ffb41-814">12</span></span> <br/> | <span data-ttu-id="ffb41-815">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-815">4</span></span> <br/> | <span data-ttu-id="ffb41-816">виртуаладдресс</span><span class="sxs-lookup"><span data-stu-id="ffb41-816">VirtualAddress</span></span> <br/>       | <span data-ttu-id="ffb41-817">Для исполняемых образов — адрес первого байта раздела относительно базы изображения при загрузке раздела в память.</span><span class="sxs-lookup"><span data-stu-id="ffb41-817">For executable images, the address of the first byte of the section relative to the image base when the section is loaded into memory.</span></span> <span data-ttu-id="ffb41-818">Для объектных файлов это поле является адресом первого байта до применения перемещения. для простоты компиляторы должны установить это значение равным нулю.</span><span class="sxs-lookup"><span data-stu-id="ffb41-818">For object files, this field is the address of the first byte before relocation is applied; for simplicity, compilers should set this to zero.</span></span> <span data-ttu-id="ffb41-819">В противном случае это произвольное значение, которое вычитается из смещений во время перемещения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-819">Otherwise, it is an arbitrary value that is subtracted from offsets during relocation.</span></span> <br/>                                                                                                                                         |
| <span data-ttu-id="ffb41-820">16</span><span class="sxs-lookup"><span data-stu-id="ffb41-820">16</span></span> <br/> | <span data-ttu-id="ffb41-821">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-821">4</span></span> <br/> | <span data-ttu-id="ffb41-822">сизеофравдата</span><span class="sxs-lookup"><span data-stu-id="ffb41-822">SizeOfRawData</span></span> <br/>        | <span data-ttu-id="ffb41-823">Размер раздела (для объектных файлов) или размера инициализированных данных на диске (для файлов изображений).</span><span class="sxs-lookup"><span data-stu-id="ffb41-823">The size of the section (for object files) or the size of the initialized data on disk (for image files).</span></span> <span data-ttu-id="ffb41-824">Для исполняемых образов это должно быть кратно FileAlignment из необязательного заголовка.</span><span class="sxs-lookup"><span data-stu-id="ffb41-824">For executable images, this must be a multiple of FileAlignment from the optional header.</span></span> <span data-ttu-id="ffb41-825">Если это значение меньше Виртуалсизе, оставшаяся часть раздела заполнена нулем.</span><span class="sxs-lookup"><span data-stu-id="ffb41-825">If this is less than VirtualSize, the remainder of the section is zero-filled.</span></span> <span data-ttu-id="ffb41-826">Так как поле Сизеофравдата округляется, а поле Виртуалсизе — нет, Сизеофравдата также может быть больше Виртуалсизе.</span><span class="sxs-lookup"><span data-stu-id="ffb41-826">Because the SizeOfRawData field is rounded but the VirtualSize field is not, it is possible for SizeOfRawData to be greater than VirtualSize as well.</span></span> <span data-ttu-id="ffb41-827">Если раздел содержит только неинициализированные данные, это поле должно быть равно нулю.</span><span class="sxs-lookup"><span data-stu-id="ffb41-827">When a section contains only uninitialized data, this field should be zero.</span></span> <br/> |
| <span data-ttu-id="ffb41-828">20</span><span class="sxs-lookup"><span data-stu-id="ffb41-828">20</span></span> <br/> | <span data-ttu-id="ffb41-829">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-829">4</span></span> <br/> | <span data-ttu-id="ffb41-830">поинтерторавдата</span><span class="sxs-lookup"><span data-stu-id="ffb41-830">PointerToRawData</span></span> <br/>     | <span data-ttu-id="ffb41-831">Указатель файла на первую страницу раздела в COFF-файле.</span><span class="sxs-lookup"><span data-stu-id="ffb41-831">The file pointer to the first page of the section within the COFF file.</span></span> <span data-ttu-id="ffb41-832">Для исполняемых образов это должно быть кратно FileAlignment из необязательного заголовка.</span><span class="sxs-lookup"><span data-stu-id="ffb41-832">For executable images, this must be a multiple of FileAlignment from the optional header.</span></span> <span data-ttu-id="ffb41-833">Для объектных файлов значение должно быть согласовано по 4-байтовой границе для лучшей производительности.</span><span class="sxs-lookup"><span data-stu-id="ffb41-833">For object files, the value should be aligned on a 4-byte boundary for best performance.</span></span> <span data-ttu-id="ffb41-834">Если раздел содержит только неинициализированные данные, это поле должно быть равно нулю.</span><span class="sxs-lookup"><span data-stu-id="ffb41-834">When a section contains only uninitialized data, this field should be zero.</span></span> <br/>                                                                                                                                                                               |
| <span data-ttu-id="ffb41-835">24</span><span class="sxs-lookup"><span data-stu-id="ffb41-835">24</span></span> <br/> | <span data-ttu-id="ffb41-836">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-836">4</span></span> <br/> | <span data-ttu-id="ffb41-837">поинтерторелокатионс</span><span class="sxs-lookup"><span data-stu-id="ffb41-837">PointerToRelocations</span></span> <br/> | <span data-ttu-id="ffb41-838">Указатель файла на начало записей перемещения для раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-838">The file pointer to the beginning of relocation entries for the section.</span></span> <span data-ttu-id="ffb41-839">Это значение равно нулю для исполняемых образов или в случае отсутствия перемещения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-839">This is set to zero for executable images or if there are no relocations.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="ffb41-840">28</span><span class="sxs-lookup"><span data-stu-id="ffb41-840">28</span></span> <br/> | <span data-ttu-id="ffb41-841">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-841">4</span></span> <br/> | <span data-ttu-id="ffb41-842">поинтертолиненумберс</span><span class="sxs-lookup"><span data-stu-id="ffb41-842">PointerToLinenumbers</span></span> <br/> | <span data-ttu-id="ffb41-843">Указатель файла на начало записи номера строки для раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-843">The file pointer to the beginning of line-number entries for the section.</span></span> <span data-ttu-id="ffb41-844">При отсутствии номеров строк COFF это значение устанавливается равным нулю.</span><span class="sxs-lookup"><span data-stu-id="ffb41-844">This is set to zero if there are no COFF line numbers.</span></span> <span data-ttu-id="ffb41-845">Для образа это значение должно быть равно нулю, так как отладочные данные COFF являются устаревшими.</span><span class="sxs-lookup"><span data-stu-id="ffb41-845">This value should be zero for an image because COFF debugging information is deprecated.</span></span> <br/>                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="ffb41-846">32</span><span class="sxs-lookup"><span data-stu-id="ffb41-846">32</span></span> <br/> | <span data-ttu-id="ffb41-847">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-847">2</span></span> <br/> | <span data-ttu-id="ffb41-848">нумберофрелокатионс</span><span class="sxs-lookup"><span data-stu-id="ffb41-848">NumberOfRelocations</span></span> <br/>  | <span data-ttu-id="ffb41-849">Число записей перемещения для раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-849">The number of relocation entries for the section.</span></span> <span data-ttu-id="ffb41-850">Для исполняемых образов это значение равно нулю.</span><span class="sxs-lookup"><span data-stu-id="ffb41-850">This is set to zero for executable images.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="ffb41-851">34</span><span class="sxs-lookup"><span data-stu-id="ffb41-851">34</span></span> <br/> | <span data-ttu-id="ffb41-852">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-852">2</span></span> <br/> | <span data-ttu-id="ffb41-853">нумберофлиненумберс</span><span class="sxs-lookup"><span data-stu-id="ffb41-853">NumberOfLinenumbers</span></span> <br/>  | <span data-ttu-id="ffb41-854">Число записей номера строки для раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-854">The number of line-number entries for the section.</span></span> <span data-ttu-id="ffb41-855">Для образа это значение должно быть равно нулю, так как отладочные данные COFF являются устаревшими.</span><span class="sxs-lookup"><span data-stu-id="ffb41-855">This value should be zero for an image because COFF debugging information is deprecated.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="ffb41-856">36</span><span class="sxs-lookup"><span data-stu-id="ffb41-856">36</span></span> <br/> | <span data-ttu-id="ffb41-857">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-857">4</span></span> <br/> | <span data-ttu-id="ffb41-858">Характеристики</span><span class="sxs-lookup"><span data-stu-id="ffb41-858">Characteristics</span></span> <br/>      | <span data-ttu-id="ffb41-859">Флаги, описывающие характеристики раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-859">The flags that describe the characteristics of the section.</span></span> <span data-ttu-id="ffb41-860">Дополнительные сведения см. в разделе [Флаги разделов](#section-flags).</span><span class="sxs-lookup"><span data-stu-id="ffb41-860">For more information, see [Section Flags](#section-flags).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                |



 

### <a name="section-flags"></a><span data-ttu-id="ffb41-861">Флаги разделов</span><span class="sxs-lookup"><span data-stu-id="ffb41-861">Section Flags</span></span>

<span data-ttu-id="ffb41-862">Флаги раздела в поле характеристики заголовка раздела обозначают характеристики раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-862">The section flags in the Characteristics field of the section header indicate characteristics of the section.</span></span>



| <span data-ttu-id="ffb41-863">Флаг</span><span class="sxs-lookup"><span data-stu-id="ffb41-863">Flag</span></span>                                              | <span data-ttu-id="ffb41-864">Значение</span><span class="sxs-lookup"><span data-stu-id="ffb41-864">Value</span></span>                  | <span data-ttu-id="ffb41-865">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-865">Description</span></span>                                                                                                                                                                 |
|---------------------------------------------------|------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                                                   | <span data-ttu-id="ffb41-866">0x00000000</span><span class="sxs-lookup"><span data-stu-id="ffb41-866">0x00000000</span></span> <br/> | <span data-ttu-id="ffb41-867">Зарезервировано для последующего использования.</span><span class="sxs-lookup"><span data-stu-id="ffb41-867">Reserved for future use.</span></span> <br/>                                                                                                                                        |
|                                                   | <span data-ttu-id="ffb41-868">0x00000001</span><span class="sxs-lookup"><span data-stu-id="ffb41-868">0x00000001</span></span> <br/> | <span data-ttu-id="ffb41-869">Зарезервировано для последующего использования.</span><span class="sxs-lookup"><span data-stu-id="ffb41-869">Reserved for future use.</span></span> <br/>                                                                                                                                        |
|                                                   | <span data-ttu-id="ffb41-870">0x00000002</span><span class="sxs-lookup"><span data-stu-id="ffb41-870">0x00000002</span></span> <br/> | <span data-ttu-id="ffb41-871">Зарезервировано для последующего использования.</span><span class="sxs-lookup"><span data-stu-id="ffb41-871">Reserved for future use.</span></span> <br/>                                                                                                                                        |
|                                                   | <span data-ttu-id="ffb41-872">0x00000004</span><span class="sxs-lookup"><span data-stu-id="ffb41-872">0x00000004</span></span> <br/> | <span data-ttu-id="ffb41-873">Зарезервировано для последующего использования.</span><span class="sxs-lookup"><span data-stu-id="ffb41-873">Reserved for future use.</span></span> <br/>                                                                                                                                        |
| <span data-ttu-id="ffb41-874">ОБРАЗ \_ SCN \_ тип \_ без \_ панели</span><span class="sxs-lookup"><span data-stu-id="ffb41-874">IMAGE\_SCN\_TYPE\_NO\_PAD</span></span> <br/>             | <span data-ttu-id="ffb41-875">0x00000008</span><span class="sxs-lookup"><span data-stu-id="ffb41-875">0x00000008</span></span> <br/> | <span data-ttu-id="ffb41-876">Раздел не должен быть заполнен до следующей границы.</span><span class="sxs-lookup"><span data-stu-id="ffb41-876">The section should not be padded to the next boundary.</span></span> <span data-ttu-id="ffb41-877">Этот флаг устарел и заменяется образом уведомления \_ SCN \_ по \_ 1BYTES.</span><span class="sxs-lookup"><span data-stu-id="ffb41-877">This flag is obsolete and is replaced by IMAGE\_SCN\_ALIGN\_1BYTES.</span></span> <span data-ttu-id="ffb41-878">Это допустимо только для объектных файлов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-878">This is valid only for object files.</span></span> <br/> |
|                                                   | <span data-ttu-id="ffb41-879">0x00000010</span><span class="sxs-lookup"><span data-stu-id="ffb41-879">0x00000010</span></span> <br/> | <span data-ttu-id="ffb41-880">Зарезервировано для последующего использования.</span><span class="sxs-lookup"><span data-stu-id="ffb41-880">Reserved for future use.</span></span> <br/>                                                                                                                                        |
| <span data-ttu-id="ffb41-881">\_код уведомления SCN \_ CNT \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-881">IMAGE\_SCN\_CNT\_CODE</span></span> <br/>                 | <span data-ttu-id="ffb41-882">0x00000020</span><span class="sxs-lookup"><span data-stu-id="ffb41-882">0x00000020</span></span> <br/> | <span data-ttu-id="ffb41-883">Раздел содержит исполняемый код.</span><span class="sxs-lookup"><span data-stu-id="ffb41-883">The section contains executable code.</span></span> <br/>                                                                                                                           |
| <span data-ttu-id="ffb41-884">ОБРАЗ \_ \_ CNT \_ инициализированные \_ данные уведомления SCN</span><span class="sxs-lookup"><span data-stu-id="ffb41-884">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA</span></span> <br/>    | <span data-ttu-id="ffb41-885">0x00000040</span><span class="sxs-lookup"><span data-stu-id="ffb41-885">0x00000040</span></span> <br/> | <span data-ttu-id="ffb41-886">Раздел содержит инициализированные данные.</span><span class="sxs-lookup"><span data-stu-id="ffb41-886">The section contains initialized data.</span></span> <br/>                                                                                                                          |
| <span data-ttu-id="ffb41-887">ОБРАЗ \_ SCN \_ CNT \_ неинициализированные \_ данные</span><span class="sxs-lookup"><span data-stu-id="ffb41-887">IMAGE\_SCN\_CNT\_UNINITIALIZED\_ DATA</span></span> <br/> | <span data-ttu-id="ffb41-888">0x00000080</span><span class="sxs-lookup"><span data-stu-id="ffb41-888">0x00000080</span></span> <br/> | <span data-ttu-id="ffb41-889">Раздел содержит неинициализированные данные.</span><span class="sxs-lookup"><span data-stu-id="ffb41-889">The section contains uninitialized data.</span></span> <br/>                                                                                                                        |
| <span data-ttu-id="ffb41-890">ИЗОБРАЖЕНИЕ уведомления \_ SCN \_ LNK \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-890">IMAGE\_SCN\_LNK\_OTHER</span></span> <br/>                | <span data-ttu-id="ffb41-891">0x00000100</span><span class="sxs-lookup"><span data-stu-id="ffb41-891">0x00000100</span></span> <br/> | <span data-ttu-id="ffb41-892">Зарезервировано для последующего использования.</span><span class="sxs-lookup"><span data-stu-id="ffb41-892">Reserved for future use.</span></span> <br/>                                                                                                                                        |
| <span data-ttu-id="ffb41-893">сведения о сообразе \_ SCN \_ LNK \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-893">IMAGE\_SCN\_LNK\_INFO</span></span> <br/>                 | <span data-ttu-id="ffb41-894">0x00000200</span><span class="sxs-lookup"><span data-stu-id="ffb41-894">0x00000200</span></span> <br/> | <span data-ttu-id="ffb41-895">Раздел содержит комментарии или другие сведения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-895">The section contains comments or other information.</span></span> <span data-ttu-id="ffb41-896">Раздел drectve имеет этот тип.</span><span class="sxs-lookup"><span data-stu-id="ffb41-896">The .drectve section has this type.</span></span> <span data-ttu-id="ffb41-897">Это допустимо только для объектных файлов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-897">This is valid for object files only.</span></span> <br/>                                    |
|                                                   | <span data-ttu-id="ffb41-898">0x00000400</span><span class="sxs-lookup"><span data-stu-id="ffb41-898">0x00000400</span></span> <br/> | <span data-ttu-id="ffb41-899">Зарезервировано для последующего использования.</span><span class="sxs-lookup"><span data-stu-id="ffb41-899">Reserved for future use.</span></span> <br/>                                                                                                                                        |
| <span data-ttu-id="ffb41-900">ИЗОБРАЖЕНИЕ уведомления \_ SCN \_ LNK \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-900">IMAGE\_SCN\_LNK\_REMOVE</span></span> <br/>               | <span data-ttu-id="ffb41-901">0x00000800</span><span class="sxs-lookup"><span data-stu-id="ffb41-901">0x00000800</span></span> <br/> | <span data-ttu-id="ffb41-902">Раздел не станет частью образа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-902">The section will not become part of the image.</span></span> <span data-ttu-id="ffb41-903">Это допустимо только для объектных файлов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-903">This is valid only for object files.</span></span> <br/>                                                                             |
| <span data-ttu-id="ffb41-904">ИЗОБРАЖЕНИЕ \_ SCN \_ LNK ( \_ COMDAT)</span><span class="sxs-lookup"><span data-stu-id="ffb41-904">IMAGE\_SCN\_LNK\_COMDAT</span></span> <br/>               | <span data-ttu-id="ffb41-905">0x00001000</span><span class="sxs-lookup"><span data-stu-id="ffb41-905">0x00001000</span></span> <br/> | <span data-ttu-id="ffb41-906">Раздел содержит данные COMDAT.</span><span class="sxs-lookup"><span data-stu-id="ffb41-906">The section contains COMDAT data.</span></span> <span data-ttu-id="ffb41-907">Дополнительные сведения см. в разделе [COMDAT (только объект)](#comdat-sections-object-only).</span><span class="sxs-lookup"><span data-stu-id="ffb41-907">For more information, see [COMDAT Sections (Object Only)](#comdat-sections-object-only).</span></span> <span data-ttu-id="ffb41-908">Это допустимо только для объектных файлов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-908">This is valid only for object files.</span></span> <br/> |
| <span data-ttu-id="ffb41-909">ИЗОБРАЖЕНИЕ \_ SCN \_ гпрел</span><span class="sxs-lookup"><span data-stu-id="ffb41-909">IMAGE\_SCN\_GPREL</span></span> <br/>                     | <span data-ttu-id="ffb41-910">0x00008000</span><span class="sxs-lookup"><span data-stu-id="ffb41-910">0x00008000</span></span> <br/> | <span data-ttu-id="ffb41-911">Раздел содержит данные, на которые ссылается глобальный указатель (GP).</span><span class="sxs-lookup"><span data-stu-id="ffb41-911">The section contains data referenced through the global pointer (GP).</span></span> <br/>                                                                                           |
| <span data-ttu-id="ffb41-912">Очистка образа уведомления \_ SCN \_ \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-912">IMAGE\_SCN\_MEM\_PURGEABLE</span></span> <br/>            | <span data-ttu-id="ffb41-913">0x00020000</span><span class="sxs-lookup"><span data-stu-id="ffb41-913">0x00020000</span></span> <br/> | <span data-ttu-id="ffb41-914">Зарезервировано для последующего использования.</span><span class="sxs-lookup"><span data-stu-id="ffb41-914">Reserved for future use.</span></span> <br/>                                                                                                                                        |
| <span data-ttu-id="ffb41-915">ОБРАЗ \_ уведомления \_ SCN \_ 16-разрядный</span><span class="sxs-lookup"><span data-stu-id="ffb41-915">IMAGE\_SCN\_MEM\_16BIT</span></span> <br/>                | <span data-ttu-id="ffb41-916">0x00020000</span><span class="sxs-lookup"><span data-stu-id="ffb41-916">0x00020000</span></span> <br/> | <span data-ttu-id="ffb41-917">Зарезервировано для последующего использования.</span><span class="sxs-lookup"><span data-stu-id="ffb41-917">Reserved for future use.</span></span> <br/>                                                                                                                                        |
| <span data-ttu-id="ffb41-918">\_ \_ Блокировка памяти образа \_ SCN</span><span class="sxs-lookup"><span data-stu-id="ffb41-918">IMAGE\_SCN\_MEM\_LOCKED</span></span> <br/>               | <span data-ttu-id="ffb41-919">0x00040000</span><span class="sxs-lookup"><span data-stu-id="ffb41-919">0x00040000</span></span> <br/> | <span data-ttu-id="ffb41-920">Зарезервировано для последующего использования.</span><span class="sxs-lookup"><span data-stu-id="ffb41-920">Reserved for future use.</span></span> <br/>                                                                                                                                        |
| <span data-ttu-id="ffb41-921">\_ \_ \_ ПРЕДВАРИТЕЛЬная Загрузка образа уведомления SCN</span><span class="sxs-lookup"><span data-stu-id="ffb41-921">IMAGE\_SCN\_MEM\_PRELOAD</span></span> <br/>              | <span data-ttu-id="ffb41-922">0x00080000</span><span class="sxs-lookup"><span data-stu-id="ffb41-922">0x00080000</span></span> <br/> | <span data-ttu-id="ffb41-923">Зарезервировано для последующего использования.</span><span class="sxs-lookup"><span data-stu-id="ffb41-923">Reserved for future use.</span></span> <br/>                                                                                                                                        |
| <span data-ttu-id="ffb41-924">ИЗОБРАЖЕНИЕ \_ уведомления \_ SCN \_ 1BYTES</span><span class="sxs-lookup"><span data-stu-id="ffb41-924">IMAGE\_SCN\_ALIGN\_1BYTES</span></span> <br/>             | <span data-ttu-id="ffb41-925">0x00100000</span><span class="sxs-lookup"><span data-stu-id="ffb41-925">0x00100000</span></span> <br/> | <span data-ttu-id="ffb41-926">Выровняйте данные на границе 1 байта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-926">Align data on a 1-byte boundary.</span></span> <span data-ttu-id="ffb41-927">Допустимо только для объектных файлов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-927">Valid only for object files.</span></span> <br/>                                                                                                   |
| <span data-ttu-id="ffb41-928">ИЗОБРАЖЕНИЕ \_ уведомления \_ SCN \_ 2BYTES</span><span class="sxs-lookup"><span data-stu-id="ffb41-928">IMAGE\_SCN\_ALIGN\_2BYTES</span></span> <br/>             | <span data-ttu-id="ffb41-929">0x00200000</span><span class="sxs-lookup"><span data-stu-id="ffb41-929">0x00200000</span></span> <br/> | <span data-ttu-id="ffb41-930">Выровняйте данные по 2-байтовой границе.</span><span class="sxs-lookup"><span data-stu-id="ffb41-930">Align data on a 2-byte boundary.</span></span> <span data-ttu-id="ffb41-931">Допустимо только для объектных файлов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-931">Valid only for object files.</span></span> <br/>                                                                                                   |
| <span data-ttu-id="ffb41-932">ИЗОБРАЖЕНИЕ \_ уведомления \_ SCN \_ 4BYTES</span><span class="sxs-lookup"><span data-stu-id="ffb41-932">IMAGE\_SCN\_ALIGN\_4BYTES</span></span> <br/>             | <span data-ttu-id="ffb41-933">0x00300000</span><span class="sxs-lookup"><span data-stu-id="ffb41-933">0x00300000</span></span> <br/> | <span data-ttu-id="ffb41-934">Выровняйте данные по 4-байтовой границе.</span><span class="sxs-lookup"><span data-stu-id="ffb41-934">Align data on a 4-byte boundary.</span></span> <span data-ttu-id="ffb41-935">Допустимо только для объектных файлов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-935">Valid only for object files.</span></span> <br/>                                                                                                   |
| <span data-ttu-id="ffb41-936">ИЗОБРАЖЕНИЕ \_ уведомления \_ SCN \_ 8BYTES</span><span class="sxs-lookup"><span data-stu-id="ffb41-936">IMAGE\_SCN\_ALIGN\_8BYTES</span></span> <br/>             | <span data-ttu-id="ffb41-937">0x00400000</span><span class="sxs-lookup"><span data-stu-id="ffb41-937">0x00400000</span></span> <br/> | <span data-ttu-id="ffb41-938">Выровняйте данные по 8-байтовой границе.</span><span class="sxs-lookup"><span data-stu-id="ffb41-938">Align data on an 8-byte boundary.</span></span> <span data-ttu-id="ffb41-939">Допустимо только для объектных файлов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-939">Valid only for object files.</span></span> <br/>                                                                                                  |
| <span data-ttu-id="ffb41-940">ИЗОБРАЖЕНИЕ \_ уведомления \_ SCN \_ 16BYTES</span><span class="sxs-lookup"><span data-stu-id="ffb41-940">IMAGE\_SCN\_ALIGN\_16BYTES</span></span> <br/>            | <span data-ttu-id="ffb41-941">0x00500000</span><span class="sxs-lookup"><span data-stu-id="ffb41-941">0x00500000</span></span> <br/> | <span data-ttu-id="ffb41-942">Выровняйте данные по 16-байтовой границе.</span><span class="sxs-lookup"><span data-stu-id="ffb41-942">Align data on a 16-byte boundary.</span></span> <span data-ttu-id="ffb41-943">Допустимо только для объектных файлов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-943">Valid only for object files.</span></span> <br/>                                                                                                  |
| <span data-ttu-id="ffb41-944">ИЗОБРАЖЕНИЕ \_ уведомления \_ SCN \_ 32BYTES</span><span class="sxs-lookup"><span data-stu-id="ffb41-944">IMAGE\_SCN\_ALIGN\_32BYTES</span></span> <br/>            | <span data-ttu-id="ffb41-945">0x00600000</span><span class="sxs-lookup"><span data-stu-id="ffb41-945">0x00600000</span></span> <br/> | <span data-ttu-id="ffb41-946">Выровняйте данные на границе 32 байта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-946">Align data on a 32-byte boundary.</span></span> <span data-ttu-id="ffb41-947">Допустимо только для объектных файлов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-947">Valid only for object files.</span></span> <br/>                                                                                                  |
| <span data-ttu-id="ffb41-948">ИЗОБРАЖЕНИЕ \_ уведомления \_ SCN \_ 64BYTES</span><span class="sxs-lookup"><span data-stu-id="ffb41-948">IMAGE\_SCN\_ALIGN\_64BYTES</span></span> <br/>            | <span data-ttu-id="ffb41-949">0x00700000</span><span class="sxs-lookup"><span data-stu-id="ffb41-949">0x00700000</span></span> <br/> | <span data-ttu-id="ffb41-950">Выровняйте данные на границе 64 байта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-950">Align data on a 64-byte boundary.</span></span> <span data-ttu-id="ffb41-951">Допустимо только для объектных файлов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-951">Valid only for object files.</span></span> <br/>                                                                                                  |
| <span data-ttu-id="ffb41-952">ИЗОБРАЖЕНИЕ \_ уведомления \_ SCN \_ 128BYTES</span><span class="sxs-lookup"><span data-stu-id="ffb41-952">IMAGE\_SCN\_ALIGN\_128BYTES</span></span> <br/>           | <span data-ttu-id="ffb41-953">0x00800000</span><span class="sxs-lookup"><span data-stu-id="ffb41-953">0x00800000</span></span> <br/> | <span data-ttu-id="ffb41-954">Выровняйте данные на границе 128 байта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-954">Align data on a 128-byte boundary.</span></span> <span data-ttu-id="ffb41-955">Допустимо только для объектных файлов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-955">Valid only for object files.</span></span> <br/>                                                                                                 |
| <span data-ttu-id="ffb41-956">ИЗОБРАЖЕНИЕ \_ уведомления \_ SCN \_ 256BYTES</span><span class="sxs-lookup"><span data-stu-id="ffb41-956">IMAGE\_SCN\_ALIGN\_256BYTES</span></span> <br/>           | <span data-ttu-id="ffb41-957">0x00900000</span><span class="sxs-lookup"><span data-stu-id="ffb41-957">0x00900000</span></span> <br/> | <span data-ttu-id="ffb41-958">Выровняйте данные на границе 256 байта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-958">Align data on a 256-byte boundary.</span></span> <span data-ttu-id="ffb41-959">Допустимо только для объектных файлов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-959">Valid only for object files.</span></span> <br/>                                                                                                 |
| <span data-ttu-id="ffb41-960">ИЗОБРАЖЕНИЕ \_ уведомления \_ SCN \_ 512BYTES</span><span class="sxs-lookup"><span data-stu-id="ffb41-960">IMAGE\_SCN\_ALIGN\_512BYTES</span></span> <br/>           | <span data-ttu-id="ffb41-961">0x00A00000</span><span class="sxs-lookup"><span data-stu-id="ffb41-961">0x00A00000</span></span> <br/> | <span data-ttu-id="ffb41-962">Выровняйте данные на границе 512 байта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-962">Align data on a 512-byte boundary.</span></span> <span data-ttu-id="ffb41-963">Допустимо только для объектных файлов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-963">Valid only for object files.</span></span> <br/>                                                                                                 |
| <span data-ttu-id="ffb41-964">ИЗОБРАЖЕНИЕ \_ уведомления \_ SCN \_ 1024BYTES</span><span class="sxs-lookup"><span data-stu-id="ffb41-964">IMAGE\_SCN\_ALIGN\_1024BYTES</span></span> <br/>          | <span data-ttu-id="ffb41-965">0x00B00000</span><span class="sxs-lookup"><span data-stu-id="ffb41-965">0x00B00000</span></span> <br/> | <span data-ttu-id="ffb41-966">Выровняйте данные на границе 1024 байта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-966">Align data on a 1024-byte boundary.</span></span> <span data-ttu-id="ffb41-967">Допустимо только для объектных файлов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-967">Valid only for object files.</span></span> <br/>                                                                                                |
| <span data-ttu-id="ffb41-968">ИЗОБРАЖЕНИЕ \_ уведомления \_ SCN \_ 2048BYTES</span><span class="sxs-lookup"><span data-stu-id="ffb41-968">IMAGE\_SCN\_ALIGN\_2048BYTES</span></span> <br/>          | <span data-ttu-id="ffb41-969">0x00C00000</span><span class="sxs-lookup"><span data-stu-id="ffb41-969">0x00C00000</span></span> <br/> | <span data-ttu-id="ffb41-970">Выровняйте данные на границе 2048 байта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-970">Align data on a 2048-byte boundary.</span></span> <span data-ttu-id="ffb41-971">Допустимо только для объектных файлов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-971">Valid only for object files.</span></span> <br/>                                                                                                |
| <span data-ttu-id="ffb41-972">ИЗОБРАЖЕНИЕ \_ уведомления \_ SCN \_ 4096BYTES</span><span class="sxs-lookup"><span data-stu-id="ffb41-972">IMAGE\_SCN\_ALIGN\_4096BYTES</span></span> <br/>          | <span data-ttu-id="ffb41-973">0x00D00000</span><span class="sxs-lookup"><span data-stu-id="ffb41-973">0x00D00000</span></span> <br/> | <span data-ttu-id="ffb41-974">Выровняйте данные на границе 4096 байта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-974">Align data on a 4096-byte boundary.</span></span> <span data-ttu-id="ffb41-975">Допустимо только для объектных файлов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-975">Valid only for object files.</span></span> <br/>                                                                                                |
| <span data-ttu-id="ffb41-976">ИЗОБРАЖЕНИЕ \_ уведомления \_ SCN \_ 8192BYTES</span><span class="sxs-lookup"><span data-stu-id="ffb41-976">IMAGE\_SCN\_ALIGN\_8192BYTES</span></span> <br/>          | <span data-ttu-id="ffb41-977">0x00E00000</span><span class="sxs-lookup"><span data-stu-id="ffb41-977">0x00E00000</span></span> <br/> | <span data-ttu-id="ffb41-978">Выровняйте данные по границе 8192 байта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-978">Align data on an 8192-byte boundary.</span></span> <span data-ttu-id="ffb41-979">Допустимо только для объектных файлов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-979">Valid only for object files.</span></span> <br/>                                                                                               |
| <span data-ttu-id="ffb41-980">ИЗОБРАЖЕНИЕ \_ SCN \_ LNK \_ нрелок \_ овфл</span><span class="sxs-lookup"><span data-stu-id="ffb41-980">IMAGE\_SCN\_LNK\_NRELOC\_OVFL</span></span> <br/>         | <span data-ttu-id="ffb41-981">0x01000000</span><span class="sxs-lookup"><span data-stu-id="ffb41-981">0x01000000</span></span> <br/> | <span data-ttu-id="ffb41-982">Раздел содержит расширенные перемещения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-982">The section contains extended relocations.</span></span> <br/>                                                                                                                      |
| <span data-ttu-id="ffb41-983">ОБРАЗ \_ уведомления \_ SCN \_ отклоняется</span><span class="sxs-lookup"><span data-stu-id="ffb41-983">IMAGE\_SCN\_MEM\_DISCARDABLE</span></span> <br/>          | <span data-ttu-id="ffb41-984">0x02000000</span><span class="sxs-lookup"><span data-stu-id="ffb41-984">0x02000000</span></span> <br/> | <span data-ttu-id="ffb41-985">При необходимости раздел можно отменять.</span><span class="sxs-lookup"><span data-stu-id="ffb41-985">The section can be discarded as needed.</span></span> <br/>                                                                                                                         |
| <span data-ttu-id="ffb41-986">ОБРАЗЫ \_ уведомления \_ SCN \_ не \_ кэшированы</span><span class="sxs-lookup"><span data-stu-id="ffb41-986">IMAGE\_SCN\_MEM\_NOT\_CACHED</span></span> <br/>          | <span data-ttu-id="ffb41-987">0x04000000</span><span class="sxs-lookup"><span data-stu-id="ffb41-987">0x04000000</span></span> <br/> | <span data-ttu-id="ffb41-988">Раздел не может быть кэширован.</span><span class="sxs-lookup"><span data-stu-id="ffb41-988">The section cannot be cached.</span></span> <br/>                                                                                                                                   |
| <span data-ttu-id="ffb41-989">нестраничных изображений уведомления \_ SCN \_ \_ \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-989">IMAGE\_SCN\_MEM\_NOT\_PAGED</span></span> <br/>           | <span data-ttu-id="ffb41-990">0x08000000</span><span class="sxs-lookup"><span data-stu-id="ffb41-990">0x08000000</span></span> <br/> | <span data-ttu-id="ffb41-991">Раздел не может быть страничным.</span><span class="sxs-lookup"><span data-stu-id="ffb41-991">The section is not pageable.</span></span> <br/>                                                                                                                                    |
| <span data-ttu-id="ffb41-992">совместное создание образа уведомления \_ SCN \_ \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-992">IMAGE\_SCN\_MEM\_SHARED</span></span> <br/>               | <span data-ttu-id="ffb41-993">0x10000000</span><span class="sxs-lookup"><span data-stu-id="ffb41-993">0x10000000</span></span> <br/> | <span data-ttu-id="ffb41-994">Раздел может быть общим в памяти.</span><span class="sxs-lookup"><span data-stu-id="ffb41-994">The section can be shared in memory.</span></span> <br/>                                                                                                                            |
| <span data-ttu-id="ffb41-995">выполнение образа уведомления \_ SCN \_ \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-995">IMAGE\_SCN\_MEM\_EXECUTE</span></span> <br/>              | <span data-ttu-id="ffb41-996">0x20000000</span><span class="sxs-lookup"><span data-stu-id="ffb41-996">0x20000000</span></span> <br/> | <span data-ttu-id="ffb41-997">Раздел можно выполнить как код.</span><span class="sxs-lookup"><span data-stu-id="ffb41-997">The section can be executed as code.</span></span> <br/>                                                                                                                            |
| <span data-ttu-id="ffb41-998">чтение образа уведомления \_ SCN \_ \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-998">IMAGE\_SCN\_MEM\_READ</span></span> <br/>                 | <span data-ttu-id="ffb41-999">0x40000000</span><span class="sxs-lookup"><span data-stu-id="ffb41-999">0x40000000</span></span> <br/> | <span data-ttu-id="ffb41-1000">Раздел можно прочитать.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1000">The section can be read.</span></span> <br/>                                                                                                                                        |
| <span data-ttu-id="ffb41-1001">\_ \_ запись MEM уведомления образа \_ записи</span><span class="sxs-lookup"><span data-stu-id="ffb41-1001">IMAGE\_SCN\_MEM\_WRITE</span></span> <br/>                | <span data-ttu-id="ffb41-1002">0x80000000</span><span class="sxs-lookup"><span data-stu-id="ffb41-1002">0x80000000</span></span> <br/> | <span data-ttu-id="ffb41-1003">Раздел можно записать в.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1003">The section can be written to.</span></span> <br/>                                                                                                                                  |



 

<span data-ttu-id="ffb41-1004">ИЗОБРАЖЕНИЕ \_ SCN \_ LNK \_ нрелок \_ овфл указывает, что число повторов для раздела превышает 16 битов, зарезервированных для него в заголовке раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1004">IMAGE\_SCN\_LNK\_NRELOC\_OVFL indicates that the count of relocations for the section exceeds the 16 bits that are reserved for it in the section header.</span></span> <span data-ttu-id="ffb41-1005">Если бит задан, а поле Нумберофрелокатионс в заголовке раздела имеет значение 0xFFFF, фактическое число перемещается в 32-битном поле Виртуаладдресс первого перемещения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1005">If the bit is set and the NumberOfRelocations field in the section header is 0xffff, the actual relocation count is stored in the 32-bit VirtualAddress field of the first relocation.</span></span> <span data-ttu-id="ffb41-1006">Является ошибкой то, что \_ установлен образ SCN \_ LNK \_ нрелок \_ овфл, и в разделе меньше 0xFFFF расположений.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1006">It is an error if IMAGE\_SCN\_LNK\_NRELOC\_OVFL is set and there are fewer than 0xffff relocations in the section.</span></span>

### <a name="grouped-sections-object-only"></a><span data-ttu-id="ffb41-1007">Сгруппированные разделы (только объект)</span><span class="sxs-lookup"><span data-stu-id="ffb41-1007">Grouped Sections (Object Only)</span></span>

<span data-ttu-id="ffb41-1008">"$"?</span><span class="sxs-lookup"><span data-stu-id="ffb41-1008">The "$"?</span></span> <span data-ttu-id="ffb41-1009">символ (знак доллара) имеет специальную интерпретацию в именах разделов в объектных файлах.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1009">character (dollar sign) has a special interpretation in section names in object files.</span></span>

<span data-ttu-id="ffb41-1010">При определении раздела изображения, который будет содержать содержимое раздела объекта, компоновщик отклоняет "$"?</span><span class="sxs-lookup"><span data-stu-id="ffb41-1010">When determining the image section that will contain the contents of an object section, the linker discards the "$"?</span></span> <span data-ttu-id="ffb41-1011">и все символы, которые следуют за ним.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1011">and all characters that follow it.</span></span> <span data-ttu-id="ffb41-1012">Таким словами, раздел объекта с именем. **текст $ X** фактически участвует в разделе **. Text** изображения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1012">Thus, an object section named .**text$X** actually contributes to the **.text** section in the image.</span></span>

<span data-ttu-id="ffb41-1013">Однако символы, следующие за символом "$"?</span><span class="sxs-lookup"><span data-stu-id="ffb41-1013">However, the characters following the "$"?</span></span> <span data-ttu-id="ffb41-1014">Определите порядок вкладов в раздел Image.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1014">determine the ordering of the contributions to the image section.</span></span> <span data-ttu-id="ffb41-1015">Все публикации с одним и тем же именем раздела объекта выделяются на изображении непрерывно, а блоки публикаций сортируются в лексической последовательности по имени объектного раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1015">All contributions with the same object-section name are allocated contiguously in the image, and the blocks of contributions are sorted in lexical order by object-section name.</span></span> <span data-ttu-id="ffb41-1016">Таким образом, все в объектных файлах с именем раздела **. текст $ X** завершается вместе, после публикации **. Text $ W** и перед публикациями **. Text $ Y** .</span><span class="sxs-lookup"><span data-stu-id="ffb41-1016">Therefore, everything in object files with section name **.text$X** ends up together, after the **.text$W** contributions and before the **.text$Y** contributions.</span></span>

<span data-ttu-id="ffb41-1017">Имя раздела в файле изображения никогда не содержит "$"?</span><span class="sxs-lookup"><span data-stu-id="ffb41-1017">The section name in an image file never contains a "$"?</span></span> <span data-ttu-id="ffb41-1018">.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1018">character.</span></span>

## <a name="other-contents-of-the-file"></a><span data-ttu-id="ffb41-1019">Другое содержимое файла</span><span class="sxs-lookup"><span data-stu-id="ffb41-1019">Other Contents of the File</span></span>

- [<span data-ttu-id="ffb41-1020">Данные раздела</span><span class="sxs-lookup"><span data-stu-id="ffb41-1020">Section Data</span></span>](#section-data)
- [<span data-ttu-id="ffb41-1021">Перемещения COFF (только объект)</span><span class="sxs-lookup"><span data-stu-id="ffb41-1021">COFF Relocations (Object Only)</span></span>](#coff-relocations-object-only)
  - [<span data-ttu-id="ffb41-1022">Индикаторы типов</span><span class="sxs-lookup"><span data-stu-id="ffb41-1022">Type Indicators</span></span>](#type-indicators)
- [<span data-ttu-id="ffb41-1023">Номера строк COFF (не рекомендуется)</span><span class="sxs-lookup"><span data-stu-id="ffb41-1023">COFF Line Numbers (Deprecated)</span></span>](#coff-line-numbers-deprecated)
- [<span data-ttu-id="ffb41-1024">Таблица символов COFF</span><span class="sxs-lookup"><span data-stu-id="ffb41-1024">COFF Symbol Table</span></span>](#coff-symbol-table)
  - [<span data-ttu-id="ffb41-1025">Представление имени символа</span><span class="sxs-lookup"><span data-stu-id="ffb41-1025">Symbol Name Representation</span></span>](#symbol-name-representation)
  - [<span data-ttu-id="ffb41-1026">Значения номеров разделов</span><span class="sxs-lookup"><span data-stu-id="ffb41-1026">Section Number Values</span></span>](#section-number-values)
  - [<span data-ttu-id="ffb41-1027">Представление типа</span><span class="sxs-lookup"><span data-stu-id="ffb41-1027">Type Representation</span></span>](#type-representation)
  - [<span data-ttu-id="ffb41-1028">Класс хранения</span><span class="sxs-lookup"><span data-stu-id="ffb41-1028">Storage Class</span></span>](#storage-class)
- [<span data-ttu-id="ffb41-1029">Вспомогательные записи символов</span><span class="sxs-lookup"><span data-stu-id="ffb41-1029">Auxiliary Symbol Records</span></span>](#auxiliary-symbol-records)
  - [<span data-ttu-id="ffb41-1030">Вспомогательный формат 1. определения функций</span><span class="sxs-lookup"><span data-stu-id="ffb41-1030">Auxiliary Format 1: Function Definitions</span></span>](#auxiliary-format-1-function-definitions)
  - [<span data-ttu-id="ffb41-1031">Вспомогательные символы формата 2:. BF и. EF</span><span class="sxs-lookup"><span data-stu-id="ffb41-1031">Auxiliary Format 2: .bf and .ef Symbols</span></span>](#auxiliary-format-2-bf-and-ef-symbols)
  - [<span data-ttu-id="ffb41-1032">Вспомогательный формат 3: слабые внешние</span><span class="sxs-lookup"><span data-stu-id="ffb41-1032">Auxiliary Format 3: Weak Externals</span></span>](#auxiliary-format-3-weak-externals)
  - [<span data-ttu-id="ffb41-1033">Вспомогательный формат 4: файлы</span><span class="sxs-lookup"><span data-stu-id="ffb41-1033">Auxiliary Format 4: Files</span></span>](#auxiliary-format-4-files)
  - [<span data-ttu-id="ffb41-1034">Дополнительный формат 5. определения разделов</span><span class="sxs-lookup"><span data-stu-id="ffb41-1034">Auxiliary Format 5: Section Definitions</span></span>](#auxiliary-format-5-section-definitions)
  - [<span data-ttu-id="ffb41-1035">Разделы COMDAT (только объект)</span><span class="sxs-lookup"><span data-stu-id="ffb41-1035">COMDAT Sections (Object Only)</span></span>](#comdat-sections-object-only)
  - [<span data-ttu-id="ffb41-1036">Определение токена CLR (только объект)</span><span class="sxs-lookup"><span data-stu-id="ffb41-1036">CLR Token Definition (Object Only)</span></span>](#clr-token-definition-object-only)
- [<span data-ttu-id="ffb41-1037">Таблица строк COFF</span><span class="sxs-lookup"><span data-stu-id="ffb41-1037">COFF String Table</span></span>](#coff-string-table)
- [<span data-ttu-id="ffb41-1038">Таблица атрибутов сертификата (только для изображений)</span><span class="sxs-lookup"><span data-stu-id="ffb41-1038">The Attribute Certificate Table (Image Only)</span></span>](#the-attribute-certificate-table-image-only)
  - [<span data-ttu-id="ffb41-1039">Данные сертификата</span><span class="sxs-lookup"><span data-stu-id="ffb41-1039">Certificate Data</span></span>](#certificate-data)
- [<span data-ttu-id="ffb41-1040">Отложенная загрузка таблиц импорта (только для изображений)</span><span class="sxs-lookup"><span data-stu-id="ffb41-1040">Delay-Load Import Tables (Image Only)</span></span>](#delay-load-import-tables-image-only)
  - [<span data-ttu-id="ffb41-1041">Таблица Delay-Load Directory</span><span class="sxs-lookup"><span data-stu-id="ffb41-1041">The Delay-Load Directory Table</span></span>](#the-delay-load-directory-table)
  - [<span data-ttu-id="ffb41-1042">Атрибуты</span><span class="sxs-lookup"><span data-stu-id="ffb41-1042">Attributes</span></span>](#attributes)
  - [<span data-ttu-id="ffb41-1043">Name</span><span class="sxs-lookup"><span data-stu-id="ffb41-1043">Name</span></span>](#name)
  - [<span data-ttu-id="ffb41-1044">Маркер модуля</span><span class="sxs-lookup"><span data-stu-id="ffb41-1044">Module Handle</span></span>](#module-handle)
  - [<span data-ttu-id="ffb41-1045">Таблица адресов задержки импорта</span><span class="sxs-lookup"><span data-stu-id="ffb41-1045">Delay Import Address Table</span></span>](#delay-import-address-table)
  - [<span data-ttu-id="ffb41-1046">Таблица имен отложенных импортов</span><span class="sxs-lookup"><span data-stu-id="ffb41-1046">Delay Import Name Table</span></span>](#delay-import-name-table)
  - [<span data-ttu-id="ffb41-1047">Откладывание связанной таблицы адресов импорта и отметок времени</span><span class="sxs-lookup"><span data-stu-id="ffb41-1047">Delay Bound Import Address Table and Time Stamp</span></span>](#delay-bound-import-address-table-and-time-stamp)
  - [<span data-ttu-id="ffb41-1048">Таблица адресов импорта отложенной выгрузки</span><span class="sxs-lookup"><span data-stu-id="ffb41-1048">Delay Unload Import Address Table</span></span>](#delay-unload-import-address-table)

<span data-ttu-id="ffb41-1049">Структуры данных, описанные выше, вплоть до и включая необязательный заголовок, расположены по фиксированному смещению от начала файла (или из заголовка PE, если файл является изображением, содержащим заглушку MS-DOS).</span><span class="sxs-lookup"><span data-stu-id="ffb41-1049">The data structures that were described so far, up to and including the optional header, are all located at a fixed offset from the beginning of the file (or from the PE header if the file is an image that contains an MS-DOS stub).</span></span>

<span data-ttu-id="ffb41-1050">Оставшаяся часть объекта COFF или файла изображения содержит блоки данных, которые не обязательно должны быть в определенном смещении файла.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1050">The remainder of a COFF object or image file contains blocks of data that are not necessarily at any specific file offset.</span></span> <span data-ttu-id="ffb41-1051">Вместо этого расположения определяются указателями в необязательном заголовке или в заголовке раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1051">Instead, the locations are defined by pointers in the optional header or a section header.</span></span>

<span data-ttu-id="ffb41-1052">Исключением является изображение со значением выравнивание раздела меньше размера страницы архитектуры (4 K для Intel x86 и для MIPS и 8 КБ для Itanium).</span><span class="sxs-lookup"><span data-stu-id="ffb41-1052">An exception is for images with a SectionAlignment value of less than the page size of the architecture (4 K for Intel x86 and for MIPS, and 8 K for Itanium).</span></span> <span data-ttu-id="ffb41-1053">Описание выравнивание раздела см. в разделе [необязательный заголовок (только изображение)](#optional-header-image-only).</span><span class="sxs-lookup"><span data-stu-id="ffb41-1053">For a description of SectionAlignment, see [Optional Header (Image Only)](#optional-header-image-only).</span></span> <span data-ttu-id="ffb41-1054">В этом случае существуют ограничения на смещение файла данных раздела, как описано в разделе 5,1 "данные раздела".</span><span class="sxs-lookup"><span data-stu-id="ffb41-1054">In this case, there are constraints on the file offset of the section data, as described in section 5.1, "Section Data."</span></span> <span data-ttu-id="ffb41-1055">Еще одно исключение заключается в том, что сертификат атрибута и сведения об отладке должны размещаться в самом конце файла изображения с таблицей сертификата «атрибут» непосредственно перед разделом «Отладка», поскольку загрузчик не сопоставляет их с памятью.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1055">Another exception is that attribute certificate and debug information must be placed at the very end of an image file, with the attribute certificate table immediately preceding the debug section, because the loader does not map these into memory.</span></span> <span data-ttu-id="ffb41-1056">Однако правило сведений о сертификате атрибута и отладочной информации не применяется к объектным файлам.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1056">The rule about attribute certificate and debug information does not apply to object files, however.</span></span>

### <a name="section-data"></a><span data-ttu-id="ffb41-1057">Данные раздела</span><span class="sxs-lookup"><span data-stu-id="ffb41-1057">Section Data</span></span>

<span data-ttu-id="ffb41-1058">Инициализированные данные для раздела состоят из простых блоков байтов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1058">Initialized data for a section consists of simple blocks of bytes.</span></span> <span data-ttu-id="ffb41-1059">Однако для разделов, содержащих все нули, данные раздела указывать не нужно.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1059">However, for sections that contain all zeros, the section data need not be included.</span></span>

<span data-ttu-id="ffb41-1060">Данные для каждого раздела находятся в смещении файла, которое было задано полем Поинтерторавдата в заголовке раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1060">The data for each section is located at the file offset that was given by the PointerToRawData field in the section header.</span></span> <span data-ttu-id="ffb41-1061">Размер этих данных в файле указывается полем Сизеофравдата.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1061">The size of this data in the file is indicated by the SizeOfRawData field.</span></span> <span data-ttu-id="ffb41-1062">Если значение Сизеофравдата меньше Виртуалсизе, остаток дополняется нулями.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1062">If SizeOfRawData is less than VirtualSize, the remainder is padded with zeros.</span></span>

<span data-ttu-id="ffb41-1063">В файле изображения данные раздела должны быть согласованы по границе, как указано в поле FileAlignment в необязательном заголовке.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1063">In an image file, the section data must be aligned on a boundary as specified by the FileAlignment field in the optional header.</span></span> <span data-ttu-id="ffb41-1064">Данные раздела должны отображаться в порядке значений RVA для соответствующих разделов (как и отдельные заголовки разделов в таблице разделов).</span><span class="sxs-lookup"><span data-stu-id="ffb41-1064">Section data must appear in order of the RVA values for the corresponding sections (as do the individual section headers in the section table).</span></span>

<span data-ttu-id="ffb41-1065">Существуют дополнительные ограничения на файлы изображений, если значение выравнивание раздела в необязательном заголовке меньше размера страницы архитектуры.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1065">There are additional restrictions on image files if the SectionAlignment value in the optional header is less than the page size of the architecture.</span></span> <span data-ttu-id="ffb41-1066">Для таких файлов расположение данных раздела в файле должно совпадать с расположением в памяти при загрузке изображения, чтобы физическое смещение для данных раздела совпадало с RVA.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1066">For such files, the location of section data in the file must match its location in memory when the image is loaded, so that the physical offset for section data is the same as the RVA.</span></span>

### <a name="coff-relocations-object-only"></a><span data-ttu-id="ffb41-1067">Перемещения COFF (только объект)</span><span class="sxs-lookup"><span data-stu-id="ffb41-1067">COFF Relocations (Object Only)</span></span>

<span data-ttu-id="ffb41-1068">Объектные файлы содержат перемещения COFF, которые определяют, как следует изменять данные раздела при помещении в файл изображения и последующей загрузке в память.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1068">Object files contain COFF relocations, which specify how the section data should be modified when placed in the image file and subsequently loaded into memory.</span></span>

<span data-ttu-id="ffb41-1069">Файлы изображений не содержат перемещения COFF, так как для всех символов, на которые указывают ссылки, уже были назначены адреса в пространстве с плоским адресом.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1069">Image files do not contain COFF relocations, because all referenced symbols have already been assigned addresses in a flat address space.</span></span> <span data-ttu-id="ffb41-1070">Изображение содержит сведения о перемещении в виде базовых перемещений в разделе. reloc (если изображение не содержит \_ \_ \_ неочищенный атрибут).</span><span class="sxs-lookup"><span data-stu-id="ffb41-1070">An image contains relocation information in the form of base relocations in the .reloc section (unless the image has the IMAGE\_FILE\_RELOCS\_STRIPPED attribute).</span></span> <span data-ttu-id="ffb41-1071">Дополнительные сведения см. [в разделе. reloc (только изображение)](#the-reloc-section-image-only).</span><span class="sxs-lookup"><span data-stu-id="ffb41-1071">For more information, see [The .reloc Section (Image Only)](#the-reloc-section-image-only).</span></span>

<span data-ttu-id="ffb41-1072">Для каждого раздела в объектном файле массив записей фиксированной длины содержит перерасположение COFF раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1072">For each section in an object file, an array of fixed-length records holds the section's COFF relocations.</span></span> <span data-ttu-id="ffb41-1073">Расположение и длина массива указываются в заголовке раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1073">The position and length of the array are specified in the section header.</span></span> <span data-ttu-id="ffb41-1074">Каждый элемент массива имеет следующий формат.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1074">Each element of the array has the following format.</span></span>



| <span data-ttu-id="ffb41-1075">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-1075">Offset</span></span>        | <span data-ttu-id="ffb41-1076">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-1076">Size</span></span>          | <span data-ttu-id="ffb41-1077">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-1077">Field</span></span>                        | <span data-ttu-id="ffb41-1078">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-1078">Description</span></span>                                                                                                                                                                                                                                                                                                                                                     |
|---------------|---------------|------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-1079">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-1079">0</span></span> <br/> | <span data-ttu-id="ffb41-1080">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-1080">4</span></span> <br/> | <span data-ttu-id="ffb41-1081">виртуаладдресс</span><span class="sxs-lookup"><span data-stu-id="ffb41-1081">VirtualAddress</span></span> <br/>   | <span data-ttu-id="ffb41-1082">Адрес элемента, к которому применяется перемещение.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1082">The address of the item to which relocation is applied.</span></span> <span data-ttu-id="ffb41-1083">Это смещение от начала раздела и значение поля RVA/offset раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1083">This is the offset from the beginning of the section, plus the value of the section's RVA/Offset field.</span></span> <span data-ttu-id="ffb41-1084">См. [раздел Таблица (заголовки разделов)](#section-table-section-headers).</span><span class="sxs-lookup"><span data-stu-id="ffb41-1084">See [Section Table (Section Headers)](#section-table-section-headers).</span></span> <span data-ttu-id="ffb41-1085">Например, если первый байт раздела имеет адрес 0x10, третий байт имеет адрес 0x12.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1085">For example, if the first byte of the section has an address of 0x10, the third byte has an address of 0x12.</span></span> <br/> |
| <span data-ttu-id="ffb41-1086">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-1086">4</span></span> <br/> | <span data-ttu-id="ffb41-1087">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-1087">4</span></span> <br/> | <span data-ttu-id="ffb41-1088">симболтаблеиндекс</span><span class="sxs-lookup"><span data-stu-id="ffb41-1088">SymbolTableIndex</span></span> <br/> | <span data-ttu-id="ffb41-1089">Отсчитываемый от нуля индекс в таблице символов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1089">A zero-based index into the symbol table.</span></span> <span data-ttu-id="ffb41-1090">Этот символ дает адрес, который будет использоваться для перемещения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1090">This symbol gives the address that is to be used for the relocation.</span></span> <span data-ttu-id="ffb41-1091">Если указанный символ содержит класс хранения раздела, то адрес символа является адресом первого раздела с таким же именем.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1091">If the specified symbol has section storage class, then the symbol's address is the address with the first section of the same name.</span></span> <br/>                                                                                                 |
| <span data-ttu-id="ffb41-1092">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-1092">8</span></span> <br/> | <span data-ttu-id="ffb41-1093">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-1093">2</span></span> <br/> | <span data-ttu-id="ffb41-1094">Тип</span><span class="sxs-lookup"><span data-stu-id="ffb41-1094">Type</span></span> <br/>             | <span data-ttu-id="ffb41-1095">Значение, указывающее тип перемещения, которое должно быть выполнено.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1095">A value that indicates the kind of relocation that should be performed.</span></span> <span data-ttu-id="ffb41-1096">Допустимые типы перемещения зависят от типа компьютера.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1096">Valid relocation types depend on machine type.</span></span> <span data-ttu-id="ffb41-1097">См. раздел [индикаторы типов](#type-indicators).</span><span class="sxs-lookup"><span data-stu-id="ffb41-1097">See [Type Indicators](#type-indicators).</span></span> <br/>                                                                                                                                                                                     |



 

<span data-ttu-id="ffb41-1098">Если символ, на который ссылается поле Симболтаблеиндекс, содержит раздел класс хранения IMAGE \_ Class \_ SYM \_ , то адрес символа является началом раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1098">If the symbol referred to by the SymbolTableIndex field has the storage class IMAGE\_SYM\_CLASS\_SECTION, the symbol's address is the beginning of the section.</span></span> <span data-ttu-id="ffb41-1099">Раздел обычно находится в том же файле, за исключением случаев, когда объектный файл является частью архива (библиотеки).</span><span class="sxs-lookup"><span data-stu-id="ffb41-1099">The section is usually in the same file, except when the object file is part of an archive (library).</span></span> <span data-ttu-id="ffb41-1100">В этом случае раздел можно найти в любом другом файле объекта в архиве, который имеет то же имя архива, что и текущий объектный файл.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1100">In that case, the section can be found in any other object file in the archive that has the same archive-member name as the current object file.</span></span> <span data-ttu-id="ffb41-1101">(Связь с именем архива-Member используется в связи с импортируемыми таблицами, то есть в разделе. иДата.)</span><span class="sxs-lookup"><span data-stu-id="ffb41-1101">(The relationship with the archive-member name is used in the linking of import tables, that is, the .idata section.)</span></span>

#### <a name="type-indicators"></a><span data-ttu-id="ffb41-1102">Индикаторы типов</span><span class="sxs-lookup"><span data-stu-id="ffb41-1102">Type Indicators</span></span>

<span data-ttu-id="ffb41-1103">Поле Type (тип) записи перемещения указывает, какой вид перемещения следует выполнить.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1103">The Type field of the relocation record indicates what kind of relocation should be performed.</span></span> <span data-ttu-id="ffb41-1104">Различные типы перемещения определяются для каждого типа компьютера.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1104">Different relocation types are defined for each type of machine.</span></span>

##### <a name="x64-processors"></a><span data-ttu-id="ffb41-1105">Процессоры x64</span><span class="sxs-lookup"><span data-stu-id="ffb41-1105">x64 Processors</span></span>

<span data-ttu-id="ffb41-1106">Для 64-разрядных и совместимых процессоров определены следующие индикаторы типа перемещения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1106">The following relocation type indicators are defined for x64 and compatible processors.</span></span>



| <span data-ttu-id="ffb41-1107">Константа</span><span class="sxs-lookup"><span data-stu-id="ffb41-1107">Constant</span></span>                                | <span data-ttu-id="ffb41-1108">Значение</span><span class="sxs-lookup"><span data-stu-id="ffb41-1108">Value</span></span>              | <span data-ttu-id="ffb41-1109">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-1109">Description</span></span>                                                                                                                                                   |
|-----------------------------------------|--------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-1110">IMAGE \_ rel \_ amd64 \_ Absolute</span><span class="sxs-lookup"><span data-stu-id="ffb41-1110">IMAGE\_REL\_AMD64\_ABSOLUTE</span></span> <br/> | <span data-ttu-id="ffb41-1111">0x0000</span><span class="sxs-lookup"><span data-stu-id="ffb41-1111">0x0000</span></span> <br/> | <span data-ttu-id="ffb41-1112">Перемещение не учитывается.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1112">The relocation is ignored.</span></span> <br/>                                                                                                                        |
| <span data-ttu-id="ffb41-1113">IMAGE \_ rel \_ amd64 \_ ADDR64</span><span class="sxs-lookup"><span data-stu-id="ffb41-1113">IMAGE\_REL\_AMD64\_ADDR64</span></span> <br/>   | <span data-ttu-id="ffb41-1114">0x0001</span><span class="sxs-lookup"><span data-stu-id="ffb41-1114">0x0001</span></span> <br/> | <span data-ttu-id="ffb41-1115">64-бит ва целевого объекта перемещения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1115">The 64-bit VA of the relocation target.</span></span> <br/>                                                                                                           |
| <span data-ttu-id="ffb41-1116">IMAGE \_ rel \_ amd64 \_ ADDR32</span><span class="sxs-lookup"><span data-stu-id="ffb41-1116">IMAGE\_REL\_AMD64\_ADDR32</span></span> <br/>   | <span data-ttu-id="ffb41-1117">0x0002</span><span class="sxs-lookup"><span data-stu-id="ffb41-1117">0x0002</span></span> <br/> | <span data-ttu-id="ffb41-1118">32-бит ва целевого объекта перемещения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1118">The 32-bit VA of the relocation target.</span></span> <br/>                                                                                                           |
| <span data-ttu-id="ffb41-1119">IMAGE \_ rel \_ amd64 \_ ADDR32NB</span><span class="sxs-lookup"><span data-stu-id="ffb41-1119">IMAGE\_REL\_AMD64\_ADDR32NB</span></span> <br/> | <span data-ttu-id="ffb41-1120">0x0003</span><span class="sxs-lookup"><span data-stu-id="ffb41-1120">0x0003</span></span> <br/> | <span data-ttu-id="ffb41-1121">32-разрядный адрес без базы образа (RVA).</span><span class="sxs-lookup"><span data-stu-id="ffb41-1121">The 32-bit address without an image base (RVA).</span></span> <br/>                                                                                                   |
| <span data-ttu-id="ffb41-1122">IMAGE \_ rel \_ amd64 \_ REL32</span><span class="sxs-lookup"><span data-stu-id="ffb41-1122">IMAGE\_REL\_AMD64\_REL32</span></span> <br/>    | <span data-ttu-id="ffb41-1123">0x0004</span><span class="sxs-lookup"><span data-stu-id="ffb41-1123">0x0004</span></span> <br/> | <span data-ttu-id="ffb41-1124">32-разрядный относительный адрес от байта после перемещения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1124">The 32-bit relative address from the byte following the relocation.</span></span> <br/>                                                                               |
| <span data-ttu-id="ffb41-1125">IMAGE \_ rel \_ amd64 \_ REL32 \_ 1</span><span class="sxs-lookup"><span data-stu-id="ffb41-1125">IMAGE\_REL\_AMD64\_REL32\_1</span></span> <br/> | <span data-ttu-id="ffb41-1126">0x0005</span><span class="sxs-lookup"><span data-stu-id="ffb41-1126">0x0005</span></span> <br/> | <span data-ttu-id="ffb41-1127">32-разрядный адрес относительно расстояния 1 байта от перемещения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1127">The 32-bit address relative to byte distance 1 from the relocation.</span></span> <br/>                                                                               |
| <span data-ttu-id="ffb41-1128">IMAGE \_ rel \_ amd64 \_ REL32 \_ 2</span><span class="sxs-lookup"><span data-stu-id="ffb41-1128">IMAGE\_REL\_AMD64\_REL32\_2</span></span> <br/> | <span data-ttu-id="ffb41-1129">0x0006</span><span class="sxs-lookup"><span data-stu-id="ffb41-1129">0x0006</span></span> <br/> | <span data-ttu-id="ffb41-1130">32-разрядный адрес относительно расстояния в байтах 2 от перемещения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1130">The 32-bit address relative to byte distance 2 from the relocation.</span></span> <br/>                                                                               |
| <span data-ttu-id="ffb41-1131">IMAGE \_ rel \_ amd64 \_ REL32 \_ 3</span><span class="sxs-lookup"><span data-stu-id="ffb41-1131">IMAGE\_REL\_AMD64\_REL32\_3</span></span> <br/> | <span data-ttu-id="ffb41-1132">0x0007</span><span class="sxs-lookup"><span data-stu-id="ffb41-1132">0x0007</span></span> <br/> | <span data-ttu-id="ffb41-1133">32-разрядный адрес относительно расстояния в 3 байта от перемещения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1133">The 32-bit address relative to byte distance 3 from the relocation.</span></span> <br/>                                                                               |
| <span data-ttu-id="ffb41-1134">IMAGE \_ rel \_ amd64 \_ REL32 \_ 4</span><span class="sxs-lookup"><span data-stu-id="ffb41-1134">IMAGE\_REL\_AMD64\_REL32\_4</span></span> <br/> | <span data-ttu-id="ffb41-1135">0x0008</span><span class="sxs-lookup"><span data-stu-id="ffb41-1135">0x0008</span></span> <br/> | <span data-ttu-id="ffb41-1136">32-разрядный адрес относительно однобайтового расстояния 4 из перемещения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1136">The 32-bit address relative to byte distance 4 from the relocation.</span></span> <br/>                                                                               |
| <span data-ttu-id="ffb41-1137">IMAGE \_ rel \_ amd64 \_ REL32 \_ 5</span><span class="sxs-lookup"><span data-stu-id="ffb41-1137">IMAGE\_REL\_AMD64\_REL32\_5</span></span> <br/> | <span data-ttu-id="ffb41-1138">0x0009</span><span class="sxs-lookup"><span data-stu-id="ffb41-1138">0x0009</span></span> <br/> | <span data-ttu-id="ffb41-1139">32-разрядный адрес относительно расстояния в байтах 5 от перемещения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1139">The 32-bit address relative to byte distance 5 from the relocation.</span></span> <br/>                                                                               |
| <span data-ttu-id="ffb41-1140">IMAGE \_ rel \_ AMD64, \_ раздел</span><span class="sxs-lookup"><span data-stu-id="ffb41-1140">IMAGE\_REL\_AMD64\_SECTION</span></span> <br/>  | <span data-ttu-id="ffb41-1141">0x000A</span><span class="sxs-lookup"><span data-stu-id="ffb41-1141">0x000A</span></span> <br/> | <span data-ttu-id="ffb41-1142">16-битный индекс раздела, содержащий целевой объект.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1142">The 16-bit section index of the section that contains the target.</span></span> <span data-ttu-id="ffb41-1143">Используется для поддержки отладочной информации.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1143">This is used to support debugging information.</span></span> <br/>                                  |
| <span data-ttu-id="ffb41-1144">IMAGE \_ rel \_ amd64 \_ секрел</span><span class="sxs-lookup"><span data-stu-id="ffb41-1144">IMAGE\_REL\_AMD64\_SECREL</span></span> <br/>   | <span data-ttu-id="ffb41-1145">0x000B</span><span class="sxs-lookup"><span data-stu-id="ffb41-1145">0x000B</span></span> <br/> | <span data-ttu-id="ffb41-1146">32-разрядное смещение целевого объекта от начала его раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1146">The 32-bit offset of the target from the beginning of its section.</span></span> <span data-ttu-id="ffb41-1147">Используется для поддержки отладочной информации и локального хранилища потока.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1147">This is used to support debugging information and static thread local storage.</span></span> <br/> |
| <span data-ttu-id="ffb41-1148">IMAGE \_ rel \_ amd64 \_ SECREL7</span><span class="sxs-lookup"><span data-stu-id="ffb41-1148">IMAGE\_REL\_AMD64\_SECREL7</span></span> <br/>  | <span data-ttu-id="ffb41-1149">0x000C</span><span class="sxs-lookup"><span data-stu-id="ffb41-1149">0x000C</span></span> <br/> | <span data-ttu-id="ffb41-1150">7-битовое смещение без знака от базового раздела, содержащего целевой объект.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1150">A 7-bit unsigned offset from the base of the section that contains the target.</span></span> <br/>                                                                    |
| <span data-ttu-id="ffb41-1151">\_Маркер Image rel \_ amd64 \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-1151">IMAGE\_REL\_AMD64\_TOKEN</span></span> <br/>    | <span data-ttu-id="ffb41-1152">0x000D</span><span class="sxs-lookup"><span data-stu-id="ffb41-1152">0x000D</span></span> <br/> | <span data-ttu-id="ffb41-1153">Токены CLR.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1153">CLR tokens.</span></span> <br/>                                                                                                                                       |
| <span data-ttu-id="ffb41-1154">IMAGE \_ rel \_ amd64 \_ SREL32</span><span class="sxs-lookup"><span data-stu-id="ffb41-1154">IMAGE\_REL\_AMD64\_SREL32</span></span> <br/>   | <span data-ttu-id="ffb41-1155">0x000E</span><span class="sxs-lookup"><span data-stu-id="ffb41-1155">0x000E</span></span> <br/> | <span data-ttu-id="ffb41-1156">32-разрядное значение, зависящее от диапазона, порожденное в объект.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1156">A 32-bit signed span-dependent value emitted into the object.</span></span> <br/>                                                                                     |
| <span data-ttu-id="ffb41-1157">\_Пара Image rel \_ amd64 \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-1157">IMAGE\_REL\_AMD64\_PAIR</span></span> <br/>     | <span data-ttu-id="ffb41-1158">0x000F</span><span class="sxs-lookup"><span data-stu-id="ffb41-1158">0x000F</span></span> <br/> | <span data-ttu-id="ffb41-1159">Пара, которая должна следовать сразу за каждым значением, зависящим от диапазона.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1159">A pair that must immediately follow every span-dependent value.</span></span> <br/>                                                                                   |
| <span data-ttu-id="ffb41-1160">IMAGE \_ rel \_ amd64 \_ SSPAN32</span><span class="sxs-lookup"><span data-stu-id="ffb41-1160">IMAGE\_REL\_AMD64\_SSPAN32</span></span> <br/>  | <span data-ttu-id="ffb41-1161">0x0010</span><span class="sxs-lookup"><span data-stu-id="ffb41-1161">0x0010</span></span> <br/> | <span data-ttu-id="ffb41-1162">32-разрядное значение, зависящее от диапазона, которое применяется во время компоновки.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1162">A 32-bit signed span-dependent value that is applied at link time.</span></span> <br/>                                                                                |



 

##### <a name="arm-processors"></a><span data-ttu-id="ffb41-1163">Процессоры ARM</span><span class="sxs-lookup"><span data-stu-id="ffb41-1163">ARM Processors</span></span>

<span data-ttu-id="ffb41-1164">Для процессоров ARM определены следующие индикаторы типа перемещения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1164">The following relocation type indicators are defined for ARM processors.</span></span>



| <span data-ttu-id="ffb41-1165">Константа</span><span class="sxs-lookup"><span data-stu-id="ffb41-1165">Constant</span></span>                                | <span data-ttu-id="ffb41-1166">Значение</span><span class="sxs-lookup"><span data-stu-id="ffb41-1166">Value</span></span>              | <span data-ttu-id="ffb41-1167">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-1167">Description</span></span>                                                                                                                                                                                                                                                            |
|-----------------------------------------|--------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-1168">ИЗОБРАЖЕНИЕ \_ rel \_ ARM, \_ абсолютный</span><span class="sxs-lookup"><span data-stu-id="ffb41-1168">IMAGE\_REL\_ARM\_ABSOLUTE</span></span> <br/>   | <span data-ttu-id="ffb41-1169">0x0000</span><span class="sxs-lookup"><span data-stu-id="ffb41-1169">0x0000</span></span> <br/> | <span data-ttu-id="ffb41-1170">Перемещение не учитывается.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1170">The relocation is ignored.</span></span> <br/>                                                                                                                                                                                                                                 |
| <span data-ttu-id="ffb41-1171">IMAGE \_ rel \_ ARM \_ ADDR32</span><span class="sxs-lookup"><span data-stu-id="ffb41-1171">IMAGE\_REL\_ARM\_ADDR32</span></span> <br/>     | <span data-ttu-id="ffb41-1172">0x0001</span><span class="sxs-lookup"><span data-stu-id="ffb41-1172">0x0001</span></span> <br/> | <span data-ttu-id="ffb41-1173">32-битная версия целевого объекта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1173">The 32-bit VA of the target.</span></span> <br/>                                                                                                                                                                                                                               |
| <span data-ttu-id="ffb41-1174">IMAGE \_ rel \_ ARM \_ ADDR32NB</span><span class="sxs-lookup"><span data-stu-id="ffb41-1174">IMAGE\_REL\_ARM\_ADDR32NB</span></span> <br/>   | <span data-ttu-id="ffb41-1175">0x0002</span><span class="sxs-lookup"><span data-stu-id="ffb41-1175">0x0002</span></span> <br/> | <span data-ttu-id="ffb41-1176">32-разрядный RVA целевого объекта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1176">The 32-bit RVA of the target.</span></span> <br/>                                                                                                                                                                                                                              |
| <span data-ttu-id="ffb41-1177">IMAGE \_ rel \_ ARM \_ BRANCH24</span><span class="sxs-lookup"><span data-stu-id="ffb41-1177">IMAGE\_REL\_ARM\_BRANCH24</span></span> <br/>   | <span data-ttu-id="ffb41-1178">0x0003</span><span class="sxs-lookup"><span data-stu-id="ffb41-1178">0x0003</span></span> <br/> | <span data-ttu-id="ffb41-1179">24-разрядное относительное смещение целевого объекта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1179">The 24-bit relative displacement to the target.</span></span> <br/>                                                                                                                                                                                                            |
| <span data-ttu-id="ffb41-1180">IMAGE \_ rel \_ ARM \_ BRANCH11</span><span class="sxs-lookup"><span data-stu-id="ffb41-1180">IMAGE\_REL\_ARM\_BRANCH11</span></span> <br/>   | <span data-ttu-id="ffb41-1181">0x0004</span><span class="sxs-lookup"><span data-stu-id="ffb41-1181">0x0004</span></span> <br/> | <span data-ttu-id="ffb41-1182">Ссылка на вызов подпрограммы.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1182">The reference to a subroutine call.</span></span> <span data-ttu-id="ffb41-1183">Ссылка состоит из 2 16-разрядных инструкций с 11-битными смещениями.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1183">The reference consists of two 16-bit instructions with 11-bit offsets.</span></span> <br/>                                                                                                                                                 |
| <span data-ttu-id="ffb41-1184">IMAGE \_ rel \_ ARM \_ REL32</span><span class="sxs-lookup"><span data-stu-id="ffb41-1184">IMAGE\_REL\_ARM\_REL32</span></span> <br/>      | <span data-ttu-id="ffb41-1185">0x000A</span><span class="sxs-lookup"><span data-stu-id="ffb41-1185">0x000A</span></span> <br/> | <span data-ttu-id="ffb41-1186">32-разрядный относительный адрес от байта после перемещения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1186">The 32-bit relative address from the byte following the relocation.</span></span> <br/>                                                                                                                                                                                        |
| <span data-ttu-id="ffb41-1187">ИЗОБРАЖЕНИЕ \_ \_ раздела ARM \_ rel</span><span class="sxs-lookup"><span data-stu-id="ffb41-1187">IMAGE\_REL\_ARM\_SECTION</span></span> <br/>    | <span data-ttu-id="ffb41-1188">0x000E</span><span class="sxs-lookup"><span data-stu-id="ffb41-1188">0x000E</span></span> <br/> | <span data-ttu-id="ffb41-1189">16-битный индекс раздела, содержащий целевой объект.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1189">The 16-bit section index of the section that contains the target.</span></span> <span data-ttu-id="ffb41-1190">Используется для поддержки отладочной информации.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1190">This is used to support debugging information.</span></span> <br/>                                                                                                                                           |
| <span data-ttu-id="ffb41-1191">IMAGE \_ rel \_ ARM \_ секрел</span><span class="sxs-lookup"><span data-stu-id="ffb41-1191">IMAGE\_REL\_ARM\_SECREL</span></span> <br/>     | <span data-ttu-id="ffb41-1192">0x000F</span><span class="sxs-lookup"><span data-stu-id="ffb41-1192">0x000F</span></span> <br/> | <span data-ttu-id="ffb41-1193">32-разрядное смещение целевого объекта от начала его раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1193">The 32-bit offset of the target from the beginning of its section.</span></span> <span data-ttu-id="ffb41-1194">Используется для поддержки отладочной информации и локального хранилища потока.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1194">This is used to support debugging information and static thread local storage.</span></span> <br/>                                                                                                          |
| <span data-ttu-id="ffb41-1195">IMAGE \_ rel \_ ARM \_ MOV32</span><span class="sxs-lookup"><span data-stu-id="ffb41-1195">IMAGE\_REL\_ARM\_MOV32</span></span> <br/>      | <span data-ttu-id="ffb41-1196">0x0010</span><span class="sxs-lookup"><span data-stu-id="ffb41-1196">0x0010</span></span> <br/> | <span data-ttu-id="ffb41-1197">32-битная версия целевого объекта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1197">The 32-bit VA of the target.</span></span> <span data-ttu-id="ffb41-1198">Это перемещение применяется с помощью инструкции МОВВ для младших 16 бит, за которыми следует МОВТ для старших 16 бит.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1198">This relocation is applied using a MOVW instruction for the low 16 bits followed by a MOVT for the high 16 bits.</span></span> <br/>                                                                                                              |
| <span data-ttu-id="ffb41-1199">IMAGE \_ rel \_ Thumb \_ MOV32</span><span class="sxs-lookup"><span data-stu-id="ffb41-1199">IMAGE\_REL\_THUMB\_MOV32</span></span> <br/>    | <span data-ttu-id="ffb41-1200">0x0011</span><span class="sxs-lookup"><span data-stu-id="ffb41-1200">0x0011</span></span> <br/> | <span data-ttu-id="ffb41-1201">32-битная версия целевого объекта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1201">The 32-bit VA of the target.</span></span> <span data-ttu-id="ffb41-1202">Это перемещение применяется с помощью инструкции МОВВ для младших 16 бит, за которыми следует МОВТ для старших 16 бит.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1202">This relocation is applied using a MOVW instruction for the low 16 bits followed by a MOVT for the high 16 bits.</span></span> <br/>                                                                                                              |
| <span data-ttu-id="ffb41-1203">IMAGE \_ rel \_ Thumb \_ BRANCH20</span><span class="sxs-lookup"><span data-stu-id="ffb41-1203">IMAGE\_REL\_THUMB\_BRANCH20</span></span> <br/> | <span data-ttu-id="ffb41-1204">0x0012</span><span class="sxs-lookup"><span data-stu-id="ffb41-1204">0x0012</span></span> <br/> | <span data-ttu-id="ffb41-1205">Инструкция исправлена с 21-битным относительным смещением до 2-байтного целевого объекта с согласованием.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1205">The instruction is fixed up with the 21-bit relative displacement to the 2-byte aligned target.</span></span> <span data-ttu-id="ffb41-1206">Наименьший значащий бит смещения всегда равен нулю и не сохраняется.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1206">The least significant bit of the displacement is always zero and is not stored.</span></span> <span data-ttu-id="ffb41-1207">Это перемещение соответствует инструкции в виде Thumb-2 32-разрядной условной B.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1207">This relocation corresponds to a Thumb-2 32-bit conditional B instruction.</span></span> <br/> |
| <span data-ttu-id="ffb41-1208">Не используется</span><span class="sxs-lookup"><span data-stu-id="ffb41-1208">Unused</span></span> <br/>                      | <span data-ttu-id="ffb41-1209">0x0013</span><span class="sxs-lookup"><span data-stu-id="ffb41-1209">0x0013</span></span> <br/> |                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="ffb41-1210">IMAGE \_ rel \_ Thumb \_ BRANCH24</span><span class="sxs-lookup"><span data-stu-id="ffb41-1210">IMAGE\_REL\_THUMB\_BRANCH24</span></span> <br/> | <span data-ttu-id="ffb41-1211">0x0014</span><span class="sxs-lookup"><span data-stu-id="ffb41-1211">0x0014</span></span> <br/> | <span data-ttu-id="ffb41-1212">Инструкция исправлена с 25-битовым относительным смещением к целевому объекту с согласованием в 2 байта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1212">The instruction is fixed up with the 25-bit relative displacement to the 2-byte aligned target.</span></span> <span data-ttu-id="ffb41-1213">Наименьший значащий бит смещения равен нулю и не сохраняется. Это перемещение соответствует инструкции Thumb-2 B.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1213">The least significant bit of the displacement is zero and is not stored.This relocation corresponds to a Thumb-2 B instruction.</span></span> <br/>                            |
| <span data-ttu-id="ffb41-1214">IMAGE \_ rel \_ Thumb \_ BLX23</span><span class="sxs-lookup"><span data-stu-id="ffb41-1214">IMAGE\_REL\_THUMB\_BLX23</span></span> <br/>    | <span data-ttu-id="ffb41-1215">0x0015</span><span class="sxs-lookup"><span data-stu-id="ffb41-1215">0x0015</span></span> <br/> | <span data-ttu-id="ffb41-1216">Инструкция исправлена с 25-битным относительным смещением до 4-байтного целевого объекта с согласованием.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1216">The instruction is fixed up with the 25-bit relative displacement to the 4-byte aligned target.</span></span> <span data-ttu-id="ffb41-1217">Младшие 2 бита смещения равны нулю и не сохраняются.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1217">The low 2 bits of the displacement are zero and are not stored.</span></span> <br/> <span data-ttu-id="ffb41-1218">Это перемещение соответствует инструкции БЛКС с бегунком 2.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1218">This relocation corresponds to a Thumb-2 BLX instruction.</span></span> <br/>                      |
| <span data-ttu-id="ffb41-1219">\_пара образов rel \_ ARM \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-1219">IMAGE\_REL\_ARM\_PAIR</span></span> <br/>       | <span data-ttu-id="ffb41-1220">0x0016</span><span class="sxs-lookup"><span data-stu-id="ffb41-1220">0x0016</span></span> <br/> | <span data-ttu-id="ffb41-1221">Перемещение допустимо только в том случае, если оно непосредственно следует за ARM \_ рефхи или Thumb \_ рефхи.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1221">The relocation is valid only when it immediately follows a ARM\_REFHI or THUMB\_REFHI.</span></span> <span data-ttu-id="ffb41-1222">Его Симболтаблеиндекс содержит смещение, а не индекс в таблице символов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1222">Its SymbolTableIndex contains a displacement and not an index into the symbol table.</span></span> <br/>                                                                                |



 

##### <a name="arm64-processors"></a><span data-ttu-id="ffb41-1223">Процессоры ARM64</span><span class="sxs-lookup"><span data-stu-id="ffb41-1223">ARM64 Processors</span></span>

<span data-ttu-id="ffb41-1224">Для процессоров ARM64 определены следующие индикаторы типа перемещения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1224">The following relocation type indicators are defined for ARM64 processors.</span></span>



| <span data-ttu-id="ffb41-1225">Константа</span><span class="sxs-lookup"><span data-stu-id="ffb41-1225">Constant</span></span>                                       | <span data-ttu-id="ffb41-1226">Значение</span><span class="sxs-lookup"><span data-stu-id="ffb41-1226">Value</span></span>              | <span data-ttu-id="ffb41-1227">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-1227">Description</span></span>                                                                                                                                                   |
|------------------------------------------------|--------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-1228">IMAGE \_ rel \_ ARM64 \_ Absolute</span><span class="sxs-lookup"><span data-stu-id="ffb41-1228">IMAGE\_REL\_ARM64\_ABSOLUTE</span></span> <br/>        | <span data-ttu-id="ffb41-1229">0x0000</span><span class="sxs-lookup"><span data-stu-id="ffb41-1229">0x0000</span></span> <br/> | <span data-ttu-id="ffb41-1230">Перемещение не учитывается.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1230">The relocation is ignored.</span></span> <br/>                                                                                                                        |
| <span data-ttu-id="ffb41-1231">IMAGE \_ rel \_ ARM64 \_ ADDR32</span><span class="sxs-lookup"><span data-stu-id="ffb41-1231">IMAGE\_REL\_ARM64\_ADDR32</span></span> <br/>          | <span data-ttu-id="ffb41-1232">0x0001</span><span class="sxs-lookup"><span data-stu-id="ffb41-1232">0x0001</span></span> <br/> | <span data-ttu-id="ffb41-1233">32-битная версия целевого объекта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1233">The 32-bit VA of the target.</span></span> <br/>                                                                                                                      |
| <span data-ttu-id="ffb41-1234">IMAGE \_ rel \_ ARM64 \_ ADDR32NB</span><span class="sxs-lookup"><span data-stu-id="ffb41-1234">IMAGE\_REL\_ARM64\_ADDR32NB</span></span> <br/>        | <span data-ttu-id="ffb41-1235">0x0002</span><span class="sxs-lookup"><span data-stu-id="ffb41-1235">0x0002</span></span> <br/> | <span data-ttu-id="ffb41-1236">32-разрядный RVA целевого объекта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1236">The 32-bit RVA of the target.</span></span> <br/>                                                                                                                     |
| <span data-ttu-id="ffb41-1237">IMAGE \_ rel \_ ARM64 \_ BRANCH26</span><span class="sxs-lookup"><span data-stu-id="ffb41-1237">IMAGE\_REL\_ARM64\_BRANCH26</span></span> <br/>        | <span data-ttu-id="ffb41-1238">0x0003</span><span class="sxs-lookup"><span data-stu-id="ffb41-1238">0x0003</span></span> <br/> | <span data-ttu-id="ffb41-1239">26-битное относительное смещение целевого объекта для инструкций B и BL.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1239">The 26-bit relative displacement to the target, for B and BL instructions.</span></span> <br/>                                                                        |
| <span data-ttu-id="ffb41-1240">IMAGE \_ rel \_ ARM64 \_ пажебасе \_ REL21</span><span class="sxs-lookup"><span data-stu-id="ffb41-1240">IMAGE\_REL\_ARM64\_PAGEBASE\_REL21</span></span> <br/> | <span data-ttu-id="ffb41-1241">0x0004</span><span class="sxs-lookup"><span data-stu-id="ffb41-1241">0x0004</span></span> <br/> | <span data-ttu-id="ffb41-1242">База страницы целевого объекта для инструкции АДРП.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1242">The page base of the target, for ADRP instruction.</span></span> <br/>                                                                                                |
| <span data-ttu-id="ffb41-1243">IMAGE \_ rel \_ ARM64 \_ REL21</span><span class="sxs-lookup"><span data-stu-id="ffb41-1243">IMAGE\_REL\_ARM64\_REL21</span></span> <br/>           | <span data-ttu-id="ffb41-1244">0x0005</span><span class="sxs-lookup"><span data-stu-id="ffb41-1244">0x0005</span></span> <br/> | <span data-ttu-id="ffb41-1245">12-разрядное относительное смещение целевого объекта для инструкции ADR</span><span class="sxs-lookup"><span data-stu-id="ffb41-1245">The 12-bit relative displacement to the target, for instruction ADR</span></span> <br/>                                                                               |
| <span data-ttu-id="ffb41-1246">IMAGE \_ rel \_ ARM64 \_ пажеоффсет \_ 12A</span><span class="sxs-lookup"><span data-stu-id="ffb41-1246">IMAGE\_REL\_ARM64\_PAGEOFFSET\_12A</span></span> <br/> | <span data-ttu-id="ffb41-1247">0x0006</span><span class="sxs-lookup"><span data-stu-id="ffb41-1247">0x0006</span></span> <br/> | <span data-ttu-id="ffb41-1248">12-разрядное смещение страницы целевого объекта для инструкций ADD/сложение (immediate) с нулевым смещением.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1248">The 12-bit page offset of the target, for instructions ADD/ADDS (immediate) with zero shift.</span></span> <br/>                                                      |
| <span data-ttu-id="ffb41-1249">IMAGE \_ rel \_ ARM64 \_ пажеоффсет \_ 12L</span><span class="sxs-lookup"><span data-stu-id="ffb41-1249">IMAGE\_REL\_ARM64\_PAGEOFFSET\_12L</span></span> <br/> | <span data-ttu-id="ffb41-1250">0x0007</span><span class="sxs-lookup"><span data-stu-id="ffb41-1250">0x0007</span></span> <br/> | <span data-ttu-id="ffb41-1251">12-разрядное смещение страницы целевого объекта для инструкции LDR (с непосредственным индексированием без знака).</span><span class="sxs-lookup"><span data-stu-id="ffb41-1251">The 12-bit page offset of the target, for instruction LDR (indexed, unsigned immediate).</span></span> <br/>                                                          |
| <span data-ttu-id="ffb41-1252">IMAGE \_ rel \_ ARM64 \_ секрел</span><span class="sxs-lookup"><span data-stu-id="ffb41-1252">IMAGE\_REL\_ARM64\_SECREL</span></span> <br/>          | <span data-ttu-id="ffb41-1253">0x0008</span><span class="sxs-lookup"><span data-stu-id="ffb41-1253">0x0008</span></span> <br/> | <span data-ttu-id="ffb41-1254">32-разрядное смещение целевого объекта от начала его раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1254">The 32-bit offset of the target from the beginning of its section.</span></span> <span data-ttu-id="ffb41-1255">Используется для поддержки отладочной информации и локального хранилища потока.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1255">This is used to support debugging information and static thread local storage.</span></span> <br/> |
| <span data-ttu-id="ffb41-1256">IMAGE \_ rel \_ ARM64 \_ секрел \_ LOW12A</span><span class="sxs-lookup"><span data-stu-id="ffb41-1256">IMAGE\_REL\_ARM64\_SECREL\_LOW12A</span></span> <br/>  | <span data-ttu-id="ffb41-1257">0x0009</span><span class="sxs-lookup"><span data-stu-id="ffb41-1257">0x0009</span></span> <br/> | <span data-ttu-id="ffb41-1258">Бит 0:11 для смещения раздела целевого объекта. инструкции по ДОБАВЛЕНию/ДОБАВЛЕНию (immediate) с нулевым смещением.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1258">Bit 0:11 of section offset of the target, for instructions ADD/ADDS (immediate) with zero shift.</span></span> <br/>                                                  |
| <span data-ttu-id="ffb41-1259">IMAGE \_ rel \_ ARM64 \_ секрел \_ HIGH12A</span><span class="sxs-lookup"><span data-stu-id="ffb41-1259">IMAGE\_REL\_ARM64\_SECREL\_HIGH12A</span></span> <br/> | <span data-ttu-id="ffb41-1260">0x000A</span><span class="sxs-lookup"><span data-stu-id="ffb41-1260">0x000A</span></span> <br/> | <span data-ttu-id="ffb41-1261">Бит 12:23 для смещения раздела целевого объекта. инструкции по ДОБАВЛЕНию/ДОБАВЛЕНию (immediate) с нулевым смещением.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1261">Bit 12:23 of section offset of the target, for instructions ADD/ADDS (immediate) with zero shift.</span></span> <br/>                                                 |
| <span data-ttu-id="ffb41-1262">IMAGE \_ rel \_ ARM64 \_ секрел \_ LOW12L</span><span class="sxs-lookup"><span data-stu-id="ffb41-1262">IMAGE\_REL\_ARM64\_SECREL\_LOW12L</span></span> <br/>  | <span data-ttu-id="ffb41-1263">0x000B</span><span class="sxs-lookup"><span data-stu-id="ffb41-1263">0x000B</span></span> <br/> | <span data-ttu-id="ffb41-1264">Бит 0:11 для смещения раздела целевого объекта, для инструкции LDR (с непосредственным проиндексированным, без знака).</span><span class="sxs-lookup"><span data-stu-id="ffb41-1264">Bit 0:11 of section offset of the target, for instruction LDR (indexed, unsigned immediate).</span></span> <br/>                                                      |
| <span data-ttu-id="ffb41-1265">\_ \_ Маркер ARM64 rel \_ изображения</span><span class="sxs-lookup"><span data-stu-id="ffb41-1265">IMAGE\_REL\_ARM64\_TOKEN</span></span> <br/>           | <span data-ttu-id="ffb41-1266">0x000C</span><span class="sxs-lookup"><span data-stu-id="ffb41-1266">0x000C</span></span> <br/> | <span data-ttu-id="ffb41-1267">Токен CLR.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1267">CLR token.</span></span> <br/>                                                                                                                                        |
| <span data-ttu-id="ffb41-1268">\_Rel образа \_ , \_ раздел ARM64</span><span class="sxs-lookup"><span data-stu-id="ffb41-1268">IMAGE\_REL\_ARM64\_SECTION</span></span> <br/>         | <span data-ttu-id="ffb41-1269">0x000D</span><span class="sxs-lookup"><span data-stu-id="ffb41-1269">0x000D</span></span> <br/> | <span data-ttu-id="ffb41-1270">16-битный индекс раздела, содержащий целевой объект.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1270">The 16-bit section index of the section that contains the target.</span></span> <span data-ttu-id="ffb41-1271">Используется для поддержки отладочной информации.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1271">This is used to support debugging information.</span></span> <br/>                                  |
| <span data-ttu-id="ffb41-1272">IMAGE \_ rel \_ ARM64 \_ ADDR64</span><span class="sxs-lookup"><span data-stu-id="ffb41-1272">IMAGE\_REL\_ARM64\_ADDR64</span></span> <br/>          | <span data-ttu-id="ffb41-1273">0x000E</span><span class="sxs-lookup"><span data-stu-id="ffb41-1273">0x000E</span></span> <br/> | <span data-ttu-id="ffb41-1274">64-бит ва целевого объекта перемещения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1274">The 64-bit VA of the relocation target.</span></span> <br/>                                                                                                           |
| <span data-ttu-id="ffb41-1275">IMAGE \_ rel \_ ARM64 \_ BRANCH19</span><span class="sxs-lookup"><span data-stu-id="ffb41-1275">IMAGE\_REL\_ARM64\_BRANCH19</span></span> <br/>        | <span data-ttu-id="ffb41-1276">0x000F</span><span class="sxs-lookup"><span data-stu-id="ffb41-1276">0x000F</span></span> <br/> | <span data-ttu-id="ffb41-1277">19-битное смещение для целевого объекта перемещения, для инструкции условной B.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1277">The 19-bit offset to the relocation target, for conditional B instruction.</span></span> <br/>                                                                        |
| <span data-ttu-id="ffb41-1278">IMAGE \_ rel \_ ARM64 \_ BRANCH14</span><span class="sxs-lookup"><span data-stu-id="ffb41-1278">IMAGE\_REL\_ARM64\_BRANCH14</span></span> <br/>        | <span data-ttu-id="ffb41-1279">0x0010</span><span class="sxs-lookup"><span data-stu-id="ffb41-1279">0x0010</span></span> <br/> | <span data-ttu-id="ffb41-1280">14-битное смещение для целевого объекта перемещения, инструкции ТБЗ и ТБНЗ.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1280">The 14-bit offset to the relocation target, for instructions TBZ and TBNZ.</span></span> <br/>                                                                        |
| <span data-ttu-id="ffb41-1281">IMAGE \_ rel \_ ARM64 \_ REL32</span><span class="sxs-lookup"><span data-stu-id="ffb41-1281">IMAGE\_REL\_ARM64\_REL32</span></span> <br/>           | <span data-ttu-id="ffb41-1282">0x0011</span><span class="sxs-lookup"><span data-stu-id="ffb41-1282">0x0011</span></span> <br/> | <span data-ttu-id="ffb41-1283">32-разрядный относительный адрес от байта после перемещения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1283">The 32-bit relative address from the byte following the relocation.</span></span> <br/>                                                                               |

##### <a name="hitachi-superh-processors"></a><span data-ttu-id="ffb41-1284">Процессоры Hitachi Суперх</span><span class="sxs-lookup"><span data-stu-id="ffb41-1284">Hitachi SuperH Processors</span></span>

<span data-ttu-id="ffb41-1285">Для процессоров SH3 и SH4 определены следующие индикаторы типа перемещения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1285">The following relocation type indicators are defined for SH3 and SH4 processors.</span></span> <span data-ttu-id="ffb41-1286">Перемещения, относящиеся к SH5, отмечены как SHM (SH-файлы).</span><span class="sxs-lookup"><span data-stu-id="ffb41-1286">SH5-specific relocations are noted as SHM (SH Media).</span></span>



| <span data-ttu-id="ffb41-1287">Константа</span><span class="sxs-lookup"><span data-stu-id="ffb41-1287">Constant</span></span>                                      | <span data-ttu-id="ffb41-1288">Значение</span><span class="sxs-lookup"><span data-stu-id="ffb41-1288">Value</span></span>              | <span data-ttu-id="ffb41-1289">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-1289">Description</span></span>                                                                                                                                                                                                                |
|-----------------------------------------------|--------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-1290">IMAGE \_ rel \_ SH3 \_ Absolute</span><span class="sxs-lookup"><span data-stu-id="ffb41-1290">IMAGE\_REL\_SH3\_ABSOLUTE</span></span> <br/>         | <span data-ttu-id="ffb41-1291">0x0000</span><span class="sxs-lookup"><span data-stu-id="ffb41-1291">0x0000</span></span> <br/> | <span data-ttu-id="ffb41-1292">Перемещение не учитывается.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1292">The relocation is ignored.</span></span> <br/>                                                                                                                                                                                     |
| <span data-ttu-id="ffb41-1293">IMAGE \_ rel \_ SH3 \_ DIRECT16</span><span class="sxs-lookup"><span data-stu-id="ffb41-1293">IMAGE\_REL\_SH3\_DIRECT16</span></span> <br/>         | <span data-ttu-id="ffb41-1294">0x0001</span><span class="sxs-lookup"><span data-stu-id="ffb41-1294">0x0001</span></span> <br/> | <span data-ttu-id="ffb41-1295">Ссылка на 16-разрядное расположение, содержащее значение ва целевого символа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1295">A reference to the 16-bit location that contains the VA of the target symbol.</span></span> <br/>                                                                                                                                  |
| <span data-ttu-id="ffb41-1296">IMAGE \_ rel \_ SH3 \_ DIRECT32</span><span class="sxs-lookup"><span data-stu-id="ffb41-1296">IMAGE\_REL\_SH3\_DIRECT32</span></span> <br/>         | <span data-ttu-id="ffb41-1297">0x0002</span><span class="sxs-lookup"><span data-stu-id="ffb41-1297">0x0002</span></span> <br/> | <span data-ttu-id="ffb41-1298">32-бит ва целевого символа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1298">The 32-bit VA of the target symbol.</span></span> <br/>                                                                                                                                                                            |
| <span data-ttu-id="ffb41-1299">IMAGE \_ rel \_ SH3 \_ DIRECT8</span><span class="sxs-lookup"><span data-stu-id="ffb41-1299">IMAGE\_REL\_SH3\_DIRECT8</span></span> <br/>          | <span data-ttu-id="ffb41-1300">0x0003</span><span class="sxs-lookup"><span data-stu-id="ffb41-1300">0x0003</span></span> <br/> | <span data-ttu-id="ffb41-1301">Ссылка на 8-разрядное расположение, содержащее значение ва целевого символа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1301">A reference to the 8-bit location that contains the VA of the target symbol.</span></span> <br/>                                                                                                                                   |
| <span data-ttu-id="ffb41-1302">IMAGE \_ rel \_ SH3 \_ DIRECT8 \_ Word</span><span class="sxs-lookup"><span data-stu-id="ffb41-1302">IMAGE\_REL\_SH3\_DIRECT8\_WORD</span></span> <br/>    | <span data-ttu-id="ffb41-1303">0x0004</span><span class="sxs-lookup"><span data-stu-id="ffb41-1303">0x0004</span></span> <br/> | <span data-ttu-id="ffb41-1304">Ссылка на 8-разрядную инструкцию, которая содержит действующий 16-разрядный адрес целевого символа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1304">A reference to the 8-bit instruction that contains the effective 16-bit VA of the target symbol.</span></span> <br/>                                                                                                               |
| <span data-ttu-id="ffb41-1305">IMAGE \_ rel \_ SH3 \_ DIRECT8 \_ Long</span><span class="sxs-lookup"><span data-stu-id="ffb41-1305">IMAGE\_REL\_SH3\_DIRECT8\_LONG</span></span> <br/>    | <span data-ttu-id="ffb41-1306">0x0005</span><span class="sxs-lookup"><span data-stu-id="ffb41-1306">0x0005</span></span> <br/> | <span data-ttu-id="ffb41-1307">Ссылка на 8-разрядную инструкцию, которая содержит действующий 32-разрядный адрес целевого символа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1307">A reference to the 8-bit instruction that contains the effective 32-bit VA of the target symbol.</span></span> <br/>                                                                                                               |
| <span data-ttu-id="ffb41-1308">IMAGE \_ rel \_ SH3 \_ DIRECT4</span><span class="sxs-lookup"><span data-stu-id="ffb41-1308">IMAGE\_REL\_SH3\_DIRECT4</span></span> <br/>          | <span data-ttu-id="ffb41-1309">0x0006</span><span class="sxs-lookup"><span data-stu-id="ffb41-1309">0x0006</span></span> <br/> | <span data-ttu-id="ffb41-1310">Ссылка на 8-разрядное расположение, младшие 4 бита которого содержат значение ва целевого символа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1310">A reference to the 8-bit location whose low 4 bits contain the VA of the target symbol.</span></span> <br/>                                                                                                                        |
| <span data-ttu-id="ffb41-1311">IMAGE \_ rel \_ SH3 \_ DIRECT4 \_ Word</span><span class="sxs-lookup"><span data-stu-id="ffb41-1311">IMAGE\_REL\_SH3\_DIRECT4\_WORD</span></span> <br/>    | <span data-ttu-id="ffb41-1312">0x0007</span><span class="sxs-lookup"><span data-stu-id="ffb41-1312">0x0007</span></span> <br/> | <span data-ttu-id="ffb41-1313">Ссылка на 8-разрядную инструкцию, младшие 4 бита которой содержит действующий 16-битный индекс целевого символа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1313">A reference to the 8-bit instruction whose low 4 bits contain the effective 16-bit VA of the target symbol.</span></span> <br/>                                                                                                    |
| <span data-ttu-id="ffb41-1314">IMAGE \_ rel \_ SH3 \_ DIRECT4 \_ Long</span><span class="sxs-lookup"><span data-stu-id="ffb41-1314">IMAGE\_REL\_SH3\_DIRECT4\_LONG</span></span> <br/>    | <span data-ttu-id="ffb41-1315">0x0008</span><span class="sxs-lookup"><span data-stu-id="ffb41-1315">0x0008</span></span> <br/> | <span data-ttu-id="ffb41-1316">Ссылка на 8-разрядную инструкцию, младшие 4 бита которой содержит действующий 32-битный индекс целевого символа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1316">A reference to the 8-bit instruction whose low 4 bits contain the effective 32-bit VA of the target symbol.</span></span> <br/>                                                                                                    |
| <span data-ttu-id="ffb41-1317">IMAGE \_ rel \_ SH3 \_ PCREL8 \_ Word</span><span class="sxs-lookup"><span data-stu-id="ffb41-1317">IMAGE\_REL\_SH3\_PCREL8\_WORD</span></span> <br/>     | <span data-ttu-id="ffb41-1318">0x0009</span><span class="sxs-lookup"><span data-stu-id="ffb41-1318">0x0009</span></span> <br/> | <span data-ttu-id="ffb41-1319">Ссылка на 8-разрядную инструкцию, которая содержит действующее 16-разрядное относительное смещение целевого символа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1319">A reference to the 8-bit instruction that contains the effective 16-bit relative offset of the target symbol.</span></span> <br/>                                                                                                  |
| <span data-ttu-id="ffb41-1320">IMAGE \_ rel \_ SH3 \_ PCREL8 \_ Long</span><span class="sxs-lookup"><span data-stu-id="ffb41-1320">IMAGE\_REL\_SH3\_PCREL8\_LONG</span></span> <br/>     | <span data-ttu-id="ffb41-1321">0x000A</span><span class="sxs-lookup"><span data-stu-id="ffb41-1321">0x000A</span></span> <br/> | <span data-ttu-id="ffb41-1322">Ссылка на 8-разрядную инструкцию, которая содержит эффективное 32-разрядное относительное смещение целевого символа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1322">A reference to the 8-bit instruction that contains the effective 32-bit relative offset of the target symbol.</span></span> <br/>                                                                                                  |
| <span data-ttu-id="ffb41-1323">IMAGE \_ rel \_ SH3 \_ PCREL12 \_ Word</span><span class="sxs-lookup"><span data-stu-id="ffb41-1323">IMAGE\_REL\_SH3\_PCREL12\_WORD</span></span> <br/>    | <span data-ttu-id="ffb41-1324">0x000B</span><span class="sxs-lookup"><span data-stu-id="ffb41-1324">0x000B</span></span> <br/> | <span data-ttu-id="ffb41-1325">Ссылка на 16-разрядную инструкцию, Нижняя 12 бит которой содержит действующее 16-разрядное относительное смещение целевого символа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1325">A reference to the 16-bit instruction whose low 12 bits contain the effective 16-bit relative offset of the target symbol.</span></span> <br/>                                                                                     |
| <span data-ttu-id="ffb41-1326">ОБРАЗ \_ rel \_ SH3 \_ стартоф \_ раздел</span><span class="sxs-lookup"><span data-stu-id="ffb41-1326">IMAGE\_REL\_SH3\_STARTOF\_SECTION</span></span> <br/> | <span data-ttu-id="ffb41-1327">0x000C</span><span class="sxs-lookup"><span data-stu-id="ffb41-1327">0x000C</span></span> <br/> | <span data-ttu-id="ffb41-1328">Ссылка на 32-разрядное расположение, которое является адресом раздела, содержащего целевой символ.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1328">A reference to a 32-bit location that is the VA of the section that contains the target symbol.</span></span> <br/>                                                                                                                |
| <span data-ttu-id="ffb41-1329">IMAGE \_ rel \_ SH3 \_ sizeof \_ Section</span><span class="sxs-lookup"><span data-stu-id="ffb41-1329">IMAGE\_REL\_SH3\_SIZEOF\_SECTION</span></span> <br/>  | <span data-ttu-id="ffb41-1330">0x000D</span><span class="sxs-lookup"><span data-stu-id="ffb41-1330">0x000D</span></span> <br/> | <span data-ttu-id="ffb41-1331">Ссылка на 32-разрядное расположение, равное размеру раздела, содержащего целевой символ.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1331">A reference to the 32-bit location that is the size of the section that contains the target symbol.</span></span> <br/>                                                                                                            |
| <span data-ttu-id="ffb41-1332">\_Rel образа \_ , \_ раздел SH3</span><span class="sxs-lookup"><span data-stu-id="ffb41-1332">IMAGE\_REL\_SH3\_SECTION</span></span> <br/>          | <span data-ttu-id="ffb41-1333">0x000E</span><span class="sxs-lookup"><span data-stu-id="ffb41-1333">0x000E</span></span> <br/> | <span data-ttu-id="ffb41-1334">16-битный индекс раздела, содержащий целевой объект.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1334">The 16-bit section index of the section that contains the target.</span></span> <span data-ttu-id="ffb41-1335">Используется для поддержки отладочной информации.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1335">This is used to support debugging information.</span></span> <br/>                                                                                               |
| <span data-ttu-id="ffb41-1336">IMAGE \_ rel \_ SH3 \_ секрел</span><span class="sxs-lookup"><span data-stu-id="ffb41-1336">IMAGE\_REL\_SH3\_SECREL</span></span> <br/>           | <span data-ttu-id="ffb41-1337">0x000F</span><span class="sxs-lookup"><span data-stu-id="ffb41-1337">0x000F</span></span> <br/> | <span data-ttu-id="ffb41-1338">32-разрядное смещение целевого объекта от начала его раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1338">The 32-bit offset of the target from the beginning of its section.</span></span> <span data-ttu-id="ffb41-1339">Используется для поддержки отладочной информации и локального хранилища потока.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1339">This is used to support debugging information and static thread local storage.</span></span> <br/>                                                              |
| <span data-ttu-id="ffb41-1340">IMAGE \_ rel \_ SH3 \_ DIRECT32 \_ NetBIOS</span><span class="sxs-lookup"><span data-stu-id="ffb41-1340">IMAGE\_REL\_SH3\_DIRECT32\_NB</span></span> <br/>     | <span data-ttu-id="ffb41-1341">0x0010</span><span class="sxs-lookup"><span data-stu-id="ffb41-1341">0x0010</span></span> <br/> | <span data-ttu-id="ffb41-1342">32-разрядный RVA целевого символа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1342">The 32-bit RVA of the target symbol.</span></span> <br/>                                                                                                                                                                           |
| <span data-ttu-id="ffb41-1343">IMAGE \_ rel \_ SH3 \_ GPREL4 \_ Long</span><span class="sxs-lookup"><span data-stu-id="ffb41-1343">IMAGE\_REL\_SH3\_GPREL4\_LONG</span></span> <br/>     | <span data-ttu-id="ffb41-1344">0x0011</span><span class="sxs-lookup"><span data-stu-id="ffb41-1344">0x0011</span></span> <br/> | <span data-ttu-id="ffb41-1345">Относительная GP.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1345">GP relative.</span></span> <br/>                                                                                                                                                                                                   |
| <span data-ttu-id="ffb41-1346">\_ \_ Маркер SH3 rel \_ изображения</span><span class="sxs-lookup"><span data-stu-id="ffb41-1346">IMAGE\_REL\_SH3\_TOKEN</span></span> <br/>            | <span data-ttu-id="ffb41-1347">0x0012</span><span class="sxs-lookup"><span data-stu-id="ffb41-1347">0x0012</span></span> <br/> | <span data-ttu-id="ffb41-1348">Токен CLR.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1348">CLR token.</span></span> <br/>                                                                                                                                                                                                     |
| <span data-ttu-id="ffb41-1349">IMAGE \_ rel \_ SHM \_ пкрелпт</span><span class="sxs-lookup"><span data-stu-id="ffb41-1349">IMAGE\_REL\_SHM\_PCRELPT</span></span> <br/>          | <span data-ttu-id="ffb41-1350">0x0013</span><span class="sxs-lookup"><span data-stu-id="ffb41-1350">0x0013</span></span> <br/> | <span data-ttu-id="ffb41-1351">Смещение от текущей инструкции в лонгвордс.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1351">The offset from the current instruction in longwords.</span></span> <span data-ttu-id="ffb41-1352">Если бит в режиме не задан, вставьте обратную часть нижнего бита в бит 32, чтобы выбрать PTA или PTB.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1352">If the NOMODE bit is not set, insert the inverse of the low bit at bit 32 to select PTA or PTB.</span></span> <br/>                                                          |
| <span data-ttu-id="ffb41-1353">IMAGE \_ rel \_ SHM \_ рефло</span><span class="sxs-lookup"><span data-stu-id="ffb41-1353">IMAGE\_REL\_SHM\_REFLO</span></span> <br/>            | <span data-ttu-id="ffb41-1354">0x0014</span><span class="sxs-lookup"><span data-stu-id="ffb41-1354">0x0014</span></span> <br/> | <span data-ttu-id="ffb41-1355">Младшие 16 бит 32-разрядного адреса.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1355">The low 16 bits of the 32-bit address.</span></span> <br/>                                                                                                                                                                         |
| <span data-ttu-id="ffb41-1356">IMAGE \_ rel \_ SHM \_ рефхалф</span><span class="sxs-lookup"><span data-stu-id="ffb41-1356">IMAGE\_REL\_SHM\_REFHALF</span></span> <br/>          | <span data-ttu-id="ffb41-1357">0x0015</span><span class="sxs-lookup"><span data-stu-id="ffb41-1357">0x0015</span></span> <br/> | <span data-ttu-id="ffb41-1358">Старшие 16 бит 32-разрядного адреса.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1358">The high 16 bits of the 32-bit address.</span></span> <br/>                                                                                                                                                                        |
| <span data-ttu-id="ffb41-1359">IMAGE \_ rel \_ SHM \_ релло</span><span class="sxs-lookup"><span data-stu-id="ffb41-1359">IMAGE\_REL\_SHM\_RELLO</span></span> <br/>            | <span data-ttu-id="ffb41-1360">0x0016</span><span class="sxs-lookup"><span data-stu-id="ffb41-1360">0x0016</span></span> <br/> | <span data-ttu-id="ffb41-1361">Младшие 16 разрядов относительного адреса.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1361">The low 16 bits of the relative address.</span></span> <br/>                                                                                                                                                                       |
| <span data-ttu-id="ffb41-1362">IMAGE \_ rel \_ SHM \_ релхалф</span><span class="sxs-lookup"><span data-stu-id="ffb41-1362">IMAGE\_REL\_SHM\_RELHALF</span></span> <br/>          | <span data-ttu-id="ffb41-1363">0x0017</span><span class="sxs-lookup"><span data-stu-id="ffb41-1363">0x0017</span></span> <br/> | <span data-ttu-id="ffb41-1364">Старшие 16 разрядов относительного адреса.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1364">The high 16 bits of the relative address.</span></span> <br/>                                                                                                                                                                      |
| <span data-ttu-id="ffb41-1365">\_rel Image \_ SHM, \_ пара</span><span class="sxs-lookup"><span data-stu-id="ffb41-1365">IMAGE\_REL\_SHM\_PAIR</span></span> <br/>             | <span data-ttu-id="ffb41-1366">0x0018</span><span class="sxs-lookup"><span data-stu-id="ffb41-1366">0x0018</span></span> <br/> | <span data-ttu-id="ffb41-1367">Перемещение допустимо только в том случае, если оно непосредственно следует за РЕФХАЛФ, РЕЛХАЛФ или РЕЛЛО перемещения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1367">The relocation is valid only when it immediately follows a REFHALF, RELHALF, or RELLO relocation.</span></span> <span data-ttu-id="ffb41-1368">Поле Симболтаблеиндекс перемещения содержит смещение, а не индекс в таблице символов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1368">The SymbolTableIndex field of the relocation contains a displacement and not an index into the symbol table.</span></span> <br/> |
| <span data-ttu-id="ffb41-1369">\_rel Image \_ SHM \_ mode</span><span class="sxs-lookup"><span data-stu-id="ffb41-1369">IMAGE\_REL\_SHM\_NOMODE</span></span> <br/>           | <span data-ttu-id="ffb41-1370">0x8000</span><span class="sxs-lookup"><span data-stu-id="ffb41-1370">0x8000</span></span> <br/> | <span data-ttu-id="ffb41-1371">Перерасположение игнорирует режим раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1371">The relocation ignores section mode.</span></span> <br/>                                                                                                                                                                           |



 

##### <a name="ibm-powerpc-processors"></a><span data-ttu-id="ffb41-1372">Процессоры IBM PowerPC</span><span class="sxs-lookup"><span data-stu-id="ffb41-1372">IBM PowerPC Processors</span></span>

<span data-ttu-id="ffb41-1373">Для процессоров PowerPC определены следующие индикаторы типа перемещения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1373">The following relocation type indicators are defined for PowerPC processors.</span></span>



| <span data-ttu-id="ffb41-1374">Константа</span><span class="sxs-lookup"><span data-stu-id="ffb41-1374">Constant</span></span>                              | <span data-ttu-id="ffb41-1375">Значение</span><span class="sxs-lookup"><span data-stu-id="ffb41-1375">Value</span></span>              | <span data-ttu-id="ffb41-1376">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-1376">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                         |
|---------------------------------------|--------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-1377">IMAGE \_ rel \_ PPC \_ Absolute</span><span class="sxs-lookup"><span data-stu-id="ffb41-1377">IMAGE\_REL\_PPC\_ABSOLUTE</span></span> <br/> | <span data-ttu-id="ffb41-1378">0x0000</span><span class="sxs-lookup"><span data-stu-id="ffb41-1378">0x0000</span></span> <br/> | <span data-ttu-id="ffb41-1379">Перемещение не учитывается.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1379">The relocation is ignored.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="ffb41-1380">IMAGE \_ rel \_ PPC \_ ADDR64</span><span class="sxs-lookup"><span data-stu-id="ffb41-1380">IMAGE\_REL\_PPC\_ADDR64</span></span> <br/>   | <span data-ttu-id="ffb41-1381">0x0001</span><span class="sxs-lookup"><span data-stu-id="ffb41-1381">0x0001</span></span> <br/> | <span data-ttu-id="ffb41-1382">64-битная версия целевого объекта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1382">The 64-bit VA of the target.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="ffb41-1383">IMAGE \_ rel \_ PPC \_ ADDR32</span><span class="sxs-lookup"><span data-stu-id="ffb41-1383">IMAGE\_REL\_PPC\_ADDR32</span></span> <br/>   | <span data-ttu-id="ffb41-1384">0x0002</span><span class="sxs-lookup"><span data-stu-id="ffb41-1384">0x0002</span></span> <br/> | <span data-ttu-id="ffb41-1385">32-битная версия целевого объекта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1385">The 32-bit VA of the target.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="ffb41-1386">IMAGE \_ rel \_ PPC \_ ADDR24</span><span class="sxs-lookup"><span data-stu-id="ffb41-1386">IMAGE\_REL\_PPC\_ADDR24</span></span> <br/>   | <span data-ttu-id="ffb41-1387">0x0003</span><span class="sxs-lookup"><span data-stu-id="ffb41-1387">0x0003</span></span> <br/> | <span data-ttu-id="ffb41-1388">Младшие 24 бита ва целевого объекта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1388">The low 24 bits of the VA of the target.</span></span> <span data-ttu-id="ffb41-1389">Это допустимо только в том случае, если целевой символ является абсолютным и может быть расширен до исходного значения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1389">This is valid only when the target symbol is absolute and can be sign-extended to its original value.</span></span> <br/>                                                                                                                                                                                                                          |
| <span data-ttu-id="ffb41-1390">IMAGE \_ rel \_ PPC \_ ADDR16</span><span class="sxs-lookup"><span data-stu-id="ffb41-1390">IMAGE\_REL\_PPC\_ADDR16</span></span> <br/>   | <span data-ttu-id="ffb41-1391">0x0004</span><span class="sxs-lookup"><span data-stu-id="ffb41-1391">0x0004</span></span> <br/> | <span data-ttu-id="ffb41-1392">Младшие 16 бит ва целевого объекта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1392">The low 16 bits of the target's VA.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="ffb41-1393">IMAGE \_ rel \_ PPC \_ ADDR14</span><span class="sxs-lookup"><span data-stu-id="ffb41-1393">IMAGE\_REL\_PPC\_ADDR14</span></span> <br/>   | <span data-ttu-id="ffb41-1394">0x0005</span><span class="sxs-lookup"><span data-stu-id="ffb41-1394">0x0005</span></span> <br/> | <span data-ttu-id="ffb41-1395">Младшие 14 бит ва целевого объекта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1395">The low 14 bits of the target's VA.</span></span> <span data-ttu-id="ffb41-1396">Это допустимо только в том случае, если целевой символ является абсолютным и может быть расширен до исходного значения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1396">This is valid only when the target symbol is absolute and can be sign-extended to its original value.</span></span> <br/>                                                                                                                                                                                                                               |
| <span data-ttu-id="ffb41-1397">IMAGE \_ rel \_ PPC \_ REL24</span><span class="sxs-lookup"><span data-stu-id="ffb41-1397">IMAGE\_REL\_PPC\_REL24</span></span> <br/>    | <span data-ttu-id="ffb41-1398">0x0006</span><span class="sxs-lookup"><span data-stu-id="ffb41-1398">0x0006</span></span> <br/> | <span data-ttu-id="ffb41-1399">24-разрядное смещение относительно местоположения символа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1399">A 24-bit PC-relative offset to the symbol's location.</span></span> <br/>                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="ffb41-1400">IMAGE \_ rel \_ PPC \_ REL14</span><span class="sxs-lookup"><span data-stu-id="ffb41-1400">IMAGE\_REL\_PPC\_REL14</span></span> <br/>    | <span data-ttu-id="ffb41-1401">0x0007</span><span class="sxs-lookup"><span data-stu-id="ffb41-1401">0x0007</span></span> <br/> | <span data-ttu-id="ffb41-1402">14-разрядное смещение на ПК относительно расположения символа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1402">A 14-bit PC-relative offset to the symbol's location.</span></span> <br/>                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="ffb41-1403">IMAGE \_ rel \_ PPC \_ ADDR32NB</span><span class="sxs-lookup"><span data-stu-id="ffb41-1403">IMAGE\_REL\_PPC\_ADDR32NB</span></span> <br/> | <span data-ttu-id="ffb41-1404">0x000A</span><span class="sxs-lookup"><span data-stu-id="ffb41-1404">0x000A</span></span> <br/> | <span data-ttu-id="ffb41-1405">32-разрядный RVA целевого объекта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1405">The 32-bit RVA of the target.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="ffb41-1406">IMAGE \_ rel \_ PPC \_ секрел</span><span class="sxs-lookup"><span data-stu-id="ffb41-1406">IMAGE\_REL\_PPC\_SECREL</span></span> <br/>   | <span data-ttu-id="ffb41-1407">0x000B</span><span class="sxs-lookup"><span data-stu-id="ffb41-1407">0x000B</span></span> <br/> | <span data-ttu-id="ffb41-1408">32-разрядное смещение целевого объекта от начала его раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1408">The 32-bit offset of the target from the beginning of its section.</span></span> <span data-ttu-id="ffb41-1409">Используется для поддержки отладочной информации и локального хранилища потока.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1409">This is used to support debugging information and static thread local storage.</span></span> <br/>                                                                                                                                                                                                                       |
| <span data-ttu-id="ffb41-1410">\_rel образа \_ , \_ раздел PPC</span><span class="sxs-lookup"><span data-stu-id="ffb41-1410">IMAGE\_REL\_PPC\_SECTION</span></span> <br/>  | <span data-ttu-id="ffb41-1411">0x000C</span><span class="sxs-lookup"><span data-stu-id="ffb41-1411">0x000C</span></span> <br/> | <span data-ttu-id="ffb41-1412">16-битный индекс раздела, содержащий целевой объект.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1412">The 16-bit section index of the section that contains the target.</span></span> <span data-ttu-id="ffb41-1413">Используется для поддержки отладочной информации.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1413">This is used to support debugging information.</span></span> <br/>                                                                                                                                                                                                                                                        |
| <span data-ttu-id="ffb41-1414">IMAGE \_ rel \_ PPC \_ SECREL16</span><span class="sxs-lookup"><span data-stu-id="ffb41-1414">IMAGE\_REL\_PPC\_SECREL16</span></span> <br/> | <span data-ttu-id="ffb41-1415">0x000F</span><span class="sxs-lookup"><span data-stu-id="ffb41-1415">0x000F</span></span> <br/> | <span data-ttu-id="ffb41-1416">16-разрядное смещение целевого объекта от начала его раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1416">The 16-bit offset of the target from the beginning of its section.</span></span> <span data-ttu-id="ffb41-1417">Используется для поддержки отладочной информации и локального хранилища потока.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1417">This is used to support debugging information and static thread local storage.</span></span> <br/>                                                                                                                                                                                                                       |
| <span data-ttu-id="ffb41-1418">IMAGE \_ rel \_ PPC \_ рефхи</span><span class="sxs-lookup"><span data-stu-id="ffb41-1418">IMAGE\_REL\_PPC\_REFHI</span></span> <br/>    | <span data-ttu-id="ffb41-1419">0x0010</span><span class="sxs-lookup"><span data-stu-id="ffb41-1419">0x0010</span></span> <br/> | <span data-ttu-id="ffb41-1420">Старшие 16 разрядов целевого 32-бита.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1420">The high 16 bits of the target's 32-bit VA.</span></span> <span data-ttu-id="ffb41-1421">Используется для первой инструкции в последовательности из двух инструкций, которая загружает полный адрес.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1421">This is used for the first instruction in a two-instruction sequence that loads a full address.</span></span> <span data-ttu-id="ffb41-1422">За этим перемещением должно сразу следовать повторное расположение пары, Симболтаблеиндекс содержит 16-разрядное смещение со знаком, которое добавляется к 16 верхним позициям, взятым из расположения, которое было перемещено.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1422">This relocation must be immediately followed by a PAIR relocation whose SymbolTableIndex contains a signed 16-bit displacement that is added to the upper 16 bits that was taken from the location that is being relocated.</span></span> <br/> |
| <span data-ttu-id="ffb41-1423">IMAGE \_ rel \_ PPC \_ рефло</span><span class="sxs-lookup"><span data-stu-id="ffb41-1423">IMAGE\_REL\_PPC\_REFLO</span></span> <br/>    | <span data-ttu-id="ffb41-1424">0x0011</span><span class="sxs-lookup"><span data-stu-id="ffb41-1424">0x0011</span></span> <br/> | <span data-ttu-id="ffb41-1425">Младшие 16 бит ва целевого объекта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1425">The low 16 bits of the target's VA.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="ffb41-1426">\_rel Image \_ PPC, \_ пара</span><span class="sxs-lookup"><span data-stu-id="ffb41-1426">IMAGE\_REL\_PPC\_PAIR</span></span> <br/>     | <span data-ttu-id="ffb41-1427">0x0012</span><span class="sxs-lookup"><span data-stu-id="ffb41-1427">0x0012</span></span> <br/> | <span data-ttu-id="ffb41-1428">Перемещение, допустимое только в том случае, если оно непосредственно следует за РЕФХИ или СЕКРЕЛХИ.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1428">A relocation that is valid only when it immediately follows a REFHI or SECRELHI relocation.</span></span> <span data-ttu-id="ffb41-1429">Его Симболтаблеиндекс содержит смещение, а не индекс в таблице символов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1429">Its SymbolTableIndex contains a displacement and not an index into the symbol table.</span></span> <br/>                                                                                                                                                                                        |
| <span data-ttu-id="ffb41-1430">IMAGE \_ rel \_ PPC \_ секрелло</span><span class="sxs-lookup"><span data-stu-id="ffb41-1430">IMAGE\_REL\_PPC\_SECRELLO</span></span> <br/> | <span data-ttu-id="ffb41-1431">0x0013</span><span class="sxs-lookup"><span data-stu-id="ffb41-1431">0x0013</span></span> <br/> | <span data-ttu-id="ffb41-1432">Младшие 16 бит 32-битного смещения целевого объекта с начала раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1432">The low 16 bits of the 32-bit offset of the target from the beginning of its section.</span></span> <br/>                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="ffb41-1433">IMAGE \_ rel \_ PPC \_ гпрел</span><span class="sxs-lookup"><span data-stu-id="ffb41-1433">IMAGE\_REL\_PPC\_GPREL</span></span> <br/>    | <span data-ttu-id="ffb41-1434">0x0015</span><span class="sxs-lookup"><span data-stu-id="ffb41-1434">0x0015</span></span> <br/> | <span data-ttu-id="ffb41-1435">16-разрядное смещение со знаком для целевого объекта относительно регистра GP.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1435">The 16-bit signed displacement of the target relative to the GP register.</span></span> <br/>                                                                                                                                                                                                                                                                                               |
| <span data-ttu-id="ffb41-1436">\_ \_ маркер PPC rel \_ изображения</span><span class="sxs-lookup"><span data-stu-id="ffb41-1436">IMAGE\_REL\_PPC\_TOKEN</span></span> <br/>    | <span data-ttu-id="ffb41-1437">0x0016</span><span class="sxs-lookup"><span data-stu-id="ffb41-1437">0x0016</span></span> <br/> | <span data-ttu-id="ffb41-1438">Токен CLR.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1438">The CLR token.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                          |



 

##### <a name="intel-386-processors"></a><span data-ttu-id="ffb41-1439">Процессоры Intel 386</span><span class="sxs-lookup"><span data-stu-id="ffb41-1439">Intel 386 Processors</span></span>

<span data-ttu-id="ffb41-1440">Для Intel 386 и совместимых процессоров определены следующие индикаторы перемещения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1440">The following relocation type indicators are defined for Intel 386 and compatible processors.</span></span>



| <span data-ttu-id="ffb41-1441">Константа</span><span class="sxs-lookup"><span data-stu-id="ffb41-1441">Constant</span></span>                               | <span data-ttu-id="ffb41-1442">Значение</span><span class="sxs-lookup"><span data-stu-id="ffb41-1442">Value</span></span>              | <span data-ttu-id="ffb41-1443">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-1443">Description</span></span>                                                                                                                                                   |
|----------------------------------------|--------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-1444">IMAGE \_ rel \_ i386 \_ Absolute</span><span class="sxs-lookup"><span data-stu-id="ffb41-1444">IMAGE\_REL\_I386\_ABSOLUTE</span></span> <br/> | <span data-ttu-id="ffb41-1445">0x0000</span><span class="sxs-lookup"><span data-stu-id="ffb41-1445">0x0000</span></span> <br/> | <span data-ttu-id="ffb41-1446">Перемещение не учитывается.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1446">The relocation is ignored.</span></span> <br/>                                                                                                                        |
| <span data-ttu-id="ffb41-1447">IMAGE \_ rel \_ i386 \_ DIR16</span><span class="sxs-lookup"><span data-stu-id="ffb41-1447">IMAGE\_REL\_I386\_DIR16</span></span> <br/>    | <span data-ttu-id="ffb41-1448">0x0001</span><span class="sxs-lookup"><span data-stu-id="ffb41-1448">0x0001</span></span> <br/> | <span data-ttu-id="ffb41-1449">Не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1449">Not supported.</span></span> <br/>                                                                                                                                    |
| <span data-ttu-id="ffb41-1450">IMAGE \_ rel \_ i386 \_ REL16</span><span class="sxs-lookup"><span data-stu-id="ffb41-1450">IMAGE\_REL\_I386\_REL16</span></span> <br/>    | <span data-ttu-id="ffb41-1451">0x0002</span><span class="sxs-lookup"><span data-stu-id="ffb41-1451">0x0002</span></span> <br/> | <span data-ttu-id="ffb41-1452">Не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1452">Not supported.</span></span> <br/>                                                                                                                                    |
| <span data-ttu-id="ffb41-1453">IMAGE \_ rel \_ i386 \_ DIR32</span><span class="sxs-lookup"><span data-stu-id="ffb41-1453">IMAGE\_REL\_I386\_DIR32</span></span> <br/>    | <span data-ttu-id="ffb41-1454">0x0006</span><span class="sxs-lookup"><span data-stu-id="ffb41-1454">0x0006</span></span> <br/> | <span data-ttu-id="ffb41-1455">32-битный целевой объект.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1455">The target's 32-bit VA.</span></span> <br/>                                                                                                                           |
| <span data-ttu-id="ffb41-1456">IMAGE \_ rel \_ i386 \_ DIR32NB</span><span class="sxs-lookup"><span data-stu-id="ffb41-1456">IMAGE\_REL\_I386\_DIR32NB</span></span> <br/>  | <span data-ttu-id="ffb41-1457">0x0007</span><span class="sxs-lookup"><span data-stu-id="ffb41-1457">0x0007</span></span> <br/> | <span data-ttu-id="ffb41-1458">32-разрядный RVA целевого объекта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1458">The target's 32-bit RVA.</span></span> <br/>                                                                                                                          |
| <span data-ttu-id="ffb41-1459">IMAGE \_ rel \_ i386 \_ SEG12</span><span class="sxs-lookup"><span data-stu-id="ffb41-1459">IMAGE\_REL\_I386\_SEG12</span></span> <br/>    | <span data-ttu-id="ffb41-1460">0x0009</span><span class="sxs-lookup"><span data-stu-id="ffb41-1460">0x0009</span></span> <br/> | <span data-ttu-id="ffb41-1461">Не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1461">Not supported.</span></span> <br/>                                                                                                                                    |
| <span data-ttu-id="ffb41-1462">IMAGE \_ rel \_ , \_ раздел i386</span><span class="sxs-lookup"><span data-stu-id="ffb41-1462">IMAGE\_REL\_I386\_SECTION</span></span> <br/>  | <span data-ttu-id="ffb41-1463">0x000A</span><span class="sxs-lookup"><span data-stu-id="ffb41-1463">0x000A</span></span> <br/> | <span data-ttu-id="ffb41-1464">16-битный индекс раздела, содержащий целевой объект.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1464">The 16-bit section index of the section that contains the target.</span></span> <span data-ttu-id="ffb41-1465">Используется для поддержки отладочной информации.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1465">This is used to support debugging information.</span></span> <br/>                                  |
| <span data-ttu-id="ffb41-1466">IMAGE \_ rel \_ i386 \_ секрел</span><span class="sxs-lookup"><span data-stu-id="ffb41-1466">IMAGE\_REL\_I386\_SECREL</span></span> <br/>   | <span data-ttu-id="ffb41-1467">0x000B</span><span class="sxs-lookup"><span data-stu-id="ffb41-1467">0x000B</span></span> <br/> | <span data-ttu-id="ffb41-1468">32-разрядное смещение целевого объекта от начала его раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1468">The 32-bit offset of the target from the beginning of its section.</span></span> <span data-ttu-id="ffb41-1469">Используется для поддержки отладочной информации и локального хранилища потока.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1469">This is used to support debugging information and static thread local storage.</span></span> <br/> |
| <span data-ttu-id="ffb41-1470">\_Маркер Image rel \_ i386 \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-1470">IMAGE\_REL\_I386\_TOKEN</span></span> <br/>    | <span data-ttu-id="ffb41-1471">0x000C</span><span class="sxs-lookup"><span data-stu-id="ffb41-1471">0x000C</span></span> <br/> | <span data-ttu-id="ffb41-1472">Токен CLR.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1472">The CLR token.</span></span> <br/>                                                                                                                                    |
| <span data-ttu-id="ffb41-1473">IMAGE \_ rel \_ i386 \_ SECREL7</span><span class="sxs-lookup"><span data-stu-id="ffb41-1473">IMAGE\_REL\_I386\_SECREL7</span></span> <br/>  | <span data-ttu-id="ffb41-1474">0x000D</span><span class="sxs-lookup"><span data-stu-id="ffb41-1474">0x000D</span></span> <br/> | <span data-ttu-id="ffb41-1475">7-разрядное смещение от базового раздела, содержащего целевой объект.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1475">A 7-bit offset from the base of the section that contains the target.</span></span> <br/>                                                                             |
| <span data-ttu-id="ffb41-1476">IMAGE \_ rel \_ i386 \_ REL32</span><span class="sxs-lookup"><span data-stu-id="ffb41-1476">IMAGE\_REL\_I386\_REL32</span></span> <br/>    | <span data-ttu-id="ffb41-1477">0x0014</span><span class="sxs-lookup"><span data-stu-id="ffb41-1477">0x0014</span></span> <br/> | <span data-ttu-id="ffb41-1478">32-разрядное относительное смещение целевого объекта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1478">The 32-bit relative displacement to the target.</span></span> <span data-ttu-id="ffb41-1479">Это поддерживает относительную ветвь x86 и инструкции по вызову.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1479">This supports the x86 relative branch and call instructions.</span></span> <br/>                                      |



 

##### <a name="intel-itanium-processor-family-ipf"></a><span data-ttu-id="ffb41-1480">Семейство процессоров Intel Itanium (IPF)</span><span class="sxs-lookup"><span data-stu-id="ffb41-1480">Intel Itanium Processor Family (IPF)</span></span>

<span data-ttu-id="ffb41-1481">Для семейства процессоров Intel Itanium и совместимых процессоров определены следующие индикаторы типа перемещения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1481">The following relocation type indicators are defined for the Intel Itanium processor family and compatible processors.</span></span> <span data-ttu-id="ffb41-1482">Обратите внимание, что перемещения в инструкциях используют смещение пакета и номер ячейки для смещения перемещения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1482">Note that relocations on instructions use the bundle's offset and slot number for the relocation offset.</span></span>



| <span data-ttu-id="ffb41-1483">Константа</span><span class="sxs-lookup"><span data-stu-id="ffb41-1483">Constant</span></span>                                 | <span data-ttu-id="ffb41-1484">Значение</span><span class="sxs-lookup"><span data-stu-id="ffb41-1484">Value</span></span>              | <span data-ttu-id="ffb41-1485">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-1485">Description</span></span>                                                                                                                                                                                                                                                                                                                                     |
|------------------------------------------|--------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-1486">ОБРАЗ \_ rel \_ ia64, \_ абсолютный</span><span class="sxs-lookup"><span data-stu-id="ffb41-1486">IMAGE\_REL\_IA64\_ABSOLUTE</span></span> <br/>   | <span data-ttu-id="ffb41-1487">0x0000</span><span class="sxs-lookup"><span data-stu-id="ffb41-1487">0x0000</span></span> <br/> | <span data-ttu-id="ffb41-1488">Перемещение не учитывается.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1488">The relocation is ignored.</span></span> <br/>                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="ffb41-1489">IMAGE \_ rel \_ ia64 \_ IMM14</span><span class="sxs-lookup"><span data-stu-id="ffb41-1489">IMAGE\_REL\_IA64\_IMM14</span></span> <br/>      | <span data-ttu-id="ffb41-1490">0x0001</span><span class="sxs-lookup"><span data-stu-id="ffb41-1490">0x0001</span></span> <br/> | <span data-ttu-id="ffb41-1491">За перемещением инструкций может следовать перемещение СЛАГАЕМОЕ, значение которого добавляется к целевому адресу, прежде чем оно будет вставлено в указанную область в пакете IMM14.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1491">The instruction relocation can be followed by an ADDEND relocation whose value is added to the target address before it is inserted into the specified slot in the IMM14 bundle.</span></span> <span data-ttu-id="ffb41-1492">Цель перемещения должна быть абсолютной, или образ должен быть исправлен.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1492">The relocation target must be absolute or the image must be fixed.</span></span> <br/>                                                                                 |
| <span data-ttu-id="ffb41-1493">IMAGE \_ rel \_ ia64 \_ IMM22</span><span class="sxs-lookup"><span data-stu-id="ffb41-1493">IMAGE\_REL\_IA64\_IMM22</span></span> <br/>      | <span data-ttu-id="ffb41-1494">0x0002</span><span class="sxs-lookup"><span data-stu-id="ffb41-1494">0x0002</span></span> <br/> | <span data-ttu-id="ffb41-1495">За перемещением инструкций может следовать перемещение СЛАГАЕМОЕ, значение которого добавляется к целевому адресу, прежде чем оно будет вставлено в указанную область в пакете IMM22.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1495">The instruction relocation can be followed by an ADDEND relocation whose value is added to the target address before it is inserted into the specified slot in the IMM22 bundle.</span></span> <span data-ttu-id="ffb41-1496">Цель перемещения должна быть абсолютной, или образ должен быть исправлен.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1496">The relocation target must be absolute or the image must be fixed.</span></span> <br/>                                                                                 |
| <span data-ttu-id="ffb41-1497">IMAGE \_ rel \_ ia64 \_ IMM64</span><span class="sxs-lookup"><span data-stu-id="ffb41-1497">IMAGE\_REL\_IA64\_IMM64</span></span> <br/>      | <span data-ttu-id="ffb41-1498">0x0003</span><span class="sxs-lookup"><span data-stu-id="ffb41-1498">0x0003</span></span> <br/> | <span data-ttu-id="ffb41-1499">Номер слота этого перемещения должен быть одним (1).</span><span class="sxs-lookup"><span data-stu-id="ffb41-1499">The slot number of this relocation must be one (1).</span></span> <span data-ttu-id="ffb41-1500">После перемещения может следовать перемещение СЛАГАЕМОЕ, значение которого добавляется к целевому адресу, прежде чем оно будет сохранено во всех трех слотах пакета IMM64.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1500">The relocation can be followed by an ADDEND relocation whose value is added to the target address before it is stored in all three slots of the IMM64 bundle.</span></span> <br/>                                                                                                                   |
| <span data-ttu-id="ffb41-1501">IMAGE \_ rel \_ ia64 \_ DIR32</span><span class="sxs-lookup"><span data-stu-id="ffb41-1501">IMAGE\_REL\_IA64\_DIR32</span></span> <br/>      | <span data-ttu-id="ffb41-1502">0x0004</span><span class="sxs-lookup"><span data-stu-id="ffb41-1502">0x0004</span></span> <br/> | <span data-ttu-id="ffb41-1503">32-битный целевой объект.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1503">The target's 32-bit VA.</span></span> <span data-ttu-id="ffb41-1504">Это поддерживается только для/LARGEADDRESSAWARE: без образов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1504">This is supported only for /LARGEADDRESSAWARE:NO images.</span></span> <br/>                                                                                                                                                                                                                                                    |
| <span data-ttu-id="ffb41-1505">IMAGE \_ rel \_ ia64 \_ DIR64</span><span class="sxs-lookup"><span data-stu-id="ffb41-1505">IMAGE\_REL\_IA64\_DIR64</span></span> <br/>      | <span data-ttu-id="ffb41-1506">0x0005</span><span class="sxs-lookup"><span data-stu-id="ffb41-1506">0x0005</span></span> <br/> | <span data-ttu-id="ffb41-1507">64-битный целевой объект.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1507">The target's 64-bit VA.</span></span> <br/>                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="ffb41-1508">IMAGE \_ rel \_ ia64 \_ PCREL21B</span><span class="sxs-lookup"><span data-stu-id="ffb41-1508">IMAGE\_REL\_IA64\_PCREL21B</span></span> <br/>   | <span data-ttu-id="ffb41-1509">0x0006</span><span class="sxs-lookup"><span data-stu-id="ffb41-1509">0x0006</span></span> <br/> | <span data-ttu-id="ffb41-1510">Инструкция исправлена с 25-битным относительным смещением к 16-битному целевому объекту с согласованием.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1510">The instruction is fixed up with the 25-bit relative displacement to the 16-bit aligned target.</span></span> <span data-ttu-id="ffb41-1511">Младшие 4 бита смещения равны нулю и не сохраняются.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1511">The low 4 bits of the displacement are zero and are not stored.</span></span> <br/>                                                                                                                                                                     |
| <span data-ttu-id="ffb41-1512">IMAGE \_ rel \_ ia64 \_ PCREL21M</span><span class="sxs-lookup"><span data-stu-id="ffb41-1512">IMAGE\_REL\_IA64\_PCREL21M</span></span> <br/>   | <span data-ttu-id="ffb41-1513">0x0007</span><span class="sxs-lookup"><span data-stu-id="ffb41-1513">0x0007</span></span> <br/> | <span data-ttu-id="ffb41-1514">Инструкция исправлена с 25-битным относительным смещением к 16-битному целевому объекту с согласованием.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1514">The instruction is fixed up with the 25-bit relative displacement to the 16-bit aligned target.</span></span> <span data-ttu-id="ffb41-1515">Младшие 4 бита смещения, которые равны нулю, не сохраняются.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1515">The low 4 bits of the displacement, which are zero, are not stored.</span></span> <br/>                                                                                                                                                                 |
| <span data-ttu-id="ffb41-1516">IMAGE \_ rel \_ ia64 \_ PCREL21F</span><span class="sxs-lookup"><span data-stu-id="ffb41-1516">IMAGE\_REL\_IA64\_PCREL21F</span></span> <br/>   | <span data-ttu-id="ffb41-1517">0x0008</span><span class="sxs-lookup"><span data-stu-id="ffb41-1517">0x0008</span></span> <br/> | <span data-ttu-id="ffb41-1518">Лсбс смещения этого перемещения должно содержать номер гнезда, а остальное — адрес пакета.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1518">The LSBs of this relocation's offset must contain the slot number whereas the rest is the bundle address.</span></span> <span data-ttu-id="ffb41-1519">В наборе используется 25-разрядное относительное смещение к 16-разрядному целевому объекту с согласованием.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1519">The bundle is fixed up with the 25-bit relative displacement to the 16-bit aligned target.</span></span> <span data-ttu-id="ffb41-1520">Младшие 4 бита смещения равны нулю и не сохраняются.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1520">The low 4 bits of the displacement are zero and are not stored.</span></span> <br/>                                                                |
| <span data-ttu-id="ffb41-1521">IMAGE \_ rel \_ ia64 \_ GPREL22</span><span class="sxs-lookup"><span data-stu-id="ffb41-1521">IMAGE\_REL\_IA64\_GPREL22</span></span> <br/>    | <span data-ttu-id="ffb41-1522">0x0009</span><span class="sxs-lookup"><span data-stu-id="ffb41-1522">0x0009</span></span> <br/> | <span data-ttu-id="ffb41-1523">За перемещением инструкций может следовать перемещение СЛАГАЕМОЕ, значение которого добавляется к целевому адресу, а затем — 22-разрядное смещение относительно параметра GP, которое вычисляется и применяется к пакету GPREL22.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1523">The instruction relocation can be followed by an ADDEND relocation whose value is added to the target address and then a 22-bit GP-relative offset that is calculated and applied to the GPREL22 bundle.</span></span> <br/>                                                                                                                            |
| <span data-ttu-id="ffb41-1524">IMAGE \_ rel \_ ia64 \_ LTOFF22</span><span class="sxs-lookup"><span data-stu-id="ffb41-1524">IMAGE\_REL\_IA64\_LTOFF22</span></span> <br/>    | <span data-ttu-id="ffb41-1525">0x000A</span><span class="sxs-lookup"><span data-stu-id="ffb41-1525">0x000A</span></span> <br/> | <span data-ttu-id="ffb41-1526">Инструкция исправлена с использованием значения 22-разрядного смещения, относительного параметра GP, к записи таблицы литералов целевого символа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1526">The instruction is fixed up with the 22-bit GP-relative offset to the target symbol's literal table entry.</span></span> <span data-ttu-id="ffb41-1527">Компоновщик создает эту запись таблицы литералов на основе этого перемещения и СЛАГАЕМОЕ перемещения, которое может следовать за этим.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1527">The linker creates this literal table entry based on this relocation and the ADDEND relocation that might follow.</span></span> <br/>                                                                                                        |
| <span data-ttu-id="ffb41-1528">IMAGE \_ rel \_ ia64, \_ раздел</span><span class="sxs-lookup"><span data-stu-id="ffb41-1528">IMAGE\_REL\_IA64\_SECTION</span></span> <br/>    | <span data-ttu-id="ffb41-1529">0x000B</span><span class="sxs-lookup"><span data-stu-id="ffb41-1529">0x000B</span></span> <br/> | <span data-ttu-id="ffb41-1530">16-битный индекс раздела содержит целевой объект.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1530">The 16-bit section index of the section contains the target.</span></span> <span data-ttu-id="ffb41-1531">Используется для поддержки отладочной информации.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1531">This is used to support debugging information.</span></span> <br/>                                                                                                                                                                                                                         |
| <span data-ttu-id="ffb41-1532">IMAGE \_ rel \_ ia64 \_ SECREL22</span><span class="sxs-lookup"><span data-stu-id="ffb41-1532">IMAGE\_REL\_IA64\_SECREL22</span></span> <br/>   | <span data-ttu-id="ffb41-1533">0x000C</span><span class="sxs-lookup"><span data-stu-id="ffb41-1533">0x000C</span></span> <br/> | <span data-ttu-id="ffb41-1534">Инструкция исправлена с использованием 22-разрядного смещения целевого объекта в начале раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1534">The instruction is fixed up with the 22-bit offset of the target from the beginning of its section.</span></span> <span data-ttu-id="ffb41-1535">За этим перемещением может сразу же следовать перемещение СЛАГАЕМОЕ, поле значения которого содержит 32-разрядное смещение без знака от начала раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1535">This relocation can be followed immediately by an ADDEND relocation, whose Value field contains the 32-bit unsigned offset of the target from the beginning of the section.</span></span> <br/>                                                     |
| <span data-ttu-id="ffb41-1536">IMAGE \_ rel \_ ia64 \_ SECREL64I</span><span class="sxs-lookup"><span data-stu-id="ffb41-1536">IMAGE\_REL\_IA64\_SECREL64I</span></span> <br/>  | <span data-ttu-id="ffb41-1537">0x000D</span><span class="sxs-lookup"><span data-stu-id="ffb41-1537">0x000D</span></span> <br/> | <span data-ttu-id="ffb41-1538">Номер слота для этого перемещения должен быть одним (1).</span><span class="sxs-lookup"><span data-stu-id="ffb41-1538">The slot number for this relocation must be one (1).</span></span> <span data-ttu-id="ffb41-1539">Инструкция исправлена с 64-битным смещением целевого объекта от начала его раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1539">The instruction is fixed up with the 64-bit offset of the target from the beginning of its section.</span></span> <span data-ttu-id="ffb41-1540">За этим перемещением можно немедленно выполнить перемещение СЛАГАЕМОЕ, в поле Value которого содержится 32-разрядное смещение без знака от начала раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1540">This relocation can be followed immediately by an ADDEND relocation whose Value field contains the 32-bit unsigned offset of the target from the beginning of the section.</span></span> <br/> |
| <span data-ttu-id="ffb41-1541">IMAGE \_ rel \_ ia64 \_ SECREL32</span><span class="sxs-lookup"><span data-stu-id="ffb41-1541">IMAGE\_REL\_IA64\_SECREL32</span></span> <br/>   | <span data-ttu-id="ffb41-1542">0x000E</span><span class="sxs-lookup"><span data-stu-id="ffb41-1542">0x000E</span></span> <br/> | <span data-ttu-id="ffb41-1543">Адрес данных для фиксирования с 32-битным смещением целевого объекта от начала раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1543">The address of data to be fixed up with the 32-bit offset of the target from the beginning of its section.</span></span> <br/>                                                                                                                                                                                                                          |
| <span data-ttu-id="ffb41-1544">IMAGE \_ rel \_ ia64 \_ DIR32NB</span><span class="sxs-lookup"><span data-stu-id="ffb41-1544">IMAGE\_REL\_IA64\_DIR32NB</span></span> <br/>    | <span data-ttu-id="ffb41-1545">0x0010</span><span class="sxs-lookup"><span data-stu-id="ffb41-1545">0x0010</span></span> <br/> | <span data-ttu-id="ffb41-1546">32-разрядный RVA целевого объекта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1546">The target's 32-bit RVA.</span></span> <br/>                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="ffb41-1547">IMAGE \_ rel \_ ia64 \_ SREL14</span><span class="sxs-lookup"><span data-stu-id="ffb41-1547">IMAGE\_REL\_IA64\_SREL14</span></span> <br/>     | <span data-ttu-id="ffb41-1548">0x0011</span><span class="sxs-lookup"><span data-stu-id="ffb41-1548">0x0011</span></span> <br/> | <span data-ttu-id="ffb41-1549">Это применяется к немедленному 14-разрядному моменту со знаком, который содержит разность между двумя перемещаемыми целевыми объектами.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1549">This is applied to a signed 14-bit immediate that contains the difference between two relocatable targets.</span></span> <span data-ttu-id="ffb41-1550">Это декларативное поле для компоновщика, которое указывает, что компилятор уже выдал это значение.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1550">This is a declarative field for the linker that indicates that the compiler has already emitted this value.</span></span> <br/>                                                                                                              |
| <span data-ttu-id="ffb41-1551">IMAGE \_ rel \_ ia64 \_ SREL22</span><span class="sxs-lookup"><span data-stu-id="ffb41-1551">IMAGE\_REL\_IA64\_SREL22</span></span> <br/>     | <span data-ttu-id="ffb41-1552">0x0012</span><span class="sxs-lookup"><span data-stu-id="ffb41-1552">0x0012</span></span> <br/> | <span data-ttu-id="ffb41-1553">Этот параметр применяется к немедленным подписанным 22-битным данным, который содержит разность между двумя перемещаемыми целевыми объектами.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1553">This is applied to a signed 22-bit immediate that contains the difference between two relocatable targets.</span></span> <span data-ttu-id="ffb41-1554">Это декларативное поле для компоновщика, которое указывает, что компилятор уже выдал это значение.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1554">This is a declarative field for the linker that indicates that the compiler has already emitted this value.</span></span> <br/>                                                                                                              |
| <span data-ttu-id="ffb41-1555">IMAGE \_ rel \_ ia64 \_ SREL32</span><span class="sxs-lookup"><span data-stu-id="ffb41-1555">IMAGE\_REL\_IA64\_SREL32</span></span> <br/>     | <span data-ttu-id="ffb41-1556">0x0013</span><span class="sxs-lookup"><span data-stu-id="ffb41-1556">0x0013</span></span> <br/> | <span data-ttu-id="ffb41-1557">Это применяется к немедленному 32-разрядному моменту, содержащему разницу между двумя перемещаемыми значениями.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1557">This is applied to a signed 32-bit immediate that contains the difference between two relocatable values.</span></span> <span data-ttu-id="ffb41-1558">Это декларативное поле для компоновщика, которое указывает, что компилятор уже выдал это значение.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1558">This is a declarative field for the linker that indicates that the compiler has already emitted this value.</span></span> <br/>                                                                                                               |
| <span data-ttu-id="ffb41-1559">IMAGE \_ rel \_ ia64 \_ UREL32</span><span class="sxs-lookup"><span data-stu-id="ffb41-1559">IMAGE\_REL\_IA64\_UREL32</span></span> <br/>     | <span data-ttu-id="ffb41-1560">0x0014</span><span class="sxs-lookup"><span data-stu-id="ffb41-1560">0x0014</span></span> <br/> | <span data-ttu-id="ffb41-1561">Это применяется к некоторому неподписанному 32-разрядному немедленному значению, содержащему разницу между двумя перемещаемыми значениями.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1561">This is applied to an unsigned 32-bit immediate that contains the difference between two relocatable values.</span></span> <span data-ttu-id="ffb41-1562">Это декларативное поле для компоновщика, которое указывает, что компилятор уже выдал это значение.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1562">This is a declarative field for the linker that indicates that the compiler has already emitted this value.</span></span> <br/>                                                                                                            |
| <span data-ttu-id="ffb41-1563">IMAGE \_ rel \_ ia64 \_ PCREL60X</span><span class="sxs-lookup"><span data-stu-id="ffb41-1563">IMAGE\_REL\_IA64\_PCREL60X</span></span> <br/>   | <span data-ttu-id="ffb41-1564">0x0015</span><span class="sxs-lookup"><span data-stu-id="ffb41-1564">0x0015</span></span> <br/> | <span data-ttu-id="ffb41-1565">60-разрядная адресная привязка для компьютера, которая всегда остается инструкцией БРАЗИЛЬСКИХ пакета МЛКС.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1565">A 60-bit PC-relative fixup that always stays as a BRL instruction of an MLX bundle.</span></span> <br/>                                                                                                                                                                                                                                                 |
| <span data-ttu-id="ffb41-1566">IMAGE \_ rel \_ ia64 \_ PCREL60B</span><span class="sxs-lookup"><span data-stu-id="ffb41-1566">IMAGE\_REL\_IA64\_PCREL60B</span></span> <br/>   | <span data-ttu-id="ffb41-1567">0x0016</span><span class="sxs-lookup"><span data-stu-id="ffb41-1567">0x0016</span></span> <br/> | <span data-ttu-id="ffb41-1568">60-разрядная адресная привязка для компьютера.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1568">A 60-bit PC-relative fixup.</span></span> <span data-ttu-id="ffb41-1569">Если целевое смещение замещается в 25-битовом поле со знаком, преобразуйте весь пакет в пакет МББ с помощью NOP. B в слот 1 и 25-разрядной инструкции BR (с 4 самыми низкими битами и нулем) в слоте 2.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1569">If the target displacement fits in a signed 25-bit field, convert the entire bundle to an MBB bundle with NOP.B in slot 1 and a 25-bit BR instruction (with the 4 lowest bits all zero and dropped) in slot 2.</span></span> <br/>                                                                                          |
| <span data-ttu-id="ffb41-1570">IMAGE \_ rel \_ ia64 \_ PCREL60F</span><span class="sxs-lookup"><span data-stu-id="ffb41-1570">IMAGE\_REL\_IA64\_PCREL60F</span></span> <br/>   | <span data-ttu-id="ffb41-1571">0x0017</span><span class="sxs-lookup"><span data-stu-id="ffb41-1571">0x0017</span></span> <br/> | <span data-ttu-id="ffb41-1572">60-разрядная адресная привязка для компьютера.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1572">A 60-bit PC-relative fixup.</span></span> <span data-ttu-id="ffb41-1573">Если целевое смещение замещается в 25-битовом поле со знаком, преобразуйте весь пакет в пакет МФБ с помощью NOP. F в слоте 1 и 25-разрядной (4 младших бита все нуль и удалено). Инструкция BR в слоте 2.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1573">If the target displacement fits in a signed 25-bit field, convert the entire bundle to an MFB bundle with NOP.F in slot 1 and a 25-bit (4 lowest bits all zero and dropped) BR instruction in slot 2.</span></span> <br/>                                                                                                   |
| <span data-ttu-id="ffb41-1574">IMAGE \_ rel \_ ia64 \_ PCREL60I</span><span class="sxs-lookup"><span data-stu-id="ffb41-1574">IMAGE\_REL\_IA64\_PCREL60I</span></span> <br/>   | <span data-ttu-id="ffb41-1575">0x0018</span><span class="sxs-lookup"><span data-stu-id="ffb41-1575">0x0018</span></span> <br/> | <span data-ttu-id="ffb41-1576">60-разрядная адресная привязка для компьютера.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1576">A 60-bit PC-relative fixup.</span></span> <span data-ttu-id="ffb41-1577">Если целевое смещение замещается в 25-битовом поле со знаком, преобразуйте весь пакет в комплект MIB с NOP. I в слоте 1 и 25-разрядной (4 младшие биты все нули и удаленные) в слоте 2.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1577">If the target displacement fits in a signed 25-bit field, convert the entire bundle to an MIB bundle with NOP.I in slot 1 and a 25-bit (4 lowest bits all zero and dropped) BR instruction in slot 2.</span></span> <br/>                                                                                                   |
| <span data-ttu-id="ffb41-1578">IMAGE \_ rel \_ ia64 \_ PCREL60M</span><span class="sxs-lookup"><span data-stu-id="ffb41-1578">IMAGE\_REL\_IA64\_PCREL60M</span></span> <br/>   | <span data-ttu-id="ffb41-1579">0x0019</span><span class="sxs-lookup"><span data-stu-id="ffb41-1579">0x0019</span></span> <br/> | <span data-ttu-id="ffb41-1580">60-разрядная адресная привязка для компьютера.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1580">A 60-bit PC-relative fixup.</span></span> <span data-ttu-id="ffb41-1581">Если целевое смещение замещается в 25-битовом поле со знаком, преобразуйте весь пакет в пакет ММБ с помощью NOP. M в слоте 1 и 25-разрядной (4 младших бита все нуль и удалено) BR в слоте 2.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1581">If the target displacement fits in a signed 25-bit field, convert the entire bundle to an MMB bundle with NOP.M in slot 1 and a 25-bit (4 lowest bits all zero and dropped) BR instruction in slot 2.</span></span> <br/>                                                                                                   |
| <span data-ttu-id="ffb41-1582">IMAGE \_ rel \_ ia64 \_ IMMGPREL64</span><span class="sxs-lookup"><span data-stu-id="ffb41-1582">IMAGE\_REL\_IA64\_IMMGPREL64</span></span> <br/> | <span data-ttu-id="ffb41-1583">0x001a</span><span class="sxs-lookup"><span data-stu-id="ffb41-1583">0x001a</span></span> <br/> | <span data-ttu-id="ffb41-1584">Адресная привязка для 64-разрядного элемента GP.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1584">A 64-bit GP-relative fixup.</span></span> <br/>                                                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="ffb41-1585">\_Маркер образа rel \_ ia64 \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-1585">IMAGE\_REL\_IA64\_TOKEN</span></span> <br/>      | <span data-ttu-id="ffb41-1586">0x001b</span><span class="sxs-lookup"><span data-stu-id="ffb41-1586">0x001b</span></span> <br/> | <span data-ttu-id="ffb41-1587">Токен CLR.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1587">A CLR token.</span></span> <br/>                                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="ffb41-1588">IMAGE \_ rel \_ ia64 \_ GPREL32</span><span class="sxs-lookup"><span data-stu-id="ffb41-1588">IMAGE\_REL\_IA64\_GPREL32</span></span> <br/>    | <span data-ttu-id="ffb41-1589">0x001c</span><span class="sxs-lookup"><span data-stu-id="ffb41-1589">0x001c</span></span> <br/> | <span data-ttu-id="ffb41-1590">Адресная привязка для 32-разрядного элемента GP.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1590">A 32-bit GP-relative fixup.</span></span> <br/>                                                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="ffb41-1591">IMAGE \_ rel \_ ia64 \_ слагаемое</span><span class="sxs-lookup"><span data-stu-id="ffb41-1591">IMAGE\_REL\_IA64\_ADDEND</span></span> <br/>     | <span data-ttu-id="ffb41-1592">0x001F</span><span class="sxs-lookup"><span data-stu-id="ffb41-1592">0x001F</span></span> <br/> | <span data-ttu-id="ffb41-1593">Перемещение допустимо только в том случае, если оно непосредственно следует за одним из следующих расположений: IMM14, IMM22, IMM64, GPREL22, LTOFF22, LTOFF64, SECREL22, SECREL64I или SECREL32.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1593">The relocation is valid only when it immediately follows one of the following relocations: IMM14, IMM22, IMM64, GPREL22, LTOFF22, LTOFF64, SECREL22, SECREL64I, or SECREL32.</span></span> <span data-ttu-id="ffb41-1594">Его значение содержит слагаемое, которые применяются к инструкциям в пакете, а не к данным.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1594">Its value contains the addend to apply to instructions within a bundle, not for data.</span></span> <br/>                                                                  |



 

##### <a name="mips-processors"></a><span data-ttu-id="ffb41-1595">Процессоры MIPS</span><span class="sxs-lookup"><span data-stu-id="ffb41-1595">MIPS Processors</span></span>

<span data-ttu-id="ffb41-1596">Для процессоров MIPS определены следующие индикаторы типа перемещения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1596">The following relocation type indicators are defined for MIPS processors.</span></span>



| <span data-ttu-id="ffb41-1597">Константа</span><span class="sxs-lookup"><span data-stu-id="ffb41-1597">Constant</span></span>                                | <span data-ttu-id="ffb41-1598">Значение</span><span class="sxs-lookup"><span data-stu-id="ffb41-1598">Value</span></span>              | <span data-ttu-id="ffb41-1599">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-1599">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                         |
|-----------------------------------------|--------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-1600">ИЗОБРАЖЕНИЕ \_ rel \_ MIPS \_ Absolute</span><span class="sxs-lookup"><span data-stu-id="ffb41-1600">IMAGE\_REL\_MIPS\_ABSOLUTE</span></span> <br/>  | <span data-ttu-id="ffb41-1601">0x0000</span><span class="sxs-lookup"><span data-stu-id="ffb41-1601">0x0000</span></span> <br/> | <span data-ttu-id="ffb41-1602">Перемещение не учитывается.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1602">The relocation is ignored.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="ffb41-1603">IMAGE \_ rel \_ MIPS \_ рефхалф</span><span class="sxs-lookup"><span data-stu-id="ffb41-1603">IMAGE\_REL\_MIPS\_REFHALF</span></span> <br/>   | <span data-ttu-id="ffb41-1604">0x0001</span><span class="sxs-lookup"><span data-stu-id="ffb41-1604">0x0001</span></span> <br/> | <span data-ttu-id="ffb41-1605">Старшие 16 разрядов целевого 32-бита.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1605">The high 16 bits of the target's 32-bit VA.</span></span> <br/>                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="ffb41-1606">IMAGE \_ rel \_ MIPS \_ рефворд</span><span class="sxs-lookup"><span data-stu-id="ffb41-1606">IMAGE\_REL\_MIPS\_REFWORD</span></span> <br/>   | <span data-ttu-id="ffb41-1607">0x0002</span><span class="sxs-lookup"><span data-stu-id="ffb41-1607">0x0002</span></span> <br/> | <span data-ttu-id="ffb41-1608">32-битный целевой объект.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1608">The target's 32-bit VA.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="ffb41-1609">IMAGE \_ rel \_ MIPS \_ жмпаддр</span><span class="sxs-lookup"><span data-stu-id="ffb41-1609">IMAGE\_REL\_MIPS\_JMPADDR</span></span> <br/>   | <span data-ttu-id="ffb41-1610">0x0003</span><span class="sxs-lookup"><span data-stu-id="ffb41-1610">0x0003</span></span> <br/> | <span data-ttu-id="ffb41-1611">Младшие 26 бит ва целевого объекта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1611">The low 26 bits of the target's VA.</span></span> <span data-ttu-id="ffb41-1612">Это поддерживает инструкции MIPS J и JAL.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1612">This supports the MIPS J and JAL instructions.</span></span> <br/>                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="ffb41-1613">IMAGE \_ rel \_ MIPS \_ рефхи</span><span class="sxs-lookup"><span data-stu-id="ffb41-1613">IMAGE\_REL\_MIPS\_REFHI</span></span> <br/>     | <span data-ttu-id="ffb41-1614">0x0004</span><span class="sxs-lookup"><span data-stu-id="ffb41-1614">0x0004</span></span> <br/> | <span data-ttu-id="ffb41-1615">Старшие 16 разрядов целевого 32-бита.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1615">The high 16 bits of the target's 32-bit VA.</span></span> <span data-ttu-id="ffb41-1616">Используется для первой инструкции в последовательности из двух инструкций, которая загружает полный адрес.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1616">This is used for the first instruction in a two-instruction sequence that loads a full address.</span></span> <span data-ttu-id="ffb41-1617">За этим перемещением должно сразу следовать перемещение пары, в которой Симболтаблеиндекс содержит 16-разрядное смещение со знаком, которое добавляется к 16 верхним позициям, взятым из расположения, которое перемещается.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1617">This relocation must be immediately followed by a PAIR relocation whose SymbolTableIndex contains a signed 16-bit displacement that is added to the upper 16 bits that are taken from the location that is being relocated.</span></span> <br/> |
| <span data-ttu-id="ffb41-1618">IMAGE \_ rel \_ MIPS \_ рефло</span><span class="sxs-lookup"><span data-stu-id="ffb41-1618">IMAGE\_REL\_MIPS\_REFLO</span></span> <br/>     | <span data-ttu-id="ffb41-1619">0x0005</span><span class="sxs-lookup"><span data-stu-id="ffb41-1619">0x0005</span></span> <br/> | <span data-ttu-id="ffb41-1620">Младшие 16 бит ва целевого объекта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1620">The low 16 bits of the target's VA.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="ffb41-1621">IMAGE \_ rel \_ MIPS \_ гпрел</span><span class="sxs-lookup"><span data-stu-id="ffb41-1621">IMAGE\_REL\_MIPS\_GPREL</span></span> <br/>     | <span data-ttu-id="ffb41-1622">0x0006</span><span class="sxs-lookup"><span data-stu-id="ffb41-1622">0x0006</span></span> <br/> | <span data-ttu-id="ffb41-1623">16-разрядное смещение со знаком для целевого объекта относительно регистра GP.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1623">A 16-bit signed displacement of the target relative to the GP register.</span></span> <br/>                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="ffb41-1624">\_литерал rel \_ MIPS \_ Image</span><span class="sxs-lookup"><span data-stu-id="ffb41-1624">IMAGE\_REL\_MIPS\_LITERAL</span></span> <br/>   | <span data-ttu-id="ffb41-1625">0x0007</span><span class="sxs-lookup"><span data-stu-id="ffb41-1625">0x0007</span></span> <br/> | <span data-ttu-id="ffb41-1626">То же, что и IMAGE \_ rel \_ MIPS \_ гпрел.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1626">The same as IMAGE\_REL\_MIPS\_GPREL.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="ffb41-1627">IMAGE \_ rel \_ MIPS, \_ раздел</span><span class="sxs-lookup"><span data-stu-id="ffb41-1627">IMAGE\_REL\_MIPS\_SECTION</span></span> <br/>   | <span data-ttu-id="ffb41-1628">0x000A</span><span class="sxs-lookup"><span data-stu-id="ffb41-1628">0x000A</span></span> <br/> | <span data-ttu-id="ffb41-1629">16-битный индекс раздела содержит целевой объект.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1629">The 16-bit section index of the section contains the target.</span></span> <span data-ttu-id="ffb41-1630">Используется для поддержки отладочной информации.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1630">This is used to support debugging information.</span></span> <br/>                                                                                                                                                                                                                                                             |
| <span data-ttu-id="ffb41-1631">IMAGE \_ rel \_ MIPS \_ секрел</span><span class="sxs-lookup"><span data-stu-id="ffb41-1631">IMAGE\_REL\_MIPS\_SECREL</span></span> <br/>    | <span data-ttu-id="ffb41-1632">0x000B</span><span class="sxs-lookup"><span data-stu-id="ffb41-1632">0x000B</span></span> <br/> | <span data-ttu-id="ffb41-1633">32-разрядное смещение целевого объекта от начала его раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1633">The 32-bit offset of the target from the beginning of its section.</span></span> <span data-ttu-id="ffb41-1634">Используется для поддержки отладочной информации и локального хранилища потока.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1634">This is used to support debugging information and static thread local storage.</span></span> <br/>                                                                                                                                                                                                                       |
| <span data-ttu-id="ffb41-1635">IMAGE \_ rel \_ MIPS \_ секрелло</span><span class="sxs-lookup"><span data-stu-id="ffb41-1635">IMAGE\_REL\_MIPS\_SECRELLO</span></span> <br/>  | <span data-ttu-id="ffb41-1636">0x000C</span><span class="sxs-lookup"><span data-stu-id="ffb41-1636">0x000C</span></span> <br/> | <span data-ttu-id="ffb41-1637">Младшие 16 бит 32-битного смещения целевого объекта с начала раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1637">The low 16 bits of the 32-bit offset of the target from the beginning of its section.</span></span> <br/>                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="ffb41-1638">IMAGE \_ rel \_ MIPS \_ секрелхи</span><span class="sxs-lookup"><span data-stu-id="ffb41-1638">IMAGE\_REL\_MIPS\_SECRELHI</span></span> <br/>  | <span data-ttu-id="ffb41-1639">0x000D</span><span class="sxs-lookup"><span data-stu-id="ffb41-1639">0x000D</span></span> <br/> | <span data-ttu-id="ffb41-1640">Старшие 16 бит 32-битного смещения целевого объекта с начала раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1640">The high 16 bits of the 32-bit offset of the target from the beginning of its section.</span></span> <span data-ttu-id="ffb41-1641">ОБРАЗ rel MIPS, перемещается по \_ \_ паре, \_ должен следовать за ним.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1641">An IMAGE\_REL\_MIPS\_PAIR relocation must immediately follow this one.</span></span> <span data-ttu-id="ffb41-1642">Симболтаблеиндекс перемещения пары содержит 16-разрядное смещение со знаком, которое добавляется к старшим 16 битам, взятым из расположения, которое перемещается.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1642">The SymbolTableIndex of the PAIR relocation contains a signed 16-bit displacement that is added to the upper 16 bits that are taken from the location that is being relocated.</span></span> <br/>                            |
| <span data-ttu-id="ffb41-1643">IMAGE \_ rel \_ MIPS \_ JMPADDR16</span><span class="sxs-lookup"><span data-stu-id="ffb41-1643">IMAGE\_REL\_MIPS\_JMPADDR16</span></span> <br/> | <span data-ttu-id="ffb41-1644">0x0010</span><span class="sxs-lookup"><span data-stu-id="ffb41-1644">0x0010</span></span> <br/> | <span data-ttu-id="ffb41-1645">Младшие 26 бит ва целевого объекта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1645">The low 26 bits of the target's VA.</span></span> <span data-ttu-id="ffb41-1646">Это поддерживает инструкцию JAL MIPS16.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1646">This supports the MIPS16 JAL instruction.</span></span> <br/>                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="ffb41-1647">IMAGE \_ rel \_ MIPS \_ рефворднб</span><span class="sxs-lookup"><span data-stu-id="ffb41-1647">IMAGE\_REL\_MIPS\_REFWORDNB</span></span> <br/> | <span data-ttu-id="ffb41-1648">0x0022</span><span class="sxs-lookup"><span data-stu-id="ffb41-1648">0x0022</span></span> <br/> | <span data-ttu-id="ffb41-1649">32-разрядный RVA целевого объекта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1649">The target's 32-bit RVA.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                |
| <span data-ttu-id="ffb41-1650">\_пара Image rel \_ MIPS \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-1650">IMAGE\_REL\_MIPS\_PAIR</span></span> <br/>      | <span data-ttu-id="ffb41-1651">0x0025</span><span class="sxs-lookup"><span data-stu-id="ffb41-1651">0x0025</span></span> <br/> | <span data-ttu-id="ffb41-1652">Перемещение допустимо только в том случае, если оно непосредственно следует за перемещением РЕФХИ или СЕКРЕЛХИ.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1652">The relocation is valid only when it immediately follows a REFHI or SECRELHI relocation.</span></span> <span data-ttu-id="ffb41-1653">Его Симболтаблеиндекс содержит смещение, а не индекс в таблице символов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1653">Its SymbolTableIndex contains a displacement and not an index into the symbol table.</span></span> <br/>                                                                                                                                                                                           |



 

##### <a name="mitsubishi-m32r"></a><span data-ttu-id="ffb41-1654">Mitsubishi M32R</span><span class="sxs-lookup"><span data-stu-id="ffb41-1654">Mitsubishi M32R</span></span>

<span data-ttu-id="ffb41-1655">Для процессоров Mitsubishi M32R определены следующие индикаторы типа перемещения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1655">The following relocation type indicators are defined for the Mitsubishi M32R processors.</span></span>



| <span data-ttu-id="ffb41-1656">Константа</span><span class="sxs-lookup"><span data-stu-id="ffb41-1656">Constant</span></span>                               | <span data-ttu-id="ffb41-1657">Значение</span><span class="sxs-lookup"><span data-stu-id="ffb41-1657">Value</span></span>              | <span data-ttu-id="ffb41-1658">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-1658">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                   |
|----------------------------------------|--------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-1659">IMAGE \_ rel \_ M32R \_ Absolute</span><span class="sxs-lookup"><span data-stu-id="ffb41-1659">IMAGE\_REL\_M32R\_ABSOLUTE</span></span> <br/> | <span data-ttu-id="ffb41-1660">0x0000</span><span class="sxs-lookup"><span data-stu-id="ffb41-1660">0x0000</span></span> <br/> | <span data-ttu-id="ffb41-1661">Перемещение не учитывается.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1661">The relocation is ignored.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="ffb41-1662">IMAGE \_ rel \_ M32R \_ ADDR32</span><span class="sxs-lookup"><span data-stu-id="ffb41-1662">IMAGE\_REL\_M32R\_ADDR32</span></span> <br/>   | <span data-ttu-id="ffb41-1663">0x0001</span><span class="sxs-lookup"><span data-stu-id="ffb41-1663">0x0001</span></span> <br/> | <span data-ttu-id="ffb41-1664">32-битный целевой объект.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1664">The target's 32-bit VA.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="ffb41-1665">IMAGE \_ rel \_ M32R \_ ADDR32NB</span><span class="sxs-lookup"><span data-stu-id="ffb41-1665">IMAGE\_REL\_M32R\_ADDR32NB</span></span> <br/> | <span data-ttu-id="ffb41-1666">0x0002</span><span class="sxs-lookup"><span data-stu-id="ffb41-1666">0x0002</span></span> <br/> | <span data-ttu-id="ffb41-1667">32-разрядный RVA целевого объекта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1667">The target's 32-bit RVA.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="ffb41-1668">IMAGE \_ rel \_ M32R \_ ADDR24</span><span class="sxs-lookup"><span data-stu-id="ffb41-1668">IMAGE\_REL\_M32R\_ADDR24</span></span> <br/>   | <span data-ttu-id="ffb41-1669">0x0003</span><span class="sxs-lookup"><span data-stu-id="ffb41-1669">0x0003</span></span> <br/> | <span data-ttu-id="ffb41-1670">24-битный целевой объект.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1670">The target's 24-bit VA.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="ffb41-1671">IMAGE \_ rel \_ M32R \_ GPREL16</span><span class="sxs-lookup"><span data-stu-id="ffb41-1671">IMAGE\_REL\_M32R\_GPREL16</span></span> <br/>  | <span data-ttu-id="ffb41-1672">0x0004</span><span class="sxs-lookup"><span data-stu-id="ffb41-1672">0x0004</span></span> <br/> | <span data-ttu-id="ffb41-1673">16-разрядное смещение целевого объекта от регистра GP.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1673">The target's 16-bit offset from the GP register.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="ffb41-1674">IMAGE \_ rel \_ M32R \_ PCREL24</span><span class="sxs-lookup"><span data-stu-id="ffb41-1674">IMAGE\_REL\_M32R\_PCREL24</span></span> <br/>  | <span data-ttu-id="ffb41-1675">0x0005</span><span class="sxs-lookup"><span data-stu-id="ffb41-1675">0x0005</span></span> <br/> | <span data-ttu-id="ffb41-1676">24-разрядное смещение целевого объекта от счетчика программы (ПК), сдвиг влево на 2 бита и расширенная подпись</span><span class="sxs-lookup"><span data-stu-id="ffb41-1676">The target's 24-bit offset from the program counter (PC), shifted left by 2 bits and sign-extended</span></span> <br/>                                                                                                                                                                                                                                                                                                |
| <span data-ttu-id="ffb41-1677">IMAGE \_ rel \_ M32R \_ PCREL16</span><span class="sxs-lookup"><span data-stu-id="ffb41-1677">IMAGE\_REL\_M32R\_PCREL16</span></span> <br/>  | <span data-ttu-id="ffb41-1678">0x0006</span><span class="sxs-lookup"><span data-stu-id="ffb41-1678">0x0006</span></span> <br/> | <span data-ttu-id="ffb41-1679">16-разрядное смещение целевого объекта от ПК, сдвиг влево на 2 бита и расширенная подпись</span><span class="sxs-lookup"><span data-stu-id="ffb41-1679">The target's 16-bit offset from the PC, shifted left by 2 bits and sign-extended</span></span> <br/>                                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="ffb41-1680">IMAGE \_ rel \_ M32R \_ PCREL8</span><span class="sxs-lookup"><span data-stu-id="ffb41-1680">IMAGE\_REL\_M32R\_PCREL8</span></span> <br/>   | <span data-ttu-id="ffb41-1681">0x0007</span><span class="sxs-lookup"><span data-stu-id="ffb41-1681">0x0007</span></span> <br/> | <span data-ttu-id="ffb41-1682">8-разрядное смещение целевого объекта от ПК, сдвиг влево на 2 бита и расширенная подпись</span><span class="sxs-lookup"><span data-stu-id="ffb41-1682">The target's 8-bit offset from the PC, shifted left by 2 bits and sign-extended</span></span> <br/>                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="ffb41-1683">IMAGE \_ rel \_ M32R \_ рефхалф</span><span class="sxs-lookup"><span data-stu-id="ffb41-1683">IMAGE\_REL\_M32R\_REFHALF</span></span> <br/>  | <span data-ttu-id="ffb41-1684">0x0008</span><span class="sxs-lookup"><span data-stu-id="ffb41-1684">0x0008</span></span> <br/> | <span data-ttu-id="ffb41-1685">16 МСБС целевого объекта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1685">The 16 MSBs of the target VA.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="ffb41-1686">IMAGE \_ rel \_ M32R \_ рефхи</span><span class="sxs-lookup"><span data-stu-id="ffb41-1686">IMAGE\_REL\_M32R\_REFHI</span></span> <br/>    | <span data-ttu-id="ffb41-1687">0x0009</span><span class="sxs-lookup"><span data-stu-id="ffb41-1687">0x0009</span></span> <br/> | <span data-ttu-id="ffb41-1688">16 МСБС целевого объекта, настроенного для расширения подписывания ЛСБ.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1688">The 16 MSBs of the target VA, adjusted for LSB sign extension.</span></span> <span data-ttu-id="ffb41-1689">Используется для первой инструкции в последовательности из двух инструкций, которая загружает полный 32-разрядный адрес.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1689">This is used for the first instruction in a two-instruction sequence that loads a full 32-bit address.</span></span> <span data-ttu-id="ffb41-1690">За этим перемещением должно сразу следовать перемещение пары, в которой Симболтаблеиндекс содержит 16-разрядное смещение со знаком, которое добавляется к 16 верхним позициям, взятым из расположения, которое перемещается.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1690">This relocation must be immediately followed by a PAIR relocation whose SymbolTableIndex contains a signed 16-bit displacement that is added to the upper 16 bits that are taken from the location that is being relocated.</span></span> <br/> |
| <span data-ttu-id="ffb41-1691">IMAGE \_ rel \_ M32R \_ рефло</span><span class="sxs-lookup"><span data-stu-id="ffb41-1691">IMAGE\_REL\_M32R\_REFLO</span></span> <br/>    | <span data-ttu-id="ffb41-1692">0x000A</span><span class="sxs-lookup"><span data-stu-id="ffb41-1692">0x000A</span></span> <br/> | <span data-ttu-id="ffb41-1693">16 Лсбс целевого объекта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1693">The 16 LSBs of the target VA.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="ffb41-1694">\_Rel Image \_ M32R, \_ пара</span><span class="sxs-lookup"><span data-stu-id="ffb41-1694">IMAGE\_REL\_M32R\_PAIR</span></span> <br/>     | <span data-ttu-id="ffb41-1695">0x000B</span><span class="sxs-lookup"><span data-stu-id="ffb41-1695">0x000B</span></span> <br/> | <span data-ttu-id="ffb41-1696">Перемещение должно следовать за перемещением РЕФХИ.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1696">The relocation must follow the REFHI relocation.</span></span> <span data-ttu-id="ffb41-1697">Его Симболтаблеиндекс содержит смещение, а не индекс в таблице символов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1697">Its SymbolTableIndex contains a displacement and not an index into the symbol table.</span></span> <br/>                                                                                                                                                                                                                                                             |
| <span data-ttu-id="ffb41-1698">\_Rel образа \_ , \_ раздел M32R</span><span class="sxs-lookup"><span data-stu-id="ffb41-1698">IMAGE\_REL\_M32R\_SECTION</span></span> <br/>  | <span data-ttu-id="ffb41-1699">0x000C</span><span class="sxs-lookup"><span data-stu-id="ffb41-1699">0x000C</span></span> <br/> | <span data-ttu-id="ffb41-1700">16-битный индекс раздела, содержащий целевой объект.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1700">The 16-bit section index of the section that contains the target.</span></span> <span data-ttu-id="ffb41-1701">Используется для поддержки отладочной информации.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1701">This is used to support debugging information.</span></span> <br/>                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="ffb41-1702">IMAGE \_ rel \_ M32R \_ секрел</span><span class="sxs-lookup"><span data-stu-id="ffb41-1702">IMAGE\_REL\_M32R\_SECREL</span></span> <br/>   | <span data-ttu-id="ffb41-1703">0x000D</span><span class="sxs-lookup"><span data-stu-id="ffb41-1703">0x000D</span></span> <br/> | <span data-ttu-id="ffb41-1704">32-разрядное смещение целевого объекта от начала его раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1704">The 32-bit offset of the target from the beginning of its section.</span></span> <span data-ttu-id="ffb41-1705">Используется для поддержки отладочной информации и локального хранилища потока.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1705">This is used to support debugging information and static thread local storage.</span></span> <br/>                                                                                                                                                                                                                                                 |
| <span data-ttu-id="ffb41-1706">\_ \_ Маркер M32R rel \_ изображения</span><span class="sxs-lookup"><span data-stu-id="ffb41-1706">IMAGE\_REL\_M32R\_TOKEN</span></span> <br/>    | <span data-ttu-id="ffb41-1707">0x000E</span><span class="sxs-lookup"><span data-stu-id="ffb41-1707">0x000E</span></span> <br/> | <span data-ttu-id="ffb41-1708">Токен CLR.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1708">The CLR token.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                    |



 

### <a name="coff-line-numbers-deprecated"></a><span data-ttu-id="ffb41-1709">Номера строк COFF (не рекомендуется)</span><span class="sxs-lookup"><span data-stu-id="ffb41-1709">COFF Line Numbers (Deprecated)</span></span>

<span data-ttu-id="ffb41-1710">Номера строк в формате COFF больше не создаются, и в будущем они не будут использоваться.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1710">COFF line numbers are no longer produced and, in the future, will not be consumed.</span></span>

<span data-ttu-id="ffb41-1711">Номера строк в формате COFF указывают связь между кодом и номерами строк в исходных файлах.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1711">COFF line numbers indicate the relationship between code and line numbers in source files.</span></span> <span data-ttu-id="ffb41-1712">Формат номеров строк COFF в формате Microsoft аналогичен стандарту COFF, но он был расширен и позволяет одному разделу связываться с номерами строк в нескольких исходных файлах.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1712">The Microsoft format for COFF line numbers is similar to standard COFF, but it has been extended to allow a single section to relate to line numbers in multiple source files.</span></span>

<span data-ttu-id="ffb41-1713">Номера строк в формате COFF состоят из массива записей фиксированной длины.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1713">COFF line numbers consist of an array of fixed-length records.</span></span> <span data-ttu-id="ffb41-1714">Расположение (смещение файла) и размер массива указываются в заголовке раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1714">The location (file offset) and size of the array are specified in the section header.</span></span> <span data-ttu-id="ffb41-1715">Каждая запись номера строки имеет следующий формат.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1715">Each line-number record is of the following format.</span></span>



| <span data-ttu-id="ffb41-1716">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-1716">Offset</span></span>        | <span data-ttu-id="ffb41-1717">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-1717">Size</span></span>          | <span data-ttu-id="ffb41-1718">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-1718">Field</span></span>                  | <span data-ttu-id="ffb41-1719">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-1719">Description</span></span>                                                                                                                                                 |
|---------------|---------------|------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-1720">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-1720">0</span></span> <br/> | <span data-ttu-id="ffb41-1721">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-1721">4</span></span> <br/> | <span data-ttu-id="ffb41-1722">Type ( \* )</span><span class="sxs-lookup"><span data-stu-id="ffb41-1722">Type (\*)</span></span> <br/>  | <span data-ttu-id="ffb41-1723">Это объединение двух полей: Симболтаблеиндекс и Виртуаладдресс.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1723">This is a union of two fields: SymbolTableIndex and VirtualAddress.</span></span> <span data-ttu-id="ffb41-1724">Используется ли Симболтаблеиндекс или RVA, зависит от значения LineNumber.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1724">Whether SymbolTableIndex or RVA is used depends on the value of Linenumber.</span></span> <br/> |
| <span data-ttu-id="ffb41-1725">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-1725">4</span></span> <br/> | <span data-ttu-id="ffb41-1726">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-1726">2</span></span> <br/> | <span data-ttu-id="ffb41-1727">LineNumber</span><span class="sxs-lookup"><span data-stu-id="ffb41-1727">Linenumber</span></span> <br/> | <span data-ttu-id="ffb41-1728">Если значение не равно нулю, в этом поле указывается номер строки, отсчитываемый от единицы.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1728">When nonzero, this field specifies a one-based line number.</span></span> <span data-ttu-id="ffb41-1729">Если значение равно нулю, поле типа интерпретируется как индекс таблицы символов для функции.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1729">When zero, the Type field is interpreted as a symbol table index for a function.</span></span> <br/>    |



 

<span data-ttu-id="ffb41-1730">Поле Type представляет собой объединение 2 4-байтовых полей: Симболтаблеиндекс и Виртуаладдресс.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1730">The Type field is a union of two 4-byte fields: SymbolTableIndex and VirtualAddress.</span></span>



| <span data-ttu-id="ffb41-1731">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-1731">Offset</span></span>        | <span data-ttu-id="ffb41-1732">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-1732">Size</span></span>          | <span data-ttu-id="ffb41-1733">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-1733">Field</span></span>                        | <span data-ttu-id="ffb41-1734">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-1734">Description</span></span>                                                                                                                                                                             |
|---------------|---------------|------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-1735">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-1735">0</span></span> <br/> | <span data-ttu-id="ffb41-1736">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-1736">4</span></span> <br/> | <span data-ttu-id="ffb41-1737">симболтаблеиндекс</span><span class="sxs-lookup"><span data-stu-id="ffb41-1737">SymbolTableIndex</span></span> <br/> | <span data-ttu-id="ffb41-1738">Используется, когда номер_строки имеет нулевое значение: индекс для записи таблицы символов для функции.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1738">Used when Linenumber is zero: index to symbol table entry for a function.</span></span> <span data-ttu-id="ffb41-1739">Этот формат используется для указания функции, к которой относится группа записей строкового номера.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1739">This format is used to indicate the function to which a group of line-number records refers.</span></span> <br/>      |
| <span data-ttu-id="ffb41-1740">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-1740">0</span></span> <br/> | <span data-ttu-id="ffb41-1741">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-1741">4</span></span> <br/> | <span data-ttu-id="ffb41-1742">виртуаладдресс</span><span class="sxs-lookup"><span data-stu-id="ffb41-1742">VirtualAddress</span></span> <br/>   | <span data-ttu-id="ffb41-1743">Используется, если параметр linenumber не равен нулю: RVA исполняемого кода, соответствующего указанной исходной строке.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1743">Used when Linenumber is non-zero: the RVA of the executable code that corresponds to the source line indicated.</span></span> <span data-ttu-id="ffb41-1744">В объектном файле он содержит значение ва в разделе.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1744">In an object file, this contains the VA within the section.</span></span> <br/> |



 

<span data-ttu-id="ffb41-1745">Запись номера строки может либо задать для поля LineNumber нулевое значение, либо указать на определение функции в таблице символов, либо в качестве стандартной записи номера строки, указав положительное целое число (номер строки) и соответствующий адрес в коде объекта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1745">A line-number record can either set the Linenumber field to zero and point to a function definition in the symbol table or it can work as a standard line-number entry by giving a positive integer (line number) and the corresponding address in the object code.</span></span>

<span data-ttu-id="ffb41-1746">Группа записей номеров строк всегда начинается с первого формата: индекс символа функции.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1746">A group of line-number entries always begins with the first format: the index of a function symbol.</span></span> <span data-ttu-id="ffb41-1747">Если это первая запись номера строки в разделе, то она также является именем символа COMDAT для функции, если установлен флаг COMDAT раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1747">If this is the first line-number record in the section, then it is also the COMDAT symbol name for the function if the section's COMDAT flag is set.</span></span> <span data-ttu-id="ffb41-1748">См. [раздел COMDAT (только объект)](#comdat-sections-object-only).</span><span class="sxs-lookup"><span data-stu-id="ffb41-1748">See [COMDAT Sections (Object Only)](#comdat-sections-object-only).</span></span> <span data-ttu-id="ffb41-1749">Вспомогательная запись функции в таблице символов имеет указатель на поле LineNumber, которое указывает на эту же запись номера строки.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1749">The function's auxiliary record in the symbol table has a pointer to the Linenumber field that points to this same line-number record.</span></span>

<span data-ttu-id="ffb41-1750">За записью, идентифицирующей функцию, следует любое число записей строкового номера, которые предоставляют фактические сведения о строках (т. е. записи с параметром lineNumber больше нуля).</span><span class="sxs-lookup"><span data-stu-id="ffb41-1750">A record that identifies a function is followed by any number of line-number entries that give actual line-number information (that is, entries with Linenumber greater than zero).</span></span> <span data-ttu-id="ffb41-1751">Эти записи основаны на единицах, относительно начала функции, и представляют каждую строку исходного кода в функции, за исключением первой строки.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1751">These entries are one-based, relative to the beginning of the function, and represent every source line in the function except for the first line.</span></span>

<span data-ttu-id="ffb41-1752">Например, в первой записи номера строки для следующего примера будет указана функция Реверсесигн (Симболтаблеиндекс для Реверсесигн и LineNumber задано нулевое значение).</span><span class="sxs-lookup"><span data-stu-id="ffb41-1752">For example, the first line-number record for the following example would specify the ReverseSign function (SymbolTableIndex of ReverseSign and Linenumber set to zero).</span></span> <span data-ttu-id="ffb41-1753">Затем записи с значениями LineNumber, равными 1, 2 и 3, соответствуют исходным строкам, как показано ниже:</span><span class="sxs-lookup"><span data-stu-id="ffb41-1753">Then records with Linenumber values of 1, 2, and 3 would follow, corresponding to source lines as shown:</span></span>


```C++
// some code precedes ReverseSign function
int ReverseSign(int i)
1: {
2:  return -1 * i;
3: }
```



### <a name="coff-symbol-table"></a><span data-ttu-id="ffb41-1754">Таблица символов COFF</span><span class="sxs-lookup"><span data-stu-id="ffb41-1754">COFF Symbol Table</span></span>

<span data-ttu-id="ffb41-1755">Таблица символов в этом разделе наследуется из традиционного формата COFF.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1755">The symbol table in this section is inherited from the traditional COFF format.</span></span> <span data-ttu-id="ffb41-1756">Он отличается от Microsoft Visual C++ной информации об отладке.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1756">It is distinct from Microsoft Visual C++ debug information.</span></span> <span data-ttu-id="ffb41-1757">Файл может содержать как таблицу символов COFF, так и Visual C++ную информацию об отладке, и эти два значения хранятся отдельно.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1757">A file can contain both a COFF symbol table and Visual C++ debug information, and the two are kept separate.</span></span> <span data-ttu-id="ffb41-1758">Некоторые средства корпорации Майкрософт используют таблицу символов для ограниченных, но важных целей, например для обмена данными COMDAT с компоновщиком.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1758">Some Microsoft tools use the symbol table for limited but important purposes, such as communicating COMDAT information to the linker.</span></span> <span data-ttu-id="ffb41-1759">Имена разделов и имена файлов, а также код и символы данных перечислены в таблице символов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1759">Section names and file names, as well as code and data symbols, are listed in the symbol table.</span></span>

<span data-ttu-id="ffb41-1760">Расположение таблицы символов указано в заголовке COFF.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1760">The location of the symbol table is indicated in the COFF header.</span></span>

<span data-ttu-id="ffb41-1761">Таблица символов представляет собой массив записей длиной 18 байт.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1761">The symbol table is an array of records, each 18 bytes long.</span></span> <span data-ttu-id="ffb41-1762">Каждая запись является либо стандартной, либо вспомогательной записью символьной таблицы.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1762">Each record is either a standard or auxiliary symbol-table record.</span></span> <span data-ttu-id="ffb41-1763">Стандартная запись определяет символ или имя и имеет следующий формат.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1763">A standard record defines a symbol or name and has the following format.</span></span>



| <span data-ttu-id="ffb41-1764">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-1764">Offset</span></span>         | <span data-ttu-id="ffb41-1765">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-1765">Size</span></span>          | <span data-ttu-id="ffb41-1766">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-1766">Field</span></span>                          | <span data-ttu-id="ffb41-1767">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-1767">Description</span></span>                                                                                                                                                                                                                                 |
|----------------|---------------|--------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-1768">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-1768">0</span></span> <br/>  | <span data-ttu-id="ffb41-1769">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-1769">8</span></span> <br/> | <span data-ttu-id="ffb41-1770">Name ( \* )</span><span class="sxs-lookup"><span data-stu-id="ffb41-1770">Name (\*)</span></span> <br/>          | <span data-ttu-id="ffb41-1771">Имя символа, представленное объединением трех структур.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1771">The name of the symbol, represented by a union of three structures.</span></span> <span data-ttu-id="ffb41-1772">Если длина имени не превышает 8 байт, используется массив из 8 байт.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1772">An array of 8 bytes is used if the name is not more than 8 bytes long.</span></span> <span data-ttu-id="ffb41-1773">Дополнительные сведения см. в разделе [представление имени символа](https://www.bing.com/search?q=Symbol+Name+Representation).</span><span class="sxs-lookup"><span data-stu-id="ffb41-1773">For more information, see [Symbol Name Representation](https://www.bing.com/search?q=Symbol+Name+Representation).</span></span> <br/> |
| <span data-ttu-id="ffb41-1774">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-1774">8</span></span> <br/>  | <span data-ttu-id="ffb41-1775">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-1775">4</span></span> <br/> | <span data-ttu-id="ffb41-1776">Значение</span><span class="sxs-lookup"><span data-stu-id="ffb41-1776">Value</span></span> <br/>              | <span data-ttu-id="ffb41-1777">Значение, связанное с символом.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1777">The value that is associated with the symbol.</span></span> <span data-ttu-id="ffb41-1778">Интерпретация этого поля зависит от Сектионнумбер и Сторажекласс.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1778">The interpretation of this field depends on SectionNumber and StorageClass.</span></span> <span data-ttu-id="ffb41-1779">Типичное значение — перемещаемый адрес.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1779">A typical meaning is the relocatable address.</span></span> <br/>                                                         |
| <span data-ttu-id="ffb41-1780">12</span><span class="sxs-lookup"><span data-stu-id="ffb41-1780">12</span></span> <br/> | <span data-ttu-id="ffb41-1781">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-1781">2</span></span> <br/> | <span data-ttu-id="ffb41-1782">сектионнумбер</span><span class="sxs-lookup"><span data-stu-id="ffb41-1782">SectionNumber</span></span> <br/>      | <span data-ttu-id="ffb41-1783">Целое число со знаком, определяющее раздел с использованием индекса, отсчитываемый от единицы, в таблице разделов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1783">The signed integer that identifies the section, using a one-based index into the section table.</span></span> <span data-ttu-id="ffb41-1784">Некоторые значения имеют специальное значение, как определено в разделе 5.4.2 "значения номеров разделов".</span><span class="sxs-lookup"><span data-stu-id="ffb41-1784">Some values have special meaning, as defined in section 5.4.2, "Section Number Values."</span></span> <br/>                                         |
| <span data-ttu-id="ffb41-1785">14</span><span class="sxs-lookup"><span data-stu-id="ffb41-1785">14</span></span> <br/> | <span data-ttu-id="ffb41-1786">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-1786">2</span></span> <br/> | <span data-ttu-id="ffb41-1787">Тип</span><span class="sxs-lookup"><span data-stu-id="ffb41-1787">Type</span></span> <br/>               | <span data-ttu-id="ffb41-1788">Число, представляющее тип.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1788">A number that represents type.</span></span> <span data-ttu-id="ffb41-1789">Microsoft Tools задайте для этого поля значение 0x20 (функция) или 0x0 (не функция).</span><span class="sxs-lookup"><span data-stu-id="ffb41-1789">Microsoft tools set this field to 0x20 (function) or 0x0 (not a function).</span></span> <span data-ttu-id="ffb41-1790">Дополнительные сведения см. в разделе [тип представления](#type-representation).</span><span class="sxs-lookup"><span data-stu-id="ffb41-1790">For more information, see [Type Representation](#type-representation).</span></span> <br/>                                                |
| <span data-ttu-id="ffb41-1791">16</span><span class="sxs-lookup"><span data-stu-id="ffb41-1791">16</span></span> <br/> | <span data-ttu-id="ffb41-1792">1</span><span class="sxs-lookup"><span data-stu-id="ffb41-1792">1</span></span> <br/> | <span data-ttu-id="ffb41-1793">сторажекласс</span><span class="sxs-lookup"><span data-stu-id="ffb41-1793">StorageClass</span></span> <br/>       | <span data-ttu-id="ffb41-1794">Перечислимое значение, представляющее класс хранения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1794">An enumerated value that represents storage class.</span></span> <span data-ttu-id="ffb41-1795">Дополнительные сведения см. в разделе [класс хранения](#storage-class).</span><span class="sxs-lookup"><span data-stu-id="ffb41-1795">For more information, see [Storage Class](#storage-class).</span></span> <br/>                                                                                                                   |
| <span data-ttu-id="ffb41-1796">17</span><span class="sxs-lookup"><span data-stu-id="ffb41-1796">17</span></span> <br/> | <span data-ttu-id="ffb41-1797">1</span><span class="sxs-lookup"><span data-stu-id="ffb41-1797">1</span></span> <br/> | <span data-ttu-id="ffb41-1798">нумберофаукссимболс</span><span class="sxs-lookup"><span data-stu-id="ffb41-1798">NumberOfAuxSymbols</span></span> <br/> | <span data-ttu-id="ffb41-1799">Число вспомогательных записей таблицы символов, которые следуют за этой записью.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1799">The number of auxiliary symbol table entries that follow this record.</span></span> <br/>                                                                                                                                                           |



 

<span data-ttu-id="ffb41-1800">Ноль или более записей таблицы символов, сразу после каждой стандартной записи таблицы символов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1800">Zero or more auxiliary symbol-table records immediately follow each standard symbol-table record.</span></span> <span data-ttu-id="ffb41-1801">Однако обычно не более одной записи в таблице символов является Стандартная запись таблицы символов (за исключением записей файлов с длинными именами файлов).</span><span class="sxs-lookup"><span data-stu-id="ffb41-1801">However, typically not more than one auxiliary symbol-table record follows a standard symbol-table record (except for .file records with long file names).</span></span> <span data-ttu-id="ffb41-1802">Каждая дополнительная запись имеет тот же размер, что и Стандартная запись таблицы символов (18 байт), но вместо определения нового символа вспомогательная запись предоставляет дополнительные сведения о последнем определенном символе.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1802">Each auxiliary record is the same size as a standard symbol-table record (18 bytes), but rather than define a new symbol, the auxiliary record gives additional information on the last symbol defined.</span></span> <span data-ttu-id="ffb41-1803">Выбор того, какой из нескольких форматов будет использоваться, зависит от поля Сторажекласс.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1803">The choice of which of several formats to use depends on the StorageClass field.</span></span> <span data-ttu-id="ffb41-1804">В разделе 5,5 "дополнительные записи символов" показаны определенные форматы для записей вспомогательных таблиц символов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1804">Currently-defined formats for auxiliary symbol table records are shown in section 5.5, "Auxiliary Symbol Records."</span></span>

<span data-ttu-id="ffb41-1805">Средства, считывающие таблицы символов COFF, должны игнорировать вспомогательные записи символов, интерпретация которых неизвестна.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1805">Tools that read COFF symbol tables must ignore auxiliary symbol records whose interpretation is unknown.</span></span> <span data-ttu-id="ffb41-1806">Это позволяет расширить формат таблицы символов для добавления новых добавочных записей без нарушения работы существующих средств.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1806">This allows the symbol table format to be extended to add new auxiliary records, without breaking existing tools.</span></span>

#### <a name="symbol-name-representation"></a><span data-ttu-id="ffb41-1807">Представление имени символа</span><span class="sxs-lookup"><span data-stu-id="ffb41-1807">Symbol Name Representation</span></span>

<span data-ttu-id="ffb41-1808">Поле «ShortName» в таблице символов состоит из 8 байтов, содержащих само имя, если оно не превышает 8 байт, или поле ShortName дает смещение в таблице строк.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1808">The ShortName field in a symbol table consists of 8 bytes that contain the name itself, if it is not more than 8 bytes long, or the ShortName field gives an offset into the string table.</span></span> <span data-ttu-id="ffb41-1809">Чтобы определить, задано ли само имя или смещение, проверьте первые 4 байта на равенство нулю.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1809">To determine whether the name itself or an offset is given, test the first 4 bytes for equality to zero.</span></span>

<span data-ttu-id="ffb41-1810">По соглашению имена обрабатываются как строки в кодировке UTF-8, заканчивающиеся нулем.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1810">By convention, the names are treated as zero-terminated UTF-8 encoded strings.</span></span>



| <span data-ttu-id="ffb41-1811">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-1811">Offset</span></span>        | <span data-ttu-id="ffb41-1812">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-1812">Size</span></span>          | <span data-ttu-id="ffb41-1813">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-1813">Field</span></span>                 | <span data-ttu-id="ffb41-1814">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-1814">Description</span></span>                                                                                                          |
|---------------|---------------|-----------------------|----------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-1815">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-1815">0</span></span> <br/> | <span data-ttu-id="ffb41-1816">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-1816">8</span></span> <br/> | <span data-ttu-id="ffb41-1817">ShortName</span><span class="sxs-lookup"><span data-stu-id="ffb41-1817">ShortName</span></span> <br/> | <span data-ttu-id="ffb41-1818">Массив из 8 байт.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1818">An array of 8 bytes.</span></span> <span data-ttu-id="ffb41-1819">Этот массив дополняется значениями NULL справа, если длина имени меньше 8 байт.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1819">This array is padded with nulls on the right if the name is less than 8 bytes long.</span></span> <br/> |
| <span data-ttu-id="ffb41-1820">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-1820">0</span></span> <br/> | <span data-ttu-id="ffb41-1821">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-1821">4</span></span> <br/> | <span data-ttu-id="ffb41-1822">Нули</span><span class="sxs-lookup"><span data-stu-id="ffb41-1822">Zeroes</span></span> <br/>    | <span data-ttu-id="ffb41-1823">Поле, для которого заданы все нули, если оно длиннее 8 байт.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1823">A field that is set to all zeros if the name is longer than 8 bytes.</span></span> <br/>                                     |
| <span data-ttu-id="ffb41-1824">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-1824">4</span></span> <br/> | <span data-ttu-id="ffb41-1825">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-1825">4</span></span> <br/> | <span data-ttu-id="ffb41-1826">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-1826">Offset</span></span> <br/>    | <span data-ttu-id="ffb41-1827">Смещение в таблице строк.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1827">An offset into the string table.</span></span> <br/>                                                                         |



 

#### <a name="section-number-values"></a><span data-ttu-id="ffb41-1828">Значения номеров разделов</span><span class="sxs-lookup"><span data-stu-id="ffb41-1828">Section Number Values</span></span>

<span data-ttu-id="ffb41-1829">Как правило, поле «значение раздела» в записи таблицы символов — это Отсчитываемый от единицы индекс в таблице разделов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1829">Normally, the Section Value field in a symbol table entry is a one-based index into the section table.</span></span> <span data-ttu-id="ffb41-1830">Однако это поле является целым числом со знаком и может принимать отрицательные значения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1830">However, this field is a signed integer and can take negative values.</span></span> <span data-ttu-id="ffb41-1831">Следующие значения, меньше одного, имеют особое значение.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1831">The following values, less than one, have special meanings.</span></span>



| <span data-ttu-id="ffb41-1832">Константа</span><span class="sxs-lookup"><span data-stu-id="ffb41-1832">Constant</span></span>                          | <span data-ttu-id="ffb41-1833">Значение</span><span class="sxs-lookup"><span data-stu-id="ffb41-1833">Value</span></span>          | <span data-ttu-id="ffb41-1834">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-1834">Description</span></span>                                                                                                                                                                                                                            |
|-----------------------------------|----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-1835">ИЗОБРАЖЕНИЕ \_ SYM не \_ определено</span><span class="sxs-lookup"><span data-stu-id="ffb41-1835">IMAGE\_SYM\_UNDEFINED</span></span> <br/> | <span data-ttu-id="ffb41-1836">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-1836">0</span></span> <br/>  | <span data-ttu-id="ffb41-1837">Записи символов еще не назначен раздел.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1837">The symbol record is not yet assigned a section.</span></span> <span data-ttu-id="ffb41-1838">Нулевое значение указывает, что ссылка на внешний символ определяется в других местах.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1838">A value of zero indicates that a reference to an external symbol is defined elsewhere.</span></span> <span data-ttu-id="ffb41-1839">Ненулевое значение — это общий символ, размер которого определяется значением.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1839">A value of non-zero is a common symbol with a size that is specified by the value.</span></span> <br/> |
| <span data-ttu-id="ffb41-1840">ИЗОБРАЖЕНИЕ \_ SYM \_ абсолютным</span><span class="sxs-lookup"><span data-stu-id="ffb41-1840">IMAGE\_SYM\_ABSOLUTE</span></span> <br/>  | <span data-ttu-id="ffb41-1841">-1</span><span class="sxs-lookup"><span data-stu-id="ffb41-1841">-1</span></span> <br/> | <span data-ttu-id="ffb41-1842">Символ имеет абсолютное значение (не перемещаемое) и не является адресом.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1842">The symbol has an absolute (non-relocatable) value and is not an address.</span></span> <br/>                                                                                                                                                  |
| <span data-ttu-id="ffb41-1843">\_ \_ Отладка SYM образа</span><span class="sxs-lookup"><span data-stu-id="ffb41-1843">IMAGE\_SYM\_DEBUG</span></span> <br/>     | <span data-ttu-id="ffb41-1844">-2</span><span class="sxs-lookup"><span data-stu-id="ffb41-1844">-2</span></span> <br/> | <span data-ttu-id="ffb41-1845">Символ предоставляет общие сведения о типе или отладке, но не соответствует разделу.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1845">The symbol provides general type or debugging information but does not correspond to a section.</span></span> <span data-ttu-id="ffb41-1846">Средства Майкрософт используют этот параметр вместе с записями файлов (файл класса хранения).</span><span class="sxs-lookup"><span data-stu-id="ffb41-1846">Microsoft tools use this setting along with .file records (storage class FILE).</span></span> <br/>                                            |



 

#### <a name="type-representation"></a><span data-ttu-id="ffb41-1847">Представление типа</span><span class="sxs-lookup"><span data-stu-id="ffb41-1847">Type Representation</span></span>

<span data-ttu-id="ffb41-1848">Поле Type записи таблицы символов содержит 2 байта, где каждый байт представляет сведения о типе.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1848">The Type field of a symbol table entry contains 2 bytes, where each byte represents type information.</span></span> <span data-ttu-id="ffb41-1849">ЛСБ представляет простой (базовый) тип данных, а значение, если таковое имеется, представляет сложный тип.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1849">The LSB represents the simple (base) data type, and the MSB represents the complex type, if any:</span></span>



| <span data-ttu-id="ffb41-1850">СТАРШЕГО бита</span><span class="sxs-lookup"><span data-stu-id="ffb41-1850">MSB</span></span>                                                       | <span data-ttu-id="ffb41-1851">лсб</span><span class="sxs-lookup"><span data-stu-id="ffb41-1851">LSB</span></span>                                                        |
|-----------------------------------------------------------|------------------------------------------------------------|
| <span data-ttu-id="ffb41-1852">Сложный тип: нет, указатель, функция, массив.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1852">Complex type: none, pointer, function, array.</span></span> <br/> | <span data-ttu-id="ffb41-1853">Базовый тип: integer, float-Point и т. д.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1853">Base type: integer, floating-point, and so on.</span></span> <br/> |



 

<span data-ttu-id="ffb41-1854">Для базового типа определены следующие значения, хотя средства Майкрософт обычно не используют это поле и не устанавливают для ЛСБ значение 0.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1854">The following values are defined for base type, although Microsoft tools generally do not use this field and set the LSB to 0.</span></span> <span data-ttu-id="ffb41-1855">Вместо этого для обозначения типов используется Visual C++ отладочной информации.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1855">Instead, Visual C++ debug information is used to indicate types.</span></span> <span data-ttu-id="ffb41-1856">Однако для полноты указаны возможные значения COFF.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1856">However, the possible COFF values are listed here for completeness.</span></span>



| <span data-ttu-id="ffb41-1857">Константа</span><span class="sxs-lookup"><span data-stu-id="ffb41-1857">Constant</span></span>                             | <span data-ttu-id="ffb41-1858">Значение</span><span class="sxs-lookup"><span data-stu-id="ffb41-1858">Value</span></span>          | <span data-ttu-id="ffb41-1859">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-1859">Description</span></span>                                                                            |
|--------------------------------------|----------------|----------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-1860">\_тип SYM изображения ( \_ \_ null)</span><span class="sxs-lookup"><span data-stu-id="ffb41-1860">IMAGE\_SYM\_TYPE\_NULL</span></span> <br/>   | <span data-ttu-id="ffb41-1861">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-1861">0</span></span> <br/>  | <span data-ttu-id="ffb41-1862">Нет сведений о типе или неизвестного базового типа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1862">No type information or unknown base type.</span></span> <span data-ttu-id="ffb41-1863">Средства Майкрософт используют этот параметр</span><span class="sxs-lookup"><span data-stu-id="ffb41-1863">Microsoft tools use this setting</span></span> <br/> |
| <span data-ttu-id="ffb41-1864">\_тип SYM \_ изображения \_ void</span><span class="sxs-lookup"><span data-stu-id="ffb41-1864">IMAGE\_SYM\_TYPE\_VOID</span></span> <br/>   | <span data-ttu-id="ffb41-1865">1</span><span class="sxs-lookup"><span data-stu-id="ffb41-1865">1</span></span> <br/>  | <span data-ttu-id="ffb41-1866">Нет допустимого типа; используется с указателями и функциями void</span><span class="sxs-lookup"><span data-stu-id="ffb41-1866">No valid type; used with void pointers and functions</span></span> <br/>                       |
| <span data-ttu-id="ffb41-1867">IMAGE \_ SYM \_ тип \_ char</span><span class="sxs-lookup"><span data-stu-id="ffb41-1867">IMAGE\_SYM\_TYPE\_CHAR</span></span> <br/>   | <span data-ttu-id="ffb41-1868">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-1868">2</span></span> <br/>  | <span data-ttu-id="ffb41-1869">Символ (байт со знаком)</span><span class="sxs-lookup"><span data-stu-id="ffb41-1869">A character (signed byte)</span></span> <br/>                                                  |
| <span data-ttu-id="ffb41-1870">\_тип SYM \_ image \_ Short</span><span class="sxs-lookup"><span data-stu-id="ffb41-1870">IMAGE\_SYM\_TYPE\_SHORT</span></span> <br/>  | <span data-ttu-id="ffb41-1871">3</span><span class="sxs-lookup"><span data-stu-id="ffb41-1871">3</span></span> <br/>  | <span data-ttu-id="ffb41-1872">2-байтовое целое число со знаком</span><span class="sxs-lookup"><span data-stu-id="ffb41-1872">A 2-byte signed integer</span></span> <br/>                                                    |
| <span data-ttu-id="ffb41-1873">\_тип SYM \_ изображения \_ int</span><span class="sxs-lookup"><span data-stu-id="ffb41-1873">IMAGE\_SYM\_TYPE\_INT</span></span> <br/>    | <span data-ttu-id="ffb41-1874">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-1874">4</span></span> <br/>  | <span data-ttu-id="ffb41-1875">Натуральный целочисленный тип (обычно 4 байта в Windows)</span><span class="sxs-lookup"><span data-stu-id="ffb41-1875">A natural integer type (normally 4 bytes in Windows)</span></span> <br/>                       |
| <span data-ttu-id="ffb41-1876">\_тип SYM \_ изображения \_ Long</span><span class="sxs-lookup"><span data-stu-id="ffb41-1876">IMAGE\_SYM\_TYPE\_LONG</span></span> <br/>   | <span data-ttu-id="ffb41-1877">5</span><span class="sxs-lookup"><span data-stu-id="ffb41-1877">5</span></span> <br/>  | <span data-ttu-id="ffb41-1878">4-байтовое целое число со знаком</span><span class="sxs-lookup"><span data-stu-id="ffb41-1878">A 4-byte signed integer</span></span> <br/>                                                    |
| <span data-ttu-id="ffb41-1879">\_тип SYM \_ изображения \_ float</span><span class="sxs-lookup"><span data-stu-id="ffb41-1879">IMAGE\_SYM\_TYPE\_FLOAT</span></span> <br/>  | <span data-ttu-id="ffb41-1880">6</span><span class="sxs-lookup"><span data-stu-id="ffb41-1880">6</span></span> <br/>  | <span data-ttu-id="ffb41-1881">4-байтовое число с плавающей запятой</span><span class="sxs-lookup"><span data-stu-id="ffb41-1881">A 4-byte floating-point number</span></span> <br/>                                             |
| <span data-ttu-id="ffb41-1882">\_тип SYM \_ изображения \_ Double</span><span class="sxs-lookup"><span data-stu-id="ffb41-1882">IMAGE\_SYM\_TYPE\_DOUBLE</span></span> <br/> | <span data-ttu-id="ffb41-1883">7</span><span class="sxs-lookup"><span data-stu-id="ffb41-1883">7</span></span> <br/>  | <span data-ttu-id="ffb41-1884">8-байтовое число с плавающей запятой</span><span class="sxs-lookup"><span data-stu-id="ffb41-1884">An 8-byte floating-point number</span></span> <br/>                                            |
| <span data-ttu-id="ffb41-1885">\_ \_ Структура типа SYM \_ Image</span><span class="sxs-lookup"><span data-stu-id="ffb41-1885">IMAGE\_SYM\_TYPE\_STRUCT</span></span> <br/> | <span data-ttu-id="ffb41-1886">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-1886">8</span></span> <br/>  | <span data-ttu-id="ffb41-1887">Структура.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1887">A structure</span></span> <br/>                                                                |
| <span data-ttu-id="ffb41-1888">\_SYM Image \_ Type \_ Union</span><span class="sxs-lookup"><span data-stu-id="ffb41-1888">IMAGE\_SYM\_TYPE\_UNION</span></span> <br/>  | <span data-ttu-id="ffb41-1889">9</span><span class="sxs-lookup"><span data-stu-id="ffb41-1889">9</span></span> <br/>  | <span data-ttu-id="ffb41-1890">Объединение</span><span class="sxs-lookup"><span data-stu-id="ffb41-1890">A union</span></span> <br/>                                                                    |
| <span data-ttu-id="ffb41-1891">\_тип SYM \_ image \_ enum</span><span class="sxs-lookup"><span data-stu-id="ffb41-1891">IMAGE\_SYM\_TYPE\_ENUM</span></span> <br/>   | <span data-ttu-id="ffb41-1892">10</span><span class="sxs-lookup"><span data-stu-id="ffb41-1892">10</span></span> <br/> | <span data-ttu-id="ffb41-1893">Перечислимый тип</span><span class="sxs-lookup"><span data-stu-id="ffb41-1893">An enumerated type</span></span> <br/>                                                         |
| <span data-ttu-id="ffb41-1894">IMAGE \_ SYM \_ Type \_ МО</span><span class="sxs-lookup"><span data-stu-id="ffb41-1894">IMAGE\_SYM\_TYPE\_MOE</span></span> <br/>    | <span data-ttu-id="ffb41-1895">11</span><span class="sxs-lookup"><span data-stu-id="ffb41-1895">11</span></span> <br/> | <span data-ttu-id="ffb41-1896">Член перечисления (определенное значение)</span><span class="sxs-lookup"><span data-stu-id="ffb41-1896">A member of enumeration (a specific value)</span></span> <br/>                                 |
| <span data-ttu-id="ffb41-1897">\_тип SYM \_ image \_ Byte</span><span class="sxs-lookup"><span data-stu-id="ffb41-1897">IMAGE\_SYM\_TYPE\_BYTE</span></span> <br/>   | <span data-ttu-id="ffb41-1898">12</span><span class="sxs-lookup"><span data-stu-id="ffb41-1898">12</span></span> <br/> | <span data-ttu-id="ffb41-1899">Байт; 1-байтовое целое без знака</span><span class="sxs-lookup"><span data-stu-id="ffb41-1899">A byte; unsigned 1-byte integer</span></span> <br/>                                            |
| <span data-ttu-id="ffb41-1900">\_ \_ слово типа SYM \_ Image</span><span class="sxs-lookup"><span data-stu-id="ffb41-1900">IMAGE\_SYM\_TYPE\_WORD</span></span> <br/>   | <span data-ttu-id="ffb41-1901">13</span><span class="sxs-lookup"><span data-stu-id="ffb41-1901">13</span></span> <br/> | <span data-ttu-id="ffb41-1902">Слово; 2-байтовое целое число без знака</span><span class="sxs-lookup"><span data-stu-id="ffb41-1902">A word; unsigned 2-byte integer</span></span> <br/>                                            |
| <span data-ttu-id="ffb41-1903">IMAGE \_ SYM, \_ тип \_ uint</span><span class="sxs-lookup"><span data-stu-id="ffb41-1903">IMAGE\_SYM\_TYPE\_UINT</span></span> <br/>   | <span data-ttu-id="ffb41-1904">14</span><span class="sxs-lookup"><span data-stu-id="ffb41-1904">14</span></span> <br/> | <span data-ttu-id="ffb41-1905">Целое число без знака естественного размера (обычно 4 байта)</span><span class="sxs-lookup"><span data-stu-id="ffb41-1905">An unsigned integer of natural size (normally, 4 bytes)</span></span> <br/>                    |
| <span data-ttu-id="ffb41-1906">IMAGE \_ SYM, \_ тип \_ DWORD</span><span class="sxs-lookup"><span data-stu-id="ffb41-1906">IMAGE\_SYM\_TYPE\_DWORD</span></span> <br/>  | <span data-ttu-id="ffb41-1907">15</span><span class="sxs-lookup"><span data-stu-id="ffb41-1907">15</span></span> <br/> | <span data-ttu-id="ffb41-1908">4-байтовое целое число без знака</span><span class="sxs-lookup"><span data-stu-id="ffb41-1908">An unsigned 4-byte integer</span></span> <br/>                                                 |



 

<span data-ttu-id="ffb41-1909">Наиболее значимый байт указывает, является ли символ указателем на, возвратом функции или массивом базового типа, который указан в ЛСБ.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1909">The most significant byte specifies whether the symbol is a pointer to, function returning, or array of the base type that is specified in the LSB.</span></span> <span data-ttu-id="ffb41-1910">Средства Майкрософт используют это поле только для того, чтобы указать, является ли символ функцией, чтобы только два результирующих значения — 0x0 и 0x20 для поля типа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1910">Microsoft tools use this field only to indicate whether the symbol is a function, so that the only two resulting values are 0x0 and 0x20 for the Type field.</span></span> <span data-ttu-id="ffb41-1911">Однако другие средства могут использовать это поле для передачи дополнительных сведений.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1911">However, other tools can use this field to communicate more information.</span></span>

<span data-ttu-id="ffb41-1912">Очень важно правильно указать атрибут функции.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1912">It is very important to specify the function attribute correctly.</span></span> <span data-ttu-id="ffb41-1913">Эти сведения необходимы для правильной работы инкрементной компоновки.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1913">This information is required for incremental linking to work correctly.</span></span> <span data-ttu-id="ffb41-1914">Для некоторых архитектур эти сведения могут потребоваться в других целях.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1914">For some architectures, the information may be required for other purposes.</span></span>



| <span data-ttu-id="ffb41-1915">Константа</span><span class="sxs-lookup"><span data-stu-id="ffb41-1915">Constant</span></span>                                | <span data-ttu-id="ffb41-1916">Значение</span><span class="sxs-lookup"><span data-stu-id="ffb41-1916">Value</span></span>         | <span data-ttu-id="ffb41-1917">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-1917">Description</span></span>                                                          |
|-----------------------------------------|---------------|----------------------------------------------------------------------|
| <span data-ttu-id="ffb41-1918">IMAGE \_ SYM \_ дтипе \_ null</span><span class="sxs-lookup"><span data-stu-id="ffb41-1918">IMAGE\_SYM\_DTYPE\_NULL</span></span> <br/>     | <span data-ttu-id="ffb41-1919">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-1919">0</span></span> <br/> | <span data-ttu-id="ffb41-1920">Нет производного типа; символ представляет собой простую скалярную переменную.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1920">No derived type; the symbol is a simple scalar variable.</span></span> <br/> |
| <span data-ttu-id="ffb41-1921">\_указатель SYM изображения \_ дтипе \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-1921">IMAGE\_SYM\_DTYPE\_POINTER</span></span> <br/>  | <span data-ttu-id="ffb41-1922">1</span><span class="sxs-lookup"><span data-stu-id="ffb41-1922">1</span></span> <br/> | <span data-ttu-id="ffb41-1923">Символ является указателем на базовый тип.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1923">The symbol is a pointer to base type.</span></span> <br/>                    |
| <span data-ttu-id="ffb41-1924">IMAGE \_ SYM \_ дтипе, \_ функция</span><span class="sxs-lookup"><span data-stu-id="ffb41-1924">IMAGE\_SYM\_DTYPE\_FUNCTION</span></span> <br/> | <span data-ttu-id="ffb41-1925">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-1925">2</span></span> <br/> | <span data-ttu-id="ffb41-1926">Символ — это функция, которая возвращает базовый тип.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1926">The symbol is a function that returns a base type.</span></span> <br/>       |
| <span data-ttu-id="ffb41-1927">\_SYM Image \_ дтипе \_ Array</span><span class="sxs-lookup"><span data-stu-id="ffb41-1927">IMAGE\_SYM\_DTYPE\_ARRAY</span></span> <br/>    | <span data-ttu-id="ffb41-1928">3</span><span class="sxs-lookup"><span data-stu-id="ffb41-1928">3</span></span> <br/> | <span data-ttu-id="ffb41-1929">Символ является массивом базового типа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1929">The symbol is an array of base type.</span></span> <br/>                     |



 

#### <a name="storage-class"></a><span data-ttu-id="ffb41-1930">Класс хранения</span><span class="sxs-lookup"><span data-stu-id="ffb41-1930">Storage Class</span></span>

<span data-ttu-id="ffb41-1931">Поле Сторажекласс таблицы символов указывает, какой вид определения представляет символ.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1931">The StorageClass field of the symbol table indicates what kind of definition a symbol represents.</span></span> <span data-ttu-id="ffb41-1932">В следующей таблице показаны возможные значения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1932">The following table shows possible values.</span></span> <span data-ttu-id="ffb41-1933">Обратите внимание, что поле Сторажекласс представляет собой 1-байтное целое число без знака.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1933">Note that the StorageClass field is an unsigned 1-byte integer.</span></span> <span data-ttu-id="ffb41-1934">Поэтому необходимо принять особое значение-1, чтобы посчитать его эквивалентом без знака, 0xFF.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1934">The special value -1 should therefore be taken to mean its unsigned equivalent, 0xFF.</span></span>

<span data-ttu-id="ffb41-1935">Хотя в традиционном формате COFF используется много значений класса хранения, средства Майкрософт используют Visual C++ формат отладки для большинства символьных данных и обычно используют только четыре значения класса хранения: EXTERNAL (2), STATIC (3), FUNCTION (101) и FILE (103).</span><span class="sxs-lookup"><span data-stu-id="ffb41-1935">Although the traditional COFF format uses many storage-class values, Microsoft tools rely on Visual C++ debug format for most symbolic information and generally use only four storage-class values: EXTERNAL (2), STATIC (3), FUNCTION (101), and FILE (103).</span></span> <span data-ttu-id="ffb41-1936">За исключением второго столбца, приведенного ниже, должно быть принято значение "value", которое означает поле значения записи символов (интерпретация зависит от числа, найденного в качестве класса хранения).</span><span class="sxs-lookup"><span data-stu-id="ffb41-1936">Except in the second column heading below, "Value" should be taken to mean the Value field of the symbol record (whose interpretation depends on the number found as the storage class).</span></span>



| <span data-ttu-id="ffb41-1937">Константа</span><span class="sxs-lookup"><span data-stu-id="ffb41-1937">Constant</span></span>                                          | <span data-ttu-id="ffb41-1938">Значение</span><span class="sxs-lookup"><span data-stu-id="ffb41-1938">Value</span></span>                 | <span data-ttu-id="ffb41-1939">Описание/интерпретация поля значения</span><span class="sxs-lookup"><span data-stu-id="ffb41-1939">Description/interpretation of the Value field</span></span>                                                                                                                                                                                                                                                                                              |
|---------------------------------------------------|-----------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-1940">\_класс Image \_ SYM \_ \_ , конец \_ функции</span><span class="sxs-lookup"><span data-stu-id="ffb41-1940">IMAGE\_SYM\_CLASS\_END\_OF\_FUNCTION</span></span> <br/>  | <span data-ttu-id="ffb41-1941">-1 (0xFF)</span><span class="sxs-lookup"><span data-stu-id="ffb41-1941">-1 (0xFF)</span></span> <br/> | <span data-ttu-id="ffb41-1942">Специальный символ, представляющий конец функции, для целей отладки.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1942">A special symbol that represents the end of function, for debugging purposes.</span></span> <br/>                                                                                                                                                                                                                                                  |
| <span data-ttu-id="ffb41-1943">IMAGE \_ SYM, \_ класс \_ null</span><span class="sxs-lookup"><span data-stu-id="ffb41-1943">IMAGE\_SYM\_CLASS\_NULL</span></span> <br/>               | <span data-ttu-id="ffb41-1944">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-1944">0</span></span> <br/>         | <span data-ttu-id="ffb41-1945">Нет назначенного класса хранения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1945">No assigned storage class.</span></span> <br/>                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="ffb41-1946">\_класс Image SYM, \_ \_ Автоматический</span><span class="sxs-lookup"><span data-stu-id="ffb41-1946">IMAGE\_SYM\_CLASS\_AUTOMATIC</span></span> <br/>          | <span data-ttu-id="ffb41-1947">1</span><span class="sxs-lookup"><span data-stu-id="ffb41-1947">1</span></span> <br/>         | <span data-ttu-id="ffb41-1948">Автоматическая (стековая) переменная.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1948">The automatic (stack) variable.</span></span> <span data-ttu-id="ffb41-1949">В поле значение задается смещение кадра стека.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1949">The Value field specifies the stack frame offset.</span></span> <br/>                                                                                                                                                                                                                                              |
| <span data-ttu-id="ffb41-1950">\_класс Image \_ SYM \_ External</span><span class="sxs-lookup"><span data-stu-id="ffb41-1950">IMAGE\_SYM\_CLASS\_EXTERNAL</span></span> <br/>           | <span data-ttu-id="ffb41-1951">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-1951">2</span></span> <br/>         | <span data-ttu-id="ffb41-1952">Значение, используемое инструментами Майкрософт для внешних символов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1952">A value that Microsoft tools use for external symbols.</span></span> <span data-ttu-id="ffb41-1953">В поле значение указывается размер, если номер раздела — IMAGE \_ SYM \_ undefine (0).</span><span class="sxs-lookup"><span data-stu-id="ffb41-1953">The Value field indicates the size if the section number is IMAGE\_SYM\_UNDEFINED (0).</span></span> <span data-ttu-id="ffb41-1954">Если номер раздела не равен нулю, то в поле значение задается смещение в разделе.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1954">If the section number is not zero, then the Value field specifies the offset within the section.</span></span> <br/>                                                                                 |
| <span data-ttu-id="ffb41-1955">\_класс Image SYM, \_ \_ статический</span><span class="sxs-lookup"><span data-stu-id="ffb41-1955">IMAGE\_SYM\_CLASS\_STATIC</span></span> <br/>             | <span data-ttu-id="ffb41-1956">3</span><span class="sxs-lookup"><span data-stu-id="ffb41-1956">3</span></span> <br/>         | <span data-ttu-id="ffb41-1957">Смещение символа в разделе.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1957">The offset of the symbol within the section.</span></span> <span data-ttu-id="ffb41-1958">Если поле значения равно нулю, то символ представляет имя раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1958">If the Value field is zero, then the symbol represents a section name.</span></span> <br/>                                                                                                                                                                                                            |
| <span data-ttu-id="ffb41-1959">\_ \_ Регистрация класса SYM \_ Image</span><span class="sxs-lookup"><span data-stu-id="ffb41-1959">IMAGE\_SYM\_CLASS\_REGISTER</span></span> <br/>           | <span data-ttu-id="ffb41-1960">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-1960">4</span></span> <br/>         | <span data-ttu-id="ffb41-1961">Переменная регистра.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1961">A register variable.</span></span> <span data-ttu-id="ffb41-1962">В поле значение указывается номер регистра.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1962">The Value field specifies the register number.</span></span> <br/>                                                                                                                                                                                                                                                            |
| <span data-ttu-id="ffb41-1963">\_класс Image SYM, \_ \_ внешняя \_ DEF</span><span class="sxs-lookup"><span data-stu-id="ffb41-1963">IMAGE\_SYM\_CLASS\_EXTERNAL\_DEF</span></span> <br/>      | <span data-ttu-id="ffb41-1964">5</span><span class="sxs-lookup"><span data-stu-id="ffb41-1964">5</span></span> <br/>         | <span data-ttu-id="ffb41-1965">Символ, определяемый извне.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1965">A symbol that is defined externally.</span></span> <br/>                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="ffb41-1966">\_ \_ Метка класса Image \_ SYM</span><span class="sxs-lookup"><span data-stu-id="ffb41-1966">IMAGE\_SYM\_CLASS\_LABEL</span></span> <br/>              | <span data-ttu-id="ffb41-1967">6</span><span class="sxs-lookup"><span data-stu-id="ffb41-1967">6</span></span> <br/>         | <span data-ttu-id="ffb41-1968">Метка кода, которая определена в модуле.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1968">A code label that is defined within the module.</span></span> <span data-ttu-id="ffb41-1969">В поле значение задается смещение символа в разделе.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1969">The Value field specifies the offset of the symbol within the section.</span></span> <br/>                                                                                                                                                                                                         |
| <span data-ttu-id="ffb41-1970">IMAGE \_ SYM \_ , \_ неопределенная \_ Метка класса</span><span class="sxs-lookup"><span data-stu-id="ffb41-1970">IMAGE\_SYM\_CLASS\_UNDEFINED\_LABEL</span></span> <br/>   | <span data-ttu-id="ffb41-1971">7</span><span class="sxs-lookup"><span data-stu-id="ffb41-1971">7</span></span> <br/>         | <span data-ttu-id="ffb41-1972">Ссылка на метку кода, которая не определена.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1972">A reference to a code label that is not defined.</span></span> <br/>                                                                                                                                                                                                                                                                               |
| <span data-ttu-id="ffb41-1973">IMAGE \_ SYM \_ \_ , член \_ класса \_ STRUCT</span><span class="sxs-lookup"><span data-stu-id="ffb41-1973">IMAGE\_SYM\_CLASS\_MEMBER\_OF\_STRUCT</span></span> <br/> | <span data-ttu-id="ffb41-1974">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-1974">8</span></span> <br/>         | <span data-ttu-id="ffb41-1975">Член структуры.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1975">The structure member.</span></span> <span data-ttu-id="ffb41-1976">В поле значение указывается n-й элемент.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1976">The Value field specifies the n th member.</span></span> <br/>                                                                                                                                                                                                                                                               |
| <span data-ttu-id="ffb41-1977">IMAGE \_ SYM \_ , \_ аргумент класса</span><span class="sxs-lookup"><span data-stu-id="ffb41-1977">IMAGE\_SYM\_CLASS\_ARGUMENT</span></span> <br/>           | <span data-ttu-id="ffb41-1978">9</span><span class="sxs-lookup"><span data-stu-id="ffb41-1978">9</span></span> <br/>         | <span data-ttu-id="ffb41-1979">Формальный аргумент (параметр) функции.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1979">A formal argument (parameter) of a function.</span></span> <span data-ttu-id="ffb41-1980">В поле "значение" указывается n-й аргумент.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1980">The Value field specifies the n th argument.</span></span> <br/>                                                                                                                                                                                                                                      |
| <span data-ttu-id="ffb41-1981">\_ \_ \_ тег структуры класса Image \_ SYM</span><span class="sxs-lookup"><span data-stu-id="ffb41-1981">IMAGE\_SYM\_CLASS\_STRUCT\_TAG</span></span> <br/>        | <span data-ttu-id="ffb41-1982">10</span><span class="sxs-lookup"><span data-stu-id="ffb41-1982">10</span></span> <br/>        | <span data-ttu-id="ffb41-1983">Запись имени тега структуры.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1983">The structure tag-name entry.</span></span> <br/>                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="ffb41-1984">IMAGE \_ SYM \_ \_ , член \_ класса \_ Union</span><span class="sxs-lookup"><span data-stu-id="ffb41-1984">IMAGE\_SYM\_CLASS\_MEMBER\_OF\_UNION</span></span> <br/>  | <span data-ttu-id="ffb41-1985">11</span><span class="sxs-lookup"><span data-stu-id="ffb41-1985">11</span></span> <br/>        | <span data-ttu-id="ffb41-1986">Член объединения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1986">A union member.</span></span> <span data-ttu-id="ffb41-1987">В поле значение указывается n-й элемент.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1987">The Value field specifies the n th member.</span></span> <br/>                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="ffb41-1988">\_тег SYM \_ для \_ объединения \_ класса Image</span><span class="sxs-lookup"><span data-stu-id="ffb41-1988">IMAGE\_SYM\_CLASS\_UNION\_TAG</span></span> <br/>         | <span data-ttu-id="ffb41-1989">12</span><span class="sxs-lookup"><span data-stu-id="ffb41-1989">12</span></span> <br/>        | <span data-ttu-id="ffb41-1990">Запись имени тега Union.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1990">The Union tag-name entry.</span></span> <br/>                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="ffb41-1991">\_ \_ \_ Определение типа класса Image \_ SYM</span><span class="sxs-lookup"><span data-stu-id="ffb41-1991">IMAGE\_SYM\_CLASS\_TYPE\_DEFINITION</span></span> <br/>   | <span data-ttu-id="ffb41-1992">13</span><span class="sxs-lookup"><span data-stu-id="ffb41-1992">13</span></span> <br/>        | <span data-ttu-id="ffb41-1993">Запись typedef.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1993">A Typedef entry.</span></span> <br/>                                                                                                                                                                                                                                                                                                               |
| <span data-ttu-id="ffb41-1994">\_класс Image \_ SYM \_ undefine \_ static</span><span class="sxs-lookup"><span data-stu-id="ffb41-1994">IMAGE\_SYM\_CLASS\_UNDEFINED\_STATIC</span></span> <br/>  | <span data-ttu-id="ffb41-1995">14</span><span class="sxs-lookup"><span data-stu-id="ffb41-1995">14</span></span> <br/>        | <span data-ttu-id="ffb41-1996">Статическое объявление данных.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1996">A static data declaration.</span></span> <br/>                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="ffb41-1997">\_ \_ \_ тег enum класса SYM \_ Image</span><span class="sxs-lookup"><span data-stu-id="ffb41-1997">IMAGE\_SYM\_CLASS\_ENUM\_TAG</span></span> <br/>          | <span data-ttu-id="ffb41-1998">15</span><span class="sxs-lookup"><span data-stu-id="ffb41-1998">15</span></span> <br/>        | <span data-ttu-id="ffb41-1999">Запись перечислимого типа TagName.</span><span class="sxs-lookup"><span data-stu-id="ffb41-1999">An enumerated type tagname entry.</span></span> <br/>                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="ffb41-2000">\_ \_ элемент класса Image \_ SYM \_ в \_ enum</span><span class="sxs-lookup"><span data-stu-id="ffb41-2000">IMAGE\_SYM\_CLASS\_MEMBER\_OF\_ENUM</span></span> <br/>   | <span data-ttu-id="ffb41-2001">16</span><span class="sxs-lookup"><span data-stu-id="ffb41-2001">16</span></span> <br/>        | <span data-ttu-id="ffb41-2002">Член перечисления.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2002">A member of an enumeration.</span></span> <span data-ttu-id="ffb41-2003">В поле значение указывается n-й элемент.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2003">The Value field specifies the n th member.</span></span> <br/>                                                                                                                                                                                                                                                         |
| <span data-ttu-id="ffb41-2004">\_ \_ \_ параметр регистрации класса SYM \_ Image</span><span class="sxs-lookup"><span data-stu-id="ffb41-2004">IMAGE\_SYM\_CLASS\_REGISTER\_PARAM</span></span> <br/>    | <span data-ttu-id="ffb41-2005">17</span><span class="sxs-lookup"><span data-stu-id="ffb41-2005">17</span></span> <br/>        | <span data-ttu-id="ffb41-2006">Параметр Register.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2006">A register parameter.</span></span> <br/>                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="ffb41-2007">\_ \_ \_ битовое поле класса Image SYM \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-2007">IMAGE\_SYM\_CLASS\_BIT\_FIELD</span></span> <br/>         | <span data-ttu-id="ffb41-2008">18</span><span class="sxs-lookup"><span data-stu-id="ffb41-2008">18</span></span> <br/>        | <span data-ttu-id="ffb41-2009">Ссылка на битовое поле.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2009">A bit-field reference.</span></span> <span data-ttu-id="ffb41-2010">В поле "значение" указывается n-й бит в битовом поле.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2010">The Value field specifies the n th bit in the bit field.</span></span> <br/>                                                                                                                                                                                                                                                |
| <span data-ttu-id="ffb41-2011">\_ \_ блок класса Image \_ SYM</span><span class="sxs-lookup"><span data-stu-id="ffb41-2011">IMAGE\_SYM\_CLASS\_BLOCK</span></span> <br/>              | <span data-ttu-id="ffb41-2012">100</span><span class="sxs-lookup"><span data-stu-id="ffb41-2012">100</span></span> <br/>       | <span data-ttu-id="ffb41-2013">А. BB (начало блока) или. EB (конец блока).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2013">A .bb (beginning of block) or .eb (end of block) record.</span></span> <span data-ttu-id="ffb41-2014">Поле значение является перемещаемым адресом местоположения кода.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2014">The Value field is the relocatable address of the code location.</span></span> <br/>                                                                                                                                                                                                      |
| <span data-ttu-id="ffb41-2015">IMAGE \_ SYM \_ , \_ функция класса</span><span class="sxs-lookup"><span data-stu-id="ffb41-2015">IMAGE\_SYM\_CLASS\_FUNCTION</span></span> <br/>           | <span data-ttu-id="ffb41-2016">101</span><span class="sxs-lookup"><span data-stu-id="ffb41-2016">101</span></span> <br/>       | <span data-ttu-id="ffb41-2017">Значение, используемое средствами Майкрософт для записей символов, определяющих экстент функции: Begin Function (. BF), End Function (. EF) и Lines In (. LF).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2017">A value that Microsoft tools use for symbol records that define the extent of a function: begin function (.bf ), end function ( .ef ), and lines in function ( .lf ).</span></span> <span data-ttu-id="ffb41-2018">Для записей. LF в поле значение задается количество исходных строк в функции.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2018">For .lf records, the Value field gives the number of source lines in the function.</span></span> <span data-ttu-id="ffb41-2019">Для записей. EF в поле значение задается размер кода функции.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2019">For .ef records, the Value field gives the size of the function code.</span></span> <br/> |
| <span data-ttu-id="ffb41-2020">\_ \_ \_ конец \_ \_ структуры класса SYM Image</span><span class="sxs-lookup"><span data-stu-id="ffb41-2020">IMAGE\_SYM\_CLASS\_END\_OF\_STRUCT</span></span> <br/>    | <span data-ttu-id="ffb41-2021">102</span><span class="sxs-lookup"><span data-stu-id="ffb41-2021">102</span></span> <br/>       | <span data-ttu-id="ffb41-2022">Запись конца структуры.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2022">An end-of-structure entry.</span></span> <br/>                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="ffb41-2023">\_ \_ файл класса Image \_ SYM</span><span class="sxs-lookup"><span data-stu-id="ffb41-2023">IMAGE\_SYM\_CLASS\_FILE</span></span> <br/>               | <span data-ttu-id="ffb41-2024">103</span><span class="sxs-lookup"><span data-stu-id="ffb41-2024">103</span></span> <br/>       | <span data-ttu-id="ffb41-2025">Значение, которое Microsoft Tools, а также традиционный формат COFF используется для записи символов исходного файла.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2025">A value that Microsoft tools, as well as traditional COFF format, use for the source-file symbol record.</span></span> <span data-ttu-id="ffb41-2026">За символом следуют дополнительные записи, которые применяют имя файла.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2026">The symbol is followed by auxiliary records that name the file.</span></span> <br/>                                                                                                                                                       |
| <span data-ttu-id="ffb41-2027">\_ \_ раздел класса Image \_ SYM</span><span class="sxs-lookup"><span data-stu-id="ffb41-2027">IMAGE\_SYM\_CLASS\_SECTION</span></span> <br/>            | <span data-ttu-id="ffb41-2028">104</span><span class="sxs-lookup"><span data-stu-id="ffb41-2028">104</span></span> <br/>       | <span data-ttu-id="ffb41-2029">Определение раздела (в Microsoft Tools вместо него используется статический класс хранения).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2029">A definition of a section (Microsoft tools use STATIC storage class instead).</span></span> <br/>                                                                                                                                                                                                                                                  |
| <span data-ttu-id="ffb41-2030">\_класс Image \_ SYM \_ слабый \_ внешний</span><span class="sxs-lookup"><span data-stu-id="ffb41-2030">IMAGE\_SYM\_CLASS\_WEAK\_EXTERNAL</span></span> <br/>     | <span data-ttu-id="ffb41-2031">105</span><span class="sxs-lookup"><span data-stu-id="ffb41-2031">105</span></span> <br/>       | <span data-ttu-id="ffb41-2032">Слабый внешний.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2032">A weak external.</span></span> <span data-ttu-id="ffb41-2033">Дополнительные сведения см. в разделе [дополнительный формат 3. слабые внешние](#auxiliary-format-3-weak-externals).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2033">For more information, see [Auxiliary Format 3: Weak Externals](#auxiliary-format-3-weak-externals).</span></span> <br/>                                                                                                                                                                                                           |
| <span data-ttu-id="ffb41-2034">\_ \_ \_ маркер CLR класса Image \_ SYM</span><span class="sxs-lookup"><span data-stu-id="ffb41-2034">IMAGE\_SYM\_CLASS\_CLR\_TOKEN</span></span> <br/>         | <span data-ttu-id="ffb41-2035">107</span><span class="sxs-lookup"><span data-stu-id="ffb41-2035">107</span></span> <br/>       | <span data-ttu-id="ffb41-2036">Символ токена CLR.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2036">A CLR token symbol.</span></span> <span data-ttu-id="ffb41-2037">Имя — это строка ASCII, состоящая из шестнадцатеричного значения маркера.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2037">The name is an ASCII string that consists of the hexadecimal value of the token.</span></span> <span data-ttu-id="ffb41-2038">Дополнительные сведения см. в разделе [Определение токена CLR (только объект)](#clr-token-definition-object-only).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2038">For more information, see [CLR Token Definition (Object Only)](#clr-token-definition-object-only).</span></span> <br/>                                                                                                                        |



 

### <a name="auxiliary-symbol-records"></a><span data-ttu-id="ffb41-2039">Вспомогательные записи символов</span><span class="sxs-lookup"><span data-stu-id="ffb41-2039">Auxiliary Symbol Records</span></span>

<span data-ttu-id="ffb41-2040">Дополнительные записи таблицы символов всегда следуют за ними и применяются к определенной записи таблицы стандартных символов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2040">Auxiliary symbol table records always follow, and apply to, some standard symbol table record.</span></span> <span data-ttu-id="ffb41-2041">Дополнительная запись может иметь любой формат, распознаваемый инструментами, но для них необходимо выделить 18 байт, чтобы таблица символов поддерживалась как массив обычного размера.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2041">An auxiliary record can have any format that the tools can recognize, but 18 bytes must be allocated for them so that symbol table is maintained as an array of regular size.</span></span> <span data-ttu-id="ffb41-2042">В настоящее время средства Майкрософт распознают вспомогательные форматы для следующих типов записей: определения функций, начальный и конечный символы (. BF и. EF), слабые внешние, имена файлов и определения разделов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2042">Currently, Microsoft tools recognize auxiliary formats for the following kinds of records: function definitions, function begin and end symbols (.bf and .ef), weak externals, file names, and section definitions.</span></span>

<span data-ttu-id="ffb41-2043">Традиционная конструкция COFF также включает форматы вспомогательных записей для массивов и структур.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2043">The traditional COFF design also includes auxiliary-record formats for arrays and structures.</span></span> <span data-ttu-id="ffb41-2044">Средства Майкрософт не используют их, а вместо этого размещают символьные данные в Visual C++ формате отладки в разделах отладки.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2044">Microsoft tools do not use these, but instead place that symbolic information in Visual C++ debug format in the debug sections.</span></span>

#### <a name="auxiliary-format-1-function-definitions"></a><span data-ttu-id="ffb41-2045">Вспомогательный формат 1. определения функций</span><span class="sxs-lookup"><span data-stu-id="ffb41-2045">Auxiliary Format 1: Function Definitions</span></span>

<span data-ttu-id="ffb41-2046">Запись таблицы символов отмечает начало определения функции, если она содержит все следующие: класс хранения EXTERNAL (2), значение типа, указывающее, что это функция (0x20), и номер раздела больше нуля.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2046">A symbol table record marks the beginning of a function definition if it has all of the following: a storage class of EXTERNAL (2), a Type value that indicates it is a function (0x20), and a section number that is greater than zero.</span></span> <span data-ttu-id="ffb41-2047">Обратите внимание, что запись таблицы символов, имеющая номер раздела undefine (0), не определяет функцию и не имеет вспомогательной записи.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2047">Note that a symbol table record that has a section number of UNDEFINED (0) does not define the function and does not have an auxiliary record.</span></span> <span data-ttu-id="ffb41-2048">Записи символов определения функции следуют вспомогательной записи в формате, описанном ниже.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2048">Function-definition symbol records are followed by an auxiliary record in the format described below:</span></span>



| <span data-ttu-id="ffb41-2049">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-2049">Offset</span></span>         | <span data-ttu-id="ffb41-2050">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-2050">Size</span></span>          | <span data-ttu-id="ffb41-2051">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-2051">Field</span></span>                             | <span data-ttu-id="ffb41-2052">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-2052">Description</span></span>                                                                                                                                                                                                                   |
|----------------|---------------|-----------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-2053">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-2053">0</span></span> <br/>  | <span data-ttu-id="ffb41-2054">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2054">4</span></span> <br/> | <span data-ttu-id="ffb41-2055">тагиндекс</span><span class="sxs-lookup"><span data-stu-id="ffb41-2055">TagIndex</span></span> <br/>              | <span data-ttu-id="ffb41-2056">Индекс таблицы символов соответствующей записи символа. BF (Begin Function).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2056">The symbol-table index of the corresponding .bf (begin function) symbol record.</span></span> <br/>                                                                                                                                   |
| <span data-ttu-id="ffb41-2057">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2057">4</span></span> <br/>  | <span data-ttu-id="ffb41-2058">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2058">4</span></span> <br/> | <span data-ttu-id="ffb41-2059">TotalSize</span><span class="sxs-lookup"><span data-stu-id="ffb41-2059">TotalSize</span></span> <br/>             | <span data-ttu-id="ffb41-2060">Размер исполняемого кода для самой функции.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2060">The size of the executable code for the function itself.</span></span> <span data-ttu-id="ffb41-2061">Если функция находится в отдельном разделе, Сизеофравдата в заголовке раздела больше или равна этому полю в зависимости от соображений выравнивания.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2061">If the function is in its own section, the SizeOfRawData in the section header is greater or equal to this field, depending on alignment considerations.</span></span> <br/> |
| <span data-ttu-id="ffb41-2062">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-2062">8</span></span> <br/>  | <span data-ttu-id="ffb41-2063">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2063">4</span></span> <br/> | <span data-ttu-id="ffb41-2064">поинтертолиненумбер</span><span class="sxs-lookup"><span data-stu-id="ffb41-2064">PointerToLinenumber</span></span> <br/>   | <span data-ttu-id="ffb41-2065">Смещение первой записи строки COFF для функции или нуль, если значение не существует.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2065">The file offset of the first COFF line-number entry for the function, or zero if none exists.</span></span> <span data-ttu-id="ffb41-2066">Дополнительные сведения см. в статье [номера строк COFF (не рекомендуется)](#coff-line-numbers-deprecated).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2066">For more information, see [COFF Line Numbers (Deprecated)](#coff-line-numbers-deprecated).</span></span> <br/>                          |
| <span data-ttu-id="ffb41-2067">12</span><span class="sxs-lookup"><span data-stu-id="ffb41-2067">12</span></span> <br/> | <span data-ttu-id="ffb41-2068">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2068">4</span></span> <br/> | <span data-ttu-id="ffb41-2069">поинтертонекстфунктион</span><span class="sxs-lookup"><span data-stu-id="ffb41-2069">PointerToNextFunction</span></span> <br/> | <span data-ttu-id="ffb41-2070">Индекс таблицы символов записи для следующей функции.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2070">The symbol-table index of the record for the next function.</span></span> <span data-ttu-id="ffb41-2071">Если функция является последней в таблице символов, для этого поля устанавливается нулевое значение.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2071">If the function is the last in the symbol table, this field is set to zero.</span></span> <br/>                                                                           |
| <span data-ttu-id="ffb41-2072">16</span><span class="sxs-lookup"><span data-stu-id="ffb41-2072">16</span></span> <br/> | <span data-ttu-id="ffb41-2073">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-2073">2</span></span> <br/> | <span data-ttu-id="ffb41-2074">Не используется</span><span class="sxs-lookup"><span data-stu-id="ffb41-2074">Unused</span></span> <br/>                |                                                                                                                                                                                                                               |



 

#### <a name="auxiliary-format-2-bf-and-ef-symbols"></a><span data-ttu-id="ffb41-2075">Вспомогательные символы формата 2:. BF и. EF</span><span class="sxs-lookup"><span data-stu-id="ffb41-2075">Auxiliary Format 2: .bf and .ef Symbols</span></span>

<span data-ttu-id="ffb41-2076">Для каждого определения функции в таблице символов три элемента описывают начало, конец и число строк.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2076">For each function definition in the symbol table, three items describe the beginning, ending, and number of lines.</span></span> <span data-ttu-id="ffb41-2077">Каждый из этих символов имеет функцию класса хранения (101):</span><span class="sxs-lookup"><span data-stu-id="ffb41-2077">Each of these symbols has storage class FUNCTION (101):</span></span>

<span data-ttu-id="ffb41-2078">Запись символа с именем. BF (Функция begin).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2078">A symbol record named .bf (begin function).</span></span> <span data-ttu-id="ffb41-2079">Поле значения не используется.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2079">The Value field is unused.</span></span>

<span data-ttu-id="ffb41-2080">Запись символов с именем. LF (строки в функции).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2080">A symbol record named .lf (lines in function).</span></span> <span data-ttu-id="ffb41-2081">В поле значение задается число строк в функции.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2081">The Value field gives the number of lines in the function.</span></span>

<span data-ttu-id="ffb41-2082">Запись символа с именем. EF (конец функции).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2082">A symbol record named .ef (end of function).</span></span> <span data-ttu-id="ffb41-2083">Поле "значение" имеет тот же номер, что и поле "общий размер" в записи символов определения функции.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2083">The Value field has the same number as the Total Size field in the function-definition symbol record.</span></span>

<span data-ttu-id="ffb41-2084">За записями символов. BF и. EF (но не с записями LF) следует дополнительная запись в следующем формате:</span><span class="sxs-lookup"><span data-stu-id="ffb41-2084">The .bf and .ef symbol records (but not .lf records) are followed by an auxiliary record with the following format:</span></span>



| <span data-ttu-id="ffb41-2085">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-2085">Offset</span></span>         | <span data-ttu-id="ffb41-2086">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-2086">Size</span></span>          | <span data-ttu-id="ffb41-2087">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-2087">Field</span></span>                                         | <span data-ttu-id="ffb41-2088">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-2088">Description</span></span>                                                                                                                                                                   |
|----------------|---------------|-----------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-2089">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-2089">0</span></span> <br/>  | <span data-ttu-id="ffb41-2090">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2090">4</span></span> <br/> | <span data-ttu-id="ffb41-2091">Не используется</span><span class="sxs-lookup"><span data-stu-id="ffb41-2091">Unused</span></span> <br/>                            |                                                                                                                                                                               |
| <span data-ttu-id="ffb41-2092">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2092">4</span></span> <br/>  | <span data-ttu-id="ffb41-2093">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-2093">2</span></span> <br/> | <span data-ttu-id="ffb41-2094">LineNumber</span><span class="sxs-lookup"><span data-stu-id="ffb41-2094">Linenumber</span></span> <br/>                        | <span data-ttu-id="ffb41-2095">Фактический порядковый номер строки (1, 2, 3 и т. д.) в исходном файле, соответствующий записи. BF или. EF.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2095">The actual ordinal line number (1, 2, 3, and so on) within the source file, corresponding to the .bf or .ef record.</span></span> <br/>                                               |
| <span data-ttu-id="ffb41-2096">6</span><span class="sxs-lookup"><span data-stu-id="ffb41-2096">6</span></span> <br/>  | <span data-ttu-id="ffb41-2097">6</span><span class="sxs-lookup"><span data-stu-id="ffb41-2097">6</span></span> <br/> | <span data-ttu-id="ffb41-2098">Не используется</span><span class="sxs-lookup"><span data-stu-id="ffb41-2098">Unused</span></span> <br/>                            |                                                                                                                                                                               |
| <span data-ttu-id="ffb41-2099">12</span><span class="sxs-lookup"><span data-stu-id="ffb41-2099">12</span></span> <br/> | <span data-ttu-id="ffb41-2100">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2100">4</span></span> <br/> | <span data-ttu-id="ffb41-2101">Поинтертонекстфунктион (только BF)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2101">PointerToNextFunction ( .bf only)</span></span> <br/> | <span data-ttu-id="ffb41-2102">Индекс таблицы символов для следующей записи символа. BF.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2102">The symbol-table index of the next .bf symbol record.</span></span> <span data-ttu-id="ffb41-2103">Если функция является последней в таблице символов, для этого поля устанавливается нулевое значение.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2103">If the function is the last in the symbol table, this field is set to zero.</span></span> <span data-ttu-id="ffb41-2104">Он не используется для записей. EF.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2104">It is not used for .ef records.</span></span> <br/> |
| <span data-ttu-id="ffb41-2105">16</span><span class="sxs-lookup"><span data-stu-id="ffb41-2105">16</span></span> <br/> | <span data-ttu-id="ffb41-2106">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-2106">2</span></span> <br/> | <span data-ttu-id="ffb41-2107">Не используется</span><span class="sxs-lookup"><span data-stu-id="ffb41-2107">Unused</span></span> <br/>                            |                                                                                                                                                                               |



 

#### <a name="auxiliary-format-3-weak-externals"></a><span data-ttu-id="ffb41-2108">Вспомогательный формат 3: слабые внешние</span><span class="sxs-lookup"><span data-stu-id="ffb41-2108">Auxiliary Format 3: Weak Externals</span></span>

<span data-ttu-id="ffb41-2109">"Слабые внешние" — это механизм для объектных файлов, который обеспечивает гибкость во время компоновки.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2109">"Weak externals" are a mechanism for object files that allows flexibility at link time.</span></span> <span data-ttu-id="ffb41-2110">Модуль может содержать неразрешенный внешний символ (sym1), но также может включать вспомогательную запись, указывающую, что если sym1 отсутствует во время компоновки, то для разрешения ссылок используется другой внешний символ (sym2).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2110">A module can contain an unresolved external symbol (sym1), but it can also include an auxiliary record that indicates that if sym1 is not present at link time, another external symbol (sym2) is used to resolve references instead.</span></span>

<span data-ttu-id="ffb41-2111">Если определение sym1 связано, то внешняя ссылка на символ разрешается обычным образом.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2111">If a definition of sym1 is linked, then an external reference to the symbol is resolved normally.</span></span> <span data-ttu-id="ffb41-2112">Если определение sym1 не связано, все ссылки на слабый внешний объект sym1 ссылаются на sym2.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2112">If a definition of sym1 is not linked, then all references to the weak external for sym1 refer to sym2 instead.</span></span> <span data-ttu-id="ffb41-2113">Внешний символ sym2 должен всегда быть связанным. как правило, он определен в модуле, который содержит слабую ссылку на sym1.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2113">The external symbol, sym2, must always be linked; typically, it is defined in the module that contains the weak reference to sym1.</span></span>

<span data-ttu-id="ffb41-2114">Слабые внешние представления представляются записью таблицы символов с внешним классом хранения, номером раздела UNDEF и нулевым значением.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2114">Weak externals are represented by a symbol table record with EXTERNAL storage class, UNDEF section number, and a value of zero.</span></span> <span data-ttu-id="ffb41-2115">Ниже приведена дополнительная запись с нестрогим внешним символом в следующем формате:</span><span class="sxs-lookup"><span data-stu-id="ffb41-2115">The weak-external symbol record is followed by an auxiliary record with the following format:</span></span>



| <span data-ttu-id="ffb41-2116">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-2116">Offset</span></span>        | <span data-ttu-id="ffb41-2117">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-2117">Size</span></span>           | <span data-ttu-id="ffb41-2118">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-2118">Field</span></span>                       | <span data-ttu-id="ffb41-2119">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-2119">Description</span></span>                                                                                                                                                                                                                                                                                                                                                |
|---------------|----------------|-----------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-2120">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-2120">0</span></span> <br/> | <span data-ttu-id="ffb41-2121">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2121">4</span></span> <br/>  | <span data-ttu-id="ffb41-2122">тагиндекс</span><span class="sxs-lookup"><span data-stu-id="ffb41-2122">TagIndex</span></span> <br/>        | <span data-ttu-id="ffb41-2123">Индекс таблицы символов sym2, символ, который должен быть связан, если sym1 не найден.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2123">The symbol-table index of sym2, the symbol to be linked if sym1 is not found.</span></span> <br/>                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="ffb41-2124">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2124">4</span></span> <br/> | <span data-ttu-id="ffb41-2125">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2125">4</span></span> <br/>  | <span data-ttu-id="ffb41-2126">Характеристики</span><span class="sxs-lookup"><span data-stu-id="ffb41-2126">Characteristics</span></span> <br/> | <span data-ttu-id="ffb41-2127">Значение IMAGE \_ слабый \_ внешний \_ Поиск \_ без библиотеки указывает, что не следует выполнять поиск в библиотеке для sym1.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2127">A value of IMAGE\_WEAK\_EXTERN\_SEARCH\_NOLIBRARY indicates that no library search for sym1 should be performed.</span></span> <br/> <span data-ttu-id="ffb41-2128">Значение IMAGE \_ слабый \_ внешний \_ поисковая \_ Библиотека указывает на то, что необходимо выполнить поиск в библиотеке sym1.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2128">A value of IMAGE\_WEAK\_EXTERN\_SEARCH\_LIBRARY indicates that a library search for sym1 should be performed.</span></span> <br/> <span data-ttu-id="ffb41-2129">Значение IMAGE \_ слабый \_ внешний \_ псевдоним поиска \_ указывает, что sym1 является псевдонимом для sym2.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2129">A value of IMAGE\_WEAK\_EXTERN\_SEARCH\_ALIAS indicates that sym1 is an alias for sym2.</span></span> <br/> |
| <span data-ttu-id="ffb41-2130">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-2130">8</span></span> <br/> | <span data-ttu-id="ffb41-2131">10</span><span class="sxs-lookup"><span data-stu-id="ffb41-2131">10</span></span> <br/> | <span data-ttu-id="ffb41-2132">Не используется</span><span class="sxs-lookup"><span data-stu-id="ffb41-2132">Unused</span></span> <br/>          |                                                                                                                                                                                                                                                                                                                                                            |



 

<span data-ttu-id="ffb41-2133">Обратите внимание, что поле характеристики не определено в WINNT. Высоты Вместо этого используется поле Общий размер.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2133">Note that the Characteristics field is not defined in WINNT.H; instead, the Total Size field is used.</span></span>

#### <a name="auxiliary-format-4-files"></a><span data-ttu-id="ffb41-2134">Вспомогательный формат 4: файлы</span><span class="sxs-lookup"><span data-stu-id="ffb41-2134">Auxiliary Format 4: Files</span></span>

<span data-ttu-id="ffb41-2135">Этот формат следует за записью символьной таблицы с ФАЙЛОМ класса хранения (103).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2135">This format follows a symbol-table record with storage class FILE (103).</span></span> <span data-ttu-id="ffb41-2136">Имя символа должно быть. File, а вспомогательная запись, следующая за ней, — это имя файла исходного кода.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2136">The symbol name itself should be .file, and the auxiliary record that follows it gives the name of a source-code file.</span></span>



| <span data-ttu-id="ffb41-2137">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-2137">Offset</span></span>        | <span data-ttu-id="ffb41-2138">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-2138">Size</span></span>           | <span data-ttu-id="ffb41-2139">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-2139">Field</span></span>                 | <span data-ttu-id="ffb41-2140">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-2140">Description</span></span>                                                                                                                         |
|---------------|----------------|-----------------------|-------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-2141">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-2141">0</span></span> <br/> | <span data-ttu-id="ffb41-2142">18</span><span class="sxs-lookup"><span data-stu-id="ffb41-2142">18</span></span> <br/> | <span data-ttu-id="ffb41-2143">Имя файла</span><span class="sxs-lookup"><span data-stu-id="ffb41-2143">File Name</span></span> <br/> | <span data-ttu-id="ffb41-2144">Строка ANSI, которая задает имя исходного файла.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2144">An ANSI string that gives the name of the source file.</span></span> <span data-ttu-id="ffb41-2145">Это дополняется значениями NULL, если длина меньше максимальной.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2145">This is padded with nulls if it is less than the maximum length.</span></span> <br/> |



 

#### <a name="auxiliary-format-5-section-definitions"></a><span data-ttu-id="ffb41-2146">Дополнительный формат 5. определения разделов</span><span class="sxs-lookup"><span data-stu-id="ffb41-2146">Auxiliary Format 5: Section Definitions</span></span>

<span data-ttu-id="ffb41-2147">Этот формат соответствует записи таблицы символов, определяющей раздел.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2147">This format follows a symbol-table record that defines a section.</span></span> <span data-ttu-id="ffb41-2148">Такая запись имеет имя символа, которое является именем раздела (например,. Text или. drectve) и имеет класс хранения STATIC (3).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2148">Such a record has a symbol name that is the name of a section (such as .text or .drectve) and has storage class STATIC (3).</span></span> <span data-ttu-id="ffb41-2149">Дополнительная запись предоставляет сведения о разделе, на который он ссылается.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2149">The auxiliary record provides information about the section to which it refers.</span></span> <span data-ttu-id="ffb41-2150">Таким же путем дублирует часть информации в заголовке раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2150">Thus, it duplicates some of the information in the section header.</span></span>



| <span data-ttu-id="ffb41-2151">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-2151">Offset</span></span>         | <span data-ttu-id="ffb41-2152">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-2152">Size</span></span>          | <span data-ttu-id="ffb41-2153">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-2153">Field</span></span>                           | <span data-ttu-id="ffb41-2154">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-2154">Description</span></span>                                                                                                                                                                                                             |
|----------------|---------------|---------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-2155">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-2155">0</span></span> <br/>  | <span data-ttu-id="ffb41-2156">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2156">4</span></span> <br/> | <span data-ttu-id="ffb41-2157">Длина</span><span class="sxs-lookup"><span data-stu-id="ffb41-2157">Length</span></span> <br/>              | <span data-ttu-id="ffb41-2158">Размер данных раздела; то же, что и Сизеофравдата в заголовке раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2158">The size of section data; the same as SizeOfRawData in the section header.</span></span> <br/>                                                                                                                                  |
| <span data-ttu-id="ffb41-2159">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2159">4</span></span> <br/>  | <span data-ttu-id="ffb41-2160">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-2160">2</span></span> <br/> | <span data-ttu-id="ffb41-2161">нумберофрелокатионс</span><span class="sxs-lookup"><span data-stu-id="ffb41-2161">NumberOfRelocations</span></span> <br/> | <span data-ttu-id="ffb41-2162">Число записей перемещения для раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2162">The number of relocation entries for the section.</span></span> <br/>                                                                                                                                                           |
| <span data-ttu-id="ffb41-2163">6</span><span class="sxs-lookup"><span data-stu-id="ffb41-2163">6</span></span> <br/>  | <span data-ttu-id="ffb41-2164">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-2164">2</span></span> <br/> | <span data-ttu-id="ffb41-2165">нумберофлиненумберс</span><span class="sxs-lookup"><span data-stu-id="ffb41-2165">NumberOfLinenumbers</span></span> <br/> | <span data-ttu-id="ffb41-2166">Число записей номера строки для раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2166">The number of line-number entries for the section.</span></span> <br/>                                                                                                                                                          |
| <span data-ttu-id="ffb41-2167">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-2167">8</span></span> <br/>  | <span data-ttu-id="ffb41-2168">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2168">4</span></span> <br/> | <span data-ttu-id="ffb41-2169">Вычислен</span><span class="sxs-lookup"><span data-stu-id="ffb41-2169">CheckSum</span></span> <br/>            | <span data-ttu-id="ffb41-2170">Контрольная сумма для данных общего.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2170">The checksum for communal data.</span></span> <span data-ttu-id="ffb41-2171">Он применяется, если \_ \_ \_ в заголовке раздела задан флаг уведомления SCN LNK.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2171">It is applicable if the IMAGE\_SCN\_LNK\_COMDAT flag is set in the section header.</span></span> <span data-ttu-id="ffb41-2172">Дополнительные сведения см. в разделе [COMDAT (только объект)](#comdat-sections-object-only).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2172">For more information, see [COMDAT Sections (Object Only)](#comdat-sections-object-only).</span></span> <br/> |
| <span data-ttu-id="ffb41-2173">12</span><span class="sxs-lookup"><span data-stu-id="ffb41-2173">12</span></span> <br/> | <span data-ttu-id="ffb41-2174">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-2174">2</span></span> <br/> | <span data-ttu-id="ffb41-2175">Число</span><span class="sxs-lookup"><span data-stu-id="ffb41-2175">Number</span></span> <br/>              | <span data-ttu-id="ffb41-2176">Отсчитываемый от единицы индекс в таблице разделов для связанного раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2176">One-based index into the section table for the associated section.</span></span> <span data-ttu-id="ffb41-2177">Используется, когда параметр выбора COMDAT имеет значение 5.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2177">This is used when the COMDAT selection setting is 5.</span></span> <br/>                                                                                     |
| <span data-ttu-id="ffb41-2178">14</span><span class="sxs-lookup"><span data-stu-id="ffb41-2178">14</span></span> <br/> | <span data-ttu-id="ffb41-2179">1</span><span class="sxs-lookup"><span data-stu-id="ffb41-2179">1</span></span> <br/> | <span data-ttu-id="ffb41-2180">Выбор</span><span class="sxs-lookup"><span data-stu-id="ffb41-2180">Selection</span></span> <br/>           | <span data-ttu-id="ffb41-2181">Номер выбора COMDAT.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2181">The COMDAT selection number.</span></span> <span data-ttu-id="ffb41-2182">Это применимо, если раздел является разделом COMDAT.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2182">This is applicable if the section is a COMDAT section.</span></span> <br/>                                                                                                                         |
| <span data-ttu-id="ffb41-2183">15</span><span class="sxs-lookup"><span data-stu-id="ffb41-2183">15</span></span> <br/> | <span data-ttu-id="ffb41-2184">3</span><span class="sxs-lookup"><span data-stu-id="ffb41-2184">3</span></span> <br/> | <span data-ttu-id="ffb41-2185">Не используется</span><span class="sxs-lookup"><span data-stu-id="ffb41-2185">Unused</span></span> <br/>              |                                                                                                                                                                                                                         |



 

#### <a name="comdat-sections-object-only"></a><span data-ttu-id="ffb41-2186">Разделы COMDAT (только объект)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2186">COMDAT Sections (Object Only)</span></span>

<span data-ttu-id="ffb41-2187">Поле выбора в определении раздела Вспомогательное формат применяется, если раздел является разделом COMDAT.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2187">The Selection field of the section definition auxiliary format is applicable if the section is a COMDAT section.</span></span> <span data-ttu-id="ffb41-2188">Раздел COMDAT — это раздел, который может быть определен более чем одним файлом объекта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2188">A COMDAT section is a section that can be defined by more than one object file.</span></span> <span data-ttu-id="ffb41-2189">(Изображение \_ флага \_ \_ В поле "флаги раздела" заголовка раздела задано значение SCN LNK. Поле выбора определяет способ, которым компоновщик разрешает несколько определений разделов COMDAT.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2189">(The flag IMAGE\_SCN\_LNK\_COMDAT is set in the Section Flags field of the section header.) The Selection field determines the way in which the linker resolves the multiple definitions of COMDAT sections.</span></span>

<span data-ttu-id="ffb41-2190">Первый символ, имеющий значение раздела раздела COMDAT, должен быть символом раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2190">The first symbol that has the section value of the COMDAT section must be the section symbol.</span></span> <span data-ttu-id="ffb41-2191">Этот символ содержит имя раздела, поле значения равно нулю, номер раздела раздела COMDAT, поле типа, равное IMAGE \_ SYM \_ Type \_ null, поле класса, равное Image \_ SYM \_ Class \_ , и одну вспомогательную запись.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2191">This symbol has the name of the section, the Value field equal to zero, the section number of the COMDAT section in question, the Type field equal to IMAGE\_SYM\_TYPE\_NULL, the Class field equal to IMAGE\_SYM\_CLASS\_STATIC, and one auxiliary record.</span></span> <span data-ttu-id="ffb41-2192">Второй символ называется "символом COMDAT" и используется компоновщиком в сочетании с полем выбора.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2192">The second symbol is called "the COMDAT symbol" and is used by the linker in conjunction with the Selection field.</span></span>

<span data-ttu-id="ffb41-2193">Значения для поля выбора показаны ниже.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2193">The values for the Selection field are shown below.</span></span>



| <span data-ttu-id="ffb41-2194">Константа</span><span class="sxs-lookup"><span data-stu-id="ffb41-2194">Constant</span></span>                                        | <span data-ttu-id="ffb41-2195">Значение</span><span class="sxs-lookup"><span data-stu-id="ffb41-2195">Value</span></span>         | <span data-ttu-id="ffb41-2196">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-2196">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|-------------------------------------------------|---------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-2197">\_ \_ выделить \_ недублирующиеся изображения COMDAT</span><span class="sxs-lookup"><span data-stu-id="ffb41-2197">IMAGE\_COMDAT\_SELECT\_NODUPLICATES</span></span> <br/> | <span data-ttu-id="ffb41-2198">1</span><span class="sxs-lookup"><span data-stu-id="ffb41-2198">1</span></span> <br/> | <span data-ttu-id="ffb41-2199">Если этот символ уже определен, компоновщик выдает ошибку "умножить определенный символ".</span><span class="sxs-lookup"><span data-stu-id="ffb41-2199">If this symbol is already defined, the linker issues a "multiply defined symbol" error.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="ffb41-2200">\_COMDAT изображения \_ выберите \_ любой</span><span class="sxs-lookup"><span data-stu-id="ffb41-2200">IMAGE\_COMDAT\_SELECT\_ANY</span></span> <br/>          | <span data-ttu-id="ffb41-2201">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-2201">2</span></span> <br/> | <span data-ttu-id="ffb41-2202">Любой раздел, который определяет один и тот же символ COMDAT, может быть связан; остальные удаляются.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2202">Any section that defines the same COMDAT symbol can be linked; the rest are removed.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="ffb41-2203">\_Размер COMDAT \_ для \_ выбранного \_ изображения</span><span class="sxs-lookup"><span data-stu-id="ffb41-2203">IMAGE\_COMDAT\_SELECT\_SAME\_SIZE</span></span> <br/>   | <span data-ttu-id="ffb41-2204">3</span><span class="sxs-lookup"><span data-stu-id="ffb41-2204">3</span></span> <br/> | <span data-ttu-id="ffb41-2205">Компоновщик выбирает произвольный раздел из определений для этого символа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2205">The linker chooses an arbitrary section among the definitions for this symbol.</span></span> <span data-ttu-id="ffb41-2206">Если все определения имеют разные размеры, выдается ошибка "умножить определенный символ".</span><span class="sxs-lookup"><span data-stu-id="ffb41-2206">If all definitions are not the same size, a "multiply defined symbol" error is issued.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="ffb41-2207">\_COMDAT изображения \_ выберите \_ точное \_ совпадение</span><span class="sxs-lookup"><span data-stu-id="ffb41-2207">IMAGE\_COMDAT\_SELECT\_EXACT\_MATCH</span></span> <br/> | <span data-ttu-id="ffb41-2208">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2208">4</span></span> <br/> | <span data-ttu-id="ffb41-2209">Компоновщик выбирает произвольный раздел из определений для этого символа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2209">The linker chooses an arbitrary section among the definitions for this symbol.</span></span> <span data-ttu-id="ffb41-2210">Если все определения не совпадают в точности, выдается ошибка "умножить определенный символ".</span><span class="sxs-lookup"><span data-stu-id="ffb41-2210">If all definitions do not match exactly, a "multiply defined symbol" error is issued.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="ffb41-2211">ИЗОБРАЖЕНИЕ \_ COMDAT \_ Выбор \_ ассоциативного</span><span class="sxs-lookup"><span data-stu-id="ffb41-2211">IMAGE\_COMDAT\_SELECT\_ASSOCIATIVE</span></span> <br/>  | <span data-ttu-id="ffb41-2212">5</span><span class="sxs-lookup"><span data-stu-id="ffb41-2212">5</span></span> <br/> | <span data-ttu-id="ffb41-2213">Раздел связан, если связан другой раздел COMDAT.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2213">The section is linked if a certain other COMDAT section is linked.</span></span> <span data-ttu-id="ffb41-2214">Этот другой раздел указан в поле номер вспомогательной записи символа для определения раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2214">This other section is indicated by the Number field of the auxiliary symbol record for the section definition.</span></span> <span data-ttu-id="ffb41-2215">Этот параметр полезен для определений, которые содержат компоненты в нескольких разделах (например, код в одном и данных в другом), но все должны быть связаны или отменены как набор.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2215">This setting is useful for definitions that have components in multiple sections (for example, code in one and data in another), but where all must be linked or discarded as a set.</span></span> <span data-ttu-id="ffb41-2216">Другой раздел, с которым связан этот раздел, должен быть разделом COMDAT, который может быть другим ассоциативным разделом COMDAT.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2216">The other section this section is associated with must be a COMDAT section, which can be another associative COMDAT section.</span></span> <span data-ttu-id="ffb41-2217">Цепочка взаимосвязей разделов ассоциативной секции COMDAT не может сформировать цикл.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2217">An associative COMDAT section's section association chain can't form a loop.</span></span> <span data-ttu-id="ffb41-2218">Цепочка взаимосвязей разделов должна в конечном итоге перейти к разделу COMDAT, у которого нет COMDAT с ИЗОБРАЖЕНИЕм \_ \_ выберите \_ ассоциативный набор.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2218">The section association chain must eventually come to a COMDAT section that doesn't have IMAGE\_COMDAT\_SELECT\_ASSOCIATIVE set.</span></span> <br/> |
| <span data-ttu-id="ffb41-2219">\_Выбор изображения COMDAT \_ выделить \_ самый крупный</span><span class="sxs-lookup"><span data-stu-id="ffb41-2219">IMAGE\_COMDAT\_SELECT\_LARGEST</span></span> <br/>      | <span data-ttu-id="ffb41-2220">6</span><span class="sxs-lookup"><span data-stu-id="ffb41-2220">6</span></span> <br/> | <span data-ttu-id="ffb41-2221">Компоновщик выбирает самое большое определение из всех определений для этого символа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2221">The linker chooses the largest definition from among all of the definitions for this symbol.</span></span> <span data-ttu-id="ffb41-2222">Если этот размер имеет несколько определений, между ними выбирается произвольный вариант.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2222">If multiple definitions have this size, the choice between them is arbitrary.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                |



 

#### <a name="clr-token-definition-object-only"></a><span data-ttu-id="ffb41-2223">Определение токена CLR (только объект)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2223">CLR Token Definition (Object Only)</span></span>

<span data-ttu-id="ffb41-2224">Этот вспомогательный символ обычно следует за \_ \_ \_ токеном CLR класса Image SYM \_ .</span><span class="sxs-lookup"><span data-stu-id="ffb41-2224">This auxiliary symbol generally follows the IMAGE\_SYM\_CLASS\_CLR\_TOKEN.</span></span> <span data-ttu-id="ffb41-2225">Он используется для связывания токена с пространством имен таблицы символов COFF.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2225">It is used to associate a token with the COFF symbol table's namespace.</span></span>



| <span data-ttu-id="ffb41-2226">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-2226">Offset</span></span>        | <span data-ttu-id="ffb41-2227">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-2227">Size</span></span>           | <span data-ttu-id="ffb41-2228">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-2228">Field</span></span>                        | <span data-ttu-id="ffb41-2229">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-2229">Description</span></span>                                                                                |
|---------------|----------------|------------------------------|--------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-2230">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-2230">0</span></span> <br/> | <span data-ttu-id="ffb41-2231">1</span><span class="sxs-lookup"><span data-stu-id="ffb41-2231">1</span></span> <br/>  | <span data-ttu-id="ffb41-2232">баукстипе</span><span class="sxs-lookup"><span data-stu-id="ffb41-2232">bAuxType</span></span> <br/>         | <span data-ttu-id="ffb41-2233">Необходимо указать \_ добавочный \_ символ \_ \_ маркера типа символа \_ (1).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2233">Must be IMAGE\_AUX\_SYMBOL\_TYPE\_TOKEN\_DEF (1).</span></span> <br/>                              |
| <span data-ttu-id="ffb41-2234">1</span><span class="sxs-lookup"><span data-stu-id="ffb41-2234">1</span></span> <br/> | <span data-ttu-id="ffb41-2235">1</span><span class="sxs-lookup"><span data-stu-id="ffb41-2235">1</span></span> <br/>  | <span data-ttu-id="ffb41-2236">бресервед</span><span class="sxs-lookup"><span data-stu-id="ffb41-2236">bReserved</span></span> <br/>        | <span data-ttu-id="ffb41-2237">Зарезервировано, должно быть равно нулю.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2237">Reserved, must be zero.</span></span> <br/>                                                        |
| <span data-ttu-id="ffb41-2238">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-2238">2</span></span> <br/> | <span data-ttu-id="ffb41-2239">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2239">4</span></span> <br/>  | <span data-ttu-id="ffb41-2240">симболтаблеиндекс</span><span class="sxs-lookup"><span data-stu-id="ffb41-2240">SymbolTableIndex</span></span> <br/> | <span data-ttu-id="ffb41-2241">Индекс символа COFF, к которому относится это определение токена CLR.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2241">The symbol index of the COFF symbol to which this CLR token definition refers.</span></span> <br/> |
| <span data-ttu-id="ffb41-2242">6</span><span class="sxs-lookup"><span data-stu-id="ffb41-2242">6</span></span> <br/> | <span data-ttu-id="ffb41-2243">12</span><span class="sxs-lookup"><span data-stu-id="ffb41-2243">12</span></span> <br/> |                              | <span data-ttu-id="ffb41-2244">Зарезервировано, должно быть равно нулю.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2244">Reserved, must be zero.</span></span> <br/>                                                        |



 

### <a name="coff-string-table"></a><span data-ttu-id="ffb41-2245">Таблица строк COFF</span><span class="sxs-lookup"><span data-stu-id="ffb41-2245">COFF String Table</span></span>

<span data-ttu-id="ffb41-2246">Сразу после таблицы символов COFF следует таблица строк COFF.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2246">Immediately following the COFF symbol table is the COFF string table.</span></span> <span data-ttu-id="ffb41-2247">Расположение этой таблицы можно найти, используя адрес таблицы символов в заголовке COFF и добавив число символов, умноженное на размер символа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2247">The position of this table is found by taking the symbol table address in the COFF header and adding the number of symbols multiplied by the size of a symbol.</span></span>

<span data-ttu-id="ffb41-2248">В начале таблицы строк COFF содержится 4 байта, которые содержат общий размер (в байтах) оставшейся части таблицы строк.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2248">At the beginning of the COFF string table are 4 bytes that contain the total size (in bytes) of the rest of the string table.</span></span> <span data-ttu-id="ffb41-2249">Этот размер включает в себя поле Size, поэтому значение в этом расположении будет равно 4, если строки не были представлены.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2249">This size includes the size field itself, so that the value in this location would be 4 if no strings were present.</span></span>

<span data-ttu-id="ffb41-2250">После размера строки завершаются нулем, на которые указывают символы в таблице символов COFF.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2250">Following the size are null-terminated strings that are pointed to by symbols in the COFF symbol table.</span></span>

### <a name="the-attribute-certificate-table-image-only"></a><span data-ttu-id="ffb41-2251">Таблица атрибутов сертификата (только для изображений)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2251">The Attribute Certificate Table (Image Only)</span></span>

<span data-ttu-id="ffb41-2252">Сертификаты атрибутов можно связать с изображением, добавив таблицу сертификатов атрибута.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2252">Attribute certificates can be associated with an image by adding an attribute certificate table.</span></span> <span data-ttu-id="ffb41-2253">Таблица с атрибутом «сертификат» состоит из набора последовательных записей сертификата с куадворд, сопоставленных с учетом.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2253">The attribute certificate table is composed of a set of contiguous, quadword-aligned attribute certificate entries.</span></span> <span data-ttu-id="ffb41-2254">Для достижения этого выравнивания вставляется нулевое заполнение между исходным концом файла и началом таблицы сертификатов атрибута.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2254">Zero padding is inserted between the original end of the file and the beginning of the attribute certificate table to achieve this alignment.</span></span> <span data-ttu-id="ffb41-2255">Каждая запись сертификата атрибута содержит следующие поля.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2255">Each attribute certificate entry contains the following fields.</span></span>



| <span data-ttu-id="ffb41-2256">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-2256">Offset</span></span>       | <span data-ttu-id="ffb41-2257">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-2257">Size</span></span>                         | <span data-ttu-id="ffb41-2258">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-2258">Field</span></span>                       | <span data-ttu-id="ffb41-2259">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-2259">Description</span></span>                                                                                                |
|--------------|------------------------------|-----------------------------|------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-2260">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-2260">0</span></span><br/> | <span data-ttu-id="ffb41-2261">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2261">4</span></span><br/>                 | <span data-ttu-id="ffb41-2262">двленгс</span><span class="sxs-lookup"><span data-stu-id="ffb41-2262">dwLength</span></span><br/>         | <span data-ttu-id="ffb41-2263">Задает длину записи сертификата атрибута.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2263">Specifies the length of the attribute certificate entry.</span></span> <br/>                                       |
| <span data-ttu-id="ffb41-2264">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2264">4</span></span><br/> | <span data-ttu-id="ffb41-2265">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-2265">2</span></span><br/>                 | <span data-ttu-id="ffb41-2266">вревисион</span><span class="sxs-lookup"><span data-stu-id="ffb41-2266">wRevision</span></span><br/>        | <span data-ttu-id="ffb41-2267">Содержит номер версии сертификата.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2267">Contains the certificate version number.</span></span> <span data-ttu-id="ffb41-2268">Дополнительные сведения см. в следующем тексте.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2268">For details, see the following text.</span></span><br/>                   |
| <span data-ttu-id="ffb41-2269">6</span><span class="sxs-lookup"><span data-stu-id="ffb41-2269">6</span></span><br/> | <span data-ttu-id="ffb41-2270">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-2270">2</span></span><br/>                 | <span data-ttu-id="ffb41-2271">вцертификатетипе</span><span class="sxs-lookup"><span data-stu-id="ffb41-2271">wCertificateType</span></span><br/> | <span data-ttu-id="ffb41-2272">Указывает тип содержимого в Бцертификате.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2272">Specifies the type of content in bCertificate.</span></span> <span data-ttu-id="ffb41-2273">Дополнительные сведения см. в следующем тексте.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2273">For details, see the following text.</span></span><br/>             |
| <span data-ttu-id="ffb41-2274">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-2274">8</span></span><br/> | <span data-ttu-id="ffb41-2275">Справочные статьи</span><span class="sxs-lookup"><span data-stu-id="ffb41-2275">See the following</span></span><br/> | <span data-ttu-id="ffb41-2276">бцертификате</span><span class="sxs-lookup"><span data-stu-id="ffb41-2276">bCertificate</span></span><br/>     | <span data-ttu-id="ffb41-2277">Содержит сертификат, например подпись Authenticode.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2277">Contains a certificate, such as an Authenticode signature.</span></span> <span data-ttu-id="ffb41-2278">Дополнительные сведения см. в следующем тексте.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2278">For details, see the following text.</span></span><br/> |



 

<span data-ttu-id="ffb41-2279">Значение виртуального адреса из записи таблицы сертификатов в необязательном каталоге данных заголовков является смещением файла для первой записи сертификата атрибута.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2279">The virtual address value from the Certificate Table entry in the Optional Header Data Directory is a file offset to the first attribute certificate entry.</span></span> <span data-ttu-id="ffb41-2280">Доступ к следующим записям осуществляется путем перемещения Двленгс байт, округленных до 8 байт, с начала текущей записи сертификата атрибута.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2280">Subsequent entries are accessed by advancing that entry's dwLength bytes, rounded up to an 8-byte multiple, from the start of the current attribute certificate entry.</span></span> <span data-ttu-id="ffb41-2281">Это происходит до тех пор, пока сумма округленных значений Двленгс не будет равна значению размера из записи таблицы Certificates в необязательном каталоге данных заголовка.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2281">This continues until the sum of the rounded dwLength values equals the Size value from the Certificates Table entry in the Optional Header Data Directory.</span></span> <span data-ttu-id="ffb41-2282">Если сумма округленных значений Двленгс не равна значению размера, то либо таблица сертификата атрибута, либо поле Размер повреждены.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2282">If the sum of the rounded dwLength values does not equal the Size value, then either the attribute certificate table or the Size field is corrupted.</span></span>

<span data-ttu-id="ffb41-2283">Например, если запись в таблице сертификатов необязательного каталога данных содержит:</span><span class="sxs-lookup"><span data-stu-id="ffb41-2283">For example, if the Optional Header Data Directory's Certificate Table Entry contains:</span></span>


```C++
virtual address = 0x5000
size = 0x1000
```



<span data-ttu-id="ffb41-2284">Первый сертификат начинается со смещения 0x5000, начиная с начала файла на диске.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2284">The first certificate starts at offset 0x5000 from the start of the file on disk.</span></span> <span data-ttu-id="ffb41-2285">Чтобы просмотреть все записи сертификата атрибута, сделайте следующее:</span><span class="sxs-lookup"><span data-stu-id="ffb41-2285">To advance through all the attribute certificate entries:</span></span>

1.  <span data-ttu-id="ffb41-2286">Добавьте значение Двленгс первого атрибута сертификата в начальное смещение.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2286">Add the first attribute certificate's dwLength value to the starting offset.</span></span>
2.  <span data-ttu-id="ffb41-2287">Округлить значение шага 1 до ближайшего 8-байтового кратного, чтобы найти смещение второй записи сертификата атрибута.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2287">Round the value from step 1 up to the nearest 8-byte multiple to find the offset of the second attribute certificate entry.</span></span>
3.  <span data-ttu-id="ffb41-2288">Добавьте значение смещения из шага 2 во второе значение Двленгс записи сертификата атрибута и округляйте до ближайшей 8-байтовой кратности, чтобы определить смещение третьей записи сертификата атрибута.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2288">Add the offset value from step 2 to the second attribute certificate entry's dwLength value and round up to the nearest 8-byte multiple to determine the offset of the third attribute certificate entry.</span></span>
4.  <span data-ttu-id="ffb41-2289">Повторите шаг 3 для каждого последующего сертификата, пока вычисленное смещение не станет равным 0x6000 (0x5000 Start + 0x1000 общий размер), что означает, что вы проверили всю таблицу.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2289">Repeat step 3 for each successive certificate until the calculated offset equals 0x6000 (0x5000 start + 0x1000 total size), which indicates that you've walked the entire table.</span></span>

<span data-ttu-id="ffb41-2290">Кроме того, можно перечислить записи сертификата, вызвав функцию Win32 **имажеенумератецертификатес** в цикле.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2290">Alternatively, you can enumerate the certificate entries by calling the Win32 **ImageEnumerateCertificates** function in a loop.</span></span> <span data-ttu-id="ffb41-2291">Ссылку на страницу ссылки на функцию см. в разделе [References](#references).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2291">For a link to the function's reference page, see [References](#references).</span></span>

<span data-ttu-id="ffb41-2292">Элементы таблицы сертификатов атрибутов могут содержать любой тип сертификата, если запись имеет правильное значение Двленгс, уникальное значение Вревисион и уникальное значение Вцертификатетипе.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2292">Attribute certificate table entries can contain any certificate type, as long as the entry has the correct dwLength value, a unique wRevision value, and a unique wCertificateType value.</span></span> <span data-ttu-id="ffb41-2293">Наиболее распространенным типом записи таблицы сертификатов является \_ Структура сертификата Win, которая описана в винтруст. h и обсуждается в оставшейся части этого раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2293">The most common type of certificate table entry is a WIN\_CERTIFICATE structure, which is documented in Wintrust.h and discussed in the remainder of this section.</span></span>

<span data-ttu-id="ffb41-2294">Параметры для \_ члена Win Certificate **вревисион** (но не ограничиваются):</span><span class="sxs-lookup"><span data-stu-id="ffb41-2294">The options for the WIN\_CERTIFICATE **wRevision** member include (but are not limited to) the following.</span></span>



| <span data-ttu-id="ffb41-2295">Значение</span><span class="sxs-lookup"><span data-stu-id="ffb41-2295">Value</span></span>             | <span data-ttu-id="ffb41-2296">Имя</span><span class="sxs-lookup"><span data-stu-id="ffb41-2296">Name</span></span>                                 | <span data-ttu-id="ffb41-2297">Примечания</span><span class="sxs-lookup"><span data-stu-id="ffb41-2297">Notes</span></span>                                                                                                                                                 |
|-------------------|--------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-2298">0x0100</span><span class="sxs-lookup"><span data-stu-id="ffb41-2298">0x0100</span></span><br/> | <span data-ttu-id="ffb41-2299">\_Версия сертификата \_ Win \_ 1 \_ 0</span><span class="sxs-lookup"><span data-stu-id="ffb41-2299">WIN\_CERT\_REVISION\_1\_0</span></span><br/> | <span data-ttu-id="ffb41-2300">Версия 1, устаревшая версия \_ структуры сертификатов Win.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2300">Version 1, legacy version of the Win\_Certificate structure.</span></span> <span data-ttu-id="ffb41-2301">Он поддерживается только в целях проверки устаревших подписей Authenticode.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2301">It is supported only for purposes of verifying legacy Authenticode signatures</span></span><br/> |
| <span data-ttu-id="ffb41-2302">0x0200</span><span class="sxs-lookup"><span data-stu-id="ffb41-2302">0x0200</span></span><br/> | <span data-ttu-id="ffb41-2303">\_Версия сертификата \_ Win \_ 2 \_ 0</span><span class="sxs-lookup"><span data-stu-id="ffb41-2303">WIN\_CERT\_REVISION\_2\_0</span></span><br/> | <span data-ttu-id="ffb41-2304">Версия 2 — это текущая версия \_ структуры сертификата Win.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2304">Version 2 is the current version of the Win\_Certificate structure.</span></span> <br/>                                                                       |



 

<span data-ttu-id="ffb41-2305">Параметры для \_ члена Win Certificate **вцертификатетипе** включают (но не ограничиваются) элементы в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2305">The options for the WIN\_CERTIFICATE **wCertificateType** member include (but are not limited to) the items in the following table.</span></span> <span data-ttu-id="ffb41-2306">Обратите внимание, что некоторые значения в настоящее время не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2306">Note that some values are not currently supported.</span></span>



| <span data-ttu-id="ffb41-2307">Значение</span><span class="sxs-lookup"><span data-stu-id="ffb41-2307">Value</span></span>             | <span data-ttu-id="ffb41-2308">Имя</span><span class="sxs-lookup"><span data-stu-id="ffb41-2308">Name</span></span>                                           | <span data-ttu-id="ffb41-2309">Примечания</span><span class="sxs-lookup"><span data-stu-id="ffb41-2309">Notes</span></span>                                                                                   |
|-------------------|------------------------------------------------|-----------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-2310">0x0001</span><span class="sxs-lookup"><span data-stu-id="ffb41-2310">0x0001</span></span><br/> | <span data-ttu-id="ffb41-2311">\_Тип сертификата \_ Win \_ X509</span><span class="sxs-lookup"><span data-stu-id="ffb41-2311">WIN\_CERT\_TYPE\_X509</span></span> <br/>              | <span data-ttu-id="ffb41-2312">Бцертификате содержит сертификат X. 509</span><span class="sxs-lookup"><span data-stu-id="ffb41-2312">bCertificate contains an X.509 Certificate</span></span> <br/> <span data-ttu-id="ffb41-2313">Не поддерживается</span><span class="sxs-lookup"><span data-stu-id="ffb41-2313">Not Supported</span></span><br/>         |
| <span data-ttu-id="ffb41-2314">0x0002</span><span class="sxs-lookup"><span data-stu-id="ffb41-2314">0x0002</span></span><br/> | <span data-ttu-id="ffb41-2315">WIN \_ CERT \_ Type \_ \_ Data, подписанные PKCS \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-2315">WIN\_CERT\_TYPE\_PKCS\_SIGNED\_DATA</span></span><br/> | <span data-ttu-id="ffb41-2316">Бцертификате содержит \# структуру СИГНЕДДАТА PKCS 7</span><span class="sxs-lookup"><span data-stu-id="ffb41-2316">bCertificate contains a PKCS\#7 SignedData structure</span></span><br/>                         |
| <span data-ttu-id="ffb41-2317">0x0003</span><span class="sxs-lookup"><span data-stu-id="ffb41-2317">0x0003</span></span><br/> | <span data-ttu-id="ffb41-2318">\_Тип сертификата \_ Win \_ зарезервирован \_ 1</span><span class="sxs-lookup"><span data-stu-id="ffb41-2318">WIN\_CERT\_TYPE\_RESERVED\_1</span></span><br/>        | <span data-ttu-id="ffb41-2319">Зарезервировано</span><span class="sxs-lookup"><span data-stu-id="ffb41-2319">Reserved</span></span> <br/>                                                                    |
| <span data-ttu-id="ffb41-2320">0x0004</span><span class="sxs-lookup"><span data-stu-id="ffb41-2320">0x0004</span></span><br/> | <span data-ttu-id="ffb41-2321">\_тип сертификата \_ Win \_ \_ \_ подписанный стек TS</span><span class="sxs-lookup"><span data-stu-id="ffb41-2321">WIN\_CERT\_TYPE\_TS\_STACK\_SIGNED</span></span><br/>  | <span data-ttu-id="ffb41-2322">Подписывание сертификата для стека протокола сервера терминалов</span><span class="sxs-lookup"><span data-stu-id="ffb41-2322">Terminal Server Protocol Stack Certificate signing</span></span> <br/> <span data-ttu-id="ffb41-2323">Не поддерживается</span><span class="sxs-lookup"><span data-stu-id="ffb41-2323">Not Supported</span></span><br/> |



 

<span data-ttu-id="ffb41-2324">\_Элемент **бцертификате** структуры сертификата Win содержит массив байтов переменной длины с типом содержимого, заданным параметром **вцертификатетипе**.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2324">The WIN\_CERTIFICATE structure's **bCertificate** member contains a variable-length byte array with the content type specified by **wCertificateType**.</span></span> <span data-ttu-id="ffb41-2325">Тип, поддерживаемый Authenticode, — это \_ сертификат Win \_ \_ Data типа PKCS \_ \_ , \# Структура PKCS 7 **сигнеддата** .</span><span class="sxs-lookup"><span data-stu-id="ffb41-2325">The type supported by Authenticode is WIN\_CERT\_TYPE\_PKCS\_SIGNED\_DATA, a PKCS\#7 **SignedData** structure.</span></span> <span data-ttu-id="ffb41-2326">Дополнительные сведения о формате цифровых подписей Authenticode см. в статье [формат переносимого исполняемого файла Windows Authenticode](https://download.microsoft.com/download/9/c/5/9c5b2167-8017-4bae-9fde-d599bac8184a/Authenticode_PE.docx).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2326">For details on the Authenticode digital signature format, see [Windows Authenticode Portable Executable Signature Format](https://download.microsoft.com/download/9/c/5/9c5b2167-8017-4bae-9fde-d599bac8184a/Authenticode_PE.docx).</span></span>

<span data-ttu-id="ffb41-2327">Если содержимое **бцертификате** не заканчивается на границе куадворд, запись сертификата атрибута дополняется нулями от конца **бцертификате** до следующей куадворд границы.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2327">If the **bCertificate** content does not end on a quadword boundary, the attribute certificate entry is padded with zeros, from the end of **bCertificate** to the next quadword boundary.</span></span>

<span data-ttu-id="ffb41-2328">Значение **двленгс** — это длина окончательной \_ структуры сертификата Win, которая вычислена следующим образом:</span><span class="sxs-lookup"><span data-stu-id="ffb41-2328">The **dwLength** value is the length of the finalized WIN\_CERTIFICATE structure and is computed as:</span></span>

`dwLength = offsetof(WIN_CERTIFICATE, bCertificate) + (size of the variable-length binary array contained within bCertificate)`

<span data-ttu-id="ffb41-2329">Эта длина должна включать в себя размер любого заполнения, используемого для удовлетворения требования, которым каждая \_ Структура сертификата Win куадворд выровнена:</span><span class="sxs-lookup"><span data-stu-id="ffb41-2329">This length should include the size of any padding that is used to satisfy the requirement that each WIN\_CERTIFICATE structure is quadword aligned:</span></span>

` dwLength += (8 - (dwLength & 7)) & 7;`

<span data-ttu-id="ffb41-2330">**Размер таблицы сертификатов**, указанный в записи **таблицы Certificates** в [необязательных каталогах данных заголовков (только для изображений)](#optional-header-data-directories-image-only), включает заполнение.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2330">The **Certificate Table size**-specified in the **Certificates Table** entry in the [Optional Header Data Directories (Image Only)](#optional-header-data-directories-image-only)- includes the padding.</span></span>

<span data-ttu-id="ffb41-2331">Дополнительные сведения об использовании API ImageHlp для перечисления, добавления и удаления сертификатов из PE-файлов см. в разделе [функции ImageHlp](imagehlp-functions.md).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2331">For more information on using the ImageHlp API to enumerate, add, and remove certificates from PE Files, see [ImageHlp Functions](imagehlp-functions.md).</span></span>

#### <a name="certificate-data"></a><span data-ttu-id="ffb41-2332">Данные сертификата</span><span class="sxs-lookup"><span data-stu-id="ffb41-2332">Certificate Data</span></span>

<span data-ttu-id="ffb41-2333">Как упоминалось в предыдущем разделе, сертификаты в таблице атрибута Certificate могут содержать любой тип сертификата.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2333">As stated in the preceding section, the certificates in the attribute certificate table can contain any certificate type.</span></span> <span data-ttu-id="ffb41-2334">Сертификаты, обеспечивающие целостность PE-файла, могут включать хэш образа PE.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2334">Certificates that ensure a PE file's integrity may include a PE image hash.</span></span>

<span data-ttu-id="ffb41-2335">Хэш-код образа PE (или хэш файла) аналогичен контрольной сумме файла в том, что хэш-алгоритм создает дайджест сообщения, связанный с целостностью файла.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2335">A PE image hash (or file hash) is similar to a file checksum in that the hash algorithm produces a message digest that is related to the integrity of a file.</span></span> <span data-ttu-id="ffb41-2336">Однако контрольная сумма создается простым алгоритмом и используется в основном для определения того, поврежден ли блок памяти на диске, а хранящиеся в нем значения повреждаются.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2336">However, a checksum is produced by a simple algorithm and is used primarily to detect whether a block of memory on disk has gone bad and the values stored there have become corrupted.</span></span> <span data-ttu-id="ffb41-2337">Хэш файла аналогичен контрольной сумме в том, что он также обнаруживает повреждение файла.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2337">A file hash is similar to a checksum in that it also detects file corruption.</span></span> <span data-ttu-id="ffb41-2338">Однако, в отличие от большинства алгоритмов контрольной суммы, очень сложно изменить файл, не изменяя хэш файла из исходного неизмененного значения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2338">However, unlike most checksum algorithms, it is very difficult to modify a file without changing the file hash from its original unmodified value.</span></span> <span data-ttu-id="ffb41-2339">Таким образом, хэш файла можно использовать для обнаружения намеренных и даже незначительных изменений в файле, таких как вирусы, хакеры или троянские программы.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2339">A file hash can thus be used to detect intentional and even subtle modifications to a file, such as those introduced by viruses, hackers, or Trojan horse programs.</span></span>

<span data-ttu-id="ffb41-2340">При использовании в сертификате дайджест образа должен исключить определенные поля в образе PE, например контрольную сумму и запись таблицы сертификатов в необязательных каталогах данных заголовков.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2340">When included in a certificate, the image digest must exclude certain fields in the PE Image, such as the Checksum and Certificate Table entry in Optional Header Data Directories.</span></span> <span data-ttu-id="ffb41-2341">Это связано с тем, что действие добавления сертификата изменяет эти поля и приведет к вычислению другого хэш-значения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2341">This is because the act of adding a Certificate changes these fields and would cause a different hash value to be calculated.</span></span>

<span data-ttu-id="ffb41-2342">Функция Win32 **имажежетдижестстреам** предоставляет поток данных из целевого PE-файла для хэширования функций.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2342">The Win32 **ImageGetDigestStream** function provides a data stream from a target PE file with which to hash functions.</span></span> <span data-ttu-id="ffb41-2343">Этот поток данных остается единообразным при добавлении или удалении сертификатов из PE-файла.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2343">This data stream remains consistent when certificates are added to or removed from a PE file.</span></span> <span data-ttu-id="ffb41-2344">В зависимости от параметров, передаваемых в **имажежетдижестстреам**, другие данные из образа PE можно опустить при вычислении хэша.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2344">Based on the parameters that are passed to **ImageGetDigestStream**, other data from the PE image can be omitted from the hash computation.</span></span> <span data-ttu-id="ffb41-2345">Ссылку на страницу ссылки на функцию см. в разделе [References](#references).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2345">For a link to the function's reference page, see [References](#references).</span></span>

### <a name="delay-load-import-tables-image-only"></a><span data-ttu-id="ffb41-2346">Delay-Load импорт таблиц (только изображение)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2346">Delay-Load Import Tables (Image Only)</span></span>

<span data-ttu-id="ffb41-2347">Эти таблицы были добавлены в образ для поддержки единого механизма, который позволяет приложениям задержать загрузку библиотеки DLL до первого вызова этой библиотеки DLL.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2347">These tables were added to the image to support a uniform mechanism for applications to delay the loading of a DLL until the first call into that DLL.</span></span> <span data-ttu-id="ffb41-2348">Макет таблиц совпадает с разметкой традиционных таблиц импорта, описанных в разделе 6,4 раздела [иДата](#the-idata-section).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2348">The layout of the tables matches that of the traditional import tables that are described in section 6.4, [The .idata Section](#the-idata-section)."</span></span> <span data-ttu-id="ffb41-2349">Здесь обсуждаются только некоторые сведения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2349">Only a few details are discussed here.</span></span>

#### <a name="the-delay-load-directory-table"></a><span data-ttu-id="ffb41-2350">Таблица Delay-Load Directory</span><span class="sxs-lookup"><span data-stu-id="ffb41-2350">The Delay-Load Directory Table</span></span>

<span data-ttu-id="ffb41-2351">Таблица каталогов с отложенной загрузкой является аналогом таблицы Import Directory.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2351">The delay-load directory table is the counterpart to the import directory table.</span></span> <span data-ttu-id="ffb41-2352">Его можно получить с помощью записи дескриптора отложенного импорта в списке необязательные каталоги данных заголовков (смещение 200).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2352">It can be retrieved through the Delay Import Descriptor entry in the optional header data directories list (offset 200).</span></span> <span data-ttu-id="ffb41-2353">Таблица упорядочивается следующим образом:</span><span class="sxs-lookup"><span data-stu-id="ffb41-2353">The table is arranged as follows:</span></span>



| <span data-ttu-id="ffb41-2354">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-2354">Offset</span></span>         | <span data-ttu-id="ffb41-2355">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-2355">Size</span></span>          | <span data-ttu-id="ffb41-2356">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-2356">Field</span></span>                                  | <span data-ttu-id="ffb41-2357">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-2357">Description</span></span>                                                                                                                                                                                                                                                                                                                  |
|----------------|---------------|----------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-2358">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-2358">0</span></span> <br/>  | <span data-ttu-id="ffb41-2359">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2359">4</span></span> <br/> | <span data-ttu-id="ffb41-2360">Атрибуты</span><span class="sxs-lookup"><span data-stu-id="ffb41-2360">Attributes</span></span> <br/>                 | <span data-ttu-id="ffb41-2361">Должен равняться нулю.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2361">Must be zero.</span></span> <br/>                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="ffb41-2362">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2362">4</span></span> <br/>  | <span data-ttu-id="ffb41-2363">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2363">4</span></span> <br/> | <span data-ttu-id="ffb41-2364">Имя</span><span class="sxs-lookup"><span data-stu-id="ffb41-2364">Name</span></span> <br/>                       | <span data-ttu-id="ffb41-2365">RVA имени загружаемой библиотеки DLL.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2365">The RVA of the name of the DLL to be loaded.</span></span> <span data-ttu-id="ffb41-2366">Имя находится в разделе данных, доступном только для чтения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2366">The name resides in the read-only data section of the image.</span></span> <br/>                                                                                                                                                                                                        |
| <span data-ttu-id="ffb41-2367">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-2367">8</span></span> <br/>  | <span data-ttu-id="ffb41-2368">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2368">4</span></span> <br/> | <span data-ttu-id="ffb41-2369">Маркер модуля</span><span class="sxs-lookup"><span data-stu-id="ffb41-2369">Module Handle</span></span> <br/>              | <span data-ttu-id="ffb41-2370">RVA для маркера модуля (в разделе данных образа) библиотеки DLL, которая должна быть загружена с задержкой.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2370">The RVA of the module handle (in the data section of the image) of the DLL to be delay-loaded.</span></span> <span data-ttu-id="ffb41-2371">Он используется для хранения с помощью подпрограммы, предоставляемой для управления загрузкой задержек.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2371">It is used for storage by the routine that is supplied to manage delay-loading.</span></span> <br/>                                                                                                                                   |
| <span data-ttu-id="ffb41-2372">12</span><span class="sxs-lookup"><span data-stu-id="ffb41-2372">12</span></span> <br/> | <span data-ttu-id="ffb41-2373">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2373">4</span></span> <br/> | <span data-ttu-id="ffb41-2374">Таблица адресов задержки импорта</span><span class="sxs-lookup"><span data-stu-id="ffb41-2374">Delay Import Address Table</span></span> <br/> | <span data-ttu-id="ffb41-2375">RVA для таблицы адресов импорта с отложенной загрузкой.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2375">The RVA of the delay-load import address table.</span></span> <span data-ttu-id="ffb41-2376">Дополнительные сведения см. в разделе [Таблица адресов отложенного импорта (IAT)](#delay-import-address-table).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2376">For more information, see [Delay Import Address Table (IAT)](#delay-import-address-table).</span></span> <br/>                                                                                                                                                                       |
| <span data-ttu-id="ffb41-2377">16</span><span class="sxs-lookup"><span data-stu-id="ffb41-2377">16</span></span> <br/> | <span data-ttu-id="ffb41-2378">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2378">4</span></span> <br/> | <span data-ttu-id="ffb41-2379">Таблица имен отложенных импортов</span><span class="sxs-lookup"><span data-stu-id="ffb41-2379">Delay Import Name Table</span></span> <br/>    | <span data-ttu-id="ffb41-2380">RVA для таблицы с отложенной загрузкой имен, которая содержит имена импортов, которые может потребоваться загрузить.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2380">The RVA of the delay-load name table, which contains the names of the imports that might need to be loaded.</span></span> <span data-ttu-id="ffb41-2381">Соответствует макету таблицы имен импорта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2381">This matches the layout of the import name table.</span></span> <span data-ttu-id="ffb41-2382">Дополнительные сведения см. в разделе [Подсказка/имя таблицы](#hintname-table).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2382">For more information, see [Hint/Name Table](#hintname-table).</span></span><br/>                                                                                       |
| <span data-ttu-id="ffb41-2383">20</span><span class="sxs-lookup"><span data-stu-id="ffb41-2383">20</span></span> <br/> | <span data-ttu-id="ffb41-2384">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2384">4</span></span> <br/> | <span data-ttu-id="ffb41-2385">Таблица импорта привязанной задержки</span><span class="sxs-lookup"><span data-stu-id="ffb41-2385">Bound Delay Import Table</span></span> <br/>   | <span data-ttu-id="ffb41-2386">RVA связанной таблицы отложенной загрузки, если она существует.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2386">The RVA of the bound delay-load address table, if it exists.</span></span> <br/>                                                                                                                                                                                                                                                     |
| <span data-ttu-id="ffb41-2387">24</span><span class="sxs-lookup"><span data-stu-id="ffb41-2387">24</span></span> <br/> | <span data-ttu-id="ffb41-2388">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2388">4</span></span> <br/> | <span data-ttu-id="ffb41-2389">Таблица отложенных импортов</span><span class="sxs-lookup"><span data-stu-id="ffb41-2389">Unload Delay Import Table</span></span> <br/>  | <span data-ttu-id="ffb41-2390">RVA для таблицы адресов задержки загрузки, если он существует.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2390">The RVA of the unload delay-load address table, if it exists.</span></span> <span data-ttu-id="ffb41-2391">Это точная копия таблицы адресов отложенного импорта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2391">This is an exact copy of the delay import address table.</span></span> <span data-ttu-id="ffb41-2392">Если вызывающий объект выгружает библиотеку DLL, эта таблица должна быть скопирована обратно в таблицу адресов с отложенным импортом, чтобы последующие вызовы библиотеки DLL продолжали использовать механизм преобразователей правильно.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2392">If the caller unloads the DLL, this table should be copied back over the delay import address table so that subsequent calls to the DLL continue to use the thunking mechanism correctly.</span></span> <br/> |
| <span data-ttu-id="ffb41-2393">28</span><span class="sxs-lookup"><span data-stu-id="ffb41-2393">28</span></span> <br/> | <span data-ttu-id="ffb41-2394">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2394">4</span></span> <br/> | <span data-ttu-id="ffb41-2395">Метка времени</span><span class="sxs-lookup"><span data-stu-id="ffb41-2395">Time Stamp</span></span> <br/>                 | <span data-ttu-id="ffb41-2396">Метка времени библиотеки DLL, к которой привязан этот образ.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2396">The timestamp of the DLL to which this image has been bound.</span></span> <br/>                                                                                                                                                                                                                                                     |



 

<span data-ttu-id="ffb41-2397">Таблицы, на которые имеются ссылки в этой структуре данных, упорядочиваются и сортируются так же, как и для традиционных импортов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2397">The tables that are referenced in this data structure are organized and sorted just as their counterparts are for traditional imports.</span></span> <span data-ttu-id="ffb41-2398">Дополнительные сведения см. [в разделе. иДата](#the-idata-section).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2398">For details, see [The .idata Section](#the-idata-section).</span></span>

#### <a name="attributes"></a><span data-ttu-id="ffb41-2399">Атрибуты</span><span class="sxs-lookup"><span data-stu-id="ffb41-2399">Attributes</span></span>

<span data-ttu-id="ffb41-2400">Флаги атрибутов пока не определены.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2400">As yet, no attribute flags are defined.</span></span> <span data-ttu-id="ffb41-2401">Компоновщик задает для этого поля нулевое значение в изображении.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2401">The linker sets this field to zero in the image.</span></span> <span data-ttu-id="ffb41-2402">Это поле можно использовать для расширения записи путем указания наличия новых полей или для указания поведения вспомогательных функций задержки или выгрузки.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2402">This field can be used to extend the record by indicating the presence of new fields, or it can be used to indicate behaviors to the delay or unload helper functions.</span></span>

#### <a name="name"></a><span data-ttu-id="ffb41-2403">Имя</span><span class="sxs-lookup"><span data-stu-id="ffb41-2403">Name</span></span>

<span data-ttu-id="ffb41-2404">Имя библиотеки DLL, которая должна быть загружена с задержкой, находится в разделе данных образа, доступном только для чтения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2404">The name of the DLL to be delay-loaded resides in the read-only data section of the image.</span></span> <span data-ttu-id="ffb41-2405">Ссылка на него осуществляется с помощью поля szName.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2405">It is referenced through the szName field.</span></span>

#### <a name="module-handle"></a><span data-ttu-id="ffb41-2406">Маркер модуля</span><span class="sxs-lookup"><span data-stu-id="ffb41-2406">Module Handle</span></span>

<span data-ttu-id="ffb41-2407">Обработчик библиотеки DLL, который должен быть загружен с задержкой, находится в разделе данных изображения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2407">The handle of the DLL to be delay-loaded is in the data section of the image.</span></span> <span data-ttu-id="ffb41-2408">Поле фмод указывает на маркер.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2408">The phmod field points to the handle.</span></span> <span data-ttu-id="ffb41-2409">Указанный вспомогательный модуль загрузки с отложенной загрузкой использует это расположение для хранения маркера в загруженной библиотеке DLL.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2409">The supplied delay-load helper uses this location to store the handle to the loaded DLL.</span></span>

#### <a name="delay-import-address-table"></a><span data-ttu-id="ffb41-2410">Таблица адресов задержки импорта</span><span class="sxs-lookup"><span data-stu-id="ffb41-2410">Delay Import Address Table</span></span>

<span data-ttu-id="ffb41-2411">Ссылка на таблицу адресов импорта с задержкой (IAT) ссылается на дескриптор отложенного импорта через поле Пиат.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2411">The delay import address table (IAT) is referenced by the delay import descriptor through the pIAT field.</span></span> <span data-ttu-id="ffb41-2412">Вспомогательный модуль с отложенной загрузкой обновляет эти указатели с реальными точками входа, чтобы преобразовательы больше не в цикле вызова.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2412">The delay-load helper updates these pointers with the real entry points so that the thunks are no longer in the calling loop.</span></span> <span data-ttu-id="ffb41-2413">Доступ к указателям функций осуществляется с помощью выражения `pINT->u1.Function` .</span><span class="sxs-lookup"><span data-stu-id="ffb41-2413">The function pointers are accessed by using the expression `pINT->u1.Function`.</span></span>

#### <a name="delay-import-name-table"></a><span data-ttu-id="ffb41-2414">Таблица имен отложенных импортов</span><span class="sxs-lookup"><span data-stu-id="ffb41-2414">Delay Import Name Table</span></span>

<span data-ttu-id="ffb41-2415">Таблица имен отложенных импортов (INT) содержит имена импортов, которые могут потребовать загрузки.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2415">The delay import name table (INT) contains the names of the imports that might require loading.</span></span> <span data-ttu-id="ffb41-2416">Они упорядочиваются таким же образом, как и указатели функций в IAT.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2416">They are ordered in the same fashion as the function pointers in the IAT.</span></span> <span data-ttu-id="ffb41-2417">Они состоят из тех же структур, что и стандартное ЦЕЛОе число, и доступны с помощью выражения `pINT->u1.AddressOfData->Name[0]` .</span><span class="sxs-lookup"><span data-stu-id="ffb41-2417">They consist of the same structures as the standard INT and are accessed by using the expression `pINT->u1.AddressOfData->Name[0]`.</span></span>

#### <a name="delay-bound-import-address-table-and-time-stamp"></a><span data-ttu-id="ffb41-2418">Откладывание связанной таблицы адресов импорта и отметок времени</span><span class="sxs-lookup"><span data-stu-id="ffb41-2418">Delay Bound Import Address Table and Time Stamp</span></span>

<span data-ttu-id="ffb41-2419">Таблица адресов импорта с отложенной загрузкой (Биат) — это необязательная таблица \_ \_ элементов данных преобразователя изображений, которая используется вместе с полем timestamp в таблице каталогов с задержкой загрузки по этапу привязки после обработки.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2419">The delay bound import address table (BIAT) is an optional table of IMAGE\_THUNK\_DATA items that is used along with the timestamp field of the delay-load directory table by a post-process binding phase.</span></span>

#### <a name="delay-unload-import-address-table"></a><span data-ttu-id="ffb41-2420">Таблица адресов импорта отложенной выгрузки</span><span class="sxs-lookup"><span data-stu-id="ffb41-2420">Delay Unload Import Address Table</span></span>

<span data-ttu-id="ffb41-2421">Таблица адресов импорта с отложенной выгрузкой (УИАТ) — это необязательная таблица \_ \_ элементов данных преобразователя изображений, которую код выгрузки использует для выполнения запроса на выгрузку.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2421">The delay unload import address table (UIAT) is an optional table of IMAGE\_THUNK\_DATA items that the unload code uses to handle an explicit unload request.</span></span> <span data-ttu-id="ffb41-2422">Он состоит из инициализированных данных в разделе только для чтения, который представляет собой точную копию исходной IAT, которая ссылается на код на преобразователи с отложенной загрузкой.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2422">It consists of initialized data in the read-only section that is an exact copy of the original IAT that referred the code to the delay-load thunks.</span></span> <span data-ttu-id="ffb41-2423">В запросе выгрузки библиотека может быть освобождена, \* фмод очищена и уиат, записанная на IAT, чтобы восстановить все в состояние предварительной загрузки.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2423">On the unload request, the library can be freed, the \*phmod cleared, and the UIAT written over the IAT to restore everything to its preload state.</span></span>

## <a name="special-sections"></a><span data-ttu-id="ffb41-2424">Специальные разделы</span><span class="sxs-lookup"><span data-stu-id="ffb41-2424">Special Sections</span></span>

- [<span data-ttu-id="ffb41-2425">Раздел. Debug</span><span class="sxs-lookup"><span data-stu-id="ffb41-2425">The .debug Section</span></span>](#the-debug-section)
  - [<span data-ttu-id="ffb41-2426">Каталог отладки (только изображение)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2426">Debug Directory (Image Only)</span></span>](#debug-directory-image-only)
  - [<span data-ttu-id="ffb41-2427">Тип отладки</span><span class="sxs-lookup"><span data-stu-id="ffb41-2427">Debug Type</span></span>](#debug-type)
  - [<span data-ttu-id="ffb41-2428">. Debug $ F (только объект)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2428">.debug$F (Object Only)</span></span>](#debugf-object-only)
  - [<span data-ttu-id="ffb41-2429">. Отладка $ S (только объект)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2429">.debug$S (Object Only)</span></span>](#debugs-object-only)
  - [<span data-ttu-id="ffb41-2430">. Debug $ P (только объект)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2430">.debug$P (Object Only)</span></span>](#debugp-object-only)
  - [<span data-ttu-id="ffb41-2431">. debug $ T (только объект)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2431">.debug$T (Object Only)</span></span>](#debugt-object-only)
  - [<span data-ttu-id="ffb41-2432">Поддержка компоновщика для отладочной информации Майкрософт</span><span class="sxs-lookup"><span data-stu-id="ffb41-2432">Linker Support for Microsoft Debug Information</span></span>](#linker-support-for-microsoft-debug-information)
- [<span data-ttu-id="ffb41-2433">Раздел. drectve (только объект)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2433">The .drectve Section (Object Only)</span></span>](#the-drectve-section-object-only)
- [<span data-ttu-id="ffb41-2434">Раздел. едата (только изображение)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2434">The .edata Section (Image Only)</span></span>](#the-edata-section-image-only)
  - [<span data-ttu-id="ffb41-2435">Экспорт таблицы каталога</span><span class="sxs-lookup"><span data-stu-id="ffb41-2435">Export Directory Table</span></span>](#export-directory-table)
  - [<span data-ttu-id="ffb41-2436">Экспорт таблицы адресов</span><span class="sxs-lookup"><span data-stu-id="ffb41-2436">Export Address Table</span></span>](#export-address-table)
  - [<span data-ttu-id="ffb41-2437">Таблица указателей имени экспорта</span><span class="sxs-lookup"><span data-stu-id="ffb41-2437">Export Name Pointer Table</span></span>](#export-name-pointer-table)
  - [<span data-ttu-id="ffb41-2438">Экспортировать Порядковую таблицу</span><span class="sxs-lookup"><span data-stu-id="ffb41-2438">Export Ordinal Table</span></span>](#export-ordinal-table)
  - [<span data-ttu-id="ffb41-2439">Экспорт таблицы имен</span><span class="sxs-lookup"><span data-stu-id="ffb41-2439">Export Name Table</span></span>](#export-name-table)
- [<span data-ttu-id="ffb41-2440">Раздел. иДата</span><span class="sxs-lookup"><span data-stu-id="ffb41-2440">The .idata Section</span></span>](#the-idata-section)
  - [<span data-ttu-id="ffb41-2441">Импорт таблицы каталога</span><span class="sxs-lookup"><span data-stu-id="ffb41-2441">Import Directory Table</span></span>](#import-directory-table)
  - [<span data-ttu-id="ffb41-2442">Импорт таблицы подстановки</span><span class="sxs-lookup"><span data-stu-id="ffb41-2442">Import Lookup Table</span></span>](#import-lookup-table)
  - [<span data-ttu-id="ffb41-2443">Указание или таблица имен</span><span class="sxs-lookup"><span data-stu-id="ffb41-2443">Hint/Name Table</span></span>](#hintname-table)
  - [<span data-ttu-id="ffb41-2444">Импорт таблицы адресов</span><span class="sxs-lookup"><span data-stu-id="ffb41-2444">Import Address Table</span></span>](#delay-import-address-table)
- [<span data-ttu-id="ffb41-2445">Раздел pdata</span><span class="sxs-lookup"><span data-stu-id="ffb41-2445">The .pdata Section</span></span>](#the-pdata-section)
- [<span data-ttu-id="ffb41-2446">Раздел. reloc (только изображение)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2446">The .reloc Section (Image Only)</span></span>](#the-reloc-section-image-only)
  - [<span data-ttu-id="ffb41-2447">Базовый блок перемещения</span><span class="sxs-lookup"><span data-stu-id="ffb41-2447">Base Relocation Block</span></span>](#base-relocation-block)
  - [<span data-ttu-id="ffb41-2448">Базовые типы перемещений</span><span class="sxs-lookup"><span data-stu-id="ffb41-2448">Base Relocation Types</span></span>](#base-relocation-types)
- [<span data-ttu-id="ffb41-2449">Раздел. TLS</span><span class="sxs-lookup"><span data-stu-id="ffb41-2449">The .tls Section</span></span>](#the-tls-section)
  - [<span data-ttu-id="ffb41-2450">Каталог TLS</span><span class="sxs-lookup"><span data-stu-id="ffb41-2450">The TLS Directory</span></span>](#the-tls-directory)
  - [<span data-ttu-id="ffb41-2451">Функции обратного вызова TLS</span><span class="sxs-lookup"><span data-stu-id="ffb41-2451">TLS Callback Functions</span></span>](#tls-callback-functions)
- [<span data-ttu-id="ffb41-2452">Структура конфигурации загрузки (только для образа)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2452">The Load Configuration Structure (Image Only)</span></span>](#the-load-configuration-structure-image-only)
  - [<span data-ttu-id="ffb41-2453">Загрузить каталог конфигурации</span><span class="sxs-lookup"><span data-stu-id="ffb41-2453">Load Configuration Directory</span></span>](#load-configuration-directory)
  - [<span data-ttu-id="ffb41-2454">Загрузить макет конфигурации</span><span class="sxs-lookup"><span data-stu-id="ffb41-2454">Load Configuration Layout</span></span>](#load-configuration-layout)
- [<span data-ttu-id="ffb41-2455">Раздел. rsrc</span><span class="sxs-lookup"><span data-stu-id="ffb41-2455">The .rsrc Section</span></span>](#the-rsrc-section)
  - [<span data-ttu-id="ffb41-2456">Таблица каталога ресурсов</span><span class="sxs-lookup"><span data-stu-id="ffb41-2456">Resource Directory Table</span></span>](#resource-directory-table)
  - [<span data-ttu-id="ffb41-2457">Записи каталога ресурсов</span><span class="sxs-lookup"><span data-stu-id="ffb41-2457">Resource Directory Entries</span></span>](#resource-directory-entries)
  - [<span data-ttu-id="ffb41-2458">Строка каталога ресурсов</span><span class="sxs-lookup"><span data-stu-id="ffb41-2458">Resource Directory String</span></span>](#resource-directory-string)
  - [<span data-ttu-id="ffb41-2459">Ввод данных ресурса</span><span class="sxs-lookup"><span data-stu-id="ffb41-2459">Resource Data Entry</span></span>](#resource-data-entry)
- [<span data-ttu-id="ffb41-2460">Раздел. кормета (только объект)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2460">The .cormeta Section (Object Only)</span></span>](#the-cormeta-section-object-only)
- [<span data-ttu-id="ffb41-2461">Раздел. сксдата</span><span class="sxs-lookup"><span data-stu-id="ffb41-2461">The .sxdata Section</span></span>](#the-sxdata-section)

<span data-ttu-id="ffb41-2462">Типичные разделы COFF содержат код или данные, которые обрабатываются компоновщиками и загрузчиками Microsoft Win32 без специальных знаний о содержимом раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2462">Typical COFF sections contain code or data that linkers and Microsoft Win32 loaders process without special knowledge of the section contents.</span></span> <span data-ttu-id="ffb41-2463">Содержимое относится только к связанному или выполняемому приложению.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2463">The contents are relevant only to the application that is being linked or executed.</span></span>

<span data-ttu-id="ffb41-2464">Однако некоторые разделы COFF имеют особое значение при обнаружении в объектных файлах или файлах изображений.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2464">However, some COFF sections have special meanings when found in object files or image files.</span></span> <span data-ttu-id="ffb41-2465">Средства и загрузчики распознают эти разделы, так как они имеют специальные флаги, заданные в заголовке раздела, так как специальные расположения в необязательном заголовке изображения указывают на них или потому, что само имя раздела указывает на специальную функцию раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2465">Tools and loaders recognize these sections because they have special flags set in the section header, because special locations in the image optional header point to them, or because the section name itself indicates a special function of the section.</span></span> <span data-ttu-id="ffb41-2466">(Даже если само имя раздела не указывает на специальную функцию раздела, имя раздела определяется по соглашению, поэтому авторы этой спецификации могут ссылаться на имя раздела во всех случаях).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2466">(Even if the section name itself does not indicate a special function of the section, the section name is dictated by convention, so the authors of this specification can refer to a section name in all cases.)</span></span>

<span data-ttu-id="ffb41-2467">Зарезервированные разделы и их атрибуты описаны в таблице ниже, за которой следуют подробные описания типов разделов, которые сохраняются в исполняемых файлах, и типы разделов, содержащие метаданные для расширений.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2467">The reserved sections and their attributes are described in the table below, followed by detailed descriptions for the section types that are persisted into executables and the section types that contain metadata for extensions.</span></span>



| <span data-ttu-id="ffb41-2468">Имя раздела</span><span class="sxs-lookup"><span data-stu-id="ffb41-2468">Section Name</span></span>          | <span data-ttu-id="ffb41-2469">Содержимое</span><span class="sxs-lookup"><span data-stu-id="ffb41-2469">Content</span></span>                                                                                                                                                                  | <span data-ttu-id="ffb41-2470">Характеристики</span><span class="sxs-lookup"><span data-stu-id="ffb41-2470">Characteristics</span></span>                                                                                                                                                                                                                                                                                                                                                                                   |
|-----------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-2471">. BSS</span><span class="sxs-lookup"><span data-stu-id="ffb41-2471">.bss</span></span> <br/>      | <span data-ttu-id="ffb41-2472">Неинициализированные данные (бесплатный формат)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2472">Uninitialized data (free format)</span></span> <br/>                                                                                                                             | <span data-ttu-id="ffb41-2473">ОБРАЗ уведомления SCN \_ \_ CNT \_ неинициализированный \_ образ данных уведомления \| \_ SCN \_ \_ считывания \| образа \_ SCN \_ \_ запись</span><span class="sxs-lookup"><span data-stu-id="ffb41-2473">IMAGE\_SCN\_CNT\_UNINITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ \| IMAGE\_SCN\_MEM\_WRITE</span></span> <br/>                                                                                                                                                                                                                                                                                               |
| <span data-ttu-id="ffb41-2474">. кормета</span><span class="sxs-lookup"><span data-stu-id="ffb41-2474">.cormeta</span></span> <br/>  | <span data-ttu-id="ffb41-2475">Метаданные среды CLR, указывающие, что объектный файл содержит управляемый код</span><span class="sxs-lookup"><span data-stu-id="ffb41-2475">CLR metadata that indicates that the object file contains managed code</span></span> <br/>                                                                                       | <span data-ttu-id="ffb41-2476">сведения о сообразе \_ SCN \_ LNK \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-2476">IMAGE\_SCN\_LNK\_INFO</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="ffb41-2477">. Data</span><span class="sxs-lookup"><span data-stu-id="ffb41-2477">.data</span></span> <br/>     | <span data-ttu-id="ffb41-2478">Инициализированные данные (бесплатный формат)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2478">Initialized data (free format)</span></span> <br/>                                                                                                                               | <span data-ttu-id="ffb41-2479">ОБРАЗ \_ \_ CNT \_ инициализированный \_ образ данных \| SCN \_ \_ mem \_ Reading \| image \_ SCN \_ \_ Write</span><span class="sxs-lookup"><span data-stu-id="ffb41-2479">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ \| IMAGE\_SCN\_MEM\_WRITE</span></span> <br/>                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="ffb41-2480">. Debug $ F</span><span class="sxs-lookup"><span data-stu-id="ffb41-2480">.debug$F</span></span> <br/>  | <span data-ttu-id="ffb41-2481">Созданная информация об отладке FPO (только объект, архитектура x86 и теперь устарела)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2481">Generated FPO debug information (object only, x86 architecture only, and now obsolete)</span></span> <br/>                                                                       | <span data-ttu-id="ffb41-2482">ОБРАЗ уведомления о \_ \_ \_ инициализированном \_ образе CNT данных уведомления \| \_ SCN \_ \_ считывания \| образа уведомления \_ SCN чтения \_ \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-2482">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ \| IMAGE\_SCN\_MEM\_DISCARDABLE</span></span> <br/>                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="ffb41-2483">. Debug $ P</span><span class="sxs-lookup"><span data-stu-id="ffb41-2483">.debug$P</span></span> <br/>  | <span data-ttu-id="ffb41-2484">Предкомпилированные типы отладки (только объект)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2484">Precompiled debug types (object only)</span></span> <br/>                                                                                                                        | <span data-ttu-id="ffb41-2485">ОБРАЗ уведомления о \_ \_ \_ инициализированном \_ образе CNT данных уведомления \| \_ SCN \_ \_ считывания \| образа уведомления \_ SCN чтения \_ \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-2485">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ \| IMAGE\_SCN\_MEM\_DISCARDABLE</span></span> <br/>                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="ffb41-2486">. Отладка $ S</span><span class="sxs-lookup"><span data-stu-id="ffb41-2486">.debug$S</span></span> <br/>  | <span data-ttu-id="ffb41-2487">Отладочные символы (только для объектов)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2487">Debug symbols (object only)</span></span> <br/>                                                                                                                                  | <span data-ttu-id="ffb41-2488">ОБРАЗ уведомления о \_ \_ \_ инициализированном \_ образе CNT данных уведомления \| \_ SCN \_ \_ считывания \| образа уведомления \_ SCN чтения \_ \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-2488">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ \| IMAGE\_SCN\_MEM\_DISCARDABLE</span></span> <br/>                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="ffb41-2489">. debug $ T</span><span class="sxs-lookup"><span data-stu-id="ffb41-2489">.debug$T</span></span> <br/>  | <span data-ttu-id="ffb41-2490">Типы отладки (только объект)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2490">Debug types (object only)</span></span> <br/>                                                                                                                                    | <span data-ttu-id="ffb41-2491">ОБРАЗ уведомления о \_ \_ \_ инициализированном \_ образе CNT данных уведомления \| \_ SCN \_ \_ считывания \| образа уведомления \_ SCN чтения \_ \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-2491">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ \| IMAGE\_SCN\_MEM\_DISCARDABLE</span></span> <br/>                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="ffb41-2492">. дрективе</span><span class="sxs-lookup"><span data-stu-id="ffb41-2492">.drective</span></span> <br/> | <span data-ttu-id="ffb41-2493">Параметры компоновщика</span><span class="sxs-lookup"><span data-stu-id="ffb41-2493">Linker options</span></span> <br/>                                                                                                                                               | <span data-ttu-id="ffb41-2494">сведения о сообразе \_ SCN \_ LNK \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-2494">IMAGE\_SCN\_LNK\_INFO</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="ffb41-2495">. едата</span><span class="sxs-lookup"><span data-stu-id="ffb41-2495">.edata</span></span> <br/>    | <span data-ttu-id="ffb41-2496">Экспорт таблиц</span><span class="sxs-lookup"><span data-stu-id="ffb41-2496">Export tables</span></span> <br/>                                                                                                                                                | <span data-ttu-id="ffb41-2497">ОБРАЗ \_ \_ CNT \_ инициализированных \_ данных о \| \_ \_ \_ считывании образа уведомления SCN</span><span class="sxs-lookup"><span data-stu-id="ffb41-2497">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ</span></span> <br/>                                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="ffb41-2498">. иДата</span><span class="sxs-lookup"><span data-stu-id="ffb41-2498">.idata</span></span> <br/>    | <span data-ttu-id="ffb41-2499">Импорт таблиц</span><span class="sxs-lookup"><span data-stu-id="ffb41-2499">Import tables</span></span> <br/>                                                                                                                                                | <span data-ttu-id="ffb41-2500">ОБРАЗ \_ \_ CNT \_ инициализированный \_ образ данных \| SCN \_ \_ mem \_ Reading \| image \_ SCN \_ \_ Write</span><span class="sxs-lookup"><span data-stu-id="ffb41-2500">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ \| IMAGE\_SCN\_MEM\_WRITE</span></span> <br/>                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="ffb41-2501">. IDLSYM</span><span class="sxs-lookup"><span data-stu-id="ffb41-2501">.idlsym</span></span> <br/>   | <span data-ttu-id="ffb41-2502">Включает в себя зарегистрированный SEH (только изображение) для поддержки атрибутов IDL.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2502">Includes registered SEH (image only) to support IDL attributes.</span></span> <span data-ttu-id="ffb41-2503">Дополнительные сведения см. в разделе «атрибуты IDL» в разделе « [ссылки](#references) » в конце этого раздела.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2503">For information, see "IDL Attributes" in [References](#references) at the end of this topic.</span></span> <br/> | <span data-ttu-id="ffb41-2504">сведения о сообразе \_ SCN \_ LNK \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-2504">IMAGE\_SCN\_LNK\_INFO</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="ffb41-2505">. pdata</span><span class="sxs-lookup"><span data-stu-id="ffb41-2505">.pdata</span></span> <br/>    | <span data-ttu-id="ffb41-2506">Сведения об исключении</span><span class="sxs-lookup"><span data-stu-id="ffb41-2506">Exception information</span></span> <br/>                                                                                                                                        | <span data-ttu-id="ffb41-2507">ОБРАЗ \_ \_ CNT \_ инициализированных \_ данных о \| \_ \_ \_ считывании образа уведомления SCN</span><span class="sxs-lookup"><span data-stu-id="ffb41-2507">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ</span></span> <br/>                                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="ffb41-2508">. rdata</span><span class="sxs-lookup"><span data-stu-id="ffb41-2508">.rdata</span></span> <br/>    | <span data-ttu-id="ffb41-2509">Инициализированные данные только для чтения</span><span class="sxs-lookup"><span data-stu-id="ffb41-2509">Read-only initialized data</span></span> <br/>                                                                                                                                   | <span data-ttu-id="ffb41-2510">ОБРАЗ \_ \_ CNT \_ инициализированных \_ данных о \| \_ \_ \_ считывании образа уведомления SCN</span><span class="sxs-lookup"><span data-stu-id="ffb41-2510">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ</span></span> <br/>                                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="ffb41-2511">. reloc</span><span class="sxs-lookup"><span data-stu-id="ffb41-2511">.reloc</span></span> <br/>    | <span data-ttu-id="ffb41-2512">Перемещение изображений</span><span class="sxs-lookup"><span data-stu-id="ffb41-2512">Image relocations</span></span> <br/>                                                                                                                                            | <span data-ttu-id="ffb41-2513">ОБРАЗ уведомления о \_ \_ \_ инициализированном \_ образе CNT данных уведомления \| \_ SCN \_ \_ считывания \| образа уведомления \_ SCN чтения \_ \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-2513">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ \| IMAGE\_SCN\_MEM\_DISCARDABLE</span></span> <br/>                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="ffb41-2514">. rsrc</span><span class="sxs-lookup"><span data-stu-id="ffb41-2514">.rsrc</span></span> <br/>     | <span data-ttu-id="ffb41-2515">Каталог ресурсов</span><span class="sxs-lookup"><span data-stu-id="ffb41-2515">Resource directory</span></span> <br/>                                                                                                                                           | <span data-ttu-id="ffb41-2516">ОБРАЗ \_ \_ CNT \_ инициализированных \_ данных о \| \_ \_ \_ считывании образа уведомления SCN</span><span class="sxs-lookup"><span data-stu-id="ffb41-2516">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ</span></span> <br/>                                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="ffb41-2517">. SBSS</span><span class="sxs-lookup"><span data-stu-id="ffb41-2517">.sbss</span></span> <br/>     | <span data-ttu-id="ffb41-2518">GP — относительные неинициализированные данные (бесплатный формат)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2518">GP-relative uninitialized data (free format)</span></span> <br/>                                                                                                                 | <span data-ttu-id="ffb41-2519">ОБРАЗ \_ SCN \_ CNT \_ uninitialed \_ Data \| уведомления \_ SCN \_ \_ считывания \| образа \_ уведомления \_ SCN \_ запись \| образа \_ SCN \_ гпрел \_ \_ . флаг уведомления SCN гпрел должен быть установлен только для архитектур IA64. Этот флаг является недопустимым для других архитектур.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2519">IMAGE\_SCN\_CNT\_UNINITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ \| IMAGE\_SCN\_MEM\_WRITE \| IMAGE \_SCN\_GPREL The IMAGE\_SCN\_GPREL flag should be set for IA64 architectures only; this flag is not valid for other architectures.</span></span> <span data-ttu-id="ffb41-2520">Флаг уведомления \_ SCN \_ гпрел предназначен только для объектных файлов; если этот раздел отображается в файле изображения, то \_ флаг уведомления SCN \_ гпрел не должен быть установлен.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2520">The IMAGE\_SCN\_GPREL flag is for object files only; when this section type appears in an image file, the IMAGE\_SCN\_GPREL flag must not be set.</span></span> <br/> |
| <span data-ttu-id="ffb41-2521">. sdata</span><span class="sxs-lookup"><span data-stu-id="ffb41-2521">.sdata</span></span> <br/>    | <span data-ttu-id="ffb41-2522">GP — инициализированные данные (бесплатный формат)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2522">GP-relative initialized data (free format)</span></span> <br/>                                                                                                                   | <span data-ttu-id="ffb41-2523">ОБРАЗ уведомления SCN \_ \_ CNT \_ инициализированные \_ данные уведомления \| \_ SCN \_ \_ считывания \| образа уведомления \_ SCN запись образа уведомления о \_ \_ \| \_ \_ гпрел \_ \_ . флаг уведомления SCN гпрел должен быть установлен только для архитектур IA64. Этот флаг является недопустимым для других архитектур.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2523">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ \| IMAGE\_SCN\_MEM\_WRITE \| IMAGE \_SCN\_GPREL The IMAGE\_SCN\_GPREL flag should be set for IA64 architectures only; this flag is not valid for other architectures.</span></span> <span data-ttu-id="ffb41-2524">Флаг уведомления \_ SCN \_ гпрел предназначен только для объектных файлов; если этот раздел отображается в файле изображения, то \_ флаг уведомления SCN \_ гпрел не должен быть установлен.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2524">The IMAGE\_SCN\_GPREL flag is for object files only; when this section type appears in an image file, the IMAGE\_SCN\_GPREL flag must not be set.</span></span> <br/>   |
| <span data-ttu-id="ffb41-2525">. срдата</span><span class="sxs-lookup"><span data-stu-id="ffb41-2525">.srdata</span></span> <br/>   | <span data-ttu-id="ffb41-2526">GP — относительные данные только для чтения (бесплатный формат)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2526">GP-relative read-only data (free format)</span></span> <br/>                                                                                                                     | <span data-ttu-id="ffb41-2527">ОБРАЗ \_ SCN \_ CNT \_ инициализированные \_ данные уведомления уведомления \| \_ SCN \_ \_ Чтение \| образа \_ SCN \_ гпрел \_ \_ . флаг уведомления SCN гпрел должен быть установлен только для архитектур IA64. Этот флаг является недопустимым для других архитектур.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2527">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ \| IMAGE \_SCN\_GPREL The IMAGE\_SCN\_GPREL flag should be set for IA64 architectures only; this flag is not valid for other architectures.</span></span> <span data-ttu-id="ffb41-2528">Флаг уведомления \_ SCN \_ гпрел предназначен только для объектных файлов; если этот раздел отображается в файле изображения, то \_ флаг уведомления SCN \_ гпрел не должен быть установлен.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2528">The IMAGE\_SCN\_GPREL flag is for object files only; when this section type appears in an image file, the IMAGE\_SCN\_GPREL flag must not be set.</span></span> <br/>                             |
| <span data-ttu-id="ffb41-2529">. сксдата</span><span class="sxs-lookup"><span data-stu-id="ffb41-2529">.sxdata</span></span> <br/>   | <span data-ttu-id="ffb41-2530">Зарегистрированные данные обработчика исключений (бесплатный формат и только x86/Object)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2530">Registered exception handler data (free format and x86/object only)</span></span> <br/>                                                                                          | <span data-ttu-id="ffb41-2531">ИЗОБРАЖЕНИЕ \_ SCN \_ LNK \_ info содержит индекс символа каждого обработчика исключений, на который ссылается код в этом файле объекта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2531">IMAGE\_SCN\_LNK\_INFO Contains the symbol index of each of the exception handlers being referred to by the code in that object file.</span></span> <span data-ttu-id="ffb41-2532">Символ может быть символом UNDEF или, определенным в этом модуле.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2532">The symbol can be for an UNDEF symbol or one that is defined in that module.</span></span> <br/>                                                                                                                                                                     |
| <span data-ttu-id="ffb41-2533">.text</span><span class="sxs-lookup"><span data-stu-id="ffb41-2533">.text</span></span> <br/>     | <span data-ttu-id="ffb41-2534">Исполняемый код (бесплатный формат)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2534">Executable code (free format)</span></span> <br/>                                                                                                                                | <span data-ttu-id="ffb41-2535">ИЗОБРАЖЕНИЕ \_ SCN \_ CNT \_ код \| образа \_ уведомления \_ SCN \_ выполнение \| иимаже \_ уведомления \_ SCN \_ Read</span><span class="sxs-lookup"><span data-stu-id="ffb41-2535">IMAGE\_SCN\_CNT\_CODE \| IMAGE\_SCN\_MEM\_EXECUTE \| IIMAGE\_SCN\_MEM\_READ</span></span> <br/>                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="ffb41-2536">. TLS</span><span class="sxs-lookup"><span data-stu-id="ffb41-2536">.tls</span></span> <br/>      | <span data-ttu-id="ffb41-2537">Локальное хранилище потока (только объект)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2537">Thread-local storage (object only)</span></span> <br/>                                                                                                                           | <span data-ttu-id="ffb41-2538">ОБРАЗ \_ \_ CNT \_ инициализированный \_ образ данных \| SCN \_ \_ mem \_ Reading \| image \_ SCN \_ \_ Write</span><span class="sxs-lookup"><span data-stu-id="ffb41-2538">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ \| IMAGE\_SCN\_MEM\_WRITE</span></span> <br/>                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="ffb41-2539">. TLS $</span><span class="sxs-lookup"><span data-stu-id="ffb41-2539">.tls$</span></span> <br/>     | <span data-ttu-id="ffb41-2540">Локальное хранилище потока (только объект)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2540">Thread-local storage (object only)</span></span> <br/>                                                                                                                           | <span data-ttu-id="ffb41-2541">ОБРАЗ \_ \_ CNT \_ инициализированный \_ образ данных \| SCN \_ \_ mem \_ Reading \| image \_ SCN \_ \_ Write</span><span class="sxs-lookup"><span data-stu-id="ffb41-2541">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ \| IMAGE\_SCN\_MEM\_WRITE</span></span> <br/>                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="ffb41-2542">. всдата</span><span class="sxs-lookup"><span data-stu-id="ffb41-2542">.vsdata</span></span> <br/>   | <span data-ttu-id="ffb41-2543">Зависящие от групповой политики инициализированные данные (бесплатный формат и только для архитектур ARM, SH4 и Thumb)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2543">GP-relative initialized data (free format and for ARM, SH4, and Thumb architectures only)</span></span> <br/>                                                                    | <span data-ttu-id="ffb41-2544">ОБРАЗ \_ \_ CNT \_ инициализированный \_ образ данных \| SCN \_ \_ mem \_ Reading \| image \_ SCN \_ \_ Write</span><span class="sxs-lookup"><span data-stu-id="ffb41-2544">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ \| IMAGE\_SCN\_MEM\_WRITE</span></span> <br/>                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="ffb41-2545">. XData</span><span class="sxs-lookup"><span data-stu-id="ffb41-2545">.xdata</span></span> <br/>    | <span data-ttu-id="ffb41-2546">Сведения об исключении (бесплатный формат)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2546">Exception information (free format)</span></span> <br/>                                                                                                                          | <span data-ttu-id="ffb41-2547">ОБРАЗ \_ \_ CNT \_ инициализированных \_ данных о \| \_ \_ \_ считывании образа уведомления SCN</span><span class="sxs-lookup"><span data-stu-id="ffb41-2547">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ</span></span> <br/>                                                                                                                                                                                                                                                                                                                           |



 

<span data-ttu-id="ffb41-2548">Некоторые из перечисленных здесь разделов помечены как "только объект" или "только изображение", чтобы указать, что их особая семантика уместна только для объектных файлов или файлов изображений соответственно.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2548">Some of the sections listed here are marked "object only" or "image only" to indicate that their special semantics are relevant only for object files or image files, respectively.</span></span> <span data-ttu-id="ffb41-2549">Раздел, помеченный как «только изображение», может по-прежнему отображаться в объектном файле как способ перехода в файл изображения, но раздел не имеет специального значения для компоновщика только в загрузчике файлов изображений.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2549">A section that is marked "image only" might still appear in an object file as a way of getting into the image file, but the section has no special meaning to the linker, only to the image file loader.</span></span>

### <a name="the-debug-section"></a><span data-ttu-id="ffb41-2550">Раздел. Debug</span><span class="sxs-lookup"><span data-stu-id="ffb41-2550">The .debug Section</span></span>

<span data-ttu-id="ffb41-2551">Раздел. Debug используется в объектных файлах для хранения отладочной информации, созданной компилятором, и в файлах изображений для хранения всех формируемых отладочных данных.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2551">The .debug section is used in object files to contain compiler-generated debug information and in image files to contain all of the debug information that is generated.</span></span> <span data-ttu-id="ffb41-2552">В этом разделе описывается упаковка отладочной информации в файлы объектов и изображений.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2552">This section describes the packaging of debug information in object and image files.</span></span>

<span data-ttu-id="ffb41-2553">В следующем разделе описывается формат каталога отладки, который может находиться в любом месте изображения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2553">The next section describes the format of the debug directory, which can be anywhere in the image.</span></span> <span data-ttu-id="ffb41-2554">В последующих разделах описываются группы в объектных файлах, содержащих отладочную информацию.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2554">Subsequent sections describe the "groups" in object files that contain debug information.</span></span>

<span data-ttu-id="ffb41-2555">Значение по умолчанию для компоновщика заключается в том, что отладочная информация не сопоставлена с адресным пространством изображения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2555">The default for the linker is that debug information is not mapped into the address space of the image.</span></span> <span data-ttu-id="ffb41-2556">Раздел. Debug существует только в том случае, если отладочная информация сопоставлена в адресном пространстве.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2556">A .debug section exists only when debug information is mapped in the address space.</span></span>

#### <a name="debug-directory-image-only"></a><span data-ttu-id="ffb41-2557">Каталог отладки (только изображение)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2557">Debug Directory (Image Only)</span></span>

<span data-ttu-id="ffb41-2558">Файлы изображений содержат Необязательный каталог отладки, который указывает, какая форма отладочной информации имеется и где они находятся.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2558">Image files contain an optional debug directory that indicates what form of debug information is present and where it is.</span></span> <span data-ttu-id="ffb41-2559">Этот каталог состоит из массива записей каталога отладки, расположение и размер которых указаны в необязательном заголовке Image.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2559">This directory consists of an array of debug directory entries whose location and size are indicated in the image optional header.</span></span>

<span data-ttu-id="ffb41-2560">Каталог отладки может находиться в разделе с отброшенным. Отладка (если он существует) или в любой другой раздел файла изображения или вообще отсутствовать в разделе.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2560">The debug directory can be in a discardable .debug section (if one exists), or it can be included in any other section in the image file, or not be in a section at all.</span></span>

<span data-ttu-id="ffb41-2561">Каждая запись каталога отладки определяет расположение и размер блока отладочной информации.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2561">Each debug directory entry identifies the location and size of a block of debug information.</span></span> <span data-ttu-id="ffb41-2562">Указанный RVA может быть равен нулю, если отладочная информация не охватывается заголовком раздела (то есть он находится в файле изображения и не сопоставляется с адресным пространством времени выполнения).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2562">The specified RVA can be zero if the debug information is not covered by a section header (that is, it resides in the image file and is not mapped into the run-time address space).</span></span> <span data-ttu-id="ffb41-2563">Если он сопоставлен, то RVA является его адресом.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2563">If it is mapped, the RVA is its address.</span></span>

<span data-ttu-id="ffb41-2564">Запись каталога отладки имеет следующий формат:</span><span class="sxs-lookup"><span data-stu-id="ffb41-2564">A debug directory entry has the following format:</span></span>



| <span data-ttu-id="ffb41-2565">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-2565">Offset</span></span>         | <span data-ttu-id="ffb41-2566">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-2566">Size</span></span>          | <span data-ttu-id="ffb41-2567">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-2567">Field</span></span>                        | <span data-ttu-id="ffb41-2568">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-2568">Description</span></span>                                                                                                                                            |
|----------------|---------------|------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-2569">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-2569">0</span></span> <br/>  | <span data-ttu-id="ffb41-2570">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2570">4</span></span> <br/> | <span data-ttu-id="ffb41-2571">Характеристики</span><span class="sxs-lookup"><span data-stu-id="ffb41-2571">Characteristics</span></span> <br/>  | <span data-ttu-id="ffb41-2572">Зарезервировано, должно быть равно нулю.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2572">Reserved, must be zero.</span></span> <br/>                                                                                                                    |
| <span data-ttu-id="ffb41-2573">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2573">4</span></span> <br/>  | <span data-ttu-id="ffb41-2574">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2574">4</span></span> <br/> | <span data-ttu-id="ffb41-2575">тимедатестамп</span><span class="sxs-lookup"><span data-stu-id="ffb41-2575">TimeDateStamp</span></span> <br/>    | <span data-ttu-id="ffb41-2576">Время и Дата создания данных отладки.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2576">The time and date that the debug data was created.</span></span> <br/>                                                                                         |
| <span data-ttu-id="ffb41-2577">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-2577">8</span></span> <br/>  | <span data-ttu-id="ffb41-2578">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-2578">2</span></span> <br/> | <span data-ttu-id="ffb41-2579">MajorVersion</span><span class="sxs-lookup"><span data-stu-id="ffb41-2579">MajorVersion</span></span> <br/>     | <span data-ttu-id="ffb41-2580">Основной номер версии формата данных отладки.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2580">The major version number of the debug data format.</span></span> <br/>                                                                                         |
| <span data-ttu-id="ffb41-2581">10</span><span class="sxs-lookup"><span data-stu-id="ffb41-2581">10</span></span> <br/> | <span data-ttu-id="ffb41-2582">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-2582">2</span></span> <br/> | <span data-ttu-id="ffb41-2583">MinorVersion</span><span class="sxs-lookup"><span data-stu-id="ffb41-2583">MinorVersion</span></span> <br/>     | <span data-ttu-id="ffb41-2584">Дополнительный номер версии формата данных отладки.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2584">The minor version number of the debug data format.</span></span> <br/>                                                                                         |
| <span data-ttu-id="ffb41-2585">12</span><span class="sxs-lookup"><span data-stu-id="ffb41-2585">12</span></span> <br/> | <span data-ttu-id="ffb41-2586">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2586">4</span></span> <br/> | <span data-ttu-id="ffb41-2587">Тип</span><span class="sxs-lookup"><span data-stu-id="ffb41-2587">Type</span></span> <br/>             | <span data-ttu-id="ffb41-2588">Формат отладочной информации.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2588">The format of debugging information.</span></span> <span data-ttu-id="ffb41-2589">Это поле включает поддержку нескольких отладчиков.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2589">This field enables support of multiple debuggers.</span></span> <span data-ttu-id="ffb41-2590">Дополнительные сведения см. в разделе [Тип отладки](#debug-type).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2590">For more information, see [Debug Type](#debug-type).</span></span><br/> |
| <span data-ttu-id="ffb41-2591">16</span><span class="sxs-lookup"><span data-stu-id="ffb41-2591">16</span></span> <br/> | <span data-ttu-id="ffb41-2592">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2592">4</span></span> <br/> | <span data-ttu-id="ffb41-2593">сизеофдата</span><span class="sxs-lookup"><span data-stu-id="ffb41-2593">SizeOfData</span></span> <br/>       | <span data-ttu-id="ffb41-2594">Размер отладочных данных (не включая сам каталог отладки).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2594">The size of the debug data (not including the debug directory itself).</span></span> <br/>                                                                     |
| <span data-ttu-id="ffb41-2595">20</span><span class="sxs-lookup"><span data-stu-id="ffb41-2595">20</span></span> <br/> | <span data-ttu-id="ffb41-2596">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2596">4</span></span> <br/> | <span data-ttu-id="ffb41-2597">аддрессофравдата</span><span class="sxs-lookup"><span data-stu-id="ffb41-2597">AddressOfRawData</span></span> <br/> | <span data-ttu-id="ffb41-2598">Адрес отладочных данных при загрузке относительно базы образа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2598">The address of the debug data when loaded, relative to the image base.</span></span> <br/>                                                                     |
| <span data-ttu-id="ffb41-2599">24</span><span class="sxs-lookup"><span data-stu-id="ffb41-2599">24</span></span> <br/> | <span data-ttu-id="ffb41-2600">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2600">4</span></span> <br/> | <span data-ttu-id="ffb41-2601">поинтерторавдата</span><span class="sxs-lookup"><span data-stu-id="ffb41-2601">PointerToRawData</span></span> <br/> | <span data-ttu-id="ffb41-2602">Указатель файла на данные отладки.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2602">The file pointer to the debug data.</span></span> <br/>                                                                                                        |



 

#### <a name="debug-type"></a><span data-ttu-id="ffb41-2603">Тип отладки</span><span class="sxs-lookup"><span data-stu-id="ffb41-2603">Debug Type</span></span>

<span data-ttu-id="ffb41-2604">Для поля Тип записи каталога отладки определены следующие значения:</span><span class="sxs-lookup"><span data-stu-id="ffb41-2604">The following values are defined for the Type field of the debug directory entry:</span></span>



| <span data-ttu-id="ffb41-2605">Константа</span><span class="sxs-lookup"><span data-stu-id="ffb41-2605">Constant</span></span>                                        | <span data-ttu-id="ffb41-2606">Значение</span><span class="sxs-lookup"><span data-stu-id="ffb41-2606">Value</span></span>          | <span data-ttu-id="ffb41-2607">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-2607">Description</span></span>                                                                                                                                                                                                      |
|-------------------------------------------------|----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-2608">\_неизвестный \_ Тип отладки изображения \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-2608">IMAGE\_DEBUG\_TYPE\_UNKNOWN</span></span> <br/>         | <span data-ttu-id="ffb41-2609">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-2609">0</span></span> <br/>  | <span data-ttu-id="ffb41-2610">Неизвестное значение, которое игнорируется всеми инструментами.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2610">An unknown value that is ignored by all tools.</span></span> <br/>                                                                                                                                                       |
| <span data-ttu-id="ffb41-2611">\_Тип отладки \_ образа \_ COFF</span><span class="sxs-lookup"><span data-stu-id="ffb41-2611">IMAGE\_DEBUG\_TYPE\_COFF</span></span> <br/>            | <span data-ttu-id="ffb41-2612">1</span><span class="sxs-lookup"><span data-stu-id="ffb41-2612">1</span></span> <br/>  | <span data-ttu-id="ffb41-2613">Отладочная информация COFF (номера строк, таблица символов и таблица строк).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2613">The COFF debug information (line numbers, symbol table, and string table).</span></span> <span data-ttu-id="ffb41-2614">На отладочную информацию этого типа также указывают поля в заголовках файлов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2614">This type of debug information is also pointed to by fields in the file headers.</span></span> <br/>                                          |
| <span data-ttu-id="ffb41-2615">\_Тип отладки \_ image \_ Информация CodeView</span><span class="sxs-lookup"><span data-stu-id="ffb41-2615">IMAGE\_DEBUG\_TYPE\_CODEVIEW</span></span> <br/>        | <span data-ttu-id="ffb41-2616">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-2616">2</span></span> <br/>  | <span data-ttu-id="ffb41-2617">Сведения об отладке Visual C++.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2617">The Visual C++ debug information.</span></span> <br/>                                                                                                                                                                    |
| <span data-ttu-id="ffb41-2618">\_Тип отладки \_ изображения \_ FPO</span><span class="sxs-lookup"><span data-stu-id="ffb41-2618">IMAGE\_DEBUG\_TYPE\_FPO</span></span> <br/>             | <span data-ttu-id="ffb41-2619">3</span><span class="sxs-lookup"><span data-stu-id="ffb41-2619">3</span></span> <br/>  | <span data-ttu-id="ffb41-2620">Сведения о пропуске указателя кадра (FPO).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2620">The frame pointer omission (FPO) information.</span></span> <span data-ttu-id="ffb41-2621">Эти сведения сообщают отладчику о том, как интерпретировать нестандартные кадры стека, которые используют регистр EBP для назначения, отличного от в качестве указателя фрейма.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2621">This information tells the debugger how to interpret nonstandard stack frames, which use the EBP register for a purpose other than as a frame pointer.</span></span> <br/> |
| <span data-ttu-id="ffb41-2622">\_ \_ Прочие типы отладки \_ изображений</span><span class="sxs-lookup"><span data-stu-id="ffb41-2622">IMAGE\_DEBUG\_TYPE\_MISC</span></span> <br/>            | <span data-ttu-id="ffb41-2623">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2623">4</span></span> <br/>  | <span data-ttu-id="ffb41-2624">Расположение файла DBG.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2624">The location of DBG file.</span></span> <br/>                                                                                                                                                                            |
| <span data-ttu-id="ffb41-2625">\_исключение для \_ типа \_ отладки изображения</span><span class="sxs-lookup"><span data-stu-id="ffb41-2625">IMAGE\_DEBUG\_TYPE\_EXCEPTION</span></span> <br/>       | <span data-ttu-id="ffb41-2626">5</span><span class="sxs-lookup"><span data-stu-id="ffb41-2626">5</span></span> <br/>  | <span data-ttu-id="ffb41-2627">Копия раздела. pData.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2627">A copy of .pdata section.</span></span> <br/>                                                                                                                                                                            |
| <span data-ttu-id="ffb41-2628">\_исправление для \_ типа \_ отладки изображения</span><span class="sxs-lookup"><span data-stu-id="ffb41-2628">IMAGE\_DEBUG\_TYPE\_FIXUP</span></span> <br/>           | <span data-ttu-id="ffb41-2629">6</span><span class="sxs-lookup"><span data-stu-id="ffb41-2629">6</span></span> <br/>  | <span data-ttu-id="ffb41-2630">Зарезервировано.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2630">Reserved.</span></span> <br/>                                                                                                                                                                                            |
| <span data-ttu-id="ffb41-2631">\_Тип отладки \_ изображения \_ ОМАП \_ в \_ src</span><span class="sxs-lookup"><span data-stu-id="ffb41-2631">IMAGE\_DEBUG\_TYPE\_OMAP\_TO\_SRC</span></span> <br/>   | <span data-ttu-id="ffb41-2632">7</span><span class="sxs-lookup"><span data-stu-id="ffb41-2632">7</span></span> <br/>  | <span data-ttu-id="ffb41-2633">Сопоставление относительного RVA в образе с RVA в исходном изображении.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2633">The mapping from an RVA in image to an RVA in source image.</span></span> <br/>                                                                                                                                          |
| <span data-ttu-id="ffb41-2634">\_Тип отладки \_ изображения \_ ОМАП \_ из \_ src</span><span class="sxs-lookup"><span data-stu-id="ffb41-2634">IMAGE\_DEBUG\_TYPE\_OMAP\_FROM\_SRC</span></span> <br/> | <span data-ttu-id="ffb41-2635">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-2635">8</span></span> <br/>  | <span data-ttu-id="ffb41-2636">Сопоставление относительного RVA в исходном образе с RVA в изображении.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2636">The mapping from an RVA in source image to an RVA in image.</span></span> <br/>                                                                                                                                          |
| <span data-ttu-id="ffb41-2637">\_Тип отладки \_ image \_ Borland</span><span class="sxs-lookup"><span data-stu-id="ffb41-2637">IMAGE\_DEBUG\_TYPE\_BORLAND</span></span> <br/>         | <span data-ttu-id="ffb41-2638">9</span><span class="sxs-lookup"><span data-stu-id="ffb41-2638">9</span></span> <br/>  | <span data-ttu-id="ffb41-2639">Зарезервировано для Borland.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2639">Reserved for Borland.</span></span> <br/>                                                                                                                                                                                |
| <span data-ttu-id="ffb41-2640">\_Тип отладки \_ image \_ RESERVED10</span><span class="sxs-lookup"><span data-stu-id="ffb41-2640">IMAGE\_DEBUG\_TYPE\_RESERVED10</span></span> <br/>      | <span data-ttu-id="ffb41-2641">10</span><span class="sxs-lookup"><span data-stu-id="ffb41-2641">10</span></span> <br/> | <span data-ttu-id="ffb41-2642">Зарезервировано.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2642">Reserved.</span></span> <br/>                                                                                                                                                                                            |
| <span data-ttu-id="ffb41-2643">\_Тип отладки Image, \_ \_ CLSID</span><span class="sxs-lookup"><span data-stu-id="ffb41-2643">IMAGE\_DEBUG\_TYPE\_CLSID</span></span> <br/>           | <span data-ttu-id="ffb41-2644">11</span><span class="sxs-lookup"><span data-stu-id="ffb41-2644">11</span></span> <br/> | <span data-ttu-id="ffb41-2645">Зарезервировано.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2645">Reserved.</span></span> <br/>                                                                                                                                                                                            |
| <span data-ttu-id="ffb41-2646">Воспроизведение \_ типа отладки изображений \_ \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-2646">IMAGE\_DEBUG\_TYPE\_REPRO</span></span> <br/>           | <span data-ttu-id="ffb41-2647">16</span><span class="sxs-lookup"><span data-stu-id="ffb41-2647">16</span></span> <br/> | <span data-ttu-id="ffb41-2648">Детерминированный определитель PE или воспроизводимость.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2648">PE determinism or reproducibility.</span></span> <br/>                                                                                                                                                                   |
| <span data-ttu-id="ffb41-2649">\_Тип отладки \_ образа \_ ex \_ DLLCHARACTERISTICS</span><span class="sxs-lookup"><span data-stu-id="ffb41-2649">IMAGE\_DEBUG\_TYPE\_EX\_DLLCHARACTERISTICS</span></span> | <span data-ttu-id="ffb41-2650">20</span><span class="sxs-lookup"><span data-stu-id="ffb41-2650">20</span></span> | <span data-ttu-id="ffb41-2651">Биты расширенных характеристик DLL.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2651">Extended DLL characteristics bits.</span></span> |



 

<span data-ttu-id="ffb41-2652">Если поле Тип имеет значение \_ Тип отладки изображения \_ \_ FPO, то отладочные необработанные данные представляют собой массив, в котором каждый элемент описывает кадр стека функции.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2652">If the Type field is set to IMAGE\_DEBUG\_TYPE\_FPO, the debug raw data is an array in which each member describes the stack frame of a function.</span></span> <span data-ttu-id="ffb41-2653">Не для каждой функции в файле изображения должны быть определены сведения о завершении работы, хотя тип отладки — FPO.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2653">Not every function in the image file must have FPO information defined for it, even though debug type is FPO.</span></span> <span data-ttu-id="ffb41-2654">Предполагается, что эти функции, не имеющие сведений о завершении работы, имеют обычные кадры стека.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2654">Those functions that do not have FPO information are assumed to have normal stack frames.</span></span> <span data-ttu-id="ffb41-2655">Формат сведений о FPO выглядит следующим образом:</span><span class="sxs-lookup"><span data-stu-id="ffb41-2655">The format for FPO information is as follows:</span></span>


```C++
#define FRAME_FPO   0               
#define FRAME_TRAP  1
#define FRAME_TSS   2
               
typedef struct _FPO_DATA {
    DWORD       ulOffStart;            // offset 1st byte of function code
    DWORD       cbProcSize;            // # bytes in function
    DWORD       cdwLocals;             // # bytes in locals/4
    WORD        cdwParams;             // # bytes in params/4
    WORD        cbProlog : 8;          // # bytes in prolog
    WORD        cbRegs   : 3;          // # regs saved
    WORD        fHasSEH  : 1;          // TRUE if SEH in func
    WORD        fUseBP   : 1;          // TRUE if EBP has been allocated
    WORD        reserved : 1;          // reserved for future use
    WORD        cbFrame  : 2;          // frame type
} FPO_DATA;
```



<span data-ttu-id="ffb41-2656">Наличие записи типа \_ Отладка \_ типа Image \_ указывает, что PE-файл создан для достижения детерминированности или воспроизводимость.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2656">The presence of an entry of type IMAGE\_DEBUG\_TYPE\_REPRO indicates the PE file is built in a way to achieve determinism or reproducibility.</span></span> <span data-ttu-id="ffb41-2657">Если входные данные не изменяются, то выходной PE-файл гарантированно будет иметь бит для идентичности, независимо от того, где создается PE.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2657">If the input does not change, the output PE file is guaranteed to be bit-for-bit identical no matter when or where the PE is produced.</span></span> <span data-ttu-id="ffb41-2658">Различные поля отметок даты и времени в PE-файле заполняются частью или всеми битами из вычисленного хэша, который использует содержимое файла PE в качестве входных данных и, следовательно, больше не представляет фактическую дату и время выполнения PE-файла или связанных конкретных данных в PE.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2658">Various date/time stamp fields in the PE file are filled with part or all the bits from a calculated hash value that uses PE file content as input, and therefore no longer represent the actual date and time when a PE file or related specific data within the PE is produced.</span></span> <span data-ttu-id="ffb41-2659">Необработанные данные этой записи отладки могут быть пустыми или могут содержать вычисленное хэш-значение, начинающееся с 4-байтового значения, представляющего длину хэш-значения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2659">The raw data of this debug entry may be empty, or may contain a calculated hash value preceded by a four-byte value that represents the hash value length.</span></span>

<span data-ttu-id="ffb41-2660">Если для поля Тип задано значение \_ Тип отладки \_ image \_ ex \_ DLLCHARACTERISTICS, то необработанные данные отладки содержат дополнительные биты характеристик DLL, дополнительные для тех, которые можно задать в заголовке необязательного изображения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2660">If the Type field is set to IMAGE\_DEBUG\_TYPE\_EX\_DLLCHARACTERISTICS, the debug raw data contains extended DLL characteristics bits, in additional to those that could be set in image’s optional header.</span></span> <span data-ttu-id="ffb41-2661">См. раздел [характеристики библиотеки DLL](#dll-characteristics) в разделе [необязательный заголовок Windows-Specific полей (только изображение)](#optional-header-windows-specific-fields-image-only).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2661">See [DLL Characteristics](#dll-characteristics) in section [Optional Header Windows-Specific Fields (Image Only)](#optional-header-windows-specific-fields-image-only).</span></span>

##### <a name="extended-dll-characteristics"></a><span data-ttu-id="ffb41-2662">Расширенные характеристики DLL</span><span class="sxs-lookup"><span data-stu-id="ffb41-2662">Extended DLL Characteristics</span></span>

<span data-ttu-id="ffb41-2663">Для битов расширенных характеристик DLL определены следующие значения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2663">The following values are defined for the extended DLL characteristics bits.</span></span>

| <span data-ttu-id="ffb41-2664">Константа</span><span class="sxs-lookup"><span data-stu-id="ffb41-2664">Constant</span></span> | <span data-ttu-id="ffb41-2665">Значение</span><span class="sxs-lookup"><span data-stu-id="ffb41-2665">Value</span></span> | <span data-ttu-id="ffb41-2666">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-2666">Description</span></span> |
|-|-|-|
| <span data-ttu-id="ffb41-2667">IMAGE \_ DLLCHARACTERISTICS \_ ex \_ Центральноевропейское время, \_ Совместимость</span><span class="sxs-lookup"><span data-stu-id="ffb41-2667">IMAGE\_DLLCHARACTERISTICS\_EX\_CET\_COMPAT</span></span> | <span data-ttu-id="ffb41-2668">0x0001</span><span class="sxs-lookup"><span data-stu-id="ffb41-2668">0x0001</span></span> | <span data-ttu-id="ffb41-2669">Образ совместим с ЦЕНТРАЛЬНОЕВРОПЕЙСКОЕ время.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2669">Image is CET compatible.</span></span> |

#### <a name="debugf-object-only"></a><span data-ttu-id="ffb41-2670">. Debug $ F (только объект)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2670">.debug$F (Object Only)</span></span>

<span data-ttu-id="ffb41-2671">Данные в этом разделе были заменены в Visual C++ версии 7,0 и более поздних по более обширному набору данных, который создается подразделу **. debug $ S** .</span><span class="sxs-lookup"><span data-stu-id="ffb41-2671">The data in this section has been superseded in Visual C++ version 7.0 and later by a more extensive set of data that is emitted into a **.debug$S** subsection.</span></span>

<span data-ttu-id="ffb41-2672">Объектные файлы могут содержать. отладку разделов $ F, содержимое которых является одной или несколькими \_ записями данных FPO (сведения о пропуске указателя кадра).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2672">Object files can contain .debug$F sections whose contents are one or more FPO\_DATA records (frame pointer omission information).</span></span> <span data-ttu-id="ffb41-2673">См. раздел \_ " \_ Тип отладки изображения \_ FPO" в разделе [Тип отладки](#debug-type).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2673">See "IMAGE\_DEBUG\_TYPE\_FPO" in [Debug Type](#debug-type).</span></span>

<span data-ttu-id="ffb41-2674">Компоновщик распознает эти записи **. Debug $ F** .</span><span class="sxs-lookup"><span data-stu-id="ffb41-2674">The linker recognizes these **.debug$F** records.</span></span> <span data-ttu-id="ffb41-2675">Если отладочная информация создается, компоновщик сортирует \_ записи данных FPO по процедуре RVA и создает для них запись каталога отладки.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2675">If debug information is being generated, the linker sorts the FPO\_DATA records by procedure RVA and generates a debug directory entry for them.</span></span>

<span data-ttu-id="ffb41-2676">Компилятор не должен создавать записи FPO для процедур, имеющих стандартный формат кадра.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2676">The compiler should not generate FPO records for procedures that have a standard frame format.</span></span>

#### <a name="debugs-object-only"></a><span data-ttu-id="ffb41-2677">. Отладка $ S (только объект)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2677">.debug$S (Object Only)</span></span>

<span data-ttu-id="ffb41-2678">В этом разделе содержатся Visual C++ сведения об отладке (символьная информация).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2678">This section contains Visual C++ debug information (symbolic information).</span></span>

#### <a name="debugp-object-only"></a><span data-ttu-id="ffb41-2679">. Debug $ P (только объект)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2679">.debug$P (Object Only)</span></span>

<span data-ttu-id="ffb41-2680">В этом разделе содержатся Visual C++ сведения об отладке (предварительно скомпилированные сведения).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2680">This section contains Visual C++ debug information (precompiled information).</span></span> <span data-ttu-id="ffb41-2681">Это общие типы для всех объектов, которые были скомпилированы с использованием предкомпилированного заголовка, созданного с помощью этого объекта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2681">These are shared types among all of the objects that were compiled by using the precompiled header that was generated with this object.</span></span>

#### <a name="debugt-object-only"></a><span data-ttu-id="ffb41-2682">. debug $ T (только объект)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2682">.debug$T (Object Only)</span></span>

<span data-ttu-id="ffb41-2683">В этом разделе содержатся Visual C++ сведения об отладке (сведения о типе).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2683">This section contains Visual C++ debug information (type information).</span></span>

#### <a name="linker-support-for-microsoft-debug-information"></a><span data-ttu-id="ffb41-2684">Поддержка компоновщика для отладочной информации Майкрософт</span><span class="sxs-lookup"><span data-stu-id="ffb41-2684">Linker Support for Microsoft Debug Information</span></span>

<span data-ttu-id="ffb41-2685">Для поддержки отладочной информации компоновщик:</span><span class="sxs-lookup"><span data-stu-id="ffb41-2685">To support debug information, the linker:</span></span>

-   <span data-ttu-id="ffb41-2686">Собирает все соответствующие отладочные данные из разделов **отладки $ F**, **Отладка $ S**, **. Debug $ P** и **. debug $ T** .</span><span class="sxs-lookup"><span data-stu-id="ffb41-2686">Gathers all relevant debug data from the **.debug$F**, **debug$S**, **.debug$P**, and **.debug$T** sections.</span></span>

-   <span data-ttu-id="ffb41-2687">Обрабатывает эти данные вместе с отладочной информацией, созданной компоновщиком, в PDB-файл и создает запись в каталоге отладки для ссылки на нее.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2687">Processes that data along with the linker-generated debugging information into the PDB file, and creates a debug directory entry to refer to it.</span></span>

### <a name="the-drectve-section-object-only"></a><span data-ttu-id="ffb41-2688">Раздел. drectve (только объект)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2688">The .drectve Section (Object Only)</span></span>

<span data-ttu-id="ffb41-2689">Раздел является разделом директивы, если \_ \_ \_ в заголовке раздела задан флаг уведомления SCN LNK info и имя раздела **drectve** .</span><span class="sxs-lookup"><span data-stu-id="ffb41-2689">A section is a directive section if it has the IMAGE\_SCN\_LNK\_INFO flag set in the section header and has the **.drectve** section name.</span></span> <span data-ttu-id="ffb41-2690">Компоновщик удаляет раздел **. drectve** после обработки информации, поэтому раздел не отображается в связанном файле изображения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2690">The linker removes a **.drectve** section after processing the information, so the section does not appear in the image file that is being linked.</span></span>

<span data-ttu-id="ffb41-2691">Раздел **. drectve** состоит из строки текста, которая может быть закодирована как ANSI или UTF-8.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2691">A **.drectve** section consists of a string of text that can be encoded as ANSI or UTF-8.</span></span> <span data-ttu-id="ffb41-2692">Если маркер порядка байтов UTF-8 (BOM, префикс из трех байт, состоящий из 0xEF, 0xBB и 0xBF) отсутствует, строка директивы интерпретируется как ANSI.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2692">If the UTF-8 byte order marker (BOM, a three-byte prefix that consists of 0xEF, 0xBB, and 0xBF) is not present, the directive string is interpreted as ANSI.</span></span> <span data-ttu-id="ffb41-2693">Строка директивы представляет собой ряд параметров компоновщика, разделенных пробелами.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2693">The directive string is a series of linker options that are separated by spaces.</span></span> <span data-ttu-id="ffb41-2694">Каждый параметр содержит дефис, имя параметра и любой соответствующий атрибут.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2694">Each option contains a hyphen, the option name, and any appropriate attribute.</span></span> <span data-ttu-id="ffb41-2695">Если параметр содержит пробелы, параметр должен быть заключен в кавычки.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2695">If an option contains spaces, the option must be enclosed in quotes.</span></span> <span data-ttu-id="ffb41-2696">Раздел **. drectve** не должен содержать перемещения или номера строк.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2696">The **.drectve** section must not have relocations or line numbers.</span></span>

### <a name="the-edata-section-image-only"></a><span data-ttu-id="ffb41-2697">Раздел. едата (только изображение)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2697">The .edata Section (Image Only)</span></span>

<span data-ttu-id="ffb41-2698">Раздел Экспорт данных с именем. едата содержит сведения о символах, к которым другие изображения могут обращаться через динамическую компоновку.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2698">The export data section, named .edata, contains information about symbols that other images can access through dynamic linking.</span></span> <span data-ttu-id="ffb41-2699">Экспортированные символы обычно находятся в библиотеках DLL, но библиотеки DLL также могут импортировать символы.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2699">Exported symbols are generally found in DLLs, but DLLs can also import symbols.</span></span>

<span data-ttu-id="ffb41-2700">Общие сведения о общей структуре раздела Export описаны ниже.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2700">An overview of the general structure of the export section is described below.</span></span> <span data-ttu-id="ffb41-2701">Описанные таблицы обычно являются непрерывными в файле в указанном порядке (хотя это не является обязательным).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2701">The tables described are usually contiguous in the file in the order shown (though this is not required).</span></span> <span data-ttu-id="ffb41-2702">Для экспорта символов в качестве порядковых номеров требуются только таблица экспорта каталога и таблица адресов экспорта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2702">Only the export directory table and export address table are required to export symbols as ordinals.</span></span> <span data-ttu-id="ffb41-2703">(Порядковый номер — это экспорт, доступ к которому осуществляется непосредственно по индексу таблицы адресов экспорта.) Таблица указателей имени, порядковая таблица и имя экспорта существуют для поддержки использования имен экспорта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2703">(An ordinal is an export that is accessed directly by its export address table index.) The name pointer table, ordinal table, and export name table all exist to support use of export names.</span></span>



| <span data-ttu-id="ffb41-2704">Имя таблицы</span><span class="sxs-lookup"><span data-stu-id="ffb41-2704">Table Name</span></span>                         | <span data-ttu-id="ffb41-2705">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-2705">Description</span></span>                                                                                                                                                                                                                                                                                                                                                |
|------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-2706">Экспорт таблицы каталога</span><span class="sxs-lookup"><span data-stu-id="ffb41-2706">Export directory table</span></span> <br/> | <span data-ttu-id="ffb41-2707">Таблица, сопоставленная только из одной строки (в отличие от каталога отладки).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2707">A table with just one row (unlike the debug directory).</span></span> <span data-ttu-id="ffb41-2708">В этой таблице указаны расположения и размеры других таблиц экспорта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2708">This table indicates the locations and sizes of the other export tables.</span></span> <br/>                                                                                                                                                                                                               |
| <span data-ttu-id="ffb41-2709">Экспорт таблицы адресов</span><span class="sxs-lookup"><span data-stu-id="ffb41-2709">Export address table</span></span> <br/>   | <span data-ttu-id="ffb41-2710">Массив RVA экспортируемых символов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2710">An array of RVAs of exported symbols.</span></span> <span data-ttu-id="ffb41-2711">Это фактические адреса экспортированных функций и данных в исполняемом коде и разделах данных.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2711">These are the actual addresses of the exported functions and data within the executable code and data sections.</span></span> <span data-ttu-id="ffb41-2712">Другие файлы изображений могут импортировать символ с помощью индекса в эту таблицу (порядковый номер) или, при необходимости, с помощью открытого имени, которое соответствует порядковому номеру, если определено общедоступное имя.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2712">Other image files can import a symbol by using an index to this table (an ordinal) or, optionally, by using the public name that corresponds to the ordinal if a public name is defined.</span></span> <br/> |
| <span data-ttu-id="ffb41-2713">Таблица указателей имен</span><span class="sxs-lookup"><span data-stu-id="ffb41-2713">Name pointer table</span></span> <br/>     | <span data-ttu-id="ffb41-2714">Массив указателей на открытые имена экспорта, отсортированные в возрастающем порядке.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2714">An array of pointers to the public export names, sorted in ascending order.</span></span> <br/>                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="ffb41-2715">Порядковая таблица</span><span class="sxs-lookup"><span data-stu-id="ffb41-2715">Ordinal table</span></span> <br/>          | <span data-ttu-id="ffb41-2716">Массив порядков, соответствующих элементам таблицы указателей имен.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2716">An array of the ordinals that correspond to members of the name pointer table.</span></span> <span data-ttu-id="ffb41-2717">Корреспонденция по положению; Таким образом, таблица указателей имени и порядковая таблица должны иметь одинаковое число элементов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2717">The correspondence is by position; therefore, the name pointer table and the ordinal table must have the same number of members.</span></span> <span data-ttu-id="ffb41-2718">Каждый порядковый номер является индексом в таблице адресов экспорта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2718">Each ordinal is an index into the export address table.</span></span> <br/>                                                                        |
| <span data-ttu-id="ffb41-2719">Экспорт таблицы имен</span><span class="sxs-lookup"><span data-stu-id="ffb41-2719">Export name table</span></span> <br/>      | <span data-ttu-id="ffb41-2720">Ряд строк ASCII с завершающим нулем.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2720">A series of null-terminated ASCII strings.</span></span> <span data-ttu-id="ffb41-2721">Элементы таблицы указателя имен указывают на эту область.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2721">Members of the name pointer table point into this area.</span></span> <span data-ttu-id="ffb41-2722">Эти имена представляют собой открытые имена, с помощью которых символы импортируются и экспортируются. они не обязательно должны совпадать с частными именами, используемыми в файле образа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2722">These names are the public names through which the symbols are imported and exported; they are not necessarily the same as the private names that are used within the image file.</span></span> <br/>                                                           |



 

<span data-ttu-id="ffb41-2723">Когда другой файл изображения импортирует символ по имени, загрузчик Win32 выполняет поиск соответствующей строки в таблице указателей имен.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2723">When another image file imports a symbol by name, the Win32 loader searches the name pointer table for a matching string.</span></span> <span data-ttu-id="ffb41-2724">Если найдена совпадающая строка, то соответствующий порядковый номер определяется путем поиска соответствующего элемента в порядковом номерной таблице (то есть элемента в порядковой таблице с тем же индексом, что и указатель строки, найденный в таблице указателей имени).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2724">If a matching string is found, the associated ordinal is identified by looking up the corresponding member in the ordinal table (that is, the member of the ordinal table with the same index as the string pointer found in the name pointer table).</span></span> <span data-ttu-id="ffb41-2725">Результирующий порядковый номер — это индекс в таблице адресов экспорта, который предоставляет фактическое расположение нужного символа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2725">The resulting ordinal is an index into the export address table, which gives the actual location of the desired symbol.</span></span> <span data-ttu-id="ffb41-2726">К каждому символу экспорта можно обращаться по порядковому номеру.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2726">Every export symbol can be accessed by an ordinal.</span></span>

<span data-ttu-id="ffb41-2727">Если другой файл изображения импортирует символ по порядковому номеру, вам не нужно искать соответствующую строку в таблице указателей имен.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2727">When another image file imports a symbol by ordinal, it is unnecessary to search the name pointer table for a matching string.</span></span> <span data-ttu-id="ffb41-2728">Следовательно, прямое использование порядкового номера является более эффективным.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2728">Direct use of an ordinal is therefore more efficient.</span></span> <span data-ttu-id="ffb41-2729">Однако имя экспорта проще запомнить и не требует, чтобы пользователь знал индекс таблицы для символа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2729">However, an export name is easier to remember and does not require the user to know the table index for the symbol.</span></span>

#### <a name="export-directory-table"></a><span data-ttu-id="ffb41-2730">Экспорт таблицы каталога</span><span class="sxs-lookup"><span data-stu-id="ffb41-2730">Export Directory Table</span></span>

<span data-ttu-id="ffb41-2731">Сведения о символах экспорта начинаются с таблицы Export Directory, которая описывает оставшуюся часть сведений о символах экспорта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2731">The export symbol information begins with the export directory table, which describes the remainder of the export symbol information.</span></span> <span data-ttu-id="ffb41-2732">Таблица Export Directory содержит сведения об адресах, которые используются для разрешения импорта в точки входа в этом образе.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2732">The export directory table contains address information that is used to resolve imports to the entry points within this image.</span></span>



| <span data-ttu-id="ffb41-2733">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-2733">Offset</span></span>         | <span data-ttu-id="ffb41-2734">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-2734">Size</span></span>          | <span data-ttu-id="ffb41-2735">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-2735">Field</span></span>                                | <span data-ttu-id="ffb41-2736">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-2736">Description</span></span>                                                                                                                                                               |
|----------------|---------------|--------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-2737">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-2737">0</span></span> <br/>  | <span data-ttu-id="ffb41-2738">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2738">4</span></span> <br/> | <span data-ttu-id="ffb41-2739">Экспортировать флаги</span><span class="sxs-lookup"><span data-stu-id="ffb41-2739">Export Flags</span></span> <br/>             | <span data-ttu-id="ffb41-2740">Зарезервировано, должно быть равно 0.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2740">Reserved, must be 0.</span></span> <br/>                                                                                                                                          |
| <span data-ttu-id="ffb41-2741">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2741">4</span></span> <br/>  | <span data-ttu-id="ffb41-2742">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2742">4</span></span> <br/> | <span data-ttu-id="ffb41-2743">Метка времени и даты</span><span class="sxs-lookup"><span data-stu-id="ffb41-2743">Time/Date Stamp</span></span> <br/>          | <span data-ttu-id="ffb41-2744">Время и Дата создания данных экспорта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2744">The time and date that the export data was created.</span></span> <br/>                                                                                                           |
| <span data-ttu-id="ffb41-2745">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-2745">8</span></span> <br/>  | <span data-ttu-id="ffb41-2746">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-2746">2</span></span> <br/> | <span data-ttu-id="ffb41-2747">Основная версия</span><span class="sxs-lookup"><span data-stu-id="ffb41-2747">Major Version</span></span> <br/>            | <span data-ttu-id="ffb41-2748">Основной номер версии.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2748">The major version number.</span></span> <span data-ttu-id="ffb41-2749">Основной и дополнительный номера версии могут быть заданы пользователем.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2749">The major and minor version numbers can be set by the user.</span></span> <br/>                                                                         |
| <span data-ttu-id="ffb41-2750">10</span><span class="sxs-lookup"><span data-stu-id="ffb41-2750">10</span></span> <br/> | <span data-ttu-id="ffb41-2751">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-2751">2</span></span> <br/> | <span data-ttu-id="ffb41-2752">Вспомогательная версия</span><span class="sxs-lookup"><span data-stu-id="ffb41-2752">Minor Version</span></span> <br/>            | <span data-ttu-id="ffb41-2753">Дополнительный номер версии.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2753">The minor version number.</span></span> <br/>                                                                                                                                     |
| <span data-ttu-id="ffb41-2754">12</span><span class="sxs-lookup"><span data-stu-id="ffb41-2754">12</span></span> <br/> | <span data-ttu-id="ffb41-2755">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2755">4</span></span> <br/> | <span data-ttu-id="ffb41-2756">Имя RVA</span><span class="sxs-lookup"><span data-stu-id="ffb41-2756">Name RVA</span></span> <br/>                 | <span data-ttu-id="ffb41-2757">Адрес строки ASCII, содержащей имя библиотеки DLL.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2757">The address of the ASCII string that contains the name of the DLL.</span></span> <span data-ttu-id="ffb41-2758">Этот адрес является относительным для базы образа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2758">This address is relative to the image base.</span></span> <br/>                                                |
| <span data-ttu-id="ffb41-2759">16</span><span class="sxs-lookup"><span data-stu-id="ffb41-2759">16</span></span> <br/> | <span data-ttu-id="ffb41-2760">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2760">4</span></span> <br/> | <span data-ttu-id="ffb41-2761">Базовый порядковый номер</span><span class="sxs-lookup"><span data-stu-id="ffb41-2761">Ordinal Base</span></span> <br/>             | <span data-ttu-id="ffb41-2762">Начальный порядковый номер для экспортов в этом изображении.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2762">The starting ordinal number for exports in this image.</span></span> <span data-ttu-id="ffb41-2763">В этом поле указывается начальный порядковый номер для таблицы адресов экспорта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2763">This field specifies the starting ordinal number for the export address table.</span></span> <span data-ttu-id="ffb41-2764">Обычно устанавливается значение 1.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2764">It is usually set to 1.</span></span> <br/> |
| <span data-ttu-id="ffb41-2765">20</span><span class="sxs-lookup"><span data-stu-id="ffb41-2765">20</span></span> <br/> | <span data-ttu-id="ffb41-2766">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2766">4</span></span> <br/> | <span data-ttu-id="ffb41-2767">Записи таблицы адресов</span><span class="sxs-lookup"><span data-stu-id="ffb41-2767">Address Table Entries</span></span> <br/>    | <span data-ttu-id="ffb41-2768">Число записей в таблице адресов экспорта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2768">The number of entries in the export address table.</span></span> <br/>                                                                                                            |
| <span data-ttu-id="ffb41-2769">24</span><span class="sxs-lookup"><span data-stu-id="ffb41-2769">24</span></span> <br/> | <span data-ttu-id="ffb41-2770">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2770">4</span></span> <br/> | <span data-ttu-id="ffb41-2771">Число указателей имен</span><span class="sxs-lookup"><span data-stu-id="ffb41-2771">Number of Name Pointers</span></span> <br/>  | <span data-ttu-id="ffb41-2772">Число записей в таблице указателей имен.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2772">The number of entries in the name pointer table.</span></span> <span data-ttu-id="ffb41-2773">Это также число записей в порядковом номере таблицы.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2773">This is also the number of entries in the ordinal table.</span></span> <br/>                                                     |
| <span data-ttu-id="ffb41-2774">28</span><span class="sxs-lookup"><span data-stu-id="ffb41-2774">28</span></span> <br/> | <span data-ttu-id="ffb41-2775">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2775">4</span></span> <br/> | <span data-ttu-id="ffb41-2776">Экспорт RVA таблицы адресов</span><span class="sxs-lookup"><span data-stu-id="ffb41-2776">Export Address Table RVA</span></span> <br/> | <span data-ttu-id="ffb41-2777">Адрес таблицы адресов экспорта относительно базы изображения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2777">The address of the export address table, relative to the image base.</span></span> <br/>                                                                                          |
| <span data-ttu-id="ffb41-2778">32</span><span class="sxs-lookup"><span data-stu-id="ffb41-2778">32</span></span> <br/> | <span data-ttu-id="ffb41-2779">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2779">4</span></span> <br/> | <span data-ttu-id="ffb41-2780">RVA указателя имени</span><span class="sxs-lookup"><span data-stu-id="ffb41-2780">Name Pointer RVA</span></span> <br/>         | <span data-ttu-id="ffb41-2781">Адрес таблицы указателей имени экспорта относительно базы изображения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2781">The address of the export name pointer table, relative to the image base.</span></span> <span data-ttu-id="ffb41-2782">Размер таблицы определяется в поле число указателей имен.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2782">The table size is given by the Number of Name Pointers field.</span></span> <br/>                       |
| <span data-ttu-id="ffb41-2783">36</span><span class="sxs-lookup"><span data-stu-id="ffb41-2783">36</span></span> <br/> | <span data-ttu-id="ffb41-2784">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2784">4</span></span> <br/> | <span data-ttu-id="ffb41-2785">RVA в порядковом номере таблицы</span><span class="sxs-lookup"><span data-stu-id="ffb41-2785">Ordinal Table RVA</span></span> <br/>        | <span data-ttu-id="ffb41-2786">Адрес порядковой таблицы относительно базы изображения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2786">The address of the ordinal table, relative to the image base.</span></span> <br/>                                                                                                 |



 

#### <a name="export-address-table"></a><span data-ttu-id="ffb41-2787">Экспорт таблицы адресов</span><span class="sxs-lookup"><span data-stu-id="ffb41-2787">Export Address Table</span></span>

<span data-ttu-id="ffb41-2788">Таблица экспорт адреса содержит адрес экспортированных точек входа и экспортированных данных и абсолютных.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2788">The export address table contains the address of exported entry points and exported data and absolutes.</span></span> <span data-ttu-id="ffb41-2789">Порядковый номер используется в качестве индекса в таблице адресов экспорта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2789">An ordinal number is used as an index into the export address table.</span></span>

<span data-ttu-id="ffb41-2790">Каждая запись в таблице адресов экспорта является полем, в котором используется один из двух форматов в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2790">Each entry in the export address table is a field that uses one of two formats in the following table.</span></span> <span data-ttu-id="ffb41-2791">Если указанный адрес не входит в раздел Export (как определено адресом и длиной, указанными в необязательном заголовке), то поле является RVA экспорта, который является фактическим адресом в коде или данных.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2791">If the address specified is not within the export section (as defined by the address and length that are indicated in the optional header), the field is an export RVA, which is an actual address in code or data.</span></span> <span data-ttu-id="ffb41-2792">В противном случае поле является RVA-адресом сервера пересылки, который именует символ в другой библиотеке DLL.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2792">Otherwise, the field is a forwarder RVA, which names a symbol in another DLL.</span></span>



| <span data-ttu-id="ffb41-2793">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-2793">Offset</span></span>        | <span data-ttu-id="ffb41-2794">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-2794">Size</span></span>          | <span data-ttu-id="ffb41-2795">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-2795">Field</span></span>                     | <span data-ttu-id="ffb41-2796">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-2796">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|---------------|---------------|---------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-2797">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-2797">0</span></span> <br/> | <span data-ttu-id="ffb41-2798">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2798">4</span></span> <br/> | <span data-ttu-id="ffb41-2799">Экспорт RVA</span><span class="sxs-lookup"><span data-stu-id="ffb41-2799">Export RVA</span></span> <br/>    | <span data-ttu-id="ffb41-2800">Адрес экспортированного символа при загрузке в память относительно базы образа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2800">The address of the exported symbol when loaded into memory, relative to the image base.</span></span> <span data-ttu-id="ffb41-2801">Например, адрес экспортированной функции.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2801">For example, the address of an exported function.</span></span> <br/>                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="ffb41-2802">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-2802">0</span></span> <br/> | <span data-ttu-id="ffb41-2803">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2803">4</span></span> <br/> | <span data-ttu-id="ffb41-2804">RVA сервера пересылки</span><span class="sxs-lookup"><span data-stu-id="ffb41-2804">Forwarder RVA</span></span> <br/> | <span data-ttu-id="ffb41-2805">Указатель на строку ASCII с завершающим нулем в разделе Export.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2805">The pointer to a null-terminated ASCII string in the export section.</span></span> <span data-ttu-id="ffb41-2806">Эта строка должна находиться в диапазоне, заданном в записи каталога экспорта данных таблицы.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2806">This string must be within the range that is given by the export table data directory entry.</span></span> <span data-ttu-id="ffb41-2807">См. раздел [необязательные каталоги данных заголовков (только изображение)](#optional-header-data-directories-image-only).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2807">See [Optional Header Data Directories (Image Only)](#optional-header-data-directories-image-only).</span></span> <span data-ttu-id="ffb41-2808">Эта строка задает имя DLL и имя экспорта (например, "MYDLL. експфунк") или имя DLL и порядковый номер экспорта (например, MYDLL. \# 27 ").</span><span class="sxs-lookup"><span data-stu-id="ffb41-2808">This string gives the DLL name and the name of the export (for example, "MYDLL.expfunc") or the DLL name and the ordinal number of the export (for example, "MYDLL.\#27").</span></span> <br/> |



 

<span data-ttu-id="ffb41-2809">RVA-адрес сервера пересылки экспортирует определение из какого-либо другого изображения, что может выглядеть так, как будто оно было экспортировано текущим изображением.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2809">A forwarder RVA exports a definition from some other image, making it appear as if it were being exported by the current image.</span></span> <span data-ttu-id="ffb41-2810">Таким же символом одновременно импортируется и экспортируется.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2810">Thus, the symbol is simultaneously imported and exported.</span></span>

<span data-ttu-id="ffb41-2811">Например, в Kernel32.dll в Windows XP экспорт с именем «Хеапаллок» перенаправляется в строку «NTDLL. Ртлаллокатехеап ".</span><span class="sxs-lookup"><span data-stu-id="ffb41-2811">For example, in Kernel32.dll in Windows XP, the export named "HeapAlloc" is forwarded to the string "NTDLL.RtlAllocateHeap."</span></span> <span data-ttu-id="ffb41-2812">Это позволяет приложениям использовать модуль Ntdll.dll, предназначенный для Windows XP, без фактической ссылки на импорт.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2812">This allows applications to use the Windows XP-specific module Ntdll.dll without actually containing import references to it.</span></span> <span data-ttu-id="ffb41-2813">Таблица импорта приложения относится только к Kernel32.dll.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2813">The application's import table refers only to Kernel32.dll.</span></span> <span data-ttu-id="ffb41-2814">Поэтому приложение не зависит от Windows XP и может выполняться в любой системе Win32.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2814">Therefore, the application is not specific to Windows XP and can run on any Win32 system.</span></span>

#### <a name="export-name-pointer-table"></a><span data-ttu-id="ffb41-2815">Таблица указателей имени экспорта</span><span class="sxs-lookup"><span data-stu-id="ffb41-2815">Export Name Pointer Table</span></span>

<span data-ttu-id="ffb41-2816">Таблица указателей имени экспорта представляет собой массив адресов (RVA) в таблице имен экспорта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2816">The export name pointer table is an array of addresses (RVAs) into the export name table.</span></span> <span data-ttu-id="ffb41-2817">Указатели — это 32 бит, каждый из которых отсчитывается относительно базы изображения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2817">The pointers are 32 bits each and are relative to the image base.</span></span> <span data-ttu-id="ffb41-2818">Указатели упорядочиваются лексно, чтобы разрешить двоичный поиск.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2818">The pointers are ordered lexically to allow binary searches.</span></span>

<span data-ttu-id="ffb41-2819">Имя экспорта определяется только в том случае, если таблица указателей имени экспорта содержит указатель на нее.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2819">An export name is defined only if the export name pointer table contains a pointer to it.</span></span>

#### <a name="export-ordinal-table"></a><span data-ttu-id="ffb41-2820">Экспортировать Порядковую таблицу</span><span class="sxs-lookup"><span data-stu-id="ffb41-2820">Export Ordinal Table</span></span>

<span data-ttu-id="ffb41-2821">Порядковый номер экспорта — это массив 16-разрядных несмещенных индексов в таблице адресов экспорта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2821">The export ordinal table is an array of 16-bit unbiased indexes into the export address table.</span></span> <span data-ttu-id="ffb41-2822">Порядковые номера смещены по порядковому номеру базового поля таблицы экспорта каталога.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2822">Ordinals are biased by the Ordinal Base field of the export directory table.</span></span> <span data-ttu-id="ffb41-2823">Иными словами, необходимо вычесть порядковый номер базового индекса из порядковых номеров, чтобы получить индексы true в таблице адресов экспорта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2823">In other words, the ordinal base must be subtracted from the ordinals to obtain true indexes into the export address table.</span></span>

<span data-ttu-id="ffb41-2824">Таблица указатели имени экспорта и порядковый номер экспорта формируют два параллельных массива, разделенных, для разрешения естественного выравнивания полей.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2824">The export name pointer table and the export ordinal table form two parallel arrays that are separated to allow natural field alignment.</span></span> <span data-ttu-id="ffb41-2825">Эти две таблицы, по сути, работают как одна таблица, в которой столбец Export Name указателя указывает на общедоступное (экспортированное) имя, а порядковый номер экспорта задает соответствующий порядковый номер для этого открытого имени.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2825">These two tables, in effect, operate as one table, in which the Export Name Pointer column points to a public (exported) name and the Export Ordinal column gives the corresponding ordinal for that public name.</span></span> <span data-ttu-id="ffb41-2826">Член таблицы с указателем имени экспорта и членом порядкового номера экспорта связываются с одинаковой позицией (индексом) в соответствующих массивах.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2826">A member of the export name pointer table and a member of the export ordinal table are associated by having the same position (index) in their respective arrays.</span></span>

<span data-ttu-id="ffb41-2827">Таким образом, когда выполняется поиск в таблице указателей имени экспорта и найдена соответствующая строка в позиции i, алгоритм поиска RVA и смещенного порядкового номера символа имеет вид:</span><span class="sxs-lookup"><span data-stu-id="ffb41-2827">Thus, when the export name pointer table is searched and a matching string is found at position i, the algorithm for finding the symbol's RVA and biased ordinal is:</span></span>

```C++
i = Search_ExportNamePointerTable (name);
ordinal = ExportOrdinalTable [i];

rva = ExportAddressTable [ordinal];
biased_ordinal = ordinal + OrdinalBase;
```

<span data-ttu-id="ffb41-2828">При поиске символа по порядковому номеру (с сдвигом) алгоритм поиска RVA и имени символа:</span><span class="sxs-lookup"><span data-stu-id="ffb41-2828">When searching for a symbol by (biased) ordinal, the algorithm for finding the symbol's RVA and name is:</span></span>

```C++
ordinal = biased_ordinal - OrdinalBase;
i = Search_ExportOrdinalTable (ordinal);

rva = ExportAddressTable [ordinal];
name = ExportNameTable [i];
```

#### <a name="export-name-table"></a><span data-ttu-id="ffb41-2829">Экспорт таблицы имен</span><span class="sxs-lookup"><span data-stu-id="ffb41-2829">Export Name Table</span></span>

<span data-ttu-id="ffb41-2830">Таблица Export Name содержит фактические строковые данные, на которые указывала таблица указателей имени экспорта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2830">The export name table contains the actual string data that was pointed to by the export name pointer table.</span></span> <span data-ttu-id="ffb41-2831">Строки в этой таблице являются общедоступными именами, которые другие изображения могут использовать для импорта символов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2831">The strings in this table are public names that other images can use to import the symbols.</span></span> <span data-ttu-id="ffb41-2832">Эти открытые имена экспорта не обязательно должны совпадать с именами частных символов, которые имеют символы в собственном файле изображения и исходном коде, хотя это могут быть.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2832">These public export names are not necessarily the same as the private symbol names that the symbols have in their own image file and source code, although they can be.</span></span>

<span data-ttu-id="ffb41-2833">Каждый экспортированный символ имеет порядковое значение, которое является просто индексом в таблице адресов экспорта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2833">Every exported symbol has an ordinal value, which is just the index into the export address table.</span></span> <span data-ttu-id="ffb41-2834">Однако использование имен экспорта является необязательным.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2834">Use of export names, however, is optional.</span></span> <span data-ttu-id="ffb41-2835">Некоторые, все или ни один из экспортированных символов могут иметь имена экспорта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2835">Some, all, or none of the exported symbols can have export names.</span></span> <span data-ttu-id="ffb41-2836">Для экспортированных символов, у которых есть имена экспорта, соответствующие записи в таблице указатель имени экспорта и экспортная таблица должны работать вместе, чтобы связать каждое имя с порядковым номером.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2836">For exported symbols that do have export names, corresponding entries in the export name pointer table and export ordinal table work together to associate each name with an ordinal.</span></span>

<span data-ttu-id="ffb41-2837">Структура таблицы имен экспорта представляет собой ряд строк ASCII, завершающихся нулем, с переменной длиной.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2837">The structure of the export name table is a series of null-terminated ASCII strings of variable length.</span></span>

### <a name="the-idata-section"></a><span data-ttu-id="ffb41-2838">Раздел. иДата</span><span class="sxs-lookup"><span data-stu-id="ffb41-2838">The .idata Section</span></span>

<span data-ttu-id="ffb41-2839">Все файлы изображений, в которых импортируются символы, включая практически все исполняемые файлы (EXE), имеют раздел. иДата.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2839">All image files that import symbols, including virtually all executable (EXE) files, have an .idata section.</span></span> <span data-ttu-id="ffb41-2840">Типичный файловый макет для данных импорта приведен ниже.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2840">A typical file layout for the import information follows:</span></span>

-   <span data-ttu-id="ffb41-2841">Таблица каталога</span><span class="sxs-lookup"><span data-stu-id="ffb41-2841">Directory Table</span></span>

    <span data-ttu-id="ffb41-2842">Запись каталога со значением NULL</span><span class="sxs-lookup"><span data-stu-id="ffb41-2842">Null Directory Entry</span></span>

-   <span data-ttu-id="ffb41-2843">Таблица подстановки импорта DLL1</span><span class="sxs-lookup"><span data-stu-id="ffb41-2843">DLL1 Import Lookup Table</span></span>

    <span data-ttu-id="ffb41-2844">NULL</span><span class="sxs-lookup"><span data-stu-id="ffb41-2844">Null</span></span>

-   <span data-ttu-id="ffb41-2845">Таблица подстановки импорта DLL2</span><span class="sxs-lookup"><span data-stu-id="ffb41-2845">DLL2 Import Lookup Table</span></span>

    <span data-ttu-id="ffb41-2846">NULL</span><span class="sxs-lookup"><span data-stu-id="ffb41-2846">Null</span></span>

-   <span data-ttu-id="ffb41-2847">Таблица подстановки импорта DLL3</span><span class="sxs-lookup"><span data-stu-id="ffb41-2847">DLL3 Import Lookup Table</span></span>

    <span data-ttu-id="ffb41-2848">NULL</span><span class="sxs-lookup"><span data-stu-id="ffb41-2848">Null</span></span>

-   <span data-ttu-id="ffb41-2849">Таблица Hint-Name</span><span class="sxs-lookup"><span data-stu-id="ffb41-2849">Hint-Name Table</span></span>

#### <a name="import-directory-table"></a><span data-ttu-id="ffb41-2850">Импорт таблицы каталога</span><span class="sxs-lookup"><span data-stu-id="ffb41-2850">Import Directory Table</span></span>

<span data-ttu-id="ffb41-2851">Данные импорта начинаются с таблицы Import Directory, которая описывает оставшуюся часть сведений о импорте.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2851">The import information begins with the import directory table, which describes the remainder of the import information.</span></span> <span data-ttu-id="ffb41-2852">Таблица Импорт каталога содержит сведения об адресах, которые используются для разрешения ссылок на точки входа в образе библиотеки DLL.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2852">The import directory table contains address information that is used to resolve fixup references to the entry points within a DLL image.</span></span> <span data-ttu-id="ffb41-2853">Таблица Import Directory состоит из массива записей каталога импорта, по одной записи для каждой библиотеки DLL, к которой относится изображение.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2853">The import directory table consists of an array of import directory entries, one entry for each DLL to which the image refers.</span></span> <span data-ttu-id="ffb41-2854">Последняя запись каталога пуста (заполнена значениями NULL), что означает конец таблицы каталога.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2854">The last directory entry is empty (filled with null values), which indicates the end of the directory table.</span></span>

<span data-ttu-id="ffb41-2855">Каждая запись каталога импорта имеет следующий формат:</span><span class="sxs-lookup"><span data-stu-id="ffb41-2855">Each import directory entry has the following format:</span></span>



| <span data-ttu-id="ffb41-2856">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-2856">Offset</span></span>         | <span data-ttu-id="ffb41-2857">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-2857">Size</span></span>          | <span data-ttu-id="ffb41-2858">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-2858">Field</span></span>                                                 | <span data-ttu-id="ffb41-2859">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-2859">Description</span></span>                                                                                                                                                                                 |
|----------------|---------------|-------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-2860">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-2860">0</span></span> <br/>  | <span data-ttu-id="ffb41-2861">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2861">4</span></span> <br/> | <span data-ttu-id="ffb41-2862">Импорт таблицы относительных значений подстановки (характеристики)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2862">Import Lookup Table RVA (Characteristics)</span></span> <br/> | <span data-ttu-id="ffb41-2863">RVA таблицы поиска импорта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2863">The RVA of the import lookup table.</span></span> <span data-ttu-id="ffb41-2864">Эта таблица содержит имя или порядковый номер для каждого импорта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2864">This table contains a name or ordinal for each import.</span></span> <span data-ttu-id="ffb41-2865">(Имя "характеристики" используется в Winnt. h, но больше не описывает это поле.)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2865">(The name "Characteristics" is used in Winnt.h, but no longer describes this field.)</span></span> <br/> |
| <span data-ttu-id="ffb41-2866">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2866">4</span></span> <br/>  | <span data-ttu-id="ffb41-2867">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2867">4</span></span> <br/> | <span data-ttu-id="ffb41-2868">Метка времени и даты</span><span class="sxs-lookup"><span data-stu-id="ffb41-2868">Time/Date Stamp</span></span> <br/>                           | <span data-ttu-id="ffb41-2869">Отметка, для которой установлено нулевое значение, пока изображение не будет привязано.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2869">The stamp that is set to zero until the image is bound.</span></span> <span data-ttu-id="ffb41-2870">После привязки образа в этом поле задается метка времени и данных библиотеки DLL.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2870">After the image is bound, this field is set to the time/data stamp of the DLL.</span></span> <br/>                                          |
| <span data-ttu-id="ffb41-2871">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-2871">8</span></span> <br/>  | <span data-ttu-id="ffb41-2872">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2872">4</span></span> <br/> | <span data-ttu-id="ffb41-2873">Цепь пересылки</span><span class="sxs-lookup"><span data-stu-id="ffb41-2873">Forwarder Chain</span></span> <br/>                           | <span data-ttu-id="ffb41-2874">Индекс первой ссылки на пересылку.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2874">The index of the first forwarder reference.</span></span> <br/>                                                                                                                                     |
| <span data-ttu-id="ffb41-2875">12</span><span class="sxs-lookup"><span data-stu-id="ffb41-2875">12</span></span> <br/> | <span data-ttu-id="ffb41-2876">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2876">4</span></span> <br/> | <span data-ttu-id="ffb41-2877">Имя RVA</span><span class="sxs-lookup"><span data-stu-id="ffb41-2877">Name RVA</span></span> <br/>                                  | <span data-ttu-id="ffb41-2878">Адрес строки ASCII, содержащей имя библиотеки DLL.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2878">The address of an ASCII string that contains the name of the DLL.</span></span> <span data-ttu-id="ffb41-2879">Этот адрес является относительным для базы образа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2879">This address is relative to the image base.</span></span> <br/>                                                                   |
| <span data-ttu-id="ffb41-2880">16</span><span class="sxs-lookup"><span data-stu-id="ffb41-2880">16</span></span> <br/> | <span data-ttu-id="ffb41-2881">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2881">4</span></span> <br/> | <span data-ttu-id="ffb41-2882">Адрес RVA таблицы импорта (таблица преобразователей)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2882">Import Address Table RVA (Thunk Table)</span></span> <br/>    | <span data-ttu-id="ffb41-2883">RVA для таблицы адресов импорта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2883">The RVA of the import address table.</span></span> <span data-ttu-id="ffb41-2884">Содержимое этой таблицы идентично содержимому таблицы поиска импорта, пока изображение не будет привязано.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2884">The contents of this table are identical to the contents of the import lookup table until the image is bound.</span></span> <br/>                              |



 

#### <a name="import-lookup-table"></a><span data-ttu-id="ffb41-2885">Импорт таблицы подстановки</span><span class="sxs-lookup"><span data-stu-id="ffb41-2885">Import Lookup Table</span></span>

<span data-ttu-id="ffb41-2886">Таблица импорта — это массив из 32-разрядных чисел для формат PE32 или массив 64-разрядных чисел для формат PE32 +.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2886">An import lookup table is an array of 32-bit numbers for PE32 or an array of 64-bit numbers for PE32+.</span></span> <span data-ttu-id="ffb41-2887">Каждая запись использует формат битового поля, описанный в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2887">Each entry uses the bit-field format that is described in the following table.</span></span> <span data-ttu-id="ffb41-2888">В этом формате бит 31 является наиболее значащим битом для формат PE32 и бит 63 — самый важный бит для формат PE32 +.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2888">In this format, bit 31 is the most significant bit for PE32 and bit 63 is the most significant bit for PE32+.</span></span> <span data-ttu-id="ffb41-2889">Коллекция этих записей описывает все импорты из заданной библиотеки DLL.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2889">The collection of these entries describes all imports from a given DLL.</span></span> <span data-ttu-id="ffb41-2890">Последняя запись устанавливается в ноль (NULL), чтобы обозначить конец таблицы.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2890">The last entry is set to zero (NULL) to indicate the end of the table.</span></span>



| <span data-ttu-id="ffb41-2891">Бит (с)</span><span class="sxs-lookup"><span data-stu-id="ffb41-2891">Bit(s)</span></span>            | <span data-ttu-id="ffb41-2892">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-2892">Size</span></span>           | <span data-ttu-id="ffb41-2893">Битовое поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-2893">Bit field</span></span>                       | <span data-ttu-id="ffb41-2894">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-2894">Description</span></span>                                                                                                                                                               |
|-------------------|----------------|---------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-2895">31/63</span><span class="sxs-lookup"><span data-stu-id="ffb41-2895">31/63</span></span> <br/> | <span data-ttu-id="ffb41-2896">1</span><span class="sxs-lookup"><span data-stu-id="ffb41-2896">1</span></span> <br/>  | <span data-ttu-id="ffb41-2897">Флаг Ordinal/Name</span><span class="sxs-lookup"><span data-stu-id="ffb41-2897">Ordinal/Name Flag</span></span> <br/>   | <span data-ttu-id="ffb41-2898">Если этот бит задан, импортируйте по порядковому номеру.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2898">If this bit is set, import by ordinal.</span></span> <span data-ttu-id="ffb41-2899">В противном случае импортируйте по имени.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2899">Otherwise, import by name.</span></span> <span data-ttu-id="ffb41-2900">Бит маскируется как 0x80000000 для формат PE32, 0x8000000000000000 для формат PE32 +.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2900">Bit is masked as 0x80000000 for PE32, 0x8000000000000000 for PE32+.</span></span> <br/>                         |
| <span data-ttu-id="ffb41-2901">15-0</span><span class="sxs-lookup"><span data-stu-id="ffb41-2901">15-0</span></span> <br/>  | <span data-ttu-id="ffb41-2902">16</span><span class="sxs-lookup"><span data-stu-id="ffb41-2902">16</span></span> <br/> | <span data-ttu-id="ffb41-2903">Порядковый номер</span><span class="sxs-lookup"><span data-stu-id="ffb41-2903">Ordinal Number</span></span> <br/>      | <span data-ttu-id="ffb41-2904">16-разрядный порядковый номер.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2904">A 16-bit ordinal number.</span></span> <span data-ttu-id="ffb41-2905">Это поле используется только в том случае, если битовое поле флага Ordinal/name равно 1 (импорт по порядковому номеру).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2905">This field is used only if the Ordinal/Name Flag bit field is 1 (import by ordinal).</span></span> <span data-ttu-id="ffb41-2906">Биты 30-15 или 62-15 должны быть равны 0.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2906">Bits 30-15 or 62-15 must be 0.</span></span> <br/>                  |
| <span data-ttu-id="ffb41-2907">30-0</span><span class="sxs-lookup"><span data-stu-id="ffb41-2907">30-0</span></span> <br/>  | <span data-ttu-id="ffb41-2908">31</span><span class="sxs-lookup"><span data-stu-id="ffb41-2908">31</span></span> <br/> | <span data-ttu-id="ffb41-2909">Имя и RVA таблицы подсказок</span><span class="sxs-lookup"><span data-stu-id="ffb41-2909">Hint/Name Table RVA</span></span> <br/> | <span data-ttu-id="ffb41-2910">31-разрядный RVA записи в таблице подсказки или имени.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2910">A 31-bit RVA of a hint/name table entry.</span></span> <span data-ttu-id="ffb41-2911">Это поле используется только в том случае, если битовое поле флага Ordinal или Name равно 0 (импорт по имени).</span><span class="sxs-lookup"><span data-stu-id="ffb41-2911">This field is used only if the Ordinal/Name Flag bit field is 0 (import by name).</span></span> <span data-ttu-id="ffb41-2912">Для формат PE32 + BITS 62-31 должно быть равно нулю.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2912">For PE32+ bits 62-31 must be zero.</span></span> <br/> |



 

#### <a name="hintname-table"></a><span data-ttu-id="ffb41-2913">Указание или таблица имен</span><span class="sxs-lookup"><span data-stu-id="ffb41-2913">Hint/Name Table</span></span>

<span data-ttu-id="ffb41-2914">Для всего раздела импорта достаточно одной таблицы подсказок или имен.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2914">One hint/name table suffices for the entire import section.</span></span> <span data-ttu-id="ffb41-2915">Каждая запись в таблице подсказок или имен имеет следующий формат:</span><span class="sxs-lookup"><span data-stu-id="ffb41-2915">Each entry in the hint/name table has the following format:</span></span>



| <span data-ttu-id="ffb41-2916">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-2916">Offset</span></span>         | <span data-ttu-id="ffb41-2917">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-2917">Size</span></span>                 | <span data-ttu-id="ffb41-2918">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-2918">Field</span></span>            | <span data-ttu-id="ffb41-2919">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-2919">Description</span></span>                                                                                                                                                                                       |
|----------------|----------------------|------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-2920">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-2920">0</span></span> <br/>  | <span data-ttu-id="ffb41-2921">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-2921">2</span></span> <br/>        | <span data-ttu-id="ffb41-2922">Указание</span><span class="sxs-lookup"><span data-stu-id="ffb41-2922">Hint</span></span> <br/> | <span data-ttu-id="ffb41-2923">Индекс в таблице указателей имени экспорта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2923">An index into the export name pointer table.</span></span> <span data-ttu-id="ffb41-2924">Сначала предпринимается совпадение с этим значением.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2924">A match is attempted first with this value.</span></span> <span data-ttu-id="ffb41-2925">В случае сбоя двоичный поиск выполняется в таблице указателей имени экспорта библиотеки DLL.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2925">If it fails, a binary search is performed on the DLL's export name pointer table.</span></span> <br/>            |
| <span data-ttu-id="ffb41-2926">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-2926">2</span></span> <br/>  | <span data-ttu-id="ffb41-2927">Переменная</span><span class="sxs-lookup"><span data-stu-id="ffb41-2927">variable</span></span> <br/> | <span data-ttu-id="ffb41-2928">Имя</span><span class="sxs-lookup"><span data-stu-id="ffb41-2928">Name</span></span> <br/> | <span data-ttu-id="ffb41-2929">Строка ASCII, содержащая имя для импорта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2929">An ASCII string that contains the name to import.</span></span> <span data-ttu-id="ffb41-2930">Это строка, которая должна быть сопоставлена с общедоступным именем в библиотеке DLL.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2930">This is the string that must be matched to the public name in the DLL.</span></span> <span data-ttu-id="ffb41-2931">Эта строка чувствительна к регистру и завершается нулевым байтом.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2931">This string is case sensitive and terminated by a null byte.</span></span> <br/> |
| \* <br/> | <span data-ttu-id="ffb41-2932">0 или 1</span><span class="sxs-lookup"><span data-stu-id="ffb41-2932">0 or 1</span></span> <br/>   | <span data-ttu-id="ffb41-2933">Pad</span><span class="sxs-lookup"><span data-stu-id="ffb41-2933">Pad</span></span> <br/>  | <span data-ttu-id="ffb41-2934">Завершающий байт нулевой области, который появляется после завершающего нуль-байта, если это необходимо, для выровнять следующую запись на четной границе.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2934">A trailing zero-pad byte that appears after the trailing null byte, if necessary, to align the next entry on an even boundary.</span></span> <br/>                                                        |



 

#### <a name="import-address-table"></a><span data-ttu-id="ffb41-2935">Импорт таблицы адресов</span><span class="sxs-lookup"><span data-stu-id="ffb41-2935">Import Address Table</span></span>

<span data-ttu-id="ffb41-2936">Структура и содержимое таблицы адресов импорта идентичны параметрам таблицы импорта, пока файл не будет привязан.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2936">The structure and content of the import address table are identical to those of the import lookup table, until the file is bound.</span></span> <span data-ttu-id="ffb41-2937">Во время привязки записи в таблице адресов импорта перезаписываются 32-битным (для формат PE32) или 64-bit (для формат PE32 +) импортируемых символов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2937">During binding, the entries in the import address table are overwritten with the 32-bit (for PE32) or 64-bit (for PE32+) addresses of the symbols that are being imported.</span></span> <span data-ttu-id="ffb41-2938">Эти адреса являются реальными адресами памяти символов, хотя технически они по-прежнему называются "виртуальными адресами".</span><span class="sxs-lookup"><span data-stu-id="ffb41-2938">These addresses are the actual memory addresses of the symbols, although technically they are still called "virtual addresses."</span></span> <span data-ttu-id="ffb41-2939">Загрузчик обычно обрабатывает привязку.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2939">The loader typically processes the binding.</span></span>

### <a name="the-pdata-section"></a><span data-ttu-id="ffb41-2940">Раздел pdata</span><span class="sxs-lookup"><span data-stu-id="ffb41-2940">The .pdata Section</span></span>

<span data-ttu-id="ffb41-2941">Раздел. pData содержит массив записей таблицы функций, которые используются для обработки исключений.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2941">The .pdata section contains an array of function table entries that are used for exception handling.</span></span> <span data-ttu-id="ffb41-2942">На него указывает запись таблицы исключений в каталоге данных Image.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2942">It is pointed to by the exception table entry in the image data directory.</span></span> <span data-ttu-id="ffb41-2943">Записи должны быть отсортированы в соответствии с адресами функций (первое поле в каждой структуре), прежде чем они будут выдаваться в окончательный образ.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2943">The entries must be sorted according to the function addresses (the first field in each structure) before being emitted into the final image.</span></span> <span data-ttu-id="ffb41-2944">Целевая платформа определяет, какой из трех описанных ниже вариантов формата ввода таблицы функций используется.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2944">The target platform determines which of the three function table entry format variations described below is used.</span></span>

<span data-ttu-id="ffb41-2945">Для 32-разрядных изображений MIPS записи в таблице функций имеют следующий формат:</span><span class="sxs-lookup"><span data-stu-id="ffb41-2945">For 32-bit MIPS images, function table entries have the following format:</span></span>



| <span data-ttu-id="ffb41-2946">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-2946">Offset</span></span>         | <span data-ttu-id="ffb41-2947">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-2947">Size</span></span>          | <span data-ttu-id="ffb41-2948">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-2948">Field</span></span>                          | <span data-ttu-id="ffb41-2949">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-2949">Description</span></span>                                                                    |
|----------------|---------------|--------------------------------|--------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-2950">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-2950">0</span></span> <br/>  | <span data-ttu-id="ffb41-2951">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2951">4</span></span> <br/> | <span data-ttu-id="ffb41-2952">Начальный адрес</span><span class="sxs-lookup"><span data-stu-id="ffb41-2952">Begin Address</span></span> <br/>      | <span data-ttu-id="ffb41-2953">Значение ва соответствующей функции.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2953">The VA of the corresponding function.</span></span> <br/>                              |
| <span data-ttu-id="ffb41-2954">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2954">4</span></span> <br/>  | <span data-ttu-id="ffb41-2955">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2955">4</span></span> <br/> | <span data-ttu-id="ffb41-2956">Конечный адрес</span><span class="sxs-lookup"><span data-stu-id="ffb41-2956">End Address</span></span> <br/>        | <span data-ttu-id="ffb41-2957">Значение ва конца функции.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2957">The VA of the end of the function.</span></span> <br/>                                 |
| <span data-ttu-id="ffb41-2958">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-2958">8</span></span> <br/>  | <span data-ttu-id="ffb41-2959">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2959">4</span></span> <br/> | <span data-ttu-id="ffb41-2960">Обработчик исключений</span><span class="sxs-lookup"><span data-stu-id="ffb41-2960">Exception Handler</span></span> <br/>  | <span data-ttu-id="ffb41-2961">Указатель на обработчик исключений, который должен быть выполнен.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2961">The pointer to the exception handler to be executed.</span></span> <br/>               |
| <span data-ttu-id="ffb41-2962">12</span><span class="sxs-lookup"><span data-stu-id="ffb41-2962">12</span></span> <br/> | <span data-ttu-id="ffb41-2963">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2963">4</span></span> <br/> | <span data-ttu-id="ffb41-2964">Данные обработчика</span><span class="sxs-lookup"><span data-stu-id="ffb41-2964">Handler Data</span></span> <br/>       | <span data-ttu-id="ffb41-2965">Указатель на дополнительные сведения, передаваемые в обработчик.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2965">The pointer to additional information to be passed to the handler.</span></span> <br/> |
| <span data-ttu-id="ffb41-2966">16</span><span class="sxs-lookup"><span data-stu-id="ffb41-2966">16</span></span> <br/> | <span data-ttu-id="ffb41-2967">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2967">4</span></span> <br/> | <span data-ttu-id="ffb41-2968">Адрес конца пролога</span><span class="sxs-lookup"><span data-stu-id="ffb41-2968">Prolog End Address</span></span> <br/> | <span data-ttu-id="ffb41-2969">Значение ва конца пролога функции.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2969">The VA of the end of the function's prolog.</span></span> <br/>                        |



 

<span data-ttu-id="ffb41-2970">Для платформ ARM, PowerPC, SH3 и SH4 Windows CE элементы таблицы функций имеют следующий формат:</span><span class="sxs-lookup"><span data-stu-id="ffb41-2970">For the ARM, PowerPC, SH3 and SH4 Windows CE platforms, function table entries have the following format:</span></span>



| <span data-ttu-id="ffb41-2971">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-2971">Offset</span></span>        | <span data-ttu-id="ffb41-2972">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-2972">Size</span></span>                | <span data-ttu-id="ffb41-2973">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-2973">Field</span></span>                       | <span data-ttu-id="ffb41-2974">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-2974">Description</span></span>                                                                                                               |
|---------------|---------------------|-----------------------------|---------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-2975">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-2975">0</span></span> <br/> | <span data-ttu-id="ffb41-2976">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2976">4</span></span> <br/>       | <span data-ttu-id="ffb41-2977">Начальный адрес</span><span class="sxs-lookup"><span data-stu-id="ffb41-2977">Begin Address</span></span> <br/>   | <span data-ttu-id="ffb41-2978">Значение ва соответствующей функции.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2978">The VA of the corresponding function.</span></span> <br/>                                                                         |
| <span data-ttu-id="ffb41-2979">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2979">4</span></span> <br/> | <span data-ttu-id="ffb41-2980">8 бит</span><span class="sxs-lookup"><span data-stu-id="ffb41-2980">8 bits</span></span> <br/>  | <span data-ttu-id="ffb41-2981">Длина пролога</span><span class="sxs-lookup"><span data-stu-id="ffb41-2981">Prolog Length</span></span> <br/>   | <span data-ttu-id="ffb41-2982">Количество инструкций в прологе функции.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2982">The number of instructions in the function's prolog.</span></span> <br/>                                                          |
| <span data-ttu-id="ffb41-2983">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2983">4</span></span> <br/> | <span data-ttu-id="ffb41-2984">22 бита</span><span class="sxs-lookup"><span data-stu-id="ffb41-2984">22 bits</span></span> <br/> | <span data-ttu-id="ffb41-2985">Длина функции</span><span class="sxs-lookup"><span data-stu-id="ffb41-2985">Function Length</span></span> <br/> | <span data-ttu-id="ffb41-2986">Количество инструкций в функции.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2986">The number of instructions in the function.</span></span> <br/>                                                                   |
| <span data-ttu-id="ffb41-2987">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2987">4</span></span> <br/> | <span data-ttu-id="ffb41-2988">1 бит</span><span class="sxs-lookup"><span data-stu-id="ffb41-2988">1 bit</span></span> <br/>   | <span data-ttu-id="ffb41-2989">32-разрядный флаг</span><span class="sxs-lookup"><span data-stu-id="ffb41-2989">32-bit Flag</span></span> <br/>     | <span data-ttu-id="ffb41-2990">Если задано, функция состоит из 32-разрядных инструкций.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2990">If set, the function consists of 32-bit instructions.</span></span> <span data-ttu-id="ffb41-2991">Если ясно, функция состоит из 16-разрядных инструкций.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2991">If clear, the function consists of 16-bit instructions.</span></span> <br/> |
| <span data-ttu-id="ffb41-2992">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-2992">4</span></span> <br/> | <span data-ttu-id="ffb41-2993">1 бит</span><span class="sxs-lookup"><span data-stu-id="ffb41-2993">1 bit</span></span> <br/>   | <span data-ttu-id="ffb41-2994">Флаг исключения</span><span class="sxs-lookup"><span data-stu-id="ffb41-2994">Exception Flag</span></span> <br/>  | <span data-ttu-id="ffb41-2995">Если этот параметр задан, для функции существует обработчик исключений.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2995">If set, an exception handler exists for the function.</span></span> <span data-ttu-id="ffb41-2996">В противном случае обработчик исключений не существует.</span><span class="sxs-lookup"><span data-stu-id="ffb41-2996">Otherwise, no exception handler exists.</span></span> <br/>                 |



 

<span data-ttu-id="ffb41-2997">Для платформ x64 и Itanium записи таблицы функций имеют следующий формат:</span><span class="sxs-lookup"><span data-stu-id="ffb41-2997">For x64 and Itanium platforms, function table entries have the following format:</span></span>



| <span data-ttu-id="ffb41-2998">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-2998">Offset</span></span>        | <span data-ttu-id="ffb41-2999">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-2999">Size</span></span>          | <span data-ttu-id="ffb41-3000">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-3000">Field</span></span>                          | <span data-ttu-id="ffb41-3001">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-3001">Description</span></span>                                        |
|---------------|---------------|--------------------------------|----------------------------------------------------|
| <span data-ttu-id="ffb41-3002">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-3002">0</span></span> <br/> | <span data-ttu-id="ffb41-3003">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3003">4</span></span> <br/> | <span data-ttu-id="ffb41-3004">Начальный адрес</span><span class="sxs-lookup"><span data-stu-id="ffb41-3004">Begin Address</span></span> <br/>      | <span data-ttu-id="ffb41-3005">RVA соответствующей функции.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3005">The RVA of the corresponding function.</span></span> <br/> |
| <span data-ttu-id="ffb41-3006">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3006">4</span></span> <br/> | <span data-ttu-id="ffb41-3007">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3007">4</span></span> <br/> | <span data-ttu-id="ffb41-3008">Конечный адрес</span><span class="sxs-lookup"><span data-stu-id="ffb41-3008">End Address</span></span> <br/>        | <span data-ttu-id="ffb41-3009">RVA конца функции.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3009">The RVA of the end of the function.</span></span> <br/>    |
| <span data-ttu-id="ffb41-3010">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-3010">8</span></span> <br/> | <span data-ttu-id="ffb41-3011">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3011">4</span></span> <br/> | <span data-ttu-id="ffb41-3012">Сведения о выкрутке</span><span class="sxs-lookup"><span data-stu-id="ffb41-3012">Unwind Information</span></span> <br/> | <span data-ttu-id="ffb41-3013">RVA данных очистки.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3013">The RVA of the unwind information.</span></span> <br/>     |



 

### <a name="the-reloc-section-image-only"></a><span data-ttu-id="ffb41-3014">Раздел. reloc (только изображение)</span><span class="sxs-lookup"><span data-stu-id="ffb41-3014">The .reloc Section (Image Only)</span></span>

<span data-ttu-id="ffb41-3015">Базовая таблица перемещений содержит записи для всех базовых перемещений в образе.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3015">The base relocation table contains entries for all base relocations in the image.</span></span> <span data-ttu-id="ffb41-3016">В поле "Базовая таблица перерасположения" в необязательных каталогах данных заголовков выдается число байтов в базовой таблице перемещений.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3016">The Base Relocation Table field in the optional header data directories gives the number of bytes in the base relocation table.</span></span> <span data-ttu-id="ffb41-3017">Дополнительные сведения см. в разделе [необязательные каталоги данных заголовков (только для изображений)](#optional-header-data-directories-image-only).</span><span class="sxs-lookup"><span data-stu-id="ffb41-3017">For more information, see [Optional Header Data Directories (Image Only)](#optional-header-data-directories-image-only).</span></span> <span data-ttu-id="ffb41-3018">Базовая таблица перемещений разделяется на блоки.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3018">The base relocation table is divided into blocks.</span></span> <span data-ttu-id="ffb41-3019">Каждый блок представляет базовые перемещения для 4-килобайтной страницы.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3019">Each block represents the base relocations for a 4K page.</span></span> <span data-ttu-id="ffb41-3020">Каждый блок должен начинаться на 32-разрядной границе.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3020">Each block must start on a 32-bit boundary.</span></span>

<span data-ttu-id="ffb41-3021">Загрузчик не требуется для обработки базовых перемещений, разрешаемых компоновщиком, если не удается загрузить образ нагрузки в базу изображений, указанную в заголовке PE.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3021">The loader is not required to process base relocations that are resolved by the linker, unless the load image cannot be loaded at the image base that is specified in the PE header.</span></span>

#### <a name="base-relocation-block"></a><span data-ttu-id="ffb41-3022">Базовый блок перемещения</span><span class="sxs-lookup"><span data-stu-id="ffb41-3022">Base Relocation Block</span></span>

<span data-ttu-id="ffb41-3023">Каждый базовый блок перемещения начинается со следующей структуры:</span><span class="sxs-lookup"><span data-stu-id="ffb41-3023">Each base relocation block starts with the following structure:</span></span>



| <span data-ttu-id="ffb41-3024">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-3024">Offset</span></span>        | <span data-ttu-id="ffb41-3025">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-3025">Size</span></span>          | <span data-ttu-id="ffb41-3026">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-3026">Field</span></span>                  | <span data-ttu-id="ffb41-3027">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-3027">Description</span></span>                                                                                                                                              |
|---------------|---------------|------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-3028">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-3028">0</span></span> <br/> | <span data-ttu-id="ffb41-3029">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3029">4</span></span> <br/> | <span data-ttu-id="ffb41-3030">RVA страницы</span><span class="sxs-lookup"><span data-stu-id="ffb41-3030">Page RVA</span></span> <br/>   | <span data-ttu-id="ffb41-3031">База изображения плюс RVA страницы добавляются в каждое смещение, чтобы создать адрес, по которому необходимо применить базовое перемещение.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3031">The image base plus the page RVA is added to each offset to create the VA where the base relocation must be applied.</span></span> <br/>                         |
| <span data-ttu-id="ffb41-3032">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3032">4</span></span> <br/> | <span data-ttu-id="ffb41-3033">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3033">4</span></span> <br/> | <span data-ttu-id="ffb41-3034">Размер блока</span><span class="sxs-lookup"><span data-stu-id="ffb41-3034">Block Size</span></span> <br/> | <span data-ttu-id="ffb41-3035">Общее число байтов в базовом блоке перемещения, включая RVA страницы и поля размера блока, а также поля типа/смещения, которые следуют за.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3035">The total number of bytes in the base relocation block, including the Page RVA and Block Size fields and the Type/Offset fields that follow.</span></span> <br/> |



 

<span data-ttu-id="ffb41-3036">Затем в поле Размер блока следует любое количество записей типа или смещения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3036">The Block Size field is then followed by any number of Type or Offset field entries.</span></span> <span data-ttu-id="ffb41-3037">Каждая запись имеет слово (2 байта) и имеет следующую структуру:</span><span class="sxs-lookup"><span data-stu-id="ffb41-3037">Each entry is a WORD (2 bytes) and has the following structure:</span></span>



| <span data-ttu-id="ffb41-3038">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-3038">Offset</span></span>        | <span data-ttu-id="ffb41-3039">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-3039">Size</span></span>                | <span data-ttu-id="ffb41-3040">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-3040">Field</span></span>              | <span data-ttu-id="ffb41-3041">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-3041">Description</span></span>                                                                                                                                                                                                            |
|---------------|---------------------|--------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-3042">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-3042">0</span></span> <br/> | <span data-ttu-id="ffb41-3043">4 бита</span><span class="sxs-lookup"><span data-stu-id="ffb41-3043">4 bits</span></span> <br/>  | <span data-ttu-id="ffb41-3044">Тип</span><span class="sxs-lookup"><span data-stu-id="ffb41-3044">Type</span></span> <br/>   | <span data-ttu-id="ffb41-3045">Значение, которое указывает тип переприменяемого базового расположения, который хранится в 4-разрядном СЛОВе.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3045">Stored in the high 4 bits of the WORD, a value that indicates the type of base relocation to be applied.</span></span> <span data-ttu-id="ffb41-3046">Дополнительные сведения см. в разделе [базовые типы перемещений](#base-relocation-types).</span><span class="sxs-lookup"><span data-stu-id="ffb41-3046">For more information, see [Base Relocation Types](#base-relocation-types).</span></span><br/>                         |
| <span data-ttu-id="ffb41-3047">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-3047">0</span></span> <br/> | <span data-ttu-id="ffb41-3048">12 бит</span><span class="sxs-lookup"><span data-stu-id="ffb41-3048">12 bits</span></span> <br/> | <span data-ttu-id="ffb41-3049">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-3049">Offset</span></span> <br/> | <span data-ttu-id="ffb41-3050">Значение, хранящееся в оставшихся 12 битах слова, смещение от начального адреса, указанного в поле RVA страницы для блока.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3050">Stored in the remaining 12 bits of the WORD, an offset from the starting address that was specified in the Page RVA field for the block.</span></span> <span data-ttu-id="ffb41-3051">Это смещение указывает, где следует применять базовое перемещение.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3051">This offset specifies where the base relocation is to be applied.</span></span> <br/> |



 

<span data-ttu-id="ffb41-3052">Чтобы применить перемещение в базовом расположении, вычисляется разница между предпочтительным базовым адресом и базой, в которой на самом деле загружено изображение.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3052">To apply a base relocation, the difference is calculated between the preferred base address and the base where the image is actually loaded.</span></span> <span data-ttu-id="ffb41-3053">Если образ загружается в предпочтительной базе, разница равна нулю, поэтому базовые перемещения не нужно применять.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3053">If the image is loaded at its preferred base, the difference is zero and thus the base relocations do not have to be applied.</span></span>

#### <a name="base-relocation-types"></a><span data-ttu-id="ffb41-3054">Базовые типы перемещений</span><span class="sxs-lookup"><span data-stu-id="ffb41-3054">Base Relocation Types</span></span>



| <span data-ttu-id="ffb41-3055">Константа</span><span class="sxs-lookup"><span data-stu-id="ffb41-3055">Constant</span></span>                                       | <span data-ttu-id="ffb41-3056">Значение</span><span class="sxs-lookup"><span data-stu-id="ffb41-3056">Value</span></span>          | <span data-ttu-id="ffb41-3057">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-3057">Description</span></span>                                                                                                                                                                                                                                                                                                                       |
|------------------------------------------------|----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-3058">\_ \_ абсолютный rel на основе образа \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-3058">IMAGE\_REL\_BASED\_ABSOLUTE</span></span> <br/>        | <span data-ttu-id="ffb41-3059">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-3059">0</span></span> <br/>  | <span data-ttu-id="ffb41-3060">Перемещение базового расположения пропускается.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3060">The base relocation is skipped.</span></span> <span data-ttu-id="ffb41-3061">Этот тип можно использовать для заполнения блока.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3061">This type can be used to pad a block.</span></span> <br/>                                                                                                                                                                                                                                                 |
| <span data-ttu-id="ffb41-3062">\_высокое изображение \_ на основе rel \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-3062">IMAGE\_REL\_BASED\_HIGH</span></span> <br/>            | <span data-ttu-id="ffb41-3063">1</span><span class="sxs-lookup"><span data-stu-id="ffb41-3063">1</span></span> <br/>  | <span data-ttu-id="ffb41-3064">При перемещении в базовое расположение добавляются старшие 16 бит разности к 16-битовому полю со смещением.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3064">The base relocation adds the high 16 bits of the difference to the 16-bit field at offset.</span></span> <span data-ttu-id="ffb41-3065">16-разрядное поле представляет верхнее значение 32-разрядного слова.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3065">The 16-bit field represents the high value of a 32-bit word.</span></span> <br/>                                                                                                                                                               |
| <span data-ttu-id="ffb41-3066">ИЗОБРАЖЕНИЕ \_ \_ на основе rel \_ низкого уровня</span><span class="sxs-lookup"><span data-stu-id="ffb41-3066">IMAGE\_REL\_BASED\_LOW</span></span> <br/>             | <span data-ttu-id="ffb41-3067">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-3067">2</span></span> <br/>  | <span data-ttu-id="ffb41-3068">При перемещении в базовое расположение добавляются младшие 16 разрядов разности к 16-битовому полю со смещением.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3068">The base relocation adds the low 16 bits of the difference to the 16-bit field at offset.</span></span> <span data-ttu-id="ffb41-3069">16-разрядное поле представляет половину 32-разрядного слова.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3069">The 16-bit field represents the low half of a 32-bit word.</span></span> <br/>                                                                                                                                                                  |
| <span data-ttu-id="ffb41-3070">IMAGE \_ rel \_ на основе \_ хигхлов</span><span class="sxs-lookup"><span data-stu-id="ffb41-3070">IMAGE\_REL\_BASED\_HIGHLOW</span></span> <br/>         | <span data-ttu-id="ffb41-3071">3</span><span class="sxs-lookup"><span data-stu-id="ffb41-3071">3</span></span> <br/>  | <span data-ttu-id="ffb41-3072">При перемещении базового расположения применяются все 32 бит разности к 32-разрядному полю со смещением.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3072">The base relocation applies all 32 bits of the difference to the 32-bit field at offset.</span></span> <br/>                                                                                                                                                                                                                              |
| <span data-ttu-id="ffb41-3073">IMAGE \_ rel \_ на основе \_ хигхадж</span><span class="sxs-lookup"><span data-stu-id="ffb41-3073">IMAGE\_REL\_BASED\_HIGHADJ</span></span> <br/>         | <span data-ttu-id="ffb41-3074">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3074">4</span></span> <br/>  | <span data-ttu-id="ffb41-3075">При перемещении в базовое расположение добавляются старшие 16 бит разности к 16-битовому полю со смещением.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3075">The base relocation adds the high 16 bits of the difference to the 16-bit field at offset.</span></span> <span data-ttu-id="ffb41-3076">16-разрядное поле представляет верхнее значение 32-разрядного слова.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3076">The 16-bit field represents the high value of a 32-bit word.</span></span> <span data-ttu-id="ffb41-3077">Младшие 16 бит 32-разрядного значения хранятся в 16-разрядном слове, которое следует за этим перемещением в базовом расположении.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3077">The low 16 bits of the 32-bit value are stored in the 16-bit word that follows this base relocation.</span></span> <span data-ttu-id="ffb41-3078">Это означает, что эта базовая перерасположение занимает два слота.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3078">This means that this base relocation occupies two slots.</span></span> <br/> |
| <span data-ttu-id="ffb41-3079">IMAGE \_ rel \_ на \_ основе \_ жмпаддр MIPS</span><span class="sxs-lookup"><span data-stu-id="ffb41-3079">IMAGE\_REL\_BASED\_MIPS\_JMPADDR</span></span> <br/>   | <span data-ttu-id="ffb41-3080">5</span><span class="sxs-lookup"><span data-stu-id="ffb41-3080">5</span></span> <br/>  | <span data-ttu-id="ffb41-3081">Интерпретация перемещения зависит от типа компьютера.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3081">The relocation interpretation is dependent on the machine type.</span></span> <br/> <span data-ttu-id="ffb41-3082">Если тип машины — MIPS, то базовое перемещение применяется к инструкции перехода MIPS.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3082">When the machine type is MIPS, the base relocation applies to a MIPS jump instruction.</span></span> <br/>                                                                                                                                                    |
| <span data-ttu-id="ffb41-3083">Изображение \_ \_ ARM rel на основе образа \_ \_ MOV32</span><span class="sxs-lookup"><span data-stu-id="ffb41-3083">IMAGE\_REL\_BASED\_ARM\_MOV32</span></span> <br/>      | <span data-ttu-id="ffb41-3084">5</span><span class="sxs-lookup"><span data-stu-id="ffb41-3084">5</span></span> <br/>  | <span data-ttu-id="ffb41-3085">Такое перемещение имеет смысл только в том случае, если тип машины — ARM или Thumb.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3085">This relocation is meaningful only when the machine type is ARM or Thumb.</span></span> <span data-ttu-id="ffb41-3086">При перемещении в базовое расположение используется 32-разрядный адрес символа через последовательную пару инструкций МОВВ/МОВТ.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3086">The base relocation applies the 32-bit address of a symbol across a consecutive MOVW/MOVT instruction pair.</span></span> <br/>                                                                                                                                 |
| <span data-ttu-id="ffb41-3087">IMAGE \_ rel \_ на основе \_ рискв \_ HIGH20</span><span class="sxs-lookup"><span data-stu-id="ffb41-3087">IMAGE\_REL\_BASED\_RISCV\_HIGH20</span></span> <br/>   | <span data-ttu-id="ffb41-3088">5</span><span class="sxs-lookup"><span data-stu-id="ffb41-3088">5</span></span> <br/>  | <span data-ttu-id="ffb41-3089">Это перемещение имеет смысл только в том случае, если тип машины — RISC-V.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3089">This relocation is only meaningful when the machine type is RISC-V.</span></span> <span data-ttu-id="ffb41-3090">Базовое перемещение применяется к старшим 20 бит 32-разрядного абсолютного адреса.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3090">The base relocation applies to the high 20 bits of a 32-bit absolute address.</span></span> <br/>                                                                                                                                                                     |
|                                                | <span data-ttu-id="ffb41-3091">6</span><span class="sxs-lookup"><span data-stu-id="ffb41-3091">6</span></span> <br/>  | <span data-ttu-id="ffb41-3092">Зарезервировано, должно быть равно нулю.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3092">Reserved, must be zero.</span></span> <br/>                                                                                                                                                                                                                                                                                               |
| <span data-ttu-id="ffb41-3093">Изображение \_ rel \_ на основе изображения \_ Thumb \_ MOV32</span><span class="sxs-lookup"><span data-stu-id="ffb41-3093">IMAGE\_REL\_BASED\_THUMB\_MOV32</span></span> <br/>    | <span data-ttu-id="ffb41-3094">7</span><span class="sxs-lookup"><span data-stu-id="ffb41-3094">7</span></span> <br/>  | <span data-ttu-id="ffb41-3095">Такое перемещение имеет смысл, только если компьютер имеет тип Thumb.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3095">This relocation is meaningful only when the machine type is Thumb.</span></span> <span data-ttu-id="ffb41-3096">При перемещении базового расположения в последовательную пару инструкций МОВВ/МОВТ применяется 32-разрядный адрес символа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3096">The base relocation applies the 32-bit address of a symbol to a consecutive MOVW/MOVT instruction pair.</span></span> <br/>                                                                                                                                            |
| <span data-ttu-id="ffb41-3097">IMAGE \_ rel \_ на основе \_ рискв \_ LOW12I</span><span class="sxs-lookup"><span data-stu-id="ffb41-3097">IMAGE\_REL\_BASED\_RISCV\_LOW12I</span></span> <br/>   | <span data-ttu-id="ffb41-3098">7</span><span class="sxs-lookup"><span data-stu-id="ffb41-3098">7</span></span> <br/>  | <span data-ttu-id="ffb41-3099">Это перемещение имеет смысл только в том случае, если тип машины — RISC-V.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3099">This relocation is only meaningful when the machine type is RISC-V.</span></span> <span data-ttu-id="ffb41-3100">Базовое перемещение применяется к младшим 12 битам 32-разрядного абсолютного адреса, сформированного в формате ввода-вывода RISC-V.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3100">The base relocation applies to the low 12 bits of a 32-bit absolute address formed in RISC-V I-type instruction format.</span></span> <br/>                                                                                                                           |
| <span data-ttu-id="ffb41-3101">IMAGE \_ rel \_ на основе \_ рискв \_ LOW12S</span><span class="sxs-lookup"><span data-stu-id="ffb41-3101">IMAGE\_REL\_BASED\_RISCV\_LOW12S</span></span> <br/>   | <span data-ttu-id="ffb41-3102">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-3102">8</span></span> <br/>  | <span data-ttu-id="ffb41-3103">Это перемещение имеет смысл только в том случае, если тип машины — RISC-V.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3103">This relocation is only meaningful when the machine type is RISC-V.</span></span> <span data-ttu-id="ffb41-3104">Базовое перемещение применяется к младшим 12 битам 32-разрядного абсолютного адреса, сформированного в формате инструкции RISC-V S-Type.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3104">The base relocation applies to the low 12 bits of a 32-bit absolute address formed in RISC-V S-type instruction format.</span></span> <br/>                                                                                                                           |
| <span data-ttu-id="ffb41-3105">IMAGE \_ rel \_ на \_ основе \_ JMPADDR16 MIPS</span><span class="sxs-lookup"><span data-stu-id="ffb41-3105">IMAGE\_REL\_BASED\_MIPS\_JMPADDR16</span></span> <br/> | <span data-ttu-id="ffb41-3106">9</span><span class="sxs-lookup"><span data-stu-id="ffb41-3106">9</span></span> <br/>  | <span data-ttu-id="ffb41-3107">Перемещение имеет смысл только в том случае, если тип машины — MIPS.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3107">The relocation is only meaningful when the machine type is MIPS.</span></span> <span data-ttu-id="ffb41-3108">Базовое перемещение применяется к инструкции перехода MIPS16.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3108">The base relocation applies to a MIPS16 jump instruction.</span></span> <br/>                                                                                                                                                                                            |
| <span data-ttu-id="ffb41-3109">IMAGE \_ rel \_ на основе \_ DIR64</span><span class="sxs-lookup"><span data-stu-id="ffb41-3109">IMAGE\_REL\_BASED\_DIR64</span></span> <br/>           | <span data-ttu-id="ffb41-3110">10</span><span class="sxs-lookup"><span data-stu-id="ffb41-3110">10</span></span> <br/> | <span data-ttu-id="ffb41-3111">При перемещении базового расположения применяется разность к 64-разрядному полю со смещением.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3111">The base relocation applies the difference to the 64-bit field at offset.</span></span> <br/>                                                                                                                                                                                                                                             |



 

### <a name="the-tls-section"></a><span data-ttu-id="ffb41-3112">Раздел. TLS</span><span class="sxs-lookup"><span data-stu-id="ffb41-3112">The .tls Section</span></span>

<span data-ttu-id="ffb41-3113">Раздел. TLS предоставляет поддержку Direct PE и COFF для статического локального потока данных (TLS).</span><span class="sxs-lookup"><span data-stu-id="ffb41-3113">The .tls section provides direct PE and COFF support for static thread local storage (TLS).</span></span> <span data-ttu-id="ffb41-3114">TLS — это специальный класс хранения, поддерживаемый Windows, в котором объект данных не является автоматическим (стеком) переменной, но является локальным для каждого отдельного потока, который выполняет код.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3114">TLS is a special storage class that Windows supports in which a data object is not an automatic (stack) variable, yet is local to each individual thread that runs the code.</span></span> <span data-ttu-id="ffb41-3115">Таким же, каждый поток может поддерживать другое значение для переменной, объявленной с помощью TLS.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3115">Thus, each thread can maintain a different value for a variable declared by using TLS.</span></span>

<span data-ttu-id="ffb41-3116">Обратите внимание, что любой объем данных TLS может поддерживаться с помощью API-интерфейсов TlsAlloc, TlsFree, Тлссетвалуе и Тлсжетвалуе.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3116">Note that any amount of TLS data can be supported by using the API calls TlsAlloc, TlsFree, TlsSetValue, and TlsGetValue.</span></span> <span data-ttu-id="ffb41-3117">Реализация PE или COFF является альтернативным подходом к использованию API и обладает преимуществом более простым из точек зрения программиста на языке программирования высокого уровня.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3117">The PE or COFF implementation is an alternative approach to using the API and has the advantage of being simpler from the high-level-language programmer's viewpoint.</span></span> <span data-ttu-id="ffb41-3118">Эта реализация позволяет определять и инициализировать данные TLS аналогично обычным статическим переменным в программе.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3118">This implementation enables TLS data to be defined and initialized similarly to ordinary static variables in a program.</span></span> <span data-ttu-id="ffb41-3119">Например, в Visual C++ статическая переменная TLS может быть определена следующим образом без использования API Windows:</span><span class="sxs-lookup"><span data-stu-id="ffb41-3119">For example, in Visual C++, a static TLS variable can be defined as follows, without using the Windows API:</span></span>

`__declspec (thread) int tlsFlag = 1;`

<span data-ttu-id="ffb41-3120">Для поддержки этой конструкции программирования в разделе PE и COFF. TLS указаны следующие сведения: данные инициализации, подпрограммы обратного вызова для инициализации и завершения потока, а также индекс TLS, который описан в следующем обсуждении.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3120">To support this programming construct, the PE and COFF .tls section specifies the following information: initialization data, callback routines for per-thread initialization and termination, and the TLS index, which are explained in the following discussion.</span></span>

> [!Note]
>
> <span data-ttu-id="ffb41-3121">Статически объявленные объекты данных TLS можно использовать только в статически загруженных файлах изображений.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3121">Statically declared TLS data objects can be used only in statically loaded image files.</span></span> <span data-ttu-id="ffb41-3122">Этот факт делает ненадежным использование статических данных TLS в библиотеке DLL, если только вы не уверены, что библиотека DLL или что-либо статическое связывание с ней, никогда не загружается динамически с помощью функции API LoadLibrary.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3122">This fact makes it unreliable to use static TLS data in a DLL unless you know that the DLL, or anything statically linked with it, will never be loaded dynamically with the LoadLibrary API function.</span></span>

 

<span data-ttu-id="ffb41-3123">Исполняемый код обращается к статическому объекту данных TLS, выполнив следующие действия:</span><span class="sxs-lookup"><span data-stu-id="ffb41-3123">Executable code accesses a static TLS data object through the following steps:</span></span>

1.  <span data-ttu-id="ffb41-3124">Во время компоновки компоновщик задает адрес поля индекса каталога TLS.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3124">At link time, the linker sets the Address of Index field of the TLS directory.</span></span> <span data-ttu-id="ffb41-3125">Это поле указывает на расположение, в котором программа должна получить индекс TLS.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3125">This field points to a location where the program expects to receive the TLS index.</span></span>

    <span data-ttu-id="ffb41-3126">Библиотека времени выполнения Майкрософт упрощает этот процесс, определяя образ памяти для каталога TLS и присвоив ему специальное имя " \_ \_ TLS \_ used" ("протоколы Intel x86") или " \_ TLS \_ used" (другие платформы).</span><span class="sxs-lookup"><span data-stu-id="ffb41-3126">The Microsoft run-time library facilitates this process by defining a memory image of the TLS directory and giving it the special name "\_\_tls\_used" (Intel x86 platforms) or "\_tls\_used" (other platforms).</span></span> <span data-ttu-id="ffb41-3127">Компоновщик ищет этот образ памяти и использует данные для создания каталога TLS.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3127">The linker looks for this memory image and uses the data there to create the TLS directory.</span></span> <span data-ttu-id="ffb41-3128">Другие компиляторы, поддерживающие TLS и работающие с компоновщиком Microsoft, должны использовать тот же метод.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3128">Other compilers that support TLS and work with the Microsoft linker must use this same technique.</span></span>

2.  <span data-ttu-id="ffb41-3129">При создании потока загрузчик передает адрес массива TLS потока, помещая в регистр FS адрес блока среды потока (ТЕБ).</span><span class="sxs-lookup"><span data-stu-id="ffb41-3129">When a thread is created, the loader communicates the address of the thread's TLS array by placing the address of the thread environment block (TEB) in the FS register.</span></span> <span data-ttu-id="ffb41-3130">Указатель на массив TLS находится на смещении 0x2C от начала ТЕБ.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3130">A pointer to the TLS array is at the offset of 0x2C from the beginning of TEB.</span></span> <span data-ttu-id="ffb41-3131">Это поведение зависит от технологии Intel x86.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3131">This behavior is Intel x86-specific.</span></span>

3.  <span data-ttu-id="ffb41-3132">Загрузчик присваивает значение индекса TLS месту, указанному в поле адрес поля индекса.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3132">The loader assigns the value of the TLS index to the place that was indicated by the Address of Index field.</span></span>

4.  <span data-ttu-id="ffb41-3133">Исполняемый код получает индекс TLS, а также расположение массива TLS.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3133">The executable code retrieves the TLS index and also the location of the TLS array.</span></span>

5.  <span data-ttu-id="ffb41-3134">В коде используется индекс TLS и расположение массива TLS (умножение индекса на 4 и использование его в качестве смещения массива) для получения адреса области данных TLS для заданной программы и модуля.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3134">The code uses the TLS index and the TLS array location (multiplying the index by 4 and using it as an offset to the array) to get the address of the TLS data area for the given program and module.</span></span> <span data-ttu-id="ffb41-3135">Каждый поток имеет собственную область данных TLS, но она прозрачна для программы, которой не нужно знать, как распределяются данные для отдельных потоков.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3135">Each thread has its own TLS data area, but this is transparent to the program, which does not need to know how data is allocated for individual threads.</span></span>

6.  <span data-ttu-id="ffb41-3136">Доступ к отдельному объекту данных TLS осуществляется как с фиксированным смещением в области данных TLS.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3136">An individual TLS data object is accessed as some fixed offset into the TLS data area.</span></span>

<span data-ttu-id="ffb41-3137">Массив TLS — это массив адресов, поддерживаемых системой для каждого потока.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3137">The TLS array is an array of addresses that the system maintains for each thread.</span></span> <span data-ttu-id="ffb41-3138">Каждый адрес в этом массиве указывает расположение данных TLS для заданного модуля (EXE или DLL) в рамках программы.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3138">Each address in this array gives the location of TLS data for a given module (EXE or DLL) within the program.</span></span> <span data-ttu-id="ffb41-3139">Индекс TLS указывает, какой элемент массива использовать.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3139">The TLS index indicates which member of the array to use.</span></span> <span data-ttu-id="ffb41-3140">Индекс — это число (значимое только для системы), идентифицирующее модуль.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3140">The index is a number (meaningful only to the system) that identifies the module.</span></span>

#### <a name="the-tls-directory"></a><span data-ttu-id="ffb41-3141">Каталог TLS</span><span class="sxs-lookup"><span data-stu-id="ffb41-3141">The TLS Directory</span></span>

<span data-ttu-id="ffb41-3142">Каталог TLS имеет следующий формат:</span><span class="sxs-lookup"><span data-stu-id="ffb41-3142">The TLS directory has the following format:</span></span>



| <span data-ttu-id="ffb41-3143">Offset (формат PE32/формат PE32 +)</span><span class="sxs-lookup"><span data-stu-id="ffb41-3143">Offset (PE32/ PE32+)</span></span> | <span data-ttu-id="ffb41-3144">Размер (формат PE32/формат PE32 +)</span><span class="sxs-lookup"><span data-stu-id="ffb41-3144">Size (PE32/ PE32+)</span></span> | <span data-ttu-id="ffb41-3145">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-3145">Field</span></span>                            | <span data-ttu-id="ffb41-3146">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-3146">Description</span></span>                                                                                                                                                                                                                                                                                                                                         |
|----------------------|--------------------|----------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-3147">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-3147">0</span></span> <br/>        | <span data-ttu-id="ffb41-3148">4/8</span><span class="sxs-lookup"><span data-stu-id="ffb41-3148">4/8</span></span> <br/>    | <span data-ttu-id="ffb41-3149">Начальные данные — начало ва</span><span class="sxs-lookup"><span data-stu-id="ffb41-3149">Raw Data Start VA</span></span> <br/>    | <span data-ttu-id="ffb41-3150">Начальный адрес шаблона TLS.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3150">The starting address of the TLS template.</span></span> <span data-ttu-id="ffb41-3151">Шаблон — это блок данных, который используется для инициализации данных TLS.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3151">The template is a block of data that is used to initialize TLS data.</span></span> <span data-ttu-id="ffb41-3152">Система копирует все эти данные при каждом создании потока, поэтому они не должны быть повреждены.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3152">The system copies all of this data each time a thread is created, so it must not be corrupted.</span></span> <span data-ttu-id="ffb41-3153">Обратите внимание, что этот адрес не является RVA; Это адрес, для которого должно быть перемещено базовое расположение в разделе. reloc.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3153">Note that this address is not an RVA; it is an address for which there should be a base relocation in the .reloc section.</span></span> <br/> |
| <span data-ttu-id="ffb41-3154">4/8</span><span class="sxs-lookup"><span data-stu-id="ffb41-3154">4/8</span></span> <br/>      | <span data-ttu-id="ffb41-3155">4/8</span><span class="sxs-lookup"><span data-stu-id="ffb41-3155">4/8</span></span> <br/>    | <span data-ttu-id="ffb41-3156">Конечные данные необработанных данных</span><span class="sxs-lookup"><span data-stu-id="ffb41-3156">Raw Data End VA</span></span> <br/>      | <span data-ttu-id="ffb41-3157">Адрес последнего байта TLS, за исключением нулевой заливки.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3157">The address of the last byte of the TLS, except for the zero fill.</span></span> <span data-ttu-id="ffb41-3158">Как и в случае с полем необработанных данных Start ва, это a, а не RVA.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3158">As with the Raw Data Start VA field, this is a VA, not an RVA.</span></span> <br/>                                                                                                                                                                                                       |
| <span data-ttu-id="ffb41-3159">8/16</span><span class="sxs-lookup"><span data-stu-id="ffb41-3159">8/16</span></span> <br/>     | <span data-ttu-id="ffb41-3160">4/8</span><span class="sxs-lookup"><span data-stu-id="ffb41-3160">4/8</span></span> <br/>    | <span data-ttu-id="ffb41-3161">Адрес индекса</span><span class="sxs-lookup"><span data-stu-id="ffb41-3161">Address of Index</span></span> <br/>     | <span data-ttu-id="ffb41-3162">Расположение для получения индекса TLS, который назначается загрузчиком.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3162">The location to receive the TLS index, which the loader assigns.</span></span> <span data-ttu-id="ffb41-3163">Это расположение находится в обычном разделе данных, поэтому ему может быть предоставлено символьное имя, доступное программе.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3163">This location is in an ordinary data section, so it can be given a symbolic name that is accessible to the program.</span></span> <br/>                                                                                                                                                    |
| <span data-ttu-id="ffb41-3164">12/24</span><span class="sxs-lookup"><span data-stu-id="ffb41-3164">12/24</span></span> <br/>    | <span data-ttu-id="ffb41-3165">4/8</span><span class="sxs-lookup"><span data-stu-id="ffb41-3165">4/8</span></span> <br/>    | <span data-ttu-id="ffb41-3166">Адрес обратных вызовов</span><span class="sxs-lookup"><span data-stu-id="ffb41-3166">Address of Callbacks</span></span> <br/> | <span data-ttu-id="ffb41-3167">Указатель на массив функций обратного вызова TLS.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3167">The pointer to an array of TLS callback functions.</span></span> <span data-ttu-id="ffb41-3168">Массив завершается нулем, поэтому если функция обратного вызова не поддерживается, это поле указывает на 4 байта, установленное в 0.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3168">The array is null-terminated, so if no callback function is supported, this field points to 4 bytes set to zero.</span></span> <span data-ttu-id="ffb41-3169">Дополнительные сведения о прототипе этих функций см. в разделе [функции обратного вызова TLS](#tls-callback-functions).</span><span class="sxs-lookup"><span data-stu-id="ffb41-3169">For information about the prototype for these functions, see [TLS Callback Functions](#tls-callback-functions).</span></span><br/>                                                      |
| <span data-ttu-id="ffb41-3170">16/32</span><span class="sxs-lookup"><span data-stu-id="ffb41-3170">16/32</span></span> <br/>    | <span data-ttu-id="ffb41-3171">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3171">4</span></span> <br/>      | <span data-ttu-id="ffb41-3172">Нулевой размер заливки</span><span class="sxs-lookup"><span data-stu-id="ffb41-3172">Size of Zero Fill</span></span> <br/>    | <span data-ttu-id="ffb41-3173">Размер в байтах шаблона за пределами инициализированных данных, разделенных полями "начало и конец необработанных данных".</span><span class="sxs-lookup"><span data-stu-id="ffb41-3173">The size in bytes of the template, beyond the initialized data delimited by the Raw Data Start VA and Raw Data End VA fields.</span></span> <span data-ttu-id="ffb41-3174">Общий размер шаблона должен быть таким же, как общий размер данных TLS в файле образа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3174">The total template size should be the same as the total size of TLS data in the image file.</span></span> <span data-ttu-id="ffb41-3175">Нулевая Заливка — это объем данных, поступающий после инициализированных ненулевых данных.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3175">The zero fill is the amount of data that comes after the initialized nonzero data.</span></span> <br/>                            |
| <span data-ttu-id="ffb41-3176">20/36</span><span class="sxs-lookup"><span data-stu-id="ffb41-3176">20/36</span></span> <br/>    | <span data-ttu-id="ffb41-3177">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3177">4</span></span> <br/>      | <span data-ttu-id="ffb41-3178">Характеристики</span><span class="sxs-lookup"><span data-stu-id="ffb41-3178">Characteristics</span></span> <br/>      | <span data-ttu-id="ffb41-3179">Четыре бита \[ 23:20 \] описывают сведения о выравнивании.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3179">The four bits \[23:20\] describe alignment info.</span></span> <span data-ttu-id="ffb41-3180">Возможные значения — это параметры, которые определены как \_ Выравнивание уведомления SCN \_ \_ \* , которые также используются для описания выравнивания раздела в объектных файлах.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3180">Possible values are those defined as IMAGE\_SCN\_ALIGN\_\*, which are also used to describe alignment of section in object files.</span></span> <span data-ttu-id="ffb41-3181">Остальные 28 бит зарезервированы для будущего использования.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3181">The other 28 bits are reserved for future use.</span></span> <br/>                                                                                                       |



 

#### <a name="tls-callback-functions"></a><span data-ttu-id="ffb41-3182">Функции обратного вызова TLS</span><span class="sxs-lookup"><span data-stu-id="ffb41-3182">TLS Callback Functions</span></span>

<span data-ttu-id="ffb41-3183">Программа может предоставить одну или несколько функций обратного вызова TLS для поддержки дополнительной инициализации и завершения для объектов данных TLS.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3183">The program can provide one or more TLS callback functions to support additional initialization and termination for TLS data objects.</span></span> <span data-ttu-id="ffb41-3184">Типичным применением такой функции обратного вызова является вызов конструкторов и деструкторов для объектов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3184">A typical use for such a callback function would be to call constructors and destructors for objects.</span></span>

<span data-ttu-id="ffb41-3185">Хотя обычно существует не более одной функции обратного вызова, обратный вызов реализуется как массив, что позволяет добавлять дополнительные функции обратного вызова при необходимости.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3185">Although there is typically no more than one callback function, a callback is implemented as an array to make it possible to add additional callback functions if desired.</span></span> <span data-ttu-id="ffb41-3186">Если имеется несколько функций обратного вызова, каждая функция вызывается в том порядке, в котором его адрес отображается в массиве.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3186">If there is more than one callback function, each function is called in the order in which its address appears in the array.</span></span> <span data-ttu-id="ffb41-3187">Пустой указатель завершает массив.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3187">A null pointer terminates the array.</span></span> <span data-ttu-id="ffb41-3188">Вполне допустимо иметь пустой список (обратный вызов не поддерживается). в этом случае массив обратного вызова содержит только один элемент — пустой указатель.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3188">It is perfectly valid to have an empty list (no callback supported), in which case the callback array has exactly one member-a null pointer.</span></span>

<span data-ttu-id="ffb41-3189">Прототип функции обратного вызова (на который указывает указатель типа \_ callback пимаже TLS \_ ) имеет те же параметры, что и функция точки входа DLL:</span><span class="sxs-lookup"><span data-stu-id="ffb41-3189">The prototype for a callback function (pointed to by a pointer of type PIMAGE\_TLS\_CALLBACK) has the same parameters as a DLL entry-point function:</span></span>


```C++
typedef VOID
(NTAPI *PIMAGE_TLS_CALLBACK) (
    PVOID DllHandle,
    DWORD Reason,
    PVOID Reserved
    );
```



<span data-ttu-id="ffb41-3190">Зарезервированный параметр должен иметь значение 0.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3190">The Reserved parameter should be set to zero.</span></span> <span data-ttu-id="ffb41-3191">Параметр Reason может принимать следующие значения:</span><span class="sxs-lookup"><span data-stu-id="ffb41-3191">The Reason parameter can take the following values:</span></span>



| <span data-ttu-id="ffb41-3192">Параметр</span><span class="sxs-lookup"><span data-stu-id="ffb41-3192">Setting</span></span>                          | <span data-ttu-id="ffb41-3193">Значение</span><span class="sxs-lookup"><span data-stu-id="ffb41-3193">Value</span></span>         | <span data-ttu-id="ffb41-3194">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-3194">Description</span></span>                                                                                          |
|----------------------------------|---------------|------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-3195">\_Подключение к ПРОЦЕССУ DLL \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-3195">DLL\_PROCESS\_ATTACH</span></span> <br/> | <span data-ttu-id="ffb41-3196">1</span><span class="sxs-lookup"><span data-stu-id="ffb41-3196">1</span></span> <br/> | <span data-ttu-id="ffb41-3197">Начат новый процесс, включая первый поток.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3197">A new process has started, including the first thread.</span></span> <br/>                                   |
| <span data-ttu-id="ffb41-3198">\_подключение потока \_ DLL</span><span class="sxs-lookup"><span data-stu-id="ffb41-3198">DLL\_THREAD\_ATTACH</span></span> <br/>  | <span data-ttu-id="ffb41-3199">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-3199">2</span></span> <br/> | <span data-ttu-id="ffb41-3200">Создан новый поток.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3200">A new thread has been created.</span></span> <span data-ttu-id="ffb41-3201">Это уведомление отправлено для всех потоков, кроме первого.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3201">This notification sent for all but the first thread.</span></span> <br/>      |
| <span data-ttu-id="ffb41-3202">\_Отключение потока \_ DLL</span><span class="sxs-lookup"><span data-stu-id="ffb41-3202">DLL\_THREAD\_DETACH</span></span> <br/>  | <span data-ttu-id="ffb41-3203">3</span><span class="sxs-lookup"><span data-stu-id="ffb41-3203">3</span></span> <br/> | <span data-ttu-id="ffb41-3204">Поток собирается завершиться.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3204">A thread is about to be terminated.</span></span> <span data-ttu-id="ffb41-3205">Это уведомление отправлено для всех потоков, кроме первого.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3205">This notification sent for all but the first thread.</span></span> <br/> |
| <span data-ttu-id="ffb41-3206">\_отсоединение процесса DLL \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-3206">DLL\_PROCESS\_DETACH</span></span> <br/> | <span data-ttu-id="ffb41-3207">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-3207">0</span></span> <br/> | <span data-ttu-id="ffb41-3208">Процесс собирается завершиться, включая исходный поток.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3208">A process is about to terminate, including the original thread.</span></span> <br/>                          |



 

### <a name="the-load-configuration-structure-image-only"></a><span data-ttu-id="ffb41-3209">Структура конфигурации загрузки (только для образа)</span><span class="sxs-lookup"><span data-stu-id="ffb41-3209">The Load Configuration Structure (Image Only)</span></span>

<span data-ttu-id="ffb41-3210">Структура конфигурации загрузки ( \_ Каталог загрузки образа \_ \_ ) ранее использовалась в самых ограниченных случаях в самой операционной системе Windows NT для описания различных функций, которые слишком сложны или слишком велики для описания в заголовке файла или необязательном заголовке изображения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3210">The load configuration structure (IMAGE\_LOAD\_CONFIG\_DIRECTORY) was formerly used in very limited cases in the Windows NT operating system itself to describe various features too difficult or too large to describe in the file header or optional header of the image.</span></span> <span data-ttu-id="ffb41-3211">Текущие версии Microsoft компоновщика и Windows XP и более поздних версий Windows используют новую версию этой структуры для 32-разрядных систем на базе x86, которые включают в себя зарезервированную технологию SEH.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3211">Current versions of the Microsoft linker and Windows XP and later versions of Windows use a new version of this structure for 32-bit x86-based systems that include reserved SEH technology.</span></span> <span data-ttu-id="ffb41-3212">Это предоставляет список надежных обработчиков структурированных исключений, которые операционная система использует во время диспетчеризации исключений.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3212">This provides a list of safe structured exception handlers that the operating system uses during exception dispatching.</span></span> <span data-ttu-id="ffb41-3213">Если адрес обработчика находится в диапазоне адресов изображения и помечен как зарезервированный с учетом SEH (т. е. IMAGE \_ DLLCHARACTERISTICS \_ без \_ SEH в поле DLLCHARACTERISTICS необязательного заголовка, как описано выше), обработчик должен находиться в списке известных безнадежных обработчиков для этого образа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3213">If the handler address resides in an image's VA range and is marked as reserved SEH-aware (that is, IMAGE\_DLLCHARACTERISTICS\_NO\_SEH is clear in the DllCharacteristics field of the optional header, as described earlier), then the handler must be in the list of known safe handlers for that image.</span></span> <span data-ttu-id="ffb41-3214">В противном случае операционная система завершит работу приложения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3214">Otherwise, the operating system terminates the application.</span></span> <span data-ttu-id="ffb41-3215">Это помогает предотвратить использование эксплойта "захвата обработчика исключений x86", который использовался в прошлом для получения контроля над операционной системой.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3215">This helps prevent the "x86 exception handler hijacking" exploit that has been used in the past to take control of the operating system.</span></span>

<span data-ttu-id="ffb41-3216">Компоновщик Microsoft автоматически предоставляет стандартную структуру конфигурации загрузки для включения зарезервированных данных SEH.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3216">The Microsoft linker automatically provides a default load configuration structure to include the reserved SEH data.</span></span> <span data-ttu-id="ffb41-3217">Если пользовательский код уже содержит структуру конфигурации загрузки, он должен включать новые зарезервированные поля SEH.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3217">If the user code already provides a load configuration structure, it must include the new reserved SEH fields.</span></span> <span data-ttu-id="ffb41-3218">В противном случае компоновщик не может включать зарезервированные данные SEH, а изображение не помечено как содержащее зарезервированный SEH.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3218">Otherwise, the linker cannot include the reserved SEH data and the image is not marked as containing reserved SEH.</span></span>

#### <a name="load-configuration-directory"></a><span data-ttu-id="ffb41-3219">Загрузить каталог конфигурации</span><span class="sxs-lookup"><span data-stu-id="ffb41-3219">Load Configuration Directory</span></span>

<span data-ttu-id="ffb41-3220">Запись каталога данных для предварительно зарезервированной структуры конфигурации SEH должна указывать определенный размер структуры конфигурации нагрузки, так как загрузчик операционной системы всегда ожидает, что он является определенным значением.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3220">The data directory entry for a pre-reserved SEH load configuration structure must specify a particular size of the load configuration structure because the operating system loader always expects it to be a certain value.</span></span> <span data-ttu-id="ffb41-3221">В этом отношении размер фактически является только проверка версии.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3221">In that regard, the size is really only a version check.</span></span> <span data-ttu-id="ffb41-3222">Для совместимости с Windows XP и более ранними версиями Windows размер должен быть 64 для образов x86.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3222">For compatibility with Windows XP and earlier versions of Windows, the size must be 64 for x86 images.</span></span>

#### <a name="load-configuration-layout"></a><span data-ttu-id="ffb41-3223">Загрузить макет конфигурации</span><span class="sxs-lookup"><span data-stu-id="ffb41-3223">Load Configuration Layout</span></span>

<span data-ttu-id="ffb41-3224">Структура конфигурации загрузки имеет следующий макет для 32-разрядных и 64-разрядных файлов PE:</span><span class="sxs-lookup"><span data-stu-id="ffb41-3224">The load configuration structure has the following layout for 32-bit and 64-bit PE files:</span></span>



| <span data-ttu-id="ffb41-3225">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-3225">Offset</span></span>              | <span data-ttu-id="ffb41-3226">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-3226">Size</span></span>            | <span data-ttu-id="ffb41-3227">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-3227">Field</span></span>                                      | <span data-ttu-id="ffb41-3228">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-3228">Description</span></span>                                                                                                                                                                                                                                                                                 |
|---------------------|-----------------|--------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-3229">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-3229">0</span></span> <br/>       | <span data-ttu-id="ffb41-3230">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3230">4</span></span> <br/>   | <span data-ttu-id="ffb41-3231">Характеристики</span><span class="sxs-lookup"><span data-stu-id="ffb41-3231">Characteristics</span></span> <br/>                | <span data-ttu-id="ffb41-3232">Флаги, указывающие атрибуты файла, в настоящее время не используемые.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3232">Flags that indicate attributes of the file, currently unused.</span></span> <br/>                                                                                                                                                                                                                   |
| <span data-ttu-id="ffb41-3233">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3233">4</span></span> <br/>       | <span data-ttu-id="ffb41-3234">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3234">4</span></span> <br/>   | <span data-ttu-id="ffb41-3235">тимедатестамп</span><span class="sxs-lookup"><span data-stu-id="ffb41-3235">TimeDateStamp</span></span> <br/>                  | <span data-ttu-id="ffb41-3236">Значение даты и метки времени.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3236">Date and time stamp value.</span></span> <span data-ttu-id="ffb41-3237">Значение представлено в секундах, прошедших с полуночи (00:00:00), 1 января 1970, Универсальное координированное время в соответствии с системными часами.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3237">The value is represented in the number of seconds that have elapsed since midnight (00:00:00), January 1, 1970, Universal Coordinated Time, according to the system clock.</span></span> <span data-ttu-id="ffb41-3238">Отметка времени может быть распечатана с помощью функции времени выполнения C (CRT).</span><span class="sxs-lookup"><span data-stu-id="ffb41-3238">The time stamp can be printed by using the C runtime (CRT) time function.</span></span> <br/> |
| <span data-ttu-id="ffb41-3239">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-3239">8</span></span> <br/>       | <span data-ttu-id="ffb41-3240">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-3240">2</span></span> <br/>   | <span data-ttu-id="ffb41-3241">MajorVersion</span><span class="sxs-lookup"><span data-stu-id="ffb41-3241">MajorVersion</span></span> <br/>                   | <span data-ttu-id="ffb41-3242">Основной номер версии.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3242">Major version number.</span></span> <br/>                                                                                                                                                                                                                                                           |
| <span data-ttu-id="ffb41-3243">10</span><span class="sxs-lookup"><span data-stu-id="ffb41-3243">10</span></span> <br/>      | <span data-ttu-id="ffb41-3244">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-3244">2</span></span> <br/>   | <span data-ttu-id="ffb41-3245">MinorVersion</span><span class="sxs-lookup"><span data-stu-id="ffb41-3245">MinorVersion</span></span> <br/>                   | <span data-ttu-id="ffb41-3246">Дополнительный номер версии.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3246">Minor version number.</span></span> <br/>                                                                                                                                                                                                                                                           |
| <span data-ttu-id="ffb41-3247">12</span><span class="sxs-lookup"><span data-stu-id="ffb41-3247">12</span></span> <br/>      | <span data-ttu-id="ffb41-3248">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3248">4</span></span> <br/>   | <span data-ttu-id="ffb41-3249">глобалфлагсклеар</span><span class="sxs-lookup"><span data-stu-id="ffb41-3249">GlobalFlagsClear</span></span> <br/>               | <span data-ttu-id="ffb41-3250">Глобальные флаги загрузчика, которые необходимо очистить для этого процесса, так как загрузчик запускает процесс.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3250">The global loader flags to clear for this process as the loader starts the process.</span></span> <br/>                                                                                                                                                                                             |
| <span data-ttu-id="ffb41-3251">16</span><span class="sxs-lookup"><span data-stu-id="ffb41-3251">16</span></span> <br/>      | <span data-ttu-id="ffb41-3252">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3252">4</span></span> <br/>   | <span data-ttu-id="ffb41-3253">глобалфлагссет</span><span class="sxs-lookup"><span data-stu-id="ffb41-3253">GlobalFlagsSet</span></span> <br/>                 | <span data-ttu-id="ffb41-3254">Глобальные флаги загрузчика, которые устанавливаются для этого процесса, когда загрузчик запускает процесс.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3254">The global loader flags to set for this process as the loader starts the process.</span></span> <br/>                                                                                                                                                                                               |
| <span data-ttu-id="ffb41-3255">20</span><span class="sxs-lookup"><span data-stu-id="ffb41-3255">20</span></span> <br/>      | <span data-ttu-id="ffb41-3256">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3256">4</span></span> <br/>   | <span data-ttu-id="ffb41-3257">критикалсектиондефаулттимеаут</span><span class="sxs-lookup"><span data-stu-id="ffb41-3257">CriticalSectionDefaultTimeout</span></span> <br/>  | <span data-ttu-id="ffb41-3258">Значение времени ожидания по умолчанию, используемое для критических секций этого процесса, которые отброшены.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3258">The default timeout value to use for this process's critical sections that are abandoned.</span></span> <br/>                                                                                                                                                                                       |
| <span data-ttu-id="ffb41-3259">24</span><span class="sxs-lookup"><span data-stu-id="ffb41-3259">24</span></span> <br/>      | <span data-ttu-id="ffb41-3260">4/8</span><span class="sxs-lookup"><span data-stu-id="ffb41-3260">4/8</span></span> <br/> | <span data-ttu-id="ffb41-3261">декоммитфриблокксрешолд</span><span class="sxs-lookup"><span data-stu-id="ffb41-3261">DeCommitFreeBlockThreshold</span></span> <br/>     | <span data-ttu-id="ffb41-3262">Память, которая должна быть освобождена перед возвращением в систему в байтах.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3262">Memory that must be freed before it is returned to the system, in bytes.</span></span> <br/>                                                                                                                                                                                                        |
| <span data-ttu-id="ffb41-3263">28/32</span><span class="sxs-lookup"><span data-stu-id="ffb41-3263">28/32</span></span> <br/>   | <span data-ttu-id="ffb41-3264">4/8</span><span class="sxs-lookup"><span data-stu-id="ffb41-3264">4/8</span></span> <br/> | <span data-ttu-id="ffb41-3265">декоммиттоталфрисрешолд</span><span class="sxs-lookup"><span data-stu-id="ffb41-3265">DeCommitTotalFreeThreshold</span></span> <br/>     | <span data-ttu-id="ffb41-3266">Общий объем свободной памяти в байтах.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3266">Total amount of free memory, in bytes.</span></span> <br/>                                                                                                                                                                                                                                          |
| <span data-ttu-id="ffb41-3267">32/40</span><span class="sxs-lookup"><span data-stu-id="ffb41-3267">32/40</span></span> <br/>   | <span data-ttu-id="ffb41-3268">4/8</span><span class="sxs-lookup"><span data-stu-id="ffb41-3268">4/8</span></span> <br/> | <span data-ttu-id="ffb41-3269">локкпрефикстабле</span><span class="sxs-lookup"><span data-stu-id="ffb41-3269">LockPrefixTable</span></span> <br/>                | <span data-ttu-id="ffb41-3270">\[x86 только \] список адресов, где используется префикс блокировки, чтобы их можно было заменить на NOP на компьютерах с одним процессором.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3270">\[x86 only\] The VA of a list of addresses where the LOCK prefix is used so that they can be replaced with NOP on single processor machines.</span></span> <br/>                                                                                                                                    |
| <span data-ttu-id="ffb41-3271">36/48</span><span class="sxs-lookup"><span data-stu-id="ffb41-3271">36/48</span></span> <br/>   | <span data-ttu-id="ffb41-3272">4/8</span><span class="sxs-lookup"><span data-stu-id="ffb41-3272">4/8</span></span> <br/> | <span data-ttu-id="ffb41-3273">максимумаллокатионсизе</span><span class="sxs-lookup"><span data-stu-id="ffb41-3273">MaximumAllocationSize</span></span> <br/>          | <span data-ttu-id="ffb41-3274">Максимальный размер выделения в байтах.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3274">Maximum allocation size, in bytes.</span></span> <br/>                                                                                                                                                                                                                                              |
| <span data-ttu-id="ffb41-3275">40/56</span><span class="sxs-lookup"><span data-stu-id="ffb41-3275">40/56</span></span> <br/>   | <span data-ttu-id="ffb41-3276">4/8</span><span class="sxs-lookup"><span data-stu-id="ffb41-3276">4/8</span></span> <br/> | <span data-ttu-id="ffb41-3277">виртуалмеморисрешолд</span><span class="sxs-lookup"><span data-stu-id="ffb41-3277">VirtualMemoryThreshold</span></span> <br/>         | <span data-ttu-id="ffb41-3278">Максимальный размер виртуальной памяти в байтах.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3278">Maximum virtual memory size, in bytes.</span></span> <br/>                                                                                                                                                                                                                                          |
| <span data-ttu-id="ffb41-3279">44/64</span><span class="sxs-lookup"><span data-stu-id="ffb41-3279">44/64</span></span> <br/>   | <span data-ttu-id="ffb41-3280">4/8</span><span class="sxs-lookup"><span data-stu-id="ffb41-3280">4/8</span></span> <br/> | <span data-ttu-id="ffb41-3281">процессаффинитимаск</span><span class="sxs-lookup"><span data-stu-id="ffb41-3281">ProcessAffinityMask</span></span> <br/>            | <span data-ttu-id="ffb41-3282">Установка этого поля в ненулевое значение эквивалентно вызову Сетпроцессаффинитимаск с этим значением во время запуска процесса (только exe)</span><span class="sxs-lookup"><span data-stu-id="ffb41-3282">Setting this field to a non-zero value is equivalent to calling SetProcessAffinityMask with this value during process startup (.exe only)</span></span> <br/>                                                                                                                                       |
| <span data-ttu-id="ffb41-3283">48/72</span><span class="sxs-lookup"><span data-stu-id="ffb41-3283">48/72</span></span> <br/>   | <span data-ttu-id="ffb41-3284">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3284">4</span></span> <br/>   | <span data-ttu-id="ffb41-3285">процесшеапфлагс</span><span class="sxs-lookup"><span data-stu-id="ffb41-3285">ProcessHeapFlags</span></span> <br/>               | <span data-ttu-id="ffb41-3286">Обработка флагов кучи, соответствующих первому аргументу функции Хеапкреате.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3286">Process heap flags that correspond to the first argument of the HeapCreate function.</span></span> <span data-ttu-id="ffb41-3287">Эти флаги применяются к куче процесса, созданной во время запуска процесса.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3287">These flags apply to the process heap that is created during process startup.</span></span> <br/>                                                                                                              |
| <span data-ttu-id="ffb41-3288">52/76</span><span class="sxs-lookup"><span data-stu-id="ffb41-3288">52/76</span></span> <br/>   | <span data-ttu-id="ffb41-3289">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-3289">2</span></span> <br/>   | <span data-ttu-id="ffb41-3290">CSDVersion</span><span class="sxs-lookup"><span data-stu-id="ffb41-3290">CSDVersion</span></span> <br/>                     | <span data-ttu-id="ffb41-3291">Идентификатор версии пакета обновления.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3291">The service pack version identifier.</span></span> <br/>                                                                                                                                                                                                                                            |
| <span data-ttu-id="ffb41-3292">54/78</span><span class="sxs-lookup"><span data-stu-id="ffb41-3292">54/78</span></span> <br/>   | <span data-ttu-id="ffb41-3293">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-3293">2</span></span> <br/>   | <span data-ttu-id="ffb41-3294">Зарезервировано</span><span class="sxs-lookup"><span data-stu-id="ffb41-3294">Reserved</span></span> <br/>                       | <span data-ttu-id="ffb41-3295">Должен равняться нулю.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3295">Must be zero.</span></span> <br/>                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="ffb41-3296">56/80</span><span class="sxs-lookup"><span data-stu-id="ffb41-3296">56/80</span></span> <br/>   | <span data-ttu-id="ffb41-3297">4/8</span><span class="sxs-lookup"><span data-stu-id="ffb41-3297">4/8</span></span> <br/> | <span data-ttu-id="ffb41-3298">едитлист</span><span class="sxs-lookup"><span data-stu-id="ffb41-3298">EditList</span></span> <br/>                       | <span data-ttu-id="ffb41-3299">Зарезервировано для использования системой.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3299">Reserved for use by the system.</span></span> <br/>                                                                                                                                                                                                                                                 |
| <span data-ttu-id="ffb41-3300">60/88</span><span class="sxs-lookup"><span data-stu-id="ffb41-3300">60/88</span></span> <br/>   | <span data-ttu-id="ffb41-3301">4/8</span><span class="sxs-lookup"><span data-stu-id="ffb41-3301">4/8</span></span> <br/> | <span data-ttu-id="ffb41-3302">секуритикукие</span><span class="sxs-lookup"><span data-stu-id="ffb41-3302">SecurityCookie</span></span> <br/>                 | <span data-ttu-id="ffb41-3303">Указатель на файл cookie, который используется реализацией Visual C++ или GS.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3303">A pointer to a cookie that is used by Visual C++ or GS implementation.</span></span> <br/>                                                                                                                                                                                                          |
| <span data-ttu-id="ffb41-3304">64/96</span><span class="sxs-lookup"><span data-stu-id="ffb41-3304">64/96</span></span> <br/>   | <span data-ttu-id="ffb41-3305">4/8</span><span class="sxs-lookup"><span data-stu-id="ffb41-3305">4/8</span></span> <br/> | <span data-ttu-id="ffb41-3306">сехандлертабле</span><span class="sxs-lookup"><span data-stu-id="ffb41-3306">SEHandlerTable</span></span> <br/>                 | <span data-ttu-id="ffb41-3307">\[Архитектура x86 для \] каждого допустимого уникального обработчика SE в изображении имеет только то, что имеет значение по отношению к отсортированной таблице RVA.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3307">\[x86 only\] The VA of the sorted table of RVAs of each valid, unique SE handler in the image.</span></span> <br/>                                                                                                                                                                                  |
| <span data-ttu-id="ffb41-3308">68/104</span><span class="sxs-lookup"><span data-stu-id="ffb41-3308">68/104</span></span> <br/>  | <span data-ttu-id="ffb41-3309">4/8</span><span class="sxs-lookup"><span data-stu-id="ffb41-3309">4/8</span></span> <br/> | <span data-ttu-id="ffb41-3310">сехандлеркаунт</span><span class="sxs-lookup"><span data-stu-id="ffb41-3310">SEHandlerCount</span></span> <br/>                 | <span data-ttu-id="ffb41-3311">\[x86 \] количество уникальных обработчиков в таблице.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3311">\[x86 only\] The count of unique handlers in the table.</span></span> <br/>                                                                                                                                                                                                                         |
| <span data-ttu-id="ffb41-3312">72/112</span><span class="sxs-lookup"><span data-stu-id="ffb41-3312">72/112</span></span> <br/>  | <span data-ttu-id="ffb41-3313">4/8</span><span class="sxs-lookup"><span data-stu-id="ffb41-3313">4/8</span></span> <br/> | <span data-ttu-id="ffb41-3314">гуардкфчеккфунктионпоинтер</span><span class="sxs-lookup"><span data-stu-id="ffb41-3314">GuardCFCheckFunctionPointer</span></span> <br/>    | <span data-ttu-id="ffb41-3315">Элемент ва, где хранится контрольный указатель функции потока управления.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3315">The VA where Control Flow Guard check-function pointer is stored.</span></span> <br/>                                                                                                                                                                                                               |
| <span data-ttu-id="ffb41-3316">76/120</span><span class="sxs-lookup"><span data-stu-id="ffb41-3316">76/120</span></span> <br/>  | <span data-ttu-id="ffb41-3317">4/8</span><span class="sxs-lookup"><span data-stu-id="ffb41-3317">4/8</span></span> <br/> | <span data-ttu-id="ffb41-3318">гуардкфдиспатчфунктионпоинтер</span><span class="sxs-lookup"><span data-stu-id="ffb41-3318">GuardCFDispatchFunctionPointer</span></span> <br/> | <span data-ttu-id="ffb41-3319">Объект ва, где хранится указатель функции диспетчера потока управления.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3319">The VA where Control Flow Guard dispatch-function pointer is stored.</span></span> <br/>                                                                                                                                                                                                            |
| <span data-ttu-id="ffb41-3320">80/128</span><span class="sxs-lookup"><span data-stu-id="ffb41-3320">80/128</span></span> <br/>  | <span data-ttu-id="ffb41-3321">4/8</span><span class="sxs-lookup"><span data-stu-id="ffb41-3321">4/8</span></span> <br/> | <span data-ttu-id="ffb41-3322">гуардкффунктионтабле</span><span class="sxs-lookup"><span data-stu-id="ffb41-3322">GuardCFFunctionTable</span></span> <br/>           | <span data-ttu-id="ffb41-3323">Порядок сортировки отсортированной таблицы по RVA для каждой функции контроля потока управления в изображении.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3323">The VA of the sorted table of RVAs of each Control Flow Guard function in the image.</span></span> <br/>                                                                                                                                                                                            |
| <span data-ttu-id="ffb41-3324">84/136</span><span class="sxs-lookup"><span data-stu-id="ffb41-3324">84/136</span></span> <br/>  | <span data-ttu-id="ffb41-3325">4/8</span><span class="sxs-lookup"><span data-stu-id="ffb41-3325">4/8</span></span> <br/> | <span data-ttu-id="ffb41-3326">гуардкффунктионкаунт</span><span class="sxs-lookup"><span data-stu-id="ffb41-3326">GuardCFFunctionCount</span></span> <br/>           | <span data-ttu-id="ffb41-3327">Число уникальных RVA в таблице выше.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3327">The count of unique RVAs in the above table.</span></span> <br/>                                                                                                                                                                                                                                    |
| <span data-ttu-id="ffb41-3328">88/144</span><span class="sxs-lookup"><span data-stu-id="ffb41-3328">88/144</span></span> <br/>  | <span data-ttu-id="ffb41-3329">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3329">4</span></span> <br/>   | <span data-ttu-id="ffb41-3330">гуардфлагс</span><span class="sxs-lookup"><span data-stu-id="ffb41-3330">GuardFlags</span></span> <br/>                     | <span data-ttu-id="ffb41-3331">Флаги, связанные с защитой потока управления.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3331">Control Flow Guard related flags.</span></span> <br/>                                                                                                                                                                                                                                               |
| <span data-ttu-id="ffb41-3332">92/148</span><span class="sxs-lookup"><span data-stu-id="ffb41-3332">92/148</span></span> <br/>  | <span data-ttu-id="ffb41-3333">12</span><span class="sxs-lookup"><span data-stu-id="ffb41-3333">12</span></span> <br/>  | <span data-ttu-id="ffb41-3334">CodeIntegrity</span><span class="sxs-lookup"><span data-stu-id="ffb41-3334">CodeIntegrity</span></span> <br/>                  | <span data-ttu-id="ffb41-3335">Сведения о целостности кода.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3335">Code integrity information.</span></span> <br/>                                                                                                                                                                                                                                                     |
| <span data-ttu-id="ffb41-3336">104/160</span><span class="sxs-lookup"><span data-stu-id="ffb41-3336">104/160</span></span> <br/> | <span data-ttu-id="ffb41-3337">4/8</span><span class="sxs-lookup"><span data-stu-id="ffb41-3337">4/8</span></span> <br/> | <span data-ttu-id="ffb41-3338">гуардаддресстакениатентритабле</span><span class="sxs-lookup"><span data-stu-id="ffb41-3338">GuardAddressTakenIatEntryTable</span></span> <br/> | <span data-ttu-id="ffb41-3339">Адрес, по которому хранится Address Guard в потоке управления для таблицы IAT.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3339">The VA where Control Flow Guard address taken IAT table is stored.</span></span> <br/>                                                                                                                                                                                                              |
| <span data-ttu-id="ffb41-3340">108/168</span><span class="sxs-lookup"><span data-stu-id="ffb41-3340">108/168</span></span> <br/> | <span data-ttu-id="ffb41-3341">4/8</span><span class="sxs-lookup"><span data-stu-id="ffb41-3341">4/8</span></span> <br/> | <span data-ttu-id="ffb41-3342">гуардаддресстакениатентрикаунт</span><span class="sxs-lookup"><span data-stu-id="ffb41-3342">GuardAddressTakenIatEntryCount</span></span> <br/> | <span data-ttu-id="ffb41-3343">Число уникальных RVA в таблице выше.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3343">The count of unique RVAs in the above table.</span></span> <br/>                                                                                                                                                                                                                                    |
| <span data-ttu-id="ffb41-3344">112/176</span><span class="sxs-lookup"><span data-stu-id="ffb41-3344">112/176</span></span> <br/> | <span data-ttu-id="ffb41-3345">4/8</span><span class="sxs-lookup"><span data-stu-id="ffb41-3345">4/8</span></span> <br/> | <span data-ttu-id="ffb41-3346">гуардлонгжумптаржеттабле</span><span class="sxs-lookup"><span data-stu-id="ffb41-3346">GuardLongJumpTargetTable</span></span> <br/>       | <span data-ttu-id="ffb41-3347">Адрес, где хранится Целевая таблица с длинным переходом в потоке управления.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3347">The VA where Control Flow Guard long jump target table is stored.</span></span> <br/>                                                                                                                                                                                                               |
| <span data-ttu-id="ffb41-3348">116/184</span><span class="sxs-lookup"><span data-stu-id="ffb41-3348">116/184</span></span> <br/> | <span data-ttu-id="ffb41-3349">4/8</span><span class="sxs-lookup"><span data-stu-id="ffb41-3349">4/8</span></span> <br/> | <span data-ttu-id="ffb41-3350">гуардлонгжумптаржеткаунт</span><span class="sxs-lookup"><span data-stu-id="ffb41-3350">GuardLongJumpTargetCount</span></span> <br/>       | <span data-ttu-id="ffb41-3351">Число уникальных RVA в таблице выше.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3351">The count of unique RVAs in the above table.</span></span> <br/>                                                                                                                                                                                                                                    |



 

<span data-ttu-id="ffb41-3352">Поле Гуардфлагс содержит сочетание одного или нескольких из следующих флагов и подполей:</span><span class="sxs-lookup"><span data-stu-id="ffb41-3352">The GuardFlags field contains a combination of one or more of the following flags and subfields:</span></span>

-   <span data-ttu-id="ffb41-3353">Модуль выполняет проверку целостности потока управления с помощью поддерживаемой системой поддержки.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3353">Module performs control flow integrity checks using system-supplied support.</span></span>

    ` #define IMAGE_GUARD_CF_INSTRUMENTED  0x00000100`

-   <span data-ttu-id="ffb41-3354">Модуль выполняет поток управления и записывает проверки целостности.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3354">Module performs control flow and write integrity checks.</span></span>

    ` #define IMAGE_GUARD_CFW_INSTRUMENTED  0x00000200`

-   <span data-ttu-id="ffb41-3355">Модуль содержит допустимые метаданные целевого объекта потока управления.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3355">Module contains valid control flow target metadata.</span></span>

    `#define IMAGE_GUARD_CF_FUNCTION_TABLE_PRESENT  0x00000400`

-   <span data-ttu-id="ffb41-3356">Модуль не использует файл cookie безопасности/GS.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3356">Module does not make use of the /GS security cookie.</span></span>

    ` #define IMAGE_GUARD_SECURITY_COOKIE_UNUSED  0x00000800`

-   <span data-ttu-id="ffb41-3357">Модуль поддерживает нагрузку с задержкой только для чтения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3357">Module supports read only delay load IAT.</span></span>

    `#define IMAGE_GUARD_PROTECT_DELAYLOAD_IAT  0x00001000`

-   <span data-ttu-id="ffb41-3358">У импортируйте таблицу в собственную секцию. Дидат (без каких-либо изменений), которую можно свободно повторно защитить.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3358">Delayload import table in its own .didat section (with nothing else in it) that can be freely reprotected.</span></span>

    ` #define IMAGE_GUARD_DELAYLOAD_IAT_IN_ITS_OWN_SECTION  0x00002000`

-   <span data-ttu-id="ffb41-3359">Модуль содержит подавленные данные экспорта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3359">Module contains suppressed export information.</span></span> <span data-ttu-id="ffb41-3360">Это также определяет, что адрес, поступающий из таблицы IAT, также содержится в конфигурации Load.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3360">This also infers that the address taken IAT table is also present in the load config.</span></span>

    `#define  IMAGE_GUARD_CF_EXPORT_SUPPRESSION_INFO_PRESENT  0x00004000`

-   <span data-ttu-id="ffb41-3361">Модуль включает подавление экспортов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3361">Module enables suppression of exports.</span></span>

    `#define IMAGE_GUARD_CF_ENABLE_EXPORT_SUPPRESSION  0x00008000`

-   <span data-ttu-id="ffb41-3362">Модуль содержит сведения о целевом longjmp.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3362">Module contains longjmp target information.</span></span>

    ` #define IMAGE_GUARD_CF_LONGJUMP_TABLE_PRESENT  0x00010000`

-   <span data-ttu-id="ffb41-3363">Маска для вложенного поля, содержащего шаг элементов таблицы функции Guard в потоке управления (то есть дополнительное количество байтов на запись таблицы).</span><span class="sxs-lookup"><span data-stu-id="ffb41-3363">Mask for the subfield that contains the stride of Control Flow Guard function table entries (that is, the additional count of bytes per table entry).</span></span>

    ` #define IMAGE_GUARD_CF_FUNCTION_TABLE_SIZE_MASK  0xF0000000`

<span data-ttu-id="ffb41-3364">Кроме того, заголовок Windows SDK Winnt. h определяет этот макрос на величину сдвига вправо значения Гуардфлагс для выравнивания по правому краю таблицы функции Guard в потоке управления. шаг:</span><span class="sxs-lookup"><span data-stu-id="ffb41-3364">Additionally, the Windows SDK winnt.h header defines this macro for the amount of bits to right-shift the GuardFlags value to right-justify the Control Flow Guard function table stride:</span></span>

` #define IMAGE_GUARD_CF_FUNCTION_TABLE_SIZE_SHIFT  28`

### <a name="the-rsrc-section"></a><span data-ttu-id="ffb41-3365">Раздел. rsrc</span><span class="sxs-lookup"><span data-stu-id="ffb41-3365">The .rsrc Section</span></span>

<span data-ttu-id="ffb41-3366">Ресурсы индексируются по структуре дерева, отсортированной в двоичном виде.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3366">Resources are indexed by a multiple-level binary-sorted tree structure.</span></span> <span data-ttu-id="ffb41-3367">Общая структура может включать 2 \* \* 31 уровня.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3367">The general design can incorporate 2\*\*31 levels.</span></span> <span data-ttu-id="ffb41-3368">Однако в соответствии с соглашением Windows использует три уровня:</span><span class="sxs-lookup"><span data-stu-id="ffb41-3368">By convention, however, Windows uses three levels:</span></span>

<dl> <span data-ttu-id="ffb41-3369">Тип</span><span class="sxs-lookup"><span data-stu-id="ffb41-3369">Type</span></span>  
<span data-ttu-id="ffb41-3370">Имя</span><span class="sxs-lookup"><span data-stu-id="ffb41-3370">Name</span></span>  
<span data-ttu-id="ffb41-3371">Язык</span><span class="sxs-lookup"><span data-stu-id="ffb41-3371">Language</span></span>  
</dl>

<span data-ttu-id="ffb41-3372">Ряд таблиц каталога ресурсов связывается со всеми уровнями следующим образом: каждой таблице каталога следует ряд записей каталога, которые предоставляют имя или идентификатор (идентификатор) для этого уровня (тип, имя или уровень языка) и адрес либо описания данных, либо другой таблицы каталога.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3372">A series of resource directory tables relates all of the levels in the following way: Each directory table is followed by a series of directory entries that give the name or identifier (ID) for that level (Type, Name, or Language level) and an address of either a data description or another directory table.</span></span> <span data-ttu-id="ffb41-3373">Если адрес указывает на описание данных, то данные являются листом дерева.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3373">If the address points to a data description, then the data is a leaf in the tree.</span></span> <span data-ttu-id="ffb41-3374">Если адрес указывает на другую таблицу каталога, то эта таблица перечисляет записи каталога на следующем уровне вниз.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3374">If the address points to another directory table, then that table lists directory entries at the next level down.</span></span>

<span data-ttu-id="ffb41-3375">Тип конечного объекта, имя и идентификатор языка определяются путем, который используется для доступа к листу таблиц каталогов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3375">A leaf's Type, Name, and Language IDs are determined by the path that is taken through directory tables to reach the leaf.</span></span> <span data-ttu-id="ffb41-3376">Первая таблица определяет идентификатор типа, вторая таблица (на которую указывает запись каталога в первой таблице) определяет идентификатор имени, а третья таблица определяет идентификатор языка.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3376">The first table determines Type ID, the second table (pointed to by the directory entry in the first table) determines Name ID, and the third table determines Language ID.</span></span>

<span data-ttu-id="ffb41-3377">Общая структура раздела. rsrc:</span><span class="sxs-lookup"><span data-stu-id="ffb41-3377">The general structure of the .rsrc section is:</span></span>



| <span data-ttu-id="ffb41-3378">Данные</span><span class="sxs-lookup"><span data-stu-id="ffb41-3378">Data</span></span>                                                                   | <span data-ttu-id="ffb41-3379">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-3379">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-3380">Таблицы каталога ресурсов (и записи каталога ресурсов)</span><span class="sxs-lookup"><span data-stu-id="ffb41-3380">Resource Directory Tables (and Resource Directory Entries)</span></span> <br/> | <span data-ttu-id="ffb41-3381">Последовательность таблиц, по одной для каждой группы узлов в дереве.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3381">A series of tables, one for each group of nodes in the tree.</span></span> <span data-ttu-id="ffb41-3382">Все узлы верхнего уровня (тип) перечислены в первой таблице.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3382">All top-level (Type) nodes are listed in the first table.</span></span> <span data-ttu-id="ffb41-3383">Записи в этой таблице указывают на таблицы второго уровня.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3383">Entries in this table point to second-level tables.</span></span> <span data-ttu-id="ffb41-3384">Каждое дерево второго уровня имеет одинаковый идентификатор типа, но разные идентификаторы имен.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3384">Each second-level tree has the same Type ID but different Name IDs.</span></span> <span data-ttu-id="ffb41-3385">Деревья третьего уровня имеют одинаковые идентификаторы типа и имени, но разные идентификаторы языка.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3385">Third-level trees have the same Type and Name IDs but different Language IDs.</span></span> <br/> <span data-ttu-id="ffb41-3386">За каждой отдельной таблицей сразу следуют записи каталога, в которых каждая запись имеет имя или числовой идентификатор, а также указатель на описание данных или таблицу на следующем более низком уровне.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3386">Each individual table is immediately followed by directory entries, in which each entry has a name or numeric identifier and a pointer to a data description or a table at the next lower level.</span></span> <br/> |
| <span data-ttu-id="ffb41-3387">Строки каталога ресурсов</span><span class="sxs-lookup"><span data-stu-id="ffb41-3387">Resource Directory Strings</span></span> <br/>                                 | <span data-ttu-id="ffb41-3388">Строки в Юникоде с поддержкой двух байтов, которые служат в качестве строковых данных, на которые указывает запись каталога.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3388">Two-byte-aligned Unicode strings, which serve as string data that is pointed to by directory entries.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="ffb41-3389">Описание данных ресурса</span><span class="sxs-lookup"><span data-stu-id="ffb41-3389">Resource Data Description</span></span> <br/>                                  | <span data-ttu-id="ffb41-3390">Массив записей, на который указывают таблицы, которые описывают фактический размер и расположение данных ресурса.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3390">An array of records, pointed to by tables, that describe the actual size and location of the resource data.</span></span> <span data-ttu-id="ffb41-3391">Эти записи являются листьями в дереве описания ресурсов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3391">These records are the leaves in the resource-description tree.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                |
| <span data-ttu-id="ffb41-3392">Данные ресурсов</span><span class="sxs-lookup"><span data-stu-id="ffb41-3392">Resource Data</span></span> <br/>                                              | <span data-ttu-id="ffb41-3393">Необработанные данные раздела ресурса.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3393">Raw data of the resource section.</span></span> <span data-ttu-id="ffb41-3394">Сведения о размере и расположении в поле описания данных ресурса разделяют отдельные области данных ресурсов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3394">The size and location information in the Resource Data Descriptions field delimit the individual regions of resource data.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                              |



 

#### <a name="resource-directory-table"></a><span data-ttu-id="ffb41-3395">Таблица каталога ресурсов</span><span class="sxs-lookup"><span data-stu-id="ffb41-3395">Resource Directory Table</span></span>

<span data-ttu-id="ffb41-3396">Каждая таблица каталога ресурсов имеет следующий формат.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3396">Each resource directory table has the following format.</span></span> <span data-ttu-id="ffb41-3397">Эта структура данных должна рассматриваться как заголовок таблицы, так как таблица на самом деле состоит из записей каталога (описанных в разделе 6.9.2, «записи каталога ресурсов») и этой структуры:</span><span class="sxs-lookup"><span data-stu-id="ffb41-3397">This data structure should be considered the heading of a table because the table actually consists of directory entries (described in section 6.9.2, "Resource Directory Entries") and this structure:</span></span>



| <span data-ttu-id="ffb41-3398">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-3398">Offset</span></span>         | <span data-ttu-id="ffb41-3399">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-3399">Size</span></span>          | <span data-ttu-id="ffb41-3400">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-3400">Field</span></span>                              | <span data-ttu-id="ffb41-3401">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-3401">Description</span></span>                                                                                                                                                                     |
|----------------|---------------|------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-3402">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-3402">0</span></span> <br/>  | <span data-ttu-id="ffb41-3403">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3403">4</span></span> <br/> | <span data-ttu-id="ffb41-3404">Характеристики</span><span class="sxs-lookup"><span data-stu-id="ffb41-3404">Characteristics</span></span> <br/>        | <span data-ttu-id="ffb41-3405">Флаги ресурсов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3405">Resource flags.</span></span> <span data-ttu-id="ffb41-3406">Это поле зарезервировано для использования в будущем.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3406">This field is reserved for future use.</span></span> <span data-ttu-id="ffb41-3407">В настоящее время установлено нулевое значение.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3407">It is currently set to zero.</span></span> <br/>                                                                                 |
| <span data-ttu-id="ffb41-3408">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3408">4</span></span> <br/>  | <span data-ttu-id="ffb41-3409">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3409">4</span></span> <br/> | <span data-ttu-id="ffb41-3410">Метка времени и даты</span><span class="sxs-lookup"><span data-stu-id="ffb41-3410">Time/Date Stamp</span></span> <br/>        | <span data-ttu-id="ffb41-3411">Время создания данных ресурса компилятором ресурсов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3411">The time that the resource data was created by the resource compiler.</span></span> <br/>                                                                                               |
| <span data-ttu-id="ffb41-3412">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-3412">8</span></span> <br/>  | <span data-ttu-id="ffb41-3413">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-3413">2</span></span> <br/> | <span data-ttu-id="ffb41-3414">Основная версия</span><span class="sxs-lookup"><span data-stu-id="ffb41-3414">Major Version</span></span> <br/>          | <span data-ttu-id="ffb41-3415">Основной номер версии, заданный пользователем.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3415">The major version number, set by the user.</span></span> <br/>                                                                                                                          |
| <span data-ttu-id="ffb41-3416">10</span><span class="sxs-lookup"><span data-stu-id="ffb41-3416">10</span></span> <br/> | <span data-ttu-id="ffb41-3417">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-3417">2</span></span> <br/> | <span data-ttu-id="ffb41-3418">Вспомогательная версия</span><span class="sxs-lookup"><span data-stu-id="ffb41-3418">Minor Version</span></span> <br/>          | <span data-ttu-id="ffb41-3419">Дополнительный номер версии, заданный пользователем.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3419">The minor version number, set by the user.</span></span> <br/>                                                                                                                          |
| <span data-ttu-id="ffb41-3420">12</span><span class="sxs-lookup"><span data-stu-id="ffb41-3420">12</span></span> <br/> | <span data-ttu-id="ffb41-3421">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-3421">2</span></span> <br/> | <span data-ttu-id="ffb41-3422">Число записей имени</span><span class="sxs-lookup"><span data-stu-id="ffb41-3422">Number of Name Entries</span></span> <br/> | <span data-ttu-id="ffb41-3423">Число записей каталога, сразу следующего за таблицей, в которой используются строки для поиска типа, имени или записей языка (в зависимости от уровня таблицы).</span><span class="sxs-lookup"><span data-stu-id="ffb41-3423">The number of directory entries immediately following the table that use strings to identify Type, Name, or Language entries (depending on the level of the table).</span></span> <br/> |
| <span data-ttu-id="ffb41-3424">14</span><span class="sxs-lookup"><span data-stu-id="ffb41-3424">14</span></span> <br/> | <span data-ttu-id="ffb41-3425">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-3425">2</span></span> <br/> | <span data-ttu-id="ffb41-3426">Число записей ИДЕНТИФИКАТОРов</span><span class="sxs-lookup"><span data-stu-id="ffb41-3426">Number of ID Entries</span></span> <br/>   | <span data-ttu-id="ffb41-3427">Число записей каталога, сразу следующих за записями имен, которые используют числовые идентификаторы для записей типа, имени или языка.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3427">The number of directory entries immediately following the Name entries that use numeric IDs for Type, Name, or Language entries.</span></span> <br/>                                    |



 

#### <a name="resource-directory-entries"></a><span data-ttu-id="ffb41-3428">Записи каталога ресурсов</span><span class="sxs-lookup"><span data-stu-id="ffb41-3428">Resource Directory Entries</span></span>

<span data-ttu-id="ffb41-3429">Записи каталога составляют строки таблицы.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3429">The directory entries make up the rows of a table.</span></span> <span data-ttu-id="ffb41-3430">Каждая запись каталога ресурсов имеет следующий формат.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3430">Each resource directory entry has the following format.</span></span> <span data-ttu-id="ffb41-3431">Указывает, что запись является записью имени или идентификатора, указывается таблицей каталога ресурсов, которая показывает, сколько записей имен и ИДЕНТИФИКАТОРов следует за ним (Помните, что все записи имен предшествуют всем записям ИДЕНТИФИКАТОРов для таблицы).</span><span class="sxs-lookup"><span data-stu-id="ffb41-3431">Whether the entry is a Name or ID entry is indicated by the resource directory table, which indicates how many Name and ID entries follow it (remember that all the Name entries precede all the ID entries for the table).</span></span> <span data-ttu-id="ffb41-3432">Все записи для таблицы сортируются в возрастающем порядке: имена записываются в виде строки с учетом регистра и записей ИДЕНТИФИКАТОРов по числовому значению.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3432">All entries for the table are sorted in ascending order: the Name entries by case-sensitive string and the ID entries by numeric value.</span></span> <span data-ttu-id="ffb41-3433">Смещения задаются относительно адреса в подкаталоге \_ \_ ресурсов записи каталога образа \_ .</span><span class="sxs-lookup"><span data-stu-id="ffb41-3433">Offsets are relative to the address in the IMAGE\_DIRECTORY\_ENTRY\_RESOURCE DataDirectory.</span></span> <span data-ttu-id="ffb41-3434">Дополнительные сведения см. в разделе [пиринг в PE. Краткий обзор формата переносимого исполняемого файла Win32](/previous-versions/ms809762(v=msdn.10)#pe-file-resources) .</span><span class="sxs-lookup"><span data-stu-id="ffb41-3434">See [Peering Inside the PE: A Tour of the Win32 Portable Executable File Format](/previous-versions/ms809762(v=msdn.10)#pe-file-resources) for more information.</span></span>



| <span data-ttu-id="ffb41-3435">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-3435">Offset</span></span>        | <span data-ttu-id="ffb41-3436">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-3436">Size</span></span>          | <span data-ttu-id="ffb41-3437">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-3437">Field</span></span>                           | <span data-ttu-id="ffb41-3438">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-3438">Description</span></span>                                                                                                          |
|---------------|---------------|---------------------------------|----------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-3439">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-3439">0</span></span> <br/> | <span data-ttu-id="ffb41-3440">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3440">4</span></span> <br/> | <span data-ttu-id="ffb41-3441">Смещение имени</span><span class="sxs-lookup"><span data-stu-id="ffb41-3441">Name Offset</span></span> <br/>         | <span data-ttu-id="ffb41-3442">Смещение строки, которая предоставляет запись типа, имени или идентификатора языка в зависимости от уровня таблицы.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3442">The offset of a string that gives the Type, Name, or Language ID entry, depending on level of table.</span></span> <br/>     |
| <span data-ttu-id="ffb41-3443">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-3443">0</span></span> <br/> | <span data-ttu-id="ffb41-3444">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3444">4</span></span> <br/> | <span data-ttu-id="ffb41-3445">Целочисленный идентификатор</span><span class="sxs-lookup"><span data-stu-id="ffb41-3445">Integer ID</span></span> <br/>          | <span data-ttu-id="ffb41-3446">32-разрядное целое число, определяющее тип, имя или идентификатор языка.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3446">A 32-bit integer that identifies the Type, Name, or Language ID entry.</span></span> <br/>                                   |
| <span data-ttu-id="ffb41-3447">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3447">4</span></span> <br/> | <span data-ttu-id="ffb41-3448">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3448">4</span></span> <br/> | <span data-ttu-id="ffb41-3449">Смещение ввода данных</span><span class="sxs-lookup"><span data-stu-id="ffb41-3449">Data Entry Offset</span></span> <br/>   | <span data-ttu-id="ffb41-3450">Старший бит 0.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3450">High bit 0.</span></span> <span data-ttu-id="ffb41-3451">Адрес записи данных ресурса (конечный).</span><span class="sxs-lookup"><span data-stu-id="ffb41-3451">Address of a Resource Data entry (a leaf).</span></span> <br/>                                                   |
| <span data-ttu-id="ffb41-3452">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3452">4</span></span> <br/> | <span data-ttu-id="ffb41-3453">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3453">4</span></span> <br/> | <span data-ttu-id="ffb41-3454">Смещение подкаталога</span><span class="sxs-lookup"><span data-stu-id="ffb41-3454">Subdirectory Offset</span></span> <br/> | <span data-ttu-id="ffb41-3455">Высокий бит 1.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3455">High bit 1.</span></span> <span data-ttu-id="ffb41-3456">Младшие 31 бита — адрес другой таблицы каталога ресурсов (следующий уровень ниже).</span><span class="sxs-lookup"><span data-stu-id="ffb41-3456">The lower 31 bits are the address of another resource directory table (the next level down).</span></span> <br/> |



 

#### <a name="resource-directory-string"></a><span data-ttu-id="ffb41-3457">Строка каталога ресурсов</span><span class="sxs-lookup"><span data-stu-id="ffb41-3457">Resource Directory String</span></span>

<span data-ttu-id="ffb41-3458">Область строк каталога ресурсов состоит из строк Юникода, которые вычисляются по словам.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3458">The resource directory string area consists of Unicode strings, which are word-aligned.</span></span> <span data-ttu-id="ffb41-3459">Эти строки хранятся вместе с последней записью каталога ресурсов и перед первой записью данных ресурса.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3459">These strings are stored together after the last Resource Directory entry and before the first Resource Data entry.</span></span> <span data-ttu-id="ffb41-3460">Это снизит влияние этих строк переменной длины на выравнивание записей каталога фиксированного размера.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3460">This minimizes the impact of these variable-length strings on the alignment of the fixed-size directory entries.</span></span> <span data-ttu-id="ffb41-3461">Каждая строка каталога ресурсов имеет следующий формат:</span><span class="sxs-lookup"><span data-stu-id="ffb41-3461">Each resource directory string has the following format:</span></span>



| <span data-ttu-id="ffb41-3462">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-3462">Offset</span></span>        | <span data-ttu-id="ffb41-3463">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-3463">Size</span></span>                 | <span data-ttu-id="ffb41-3464">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-3464">Field</span></span>                      | <span data-ttu-id="ffb41-3465">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-3465">Description</span></span>                                                            |
|---------------|----------------------|----------------------------|------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-3466">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-3466">0</span></span> <br/> | <span data-ttu-id="ffb41-3467">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-3467">2</span></span> <br/>        | <span data-ttu-id="ffb41-3468">Длина</span><span class="sxs-lookup"><span data-stu-id="ffb41-3468">Length</span></span> <br/>         | <span data-ttu-id="ffb41-3469">Размер строки, не включая поле Length.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3469">The size of the string, not including length field itself.</span></span> <br/> |
| <span data-ttu-id="ffb41-3470">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-3470">2</span></span> <br/> | <span data-ttu-id="ffb41-3471">Переменная</span><span class="sxs-lookup"><span data-stu-id="ffb41-3471">variable</span></span> <br/> | <span data-ttu-id="ffb41-3472">Строка в Юникоде</span><span class="sxs-lookup"><span data-stu-id="ffb41-3472">Unicode String</span></span> <br/> | <span data-ttu-id="ffb41-3473">Символьные данные переменной длины в Юникоде, с выведением по словам.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3473">The variable-length Unicode string data, word-aligned.</span></span> <br/>     |



 

#### <a name="resource-data-entry"></a><span data-ttu-id="ffb41-3474">Ввод данных ресурса</span><span class="sxs-lookup"><span data-stu-id="ffb41-3474">Resource Data Entry</span></span>

<span data-ttu-id="ffb41-3475">Каждая запись данных ресурса описывает фактическую единицу необработанных данных в области данных ресурса.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3475">Each Resource Data entry describes an actual unit of raw data in the Resource Data area.</span></span> <span data-ttu-id="ffb41-3476">Запись данных ресурса имеет следующий формат:</span><span class="sxs-lookup"><span data-stu-id="ffb41-3476">A Resource Data entry has the following format:</span></span>



| <span data-ttu-id="ffb41-3477">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-3477">Offset</span></span>         | <span data-ttu-id="ffb41-3478">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-3478">Size</span></span>          | <span data-ttu-id="ffb41-3479">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-3479">Field</span></span>                            | <span data-ttu-id="ffb41-3480">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-3480">Description</span></span>                                                                                                                                           |
|----------------|---------------|----------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-3481">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-3481">0</span></span> <br/>  | <span data-ttu-id="ffb41-3482">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3482">4</span></span> <br/> | <span data-ttu-id="ffb41-3483">RVA данных</span><span class="sxs-lookup"><span data-stu-id="ffb41-3483">Data RVA</span></span> <br/>             | <span data-ttu-id="ffb41-3484">Адрес единицы данных ресурса в области данных ресурса.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3484">The address of a unit of resource data in the Resource Data area.</span></span> <br/>                                                                         |
| <span data-ttu-id="ffb41-3485">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3485">4</span></span> <br/>  | <span data-ttu-id="ffb41-3486">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3486">4</span></span> <br/> | <span data-ttu-id="ffb41-3487">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-3487">Size</span></span> <br/>                 | <span data-ttu-id="ffb41-3488">Размер (в байтах) данных ресурса, на который указывает поле RVA данных.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3488">The size, in bytes, of the resource data that is pointed to by the Data RVA field.</span></span> <br/>                                                        |
| <span data-ttu-id="ffb41-3489">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-3489">8</span></span> <br/>  | <span data-ttu-id="ffb41-3490">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3490">4</span></span> <br/> | <span data-ttu-id="ffb41-3491">codepage</span><span class="sxs-lookup"><span data-stu-id="ffb41-3491">Codepage</span></span> <br/>             | <span data-ttu-id="ffb41-3492">Кодовая страница, используемая для декодирования значений кодовых точек в данных ресурсов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3492">The code page that is used to decode code point values within the resource data.</span></span> <span data-ttu-id="ffb41-3493">Как правило, кодовая страница будет кодовой страницей Юникода.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3493">Typically, the code page would be the Unicode code page.</span></span> <br/> |
| <span data-ttu-id="ffb41-3494">12</span><span class="sxs-lookup"><span data-stu-id="ffb41-3494">12</span></span> <br/> | <span data-ttu-id="ffb41-3495">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3495">4</span></span> <br/> | <span data-ttu-id="ffb41-3496">Зарезервировано, должно быть равно 0.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3496">Reserved, must be 0.</span></span> <br/> |                                                                                                                                                       |



 

### <a name="the-cormeta-section-object-only"></a><span data-ttu-id="ffb41-3497">Раздел. кормета (только объект)</span><span class="sxs-lookup"><span data-stu-id="ffb41-3497">The .cormeta Section (Object Only)</span></span>

<span data-ttu-id="ffb41-3498">Метаданные CLR хранятся в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3498">CLR metadata is stored in this section.</span></span> <span data-ttu-id="ffb41-3499">Он используется для указания того, что объектный файл содержит управляемый код.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3499">It is used to indicate that the object file contains managed code.</span></span> <span data-ttu-id="ffb41-3500">Формат метаданных не документирован, но может быть передан интерфейсам CLR для обработки метаданных.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3500">The format of the metadata is not documented, but can be handed to the CLR interfaces for handling metadata.</span></span>

### <a name="the-sxdata-section"></a><span data-ttu-id="ffb41-3501">Раздел. сксдата</span><span class="sxs-lookup"><span data-stu-id="ffb41-3501">The .sxdata Section</span></span>

<span data-ttu-id="ffb41-3502">Допустимые обработчики исключений объекта перечислены в разделе **сксдата** этого объекта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3502">The valid exception handlers of an object are listed in the **.sxdata** section of that object.</span></span> <span data-ttu-id="ffb41-3503">Раздел помечен как IMAGE \_ SCN \_ LNK \_ info.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3503">The section is marked IMAGE\_SCN\_LNK\_INFO.</span></span> <span data-ttu-id="ffb41-3504">Он содержит индекс символов COFF каждого допустимого обработчика, используя 4 байта на индекс.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3504">It contains the COFF symbol index of each valid handler, using 4 bytes per index.</span></span>

<span data-ttu-id="ffb41-3505">Кроме того, компилятор помечает объект COFF как зарегистрированный SEH путем порождения абсолютного символа " @feat.00 " с ЛСБ поля значения, установленного в значение 1.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3505">Additionally, the compiler marks a COFF object as registered SEH by emitting the absolute symbol "@feat.00" with the LSB of the value field set to 1.</span></span> <span data-ttu-id="ffb41-3506">Объект COFF без зарегистрированных обработчиков SEH будет иметь @feat.00 символ "", но не раздел **сксдата** .</span><span class="sxs-lookup"><span data-stu-id="ffb41-3506">A COFF object with no registered SEH handlers would have the "@feat.00" symbol, but no **.sxdata** section.</span></span>

## <a name="archive-library-file-format"></a><span data-ttu-id="ffb41-3507">Формат файла архива (библиотеки)</span><span class="sxs-lookup"><span data-stu-id="ffb41-3507">Archive (Library) File Format</span></span>

- [<span data-ttu-id="ffb41-3508">Подпись файла архива</span><span class="sxs-lookup"><span data-stu-id="ffb41-3508">Archive File Signature</span></span>](#archive-file-signature)
- [<span data-ttu-id="ffb41-3509">Заархивировать заголовки элементов</span><span class="sxs-lookup"><span data-stu-id="ffb41-3509">Archive Member Headers</span></span>](#archive-member-headers)
- [<span data-ttu-id="ffb41-3510">Первый член компоновщика</span><span class="sxs-lookup"><span data-stu-id="ffb41-3510">First Linker Member</span></span>](#first-linker-member)
- [<span data-ttu-id="ffb41-3511">Второй элемент компоновщика</span><span class="sxs-lookup"><span data-stu-id="ffb41-3511">Second Linker Member</span></span>](#second-linker-member)
- [<span data-ttu-id="ffb41-3512">Лонгнамес, элемент</span><span class="sxs-lookup"><span data-stu-id="ffb41-3512">Longnames Member</span></span>](#longnames-member)

<span data-ttu-id="ffb41-3513">Формат архива COFF предоставляет стандартный механизм для хранения коллекций объектных файлов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3513">The COFF archive format provides a standard mechanism for storing collections of object files.</span></span> <span data-ttu-id="ffb41-3514">Эти коллекции обычно называются библиотеками в документации по программированию.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3514">These collections are commonly called libraries in programming documentation.</span></span>

<span data-ttu-id="ffb41-3515">Первые 8 байт архива состоят из подписи файла.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3515">The first 8 bytes of an archive consist of the file signature.</span></span> <span data-ttu-id="ffb41-3516">Остальная часть архива состоит из ряда членов архива, как показано ниже.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3516">The rest of the archive consists of a series of archive members, as follows:</span></span>

-   <span data-ttu-id="ffb41-3517">Первый и второй члены — "члены компоновщика".</span><span class="sxs-lookup"><span data-stu-id="ffb41-3517">The first and second members are "linker members."</span></span> <span data-ttu-id="ffb41-3518">Каждый из этих членов имеет собственный формат, как описано в разделе [тип имени импорта](#import-name-type).</span><span class="sxs-lookup"><span data-stu-id="ffb41-3518">Each of these members has its own format as described in section [Import Name Type](#import-name-type).</span></span> <span data-ttu-id="ffb41-3519">Как правило, Компоновщик помещает информацию в эти элементы архива.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3519">Typically, a linker places information into these archive members.</span></span> <span data-ttu-id="ffb41-3520">Члены компоновщика содержат каталог архива.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3520">The linker members contain the directory of the archive.</span></span>

-   <span data-ttu-id="ffb41-3521">Третьим элементом является элемент «лонгнамес».</span><span class="sxs-lookup"><span data-stu-id="ffb41-3521">The third member is the "longnames" member.</span></span> <span data-ttu-id="ffb41-3522">Этот элемент состоит из ряда строк ASCII, завершающихся нулем, в которых каждая строка является именем другого элемента архива.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3522">This member consists of a series of null-terminated ASCII strings in which each string is the name of another archive member.</span></span>

-   <span data-ttu-id="ffb41-3523">Остальная часть архива состоит из стандартных (объектно-файловых) членов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3523">The rest of the archive consists of standard (object-file) members.</span></span> <span data-ttu-id="ffb41-3524">Каждый из этих членов содержит содержимое одного объектного файла целиком.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3524">Each of these members contains the contents of one object file in its entirety.</span></span>

<span data-ttu-id="ffb41-3525">Заголовок элемента архива предшествует каждому элементу.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3525">An archive member header precedes each member.</span></span> <span data-ttu-id="ffb41-3526">В следующем списке показана общая структура архива.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3526">The following list shows the general structure of an archive:</span></span>

-   <span data-ttu-id="ffb41-3527">Сигнатура: "! &lt; Дуга &gt; \\ n "</span><span class="sxs-lookup"><span data-stu-id="ffb41-3527">Signature :"!&lt;arch&gt;\\n"</span></span>
-   <span data-ttu-id="ffb41-3528">Header</span><span class="sxs-lookup"><span data-stu-id="ffb41-3528">Header</span></span>

    <dl> <span data-ttu-id="ffb41-3529">Первый член-компоновщик</span><span class="sxs-lookup"><span data-stu-id="ffb41-3529">1st Linker Member</span></span>  
    </dl>

-   <span data-ttu-id="ffb41-3530">Header</span><span class="sxs-lookup"><span data-stu-id="ffb41-3530">Header</span></span>

    <dl> <span data-ttu-id="ffb41-3531">второй член-компоновщик</span><span class="sxs-lookup"><span data-stu-id="ffb41-3531">2nd Linker Member</span></span>  
    </dl>

-   <span data-ttu-id="ffb41-3532">Header</span><span class="sxs-lookup"><span data-stu-id="ffb41-3532">Header</span></span>

    <dl> <span data-ttu-id="ffb41-3533">Лонгнамес, элемент</span><span class="sxs-lookup"><span data-stu-id="ffb41-3533">Longnames Member</span></span>  
    </dl>

-   <span data-ttu-id="ffb41-3534">Header</span><span class="sxs-lookup"><span data-stu-id="ffb41-3534">Header</span></span>

    <dl> <span data-ttu-id="ffb41-3535">Содержимое OBJ-файла 1</span><span class="sxs-lookup"><span data-stu-id="ffb41-3535">Contents of OBJ File 1</span></span>  
    <span data-ttu-id="ffb41-3536">(Формат COFF)</span><span class="sxs-lookup"><span data-stu-id="ffb41-3536">(COFF format)</span></span>  
    </dl>

-   <span data-ttu-id="ffb41-3537">Header</span><span class="sxs-lookup"><span data-stu-id="ffb41-3537">Header</span></span>

    <dl> <span data-ttu-id="ffb41-3538">Содержимое файла OBJ 2</span><span class="sxs-lookup"><span data-stu-id="ffb41-3538">Contents of OBJ File 2</span></span>  
    <span data-ttu-id="ffb41-3539">(Формат COFF)</span><span class="sxs-lookup"><span data-stu-id="ffb41-3539">(COFF format)</span></span>  
    </dl>

### <a name="archive-file-signature"></a><span data-ttu-id="ffb41-3540">Подпись файла архива</span><span class="sxs-lookup"><span data-stu-id="ffb41-3540">Archive File Signature</span></span>

<span data-ttu-id="ffb41-3541">Подпись файла архива определяет тип файла.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3541">The archive file signature identifies the file type.</span></span> <span data-ttu-id="ffb41-3542">Любая служебная программа (например, компоновщик), которая принимает файл архива в качестве входных данных, может проверить тип файла, прочитав эту подпись.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3542">Any utility (for example, a linker) that takes an archive file as input can check the file type by reading this signature.</span></span> <span data-ttu-id="ffb41-3543">Сигнатура состоит из следующих символов ASCII, в которых каждый символ представлен буквально, за исключением символа новой строки ( \\ n):</span><span class="sxs-lookup"><span data-stu-id="ffb41-3543">The signature consists of the following ASCII characters, in which each character below is represented literally, except for the newline (\\n) character:</span></span>

`!<arch>\n`

### <a name="archive-member-headers"></a><span data-ttu-id="ffb41-3544">Заархивировать заголовки элементов</span><span class="sxs-lookup"><span data-stu-id="ffb41-3544">Archive Member Headers</span></span>

<span data-ttu-id="ffb41-3545">Каждому элементу (компоновщику, лонгнамес или элементу объекта-файла) предшествует заголовок.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3545">Each member (linker, longnames, or object-file member) is preceded by a header.</span></span> <span data-ttu-id="ffb41-3546">Заголовок элемента архива имеет следующий формат, в котором каждое поле представляет собой текстовую строку ASCII, выровненную по левому краю и дополненную пробелами до конца поля.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3546">An archive member header has the following format, in which each field is an ASCII text string that is left justified and padded with spaces to the end of the field.</span></span> <span data-ttu-id="ffb41-3547">В этих полях нет завершающего нуль-символа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3547">There is no terminating null character in any of these fields.</span></span>

<span data-ttu-id="ffb41-3548">Заголовок каждого члена начинается на первом четном адресе после конца предыдущего элемента архива.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3548">Each member header starts on the first even address after the end of the previous archive member.</span></span>



| <span data-ttu-id="ffb41-3549">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-3549">Offset</span></span>         | <span data-ttu-id="ffb41-3550">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-3550">Size</span></span>           | <span data-ttu-id="ffb41-3551">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-3551">Field</span></span>                     | <span data-ttu-id="ffb41-3552">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-3552">Description</span></span>                                                                                                                                                                                                 |
|----------------|----------------|---------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-3553">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-3553">0</span></span> <br/>  | <span data-ttu-id="ffb41-3554">16</span><span class="sxs-lookup"><span data-stu-id="ffb41-3554">16</span></span> <br/> | <span data-ttu-id="ffb41-3555">Имя</span><span class="sxs-lookup"><span data-stu-id="ffb41-3555">Name</span></span> <br/>          | <span data-ttu-id="ffb41-3556">Имя элемента архива с добавленной косой чертой (/) для завершения имени.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3556">The name of the archive member, with a slash (/) appended to terminate the name.</span></span> <span data-ttu-id="ffb41-3557">Если первый символ является косой чертой, то имя имеет специальную интерпретацию, как описано в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3557">If the first character is a slash, the name has a special interpretation, as described in the following table.</span></span> <br/> |
| <span data-ttu-id="ffb41-3558">16</span><span class="sxs-lookup"><span data-stu-id="ffb41-3558">16</span></span> <br/> | <span data-ttu-id="ffb41-3559">12</span><span class="sxs-lookup"><span data-stu-id="ffb41-3559">12</span></span> <br/> | <span data-ttu-id="ffb41-3560">Дата</span><span class="sxs-lookup"><span data-stu-id="ffb41-3560">Date</span></span> <br/>          | <span data-ttu-id="ffb41-3561">Дата и время создания элемента архива: это десятичное представление ASCII с момента 1/1/1970 продукта, равное количеству секунд.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3561">The date and time that the archive member was created: This is the ASCII decimal representation of the number of seconds since 1/1/1970 UCT.</span></span> <br/>                                                    |
| <span data-ttu-id="ffb41-3562">28</span><span class="sxs-lookup"><span data-stu-id="ffb41-3562">28</span></span> <br/> | <span data-ttu-id="ffb41-3563">6</span><span class="sxs-lookup"><span data-stu-id="ffb41-3563">6</span></span> <br/>  | <span data-ttu-id="ffb41-3564">User ID</span><span class="sxs-lookup"><span data-stu-id="ffb41-3564">User ID</span></span> <br/>       | <span data-ttu-id="ffb41-3565">Десятичное представление идентификатора пользователя в формате ASCII.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3565">An ASCII decimal representation of the user ID.</span></span> <span data-ttu-id="ffb41-3566">Это поле не содержит осмысленного значения на платформах Windows, так как средства Майкрософт выдают все пробелы.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3566">This field does not contain a meaningful value on Windows platforms because Microsoft tools emit all blanks.</span></span> <br/>                                    |
| <span data-ttu-id="ffb41-3567">34</span><span class="sxs-lookup"><span data-stu-id="ffb41-3567">34</span></span> <br/> | <span data-ttu-id="ffb41-3568">6</span><span class="sxs-lookup"><span data-stu-id="ffb41-3568">6</span></span> <br/>  | <span data-ttu-id="ffb41-3569">Идентификатор группы.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3569">Group ID</span></span> <br/>      | <span data-ttu-id="ffb41-3570">Десятичное представление идентификатора группы в формате ASCII.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3570">An ASCII decimal representation of the group ID.</span></span> <span data-ttu-id="ffb41-3571">Это поле не содержит осмысленного значения на платформах Windows, так как средства Майкрософт выдают все пробелы.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3571">This field does not contain a meaningful value on Windows platforms because Microsoft tools emit all blanks.</span></span> <br/>                                   |
| <span data-ttu-id="ffb41-3572">40</span><span class="sxs-lookup"><span data-stu-id="ffb41-3572">40</span></span> <br/> | <span data-ttu-id="ffb41-3573">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-3573">8</span></span> <br/>  | <span data-ttu-id="ffb41-3574">Режим</span><span class="sxs-lookup"><span data-stu-id="ffb41-3574">Mode</span></span> <br/>          | <span data-ttu-id="ffb41-3575">Восьмеричное представление файла в формате ASCII.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3575">An ASCII octal representation of the member's file mode.</span></span> <span data-ttu-id="ffb41-3576">Это \_ значение режима St из функции времени выполнения C \_ встат.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3576">This is the ST\_MODE value from the C run-time function \_wstat.</span></span> <br/>                                                                       |
| <span data-ttu-id="ffb41-3577">48</span><span class="sxs-lookup"><span data-stu-id="ffb41-3577">48</span></span> <br/> | <span data-ttu-id="ffb41-3578">10</span><span class="sxs-lookup"><span data-stu-id="ffb41-3578">10</span></span> <br/> | <span data-ttu-id="ffb41-3579">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-3579">Size</span></span> <br/>          | <span data-ttu-id="ffb41-3580">Десятичное представление общего размера элемента архива в формате ASCII, не включая размер заголовка.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3580">An ASCII decimal representation of the total size of the archive member, not including the size of the header.</span></span> <br/>                                                                                  |
| <span data-ttu-id="ffb41-3581">58</span><span class="sxs-lookup"><span data-stu-id="ffb41-3581">58</span></span> <br/> | <span data-ttu-id="ffb41-3582">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-3582">2</span></span> <br/>  | <span data-ttu-id="ffb41-3583">Конец заголовка</span><span class="sxs-lookup"><span data-stu-id="ffb41-3583">End of Header</span></span> <br/> | <span data-ttu-id="ffb41-3584">Два байта в строке C "̃ \\ n" (0X60 0x0A).</span><span class="sxs-lookup"><span data-stu-id="ffb41-3584">The two bytes in the C string "˜\\n" (0x60 0x0A).</span></span> <br/>                                                                                                                                               |



 

<span data-ttu-id="ffb41-3585">Поле имени имеет один из форматов, приведенных в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3585">The Name field has one of the formats shown in the following table.</span></span> <span data-ttu-id="ffb41-3586">Как упоминалось ранее, каждая из этих строк выравнивается по левому краю и дополняется конечными пробелами в поле 16 байт:</span><span class="sxs-lookup"><span data-stu-id="ffb41-3586">As mentioned earlier, each of these strings is left justified and padded with trailing spaces within a field of 16 bytes:</span></span>



| <span data-ttu-id="ffb41-3587">Содержимое поля имени</span><span class="sxs-lookup"><span data-stu-id="ffb41-3587">Contents of Name field</span></span> | <span data-ttu-id="ffb41-3588">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-3588">Description</span></span>                                                                                                                                                                                                                                                                                          |
|------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-3589">безымян</span><span class="sxs-lookup"><span data-stu-id="ffb41-3589">name/</span></span> <br/>      | <span data-ttu-id="ffb41-3590">Имя элемента архива.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3590">The name of the archive member.</span></span> <br/>                                                                                                                                                                                                                                                          |
| / <br/>          | <span data-ttu-id="ffb41-3591">Член архива является одним из двух членов компоновщика.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3591">The archive member is one of the two linker members.</span></span> <span data-ttu-id="ffb41-3592">Оба члена компоновщика имеют это имя.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3592">Both of the linker members have this name.</span></span> <br/>                                                                                                                                                                                          |
| // <br/>         | <span data-ttu-id="ffb41-3593">Элемент Archive является членом лонгнамес, который состоит из ряда строк ASCII, завершающихся нулем.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3593">The archive member is the longnames member, which consists of a series of null-terminated ASCII strings.</span></span> <span data-ttu-id="ffb41-3594">Элемент лонгнамес является третьим элементом архива и всегда должен присутствовать, даже если содержимое пустое.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3594">The longnames member is the third archive member and must always be present even if the contents are empty.</span></span> <br/>                                                                     |
| <span data-ttu-id="ffb41-3595">/n</span><span class="sxs-lookup"><span data-stu-id="ffb41-3595">/n</span></span> <br/>         | <span data-ttu-id="ffb41-3596">Имя элемента архива находится в смещении n в пределах элемента лонгнамес.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3596">The name of the archive member is located at offset n within the longnames member.</span></span> <span data-ttu-id="ffb41-3597">Число n представляет собой десятичное представление смещения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3597">The number n is the decimal representation of the offset.</span></span> <span data-ttu-id="ffb41-3598">Например, "/26" означает, что имя элемента архива находится в расположении 26 байт после начала содержимого элемента лонгнамес.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3598">For example: "/26" indicates that the name of the archive member is located 26 bytes beyond the beginning of the longnames member contents.</span></span> <br/> |



 

### <a name="first-linker-member"></a><span data-ttu-id="ffb41-3599">Первый член компоновщика</span><span class="sxs-lookup"><span data-stu-id="ffb41-3599">First Linker Member</span></span>

<span data-ttu-id="ffb41-3600">Имя первого члена-компоновщика — "/".</span><span class="sxs-lookup"><span data-stu-id="ffb41-3600">The name of the first linker member is "/".</span></span> <span data-ttu-id="ffb41-3601">Первый член-компоновщик включен для обеспечения обратной совместимости.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3601">The first linker member is included for backward compatibility.</span></span> <span data-ttu-id="ffb41-3602">Он не используется текущими компоновщиками, но его формат должен быть правильным.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3602">It is not used by current linkers, but its format must be correct.</span></span> <span data-ttu-id="ffb41-3603">Этот элемент компоновщика предоставляет каталог имен символов, как и второй член-компоновщик.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3603">This linker member provides a directory of symbol names, as does the second linker member.</span></span> <span data-ttu-id="ffb41-3604">Для каждого символа информация указывает, где найти элемент архива, содержащий символ.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3604">For each symbol, the information indicates where to find the archive member that contains the symbol.</span></span>

<span data-ttu-id="ffb41-3605">Первый элемент компоновщика имеет следующий формат.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3605">The first linker member has the following format.</span></span> <span data-ttu-id="ffb41-3606">Эти сведения отображаются после заголовка:</span><span class="sxs-lookup"><span data-stu-id="ffb41-3606">This information appears after the header:</span></span>



| <span data-ttu-id="ffb41-3607">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-3607">Offset</span></span>         | <span data-ttu-id="ffb41-3608">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-3608">Size</span></span>               | <span data-ttu-id="ffb41-3609">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-3609">Field</span></span>                         | <span data-ttu-id="ffb41-3610">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-3610">Description</span></span>                                                                                                                                                                                                                                                                                                                                                        |
|----------------|--------------------|-------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-3611">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-3611">0</span></span> <br/>  | <span data-ttu-id="ffb41-3612">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3612">4</span></span> <br/>      | <span data-ttu-id="ffb41-3613">Число символов</span><span class="sxs-lookup"><span data-stu-id="ffb41-3613">Number of Symbols</span></span> <br/> | <span data-ttu-id="ffb41-3614">Длинное целое число без знака, содержащее количество индексированных символов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3614">Unsigned long that contains the number of indexed symbols.</span></span> <span data-ttu-id="ffb41-3615">Это число хранится в формате с обратным порядком байтов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3615">This number is stored in big-endian format.</span></span> <span data-ttu-id="ffb41-3616">Каждый член объекта File обычно определяет один или несколько внешних символов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3616">Each object-file member typically defines one or more external symbols.</span></span> <br/>                                                                                                                                                                         |
| <span data-ttu-id="ffb41-3617">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3617">4</span></span> <br/>  | <span data-ttu-id="ffb41-3618">4 \* n</span><span class="sxs-lookup"><span data-stu-id="ffb41-3618">4 \* n</span></span> <br/> | <span data-ttu-id="ffb41-3619">Смещения</span><span class="sxs-lookup"><span data-stu-id="ffb41-3619">Offsets</span></span> <br/>           | <span data-ttu-id="ffb41-3620">Массив смещений файлов для заголовков элементов архива, в которых n равно значению поля "число символов".</span><span class="sxs-lookup"><span data-stu-id="ffb41-3620">An array of file offsets to archive member headers, in which n is equal to the Number of Symbols field.</span></span> <span data-ttu-id="ffb41-3621">Каждое число в массиве является беззнаковым длинным и хранится в формате с обратным порядком байтов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3621">Each number in the array is an unsigned long stored in big-endian format.</span></span> <span data-ttu-id="ffb41-3622">Для каждого символа, названного в таблице строк, соответствующий элемент в массиве смещений предоставляет расположение элемента архива, содержащего символ.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3622">For each symbol that is named in the string table, the corresponding element in the offsets array gives the location of the archive member that contains the symbol.</span></span> <br/> |
| \* <br/> | \* <br/>     | <span data-ttu-id="ffb41-3623">Таблица строк</span><span class="sxs-lookup"><span data-stu-id="ffb41-3623">String Table</span></span> <br/>      | <span data-ttu-id="ffb41-3624">Ряд строк, заканчивающихся нулем, которые наименают все символы в каталоге.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3624">A series of null-terminated strings that name all the symbols in the directory.</span></span> <span data-ttu-id="ffb41-3625">Каждая строка начинается сразу после символа NULL в предыдущей строке.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3625">Each string begins immediately after the null character in the previous string.</span></span> <span data-ttu-id="ffb41-3626">Число строк должно быть равно значению поля "число символов".</span><span class="sxs-lookup"><span data-stu-id="ffb41-3626">The number of strings must be equal to the value of the Number of Symbols field.</span></span> <br/>                                                                                                       |



 

<span data-ttu-id="ffb41-3627">Элементы в массиве смещений должны быть упорядочены в возрастающем порядке.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3627">The elements in the offsets array must be arranged in ascending order.</span></span> <span data-ttu-id="ffb41-3628">Этот факт подразумевает, что символы в таблице строк должны быть упорядочены в соответствии с порядком элементов архива.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3628">This fact implies that the symbols in the string table must be arranged according to the order of archive members.</span></span> <span data-ttu-id="ffb41-3629">Например, все символы в первом элементе Object-File должны быть перечислены перед символами во втором объектном файле.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3629">For example, all the symbols in the first object-file member would have to be listed before the symbols in the second object file.</span></span>

### <a name="second-linker-member"></a><span data-ttu-id="ffb41-3630">Второй элемент компоновщика</span><span class="sxs-lookup"><span data-stu-id="ffb41-3630">Second Linker Member</span></span>

<span data-ttu-id="ffb41-3631">Второй элемент компоновщика имеет имя "/", как и первый член-компоновщик.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3631">The second linker member has the name "/" as does the first linker member.</span></span> <span data-ttu-id="ffb41-3632">Хотя оба члена-компоновщика предоставляют каталог символов и архивные элементы, которые их содержат, второй элемент-компоновщик используется в предпочтениях к первому из всех текущих компоновщиков.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3632">Although both linker members provide a directory of symbols and archive members that contain them, the second linker member is used in preference to the first by all current linkers.</span></span> <span data-ttu-id="ffb41-3633">Второй элемент компоновщика включает имена символов в лексической последовательности, что позволяет ускорить поиск по имени.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3633">The second linker member includes symbol names in lexical order, which enables faster searching by name.</span></span>

<span data-ttu-id="ffb41-3634">Второй элемент имеет следующий формат.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3634">The second member has the following format.</span></span> <span data-ttu-id="ffb41-3635">Эти сведения отображаются после заголовка:</span><span class="sxs-lookup"><span data-stu-id="ffb41-3635">This information appears after the header:</span></span>



| <span data-ttu-id="ffb41-3636">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-3636">Offset</span></span>         | <span data-ttu-id="ffb41-3637">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-3637">Size</span></span>               | <span data-ttu-id="ffb41-3638">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-3638">Field</span></span>                         | <span data-ttu-id="ffb41-3639">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-3639">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                              |
|----------------|--------------------|-------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-3640">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-3640">0</span></span> <br/>  | <span data-ttu-id="ffb41-3641">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3641">4</span></span> <br/>      | <span data-ttu-id="ffb41-3642">Число элементов</span><span class="sxs-lookup"><span data-stu-id="ffb41-3642">Number of Members</span></span> <br/> | <span data-ttu-id="ffb41-3643">Длинное целое число без знака, содержащее количество элементов архива.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3643">An unsigned long that contains the number of archive members.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                |
| <span data-ttu-id="ffb41-3644">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3644">4</span></span> <br/>  | <span data-ttu-id="ffb41-3645">4 \* м</span><span class="sxs-lookup"><span data-stu-id="ffb41-3645">4 \* m</span></span> <br/> | <span data-ttu-id="ffb41-3646">Смещения</span><span class="sxs-lookup"><span data-stu-id="ffb41-3646">Offsets</span></span> <br/>           | <span data-ttu-id="ffb41-3647">Массив смещений файлов для архивации заголовков элементов, упорядоченный в порядке возрастания.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3647">An array of file offsets to archive member headers, arranged in ascending order.</span></span> <span data-ttu-id="ffb41-3648">Каждое смещение имеет длину без знака.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3648">Each offset is an unsigned long .</span></span> <span data-ttu-id="ffb41-3649">Число m равно значению поля число членов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3649">The number m is equal to the value of the Number of Members field.</span></span> <br/>                                                                                                                                                                                                        |
| \* <br/> | <span data-ttu-id="ffb41-3650">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3650">4</span></span> <br/>      | <span data-ttu-id="ffb41-3651">Число символов</span><span class="sxs-lookup"><span data-stu-id="ffb41-3651">Number of Symbols</span></span> <br/> | <span data-ttu-id="ffb41-3652">Длинное целое число без знака, содержащее количество индексируемых символов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3652">An unsigned long that contains the number of symbols indexed.</span></span> <span data-ttu-id="ffb41-3653">Каждый член объекта File обычно определяет один или несколько внешних символов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3653">Each object-file member typically defines one or more external symbols.</span></span> <br/>                                                                                                                                                                                                                                                        |
| \* <br/> | <span data-ttu-id="ffb41-3654">2 \* n</span><span class="sxs-lookup"><span data-stu-id="ffb41-3654">2 \* n</span></span> <br/> | <span data-ttu-id="ffb41-3655">Увеличивают</span><span class="sxs-lookup"><span data-stu-id="ffb41-3655">Indices</span></span> <br/>           | <span data-ttu-id="ffb41-3656">Массив индексов на основе 1 (неподписанный короткий), которые сопоставляют имена символов с смещениями элементов архива.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3656">An array of 1-based indexes (unsigned short ) that map symbol names to archive member offsets.</span></span> <span data-ttu-id="ffb41-3657">Число n равно значению поля "число символов".</span><span class="sxs-lookup"><span data-stu-id="ffb41-3657">The number n is equal to the Number of Symbols field.</span></span> <span data-ttu-id="ffb41-3658">Для каждого символа, названного в таблице строк, соответствующий элемент в массиве индексов предоставляет индекс в массиве смещений.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3658">For each symbol that is named in the string table, the corresponding element in the Indices array gives an index into the offsets array.</span></span> <span data-ttu-id="ffb41-3659">Массив смещений, в свою очередь, предоставляет расположение элемента архива, содержащего символ.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3659">The offsets array, in turn, gives the location of the archive member that contains the symbol.</span></span> <br/> |
| \* <br/> | \* <br/>     | <span data-ttu-id="ffb41-3660">Таблица строк</span><span class="sxs-lookup"><span data-stu-id="ffb41-3660">String Table</span></span> <br/>      | <span data-ttu-id="ffb41-3661">Ряд строк, заканчивающихся нулем, которые наименают все символы в каталоге.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3661">A series of null-terminated strings that name all of the symbols in the directory.</span></span> <span data-ttu-id="ffb41-3662">Каждая строка начинается сразу после нулевого байта в предыдущей строке.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3662">Each string begins immediately after the null byte in the previous string.</span></span> <span data-ttu-id="ffb41-3663">Число строк должно быть равно значению поля "число символов".</span><span class="sxs-lookup"><span data-stu-id="ffb41-3663">The number of strings must be equal to the value of the Number of Symbols field.</span></span> <span data-ttu-id="ffb41-3664">В этой таблице перечислены все имена символов в порядке возрастания лексического порядка.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3664">This table lists all the symbol names in ascending lexical order.</span></span> <br/>                                                                             |



 

### <a name="longnames-member"></a><span data-ttu-id="ffb41-3665">Лонгнамес, элемент</span><span class="sxs-lookup"><span data-stu-id="ffb41-3665">Longnames Member</span></span>

<span data-ttu-id="ffb41-3666">Имя элемента лонгнамес — "//".</span><span class="sxs-lookup"><span data-stu-id="ffb41-3666">The name of the longnames member is "//".</span></span> <span data-ttu-id="ffb41-3667">Элемент лонгнамес представляет собой последовательность строк имен элементов архива.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3667">The longnames member is a series of strings of archive member names.</span></span> <span data-ttu-id="ffb41-3668">Имя отображается здесь только в том случае, если в поле имени недостаточно места (16 байт).</span><span class="sxs-lookup"><span data-stu-id="ffb41-3668">A name appears here only when there is insufficient room in the Name field (16 bytes).</span></span> <span data-ttu-id="ffb41-3669">Элемент лонгнамес является необязательным.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3669">The longnames member is optional.</span></span> <span data-ttu-id="ffb41-3670">Она может быть пустой только с заголовком или полностью отсутствовать даже в заголовке.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3670">It can be empty with only a header, or it can be completely absent without even a header.</span></span>

<span data-ttu-id="ffb41-3671">Строки завершаются нулем.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3671">The strings are null-terminated.</span></span> <span data-ttu-id="ffb41-3672">Каждая строка начинается сразу после нулевого байта в предыдущей строке.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3672">Each string begins immediately after the null byte in the previous string.</span></span>

## <a name="import-library-format"></a><span data-ttu-id="ffb41-3673">Формат импорта библиотеки</span><span class="sxs-lookup"><span data-stu-id="ffb41-3673">Import Library Format</span></span>

- [<span data-ttu-id="ffb41-3674">Импорт заголовка</span><span class="sxs-lookup"><span data-stu-id="ffb41-3674">Import Header</span></span>](#import-header)
- [<span data-ttu-id="ffb41-3675">Тип импорта</span><span class="sxs-lookup"><span data-stu-id="ffb41-3675">Import Type</span></span>](#import-type)

<span data-ttu-id="ffb41-3676">Традиционные библиотеки импорта, то есть библиотеки, которые описывают экспорты из одного изображения для использования другим, обычно следуют разметке, описанной в разделе 7, [Формат файла архива (библиотека)](#archive-library-file-format).</span><span class="sxs-lookup"><span data-stu-id="ffb41-3676">Traditional import libraries, that is, libraries that describe the exports from one image for use by another, typically follow the layout described in section 7, [Archive (Library) File Format](#archive-library-file-format).</span></span> <span data-ttu-id="ffb41-3677">Основное различие заключается в том, что элементы библиотеки импорта содержат файлы псевдо-Object, а не реальные, в котором каждый элемент включает вклады раздела, необходимые для построения таблиц импорта, описанных в разделе 6,4, в [разделе иДата](#the-idata-section) компоновщик создает этот архив при сборке приложения экспорта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3677">The primary difference is that import library members contain pseudo-object files instead of real ones, in which each member includes the section contributions that are required to build the import tables that are described in section 6.4, [The .idata Section](#the-idata-section) The linker generates this archive while building the exporting application.</span></span>

<span data-ttu-id="ffb41-3678">Разделы, посвященные импорту, можно вывести из небольшого набора данных.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3678">The section contributions for an import can be inferred from a small set of information.</span></span> <span data-ttu-id="ffb41-3679">Компоновщик может либо создать полную подробную информацию в библиотеке импорта для каждого элемента во время создания библиотеки, либо записать только каноническую информацию в библиотеку и позволить приложению, которое позже использует его, создавать необходимые данные на лету.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3679">The linker can either generate the complete, verbose information into the import library for each member at the time of the library's creation or write only the canonical information to the library and let the application that later uses it generate the necessary data on the fly.</span></span>

<span data-ttu-id="ffb41-3680">В библиотеке импорта с длинным форматом один элемент содержит следующие сведения:</span><span class="sxs-lookup"><span data-stu-id="ffb41-3680">In an import library with the long format, a single member contains the following information:</span></span>

<dl> <span data-ttu-id="ffb41-3681">Заголовок элемента архива</span><span class="sxs-lookup"><span data-stu-id="ffb41-3681">Archive member header</span></span>  
<span data-ttu-id="ffb41-3682">Заголовок файла</span><span class="sxs-lookup"><span data-stu-id="ffb41-3682">File header</span></span>  
<span data-ttu-id="ffb41-3683">Заголовки разделов</span><span class="sxs-lookup"><span data-stu-id="ffb41-3683">Section headers</span></span>  
<span data-ttu-id="ffb41-3684">Данные, соответствующие каждому из заголовков разделов</span><span class="sxs-lookup"><span data-stu-id="ffb41-3684">Data that corresponds to each of the section headers</span></span>  
<span data-ttu-id="ffb41-3685">Таблица символов COFF</span><span class="sxs-lookup"><span data-stu-id="ffb41-3685">COFF symbol table</span></span>  
<span data-ttu-id="ffb41-3686">Строки</span><span class="sxs-lookup"><span data-stu-id="ffb41-3686">Strings</span></span>  
  
</dl>

<span data-ttu-id="ffb41-3687">В отличие от этого, короткая библиотека импорта записывается следующим образом:</span><span class="sxs-lookup"><span data-stu-id="ffb41-3687">In contrast, a short import library is written as follows:</span></span>

<dl> <span data-ttu-id="ffb41-3688">Заголовок элемента архива</span><span class="sxs-lookup"><span data-stu-id="ffb41-3688">Archive member header</span></span>  
<span data-ttu-id="ffb41-3689">Импорт заголовка</span><span class="sxs-lookup"><span data-stu-id="ffb41-3689">Import header</span></span>  
<span data-ttu-id="ffb41-3690">Строка имени импорта, завершающаяся нулем</span><span class="sxs-lookup"><span data-stu-id="ffb41-3690">Null-terminated import name string</span></span>  
<span data-ttu-id="ffb41-3691">Строка имени DLL, заканчивающаяся нулем</span><span class="sxs-lookup"><span data-stu-id="ffb41-3691">Null-terminated DLL name string</span></span>  
</dl>

<span data-ttu-id="ffb41-3692">Это достаточно для того, чтобы точно восстановить все содержимое элемента во время его использования.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3692">This is sufficient information to accurately reconstruct the entire contents of the member at the time of its use.</span></span>

### <a name="import-header"></a><span data-ttu-id="ffb41-3693">Импорт заголовка</span><span class="sxs-lookup"><span data-stu-id="ffb41-3693">Import Header</span></span>

<span data-ttu-id="ffb41-3694">Заголовок import содержит следующие поля и смещения:</span><span class="sxs-lookup"><span data-stu-id="ffb41-3694">The import header contains the following fields and offsets:</span></span>



| <span data-ttu-id="ffb41-3695">Offset</span><span class="sxs-lookup"><span data-stu-id="ffb41-3695">Offset</span></span>         | <span data-ttu-id="ffb41-3696">Размер</span><span class="sxs-lookup"><span data-stu-id="ffb41-3696">Size</span></span>                | <span data-ttu-id="ffb41-3697">Поле</span><span class="sxs-lookup"><span data-stu-id="ffb41-3697">Field</span></span>                       | <span data-ttu-id="ffb41-3698">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-3698">Description</span></span>                                                                                                                  |
|----------------|---------------------|-----------------------------|------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ffb41-3699">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-3699">0</span></span> <br/>  | <span data-ttu-id="ffb41-3700">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-3700">2</span></span> <br/>       | <span data-ttu-id="ffb41-3701">Sig1</span><span class="sxs-lookup"><span data-stu-id="ffb41-3701">Sig1</span></span> <br/>            | <span data-ttu-id="ffb41-3702">Должно быть \_ \_ \_ неизвестным файл образа компьютера.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3702">Must be IMAGE\_FILE\_MACHINE\_UNKNOWN.</span></span> <span data-ttu-id="ffb41-3703">Дополнительные сведения см. в разделе [типы компьютеров](#machine-types).</span><span class="sxs-lookup"><span data-stu-id="ffb41-3703">For more information, see [Machine Types](#machine-types).</span></span> <br/>                |
| <span data-ttu-id="ffb41-3704">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-3704">2</span></span> <br/>  | <span data-ttu-id="ffb41-3705">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-3705">2</span></span> <br/>       | <span data-ttu-id="ffb41-3706">Sig2</span><span class="sxs-lookup"><span data-stu-id="ffb41-3706">Sig2</span></span> <br/>            | <span data-ttu-id="ffb41-3707">Должно быть 0xFFFF.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3707">Must be 0xFFFF.</span></span> <br/>                                                                                                  |
| <span data-ttu-id="ffb41-3708">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3708">4</span></span> <br/>  | <span data-ttu-id="ffb41-3709">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-3709">2</span></span> <br/>       | <span data-ttu-id="ffb41-3710">Версия</span><span class="sxs-lookup"><span data-stu-id="ffb41-3710">Version</span></span> <br/>         | <span data-ttu-id="ffb41-3711">Версия структуры.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3711">The structure version.</span></span> <br/>                                                                                           |
| <span data-ttu-id="ffb41-3712">6</span><span class="sxs-lookup"><span data-stu-id="ffb41-3712">6</span></span> <br/>  | <span data-ttu-id="ffb41-3713">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-3713">2</span></span> <br/>       | <span data-ttu-id="ffb41-3714">Компьютер</span><span class="sxs-lookup"><span data-stu-id="ffb41-3714">Machine</span></span> <br/>         | <span data-ttu-id="ffb41-3715">Число, идентифицирующее тип целевого компьютера.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3715">The number that identifies the type of target machine.</span></span> <span data-ttu-id="ffb41-3716">Дополнительные сведения см. в разделе [типы компьютеров](#machine-types).</span><span class="sxs-lookup"><span data-stu-id="ffb41-3716">For more information, see [Machine Types](#machine-types).</span></span><br/> |
| <span data-ttu-id="ffb41-3717">8</span><span class="sxs-lookup"><span data-stu-id="ffb41-3717">8</span></span> <br/>  | <span data-ttu-id="ffb41-3718">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3718">4</span></span> <br/>       | <span data-ttu-id="ffb41-3719">Отметка Time-Date</span><span class="sxs-lookup"><span data-stu-id="ffb41-3719">Time-Date Stamp</span></span> <br/> | <span data-ttu-id="ffb41-3720">Время и Дата создания файла.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3720">The time and date that the file was created.</span></span> <br/>                                                                     |
| <span data-ttu-id="ffb41-3721">12</span><span class="sxs-lookup"><span data-stu-id="ffb41-3721">12</span></span> <br/> | <span data-ttu-id="ffb41-3722">4</span><span class="sxs-lookup"><span data-stu-id="ffb41-3722">4</span></span> <br/>       | <span data-ttu-id="ffb41-3723">Размер данных</span><span class="sxs-lookup"><span data-stu-id="ffb41-3723">Size Of Data</span></span> <br/>    | <span data-ttu-id="ffb41-3724">Размер строк, следующих за заголовком.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3724">The size of the strings that follow the header.</span></span> <br/>                                                                  |
| <span data-ttu-id="ffb41-3725">16</span><span class="sxs-lookup"><span data-stu-id="ffb41-3725">16</span></span> <br/> | <span data-ttu-id="ffb41-3726">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-3726">2</span></span> <br/>       | <span data-ttu-id="ffb41-3727">Порядковый номер/указание</span><span class="sxs-lookup"><span data-stu-id="ffb41-3727">Ordinal/Hint</span></span> <br/>    | <span data-ttu-id="ffb41-3728">Либо порядковый номер, либо указание для импорта, определяемое значением в поле Тип имени.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3728">Either the ordinal or the hint for the import, determined by the value in the Name Type field.</span></span> <br/>                   |
| <span data-ttu-id="ffb41-3729">18</span><span class="sxs-lookup"><span data-stu-id="ffb41-3729">18</span></span> <br/> | <span data-ttu-id="ffb41-3730">2 бита</span><span class="sxs-lookup"><span data-stu-id="ffb41-3730">2 bits</span></span> <br/>  | <span data-ttu-id="ffb41-3731">Тип</span><span class="sxs-lookup"><span data-stu-id="ffb41-3731">Type</span></span> <br/>            | <span data-ttu-id="ffb41-3732">Тип импорта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3732">The import type.</span></span> <span data-ttu-id="ffb41-3733">Конкретные значения и описания см. в разделе [Тип импорта](#import-type).</span><span class="sxs-lookup"><span data-stu-id="ffb41-3733">For specific values and descriptions, see [Import Type](#import-type).</span></span><br/>                           |
|                | <span data-ttu-id="ffb41-3734">3 бита</span><span class="sxs-lookup"><span data-stu-id="ffb41-3734">3 bits</span></span> <br/>  | <span data-ttu-id="ffb41-3735">Тип имени</span><span class="sxs-lookup"><span data-stu-id="ffb41-3735">Name Type</span></span> <br/>       | <span data-ttu-id="ffb41-3736">Тип имени импорта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3736">The import name type.</span></span> <span data-ttu-id="ffb41-3737">Дополнительные сведения см. в разделе [тип имени для импорта](#import-name-type).</span><span class="sxs-lookup"><span data-stu-id="ffb41-3737">For more information, see [Import Name Type](#import-name-type).</span></span> <br/>                           |
|                | <span data-ttu-id="ffb41-3738">11 бит</span><span class="sxs-lookup"><span data-stu-id="ffb41-3738">11 bits</span></span> <br/> | <span data-ttu-id="ffb41-3739">Зарезервировано</span><span class="sxs-lookup"><span data-stu-id="ffb41-3739">Reserved</span></span> <br/>        | <span data-ttu-id="ffb41-3740">Зарезервировано, должно быть равно 0.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3740">Reserved, must be 0.</span></span> <br/>                                                                                             |



 

<span data-ttu-id="ffb41-3741">За этой структурой следуют две строки, заканчивающиеся нулем, которые описывают имя импортированного символа и библиотеку DLL, из которой он пришел.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3741">This structure is followed by two null-terminated strings that describe the imported symbol's name and the DLL from which it came.</span></span>

### <a name="import-type"></a><span data-ttu-id="ffb41-3742">Тип импорта</span><span class="sxs-lookup"><span data-stu-id="ffb41-3742">Import Type</span></span>

<span data-ttu-id="ffb41-3743">Для поля Type в заголовке импорта определены следующие значения:</span><span class="sxs-lookup"><span data-stu-id="ffb41-3743">The following values are defined for the Type field in the import header:</span></span>

| <span data-ttu-id="ffb41-3744">Константа</span><span class="sxs-lookup"><span data-stu-id="ffb41-3744">Constant</span></span>                  | <span data-ttu-id="ffb41-3745">Значение</span><span class="sxs-lookup"><span data-stu-id="ffb41-3745">Value</span></span>         | <span data-ttu-id="ffb41-3746">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-3746">Description</span></span>                                      |
|---------------------------|---------------|--------------------------------------------------|
| <span data-ttu-id="ffb41-3747">ИМПОРТИРОВАТЬ \_ код</span><span class="sxs-lookup"><span data-stu-id="ffb41-3747">IMPORT\_CODE</span></span> <br/>  | <span data-ttu-id="ffb41-3748">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-3748">0</span></span> <br/> | <span data-ttu-id="ffb41-3749">Исполняемый код.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3749">Executable code.</span></span> <br/>                     |
| <span data-ttu-id="ffb41-3750">Импорт \_ данных</span><span class="sxs-lookup"><span data-stu-id="ffb41-3750">IMPORT\_DATA</span></span> <br/>  | <span data-ttu-id="ffb41-3751">1</span><span class="sxs-lookup"><span data-stu-id="ffb41-3751">1</span></span> <br/> | <span data-ttu-id="ffb41-3752">Данные.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3752">Data.</span></span> <br/>                                |
| <span data-ttu-id="ffb41-3753">Импорт \_ const</span><span class="sxs-lookup"><span data-stu-id="ffb41-3753">IMPORT\_CONST</span></span> <br/> | <span data-ttu-id="ffb41-3754">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-3754">2</span></span> <br/> | <span data-ttu-id="ffb41-3755">Указывается как CONST в DEF файле.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3755">Specified as CONST in the .def file.</span></span> <br/> |

<span data-ttu-id="ffb41-3756">Эти значения используются для определения того, какие вклады разделов должны создаваться средством, использующим библиотеку, если они должны обращаться к этим данным.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3756">These values are used to determine which section contributions must be generated by the tool that uses the library if it must access that data.</span></span>

### <a name="import-name-type"></a><span data-ttu-id="ffb41-3757">Тип имени импорта</span><span class="sxs-lookup"><span data-stu-id="ffb41-3757">Import Name Type</span></span>

<span data-ttu-id="ffb41-3758">Имя символа импорта, заканчивающееся символом NULL, следует непосредственно за соответствующим заголовком импорта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3758">The null-terminated import symbol name immediately follows its associated import header.</span></span> <span data-ttu-id="ffb41-3759">Следующие значения определены для поля имя типа в заголовке импорта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3759">The following values are defined for the Name Type field in the import header.</span></span> <span data-ttu-id="ffb41-3760">Они указывают, как имя используется для создания правильных символов, представляющих импорт:</span><span class="sxs-lookup"><span data-stu-id="ffb41-3760">They indicate how the name is to be used to generate the correct symbols that represent the import:</span></span>

| <span data-ttu-id="ffb41-3761">Константа</span><span class="sxs-lookup"><span data-stu-id="ffb41-3761">Constant</span></span> | <span data-ttu-id="ffb41-3762">Значение</span><span class="sxs-lookup"><span data-stu-id="ffb41-3762">Value</span></span> | <span data-ttu-id="ffb41-3763">Описание</span><span class="sxs-lookup"><span data-stu-id="ffb41-3763">Description</span></span> |
| - | - | - |
| <span data-ttu-id="ffb41-3764">\_порядковый номер импорта</span><span class="sxs-lookup"><span data-stu-id="ffb41-3764">IMPORT\_ORDINAL</span></span> | <span data-ttu-id="ffb41-3765">0</span><span class="sxs-lookup"><span data-stu-id="ffb41-3765">0</span></span> | <span data-ttu-id="ffb41-3766">Импорт по порядковому номеру.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3766">The import is by ordinal.</span></span> <span data-ttu-id="ffb41-3767">Это означает, что значение в поле Ordinal/хинтинга заголовка import является порядковым номером импорта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3767">This indicates that the value in the Ordinal/Hint field of the import header is the import's ordinal.</span></span> <span data-ttu-id="ffb41-3768">Если эта константа не указана, поле Ordinal/хинтинга всегда должно интерпретироваться как указание импорта.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3768">If this constant is not specified, then the Ordinal/Hint field should always be interpreted as the import's hint.</span></span> |
| <span data-ttu-id="ffb41-3769">\_имя импорта</span><span class="sxs-lookup"><span data-stu-id="ffb41-3769">IMPORT\_NAME</span></span> | <span data-ttu-id="ffb41-3770">1</span><span class="sxs-lookup"><span data-stu-id="ffb41-3770">1</span></span> | <span data-ttu-id="ffb41-3771">Имя импорта идентично имени общедоступного символа.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3771">The import name is identical to the public symbol name.</span></span> |
| <span data-ttu-id="ffb41-3772">\_префикс имени для импорта \_</span><span class="sxs-lookup"><span data-stu-id="ffb41-3772">IMPORT\_NAME\_NOPREFIX</span></span> | <span data-ttu-id="ffb41-3773">2</span><span class="sxs-lookup"><span data-stu-id="ffb41-3773">2</span></span> | <span data-ttu-id="ffb41-3774">Имя импорта — это имя общедоступного символа, но пропускается начальное значение?, @ или (необязательно) \_ .</span><span class="sxs-lookup"><span data-stu-id="ffb41-3774">The import name is the public symbol name, but skipping the leading ?, @, or optionally \_.</span></span> |
| <span data-ttu-id="ffb41-3775">Импорт \_ имени для \_ расоформления</span><span class="sxs-lookup"><span data-stu-id="ffb41-3775">IMPORT\_NAME\_UNDECORATE</span></span> | <span data-ttu-id="ffb41-3776">3</span><span class="sxs-lookup"><span data-stu-id="ffb41-3776">3</span></span> | <span data-ttu-id="ffb41-3777">Имя импорта — это имя общедоступного символа, но пропускается начальное значение?, @ или при необходимости \_ и усекается в первом @ .</span><span class="sxs-lookup"><span data-stu-id="ffb41-3777">The import name is the public symbol name, but skipping the leading ?, @, or optionally \_, and truncating at the first @.</span></span> |

## <a name="appendix-a-calculating-authenticode-pe-image-hash"></a><span data-ttu-id="ffb41-3778">Приложение а. вычисление хэша образа среды предустановки Authenticode</span><span class="sxs-lookup"><span data-stu-id="ffb41-3778">Appendix A: Calculating Authenticode PE Image Hash</span></span>

- [<span data-ttu-id="ffb41-3779">Что такое хэш образа среды предустановки Authenticode?</span><span class="sxs-lookup"><span data-stu-id="ffb41-3779">What is an Authenticode PE Image Hash?</span></span>](#what-is-an-authenticode-pe-image-hash)
- [<span data-ttu-id="ffb41-3780">Что рассматривается в хэш-коде образа Authenticode PE?</span><span class="sxs-lookup"><span data-stu-id="ffb41-3780">What is Covered in an Authenticode PE Image Hash?</span></span>](#what-is-covered-in-an-authenticode-pe-image-hash)

<span data-ttu-id="ffb41-3781">Предполагается, что для проверки целостности образов используются несколько сертификатов атрибутов.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3781">Several attribute certificates are expected to be used to verify the integrity of the images.</span></span> <span data-ttu-id="ffb41-3782">Однако наиболее распространенной является подпись Authenticode.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3782">However, the most common is Authenticode signature.</span></span> <span data-ttu-id="ffb41-3783">Подпись Authenticode можно использовать для проверки того, что соответствующие разделы файла образа PE не были изменены каким-либо образом из исходной формы файла.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3783">An Authenticode signature can be used to verify that the relevant sections of a PE image file have not been altered in any way from the file’s original form.</span></span> <span data-ttu-id="ffb41-3784">Для выполнения этой задачи подписи Authenticode содержат нечто, называемое хэшем образа PE</span><span class="sxs-lookup"><span data-stu-id="ffb41-3784">To accomplish this task, Authenticode signatures contain something called a PE image hash</span></span>

### <a name="what-is-an-authenticode-pe-image-hash"></a><span data-ttu-id="ffb41-3785">Что такое хэш образа среды предустановки Authenticode?</span><span class="sxs-lookup"><span data-stu-id="ffb41-3785">What is an Authenticode PE Image Hash?</span></span>

<span data-ttu-id="ffb41-3786">Хэш образа Authenticode PE или файловый хэш для коротких файлов аналогичен контрольной сумме файла в том, что он создает небольшое значение, связанное с целостностью файла.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3786">The Authenticode PE image hash, or file hash for short, is similar to a file checksum in that it produces a small value that relates to the integrity of a file.</span></span> <span data-ttu-id="ffb41-3787">Контрольная сумма создается простым алгоритмом и используется в основном для обнаружения сбоев памяти.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3787">A checksum is produced by a simple algorithm and is used primarily to detect memory failures.</span></span> <span data-ttu-id="ffb41-3788">То есть он используется для определения того, поврежден ли блок памяти на диске, а хранящиеся в нем значения повреждаются.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3788">That is, it is used to detect whether a block of memory on disk has gone bad and the values stored there have become corrupted.</span></span> <span data-ttu-id="ffb41-3789">Хэш файла аналогичен контрольной сумме в том, что он также обнаруживает повреждение файла.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3789">A file hash is similar to a checksum in that it also detects file corruption.</span></span> <span data-ttu-id="ffb41-3790">Однако в отличие от большинства алгоритмов контрольной суммы очень сложно изменить файл так, чтобы он совпадал с тем же хэшем файла, что и его исходная (неизмененная) форма.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3790">However, unlike most checksum algorithms, it is very difficult to modify a file so that it has the same file hash as its original (unmodified) form.</span></span> <span data-ttu-id="ffb41-3791">То есть контрольная сумма предназначена для обнаружения простых ошибок памяти, приводящих к повреждению, но хэш файла можно использовать для обнаружения намеренных и даже незначительных изменений в файле, таких как вирусы, хакеры или троянские программы.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3791">That is, a checksum is intended to detect simple memory failures that lead to corruption, but a file hash can be used to detect intentional and even subtle modifications to a file, such as those introduced by viruses, hackers, or Trojan horse programs.</span></span>

<span data-ttu-id="ffb41-3792">В сигнатуре Authenticode хэш-файл имеет цифровую подпись, используя закрытый ключ, известный только для подписавшего файла.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3792">In an Authenticode signature, the file hash is digitally signed by using a private key known only to the signer of the file.</span></span> <span data-ttu-id="ffb41-3793">Потребитель программного обеспечения может проверить целостность файла, вычисляя хэш-значение файла и сравнив его со значением подписанного хэша, содержащегося в цифровой подписи Authenticode.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3793">A software consumer can verify the integrity of the file by calculating the hash value of the file and comparing it to the value of signed hash contained in the Authenticode digital signature.</span></span> <span data-ttu-id="ffb41-3794">Если хэши файлов не совпадают, часть файла, охваченного хэшем образа PE, была изменена.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3794">If the file hashes do not match, part of the file covered by the PE image hash has been modified.</span></span>

### <a name="what-is-covered-in-an-authenticode-pe-image-hash"></a><span data-ttu-id="ffb41-3795">Что рассматривается в хэш-коде образа Authenticode PE?</span><span class="sxs-lookup"><span data-stu-id="ffb41-3795">What is Covered in an Authenticode PE Image Hash?</span></span>

<span data-ttu-id="ffb41-3796">Невозможно или желательно включить все данные файла изображения в вычисление хэша образа PE.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3796">It is not possible or desirable to include all image file data in the calculation of the PE image hash.</span></span> <span data-ttu-id="ffb41-3797">Иногда он просто представляет нежелательные характеристики (например, отладочную информацию нельзя удалить из общедоступных файлов). Иногда это просто невозможно.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3797">Sometimes it simply presents undesirable characteristics (for example, debugging information cannot be removed from publicly released files); sometimes it is simply impossible.</span></span> <span data-ttu-id="ffb41-3798">Например, невозможно включить всю информацию в файл изображения в сигнатуре Authenticode, а затем вставить подпись Authenticode, содержащую этот хэш образа PE, в PE-образ, а затем создать идентичный хэш образа PE, включив все данные файла изображения в вычисление снова, так как файл теперь содержит подпись Authenticode, которая изначально не существовала.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3798">For example, it is not possible to include all information within an image file in an Authenticode signature, then insert the Authenticode signature that contains that PE image hash into the PE image, and later be able to generate an identical PE image hash by including all image file data in the calculation again, because the file now contains the Authenticode signature that was not originally there.</span></span>

#### <a name="process-for-generating-the-authenticode-pe-image-hash"></a><span data-ttu-id="ffb41-3799">Процесс создания хэша образа среды предустановки Authenticode</span><span class="sxs-lookup"><span data-stu-id="ffb41-3799">Process for Generating the Authenticode PE Image Hash</span></span>

<span data-ttu-id="ffb41-3800">В этом разделе описывается, как вычисляется хэш образа PE и какие части образа PE можно изменить без недействительности подписи Authenticode.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3800">This section describes how a PE image hash is calculated and what parts of the PE image can be modified without invalidating the Authenticode signature.</span></span>

> [!NOTE]
> <span data-ttu-id="ffb41-3801">Хэш образа PE для конкретного файла может быть включен в отдельный файл каталога без включения сертификата атрибута в хэшированный файл.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3801">The PE image hash for a specific file can be included in a separate catalog file without including an attribute certificate within the hashed file.</span></span> <span data-ttu-id="ffb41-3802">Это уместно, так как становится возможным сделать недействительным хэш образа PE в файле каталога с подписью Authenticode, изменив образ PE, который фактически не содержит сигнатуру Authenticode.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3802">This is relevant, because it becomes possible to invalidate the PE image hash in an Authenticode-signed catalog file by modifying a PE image that does not actually contain an Authenticode signature.</span></span>

<span data-ttu-id="ffb41-3803">Все данные в разделах образа PE, указанных в таблице разделов, хэшируются целиком, за исключением следующих исключаемых диапазонов:</span><span class="sxs-lookup"><span data-stu-id="ffb41-3803">All data in sections of the PE image that are specified in the section table are hashed in their entirety except for the following exclusion ranges:</span></span>

- <span data-ttu-id="ffb41-3804">**Поле контрольной суммы файла для полей необязательного заголовка, связанных с Windows.**</span><span class="sxs-lookup"><span data-stu-id="ffb41-3804">**The file CheckSum field of the Windows-specific fields of the optional header.**</span></span> <span data-ttu-id="ffb41-3805">Эта контрольная сумма включает в себя весь файл (включая все сертификаты атрибутов в файле).</span><span class="sxs-lookup"><span data-stu-id="ffb41-3805">This checksum includes the entire file (including any attribute certificates in the file).</span></span> <span data-ttu-id="ffb41-3806">При любой вероятности контрольная сумма будет отличаться от первоначального значения после вставки подписи Authenticode.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3806">In all likelihood, the checksum will be different than the original value after inserting the Authenticode signature.</span></span>

- <span data-ttu-id="ffb41-3807">**Сведения, относящиеся к сертификатам атрибутов**.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3807">**Information related to attribute certificates**.</span></span> <span data-ttu-id="ffb41-3808">Области образа PE, связанные с подписью Authenticode, не включаются в вычисление хэша образа PE, так как подписи Authenticode можно добавлять или удалять из образа, не влияя на общую целостность изображения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3808">The areas of the PE image that are related to the Authenticode signature are not included in the calculation of the PE image hash because Authenticode signatures can be added to or removed from an image without affecting the overall integrity of the image.</span></span> <span data-ttu-id="ffb41-3809">Это не проблема, так как существуют пользовательские сценарии, которые зависят от повторной подписи PE-образов или добавления метки времени.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3809">This is not a problem, because there are user scenarios that depend on re-signing PE images or adding a time stamp.</span></span> <span data-ttu-id="ffb41-3810">Authenticode исключает следующие сведения из вычисления хэша:</span><span class="sxs-lookup"><span data-stu-id="ffb41-3810">Authenticode excludes the following information from the hash calculation:</span></span>

  - <span data-ttu-id="ffb41-3811">Поле таблицы сертификатов необязательных каталогов данных заголовка.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3811">The Certificate Table field of the optional header data directories.</span></span>

  - <span data-ttu-id="ffb41-3812">Таблица сертификатов и соответствующие сертификаты, на которые указывает поле таблицы сертификатов, указанное непосредственно выше.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3812">The Certificate Table and corresponding certificates that are pointed to by the Certificate Table field listed immediately above.</span></span>

  <span data-ttu-id="ffb41-3813">Чтобы вычислить хэш образа PE, Authenticode упорядочивает разделы, указанные в таблице разделов по диапазону адресов, затем хэширует результирующую последовательность байтов, передавая диапазоны исключения.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3813">To calculate the PE image hash, Authenticode orders the sections that are specified in the section table by address range, then hashes the resulting sequence of bytes, passing over the exclusion ranges.</span></span>

- <span data-ttu-id="ffb41-3814">**Сведения, предшествующие концу последнего раздела.**</span><span class="sxs-lookup"><span data-stu-id="ffb41-3814">**Information past of the end of the last section.**</span></span> <span data-ttu-id="ffb41-3815">Область за последним разделом (определяемая самым высоким смещением) не хэшируется.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3815">The area past the last section (defined by highest offset) is not hashed.</span></span> <span data-ttu-id="ffb41-3816">Эта область обычно содержит отладочную информацию.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3816">This area commonly contains debug information.</span></span> <span data-ttu-id="ffb41-3817">Отладочная информация обычно может рассматриваться как советы отладчика. Он не влияет на фактическую целостность исполняемой программы.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3817">Debug information can generally be considered advisory to debuggers; it does not affect the actual integrity of the executable program.</span></span> <span data-ttu-id="ffb41-3818">Можно удалить отладочную информацию из образа после того, как продукт был доставлен и не повлияет на функциональность программы.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3818">It is quite literally possible to remove debug information from an image after a product has been delivered and not affect the functionality of the program.</span></span> <span data-ttu-id="ffb41-3819">На самом деле, это иногда делается в качестве меры для экономии дисков.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3819">In fact, this is sometimes done as a disk-saving measure.</span></span> <span data-ttu-id="ffb41-3820">Следует отметить, что отладочная информация, содержащаяся в указанных разделах образа PE, не может быть удалена без проверки подписи Authenticode.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3820">It is worth noting that debug information contained within the specified sections of the PE Image cannot be removed without invaliding the Authenticode signature.</span></span>

<span data-ttu-id="ffb41-3821">С помощью средств MakeCert и SignTool, предоставляемых в пакете SDK для платформы Windows, можно поэкспериментировать с созданием и проверкой подписей Authenticode.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3821">You can use the makecert and signtool tools provided in the Windows Platform SDK to experiment with creating and verifying Authenticode signatures.</span></span> <span data-ttu-id="ffb41-3822">Дополнительные сведения см. в разделе Reference ниже.</span><span class="sxs-lookup"><span data-stu-id="ffb41-3822">For more information, see Reference, below.</span></span>

## <a name="references"></a><span data-ttu-id="ffb41-3823">Ссылки</span><span class="sxs-lookup"><span data-stu-id="ffb41-3823">References</span></span>

[<span data-ttu-id="ffb41-3824">Файлы для загрузки и средства для Windows (включая Windows SDK)</span><span class="sxs-lookup"><span data-stu-id="ffb41-3824">Downloads and tools for Windows (includes the Windows SDK)</span></span>](https://developer.microsoft.com/windows/downloads)

[<span data-ttu-id="ffb41-3825">Создание, просмотр и управление сертификатами</span><span class="sxs-lookup"><span data-stu-id="ffb41-3825">Creating, Viewing, and Managing Certificates</span></span>](/windows/desktop/SecCrypto/creating-viewing-and-managing-certificates)

[<span data-ttu-id="ffb41-3826">Пошаговое руководство по подписыванию кода в режиме ядра (doc)</span><span class="sxs-lookup"><span data-stu-id="ffb41-3826">Kernel-Mode Code Signing Walkthrough (.doc)</span></span>](https://download.microsoft.com/download/9/c/5/9c5b2167-8017-4bae-9fde-d599bac8184a/KMCS_Walkthrough.doc)

[<span data-ttu-id="ffb41-3827">SignTool</span><span class="sxs-lookup"><span data-stu-id="ffb41-3827">SignTool</span></span>](/windows/desktop/SecCrypto/signtool)

[<span data-ttu-id="ffb41-3828">Формат переносимого исполняемого файла сигнатуры Windows Authenticode (. docx)</span><span class="sxs-lookup"><span data-stu-id="ffb41-3828">Windows Authenticode Portable Executable Signature Format (.docx)</span></span>](https://download.microsoft.com/download/9/c/5/9c5b2167-8017-4bae-9fde-d599bac8184a/Authenticode_PE.docx)

[<span data-ttu-id="ffb41-3829">Функции ImageHlp</span><span class="sxs-lookup"><span data-stu-id="ffb41-3829">ImageHlp Functions</span></span>](/windows/desktop/Debug/imagehlp-functions)