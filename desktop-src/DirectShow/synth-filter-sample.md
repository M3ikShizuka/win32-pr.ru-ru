---
description: Образец фильтра синтезатора
ms.assetid: 2d087967-3734-463f-bc5e-9552290ddc0b
title: Образец фильтра синтезатора
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cd569091df92eca3fbff4d8cb200150d6e6bfdca
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "103913136"
---
# <a name="synth-filter-sample"></a>Образец фильтра синтезатора

## <a name="description"></a>Описание

Фильтр синтезатора — это фильтр источника, который создает звуковые волны.

Этот фильтр иллюстрирует построение динамического графа. Он может переключаться между несжатым звуком PCM и сжатым \_ форматом MS ADPCM (модуляция адаптивного разностного кода Майкрософт).

Этот фильтр отображается в Графедит как "фильтр аудио синтезатора".

Дополнительные сведения о построении динамического графа см. в разделе [динамическое построение графа](dynamic-graph-building.md).

## <a name="usage"></a>Использование

Фильтр синтезатора позволяет пользователю задать звук, частоту, количество каналов и другие свойства на странице свойств. Чтобы задать верхнюю или нижнюю конечную точку диапазона частоты очистка, удерживайте нажатой клавишу SHIFT при настройке ползунка частота. Фильтр также поддерживает пользовательский интерфейс ISynth2 для установки этих свойств.

Чтобы продемонстрировать функцию динамического построения графа, выполните следующие действия.

1.  Создайте фильтр и зарегистрируйте его с помощью служебной программы regsvr32.
2.  Запустите Графедит.
3.  Вставьте фильтр аудио синтезатора. Он отображается в категории фильтры DirectShow.
4.  Отрисовка выходного ПИН-кода фильтра.
5.  Нажмите кнопку **Воспроизведение** .
6.  Откройте страницу свойств фильтра.
7.  В области формат вывода выберите PCM или Microsoft ADPCM.

## <a name="programming-notes"></a>Заметки о программировании

Этот пример содержит следующие файлы:

-   Dynsrc. h, dynsrc. cpp: содержит два базовых класса для фильтров источников, поддерживающих динамические построения графа, Кдинамиксаурце и Кдинамиксаурцестреам.
-   Исинс. h: объявляет пользовательский интерфейс ISynth2 для установки свойств фильтра.
-   Resource. h: содержит константы ресурсов.
-   Синтезатор. def: экспортирует функции DLL, необходимые для библиотеки COM.
-   Синтезатор. h, синтезатор. cpp: содержит класс Каудиосинс, который создает звуковые данные, и класс Ксинсфилтер, который реализует фильтр.
-   Синтезатор. rc: содержит ресурсы, используемые фильтром.
-   Синспрп. h, Синспрп. cpp: реализует страницу свойств фильтра.

Класс Кдинамиксаурце адаптируется от базового класса [**ксаурце**](csource.md) . Он использует один или несколько выходных закрепления, производных от класса Кдинамиксаурцестреам. Класс Кдинамиксаурцестреам адаптируется от класса [**ксаурцестреам**](csourcestream.md) , но является производным от класса [**кдинамикаутпутпин**](cdynamicoutputpin.md) , а не класса [**кбасеаутпутпин**](cbaseoutputpin.md) .

Класс Кдинамиксаурце содержит следующие методы, не найденные в [**ксаурце**](csource.md):

-   Останов: сигнализирует о событии остановки ([**кдинамикаутпутпин:: m \_ хстопевент**](cdynamicoutputpin-m-hstopevent.md)) и завершает работу рабочего потока для всех неподключенных контактов. В подключенном ПИН-коде неактивный метод закрепления завершит работу рабочего потока.
-   Пауза: сбрасывает событие остановки.
-   Жоинфилтерграф: вызывает метод [**кдинамикаутпутпин:: сетконфигинфо**](cdynamicoutputpin-setconfiginfo.md) для каждого ПИН-кода.

Класс Кдинамиксаурцестреам содержит следующие методы, не найденные в [**ксаурцестреам**](csourcestream.md):

-   Дестройсаурцесреад: завершает работу рабочего потока.
-   FatalError: сообщает об ошибке диспетчеру графа фильтров.
-   Аутпутпиннидстобереконнектед: сигнализирует, что необходимо повторно подключить ПИН-код вывода. При вызове этого метода рабочий поток вызывает метод [**кдинамикаутпутпин::D инамикреконнект**](cdynamicoutputpin-dynamicreconnect.md) для повторного подключения ПИН-кода.

## <a name="downloading-the-sample"></a>Загрузка образца

Чтобы скачать примеры пакета SDK для DirectShow, установите последнюю версию [Windows SDK](https://msdn.microsoft.com/windowsvista/bb980924.aspx).

Этот пример устанавливается по следующему пути: *\[ \] корневой пример пакета SDK* \\ \\ мультимедийные файлы \\ DirectShow \\ фильтры мультимедиа \\ синтезатор.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Примеры DirectShow](directshow-samples.md)
</dt> </dl>

 

 



