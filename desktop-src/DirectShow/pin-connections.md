---
description: Закрепление подключений
ms.assetid: 1406ade4-77d8-49a7-8f36-cc49ff007a26
title: Закрепление подключений
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2cfcd407e785e15f4243f3113a63569f8b4b84de517cdde0f63a88eaef79f85c
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119432294"
---
# <a name="pin-connections"></a>Закрепление подключений

Фильтры подключаются к своим ПИН-кода через интерфейс [**Ипин**](/windows/desktop/api/Strmif/nn-strmif-ipin) . Выходные контакты подключаются к входным креплениям. Каждое подключение к ПИН-коду имеет тип носителя, который описывается структурой [**\_ \_ типа носителя AM**](/windows/win32/api/strmif/ns-strmif-am_media_type) .

приложение подключается к фильтрам, вызывая методы в фильтре Graph Manager, никогда не вызывая методы для самих фильтров или пин-кодов. приложение может непосредственно указать, какие фильтры следует подключить, вызвав метод [**ифилтерграф:: коннектдирект**](/windows/desktop/api/Strmif/nf-strmif-ifiltergraph-connectdirect) или [**играфбуилдер:: Подключение**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-connect) ; Кроме того, он может напрямую подключать фильтры с помощью метода построения графа, такого как [**играфбуилдер:: renderFile**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-renderfile).

Для успешности соединения оба фильтра должны находиться в графе фильтра. Приложение может добавить фильтр к графу, вызвав метод [**ифилтерграф:: аддфилтер**](/windows/desktop/api/Strmif/nf-strmif-ifiltergraph-addfilter) . фильтр Graph Manager может также добавить фильтры на диаграмму. при добавлении фильтра диспетчер Graph Manager вызывает метод [**ибасефилтер:: жоинфилтерграф**](/windows/desktop/api/Strmif/nf-strmif-ibasefilter-joinfiltergraph) фильтра, чтобы уведомить фильтр.

Общая структура процесса подключения следующая:

1.  фильтр Graph Manager вызывает [**ипин:: Подключение**](/windows/desktop/api/Strmif/nf-strmif-ipin-connect) на закрепление вывода, передавая указатель на входной пин-код.
2.  Если выходной ПИН-код принимает соединение, он вызывает [**Ипин:: рецеивеконнектион**](/windows/desktop/api/Strmif/nf-strmif-ipin-receiveconnection) для входного ПИН-кода.
3.  Если входной ПИН-код также принимает подключение, то попытки подключения будут выполнены, а контакты будут подключены.

Некоторые ПИН-коды могут быть отключены и повторно подключены, пока фильтр активен. Этот тип повторного подключения называется *динамическим* переподключением. дополнительные сведения см. в разделе [Dynamic Graph здание](dynamic-graph-building.md). Однако большинство фильтров не поддерживают динамическое повторное подключение.

Фильтры обычно соединяются в нисходящем порядке — иными словами, входные сигналы фильтра соединяются до закрепления выходных данных. Фильтр должен всегда поддерживать этот порядок соединения. Некоторые фильтры также поддерживают соединения в обратном порядке — сначала закрепления вывода, а затем входные ПИН-коды. Например, можно подключить выходную закрепление фильтра МУЛЬТИПЛЕКСОРа к фильтру записи файлов, прежде чем подключать входные сигналы фильтра МУЛЬТИПЛЕКСОРа.

при вызове метода **Подключение** или **рецеивеконнектион** пин-кода необходимо убедиться, что он может поддерживать соединение. Подробные сведения зависят от конкретного фильтра. Ниже перечислены наиболее распространенные задачи.

-   Проверка допустимости типа носителя
-   Согласование распределителя
-   Запросите другой ПИН-код для требуемых интерфейсов.

 

 



