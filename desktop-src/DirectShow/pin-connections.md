---
description: Закрепление подключений
ms.assetid: 1406ade4-77d8-49a7-8f36-cc49ff007a26
title: Закрепление подключений
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b509abddf4a915b65dfd322f76b4afb132a7f835
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/06/2021
ms.locfileid: "104416589"
---
# <a name="pin-connections"></a>Закрепление подключений

Фильтры подключаются к своим ПИН-кода через интерфейс [**Ипин**](/windows/desktop/api/Strmif/nn-strmif-ipin) . Выходные контакты подключаются к входным креплениям. Каждое подключение к ПИН-коду имеет тип носителя, который описывается структурой [**\_ \_ типа носителя AM**](/windows/win32/api/strmif/ns-strmif-am_media_type) .

Приложение подключается к фильтрам, вызывая методы в диспетчере графов фильтров, никогда не вызывая методы для самих фильтров или ПИН-кодов. Приложение может непосредственно указать, какие фильтры следует подключить, вызвав метод [**ифилтерграф:: коннектдирект**](/windows/desktop/api/Strmif/nf-strmif-ifiltergraph-connectdirect) или [**Играфбуилдер:: Connect**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-connect) ; Кроме того, он может напрямую подключать фильтры с помощью метода построения графа, такого как [**играфбуилдер:: renderFile**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-renderfile).

Для успешности соединения оба фильтра должны находиться в графе фильтра. Приложение может добавить фильтр к графу, вызвав метод [**ифилтерграф:: аддфилтер**](/windows/desktop/api/Strmif/nf-strmif-ifiltergraph-addfilter) . Диспетчер графов фильтров может также добавлять фильтры на диаграмму. При добавлении фильтра диспетчер графа фильтров вызывает метод [**ибасефилтер:: жоинфилтерграф**](/windows/desktop/api/Strmif/nf-strmif-ibasefilter-joinfiltergraph) фильтра, чтобы уведомить фильтр.

Общая структура процесса подключения следующая:

1.  Диспетчер графов фильтров вызывает [**Ипин:: Connect**](/windows/desktop/api/Strmif/nf-strmif-ipin-connect) на выходном закрепление, передавая указатель на входной ПИН-код.
2.  Если выходной ПИН-код принимает соединение, он вызывает [**Ипин:: рецеивеконнектион**](/windows/desktop/api/Strmif/nf-strmif-ipin-receiveconnection) для входного ПИН-кода.
3.  Если входной ПИН-код также принимает подключение, то попытки подключения будут выполнены, а контакты будут подключены.

Некоторые ПИН-коды могут быть отключены и повторно подключены, пока фильтр активен. Этот тип повторного подключения называется *динамическим* переподключением. Дополнительные сведения см. в разделе [динамическое построение графа](dynamic-graph-building.md). Однако большинство фильтров не поддерживают динамическое повторное подключение.

Фильтры обычно соединяются в нисходящем порядке — иными словами, входные сигналы фильтра соединяются до закрепления выходных данных. Фильтр должен всегда поддерживать этот порядок соединения. Некоторые фильтры также поддерживают соединения в обратном порядке — сначала закрепления вывода, а затем входные ПИН-коды. Например, можно подключить выходную закрепление фильтра МУЛЬТИПЛЕКСОРа к фильтру записи файлов, прежде чем подключать входные сигналы фильтра МУЛЬТИПЛЕКСОРа.

При вызове метода **Connect** или **рецеивеконнектион** ПИН-код должен проверить, может ли он поддерживать подключение. Подробные сведения зависят от конкретного фильтра. Ниже перечислены наиболее распространенные задачи.

-   Проверка допустимости типа носителя
-   Согласование распределителя
-   Запросите другой ПИН-код для требуемых интерфейсов.

 

 



