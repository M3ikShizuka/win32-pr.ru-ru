---
description: Создание объектов потоков мультимедиа и образцов потоков
ms.assetid: 1aecdd39-f1b3-490b-b092-86d51439be02
title: Создание объектов потоков мультимедиа и образцов потоков
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 49cdc30129591bf1c67609ad6d15e8fd8286ae23
ms.sourcegitcommit: c16214e53680dc71d1c07111b51f72b82a4512d8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/03/2021
ms.locfileid: "103999926"
---
# <a name="creating-multimedia-stream-objects-and-stream-samples"></a>Создание объектов потоков мультимедиа и образцов потоков

> [!Note]  
> Эти API-интерфейсы являются устаревшими. Приложения должны использовать [**образец фильтра захвата**](sample-grabber-filter.md) или реализовать настраиваемый фильтр для получения данных из графа фильтра DirectShow.

 

Объекты, поддерживающие интерфейс [**имултимедиастреам**](/previous-versions/windows/desktop/api/mmstream/nn-mmstream-imultimediastream) , являются основными контейнерами для потоков мультимедийных данных. Интерфейс **имултимедиастреам** включает методы для перечисления потоков данных объекта. Эти потоки обычно представляют собой видео-и звуковые данные, но могут включать данные любого формата, такие как закрытые субтитры, обычный текст или SMPTE времени. Однако интерфейс **имултимедиастреам** является универсальным контейнером. Разработчики могут создавать другие версии интерфейса, поддерживающие определенные форматы данных. Например, объекты, реализующие интерфейс [**иаммултимедиастреам**](/previous-versions/windows/desktop/api/amstream/nn-amstream-iammultimediastream) , могут перечислять и контролировать потоки любого формата данных DirectShow. Поскольку отдельные потоки данных относятся к конкретному формату, они поддерживают по крайней мере два разных интерфейса: один универсальный и один зависящий от данных. Каждый поток поддерживает интерфейс [**имедиастреам**](/previous-versions/windows/desktop/api/mmstream/nn-mmstream-imediastream) , который предоставляет методы для извлечения своего формата и указателя на сам поток. Интерфейс [**идиректдравмедиастреам**](/previous-versions/windows/desktop/api/ddstream/nn-ddstream-idirectdrawmediastream) , с другой стороны, содержит методы, относящиеся к визуализации видеоданных. Любой интерфейс, производный от **имултимедиастреам** , также поддерживает создание примеров потока, базовых единиц потоковой передачи данных.

Пример мультимедиа — это ссылка на объект, содержащий данные мультимедиа. Для видеоизображения это поверхность DirectDraw. Точное содержимое образца зависит от типа носителя (звук, текст и т. д.). Поскольку образец представляет собой только ссылку на объект данных, любое количество примеров потока может ссылаться на один и тот же объект. Интерфейс [**истреамсампле**](/previous-versions/windows/desktop/api/mmstream/nn-mmstream-istreamsample) предоставляет методы, которые получают и задают характеристики образца, такие как время запуска и окончания, состояние и связь потока. Метод [**истреамсампле:: Update**](/previous-versions/windows/desktop/api/mmstream/nf-mmstream-istreamsample-update) обновляет данные выборки в случае доступных для чтения потоков. Для потоков, доступных для записи, данные выборки записываются в поток. Как правило, метод **Update** используется в цикле, который выполняет визуализацию, передачу или хранение данных потоковой передачи.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Сведения об архитектуре потоковой передачи мультимедиа](about-the-multimedia-streaming-architecture.md)
</dt> </dl>

 

 



