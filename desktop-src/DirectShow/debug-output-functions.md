---
description: Выходные функции отладки
ms.assetid: dfe44c8c-43ec-461f-952f-b87256b82ee6
title: Выходные функции отладки
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 87470b44717bb76c1a029bd885bb9149a4636b5d
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/06/2021
ms.locfileid: "105655613"
---
# <a name="debug-output-functions"></a>Выходные функции отладки

[Базовые классы DirectShow](directshow-base-classes.md) предоставляют несколько макросов для отображения отладочной информации.



| Функция                                               | Описание                                                                                          |
|--------------------------------------------------------|------------------------------------------------------------------------------------------------------|
| [**дбгчеккмодулелевел**](dbgcheckmodulelevel.md)     | Проверяет, включено ли ведение журнала для заданных типов сообщений и уровней.                             |
| [**дбгдумпобжектрегистер**](dbgdumpobjectregister.md) | Отображает сведения об активных объектах.                                                           |
| [**дбгинитиалисе**](dbginitialise.md)                 | Инициализирует библиотеку отладки.                                                                       |
| [**дбглог**](dbglog.md)                               | Отправляет строку в расположение выходных данных отладки, если ведение журнала включено для указанного типа и уровня. |
| [**дбгаутстринг**](dbgoutstring.md)                   | Отправляет строку в расположение выходных данных отладки.                                                         |
| [**дбгсетмодулелевел**](dbgsetmodulelevel.md)         | Задает уровень ведения журнала для одного или нескольких типов сообщений.                                                |
| [**дбгтерминате**](dbgterminate.md)                   | Очищает библиотеку отладки.                                                                         |
| [**дисплайтипе**](displaytype.md)                     | Отправляет сведения о типе мультимедиа в расположение выходных данных отладки.                                   |
| [**думпграф**](dumpgraph.md)                         | Отправляет сведения о графе фильтра в расположение выходных данных отладки.                                 |
| [**гуиднамес**](guidnames.md)                         | Глобальный массив, содержащий строки, представляющие идентификаторы GUID, определенные в UUID. h.                        |
| [**БЕЗЫМЯН**](name.md)                                   | Создает строку только для отладки.                                                                       |
| [**МЕТИМ**](note.md)                                   | Отправляет строку в расположение выходных данных отладки.                                                         |
| [**Вам**](remind.md)                               | Создает напоминание во время компиляции.                                                                |



 

**Разделы реестра**

В функции выходных данных отладки в DirectShow используется набор разделов реестра. Расположение этих разделов реестра зависит от версии Windows.

*До выхода Windows Vista* ключи отладки расположены по следующему пути:

**HKey \_ \_** \\  \\ **Отладка** по локального компьютера

В Windows Vista и более поздних версиях они расположены по следующему пути:

**HKey \_ \_** \\  \\  \\  \\ **Отладка** Microsoft DirectShow по локальному компьютеру

Для фильтров сторонних производителей расположение зависит от того, какая версия [базовых классов DirectShow](directshow-base-classes.md) использовалась для построения фильтра. Версия, входящая в Windows SDK для Windows Vista, использует более новый путь. В предыдущих версиях использовался старый путь.

В следующих комментариях метка *<DebugRoot>* используется для обозначения этих двух путей. Замените правильный путь в зависимости от версии Windows или версии базовых классов.

**Ведение журнала отладки**

DirectShow определяет несколько типов сообщений, как показано в следующей таблице.



| Значение                   | Описание                                             |
|-------------------------|---------------------------------------------------------|
| \_Ошибка журнала              | Уведомление об ошибке.                                     |
| \_Блокировка журнала            | Блокировка и разблокировка критических разделов.             |
| \_память журнала             | Выделение памяти, создание и уничтожение объектов. |
| время ведения журнала \_             | Измерения времени и производительности.                    |
| \_Трассировка журнала              | Общая трассировка вызовов.                                   |
| CUSTOM1 через CUSTOM5 | Доступно для настраиваемых сообщений отладки                     |



 

Каждая из функций ведения журнала отладки DirectShow указывает тип сообщения и уровень ведения журнала. Сообщение отладки отображается только в том случае, если текущий уровень отладки для этого типа сообщений равен уровню, указанному в функции ведения журнала, или больше него. В противном случае сообщение игнорируется.

Например, следующий код выводит строку "это сообщение отладки", если \_ уровень трассировки журнала равен 3 или выше:

``` syntax
DbgLog((LOG_TRACE, 3, TEXT("This is a debug message")));
```

Каждый модуль может устанавливать собственный уровень отладки для каждого типа сообщений. ( *Модуль* — это библиотека DLL или исполняемый файл, который можно загрузить с помощью функции **LoadLibrary** .) Уровни отладки модуля отображаются в реестре в следующем разделе:

**HKEY \_ локальный \_ компьютер**\\**<DebugRoot>**\\**<ModuleName>**\\**<MessageType>**

где *<Message Type>* — это тип сообщения минус начальный "журнал \_ ", например **Блокировка** сообщений о \_ блокировке журнала. При загрузке модуля библиотека отладки находит в реестре уровни ведения журнала модуля. Если разделы реестра не существуют, Библиотека отладки создаст их.

Модуль также может задавать собственные уровни во время выполнения с помощью функции [**дбгсетмодулелевел**](dbgsetmodulelevel.md) . Чтобы отправить сообщение в выходные данные отладки, вызовите макрос [**дбглог**](dbglog.md) . В следующем примере создается сообщение уровня 3 типа \_ Трассировка журнала:

Кроме того, можно указать глобальные уровни ведения журнала с помощью следующего раздела реестра:


```C++
\HKEY_LOCAL_MACHINE\<DebugRoot>\GLOBAL\<Message Type>
```



Отладочная библиотека использует уровень выше, глобальный уровень или уровень модуля.

**Расположение выходных данных отладки**

Расположение выходных данных отладки определяется другим ключом реестра:

**HKey \_ \_** \\ **<DebugRoot>** \\ **<Modile Name>** \\ **Логтофиле** локального компьютера

Если значение этого параметра равно `Console` , выходные данные попадают в окно консоли. Если значение равно `Deb` ,, `Debug` или является `Debugger` пустой строкой, выходные данные попадают в окно отладчика. В противном случае выходные данные записываются в файл, указанный в разделе реестра.

Прежде чем исполняемый файл использует библиотеку отладки DirectShow, он должен вызвать функцию [**дбгинитиалисе**](dbginitialise.md) . После этого он должен вызвать функцию [**дбгтерминате**](dbgterminate.md) . Библиотекам DLL не требуется вызывать эти функции, так как точка входа библиотеки DLL (определенная в библиотеке базовых классов) вызывает их автоматически.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Отладка служебных программ](debugging-utilities.md)
</dt> </dl>

 

 



