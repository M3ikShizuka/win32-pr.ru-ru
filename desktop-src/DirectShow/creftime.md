---
description: Класс Крефтиме является вспомогательным классом для управления временем ссылок.
ms.assetid: 4be0fc23-77fb-4c45-a899-c1dfc6ee89b9
title: Класс Крефтиме (Рефтиме. h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- CRefTime
api_type:
- COM
api_location:
- Strmbase.lib
- Strmbase.dll
- Strmbasd.lib
- Strmbasd.dll
ms.openlocfilehash: 01e83520943abafd814425b6ff3fb53f48775627
ms.sourcegitcommit: c8ec1ded1ffffc364d3c4f560bb2171da0dc5040
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/22/2021
ms.locfileid: "105657285"
---
# <a name="creftime-class"></a>Класс Крефтиме

![Иерархия классов крефтиме](images/cutil05.png)

`CRefTime`Класс является вспомогательным классом для управления временем ссылок.

*Время ссылки* — это единица времени, представленная в единицах измерения в 100 нс. Этот класс использует тот же макет данных, что [**и \_ ссылочный**](reference-time.md) тип данных, но добавляет некоторые методы и операторы, обеспечивающие сравнение, преобразование и арифметические функции. Дополнительные сведения о времени ссылки см. [в разделе время и часы в DirectShow](time-and-clocks-in-directshow.md).



| Открытые переменные члена                                                 | Описание                                           |
|-------------------------------------------------------------------------|-------------------------------------------------------|
| [**\_время m**](creftime-m-time.md)                                      | Указывает значение **\_ времени ссылки** .              |
| Открытые методы                                                          | Описание                                           |
| [**крефтиме**](creftime-creftime.md)                                   | Метод конструктора.                                   |
| [**Единицы измерения**](creftime-getunits.md)                                   | Извлекает время ссылки в единицах измерения 100-наносекундных. |
| [**МС)**](creftime-millisecs.md)                                 | Преобразует время ссылки в миллисекунды.          |
| Операторы                                                               | Описание:                                           |
| [**время ссылки оператора \_ ()**](creftime-operator-reference-time-.md) | Приводит объект к **ссылочному типу данных \_ времени** .  |
| [**Оператор =**](creftime-operator-assign.md)                           | Назначает новое время ссылки.                         |
| [**operator + =**](creftime-operator-plus-assign.md)                     | Добавляет два времени ссылки.                             |
| [**Оператор =**](creftime-operator-minus-assign.md)                    | Вычитает одно время ссылки из другого.            |



 

## <a name="remarks"></a>Комментарии

Использование этого класса может привести к возникновению трудностей. Если применить оператор + = с объектом **крефтиме** в качестве левого операнда и переменной типа **Long** в качестве правого операнда, компилятор будет неявно приводить правый операнд к объекту **крефтиме** . Это приведение использует конструктор **крефтиме** , который преобразует миллисекунды в ссылочные \_ единицы времени; в результате правый операнд умножается на 10 000:


```
CRefTime rt;   // rt.m_time is 0.
LONG val = 20;
rt += val;    // Coerce val to CRefTime, rt.m_time is now 200,000.
```



Однако то же самое не происходит при использовании оператора +:


```
CRefTime rt;   // rt.m_time is 0.
LONG val = 20;
rt = rt + val; // CRefTime, rt.m_time is 20.
```



## <a name="requirements"></a>Требования



| Требование | Значение |
|--------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Header<br/>  | <dl> <dt>Рефтиме. h (включение Streams. h)</dt> </dl>                                                                                   |
| Библиотека<br/> | <dl> <dt>Стрмбасе. lib (розничные сборки); </dt> <dt>Стрмбасд. lib (отладочные сборки)</dt> </dl> |



 

 




