---
description: Класс Ккмдкуеуе является базовым классом, предоставляющим очередь объектов Кдеферредкомманд и функций-членов для добавления, удаления, проверки состояния и вызова команд в очереди.
ms.assetid: 6bd0f0f3-3c56-47d2-9fd8-e2863a2afa33
title: Класс Ккмдкуеуе
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- CCmdQueue
api_type:
- COM
api_location: ''
ms.openlocfilehash: 5aac6f7315df58a39d119c72fc481816bdc40aab3c449852041b7a490f22f44c
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119074408"
---
# <a name="ccmdqueue-class"></a>Класс Ккмдкуеуе

`CCmdQueue`Класс является базовым классом, предоставляющим очередь объектов [**кдеферредкомманд**](cdeferredcommand.md) и функций-членов для добавления, удаления, проверки состояния и вызова команд в очереди. `CCmdQueue`Объект является частью объекта, реализующего методы [**икуеуекомманд**](/windows/desktop/api/Control/nn-control-iqueuecommand) . Диспетчер графов фильтров реализует методы **икуеуекомманд** , чтобы приложения могли ставить команды в очередь на графе фильтра. Фильтры, реализующие интерфейс **икуеуекомманд** , непосредственно используют этот класс. Если вы хотите использовать объекты **кдеферредкомманд** , ваша очередь должна быть производной от этого класса.

Существует два режима синхронизации: грубая и точная. В грубом режиме приложение ожидает, пока не поступит указанное время, а затем не выполнит команду. В точном режиме приложение ожидает, пока не начнется обработка в образце, который отображается на момент времени, а затем выполняет команду. Фильтр определяет, какой из них будет реализовывать. Диспетчер графов фильтров всегда реализует грубый режим для команд, которые помещаются в очередь диспетчера графа фильтров.

Если требуется грубая синхронизация, возможно, потребуется подождать, пока не появится команда, а затем выполнить ее. Это можно сделать, вызвав [**ккмдкуеуе:: жетдуекомманд**](ccmdqueue-getduecommand.md). Если у вас есть несколько вещей, которые нужно ожидать, получите дескриптор события от [**ккмдкуеуе:: жетдуехандле**](ccmdqueue-getduehandle.md) , а затем вызовите **Ккмдкуеуе:: жетдуекомманд** , когда это сигнальное сообщение. [**время потока**](stream-time.md) будет перемещаться только между вызовами функций членов [**Ккмдкуеуе:: Run**](ccmdqueue-run.md) и [**ккмдкуеуе:: ендрун**](ccmdqueue-endrun.md) . Нет никакой гарантии, что если этот маркер задан, команда будет готова. Каждый раз, когда событие получает сигнал, вызовите функцию-член **жетдуекомманд** (возможно, с нулевым временем ожидания); Это может вернуть электронное \_ прерывание, если команда не готова.

Если требуется точная синхронизация, вызовите функцию-член [**ккмдкуеуе:: жеткомманддуефор**](ccmdqueue-getcommandduefor.md) и передайте примеры, которые вы собираетесь обработать в качестве параметра. Он возвращает следующее:

-   Команда времени выполнения из-за или до этого времени потока.
-   Команда времени презентации, обусловленная или до представления времени потока. Сделайте это только между функциями-членами [**ккмдкуеуе:: Run**](ccmdqueue-run.md) и [**Ккмдкуеуе:: ендрун**](ccmdqueue-endrun.md) , так как за пределами этого не известно, что сопоставление потокового времени со временем представления неизвестно.
-   Любая команда во время презентации.

Если требуется точная синхронизация для образцов, которые могут быть обработаны во время приостановленного режима, необходимо использовать команды времени потока.

Во всех случаях команды остаются в очереди до вызова или отмены. Настройка и сброс обработчика событий полностью управляются этим объектом очереди.



| Защищенные члены данных                                 | Описание                                                                                            |
|--------------------------------------------------------|--------------------------------------------------------------------------------------------------------|
| m \_ бруннинг                                            | Флаг для состояния выполнения; Задайте **значение true** при запуске.                                                     |
| m \_ двадвисе                                            | Порекомендовать идентификатор из ссылочного времени (ноль, если нет необработанных уведомлений).                            |
| m \_ евдуе                                               | Задает время, когда должны быть вызваны какие-либо команды.                                                               |
| m \_ листпресентатион                                    | Хранит команды в очереди во время презентации.                                                           |
| m \_ листстреам                                          | Хранит команды, помещенные в очередь во время потока.                                                                 |
| \_Блокировка m                                                | Обеспечивает защиту доступа к спискам.                                                                              |
| m \_ пклокк                                              | Текущее ссылочное время.                                                                               |
| m \_ стреамтимеоффсет                                    | Содержит смещение времени потока, если значение **m \_ Бруннинг** равно **true**.                                      |
| m \_ стреамтимеоффсет                                    | Содержит смещение времени потока, если значение **m \_ Бруннинг** равно **true**.                                      |
| Функции элементов                                       | Описание                                                                                            |
| [**ккмдкуеуе**](ccmdqueue-ccmdqueue.md)               | Конструирует объект **ккмдкуеуе** .                                                                     |
| [**чекктиме**](ccmdqueue-checktime.md)               | Определяет, вызвано ли заданное время.                                                                     |
| [**жетдуехандле**](ccmdqueue-getduehandle.md)         | Извлекает дескриптор события, который будет сигнальным.                                                      |
| Переопределяемые функции элементов                           | Описание                                                                                            |
| [**ендрун**](ccmdqueue-endrun.md)                     | Переключается в режим "остановлено" или "приостановлено".                                                                    |
| [**жеткомманддуефор**](ccmdqueue-getcommandduefor.md) | Извлекает отложенную команду, запланированную в указанное время.                                    |
| [**жетдуекомманд**](ccmdqueue-getduecommand.md)       | Извлекает указатель на следующую команду из-за.                                                   |
| [**Вставить**](ccmdqueue-insert.md)                     | Добавляет объект [**кдеферредкомманд**](cdeferredcommand.md) в очередь.                             |
| [**Новые функции**](ccmdqueue-new.md)                           | Инициализирует команду для выполнения и возвращает новый объект [**кдеферредкомманд**](cdeferredcommand.md) . |
| [**Отменит**](ccmdqueue-remove.md)                     | Удаляет объект [**кдеферредкомманд**](cdeferredcommand.md) из очереди.                        |
| [**Выполнить**](ccmdqueue-run.md)                           | Переключается в режим выполнения.                                                                              |
| [**сетсинксаурце**](ccmdqueue-setsyncsource.md)       | Задает часы, используемые для времени.                                                                        |
| [**сеттимеадвисе**](ccmdqueue-settimeadvise.md)       | Настраивает событие таймера со ссылочным временем.                                                        |



 

 

 



