---
description: Обработка In-Place
ms.assetid: 61e5c12c-e42a-42d8-ac5b-e60afaceda82
title: Обработка In-Place
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2b1a72b6bad2311a9c96bdd94e7e63acdc7e4961b51e106324dbe38de9510ad2
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "117818799"
---
# <a name="in-place-processing"></a>Обработка In-Place

Некоторые преобразования данных могут быть выполнены путем непосредственного изменения данных. Это называется обработкой *на месте* . Таким образом можно выполнять многие видеоэффекты и аудио и видео. если DMO поддерживает обработку на месте, она предоставляет интерфейс [**имедиаобжектинплаце**](/previous-versions/windows/desktop/api/Mediaobj/nn-mediaobj-imediaobjectinplace) . Обработка на месте, как правило, более эффективна, чем использование отдельных буферов для выходных данных. (Одно главное исключение — когда буфер находится в видеопамяти. В этом случае операции чтения выполняются намного медленнее, чем операции записи, поэтому обработка на месте не рекомендуется.)

Для обработки данных на месте клиент выполняет один вызов метода [**имедиаобжектинплаце::P шаблоны**](/previous-versions/windows/desktop/api/Mediaobj/nf-mediaobj-imediaobjectinplace-process) , а не отдельные вызовы **ProcessInput** и **ProcessOutput**. Метод **процесса** является синхронным; Вся обработка выполняется внутри вызова. Кроме того, обработка на месте не использует объекты **имедиабуффер** . Метод **Process** принимает указатель непосредственно на буфер памяти.

DMO, поддерживающая обработку на месте, по-прежнему должна реализовывать интерфейс **имедиаобжект** , включая методы **ProcessInput** и **ProcessOutput** . Клиент может выбрать, использовать ли обработку на месте или использовать отдельные буферы. Однако не следует смешивать два типа обработки. При вызове **процесса** не вызывайте **ProcessInput** или **ProcessOutput** и наоборот.

**Хвосты эффектов**

DMO на месте может создать дополнительные выходные данные после остановки входа. Это называется *хвостовиком Effect*. Например, переглагол будет продолжаться после того, как входные данные вступят в действие тишины. Если присутствует хвостовый элемент, метод **Process** возвращает \_ значение false. После того как приложение обработало все свои данные, оно может создать заключительный фрагмент, отправив пустые буферы в метод **Process** .

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Непосредственное размещение DMO](directly-hosting-a-dmo.md)
</dt> </dl>

 

 



