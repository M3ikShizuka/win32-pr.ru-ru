---
description: Контроль качества по умолчанию
ms.assetid: 91c4b8cf-3d24-4a11-b19c-b0297734e52b
title: Контроль качества по умолчанию
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9df737855376db52a35476c0f01da4b850e3678ec20595ee82720b7b928237ee
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118953141"
---
# <a name="default-quality-control"></a>Контроль качества по умолчанию

[DirectShow базовые классы](directshow-base-classes.md) реализуют некоторые поведения по умолчанию для контроля качества видео.

Сообщения качества запускаются модулем подготовки отчетов. Базовым классом для модулей подготовки видео является [**кбасевидеорендерер**](cbasevideorenderer.md), который имеет следующее поведение:

1.  Когда модуль подготовки отчетов получает пример, он сравнивает метку времени в образце с текущим временем ссылки.
2.  Модуль подготовки видео создает качественное сообщение. В базовом классе элемент **пропорции** сообщения Quality ограничен диапазоном от 500 (50%) до 2000 (200%). Значения за пределами этого диапазона могут привести к внезапному изменению качества.
3.  По умолчанию модуль подготовки отчетов отправляет сообщение с качеством на вышестоящий выход (ПИН-код, подключенный к входному ПИН-коду). Приложения могут переопределить это поведение, вызвав метод **сетсинк** .

То, что происходит дальше, зависит от вышестоящего фильтра. Как правило, это фильтр преобразования. Базовый класс для фильтров преобразований — [**ктрансформфилтер**](ctransformfilter.md), который использует классы [**ктрансформинпутпин**](ctransforminputpin.md) и [**ктрансформаутпутпин**](ctransformoutputpin.md) для реализации входных и выходных закрепления. Вместе эти классы имеют следующие особенности.

1.  Метод [**ктрансформаутпутпин:: notify**](ctransformoutputpin-notify.md) вызывает [**Ктрансформфилтер:: алтеркуалити**](ctransformfilter-alterquality.md), закрытый метод для базового класса Filter.
2.  Производные фильтры могут переопределять **алтеркуалити** для работы с сообщением качества. По умолчанию **алтеркуалити** игнорирует сообщение Quality.
3.  Если **алтеркуалити** не обрабатывает сообщение качества, то выходной ПИН-код вызывает [**Кбасеинпутпин::P асснотифи**](cbaseinputpin-passnotify.md), закрытый метод для входного ПИН-кода фильтра.
4.  **Пасснотифи** передает качественное сообщение в соответствующее место — на следующий вышестоящий ПИН-код или пользовательский диспетчер качества.

Если ни один из фильтров преобразований не обрабатывает сообщение качества, сообщение в конечном итоге достигает выходного ПИН-кода в фильтре источника. В базовых классах [**кбасепин:: notify**](cbasepin-notify.md) возвращает E \_ нотимпл. Как конкретный фильтр источника обрабатывает сообщения о качествах, зависит от характера источника. Некоторые источники, такие как запись видео в реальном времени, не могут выполнять осмысленное управление качеством. Другие источники могут регулировать скорость, с которой они доставляют образцы.

На следующей схеме показано поведение по умолчанию.

![контроль качества в базовых классах](images/quality-control.png)

Базовый модуль подготовки видео реализует **икуалитиконтрол:: notify**, что означает, что вы можете передавать качественные сообщения в сам модуль подготовки отчетов. Если для элемента **пропорции** задано значение меньше 1000, модуль подготовки отчетов вставляет период ожидания между каждым отображаемым кадром, в результате замедляет работу модуля подготовки отчетов. (Например, это можно сделать, чтобы сократить использование системы.) Дополнительные сведения см. в разделе [**кбасевидеорендерер:: сроттлеваит**](cbasevideorenderer-throttlewait.md). Установка для элемента **пропорций** значения больше 1000 не оказывает никакого влияния.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Управление качеством](quality-control-management.md)
</dt> </dl>

 

 



