---
description: Сведения о механизмах подготовки отчетов
ms.assetid: 80299b1a-09bf-4660-95d3-41a2b0074745
title: Сведения о механизмах подготовки отчетов
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 70fe3a9956bee0d167de9e6618187bfd1f2a6e39
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/06/2021
ms.locfileid: "104537829"
---
# <a name="about-the-render-engines"></a>Сведения о механизмах подготовки отчетов

\[Этот API не поддерживается и может быть изменен или недоступен в будущем.\]

В этой статье описывается визуализация проекта редактирования видео с помощью [служб редактирования DirectShow](directshow-editing-services.md) (DES).

В DES проект представлен в виде временной шкалы. Временная шкала полезна, так как она упрощает наиболее распространенные задачи редактирования видео, такие как изменение расположения исходных клипов и Добавление видеоэффектов. Для архитектуры потока DirectShow, с другой стороны, требуется граф фильтра. Таким же для подготовки проекта к просмотру необходимо преобразовать временную шкалу в граф фильтра. Компонент, выполняющий это, называется *подсистемой визуализации*. DirectShow предоставляет два обработчика визуализации:

-   Базовая подсистема визуализации: создает граф фильтра, который доставляет несжатые выходные данные.
-   Интеллектуальный модуль визуализации: создает граф фильтра, который доставляет сжатые выходные данные.

Интеллектуальный механизм визуализации использует интеллектуальное повторное сжатие для повышения производительности. При смарт-сжатии исходные файлы пересжимаются только в том случае, если исходный формат файла отличается от конечного формата. Если форматы совпадают, источник никогда не распаковывается. Интеллектуальное сжатие поддерживается только для сжатия видео, а не для сжатия звука.

Для предварительной версии используйте базовый механизм визуализации. Модуль интеллектуального просмотра также может быть предварительно доступен для предварительного просмотра, но менее эффективно, поскольку он должен распаковать сжатый поток. Для записи файлов используйте интеллектуальный модуль визуализации, если требуется выполнить интеллектуальное сжатие. В противном случае используйте базовый механизм визуализации. Интеллектуальное повторное сжатие может значительно сократить время, затрачиваемое на запись файла.

> [!IMPORTANT]
> Не используйте интеллектуальный модуль визуализации для чтения или записи файлов Windows Media.

 

> [!IMPORTANT]
> Оба модуля подготовки отчетов создают невидимое окно, обрабатывающее сообщения. Поток, создающий подсистему отрисовки, должен иметь цикл обработки сообщений для отправки сообщений. Кроме того, этот поток не должен выходить из системы до тех пор, пока не будет освобожден механизм визуализации и диспетчер графа фильтров. В противном случае приложение может привести к взаимоблокировке.

 

Создание графа фильтра

Граф фильтра строится в два этапа. На первом этапе механизм визуализации создает «внешний интерфейс», который является графом частичного фильтра. На следующей схеме показан типичный внешний интерфейс:

![внешний интерфейс фильтра графа](images/rendeng1.png)

Подсистемы содержат различные специализированные фильтры, которые механизм визуализации собирает автоматически. Внешний интерфейс содержит один выходной ПИН-код для каждой группы на временной шкале. Выходные данные доставляют несжатых данных, если используется базовый механизм рендеринга, или сжатые данные, если используется модуль интеллектуального просмотра.

На втором шаге выходные контакты подключены к фильтрам подготовки к просмотру. Для предварительной версии фильтры подготовки отчетов — это видеоролики видео и аудио. Для записи файлов фильтры отрисовки — это фильтры мультиплексора (мультиплексор) и фильтры записи файлов.

![завершение графа фильтра](images/rendeng2.png)

## <a name="related-topics"></a>См. также

<dl> <dt>

[Предварительный просмотр проекта](previewing-a-project.md)
</dt> <dt>

[Запись проекта в файл](writing-a-project-to-a-file.md)
</dt> </dl>

 

 



