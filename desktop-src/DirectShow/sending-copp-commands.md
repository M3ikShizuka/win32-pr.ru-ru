---
description: Отправка команд Копп
ms.assetid: aba0bd34-f5bb-4233-bde2-0dfd8f1ff0bf
title: Отправка команд Копп
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 044756f8bdfe59e44309c158cb0be1dc983143d1
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/06/2021
ms.locfileid: "105672995"
---
# <a name="sending-copp-commands"></a>Отправка команд Копп

Чтобы отправить команду на сертификат сертифицированной защиты выхода (Копп), заполните структуру [**амкоппкомманд**](/windows/win32/api/strmif/ns-strmif-amcoppcommand) следующим образом:

-   **гуидкоммандид**. Идентификатор GUID, определяющий команду. См. Справочник по командам Копп.
-   **двсекуенце**. Порядковый номер команды. Увеличьте это значение после каждой команды. (Это значение отображается как **укоммандсек** при [инициации сеанса Копп](initiating-a-copp-session.md).)
-   **кбсизедата**. Размер данных в байтах, необходимых для выполнения команды.
-   **Комманддата**. Данные для команды.

После заполнения этих данных Вычислите MAC для команды:

1.  Вычислите тег ОМАК-1 для блока данных, который отображается после элемента **маккди** структуры **амкоппкомманд** .
2.  Скопируйте это значение в элемент **маккди** структуры.

Теперь передайте структуру методу [**иамцертифиедаутпутпротектион::P ротектионкомманд**](/windows/desktop/api/Strmif/nf-strmif-iamcertifiedoutputprotection-protectioncommand) .

## <a name="related-topics"></a>См. также

<dl> <dt>

[Использование протокола сертифицированной выходной защиты (Копп)](using-certified-output-protection-protocol--copp.md)
</dt> </dl>

 

 



