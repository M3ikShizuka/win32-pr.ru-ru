---
description: Добавление источника
ms.assetid: 8c5d1050-a696-4a5d-be68-806420d0cd78
title: Добавление источника
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6ab2440ff50bbb4a3a610f9341405538a88dc6bf16ce2153a327f3b4578f3aec
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119690534"
---
# <a name="adding-a-source"></a>Добавление источника

\[Этот API не поддерживается и может быть изменен или недоступен в будущем.\]

Создайте исходный объект так же, как вы создаете другие объекты временной шкалы. Однако перед вставкой его на временную шкалу необходимо указать по крайней мере следующие свойства источника.

-   Время начала и окончания работы относительно временной шкалы. Вызовите метод [**иамтимелинеобж:: сетстартстоп**](iamtimelineobj-setstartstop.md) .
-   Файл мультимедиа, используемый в качестве источника. Вызовите метод [**иамтимелинесрк:: сетмедианаме**](iamtimelinesrc-setmedianame.md) со строкой расширенных символов, представляющей имя файла.
-   Время начала и окончания воспроизведения, заданное относительно исходного файла. Вызовите метод [**иамтимелинесрк:: сетмедиатимес**](iamtimelinesrc-setmediatimes.md) . дополнительные сведения о времени мультимедиа см. [в разделе время в DirectShow редактирования служб](time-in-directshow-editing-services.md).

В следующем примере исходный ролик запускается в файл в четыре секунды. Длительность носителя составляет 10 секунд, вдвое больше, чем длительность длительности временной шкалы. Это означает, что источник воспроизводится с удвоенной обычной скоростью. Константные единицы определяются как 10000000 (10 ^ 7) и равны одной секунде.


```C++
pSourceObj->SetStartStop(0, 50000000)
BSTR bstrFile = SysAllocStringLen(OLESTR("C:\\example.avi"), 15);
pSource->SetMediaName(bstrFile); 
SysFreeString(bstrFile);
pSource->SetMediaTimes(40000000, 140000000);
```



> [!Note]  
> В настоящее время DES не может одновременно визуализировать более 75 источников, которые были сжаты с помощью кодеков для сжатия видео (ВКМ). Кроме того, если проект в целом содержит более 75 таких источников, необходимо использовать динамическое переподключение или DES не может выполнить предварительный просмотр проекта. Дополнительные сведения см. в разделе [**ирендеренгине:: сетдинамикреконнектлевел**](irenderengine-setdynamicreconnectlevel.md).

 

Дополнительные сведения об источниках см. [в разделе Работа с источниками](working-with-sources.md).

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Создание временной шкалы](constructing-a-timeline.md)
</dt> </dl>

 

 



