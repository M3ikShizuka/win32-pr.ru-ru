---
description: Создание групп и композиций
ms.assetid: c3bef3cd-5e3c-42c5-850f-b4cb00c414bd
title: Создание групп и композиций
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d2808c2d096b52ad73da7d518d703bc25103751d
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/06/2021
ms.locfileid: "103895149"
---
# <a name="creating-groups-compositions-and-tracks"></a>Создание групп и композиций

\[Этот API не поддерживается и может быть изменен или недоступен в будущем.\]

Группы, композиции и дорожки являются промежуточными слоями между временной шкалой и исходными клипами. Они различаются по типу объекта, который они могут содержать.

-   Дорожки содержат объекты источника.
-   Композиции содержат дорожки и другие композиции, но не исходные объекты.
-   Группы являются композициями верхнего уровня. Группы содержат композиции и композиции, но композиции не могут содержать группы.
-   *Виртуальная дорожка* — это любой объект, который может находиться внутри композиции или группы. Это включает в себя отслеживание и композиций.

Эти объекты предоставляют следующие интерфейсы:



| Интерфейс                                                  | Предоставлено           |
|------------------------------------------------------------|----------------------|
| [**иамтимелинетракк**](iamtimelinetrack.md)               | Дорожки               |
| [**иамтимелиневиртуалтракк**](iamtimelinevirtualtrack.md) | Дорожки, композиции |
| [**иамтимелинекомп**](iamtimelinecomp.md)                 | Композиции, группы |
| [**иамтимелинеграуп**](iamtimelinegroup.md)               | Группы               |



 

Эти интерфейсы содержат методы для добавления объектов на временную шкалу.

-   [**Иамтимелине:: addgroup**](iamtimeline-addgroup.md): вставляет группу в временную шкалу.
-   [**Иамтимелинекомп:: втраккинсбефоре**](iamtimelinecomp-vtrackinsbefore.md): вставляет виртуальную запись в композицию или группу.
-   [**Иамтимелинетракк:: сркадд**](iamtimelinetrack-srcadd.md): вставляет источник в объект Track.

Например, следующий код вставляет новую запись в группу. Как показано в предыдущей таблице, группа считается композицией, а запись — разновидностью виртуальной записи. Таким образом, чтобы вставить объект Track в группу, необходимо запросить у группы интерфейс **иамтимелинекомп** и вызвать метод **Иамтимелинекомп:: втраккинсбефоре** .


```C++
IAMTimelineGroup    *pGroup;
// Create a new group (not shown). 

IAMTimelineComp     *pComp = NULL;
IAMTimelineObj      *pTrackObj = NULL;

pTL->CreateEmptyNode(&pTrackObj, TIMELINE_MAJOR_TYPE_TRACK);
pGroup->QueryInterface(IID_IAMTimelineComp, (void **)&pComp);
pComp->VTrackInsBefore(pTrackObj, 0);
```



Второй параметр для **втраккинсбефоре** указывает приоритет виртуальной записи. Уровни приоритета начинаются с нуля. Если указать значение – 1, виртуальная дорожк вставляется в конец списка приоритетов. Если указать значение, в котором уже есть виртуальная дорожка, все, начиная с этого момента, перемещает вниз по списку на один уровень приоритета. Не вставляйте виртуальную дорожку с приоритетом больше, чем число виртуальных дорожек, так как это приведет к неопределенному поведению.

Чтобы навсегда удалить объект из временной шкалы, вызовите [**иамтимелинеобж:: RemoveAll**](iamtimelineobj-removeall.md) для объекта. Этот метод удаляет объект и все его дочерние элементы. Чтобы удалить объект с целью его повторного добавления в другое место на временной шкале, вызовите метод [**иамтимелинеобж:: reinsert**](iamtimelineobj-remove.md) . В отличие от **RemoveAll**, этот метод не удаляет дочерние объекты объекта. Чтобы удалить все объекты с временной шкалы, вызовите [**иамтимелине:: клеараллграупс**](iamtimeline-clearallgroups.md).

## <a name="related-topics"></a>См. также

<dl> <dt>

[Создание временной шкалы](constructing-a-timeline.md)
</dt> </dl>

 

 



