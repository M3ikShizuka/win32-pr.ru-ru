---
description: Метод Alloc выделяет память для буферов.
ms.assetid: a22c97ef-6a8d-4cad-b5a5-3e6b225f5c81
title: Метод Кбасеаллокатор. Alloc (Амфилтер. h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- CBaseAllocator.Alloc
api_type:
- COM
api_location:
- Strmbase.lib
- Strmbase.dll
- Strmbasd.lib
- Strmbasd.dll
ms.openlocfilehash: b7510a108e69eb218a894b67dd5b62d94bfdbe6c
ms.sourcegitcommit: c8ec1ded1ffffc364d3c4f560bb2171da0dc5040
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/22/2021
ms.locfileid: "105665068"
---
# <a name="cbaseallocatoralloc-method"></a>Кбасеаллокатор. Alloc, метод

`Alloc`Метод выделяет память для буферов.

## <a name="syntax"></a>Синтаксис


```C++
virtual HRESULT Alloc();
```



## <a name="parameters"></a>Параметры

Этот метод не имеет параметров.

## <a name="return-value"></a>Возвращаемое значение

Возвращает одно из следующих значений **HRESULT** .



| Код возврата                                                                                       | Описание                                      |
|---------------------------------------------------------------------------------------------------|--------------------------------------------------|
| <dl> <dt>**S \_ false**</dt> </dl>           | Требования к буферу не изменились.<br/> |
| <dl> <dt>**\_ОК**</dt> </dl>              | Требования к буферу изменились.<br/>     |
| <dl> <dt>**VFW \_ E \_ сизенотсет**</dt> </dl> | Не заданы требования к буферу.<br/>     |



 

## <a name="remarks"></a>Комментарии

Этот метод вызывается методом [**кбасеаллокатор:: Commit**](cbaseallocator-commit.md) .

В базовом классе этот метод не выделяет память. Он возвращает ошибку, если требования к буферу не были заданы, S \_ false, если требования не изменялись, и \_ ОК, если требования были изменены.

Производный класс должен переопределять этот метод для выполнения фактического выделения памяти. Как правило, производный класс выполнит следующие шаги:

1.  Вызовите реализацию базового класса, чтобы определить, требуется ли выделение памяти.
2.  Выделение памяти.
3.  Создание объектов [**кмедиасампле**](cmediasample.md) , содержащих блоки памяти, из шага 2.
4.  Добавьте каждый объект **кмедиасампле** в список бесплатных примеров ([**кбасеаллокатор:: m \_ лфри**](cbaseallocator-m-lfree.md)).

Пример см. в разделе [**кмемаллокатор:: Alloc**](cmemallocator-alloc.md).

## <a name="requirements"></a>Требования



| Требование | Значение |
|--------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Header<br/>  | <dl> <dt>Амфилтер. h (включение Streams. h)</dt> </dl>                                                                                  |
| Библиотека<br/> | <dl> <dt>Стрмбасе. lib (розничные сборки); </dt> <dt>Стрмбасд. lib (отладочные сборки)</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[**Класс Кбасеаллокатор**](cbaseallocator.md)
</dt> </dl>

 

 




