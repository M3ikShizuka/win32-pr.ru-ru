---
description: Этот класс реализует интерфейс Иамстреамконтрол для входных и выходных закрепления.
ms.assetid: a0ddc2d5-8385-4209-b1c5-9822c30f8a02
title: Класс Кбасестреамконтрол (Стрмктл. h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- CBaseStreamControl
api_type:
- COM
api_location:
- Strmbase.lib
- Strmbase.dll
- Strmbasd.lib
- Strmbasd.dll
ms.openlocfilehash: c20a4f08040bdb2c71bdd8f09aa657719228efa5
ms.sourcegitcommit: c8ec1ded1ffffc364d3c4f560bb2171da0dc5040
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/22/2021
ms.locfileid: "105657154"
---
# <a name="cbasestreamcontrol-class"></a>Класс Кбасестреамконтрол

![Иерархия классов кбасестреамконтрол](images/strmctl1.png)

Этот класс реализует интерфейс [**иамстреамконтрол**](/windows/desktop/api/Strmif/nn-strmif-iamstreamcontrol) для входных и выходных закрепления. Он обеспечивает контроль над запуском и остановкой отдельного ПИН-кода в фильтре. ПИН-код, который поддерживает **иамстреамконтрол** , должен наследовать от этого базового класса. Ниже приведено типичное объявление входного ПИН-кода.

``` syntax
class CMyInputPin : public CBaseInputPin, public CBaseStreamControl
```

Обязательно Переопределите **нонделегатингкуеринтефаце** , чтобы предоставить **иамстреамконтрол**. Дополнительные сведения см. [в разделе Реализация IUnknown](how-to-implement-iunknown.md).



| Открытые методы                                                        | Описание                                                                                          |
|-----------------------------------------------------------------------|------------------------------------------------------------------------------------------------------|
| [**кбасестреамконтрол**](cbasestreamcontrol-cbasestreamcontrol.md)   | Метод конструктора.                                                                                  |
| [**~ Кбасестреамконтрол**](cbasestreamcontrol--cbasestreamcontrol.md) | Метод деструктора.                                                                                   |
| [**чеккстреамстате**](cbasestreamcontrol-checkstreamstate.md)       | Определяет, следует ли доставлять или отменять образец носителя.                                  |
| [**Очистки**](cbasestreamcontrol-flushing.md)                       | Уведомляет базовый класс о том, что ПИН-код запущен или прекратил запись на диск.                                |
| [**нотифифилтерстате**](cbasestreamcontrol-notifyfilterstate.md)     | Уведомляет ПИН-код при изменении состояния фильтра.                                                    |
| [**сетфилтерграф**](cbasestreamcontrol-setfiltergraph.md)           | Указывает приемник событий для событий потокового управления.                                                  |
| [**сетсинксаурце**](cbasestreamcontrol-setsyncsource.md)             | Уведомляет базовый класс о текущем ссылочном времени.                                              |
| Методы Иамстреамконтрол                                              | Описание                                                                                          |
| [**GetInfo**](cbasestreamcontrol-getinfo.md)                         | Извлекает сведения о текущих параметрах управления потоком, включая время начала и окончания. |
| [**StartAt**](cbasestreamcontrol-startat.md)                         | Информирует ПИН-код о том, когда начать доставку данных.                                                       |
| [**Предложения**](cbasestreamcontrol-stopat.md)                           | Информирует ПИН-код, когда следует отказаться от доставки данных.                                                        |



 

## <a name="remarks"></a>Комментарии

Этот класс требует наличия ПИН-кода и фильтра владельца для уведомления класса при возникновении различных событий, таких как фильтр присоединения к графу или получение нового ссылочного времени. Необходимо вызвать следующие методы класса:

-   В методе [**имедиафилтер:: сетсинксаурце**](/windows/desktop/api/Strmif/nf-strmif-imediafilter-setsyncsource) фильтра вызовите метод [**Кбасестреамконтрол:: сетсинксаурце**](cbasestreamcontrol-setsyncsource.md) . Этот метод уведомляет класс текущего ссылочного времени.
-   В методе [**кбасефилтер:: жоинфилтерграф**](cbasefilter-joinfiltergraph.md) фильтра вызовите метод [**Кбасестреамконтрол:: сетфилтерграф**](cbasestreamcontrol-setfiltergraph.md) . Этот метод предоставляет классу указатель на диспетчер графа фильтров, чтобы класс мог отправить правильные события управления потоком.
-   Каждый раз, когда фильтр изменяет состояние (для запуска, приостановки или остановки), вызовите метод [**кбасестреамконтрол:: нотифифилтерстате**](cbasestreamcontrol-notifyfilterstate.md) .
-   В методах [**Ипин:: бегинфлуш**](/windows/desktop/api/Strmif/nf-strmif-ipin-beginflush) и [**Ипин:: ендфлуш**](/windows/desktop/api/Strmif/nf-strmif-ipin-endflush) закрепления вызовите метод [**кбасестреамконтрол:: Flush**](cbasestreamcontrol-flushing.md) .

`CBaseStreamControl`Для определения того, какие образцы должны быть доставлены, а какие — должны быть удалены, в классе используется ссылочное время графа фильтра. В методе [**имеминпутпин:: Receive**](/windows/desktop/api/Strmif/nf-strmif-imeminputpin-receive) ПИН-кода вызовите метод [**Кбасестреамконтрол:: чеккстреамстате**](cbasestreamcontrol-checkstreamstate.md) с указателем на пример входящего носителя. Если метод возвращает поток значений \_ , доставляет пример нисходящий. В противном случае удалите его.

## <a name="requirements"></a>Требования



| Требование | Значение |
|--------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Header<br/>  | <dl> <dt>Стрмктл. h (включение Streams. h)</dt> </dl>                                                                                   |
| Библиотека<br/> | <dl> <dt>Стрмбасе. lib (розничные сборки); </dt> <dt>Стрмбасд. lib (отладочные сборки)</dt> </dl> |



 

 




