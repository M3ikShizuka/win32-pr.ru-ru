---
description: о фильтрах DirectShow
ms.assetid: 57b7d32e-2073-46a2-91ec-a34072134489
title: о фильтрах DirectShow
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cef947fdcec8cc1c01d23d09bce1b46d5b4d7d2268fe1d7cd6df6a57b54d42ca
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118664473"
---
# <a name="about-directshow-filters"></a>о фильтрах DirectShow

DirectShow использует модульную архитектуру, где каждый этап обработки выполняется объектом COM, называемым фильтром. DirectShow предоставляет набор стандартных фильтров для используемых приложений, и разработчики могут писать собственные настраиваемые фильтры, расширяющие функциональные возможности DirectShow. Ниже приведены шаги, необходимые для воспроизведения видеофайлов AVI, а также фильтры, выполняющие каждый шаг.

-   Чтение необработанных данных из файла в виде потока байтов (фильтр источника файла).
-   Изучите заголовки AVI и проанализируйте поток байтов в отдельные видеоматериалы и образцы звука (фильтр AVI-разделителя).
-   Декодирование кадров видео (различные фильтры декодера в зависимости от формата сжатия).
-   Нарисуйте видеокадры (фильтр модуля обработки видео).
-   Отправьте звуковые образцы на звуковую карту (фильтр устройства DirectSound по умолчанию).

Эти фильтры показаны на следующей схеме.

![граф фильтра для воспроизведения файла AVI с помощью сжатого видео](images/avi-filter-graph.png)

Как видно на диаграмме, каждый фильтр подключен к одному или нескольким из других фильтров. Точки соединения также являются COM-объектами, называемыми *закреплениями*. Фильтры используют ПИН-коды для перемещения данных из одного фильтра в другой. Стрелки на схеме показывают направление, в котором передаются данные. в DirectShow набор фильтров называется *графом фильтра*.

Фильтры имеют три возможных состояния: запущено, остановлено и приостановлено. При выполнении фильтра он обрабатывает данные мультимедиа. После остановки обработка данных прекращается. Приостановленное состояние используется для данных подсказки перед запуском; раздел [Data Flow в фильтре Graph](data-flow-in-the-filter-graph.md) подробно описывает эту концепцию. При очень редких исключениях изменения состояния согласовываются по всему графу фильтра; все фильтры в параметре Graph имеют состояние в одновременном. Таким образом, весь граф фильтра также называется запуском, остановкой или приостановкой.

Фильтры можно группировать по нескольким широким категориям:

-   Фильтр *источника* вводит данные в граф. Данные могут поступать из файла, из сети, с камеры или в другом месте. Каждый фильтр источника обрабатывает другой тип источника данных.
-   Фильтр *преобразования* принимает входной поток, обрабатывает данные и создает поток вывода. Примерами фильтров преобразования являются кодировщики и декодеры.
-   Фильтры модуля *подготовки* отчетов располагаются в конце цепочки. Они получают данные и представляют их пользователю. Например, модуль подготовки видео рисует видеокадры на экране; модуль подготовки звука отправляет звуковые данные на звуковую карту; и фильтр записи файла записывает данные в файл.
-   Фильтр *разделителя* разделяет входной поток на два или более выходов, обычно анализируя входной поток по своему пути. Например, разделитель AVI анализирует поток байтов в отдельные видео-и звуковые потоки.
-   Фильтр *мультиплексора* принимает несколько входов и объединяет их в один поток. Например, мультиплексор AVI выполняет обратную операцию разделителя AVI. Он использует поток аудио и видео и создает поток байтов в формате AVI.

Различия между этими категориями не являются абсолютными. Например, фильтр чтения ASF выступает в качестве фильтра источника и фильтра разделителя.

все фильтры DirectShow предоставляют интерфейс [**ибасефилтер**](/windows/desktop/api/Strmif/nn-strmif-ibasefilter) , а все пин-коды предоставляют интерфейс [**ипин**](/windows/desktop/api/Strmif/nn-strmif-ipin) . DirectShow также определяет множество других интерфейсов, которые поддерживают более конкретные функции.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[о диспетчере Graph фильтра](about-the-filter-graph-manager.md)
</dt> <dt>

[Flow данных в фильтре Graph](data-flow-in-the-filter-graph.md)
</dt> <dt>

[DirectShow Фильтрующ](directshow-filters.md)
</dt> </dl>

 

 



