---
description: Нужна
ms.assetid: ceccb657-f1e1-4d59-920a-477a95b8a1a4
title: Нужна
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3ef7e82009198a790d5c0f7818599aa13905ce82
ms.sourcegitcommit: 628fda3e63fd1d513ce9a5f55be8bbc4af4b2a4b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/05/2021
ms.locfileid: "104560250"
---
# <a name="seeking"></a>Нужна

Фильтры поддерживают поиск через интерфейс [**имедиасикинг**](/windows/desktop/api/Strmif/nn-strmif-imediaseeking) . Приложение запрашивает диспетчер графа фильтров для **имедиасикинг** и использует его для выполнения команд Seek. Диспетчер графов фильтров распространяет каждую команду поиска на все фильтры модуля подготовки отчетов в графе. Каждый модуль подготовки отчетов передает командный поток через выходные контакты вышестоящего фильтра до тех пор, пока не достигнет фильтра, который может выполнить поиск. Как правило, фильтр источника или фильтр синтаксического анализатора, например, [Разделитель AVI](avi-splitter-filter.md), выполняет операцию поиска.

Когда фильтр выполняет операцию поиска, он очищает все ожидающие данные. Результат заключается в том, чтобы максимально сокращать задержку команд Seek, поскольку существующие данные очищаются из графа. После команды Seek время потока сбрасывается в ноль.

На следующей схеме показана последовательность событий.

![последовательность событий](images/seeking.png)

Если фильтр синтаксического анализатора имеет более одного выходного ПИН-кода, он обычно назначает один из них для приема команд Seek. Другие ПИН-коды отклоняются или игнорируют любые команды поиска, которые они получают. Таким образом средство синтаксического анализа сохраняет все его потоки в синхронизированном виде. Однако все выходные сигналы должны реализовывать [**имедиасикинг:: Capabilities**](/windows/desktop/api/Strmif/nf-strmif-imediaseeking-getcapabilities) и [**Имедиасикинг:: чекккапабилитиес**](/windows/desktop/api/Strmif/nf-strmif-imediaseeking-checkcapabilities) , чтобы получить возможности поиска фильтра. Это гарантирует, что диспетчер графа фильтров вернет правильное значение в приложение.

Интерфейс [**имедиапоситион**](/windows/desktop/api/Control/nn-control-imediaposition) устарел для фильтров. Клиенты автоматизации по-прежнему должны использовать этот интерфейс в диспетчере графов фильтров, так как **имедиасикинг** не совместима с автоматизацией, но диспетчер графов фильтров преобразует все вызовы **Имедиапоситион** в вызовы **имедиасикинг** .

## <a name="related-topics"></a>См. также

<dl> <dt>

[Очистки](flushing.md)
</dt> <dt>

[Время и часы в DirectShow](time-and-clocks-in-directshow.md)
</dt> </dl>

 

 



