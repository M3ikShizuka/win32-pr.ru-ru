---
description: Режим устройства
ms.assetid: d56021be-616b-41cd-8cf0-9e0d314f62cd
title: Режим устройства
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4657fbb49e2619d75911c18185109805116b9647
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/06/2021
ms.locfileid: "104495780"
---
# <a name="device-mode"></a>Режим устройства

IEEE 1394 и USB-видеокамеры могут переключаться между режимами камеры и видеомагнитофона (Втр). При переключении в режим видеокамеры IEEE 1394 устройство сбрасывается, и приложение должно повторно перечислить его. Приложение не может переключать режим программным способом. USB-видеокамеры, с другой стороны, могут переключаться между режимами Camera и Втр без сброса, а приложение может изменить режим.

**Драйвер МСДВ**

Чтобы получить текущий режим на устройстве IEEE 1394, вызовите метод [**иамекстдевице:: capability**](/windows/desktop/api/Strmif/nf-strmif-iamextdevice-getcapability) с \_ типом устройства value ED девкап \_ \_ . Если метод возвращает значение ED \_ девтипе \_ видеомагнитофона, устройство находится в режиме Втр и имеет такие функции, как пауза, остановка, перемотка вперед и назад. В противном случае, если метод \_ возвращает \_ камеру девтипе, устройство находится в режиме камеры. В следующем примере кода показано, как запросить тип устройства.


```C++
if (MyDevCap.bHasDevice) 
{
    LONG lDeviceType = 0;
    MyDevCap.pDevice->GetCapability(ED_DEVCAP_DEVICE_TYPE, &lDeviceType, 0);

    if (lDeviceType == ED_DEVTYPE_VCR) 
    {
        // Device is a VTR. Enable all VTR functions.
    }
    else 
    {
        // Device is a camera. 
        // Enable record and record-pause; disable other functions.
    }
}
```



Если видеокамера переходит в автономный режим, следует запросить ее снова, когда она станет доступной. При удалении устройства диспетчер графа фильтров отправляет событие [**EC об \_ \_ потере устройства**](ec-device-lost.md) .

**Драйвер УВК**

Так как видеоустройства USB могут переключать режимы без сброса, код, приведенный в предыдущих примерах, не может быть надежным для USB-устройств. Вместо этого [**используйте интерфейс,**](/previous-versions/windows/desktop/api/Vidcap/nn-vidcap-iselector) чтобы получить текущий режим. Этот интерфейс также можно использовать для переключения режимов программным способом, если устройство поддерживает его.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Управление видеокамерой](controlling-a-dv-camcorder.md)
</dt> </dl>

 

 



