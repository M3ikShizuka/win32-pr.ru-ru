---
description: Шаг 1.
ms.assetid: 4b2d3add-0430-480b-ad5f-bb1aa19fef21
title: Шаг 1. Выбор базового класса
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f4679873e78e75b350335b5294db63579fd41f36
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "103911095"
---
# <a name="step-1-choose-a-base-class"></a>Шаг 1. Выбор базового класса

Это шаг 1 учебника [Создание фильтров преобразования](writing-transform-filters.md).

Предполагая, что вы решили написать фильтр, а не DMO, первым шагом будет выбор базового класса для использования. Для фильтров преобразования подходят следующие классы:

-   [**Ктрансформфилтер**](ctransformfilter.md) предназначен для фильтров преобразования, использующих отдельные буферы ввода и вывода. Этот тип фильтра иногда называют фильтром преобразования копий. Когда фильтр преобразования копирования получает образец входных данных, он записывает новые данные в образец вывода и доставляет образец Output к следующему фильтру.
-   [**Ктрансинплацефилтер**](ctransinplacefilter.md) предназначен для фильтров, изменяющих данные в исходном буфере, также называемые фильтрами переноса на месте. Когда фильтр на месте получает образец, он изменяет данные внутри этого образца и доставляет тот же самый нисходящий пример. Входной и выходной ПИН-код фильтра всегда соединяются с соответствующими типами носителей.
-   [**Квидеотрансформфилтер**](cvideotransformfilter.md) предназначен в первую очередь для видеодекодеров. Он является производным от **ктрансформфилтер**, но включает функции для удаления кадров, если подчиненный модуль подготовки к работе находится позади.
-   [**Кбасефилтер**](cbasefilter.md) — это универсальный класс фильтра. Другие классы в этом списке являются производными от **кбасефилтер**. Если ни один из них не подходит, можно вернуться к этому классу. Однако для этого класса также требуется наибольшая часть работы.
-   \[! Существенно\]  
    > Преобразования видео на месте могут серьезно повлиять на производительность отрисовки. Для преобразования на месте требуются операции чтения-изменения и записи в буфер. Если память находится на графической карте, операции чтения значительно снижаются. Более того, даже преобразование копирования может привести к непредвиденным операциям чтения, если не реализовать ее тщательно. Поэтому при написании преобразования видео всегда следует выполнять тестирование производительности.

     

Для примера кодировщика RLE лучшим выбором является либо **ктрансформфилтер** , либо **квидеотрансформфилтер**. Фактически различия между ними являются внутренними, поэтому их легко преобразовать из одного в другой. Так как типы мультимедиа должны различаться на двух контактах, класс **ктрансинплацефилтер** не подходит для этого фильтра. В этом примере будет использоваться **ктрансформфилтер**.

Далее. [Шаг 2. Объявите класс фильтра](step-2--declare-the-filter-class.md).

## <a name="related-topics"></a>См. также

<dl> <dt>

[Написание фильтров DirectShow](writing-directshow-filters.md)
</dt> </dl>

 

 



