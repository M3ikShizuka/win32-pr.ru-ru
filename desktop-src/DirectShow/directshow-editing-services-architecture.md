---
description: Архитектура служб редактирования DirectShow
ms.assetid: ba6cc3f1-9130-4197-8501-c2d0a088e847
title: Архитектура служб редактирования DirectShow
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 85c6059eebe9228e61d3de9677972eedfcb51c62
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/06/2021
ms.locfileid: "105650424"
---
# <a name="directshow-editing-services-architecture"></a>Архитектура служб редактирования DirectShow

\[Этот API не поддерживается и может быть изменен или недоступен в будущем.\]

На следующем рисунке показана архитектура [служб редактирования DirectShow](directshow-editing-services.md) (DES).

![Архитектура служб редактирования DirectShow](images/architecture.png)

-   Временная шкала — это рабочее видео в виде коллекции исходных клипов, переходов и эффектов, организованных в набор вложенных дорожек. Дополнительные сведения см. [в разделе Модель временной шкалы](the-timeline-model.md).
-   Средство синтаксического анализа XML: анализирует временную шкалу и создает выходной файл или считывает входной файл и создает временную шкалу. DES поддерживает формат сохраняемости на основе XML.
-   Модуль визуализации: преобразует временную шкалу в форму, которая может быть подготовлена к просмотру в виде потокового мультимедиа. По умолчанию модуль подготовки отчетов создает граф фильтра DirectShow (см. следующий раздел).
-   Указатель мультимедиа. поддерживает кэш расположений элементов мультимедиа. При неудачной попытке открыть элемент мультимедиа DES использует кэш для обнаружения элемента на основе журнала успешных открытий.

Временная шкала является абстрактным описанием проекта редактирования видео. Он задает исходные клипы, используемые в проекте, время начала и окончания, эффекты и переходы, а также т. д. Однако временная шкала не отображает видеопотокы и звуковые потоки. Вместо этого механизм визуализации преобразует временную шкалу в граф фильтра для предварительного просмотра или вывода файла. Приложение обрабатывает временную шкалу, а не напрямую манипулирует графом фильтров, что может быть громоздким и подверженным ошибкам.

В следующей таблице перечислены основные задачи, выполняемые обычным приложением для редактирования видео, а также интерфейсы, поддерживающие каждую задачу. В последующих разделах более подробно описаны эти задачи и интерфейсы.



| Задача                                     | Интерфейс (ы)                                                                             |
|------------------------------------------|------------------------------------------------------------------------------------------|
| Создание или изменение временной шкалы.          | [**Иамтимелине**](iamtimeline.md) и другие интерфейсы **иамтимелинекскскскс**          |
| Сохранение и загрузка файлов проекта.             | [**IXml2Dex**](ixml2dex.md)                                                             |
| Предварительный просмотр проекта или запись в файл. | [**Ирендеренгине**](irenderengine.md), [ **исмартрендеренгине**](ismartrenderengine.md) |



 

Кроме того, приложение может выполнять некоторые или все следующие вторичные задачи.



| Задача                                                                                           | Интерфейс (ы)                                                                 |
|------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------|
| Получение сведений о файлах мультимедиа. (Количество потоков; формат и длительность каждого потока.) | [**имедиадет**](imediadet.md)                                               |
| Задание свойств для переходов и эффектов.                                                     | [**ипропертисеттер**](ipropertysetter.md)                                   |
| Получение уведомлений при возникновении ошибок во время подготовки к просмотру.                                       | [**Иамсетеррорлог**](iamseterrorlog.md), [ **иамеррорлог**](iamerrorlog.md) |
| Получение кадров афиши.                                                                        | [**Имедиадет**](imediadet.md), [ **исамплеграббер**](isamplegrabber.md)     |



 

## <a name="related-topics"></a>См. также

<dl> <dt>

[начало работы с помощью служб редактирования DirectShow](getting-started-with-directshow-editing-services.md)
</dt> </dl>

 

 



