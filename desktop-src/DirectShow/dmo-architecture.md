---
description: DMO AHA
ms.assetid: f74b2d0f-b40c-4598-97a4-9c1dc71bbb1a
title: DMO AHA
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: dcb2e125fda635c70e03e02af15d12e0ffb4f3ac4d5083eb91a4b99d3d3590e1
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119906494"
---
# <a name="dmo-architecture"></a>DMO AHA

В этом разделе описывается общая архитектура DMO.

**Потоки**

DMO — это объект, принимающий входные данные *m* и создающий *n* выходов. Входные и выходные данные называются *потоками*. каждый DMO имеет по крайней мере один поток. Потоки не являются объектами; они просто ссылаются на DMO по номеру индекса. Количество потоков фиксируется во время разработки.

**Типы носителей**

Все данные вводятся с помощью *типа мультимедиа*, который определяет способ интерпретации содержимого данных. Например, 320 x 240 24-разрядное видео RGB имеет один тип; 44,1-килохертз (кГц) 16-разрядный стереофонический звук PCM является еще одним типом. типы носителей описываются с помощью [**DMO структуры \_ \_ типов мультимедиа**](/previous-versions/windows/desktop/api/mediaobj/ns-mediaobj-dmo_media_type) . Прежде чем клиент сможет обработать какие бы то ни было данные, он должен задать тип носителя для каждого потока в DMO.

Как правило, поток может принимать целый ряд типов мультимедиа. Некоторые дмос поддерживают более широкий диапазон типов, чем другие. интерфейсы DMO определяют методы клиента для обнаружения поддерживаемых типов. например, одна DMO может поддерживать видео rgb с любой глубиной, а другая может поддерживать только 24-разрядную версию rgb. кроме того, DMO может быть ограничен определенным сочетанием входных и выходных данных. Например, если тип входных данных — 16-разрядное видео, для потока вывода может потребоваться одна и та же битовая глубина. Клиент может перечислить предпочтительные типы каждого потока и затем проверить определенные сочетания.

**Buffers**

в модели DMO по умолчанию клиент выделяет отдельные входные буферы и выходные буферы. он заполняет входные буферы данными и доставляет их в DMO, а DMO записывает новые данные в выходные буферы.

при необходимости DMO может поддерживать «на месте» обработку. при обработке на месте DMO записывает выходные данные непосредственно во входной буфер, поверх исходных данных. Обработка на месте устраняет необходимость в отдельных буферах. С другой стороны, она изменяет исходные данные, которые могут быть неприемлемыми для некоторых приложений.

Модель буферизации по умолчанию (не на месте) поддерживается через интерфейс [**имедиаобжект**](/previous-versions/windows/desktop/api/Mediaobj/nn-mediaobj-imediaobject) . Все дмос должны реализовывать этот интерфейс. если DMO поддерживает обработку на месте, он также предоставляет интерфейс [**имедиаобжектинплаце**](/previous-versions/windows/desktop/api/mediaobj/nn-mediaobj-imediaobjectinplace) . Клиент несет ответственность за выделение всех буферов, входных и выходных данных.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[О дмос](about-dmos.md)
</dt> </dl>

 

 



