---
description: Архитектура DMO
ms.assetid: f74b2d0f-b40c-4598-97a4-9c1dc71bbb1a
title: Архитектура DMO
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 93fcf7f4ef4528cd4d7949d804b149588075d5ef
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/06/2021
ms.locfileid: "105650416"
---
# <a name="dmo-architecture"></a>Архитектура DMO

В этом разделе описывается общая архитектура DMO.

**Потоки**

DMO — это объект, принимающий входные данные *m* и создающий *n* выходов. Входные и выходные данные называются *потоками*. Каждый DMO имеет по крайней мере один поток. Потоки не являются объектами; они просто ссылаются на DMO по номеру индекса. Количество потоков фиксируется во время разработки.

**Типы носителей**

Все данные вводятся с помощью *типа мультимедиа*, который определяет способ интерпретации содержимого данных. Например, 320 x 240 24-разрядное видео RGB имеет один тип; 44,1-килохертз (кГц) 16-разрядный стереофонический звук PCM является еще одним типом. Типы носителей описываются с помощью структуры [**\_ \_ типа мультимедиа DMO**](/previous-versions/windows/desktop/api/mediaobj/ns-mediaobj-dmo_media_type) . Прежде чем клиент сможет обработать какие бы то ни было данные, он должен задать тип носителя для каждого потока в DMO.

Как правило, поток может принимать целый ряд типов мультимедиа. Некоторые дмос поддерживают более широкий диапазон типов, чем другие. Интерфейсы DMO определяют методы клиента для обнаружения поддерживаемых типов. Например, один DMO может поддерживать видео RGB с любой глубиной, а другой может поддерживать только 24-разрядный RGB. Кроме того, DMO может быть ограничен определенным сочетанием входных и выходных данных. Например, если тип входных данных — 16-разрядное видео, для потока вывода может потребоваться одна и та же битовая глубина. Клиент может перечислить предпочтительные типы каждого потока и затем проверить определенные сочетания.

**Buffers**

В модели DMO по умолчанию клиент выделяет отдельные Входные буферы и выходные буферы. Он заполняет Входные буферы данными и доставляет их в DMO, а DMO записывает новые данные в выходные буферы.

При необходимости DMO может поддерживать «на месте» обработку. При использовании обработки на месте объекты DMO записывают выходные данные непосредственно во входной буфер для исходных данных. Обработка на месте устраняет необходимость в отдельных буферах. С другой стороны, она изменяет исходные данные, которые могут быть неприемлемыми для некоторых приложений.

Модель буферизации по умолчанию (не на месте) поддерживается через интерфейс [**имедиаобжект**](/previous-versions/windows/desktop/api/Mediaobj/nn-mediaobj-imediaobject) . Все дмос должны реализовывать этот интерфейс. Если объект DMO поддерживает обработку на месте, он также предоставляет интерфейс [**имедиаобжектинплаце**](/previous-versions/windows/desktop/api/mediaobj/nn-mediaobj-imediaobjectinplace) . Клиент несет ответственность за выделение всех буферов, входных и выходных данных.

## <a name="related-topics"></a>См. также

<dl> <dt>

[О дмос](about-dmos.md)
</dt> </dl>

 

 



