---
description: Класс Камсчедуле реализует планировщик для ссылочных синхронизирующих импульсов.
ms.assetid: 67aacffb-b781-4323-8973-355a76821401
title: Класс Камсчедуле (Дссчедуле. h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- CAMSchedule
api_type:
- COM
api_location:
- Strmbase.lib
- Strmbase.dll
- Strmbasd.lib
- Strmbasd.dll
ms.openlocfilehash: d2236eb66086bb590892401cab052f39d81a41941db38d2a73dedd5edb4c53ce
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118955413"
---
# <a name="camschedule-class"></a>Класс Камсчедуле

`CAMSchedule`Класс реализует планировщик для ссылочных синхронизирующих импульсов.



| Открытые методы                                             | Описание                                                                          |
|------------------------------------------------------------|--------------------------------------------------------------------------------------|
| [**камсчедуле**](camschedule-camschedule.md)             | Метод конструктора.                                                                  |
| [**~ Камсчедуле**](camschedule--camschedule.md)           | Метод деструктора. Виртуализаци.                                                          |
| [**жетадвисекаунт**](camschedule-getadvisecount.md)       | Возвращает число ожидающих запросов рекомендаций.                                     |
| [**жетнекстадвисетиме**](camschedule-getnextadvisetime.md) | Извлекает время следующего запроса на выadvise.                                       |
| [**аддадвисепаккет**](camschedule-addadvisepacket.md)     | Добавляет запрос advise в список ожидающих запросов.                              |
| [**Unadvise**](camschedule-unadvise.md)                   | Удаляет запрос Advise.                                                           |
| [**Извещен**](camschedule-advise.md)                       | Отправляет все запросы, запланированные на указанное время или ранее.          |
| [**Четный**](camschedule-getevent.md)                   | Извлекает дескриптор события, который используется для сигнализации об изменении в следующем времени. |



 

## <a name="remarks"></a>Remarks

Этот вспомогательный объект содержит список запросов рекомендаций для времени ссылки. Класс [**кбасереференцеклокк**](cbasereferenceclock.md) использует его для планирования запросов рекомендаций. Часы используют этот объект следующим образом:

1.  Часы создают рабочий поток для обработки планирования.
2.  Рабочий поток вызывает метод [**камсчедуле:: четный**](camschedule-getevent.md) для получения обработчика событий от планировщика. Он ждет от этого события, исходя из неограниченного времени ожидания.
3.  Чтобы запланировать новый запрос advise, часы вызывают метод [**камсчедуле:: аддадвисепаккет**](camschedule-addadvisepacket.md) . Запрос на выadvise может быть одним или несколькими снимками. Планировщик сохраняет список запросов в нужном порядке времени.
4.  Если запрос добавляется в начало списка, планировщик сигнализирует о событии. (Сначала список пуст, поэтому первый запрос гарантированно сигнализирует о событии.)
5.  Когда событие получает сигнал, Рабочий поток вызывает метод [**камсчедуле:: Advise**](camschedule-advise.md) , указывая текущее время ссылки. Если срок действия ожидающих запросов истек, планировщик отправляет их.
6.  Метод advise Возвращает время следующего запроса. Рабочий поток использует это значение для вычисления нового значения времени ожидания.
7.  Шаги 2 6 повторяются бессрочно.
8.  Для завершения рабочего потока часы задают внутренний флаг и сигнализирует о событии.

На шаге 2 событие получает сигнал или время ожидания истекает. Если событие имеет сигнальное значение, это означает, что новый запрос был добавлен в начало списка. Рабочий поток должен вычислить новое значение времени ожидания. С другой стороны, если время ожидания истекло, это означает, что запрос на рекомендацию пришел к оплате и должен быть отправлен. Вызов инструкции advise на шаге 5 обрабатывает оба варианта.

## <a name="requirements"></a>Требования



| Требование | Значение |
|--------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Заголовок<br/>  | <dl> <dt>дссчедуле. h (включает Потоки. h)</dt> </dl>                                                                                |
| Библиотека<br/> | <dl> <dt>Стрмбасе. lib (розничные сборки); </dt> <dt>Стрмбасд. lib (отладочные сборки)</dt> </dl> |



 

 




