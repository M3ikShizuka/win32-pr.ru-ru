---
description: Сведения о фильтре модуля чтения WM ASF для DirectShow. Это фильтр оболочки для объекта модуля чтения, поставляемого с пакетом SDK Windows Media Format.
ms.assetid: 82b9f849-b9dc-439b-8ca7-9dcd992338ab
title: Фильтр чтения WM ASF (DirectShow)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 330ab870b97fc3e84ccb5b0f726d4f35ef1af147
ms.sourcegitcommit: b32433cc0394159c7263809ae67615ab5792d40d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/30/2021
ms.locfileid: "113118669"
---
# <a name="wm-asf-reader-filter-directshow"></a><span data-ttu-id="35b46-104">Фильтр чтения WM ASF (DirectShow)</span><span class="sxs-lookup"><span data-stu-id="35b46-104">WM ASF Reader Filter (DirectShow)</span></span>

<span data-ttu-id="35b46-105">Модуль чтения WM ASF — это фильтр оболочки для объекта Reader, предоставляемый с пакетом SDK для Windows Media Format, который является рекомендуемым фильтром источника для воспроизведения содержимого и содержимого на основе Windows Media, созданных с помощью любого дмос кодировщика Microsoft MPEG-4.</span><span class="sxs-lookup"><span data-stu-id="35b46-105">The WM ASF Reader is a wrapper filter for the reader object provided with the Windows Media Format SDK and is the recommended source filter for file playback of Windows Media-based content and content created with any of the Microsoft MPEG-4 Encoder DMOs.</span></span>



| <span data-ttu-id="35b46-106">Метка</span><span class="sxs-lookup"><span data-stu-id="35b46-106">Label</span></span> | <span data-ttu-id="35b46-107">Значение</span><span class="sxs-lookup"><span data-stu-id="35b46-107">Value</span></span> |
|------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="35b46-108">Интерфейсы фильтра</span><span class="sxs-lookup"><span data-stu-id="35b46-108">Filter interfaces</span></span>                        | <span data-ttu-id="35b46-109">[**Ибасефилтер**](/windows/desktop/api/Strmif/nn-strmif-ibasefilter), [**ифилесаурцефилтер**](/windows/desktop/api/Strmif/nn-strmif-ifilesourcefilter), [**иамекстендедсикинг**](/previous-versions/windows/desktop/api/Qnetwork/nn-qnetwork-iamextendedseeking), **IServiceProvider** Кроме того, фильтр предоставляет следующие интерфейсы пакета SDK Windows Media Format: [**Ивмхеадеринфо**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmheaderinfo), [**ивмреадерадванцед**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmreaderadvanced), [**IWMReaderAdvanced2**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmreaderadvanced2), [**IWMDRMReader**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmdrmreader) (через **IServiceProvider**).</span><span class="sxs-lookup"><span data-stu-id="35b46-109">[**IBaseFilter**](/windows/desktop/api/Strmif/nn-strmif-ibasefilter), [**IFileSourceFilter**](/windows/desktop/api/Strmif/nn-strmif-ifilesourcefilter), [**IAMExtendedSeeking**](/previous-versions/windows/desktop/api/Qnetwork/nn-qnetwork-iamextendedseeking), **IServiceProvider** In addition, the filter exposes the following Windows Media Format SDK interfaces: [**IWMHeaderInfo**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmheaderinfo), [**IWMReaderAdvanced**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmreaderadvanced), [**IWMReaderAdvanced2**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmreaderadvanced2), [**IWMDRMReader**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmdrmreader) (through **IServiceProvider**)</span></span><br/> |
| <span data-ttu-id="35b46-110">Типы носителей входных закрепления</span><span class="sxs-lookup"><span data-stu-id="35b46-110">Input pin media types</span></span>                    | <span data-ttu-id="35b46-111">Не применяется</span><span class="sxs-lookup"><span data-stu-id="35b46-111">Not applicable.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="35b46-112">Интерфейсы входных закрепления</span><span class="sxs-lookup"><span data-stu-id="35b46-112">Input pin interfaces</span></span>                     | <span data-ttu-id="35b46-113">Не применяется</span><span class="sxs-lookup"><span data-stu-id="35b46-113">Not applicable.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="35b46-114">Типы носителей для выходного ПИН-кода</span><span class="sxs-lookup"><span data-stu-id="35b46-114">Output pin media types</span></span>                   | <span data-ttu-id="35b46-115">МУЛЬТИМЕДИЙное \_ видео, MediaType \_ Audio, MediaType \_ команду скрипта, MediaType \_ филетрансфер</span><span class="sxs-lookup"><span data-stu-id="35b46-115">MEDIATYPE\_Video, MEDIATYPE\_Audio, MEDIATYPE\_ScriptCommand, MEDIATYPE\_FileTransfer</span></span>                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="35b46-116">Интерфейсы выходного ПИН-кода</span><span class="sxs-lookup"><span data-stu-id="35b46-116">Output pin interfaces</span></span>                    | <span data-ttu-id="35b46-117">[**Имедиасикинг**](/windows/desktop/api/Strmif/nn-strmif-imediaseeking), [**иамвмбуфферпасс**](/previous-versions/windows/desktop/api/Dshowasf/nn-dshowasf-iamwmbufferpass), **IServiceProvider**, Кроме того, ПИН-коды предоставляют следующие интерфейсы пакета SDK для формата Windows Media: **IWMStreamConfig2** (через **IServiceProvider**).</span><span class="sxs-lookup"><span data-stu-id="35b46-117">[**IMediaSeeking**](/windows/desktop/api/Strmif/nn-strmif-imediaseeking), [**IAMWMBufferPass**](/previous-versions/windows/desktop/api/Dshowasf/nn-dshowasf-iamwmbufferpass), **IServiceProvider** In addition, the pins expose the following Windows Media Format SDK interfaces: **IWMStreamConfig2** (through **IServiceProvider**)</span></span><br/>                                                                                                                                                                                                                                    |
| <span data-ttu-id="35b46-118">Фильтровать CLSID</span><span class="sxs-lookup"><span data-stu-id="35b46-118">Filter CLSID</span></span>                             | <span data-ttu-id="35b46-119">\_ВМАСФРЕАДЕР CLSID</span><span class="sxs-lookup"><span data-stu-id="35b46-119">CLSID\_WMAsfReader</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="35b46-120">CLSID страницы свойств</span><span class="sxs-lookup"><span data-stu-id="35b46-120">Property Page CLSID</span></span>                      | <span data-ttu-id="35b46-121">Нет страницы свойств.</span><span class="sxs-lookup"><span data-stu-id="35b46-121">No property page.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="35b46-122">Исполняемый объект</span><span class="sxs-lookup"><span data-stu-id="35b46-122">Executable</span></span>                               | <span data-ttu-id="35b46-123">Qasf.dll</span><span class="sxs-lookup"><span data-stu-id="35b46-123">Qasf.dll</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| [<span data-ttu-id="35b46-124">Заслуживают</span><span class="sxs-lookup"><span data-stu-id="35b46-124">Merit</span></span>](merit.md)                       | <span data-ttu-id="35b46-125">\_маловероятно</span><span class="sxs-lookup"><span data-stu-id="35b46-125">MERIT\_UNLIKELY</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| [<span data-ttu-id="35b46-126">Категория фильтра</span><span class="sxs-lookup"><span data-stu-id="35b46-126">Filter Category</span></span>](filter-categories.md) | <span data-ttu-id="35b46-127">\_ЛЕГАЦИАМФИЛТЕРКАТЕГОРИ CLSID</span><span class="sxs-lookup"><span data-stu-id="35b46-127">CLSID\_LegacyAmFilterCategory</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                             |



 

## <a name="remarks"></a><span data-ttu-id="35b46-128">Remarks</span><span class="sxs-lookup"><span data-stu-id="35b46-128">Remarks</span></span>

<span data-ttu-id="35b46-129">При наличии имени файла ASF или URL-адреса средство чтения WM ASF считывает сжатое содержимое, анализирует сжатые потоки и предоставляет закрепление вывода для каждого из них.</span><span class="sxs-lookup"><span data-stu-id="35b46-129">When given the name of an ASF file or a URL, the WM ASF Reader reads the compressed content, parses the compressed streams, and exposes an output pin for each one.</span></span> <span data-ttu-id="35b46-130">Этот фильтр подключается к фильтрам аудио-и видеокодеков, которые выполняют распаковку.</span><span class="sxs-lookup"><span data-stu-id="35b46-130">This filter connects downstream to audio and/or video codecs filters, which do the decompression.</span></span> <span data-ttu-id="35b46-131">Поиск поддерживается, если ASF-файл доступен для поиска.</span><span class="sxs-lookup"><span data-stu-id="35b46-131">Seeking is supported if the ASF file is seekable.</span></span> <span data-ttu-id="35b46-132">Время чтения ASF помечает образцы перед их прямой отправкой, но не изменяет метки времени каким бы то ни было образом.</span><span class="sxs-lookup"><span data-stu-id="35b46-132">The ASF Reader time stamps the samples before sending them downstream, but it does not modify the time stamps in any way.</span></span>

<span data-ttu-id="35b46-133">Воспроизведение с тактовой частотой, отличной от 1,0 (как указано в [**имедиасикинг:: сетрате**](/windows/desktop/api/Strmif/nf-strmif-imediaseeking-setrate)), не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="35b46-133">Playback at speeds other than 1.0 (as specified in [**IMediaSeeking::SetRate**](/windows/desktop/api/Strmif/nf-strmif-imediaseeking-setrate)) is not supported.</span></span>

<span data-ttu-id="35b46-134">Когда среда выполнения пакета SDK Windows Media Format отправляет сообщения [**\_ о состоянии ВМТ**](/previous-versions/windows/desktop/api/wmsdkidl/ne-wmsdkidl-wmt_status) в фильтр модуля записи WM ASF, фильтр перенаправляет все сообщения, связанные с получением лицензии DRM, в виде событий [**\_ \_ событий EC ВМТ**](ec-wmt-event.md) .</span><span class="sxs-lookup"><span data-stu-id="35b46-134">When the Windows Media Format SDK runtime sends [**WMT\_STATUS**](/previous-versions/windows/desktop/api/wmsdkidl/ne-wmsdkidl-wmt_status) messages to the WM ASF Writer filter, the filter forwards any messages related to DRM license acquisition as [**EC\_WMT\_EVENT**](ec-wmt-event.md) events.</span></span> <span data-ttu-id="35b46-135">Дополнительные сведения см. [в разделе read DRM-Protected ASF Files in DirectShow](reading-drm-protected-asf-files-in-directshow.md).</span><span class="sxs-lookup"><span data-stu-id="35b46-135">For more information, see [Reading DRM-Protected ASF Files in DirectShow](reading-drm-protected-asf-files-in-directshow.md).</span></span>

<span data-ttu-id="35b46-136">Читатель WM ASF частично реализует интерфейсы [**ивмреадерадванцед**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmreaderadvanced) и [**IWMReaderAdvanced2**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmreaderadvanced2) , чтобы предоставить приложениям доступ к информационным методам объекта Reader.</span><span class="sxs-lookup"><span data-stu-id="35b46-136">The WM ASF Reader partially implements the [**IWMReaderAdvanced**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmreaderadvanced) and [**IWMReaderAdvanced2**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmreaderadvanced2) interfaces in order to give applications access to the informational methods on the reader object.</span></span> <span data-ttu-id="35b46-137">Реализация фильтра просто передает вызовы в интерфейс объекта Reader.</span><span class="sxs-lookup"><span data-stu-id="35b46-137">The filter's implementation simply passes the calls through to the interface on the reader object.</span></span> <span data-ttu-id="35b46-138">Методы потоковой передачи не реализованы, поскольку фильтр должен иметь полный контроль над процессом потоковой передачи.</span><span class="sxs-lookup"><span data-stu-id="35b46-138">The streaming methods are not implemented because the filter must have complete control over the streaming process.</span></span> <span data-ttu-id="35b46-139">Реализуются следующие методы:</span><span class="sxs-lookup"><span data-stu-id="35b46-139">The following methods are implemented:</span></span>

-   [<span data-ttu-id="35b46-140">**Ивмреадерадванцед:: Statistics**</span><span class="sxs-lookup"><span data-stu-id="35b46-140">**IWMReaderAdvanced::GetStatistics**</span></span>](/previous-versions/windows/desktop/api/wmsdkidl/nf-wmsdkidl-iwmreaderadvanced-getstatistics)
-   [<span data-ttu-id="35b46-141">**Ивмреадерадванцед:: SetClientInfo**</span><span class="sxs-lookup"><span data-stu-id="35b46-141">**IWMReaderAdvanced::SetClientInfo**</span></span>](/previous-versions/windows/desktop/api/wmsdkidl/nf-wmsdkidl-iwmreaderadvanced-setclientinfo)
-   [<span data-ttu-id="35b46-142">**IWMReaderAdvanced2:: Жетбуфферпрогресс**</span><span class="sxs-lookup"><span data-stu-id="35b46-142">**IWMReaderAdvanced2::GetBufferProgress**</span></span>](/previous-versions/windows/desktop/api/wmsdkidl/nf-wmsdkidl-iwmreaderadvanced2-getbufferprogress)
-   [<span data-ttu-id="35b46-143">**IWMReaderAdvanced2:: Жетдовнлоадпрогресс**</span><span class="sxs-lookup"><span data-stu-id="35b46-143">**IWMReaderAdvanced2::GetDownloadProgress**</span></span>](/previous-versions/windows/desktop/api/wmsdkidl/nf-wmsdkidl-iwmreaderadvanced2-getdownloadprogress)
-   [<span data-ttu-id="35b46-144">**IWMReaderAdvanced2:: Жетплаймоде**</span><span class="sxs-lookup"><span data-stu-id="35b46-144">**IWMReaderAdvanced2::GetPlayMode**</span></span>](/previous-versions/windows/desktop/api/wmsdkidl/nf-wmsdkidl-iwmreaderadvanced2-getplaymode)
-   [<span data-ttu-id="35b46-145">**IWMReaderAdvanced2:: Жетпротоколнаме**</span><span class="sxs-lookup"><span data-stu-id="35b46-145">**IWMReaderAdvanced2::GetProtocolName**</span></span>](/previous-versions/windows/desktop/api/wmsdkidl/nf-wmsdkidl-iwmreaderadvanced2-getprotocolname)
-   [<span data-ttu-id="35b46-146">**IWMReaderAdvanced2:: Сетлогклиентид**</span><span class="sxs-lookup"><span data-stu-id="35b46-146">**IWMReaderAdvanced2::SetLogClientID**</span></span>](/previous-versions/windows/desktop/api/wmsdkidl/nf-wmsdkidl-iwmreaderadvanced2-setlogclientid)
-   [<span data-ttu-id="35b46-147">**IWMReaderAdvanced2:: Сетплаймоде**</span><span class="sxs-lookup"><span data-stu-id="35b46-147">**IWMReaderAdvanced2::SetPlayMode**</span></span>](/previous-versions/windows/desktop/api/wmsdkidl/nf-wmsdkidl-iwmreaderadvanced2-setplaymode)

## <a name="related-topics"></a><span data-ttu-id="35b46-148">Связанные темы</span><span class="sxs-lookup"><span data-stu-id="35b46-148">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="35b46-149">Фильтры DirectShow</span><span class="sxs-lookup"><span data-stu-id="35b46-149">DirectShow Filters</span></span>](directshow-filters.md)
</dt> <dt>

[<span data-ttu-id="35b46-150">Чтение файлов ASF в DirectShow</span><span class="sxs-lookup"><span data-stu-id="35b46-150">Reading ASF Files in DirectShow</span></span>](reading-asf-files-in-directshow.md)
</dt> </dl>

 

 
