### YamlMime:FAQ
metadata:
  description: DirectShow ВОПРОСЫ И ОТВЕТЫ
  ms.assetid: 198758b9-025a-44af-958c-9ddea8cbb12d
  title: DirectShow ВОПРОСЫ И ОТВЕТЫ
  ms.topic: article
  ms.date: 05/31/2018
  ms.openlocfilehash: a36cd1942fcc1b07e63a3ec7bfb8297b7d6b6e70
  ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
  ms.translationtype: MT
  ms.contentlocale: ru-RU
  ms.lasthandoff: 09/13/2021
  ms.locfileid: "127566342"
title: DirectShow ВОПРОСЫ И ОТВЕТЫ
summary: В этой статье содержатся ответы на часто задаваемые вопросы о Microsoft DirectShow.
sections:
- name: Не учитывается
  questions:
  - question: >
      какие операционные системы DirectShow поддерживать?
    answer: >
      DirectShow доступны во всех поддерживаемых версиях Windows.
  - question: >
      Какой объем базы знаний COM необходим для программирования DirectShow?
    answer: >
      Для разработки приложений необходимо понимать основы работы с COM-объектами: создание экземпляров, доступ к предоставляемым им интерфейсам и Управление счетчиками ссылок на этих интерфейсах. Для разработки фильтров требуются дополнительные знания COM.
  - question: >
      какие форматы поддерживает DirectShow?
    answer: >
      См. раздел [Поддерживаемые форматы в DirectShow](supported-formats-in-directshow.md).
  - question: >
      есть ли DirectShow список совместимого оборудования?
    answer: >
      Нет. DirectShow использует microsoft DirectDraw и возможности оборудования microsoft DirectSound, если они доступны. если специальное оборудование недоступно, DirectShow использует GDI для рисования видео и  \* api-интерфейсов мультимедиа для воспроизведения аудио.
  - question: >
      какие языки можно использовать для написания приложения DirectShow?
    answer: >
      DirectShow разработана в основном для разработки на C++. небольшой поднабор DirectShow API предоставляется через Visual Basic 6,0; Однако эта функция является устаревшей.
  - question: >
      будут ли DirectShow доступны через управляемый код?
    answer: >
      корпорация майкрософт не имеет текущих планов для реализации управляемого DirectShow API.
  - question: >
      какой компилятор требуется для разработки DirectShow?
    answer: >
      Любой компилятор, способный создавать COM-объекты, должен работать после правильной настройки среды компилятора.
  - question: >
      как DirectShow связаны с Microsoft DirectX?
    answer: >
      на внутреннем уровне DirectShow использует DirectSound и DirectDraw, когда оборудование поддерживает его. модули подготовки видео и наложения Mixer фильтры используют поверхности directdraw 3 и directdraw 5. устройство микширования видео 7 (только для Windows XP) использует поверхности DirectDraw 7. Устройство микширования видео 9 и Улучшенный модуль визуализации видео используют новейшие API-интерфейсы Microsoft Direct3D. для написания DirectShow приложения не нужно использовать другие api-интерфейсы DirectX, хотя их можно комбинировать.
  - question: >
      как DirectShow связаны с Microsoft ActiveMovie?
    answer: >
      ActiveMovie является исходным именем для DirectShow. Термин ActiveMovie больше не используется.
  - question: >
      Доступен ли исходный код для программы Графедит? Можно ли Графедит распространять?
    answer: >
      Нет, источник недоступен, а Graphedt.exe не является распространяемым.
  - question: >
      дмос ли заменить фильтры DirectShow?
    answer: >
      объекты мультимедиа Microsoft DirectX (дмос) можно использовать в приложении DirectShow. для кодировщиков, декодеров и эффектов рекомендуется написать DMO вместо фильтра DirectShow. (Примечание. Если вы хотите использовать ускорение видео DirectX в декодере, необходимо реализовать его в качестве фильтра.) для других целей фильтр DirectShow может быть более подходящим. Дополнительные сведения о дмос см. в разделе [DirectX Media Objects](directx-media-objects.md).
  - question: >
      я воспроизводить файл формата AVI с проигрыватель Windows Media. Я могу слышать звуковой сигнал, но вместо него кажется, что я вижу черный цвет. В чем проблема?
    answer: "Возможно, файл был закодирован с помощью кодека, который отсутствует в вашей системе. Хотя формат AVI является распространенным, AVI-файлы можно создавать с помощью различных форматов сжатия (кодеков). Если вы попытаетесь воспроизвести AVI-файл, который использует неподдерживаемый кодек, вы можете услышать звуковой компонент, но видео будет отображаться как черный экран или содержимое экрана останется без изменений.\n\n> [!Note]  \n> проигрыватель Windows Media часто пытается загрузить и установить кодек, если он отсутствует в системе.\n\n \n"
  - question: >
      Разделы справки создать приложение? Какие библиотеки и файлы заголовков нужны?
    answer: >
      См. раздел [Настройка среды сборки](setting-up-the-build-environment.md).
  - question: >
      Графедит отображает множество фильтров, которые не документированы. Что такое фильтры?
    answer: >
      Графедит перечисляет все фильтры, зарегистрированные в системе в категории фильтров. это могут быть фильтры, установленные сторонними приложениями или установленные другими технологиями майкрософт, такими как Windows Media или NetMeeting. кроме того, некоторые фильтры DirectShow выступают в качестве оболочек для кодеков или аппаратных устройств, при этом каждый кодек или устройство появлялся как отдельный фильтр. Видеокодек Microsoft H. 263 используется в NetMeeting и больше не поддерживается в DirectShow. Дополнительные сведения см. в разделе [Перечисление устройств и фильтров](enumerating-devices-and-filters.md).
  - question: >
      У меня возникают проблемы при создании пользовательского графа программным способом.
    answer: >
      Сначала попытайтесь построить граф фильтра с помощью Графедит. Это средство позволяет быстро имитировать множество возможностей. Графедит всегда является отличным местом для тестирования графа, прежде чем пытаться построить его с помощью исходного кода.


      Дополнительные сведения о построении графов см. в следующих статьях:


      -   [Создание фильтра Graph](building-the-filter-graph.md)

      -   [Перечисление объектов в фильтре Graph](enumerating-objects-in-a-filter-graph.md)
  - question: >
      как определить, установлена ли на данном компьютере DirectShow?
    answer: >
      вызовите **cocreateinstance** , чтобы создать экземпляр фильтра Graph Manager. если этот вызов завершился с ошибкой, на компьютере будет установлен DirectShow. В следующем коде показано, как это сделать.



      ```C++

      IGraphBuilder *pGraph;


      HRESULT hr = CoCreateInstance(CLSID_FilterGraph,
          NULL, CLSCTX_INPROC_SERVER,
          IID_IGraphBuilder, (void **) &pGraph);
      ```
  - question: >
      Разделы справки изменить параметры фильтра без отображения страницы свойств?
    answer: >
      Большинство фильтров предоставляют один или несколько интерфейсов для установки свойств фильтра. Просмотрите страницу справочника по рассматриваемому фильтру. (см. раздел [фильтры DirectShow](directshow-filters.md).)
  - question: >
      Можно ли протестировать фильтр с помощью Графедит?
    answer: >
      При разработке фильтра Графедит может помочь визуализировать соединения между фильтрами. Кроме того, он может обеспечить быструю проверку функциональности фильтра. Однако это не является надежной платформой тестирования.
  - question: >
      Какие фильтры работают с привилегиями Ring?
    answer: >
      Фильтры выполняются в кольцо 3, хотя некоторые фильтры контролируют потоковые устройства, которые работают в кольцевой 0. Дополнительные сведения см. [в разделе как аппаратные устройства участвуют в фильтре Graph](how-hardware-devices-participate-in-the-filter-graph.md).
  - question: >
      Нужно ли использовать отладчик ядра?
    answer: >
      Это зависит от конкретного проекта. Установка библиотек среды выполнения DirectX Debug означает, что устанавливаются отладочные драйверы и другие компоненты режима ядра, и что если приложение вызывает утверждение отладки в одном из этих компонентов, компьютер будет автоматически перезагружен, если к процессу не подключен отладчик ядра.
  - question: >
      При запуске приложения в отладчике происходит сбой.
    answer: >
      Некоторые декодеры не работают, пока приложение подключено к отладчику. Попробуйте запустить приложение вне отладчика.
  - question: >
      Как \_ работает макрос define GUID?
    answer: "Макрос **define \\_ GUID** решает проблему объявления `extern` ссылок на значения GUID в исходном коде. Например, предположим, что в проекте есть три исходных файла, Src1. cpp, Src2. cpp и Src3. cpp, а во всех трех файлах используется определенное значение идентификатора GUID. Значение GUID должно быть определено в проекте ровно один раз, а другие исходные файлы должны объявлять `extern` ссылки на него. С помощью макроса **define \\_ GUID** можно использовать один и тот же файл заголовка для обоих целей. В файле заголовка объявите GUID следующим образом:\n\n\n```C++\nDEFINE_GUID(CLSID_MyObject, \n0x00000000, 0x0000, 0x0000, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00);\n```\n\n\n\n(Если этот пример содержит нули, укажите фактические значения идентификатора GUID.) Вы можете использовать служебную программу Guidgen.exe, чтобы создать новый GUID и вставить его в заголовочный файл в формате **определения \\_ GUID** . Включите этот заголовочный файл в каждый исходный файл, который ссылается на GUID. В точности один из исходных файлов включает файл заголовка Инитгуид. h перед файлом заголовка. Пример:\n\n\n```C++\n// Src1.cpp\n#include <initguid.h>\n#include \"MyGuids.h\"\n\n// Src2.cpp\n#include \"MyGuids.h\"\n\n// Src3.cpp\n#include \"MyGuids.h\"\n```\n\nКогда файл заголовка Инитгуид. h не включен, макрос **define \\_ GUID** создает `extern` ссылку на значение GUID. При включении файла заголовка Инитгуид. h он переопределяет макрос **define \\_ GUID** , чтобы **определение \\_ GUID** создавало определяющее объявление идентификатора GUID.\n\nЕсли Инитгуид. h не включен ни в один из исходных файлов, появится сообщение об ошибке ссылки \"неразрешенный внешний символ\". Если дважды включить Инитгуид. h для одного и того же идентификатора GUID, будет получено сообщение об ошибке компиляции \"Redefinition; Множественная инициализация \". Чтобы устранить эти ошибки, убедитесь, что Инитгуид. h включен ровно один раз. Кроме того, не включайте Инитгуид. h в файл предкомпилированного заголовка, поскольку в силу этого предкомпилированный заголовок включается в каждый исходный файл.\n"
additionalContent: "\n## <a name=\"related-topics\"></a>Связанные темы\n\n[Введение в DirectShow](introduction-to-directshow.md)"
