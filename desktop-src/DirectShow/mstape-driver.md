---
description: Драйвер Мстапе
ms.assetid: aa59f322-09b1-4b0a-be6f-d865c20f76e5
title: Драйвер Мстапе
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 23eaf6dd7f0d6713b0db5ba5ed21ba4f7640c1373f23cb0066b0b31f366809cc
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118952213"
---
# <a name="mstape-driver"></a>Драйвер Мстапе

этот раздел относится к Windows XP и более поздних версий.

Драйвер Мстапе поддерживает устройства с видеокамеры D-ВХС и MPEG. Он предоставляется приложениям в качестве фильтра [записи видео WDM](wdm-video-capture-filter.md) . Его функциональность аналогична функции [мсдв](msdv-driver.md), драйверу видеокамеры.

-   Он отображается в категориях фильтров "источники видеозаписи (CLSID \_ видеоинпутдевицекатегори)" и "устройства отрисовки WDM Streaming" (преобразование AM \_ кскатегори \_ Render).
-   Приложение может создать экземпляр фильтра с помощью интерфейса [**икреатедевенум**](/windows/desktop/api/Strmif/nn-strmif-icreatedevenum) .
-   Он имеет выходной ПИН-код для захвата и передачи данных с устройства, а также входной ПИН-код для передачи на устройство. В момент времени может быть подключен только один ПИН-код.

**Типы носителей**

Входной ПИН-код поддерживает один тип носителя.



| Метка | Значение |
|--------------|------------------------------------------------------------|
| Основной тип   | \_Поток MEDIATYPE                                          |
| Subtype      | \_ \_ Шаг транспорта медиасубтипе \_ MPEG2                     |
| Размер выборки  | 192 x 256                                                  |
| Блок формата | [**\_Шаг транспорта \_ MPEG2**](mpeg2-transport-stride.md) |



 

Выходной закрепление поддерживает два типа мультимедиа.



| Метка | Значение |
|--------------|----------------------------------------|
| Основной тип   | \_Поток MEDIATYPE                      |
| Subtype      | \_ \_ Шаг транспорта медиасубтипе \_ MPEG2 |
| Размер выборки  | 192 x 256                              |
| Блок формата | \_Шаг транспорта \_ MPEG2               |



 



| Метка | Значение |
|--------------|----------------------------------------|
| Основной тип   | \_Поток MEDIATYPE                      |
| Subtype      | \_ \_ Шаг транспорта медиасубтипе \_ MPEG2 |
| Размер выборки  | 188 x 256                              |
| Блок формата | **NULL**                               |



 

**Сведения об устройстве**

Драйвер динамически считывает сведения из ПЗУ конфигурации устройства. Приложение может получить эти сведения, привязывая моникер устройства к контейнеру свойств и вызвав метод **ипропертибаг:: Read** .



| Свойство            | Описание                                                                                                                                                                         | Тип данных           |
|---------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------|
| Уникальный \_ UniqueID       | Уникальный идентификатор устройства (неограниченный **DWORD**).                                                                                                                                            | **Long** (VT \_ i4)   |
| Старший уникальный идентификатор \_      | Уникальный идентификатор устройства (High **DWORD**)                                                                                                                                            | **long**            |
| VendorID            | Идентификатор поставщика.                                                                                                                                                                          | **long**            |
| Идентификатор модели             | Идентификатор модели.                                                                                                                                                                           | **long**            |
| вендортекст          | Имя поставщика.                                                                                                                                                                        | **BSTR** (VT \_ BSTR) |
| моделтекст           | Имя модели устройства.                                                                                                                                                                  | **ОСВОБОЖДАЕМОЙ**            |
| унитмоделтекст       | Имя модели единицы измерения; может совпадать с Моделтекст.                                                                                                                                      | **ОСВОБОЖДАЕМОЙ**            |
| DeviceOPcr0Payload  | полезные данные Опкр (Управление подключаемым модулем вывода). Пример: 146 куадлетс.                                                                                                                          | **long**            |
| DeviceOPcr0DataRate | скорость передачи данных Опкр. Примеры: 0 (S100), 1 (S200) или 2 (S400).                                                                                                                          | **long**            |
| девицеклассгуид     | Идентификатор GUID, определяющий драйвер устройства. Для Мстапе это значение равно `{8C0F6AF2-0EDB-44C1-8AEB-59040BD830ED}` . Этот идентификатор GUID определен как Мстапедевицегуид в файле заголовка Кспртдефс. h. | **ОСВОБОЖДАЕМОЙ**            |
| Описание         | Описание устройства, взятое из INF-файла. Эта строка обычно содержит название торговой марки устройства.                                                                    | **ОСВОБОЖДАЕМОЙ**            |



 

ИДЕНТИФИКАТОР устройства — это 64-разрядное целое число. Нижний **DWORD** хранится в \_ свойстве UniqueID  Low, а High — в \_ свойстве UniqueID High.

Дополнительные сведения об моникерах устройств см. [в разделе Использование перечислителя системных устройств](using-the-system-device-enumerator.md).

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[DirectShow Фильтрующ](directshow-filters.md)
</dt> <dt>

[Управление видеокамерой](controlling-a-dv-camcorder.md)
</dt> </dl>

 

 



