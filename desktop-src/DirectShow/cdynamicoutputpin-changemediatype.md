---
description: Метод Чанжемедиатипе динамически изменяет тип носителя для соединения.
ms.assetid: 38efdfdc-f636-4cad-b8d3-8c63a277644e
title: Кдинамикаутпутпин. Чанжемедиатипе, метод (Амфилтер. h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- CDynamicOutputPin.ChangeMediaType
api_type:
- COM
api_location:
- Strmbase.lib
- Strmbase.dll
- Strmbasd.lib
- Strmbasd.dll
ms.openlocfilehash: 892709431e1f521ce4c70f6783d0fb9156b544e4d2c4e95282a1879a9bb70885
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119983304"
---
# <a name="cdynamicoutputpinchangemediatype-method"></a>Кдинамикаутпутпин. Чанжемедиатипе, метод

`ChangeMediaType`Метод динамически изменяет тип носителя для соединения. Это изменение может произойти при выполнении графа фильтра. После вызова этого метода не удается доставить образцы со старым типом носителя. Вызывающий объект должен гарантировать, что старые примеры не ожидаются.

## <a name="syntax"></a>Синтаксис


```C++
HRESULT ChangeMediaType(
   const CMediaType *pmt
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*состоит* 
</dt> <dd>

Указатель на структуру [**\_ \_ типа мультимедиа AM**](/windows/win32/api/strmif/ns-strmif-am_media_type) , указывающую тип носителя.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Возвращает значение **HRESULT** . Возможные значения включают в себя, показанные в следующей таблице.



| Код возврата                                                                                           | Описание                                                                                                                              |
|-------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------|
| <dl> <dt>**\_ОК**</dt> </dl>                  | Успешно.<br/>                                                                                                                      |
| <dl> <dt>**\_Ошибка E**</dt> </dl>                | Ошибка. Возможно, фильтр-владелец не вызывал [**кдинамикаутпутпин:: сетконфигинфо**](cdynamicoutputpin-setconfiginfo.md).<br/> |
| <dl> <dt>**VFW \_ E \_ не \_ подключен**</dt> </dl> | ПИН-код не подключен.<br/>                                                                                                     |



 

## <a name="remarks"></a>Remarks

Перед вызовом этого метода вызовите метод [**кдинамикаутпутпин:: стартусингаутпутпин**](cdynamicoutputpin-startusingoutputpin.md) .

Этот метод сначала проверяет, может ли нисходящий входной ПИН-код принимать новый формат без повторного подключения. Он запрашивает входной ПИН-код для интерфейса [**ипинконнектион**](/windows/desktop/api/Strmif/nn-strmif-ipinconnection) . Если входной ПИН-код поддерживает **ипинконнектион**, метод вызывает метод [**Ипинконнектион::D инамиккуерякцепт**](/windows/desktop/api/Strmif/nf-strmif-ipinconnection-dynamicqueryaccept) с предложенным типом мультимедиа. Если входной ПИН-код принимает новый тип мультимедиа, метод вызывает метод [**Ипин:: рецеивеконнектион**](/windows/desktop/api/Strmif/nf-strmif-ipin-receiveconnection) и повторно согласовывает требования распределителя.

С другой стороны, если подчиненный ПИН-код не поддерживает **ипинконнектион** или если он отклоняет новый тип мультимедиа, метод вызывает метод [**Кдинамикаутпутпин::D инамикреконнект**](cdynamicoutputpin-dynamicreconnect.md) для выполнения динамического повторного подключения.

## <a name="requirements"></a>Требования



| Требование | Значение |
|--------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Заголовок<br/>  | <dl> <dt>амфилтер. h (включает Потоки. h)</dt> </dl>                                                                                  |
| Библиотека<br/> | <dl> <dt>Стрмбасе. lib (розничные сборки); </dt> <dt>Стрмбасд. lib (отладочные сборки)</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[**Класс Кдинамикаутпутпин**](cdynamicoutputpin.md)
</dt> </dl>

 

 




