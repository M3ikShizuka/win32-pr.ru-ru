---
description: Класс Кмсгсреад является классом рабочего потока, который помещает запросы в поток очереди для асинхронного выполнения.
ms.assetid: 57e50abf-c90d-4c8f-afd8-25f29b6a0376
title: Класс Кмсгсреад
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- CMsgThread
api_type:
- COM
api_location: ''
ms.openlocfilehash: 021683808900a7265f4708dae0bb29ff6d07f6619430ed5687eb77d5e2332a3b
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119813704"
---
# <a name="cmsgthread-class"></a>Класс Кмсгсреад

`CMsgThread`Класс является классом рабочего потока, который помещает запросы в поток очереди для асинхронного выполнения. Чтобы использовать этот класс, сделайте класс производным от него и переопределите функцию члена [**кмсгсреад:: среадмессажепрок**](cmsgthread-threadmessageproc.md) . Функция члена **среадмессажепрок** выполняет каждый запрос. Клиентские функции и функция-член **среадмессажепрок** должны совместно использовать общее определение параметров в объекте [**КМСГ**](cmsg.md) .

Согласованный механизм сообщает рабочему потоку о завершении работы. Как правило, это будет одно из значений кода сообщения **uiacp** класса [**КМСГ**](cmsg.md) .

Рекомендуется отправить это сообщение из деструктора производного класса и вызвать функцию-член [**кмсгсреад:: ваитфорсреадексит**](cmsgthread-waitforthreadexit.md) перед завершением уничтожения производного класса.



| Защищенные члены данных                                    | Описание                                                                                                                           |
|-----------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------|
| m \_ хсем                                                   | Указывает дескриптор, используемый для сигнализации.                                                                                                |
| \_Блокировка m                                                   | Обеспечивает защиту доступа к спискам.                                                                                                             |
| m \_ лваитинг                                               | Указывает на ожидание освобождения потока.                                                                                                  |
| m \_ среадкуеуе                                            | Переопределяет функцию члена [**кмсгсреад:: жетсреадмсг**](cmsgthread-getthreadmsg.md) и блокирует объекты, отличные от этой очереди. |
| Функции элементов                                          | Описание                                                                                                                           |
| [**кмсгсреад**](cmsgthread-cmsgthread.md)               | Конструирует объект **кмсгсреад** .                                                                                                   |
| [**CreateThread**](cmsgthread-createthread.md)           | Создает поток.                                                                                                                     |
| [**жетсреадхандле**](cmsgthread-getthreadhandle.md)     | Получает маркер потока.                                                                                                          |
| [**жетсреадид**](cmsgthread-getthreadid.md)             | Возвращает идентификатор потока.                                                                                               |
| [**жетсреадприорити**](cmsgthread-getthreadpriority.md) | Возвращает текущий приоритет потока.                                                                                                |
| [**путсреадмсг**](cmsgthread-putthreadmsg.md)           | Ставит в очередь запрос на выполнение от рабочего потока.                                                                                  |
| [**ResumeThread**](cmsgthread-resumethread.md)           | Возобновляет работу рабочего потока.                                                                                         |
| [**SetThreadPriority**](cmsgthread-setthreadpriority.md) | Задает новое значение приоритета потока.                                                                                       |
| [**SuspendThread**](cmsgthread-suspendthread.md)         | Приостанавливает работу выполняющегося потока.                                                                                           |
| [**ваитфорсреадексит**](cmsgthread-waitforthreadexit.md) | Блокируется до тех пор, пока поток не завершит работу после вызова функции-члена [**кмсгсреад:: суспендсреад**](cmsgthread-suspendthread.md) . |
| Переопределяемые функции элементов                              | Описание                                                                                                                           |
| [**жетсреадмсг**](cmsgthread-getthreadmsg.md)           | Извлекает объект [**КМСГ**](cmsg.md) в очереди, содержащий запрос.                                                                  |
| [**онсреадинит**](cmsgthread-onthreadinit.md)           | Обеспечивает инициализацию потока.                                                                                                  |
| [**среадмессажепрок**](cmsgthread-threadmessageproc.md) | Обрабатывает запросы. Это Чистая виртуальная функция-член.                                                                           |



 

 

 



