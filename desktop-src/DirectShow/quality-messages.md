---
description: Сообщения о контроле качества
ms.assetid: ff98cb51-6300-470d-b696-5e27591c6b3f
title: Сообщения о контроле качества
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b290833be7550e255590a5bcda449ce19743c0b4
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/06/2021
ms.locfileid: "104537148"
---
# <a name="quality-messages"></a>Сообщения о контроле качества

Сообщения качества определяются структурой [**качества**](/windows/win32/api/strmif/ns-strmif-quality) . Эта структура содержит следующие члены:

-   **Тип:** Определяется перечислением [**куалитимессажетипе**](/windows/win32/api/strmif/ne-strmif-qualitymessagetype) ; либо Фамине, указывающее, что фильтр получает слишком мало данных, или переполнение, указывающее, что фильтр получает слишком много данных.
-   **Пропорции:** Запрошенная коррекция скорости передачи данных от базового плана 1000. Например, 750 означает 75%, а 1500 — 150%.
-   **Позднее:** Справочное время, указывающее, как поступил последний пример. Значение является отрицательным, если пример приступил на ранних этапах.
-   **Отметка времени:** Метка времени для последнего примера.

Например, предположим, что пример с меткой времени 240 миллисекунд (МС) достигает модуля подготовки отчетов 280 МС, потоковое время. Модуль подготовки отчетов создает сообщение качества типа Фамине. Пример приступил к 40 мс в конце, поэтому **последний** член равен 400000. (Все значения времени ссылки находятся в 100-наносекундных единицах.) Элемент **timestamp** имеет значение 2400000.

Для элемента с **пропорциями** модуль подготовки отчетов может использовать скользящее среднее для вычисления значения. Возможно, примеры поступают на момент времени, и этот пример является аномалией. В этом случае модуль подготовки отчетов может запросить только небольшое исправление. С другой стороны, если выборки постоянно поздно, модуль подготовки отчетов может запросить более крупную коррекцию.

Контроль качества обрабатывается через интерфейс [**икуалитиконтрол**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol) . Он содержит два метода.

-   [**Уведомлять**](/windows/desktop/api/Strmif/nf-strmif-iqualitycontrol-notify): отправляет сообщение с качеством.
-   [**Сетсинк**](/windows/desktop/api/Strmif/nf-strmif-iqualitycontrol-setsink): указывает пользовательский диспетчер качества.

Объект, реализующий **икуалитиконтрол** , получает сообщения о повышении качества с помощью метода **Notify** . Он может либо обрабатывать сообщение, либо передавать сообщение другому объекту. Если приложение вызывает метод **сетсинк** объекта, объект должен передать управление качеством указанному диспетчеру качества.

 

 



