---
description: Класс Кбасефилтер является абстрактным классом для реализации фильтров.
ms.assetid: 4610c8d6-9d7d-47ca-b1d5-0a867153a5f6
title: Класс Кбасефилтер (Амфилтер. h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- CBaseFilter
api_type:
- COM
api_location:
- Strmbase.lib
- Strmbase.dll
- Strmbasd.lib
- Strmbasd.dll
ms.openlocfilehash: fe032d0614b1067c9351b643d457a718b4917a8b
ms.sourcegitcommit: c8ec1ded1ffffc364d3c4f560bb2171da0dc5040
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/22/2021
ms.locfileid: "105657683"
---
# <a name="cbasefilter-class"></a>Класс Кбасефилтер

![Иерархия классов кбасефилтер](images/filter01.png)

`CBaseFilter`Класс является абстрактным классом для реализации фильтров. Чтобы реализовать фильтр с помощью этого класса, необходимо выполнить по крайней мере следующие шаги.

-   Создайте класс, производный от `CBaseFilter` .
-   Включить переменные-члены, определяющие контакты в фильтре. ПИН-коды должны наследоваться от класса [**кбасепин**](cbasepin.md) .
-   Переопределите чистый виртуальный метод [**кбасефилтер:: жетпин**](cbasefilter-getpin.md), который получает в фильтре ПИН-коды.
-   Переопределите чистый виртуальный метод [**кбасефилтер:: жетпинкаунт**](cbasefilter-getpincount.md), который получает количество ПИН-кодов.
-   Предоставляют методы для создания, обработки и подготовки к просмотру образцов мультимедиа.

Несколько базовых классов являются производными от `CBaseFilter` , включая [**ксаурце**](csource.md), [**кбасерендерер**](cbaserenderer.md)и [**ктрансформфилтер**](ctransformfilter.md). Обычно проще реализовать фильтр с одним из этих специализированных классов вместо `CBaseFilter` прямого использования.



| Защищенные переменные членов                                     | Описание                                                                                        |
|----------------------------------------------------------------|----------------------------------------------------------------------------------------------------|
| [**\_штат m**](cbasefilter-m-state.md)                        | Текущее состояние фильтра.                                                                       |
| [**m \_ пклокк**](cbasefilter-m-pclock.md)                      | Указатель на время ссылки на фильтр.                                                           |
| [**m \_ тстарт**](cbasefilter-m-tstart.md)                      | Справочное время, соответствующее времени потока 0.                                                  |
| [**m \_ CLSID**](cbasefilter-m-clsid.md)                        | Идентификатор класса (CLSID) фильтра.                                                            |
| [**m \_ плокк**](cbasefilter-m-plock.md)                        | Указатель на критическую секцию, используемый для сериализации изменений состояния.                             |
| [**m \_ pName**](cbasefilter-m-pname.md)                        | Имя фильтра.                                                                                       |
| [**m \_ пграф**](cbasefilter-m-pgraph.md)                      | Указатель на диспетчер графа фильтров.                                                               |
| [**m \_ псинк**](cbasefilter-m-psink.md)                        | Указатель на интерфейс [**имедиаевентсинк**](/windows/desktop/api/Strmif/nn-strmif-imediaeventsink) в диспетчере графов фильтров.   |
| [**m \_ пинверсион**](cbasefilter-m-pinversion.md)              | Текущая версия набора ПИН-кодов в этом фильтре.                                                 |
| Открытые методы                                                 | Описание                                                                                        |
| [**кбасефилтер**](cbasefilter-cbasefilter.md)                 | Метод конструктора.                                                                                |
| [**~ Кбасефилтер**](cbasefilter--cbasefilter.md)              | Метод деструктора.                                                                                 |
| [**стреамтиме**](cbasefilter-streamtime.md)                   | Извлекает текущее время потока. Виртуализаци.                                                        |
| [**IsActive**](cbasefilter-isactive.md)                       | Определяет, активен ли фильтр (запущен или приостановлен).                             |
| [**IsStopped**](cbasefilter-isstopped.md)                     | Определяет, остановлен ли фильтр.                                                |
| [**нотифевент**](cbasefilter-notifyevent.md)                 | Отправляет уведомление о событии диспетчеру графа фильтров.                                           |
| [**жетфилтерграф**](cbasefilter-getfiltergraph.md)           | Извлекает указатель на диспетчер графов фильтров.                                                   |
| [**реконнектпин**](cbasefilter-reconnectpin.md)               | Прерывает существующее подключение к заданному ПИН-коду и повторно подключает его к тому же ПИН-коду, используя указанный тип носителя. |
| [**жетпинверсион**](cbasefilter-getpinversion.md)             | Возвращает номер версии для набора ПИН-кодов в этом фильтре. Виртуализаци.                            |
| [**инкрементпинверсион**](cbasefilter-incrementpinversion.md) | Увеличивает номер версии набора ПИН-кодов.                                                  |
| [**жетсетупдата**](cbasefilter-getsetupdata.md)               | Извлекает данные регистрации для фильтра. Виртуализаци.                                           |
| Чистые виртуальные методы                                           | Описание                                                                                        |
| [**жетпинкаунт**](cbasefilter-getpincount.md)                 | Возвращает количество ПИН-кодов.                                                                      |
| [**жетпин**](cbasefilter-getpin.md)                           | Извлекает ПИН-код.                                                                                   |
| Методы IPersist                                               | Описание                                                                                        |
| [**GetClassID**](cbasefilter-getclassid.md)                   | Получает идентификатор класса.                                                                    |
| Методы Имедиафилтер                                           | Описание                                                                                        |
| [**GetState**](cbasefilter-getstate.md)                       | Получает состояние фильтра (запущено, остановлено или приостановлено).                                        |
| [**сетсинксаурце**](cbasefilter-setsyncsource.md)             | Задает время ссылки для фильтра.                                                             |
| [**жетсинксаурце**](cbasefilter-getsyncsource.md)             | Извлекает ссылочное время, используемое фильтром.                                            |
| [**Stop**](cbasefilter-stop.md)                               | Останавливает фильтр.                                                                                  |
| [**Пауза**](cbasefilter-pause.md)                             | Приостанавливает фильтр.                                                                                 |
| [**Выполнить**](cbasefilter-run.md)                                 | Выполняет фильтр.                                                                                   |
| Методы Ибасефилтер                                            | Описание                                                                                        |
| [**енумпинс**](cbasefilter-enumpins.md)                       | Перечисляет ПИН-коды этого фильтра.                                                                |
| [**финдпин**](cbasefilter-findpin.md)                         | Извлекает ПИН-код с указанным идентификатором.                                                   |
| [**куерифилтеринфо**](cbasefilter-queryfilterinfo.md)         | Извлекает сведения о фильтре.                                                            |
| [**жоинфилтерграф**](cbasefilter-joinfiltergraph.md)         | Уведомляет фильтр о соединении или в левой части графа фильтра.                                     |
| [**куеривендоринфо**](cbasefilter-queryvendorinfo.md)         | Извлекает строку, содержащую сведения о поставщике.                                                  |
| Методы Иамовиесетуп                                           | Описание                                                                                        |
| [**Зарегистрировать**](cbasefilter-register.md)                       | Добавляет фильтр в реестр.                                                                   |
| [**Отменить регистрацию**](cbasefilter-unregister.md)                   | Удаляет фильтр из реестра.                                                              |



 

## <a name="requirements"></a>Требования



| Требование | Значение |
|--------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Header<br/>  | <dl> <dt>Амфилтер. h (включение Streams. h)</dt> </dl>                                                                                  |
| Библиотека<br/> | <dl> <dt>Стрмбасе. lib (розничные сборки); </dt> <dt>Стрмбасд. lib (отладочные сборки)</dt> </dl> |



 

 




