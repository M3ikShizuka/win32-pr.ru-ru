---
description: Потоковый элемент управления
ms.assetid: b529b38c-a25c-42dd-aee1-5d263c94202d
title: Потоковый элемент управления
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c41cee586737e131d4a32508b9ba6dd9ef1bd3b2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "103911092"
---
# <a name="stream-control"></a>Потоковый элемент управления

Интерфейс [**ивмрвидеостреамконтрол**](/windows/desktop/api/Strmif/nn-strmif-ivmrvideostreamcontrol) на входных ПИН-кодах VMR позволяет приложениям и вышестоящим фильтрам управлять поведением компонента микшера, включая Z-порядок и активное состояние входных потоков VMR. Несмотря на то, что этот интерфейс предоставляется на ПИН-кодах, он работает с компонентом микшера VMR, поэтому он доступен только при загрузке микшера, то есть когда VMR обрабатывает несколько входных потоков. Вышестоящий фильтр использует методы [**сетколоркэй**](/windows/desktop/api/Strmif/nf-strmif-ivmrvideostreamcontrol-setcolorkey) и [**жетколоркэй**](/windows/desktop/api/Strmif/nf-strmif-ivmrvideostreamcontrol-getcolorkey) для управления ключом цвета источника. Эти методы позволяют реализовать такие эффекты, как наложение анимации на видео. Просто задайте цветовой ключ для цвета фона потока анимации, и VMR будет смешивать этот поток с другим видеопотоком. Приложениям следует не менять цветовой ключ на какое-либо значение, которое отличается от значения, используемого вышестоящим фильтром, например декодером.

Фильтры используют методы [**жетстреамактивестате**](/windows/desktop/api/Strmif/nf-strmif-ivmrvideostreamcontrol-getstreamactivestate) и [**сетстреамактивестате**](/windows/desktop/api/Strmif/nf-strmif-ivmrvideostreamcontrol-setstreamactivestate) , чтобы сообщить микшеру, следует ли рассчитывать входные данные из указанного пин-кода. Например, декодер Line21 использует эти методы для активации входного ПИН-кода VMR для данных Line21 только при наличии этих данных в потоке. Если задать ПИН-код неактивного состояния, то микшер не будет ждать передачи данных с указанного пин-кода перед компоновкой образа.

 

 



