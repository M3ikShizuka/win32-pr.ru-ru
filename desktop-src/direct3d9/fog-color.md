---
description: Цвет тумана для пиксельных и вершинных туманов задается с помощью \_ состояния рендеринга D3DRS фогколор. Значения состояния рендеринга могут быть любым цветом RGB, указанным в качестве цвета RGBA. Компонент Alpha игнорируется.
ms.assetid: 76366496-553d-4dbf-868d-d58b5377d36a
title: Цвет тумана (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 395bb17c9d6495ade54bc7c761b8c8024c53fbd9a51f620a45ee3a807dc6e20d
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118988004"
---
# <a name="fog-color-direct3d-9"></a>Цвет тумана (Direct3D 9)

Цвет тумана для пиксельных и вершинных туманов задается с помощью \_ состояния рендеринга D3DRS фогколор. Значения состояния рендеринга могут быть любым цветом RGB, указанным в качестве цвета RGBA. Компонент Alpha игнорируется.

В следующем примере C++ для цвета тумана устанавливается белый цвет.


```
/* For this example, the d3dDevice variable is
* a valid pointer to an IDirect3DDevice9 interface.
*/
HRESULT hr;
hr = d3dDevice->SetRenderState(
                    D3DRS_FOGCOLOR,
                    0x00FFFFFF); // Highest 8 bits are not used.
if(FAILED(hr))
    return hr;
```



Туман применяется по-разному с помощью фиксированного конвейера функций и программируемого конвейера.

1.  Если драйвер поддерживает D3DPMISCCAPS \_ фогандспекуларалфа:
    -   Если используется фиксированный конвейер функции и задан параметр D3DRS \_ фогколор, то значение v1. w (в шейдере пикселей) равно значению, заданному в тумане рендерстате.
    -   Если используется программируемый конвейер, то значение v1. w (в шейдере пикселей) равно 0, даже если oD1. w явно записывается в шейдер вершин.
2.  Если драйвер не поддерживает D3DPMISCCAPS \_ фогандспекуларалфа:
    -   Если используется фиксированный конвейер функции и задан параметр D3DRS \_ фогколор, то значение v1. w (в построителе пиксельных шейдеров) равно значению, заданному в тумане рендерстате.
    -   Если Офог явно записывается в шейдер вершин, значение v1. w (в шейдере пикселей) равно Офог, а затем — от 0 до 1.
    -   Если ни один из двух описанных выше вариантов не применяется, значение v1. w (в шейдере пикселей) равно 0, даже если oD1. w явно записывается в шейдер вершин.

Дополнительные сведения см. в разделе [D3DPMISCCAPS](d3dpmisccaps.md).

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Типы туманов](fog-types.md)
</dt> </dl>

 

 



