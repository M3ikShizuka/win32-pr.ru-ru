---
description: С помощью поверхности можно хранить данные любого типа для конкретного приложения. Например, поверхность, представляющая карту в игре, может содержать сведения о ландшафта.
ms.assetid: a66fe0b9-1ccd-4cbd-a3e7-78081047e378
title: Частные данные поверхности (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c010e24f691dc64c75e4dcea428af21d46ebfcb95b31775b9c8db81b2263e6d7
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118520196"
---
# <a name="private-surface-data-direct3d-9"></a>Частные данные поверхности (Direct3D 9)

С помощью поверхности можно хранить данные любого типа для конкретного приложения. Например, поверхность, представляющая карту в игре, может содержать сведения о ландшафта.

Поверхность может иметь более одного закрытого буфера данных. Каждый буфер идентифицируется по идентификатору GUID, указанному при присоединении данных к поверхности.

Чтобы сохранить данные частной поверхности, используйте Сетприватедата, передав указатель на исходный буфер, размер данных и определяемый приложением идентификатор GUID для данных. При необходимости исходные данные могут существовать в виде COM-объекта. в этом случае вы передаете указатель на интерфейс [**IUnknown**](/windows/win32/api/unknwn/nn-unknwn-iunknown) объекта и устанавливаете \_ флаг D3DSPD иункновнпоинтер.

Сетприватедата выделяет внутренний буфер для данных и копирует его. Затем можно безопасно освободить исходный буфер или объект. Ссылка на внутренний буфер или интерфейс освобождается при вызове Фриприватедата. Это происходит автоматически при освобождении поверхности.

Чтобы получить закрытые данные для поверхности, необходимо выделить буфер правильного размера, а затем вызвать метод Жетприватедата, передав ему идентификатор GUID, который был назначен данным. Вы несете ответственность за освобождение любой динамической памяти, используемой для этого буфера. Если данные являются COM-объектом, этот метод извлекает указатель [**IUnknown**](/windows/win32/api/unknwn/nn-unknwn-iunknown) .

Если неизвестно, насколько велик буфер для выделения, сначала вызовите Жетприватедата с нулевым значением в Псизеофдата. Если метод завершается с ошибкой D3DERR \_ MOREDATA, он возвращает необходимое число байтов для буфера.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Поверхности Direct3D](direct3d-surfaces.md)
</dt> </dl>

 

 
