---
description: Рисует форматированный текст. Этот метод поддерживает строки ANSI и Юникод.
ms.assetid: c1c3657e-632e-46a5-91da-e102ac8ef9bb
title: 'ID3DXFont: метод:D Равтекст (D3dx9core. h)'
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- ID3DXFont.DrawText
api_type:
- COM
api_location:
- d3dx9.lib
- d3dx9.dll
ms.openlocfilehash: d2a0b2dc61e2dd2a41f5a2fe864973fca91a5e471c75d6afc353c147f7a00fcd
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118987424"
---
# <a name="id3dxfontdrawtext-method"></a>ID3DXFont: метод:D Равтекст

Рисует форматированный текст. Этот метод поддерживает строки ANSI и Юникод.

## <a name="syntax"></a>Синтаксис


```C++
INT DrawText(
  [in] LPD3DXSPRITE pSprite,
  [in] LPCTSTR      pString,
  [in] INT          Count,
  [in] LPRECT       pRect,
  [in] DWORD        Format,
  [in] D3DCOLOR     Color
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*псприте* \[ окне\]
</dt> <dd>

Тип: **[ **LPD3DXSPRITE**](id3dxsprite.md)**

Указатель на объект [**ID3DXSprite**](id3dxsprite.md) , содержащий строку. Может иметь **значение NULL**, в этом случае Direct3D будет отображать строку с собственным объектом Sprite. Чтобы повысить эффективность, необходимо указать объект Sprite, если **DrawText** должен быть вызван более одного раза в строке.

</dd> <dt>

*пстринг* \[ окне\]
</dt> <dd>

Тип: **[ **LPCTSTR**](../winprog/windows-data-types.md)**

Указатель на строку для рисования. Если параметр count имеет значение-1, строка должна завершаться нулем.

</dd> <dt>

*Количество* \[ окне\]
</dt> <dd>

Тип: **[ **int**](../winprog/windows-data-types.md)**

Указывает количество знаков в строке. Если Count равно-1, то параметр Пстринг считается указателем на строку, завершающимся нулем, а **DrawText** автоматически выдает число символов.

</dd> <dt>

*прект* \[ окне\]
</dt> <dd>

Тип: **[ **лпрект**](../winprog/windows-data-types.md)**

Указатель на структуру [**Rect**](/previous-versions//dd162897(v=vs.85)) , содержащую прямоугольник в логических координатах, в котором должен быть отформатирован текст. Значение координаты правой стороны прямоугольника должно быть больше значения его левой стороны. Аналогично, значение координаты нижнего значения должно быть больше верхнего.

</dd> <dt>

*Формат* \[ окне\]
</dt> <dd>

Тип: **[ **DWORD**](../winprog/windows-data-types.md)**

Задает метод форматирования текста. Это может быть любое сочетание следующих значений:



| Значение                                                                                                                                                         | Значение                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="DT_BOTTOM"></span><span id="dt_bottom"></span><dl> <dt>**DT, \_ Нижний**</dt> </dl>             | Выравнивает текст по нижней части прямоугольника. Это значение должно сочетаться с DT \_ SINGLELINE.<br/>                                                                                                                                                                                                                                                                                                                                                                                      |
| <span id="DT_CALCRECT"></span><span id="dt_calcrect"></span><dl> <dt>**DT \_ калкрект**</dt> </dl>       | Определяет ширину и высоту прямоугольника. Если имеется несколько строк текста, **DrawText** использует ширину прямоугольника, на который указывает параметр прект, и расширяет основу прямоугольника, чтобы она была привязана к последней строке текста. Если имеется только одна строка текста, **DrawText** изменяет правую часть прямоугольника таким образом, чтобы она была привязана к последнему символу в строке. В любом случае **DrawText** Возвращает высоту форматированного текста, но не рисует текст.<br/> |
| <span id="DT_CENTER"></span><span id="dt_center"></span><dl> <dt>**\_центр DT**</dt> </dl>             | Центрирование текста по горизонтали в прямоугольнике.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| <span id="DT_EXPANDTABS"></span><span id="dt_expandtabs"></span><dl> <dt>**DT \_ експандтабс**</dt> </dl> | Расширяет табуляцию. По умолчанию количество символов на шаг табуляции равно восьми.<br/>                                                                                                                                                                                                                                                                                                                                                                                                               |
| <span id="DT_LEFT"></span><span id="dt_left"></span><dl> <dt>**DT \_ слева**</dt> </dl>                   | Выровняйте текст по левому краю.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span id="DT_NOCLIP"></span><span id="dt_noclip"></span><dl> <dt>**DT — \_ Clip**</dt> </dl>             | Рисование без усечения. **DrawText** несколько быстрее при использовании "DT" \_ .<br/>                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span id="DT_RIGHT"></span><span id="dt_right"></span><dl> <dt>**DT, \_ вправо**</dt> </dl>                | Выровняйте текст по правому краю.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| <span id="DT_RTLREADING"></span><span id="dt_rtlreading"></span><dl> <dt>**DT \_ RTLREADING**</dt> </dl> | Отображает текст в порядке чтения справа налево для двунаправленного текста при выборе шрифта для иврита или арабского языка. По умолчанию для всех текстов используется порядок чтения слева направо.<br/>                                                                                                                                                                                                                                                                                                                   |
| <span id="DT_SINGLELINE"></span><span id="dt_singleline"></span><dl> <dt>**DT \_ SINGLELINE**</dt> </dl> | Отображает текст только в одной строке. Возвраты каретки и перевода строки не нарушают линию.<br/>                                                                                                                                                                                                                                                                                                                                                                                              |
| <span id="DT_TOP"></span><span id="dt_top"></span><dl> <dt>**DT, \_ верхнее**</dt> </dl>                      | Выравнивание текста по верхнему краю.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span id="DT_VCENTER"></span><span id="dt_vcenter"></span><dl> <dt>**DT \_ vCenter**</dt> </dl>          | Выравнивание текста по вертикали (только одна строка).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| <span id="DT_WORDBREAK"></span><span id="dt_wordbreak"></span><dl> <dt>**DT \_ специализированные**</dt> </dl>    | Разбивает слова. Строки автоматически прерываются между словами, если слово выходит за границы прямоугольника, заданного параметром прект. Последовательность возврата каретки/перевода строки также прерывает линию.<br/>                                                                                                                                                                                                                                                                            |



 

</dd> <dt>

*Цветовая палитра* \[ окне\]
</dt> <dd>

Тип: **[ **D3DCOLOR**](d3dcolor.md)**

Цвет текста. Дополнительные сведения см. в разделе [**D3DCOLOR**](d3dcolor.md).

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Тип: **[ **int**](../winprog/windows-data-types.md)**

Если функция выполнена удачно, возвращаемое значение является высотой текста в логических единицах. Если \_ указан параметр DT vCenter или DT \_ Bottom, возвращаемое значение является смещением от прект (сверху вниз) отображаемого текста. Если функция выполняется неудачно, возвращается нулевое значение.

## <a name="remarks"></a>Remarks

Параметры этого метода очень похожи на функции GDI [**DrawText**](/windows/win32/api/winuser/nf-winuser-drawtext) .

Этот метод поддерживает строки как в ANSI, так и в Юникоде.

Этот метод должен вызываться внутри [**бегинсцене**](/windows/desktop/api) ... Блок [**ендсцене**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-endscene) . Единственным исключением является то, что приложение вызывает **DrawText** с DT \_ калкрект для вычисления размера данного блока текста.

Если не \_ используется формат DT, этот метод вырезает текст таким образом, чтобы он не выходил за пределы указанного прямоугольника. Предполагается, что все форматирование имеет несколько строк, если не \_ указан формат DT SINGLELINE.

Если выбранный шрифт слишком велик для прямоугольника, этот метод не пытается заменить шрифт меньшего размера.

Этот метод поддерживает только шрифты, для которых в качестве escape-последовательности и ориентации заданы нулевые значения.

## <a name="requirements"></a>Требования



| Требование | Значение |
|--------------------|----------------------------------------------------------------------------------------|
| Заголовок<br/>  | <dl> <dt>D3dx9core. h</dt> </dl> |
| Библиотека<br/> | <dl> <dt>D3dx9. lib</dt> </dl>   |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[ID3DXFont](id3dxfont.md)
</dt> </dl>

 

 
