---
description: Создает сетку с переупорядоченными лицами и вершинами для оптимизации производительности рисования. Этот метод переупорядочивает существующую сетку.
ms.assetid: 2cdaf627-d1d3-44f0-a5ae-9023d4b0de45
title: 'Метод ID3DXMesh:: Оптимизеинплаце (D3DX9Mesh. h)'
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- ID3DXMesh.OptimizeInplace
api_type:
- COM
api_location:
- d3dx9.lib
- d3dx9.dll
ms.openlocfilehash: 0075e7a0b823f0d747859a4717a440e0c244fde76076e4b285c7d1b2a7e78d00
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119120808"
---
# <a name="id3dxmeshoptimizeinplace-method"></a>Метод ID3DXMesh:: Оптимизеинплаце

Создает сетку с переупорядоченными лицами и вершинами для оптимизации производительности рисования. Этот метод переупорядочивает существующую сетку.

## <a name="syntax"></a>Синтаксис


```C++
HRESULT OptimizeInplace(
  [in]        DWORD        Flags,
  [in]  const DWORD        *pAdjacencyIn,
  [out]       DWORD        *pAdjacencyOut,
  [out]       DWORD        *pFaceRemap,
  [out]       LPD3DXBUFFER *ppVertexRemap
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*Флаги* \[ окне\]
</dt> <dd>

Тип: **[ **DWORD**](../winprog/windows-data-types.md)**

Сочетание одного или нескольких флагов [**D3DXMESHOPT**](./d3dxmeshopt.md) , определяющих тип выполняемой оптимизации.

</dd> <dt>

*паджаценциин* \[ окне\]
</dt> <dd>

Тип: **const [**DWORD**](../winprog/windows-data-types.md) \***

Указатель на массив из трех DWORD на грань, указывающий три соседа для каждой грани в исходной сетке. Если у границы нет смежных сторон, значение равно 0xFFFFFFFF.

</dd> <dt>

*паджаценциаут* \[ заполняет\]
</dt> <dd>

Тип: **[ **DWORD**](../winprog/windows-data-types.md)\***

Указатель на массив из трех DWORD на грань, указывающий три соседа для каждой грани в оптимизированной сетке. Если у границы нет смежных сторон, значение равно 0xFFFFFFFF. Если значение, заданное для этого аргумента, равно **null**, то не возвращаются смежные данные.

</dd> <dt>

*пфацеремап* \[ заполняет\]
</dt> <dd>

Тип: **[ **DWORD**](../winprog/windows-data-types.md)\***

Массив DWORD, по одному на каждый из них, который определяет исходную сетку, соответствующую каждой грани в оптимизированной сетке. Если значение, заданное для этого аргумента, равно **null**, данные сопоставления лиц не возвращаются.

</dd> <dt>

*ппвертексремап* \[ заполняет\]
</dt> <dd>

Тип: **[ **LPD3DXBUFFER**](id3dxbuffer.md)\***

Адрес указателя на интерфейс [**ID3DXBuffer**](id3dxbuffer.md) , который содержит DWORD для каждой вершины, указывающий, как новые вершины сопоставляются со старыми вершинами. Такое перераспределение полезно, если необходимо изменить внешние данные на основе нового сопоставления вершин. Если значение, заданное для этого аргумента, равно **null**, данные сопоставления вершин не возвращаются.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Тип: **[ **HRESULT**](https://msdn.microsoft.com/library/Bb401631(v=MSDN.10).aspx)**

Если метод выполнен успешно, возвращается значение D3D \_ ОК. В случае сбоя метода возвращаемое значение может быть одним из следующих: D3DERR \_ инвалидкалл, D3DXERR \_ Каннотаттрсорт, E \_ OUTOFMEMORY.

## <a name="remarks"></a>Remarks

Перед выполнением **ID3DXMesh:: оптимизеинплаце** приложение должно создать буфер соседа путем вызова [**ID3DXBaseMesh:: женератеаджаценци**](id3dxbasemesh--generateadjacency.md). В буфере соседка содержатся смежные данные, например список краев и сторон, расположенных рядом друг с другом.

> [!Note]  
> Этот метод завершится ошибкой, если в сетке используется буфер вершин совместно с другой сеткой, если только D3DXMESHOPT \_ игноревертс не установлен в флагах.

 

## <a name="requirements"></a>Требования



| Требование | Значение |
|--------------------|----------------------------------------------------------------------------------------|
| Заголовок<br/>  | <dl> <dt>D3DX9Mesh. h</dt> </dl> |
| Библиотека<br/> | <dl> <dt>D3dx9. lib</dt> </dl>   |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[ID3DXMesh](id3dxmesh.md)
</dt> <dt>

[**ID3DXMesh:: OPTIMIZE**](id3dxmesh--optimize.md)
</dt> </dl>

 

 
