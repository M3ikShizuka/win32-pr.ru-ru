---
description: Гибкие константы формата вершин или коды ФВФ используются для описания содержимого вершин, чередующихся в одном потоке данных, который будет обрабатываться конвейером с фиксированной функцией.
ms.assetid: 85d9f5b2-8e4a-4f92-a587-eae5b293778c
title: D3DFVF
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 56136b57aa0af7e8a7d4050f9feb6e1e3e92f3b6
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "126966778"
---
# <a name="d3dfvf"></a>D3DFVF

Гибкие константы формата вершин или коды ФВФ используются для описания содержимого вершин, чередующихся в одном потоке данных, который будет обрабатываться конвейером с фиксированной функцией.

## <a name="vertex-data-flags"></a>Флаги данных вершин

Следующие флаги описывают формат вершины. Сведения о форматах вершин см. в разделе [фиксированная функция Фвф Codes (Direct3D 9)](fixed-function-fvf-codes.md).



| \#определенно                            | Описание                                                                                                                                                                                                                                                                                                                                                             | Порядок данных и тип                                                                                       |
|-------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------|
| D3DFVF \_ диффузный                     | Формат вершины включает компонент рассеянного цвета.                                                                                                                                                                                                                                                                                                                       | DWORD в порядке ARGB. См. [**D3DCOLOR \_ ARGB**](d3dcolor-argb.md).                                         |
| D3DFVF, \_ Обычная                      | Формат вершины включает вектор нормали вершины. Этот флаг нельзя использовать с \_ флагом D3DFVF ксизрхв.                                                                                                                                                                                                                                                                   | float, float, float                                                                                       |
| D3DFVF \_ псизе                       | Формат вершины, указанный в кегле. Этот размер выражается в единицах области камеры для вершин, которые не преобразуются и освещены, и в единицах устройства для преобразованных и освещенных вершин.                                                                                                                                                                          | FLOAT                                                                                                     |
| \_Зеркальное отражение D3DFVF                    | Формат вершины включает компонент зеркального цвета.                                                                                                                                                                                                                                                                                                                      | DWORD в порядке ARGB. См. [**D3DCOLOR \_ ARGB**](d3dcolor-argb.md).                                         |
| D3DFVF \_ XYZ                         | Формат вершины включает в себя расположение непреобразованной вершины. Этот флаг нельзя использовать с \_ флагом D3DFVF ксизрхв.                                                                                                                                                                                                                                                  | float, float, float.                                                                                      |
| D3DFVF \_ ксизрхв                      | Формат вершины включает в себя расположение преобразованной вершины. Этот флаг нельзя использовать с \_ \_ обычными флагами D3DFVF XYZ или D3DFVF.                                                                                                                                                                                                                                     | float, float, float, float.                                                                               |
| D3DFVF \_ XYZB1 через D3DFVF \_ XYZB5 | Формат вершины содержит данные о положении и соответствующее число значений весов (бета-версии), используемых для многоматричных операций смешения вершин. В настоящее время в Direct3D можно смешивать до трех весовых значений и четырех матриц смешения. Дополнительные сведения об использовании матриц смешения см. в разделе [индексированное смешение вершин (Direct3D 9)](indexed-vertex-blending.md). | 1, 2 или 3 с плавающей запятой. При \_ использовании D3DFVF ластбета \_ UBYTE4 последний вес смешения обрабатывается как DWORD. |
| D3DFVF \_ ксизв                        | Формат вершины содержит преобразованные и обрезанные данные (x, y, z, w). Процессвертицес не вызывает Clipper, вместо вывода данных в координатах клипа. Эта константа предназначена для и может использоваться только с, программируемым конвейером вершин.                                                                                                                 | float, float, float, float                                                                                |



 

## <a name="texture-flags"></a>Флаги текстуры

Следующие флаги описывают флаги текстуры, используемые конвейером с фиксированной функцией.



| \#определенно                          | Описание                                                                                                                                                                                                                                                                        |
|-----------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| D3DFVF \_ TEX0 — D3DFVF \_ TEX8       | Число наборов координат текстуры для этой вершины. Фактические значения для этих флагов не являются последовательными.                                                                                                                                                                           |
| D3DFVF \_ текскурдсизен (курдиндекс) | Определите набор данных для координат текстуры. n указывает размер координат текстуры. Курдиндекс указывает номер индекса координаты текстуры. См. раздел [**D3DFVF \_ Текскурдсизен**](d3dfvf-texcoordsizen.md) and [текстурные координаты и этапы текстуры](texture-coordinates.md). |



 

## <a name="mask-flags"></a>Флаги Маски

Следующие флаги описывают Флаги Маски, используемые конвейером с фиксированной функцией.



| \#определенно                             | Описание                                           |
|--------------------------------------|-------------------------------------------------------|
| \_Маска расположения \_ D3DFVF               | Маска для битов позиций.                               |
| D3DFVF \_ RESERVED0, D3DFVF \_ RESERVED2 | Значения маски для зарезервированных битов в ФВФ. Не используйте. |
| D3DFVF \_ текскаунт \_ Маска               | Значение маски для битов флагов текстуры.                     |



 

## <a name="miscellaneous-flags"></a>Прочие флаги

Следующие флаги описывают различные флаги, используемые конвейером с фиксированной функцией.



<table>
<colgroup>
<col  />
<col  />
</colgroup>
<tbody>
<tr class="odd">
<td>#определенно</td>
<td>Описание</td>
</tr>
<tr class="even">
<td>D3DFVF_LASTBETA_D3DCOLOR</td>
<td>Последнее поле бета-версии в данных о положении вершины будет иметь тип D3DCOLOR. Данные в полях бета-версии используются с обложкой палитры матрицы для указания индексов матрицы.</td>
</tr>
<tr class="odd">
<td>D3DFVF_LASTBETA_UBYTE4</td>
<td>Последнее поле бета-версии в данных о положении вершины будет иметь тип UBYTE4. Данные в полях бета-версии используются с обложкой палитры матрицы для указания индексов матрицы. <span data-codelanguage=""></span>
<table>
<colgroup>
<col  />
</colgroup>
<tbody>
<tr class="odd">
<td><pre><code>// Given the following vertex data definition: 
struct VERTEXPOSITION
{
   float pos[3];
   union 
   {
      float beta[5];
      struct
      {
         float weights[4];
         DWORD MatrixIndices;  // Used as UBYTEs
      }
   }
};</code></pre></td>
</tr>
</tbody>
</table>

<p>Заданный ФВФ объявляется как: D3DFVF_XYZB5 | D3DFVF_LASTBETA_UBYTE4. Вес и Матриксиндицес включены в бета-версию [5], где D3DFVF_LASTBETA_UBYTE4 говорит о том, что последний DWORD в бета-версии [5] имеет тип UBYTE4.</p></td>
</tr>
<tr class="even">
<td>D3DFVF_TEXCOUNT_SHIFT</td>
<td>Число битов, на которое смещается целочисленное значение, определяющее число координат текстуры для вершины. Это значение можно использовать, как показано ниже.
<div class="code">
<span data-codelanguage=""></span>
<table>
<colgroup>
<col  />
</colgroup>
<tbody>
<tr class="odd">
<td><pre><code>DWORD dwNumTextures = 1;  // Vertex has only one set of coordinates.

// Shift the value for use when creating a 
//   flexible vertex format (FVF) combination.
dwFVF = dwNumTextures << D3DFVF_TEXCOUNT_SHIFT;

// Now, create an FVF combination using the shifted value.</code></pre></td>
</tr>
</tbody>
</table>

</div></td>
</tr>
</tbody>
</table>



 

### <a name="examples"></a>Примеры

В следующих примерах показаны другие общие сочетания флагов.


```
// Untransformed vertex for lit, untextured, Gouraud-shaded content.
dwFVF = ( D3DFVF_XYZ | D3DFVF_DIFFUSE );
```




```
// Untransformed vertex for unlit, untextured, Gouraud-shaded 
//   content with diffuse material color specified per vertex.
dwFVF = ( D3DFVF_XYZ | D3DFVF_NORMAL | D3DFVF_DIFFUSE );
```




```
// Untransformed vertex for light-map-based lighting.
dwFVF = ( D3DFVF_XYZ | D3DFVF_TEX2 );
```




```
// Transformed vertex for light-map-based lighting with shared rhw.
dwFVF = ( D3DFVF_XYZRHW | D3DFVF_TEX2 );
```




```
// Heavyweight vertex for unlit, colored content with two 
//   sets of texture coordinates.
dwFVF = ( D3DFVF_XYZ | D3DFVF_NORMAL | D3DFVF_DIFFUSE | 
          D3DFVF_SPECULAR | D3DFVF_TEX2 );
```



## <a name="constant-information"></a>Сведения о константе



| Требование                         | Значение            |
|--------------------------|-------------|
| Заголовок                   | d3d9types. h |
| Минимальная операционная система | Windows 98  |



 

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Константы Direct3D](dx9-graphics-reference-d3d-constants.md)
</dt> <dt>

[Фиксированные коды ФВФ функций (Direct3D 9)](fixed-function-fvf-codes.md)
</dt> <dt>

[Смешение геометрических объектов (Direct3D 9)](geometry-blending.md)
</dt> </dl>

 

 



