---
description: В Direct3D 9 Direct3D позволяет драйверу возвращать коды ошибок, такие как E \_ OUTOFMEMORY, D3DERR \_ АУТОФВИДЕОМЕМОРИ и D3DERR унсуппортедколорарг, \_ чтобы приложение могло отвечать на них.
ms.assetid: 483fdb03-e453-4a1b-bd8e-294e9e9a20c2
title: Внутренние ошибки драйвера (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c81b0ee8ba50edb3c14fbd9a22c9fa9dc93aab8f
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127174795"
---
# <a name="driver-internal-errors-direct3d-9"></a>Внутренние ошибки драйвера (Direct3D 9)

В Direct3D 9 Direct3D позволяет драйверу возвращать коды ошибок, такие как E \_ OUTOFMEMORY, D3DERR \_ АУТОФВИДЕОМЕМОРИ и D3DERR унсуппортедколорарг, \_ чтобы приложение могло отвечать на них. Однако иногда вызовы API, которые генерируют эти возвращаемые типы, загружаются в буфер команд и отправляются в GPU (см. раздел [Управление оптимизацией среды выполнения и драйверов](accurately-profiling-direct3d-api-calls.md)). В этом случае ошибки не могут быть ретранслируемы в приложение, когда необходимо выполнить действие, поэтому код ошибки используется средой выполнения, а заметка для объекта устройства, на котором это произошло. Позже, когда приложение вызывает [**IDirect3DDevice9::P**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-present)повторной отправки, **IDirect3DDevice9::P** повторная отправка вернет D3DERR \_ дриверинтерналеррор. Именно поэтому наилучший подход к приложению при получении D3DERR \_ дриверинтерналеррор из **IDirect3DDevice9::P** повторной отправки — удаление и повторное создание устройства.

Если вы хотите попытаться выполнить отладку еще раз, вот несколько советов по попытке выяснить, какой вызов API создает ошибку:

-   Так как список возможных возвращаемых значений не завершен, можно попытаться определить, какой вызов завершается ошибкой, вызвав следующий вызов API:

    ```
    TRACE ( "Calling DrawPrimitive" );
    d3ddev->DrawPrim(...);
    TRACE ( "done\n" );
    ```

    

    Выходной поток отладки должен затем отображать вызов, который вызывает проблему.

-   Кроме того, в целях отладки попробуйте вызвать [**IDirect3DDevice9:: валидатедевице**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-validatedevice) непосредственно перед каждым [**IDirect3DDevice9::D равпримитиве**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-drawprimitive) , чтобы узнать, есть ли дополнительные проблемы с драйвером устройства (неподдерживаемая операция, неиспользуемое сочетание форматов текстур и т. д.).

    > [!Note]  
    > [**IDirect3DDevice9:: валидатедевице**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-validatedevice) следует использовать осторожно и экономно из-за объема проверки, которую должен выполнить драйвер для возврата ответа.

     

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Советы программирования](programming-tips.md)
</dt> </dl>

 

 
