---
description: Вершины в пространстве камеры вычисляются путем преобразования вершин объекта с помощью матрицы представления реального мира.
ms.assetid: 889dd0d8-1933-4901-9bbc-06c3caa26d3e
title: Преобразования пространства камеры (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e621fa8318fa45023cee13ffc6fcfc65abcf8f5b
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127568971"
---
# <a name="camera-space-transformations-direct3d-9"></a>Преобразования пространства камеры (Direct3D 9)

Вершины в пространстве камеры вычисляются путем преобразования вершин объекта с помощью матрицы представления реального мира.

V = V \* ввматрикс

Нормали вершин в пространстве камеры вычисляются путем преобразования нормалей объекта с обратной перестановкой матрицы представления реального мира. Матрица представления реального мира может быть ортогональной, однако это не обязательно.

N = N \* (ввматрикс ⁻ ¹)<sup>T</sup>

Инверсия и перестановка матрицы выполняются в матрице 4x4. При умножении нормаль объединяется с частью 3x3 получившейся матрицы 4x4.

Если для состояния визуализации D3DRENDERSTATE \_ нормализенормалс имеет значение **true**, векторы нормали вершин нормализованы после преобразования в пространство камеры следующим образом:

N = norm(N)

Положение источника света в пространстве камеры вычисляется путем преобразования положения источника света с матрицей представления.

LP = LP \* вматрикс

Направление к свету в пространстве камеры (для направленного света) вычисляется путем умножения направления источника света и матрицы представления. В результате происходит нормализация и инверсия результата.

L<sub>dir</sub> =-норма (l<sub>dir</sub> \* ввматрикс)

Для точки D3DLIGHT \_ и D3DLIGHT \_ направление освещения будет вычислено следующим образом:

L<sub>dir</sub> = норма (V \* LP), где параметры определены в следующей таблице.



| Параметр       | Значение по умолчанию | Тип      | Описание                                               |
|-----------------|---------------|-----------|-----------------------------------------------------------|
| L<sub>dir</sub> | Недоступно           | D3DVECTOR | Вектор направления от вершины объекта до света          |
| V               | Недоступно           | D3DVECTOR | Положение вершины в пространстве камеры                           |
| wvMatrix        | Идентификация      | D3DMATRIX | Составная матрица, содержащая преобразования реального мира и представления |
| Нет               | Недоступно           | D3DVECTOR | Нормаль вершины                                             |
| Lₚ              | Недоступно           | D3DVECTOR | Положение света в пространстве камеры                            |
| vMatrix         | Идентификация      | D3DMATRIX | Матрица, содержащая преобразование представления                      |



 

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Математика освещения](mathematics-of-lighting.md)
</dt> </dl>

 

 



