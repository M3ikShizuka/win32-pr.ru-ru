---
description: Вершины в пространстве камеры вычисляются путем преобразования вершин объекта с помощью матрицы представления реального мира.
ms.assetid: 889dd0d8-1933-4901-9bbc-06c3caa26d3e
title: Преобразования пространства камеры (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: effb7af72decad711d9fc392e53f7aba05f48b3c69394dbfb3ae5f9f06e2def7
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119241854"
---
# <a name="camera-space-transformations-direct3d-9"></a>Преобразования пространства камеры (Direct3D 9)

Вершины в пространстве камеры вычисляются путем преобразования вершин объекта с помощью матрицы представления реального мира.

V = V \* ввматрикс

Нормали вершин в пространстве камеры вычисляются путем преобразования нормалей объекта с обратной перестановкой матрицы представления реального мира. Матрица представления реального мира может быть ортогональной, однако это не обязательно.

N = N \* (ввматрикс ⁻ ¹)<sup>T</sup>

Инверсия и перестановка матрицы выполняются в матрице 4x4. При умножении нормаль объединяется с частью 3x3 получившейся матрицы 4x4.

Если для состояния визуализации D3DRENDERSTATE \_ нормализенормалс имеет значение **true**, векторы нормали вершин нормализованы после преобразования в пространство камеры следующим образом:

N = norm(N)

Положение источника света в пространстве камеры вычисляется путем преобразования положения источника света с матрицей представления.

LP = LP \* вматрикс

Направление к свету в пространстве камеры (для направленного света) вычисляется путем умножения направления источника света и матрицы представления. В результате происходит нормализация и инверсия результата.

L<sub>dir</sub> =-норма (l<sub>dir</sub> \* ввматрикс)

Для точки D3DLIGHT \_ и D3DLIGHT \_ направление освещения будет вычислено следующим образом:

L<sub>dir</sub> = норма (V \* LP), где параметры определены в следующей таблице.



| Параметр       | Значение по умолчанию | Тип      | Описание                                               |
|-----------------|---------------|-----------|-----------------------------------------------------------|
| L<sub>dir</sub> | н/д           | D3DVECTOR | Вектор направления от вершины объекта до света          |
| V               | н/д           | D3DVECTOR | Положение вершины в пространстве камеры                           |
| wvMatrix        | Удостоверение      | D3DMATRIX | Составная матрица, содержащая преобразования реального мира и представления |
| Нет               | н/д           | D3DVECTOR | Нормаль вершины                                             |
| Lₚ              | н/д           | D3DVECTOR | Положение света в пространстве камеры                            |
| vMatrix         | Удостоверение      | D3DMATRIX | Матрица, содержащая преобразование представления                      |



 

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Математика освещения](mathematics-of-lighting.md)
</dt> </dl>

 

 



