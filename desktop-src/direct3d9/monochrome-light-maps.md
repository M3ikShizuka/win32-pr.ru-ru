---
description: Некоторые старые платы ускорения трехмерной графики не поддерживают наложение текстуры с помощью альфа-значения пикселя назначения.
ms.assetid: 77d3b9fd-3232-4955-9df2-d4763d3eed6f
title: Карты монохромного освещения (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: dac6f62aaba08ac6c8e1116a0bc5059fed3dea19da51d83b034bfae79653ed5b
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "117728241"
---
# <a name="monochrome-light-maps-direct3d-9"></a>Карты монохромного освещения (Direct3D 9)

Некоторые старые платы ускорения трехмерной графики не поддерживают наложение текстуры с помощью альфа-значения пикселя назначения. Дополнительные сведения см. в разделе [смешение текстур Alpha (Direct3D 9)](alpha-texture-blending.md) . Эти адаптеры также обычно не поддерживают множественное наложение текстуры. Если ваше приложение работает на подобном адаптере, оно может использовать многопроходное наложение текстуры для сопоставления монохромного освещения.

Для сопоставления монохромного освещения приложение сохраняет сведения об освещении в данных альфа-канала его текстур карты освещения. Приложение использует возможности Direct3D по фильтрации текстур для сопоставления каждого пикселя в изображении примитива соответствующему текселю на карте освещения. Это устанавливает коэффициент наложения источника равным альфа-значению соответствующего текселя.

В следующем примере показано, как приложение может использовать текстуру в качестве монохромной схемы освещения.


```
// This example assumes that d3dDevice is a valid pointer to an
// IDirect3DDevice9 interface and that lptexLightMap is a valid
// pointer to a texture that contains monochrome light map data.

// Set the light map texture as the current texture.
d3dDevice->SetTexture(0, lptexLightMap);

// Set the color operation.
d3dDevice->SetTextureStageState(0, D3DTSS_COLOROP, D3DTOP_SELECTARG1);

// Set argument 1 to the color operation.
d3dDevice->SetTextureStageState(0, D3DTSS_COLORARG1,
                                D3DTA_TEXTURE | D3DTA_ALPHAREPLICATE);
```



Так как адаптеры отображения, которые не поддерживают альфа-смешение назначения, обычно не поддерживают несколько смешений текстур, в этом примере в качестве первой текстуры устанавливается Текстурная карта, доступная на всех многотрехмерных картах ускорителя. Образец кода задает цветовую операцию для этапа смешения текстур для смешения данных текстуры с существующим цветом примитива. Затем в качестве входных данных выбирается первая текстура и существующий цвет примитива.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Светлое сопоставление с текстурами](light-mapping-with-textures.md)
</dt> </dl>

 

 



