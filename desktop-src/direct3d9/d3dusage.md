---
description: Параметры использования, определяющие способ использования ресурсов.
ms.assetid: c8823c39-8f17-441c-a42b-de3d7ec02f75
title: D3DUSAGE (D3d9types. h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- D3DUSAGE_AUTOGENMIPMAP
- D3DUSAGE_DEPTHSTENCIL
- D3DUSAGE_DMAP
- D3DUSAGE_DONOTCLIP
- D3DUSAGE_DYNAMIC
- D3DUSAGE_NONSECURE
- D3DUSAGE_NPATCHES
- D3DUSAGE_POINTS
- D3DUSAGE_RENDERTARGET
- D3DUSAGE_RTPATCHES
- D3DUSAGE_SOFTWAREPROCESSING
- D3DUSAGE_TEXTAPI
- D3DUSAGE_WRITEONLY
- D3DUSAGE_RESTRICTED_CONTENT
- D3DUSAGE_RESTRICT_SHARED_RESOURCE
- D3DUSAGE_RESTRICT_SHARED_RESOURCE_DRIVER
api_type:
- HeaderDef
api_location:
- d3d9types.h
ms.openlocfilehash: 7f9a16fecc110a7bef8e6c065d8772ee72c46b77abf63857d23b734c555eba2d
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119750594"
---
# <a name="d3dusage"></a>D3DUSAGE

Параметры использования, определяющие способ использования ресурсов.

В следующей таблице перечислены доступные параметры использования.



| Константа                                                                                                                                                                                                                                          | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="D3DUSAGE_AUTOGENMIPMAP"></span><span id="d3dusage_autogenmipmap"></span><dl> <dt>**D3DUSAGE \_ аутоженмипмап**</dt> </dl>                                                          | Ресурс будет автоматически создавать MIP-карты. См. раздел [Автоматическое создание MIP-карты (Direct3D 9)](automatic-generation-of-mipmaps.md). Автоматическое создание MIP-карты не поддерживается для текстур и поверхностей и текстур набора элементов глубины. Это использование недопустимо для ресурса в системной памяти (**D3DPOOL \_ системмем**).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span id="D3DUSAGE_DEPTHSTENCIL"></span><span id="d3dusage_depthstencil"></span><dl> <dt>**D3DUSAGE \_ депсстенЦил**</dt> </dl>                                                             | Ресурс будет буфером трафарета глубины. **D3DUSAGE \_ ДЕПССТЕНЦИЛ** можно использовать только с параметром **D3DPOOL \_ Default**.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span id="D3DUSAGE_DMAP"></span><span id="d3dusage_dmap"></span><dl> <dt>**D3DUSAGE \_ ДМАП**</dt> </dl>                                                                                     | Ресурс будет картой смещения.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span id="D3DUSAGE_DONOTCLIP"></span><span id="d3dusage_donotclip"></span><dl> <dt>**D3DUSAGE \_ донотклип**</dt> </dl>                                                                      | Задайте значение, чтобы указать, что содержимое буфера вершин никогда не потребует обрезки. При подготовке к просмотру с использованием буферов, для которых установлен этот флаг, состояние отрисовки **D3DRS \_ обрезки** должно быть равно false.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span id="D3DUSAGE_DYNAMIC"></span><span id="d3dusage_dynamic"></span><dl> <dt>**D3DUSAGE \_ dynamic**</dt> </dl>                                                                            | Задайте значение, указывающее, что буферу вершин требуется использование динамической памяти. Это полезно для драйверов, поскольку позволяет им определять место размещения буфера. В общем случае статические буферы вершин помещаются в видеопамять, а динамические буферы вершин помещаются в память AGP. Обратите внимание, что не существует отдельного статического использования. Если не указать **D3DUSAGE \_ dynamic**, буфер вершин становится статическим. **D3DUSAGE \_ DYNAMIC** строго применяется с помощью флагов блокировки **D3DLOCK \_ Discard** и **D3DLOCK \_ нуверврите** . В результате **D3DLOCK \_ Discard** и **D3DLOCK \_ нуверврите** допустимы только в буферах вершин, созданных с помощью **D3DUSAGE \_ dynamic**. Они не являются допустимыми флагами для статических буферов вершин. Дополнительные сведения см. в разделе [Управление ресурсами (Direct3D 9)](managing-resources.md). <br/> Дополнительные сведения об использовании динамических буферов вершин см. в разделе [Оптимизация производительности (Direct3D 9)](performance-optimizations.md).<br/> **D3DUSAGE \_ ДИНАМИЧЕСКИЕ** и **D3DPOOL \_ управляемые** несовместимы и не должны использоваться вместе. См. [**D3DPOOL**](./d3dpool.md).<br/> Текстуры могут указывать **D3DUSAGE \_ dynamic**. Однако управляемые текстуры не могут использовать **D3DUSAGE \_ dynamic**. Дополнительные сведения о динамических текстурах см. [в разделе Использование динамических текстур](performance-optimizations.md). <br/> |
| <span id="D3DUSAGE_NONSECURE"></span><span id="d3dusage_nonsecure"></span><dl> <dt>**D3DUSAGE \_ НЕбезопасный**</dt> </dl>                                                                      | Разрешить открытие общей поверхности, созданной безопасным приложением, в небезопасном приложении с общим маркером. <br/> **Различия между Direct3D 9 и Direct3D 9Ex:** Этот флаг доступен только в Direct3D 9Ex.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span id="D3DUSAGE_NPATCHES"></span><span id="d3dusage_npatches"></span><dl> <dt>**D3DUSAGE \_ нпатчес**</dt> </dl>                                                                         | Задайте значение, чтобы указать, что буфер вершин должен использоваться для рисования N-патчей.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span id="D3DUSAGE_POINTS"></span><span id="d3dusage_points"></span><dl> <dt>**\_Точки D3DUSAGE**</dt> </dl>                                                                               | Задайте значение, чтобы указать, что вершина или буфер индекса будут использоваться для точек рисования. Буфер будет загружен в системную память, если для эмуляции спрайтов точек требуется обработка вершин программного обеспечения.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span id="D3DUSAGE_RENDERTARGET"></span><span id="d3dusage_rendertarget"></span><dl> <dt>**D3DUSAGE \_ рендертаржет**</dt> </dl>                                                             | Ресурс будет целевым объектом отрисовки. **D3DUSAGE \_ РЕНДЕРТАРЖЕТ** можно использовать только с параметром **D3DPOOL \_ Default**.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span id="D3DUSAGE_RTPATCHES"></span><span id="d3dusage_rtpatches"></span><dl> <dt>**D3DUSAGE \_ ртпатчес**</dt> </dl>                                                                      | Задайте значение, чтобы указать, что буфер вершин должен использоваться для рисования примитивов высокого порядка.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span id="D3DUSAGE_SOFTWAREPROCESSING"></span><span id="d3dusage_softwareprocessing"></span><dl> <dt>**D3DUSAGE \_ софтварепроцессинг**</dt> </dl>                                           | Если используется этот флаг, обработка вершин выполняется в программном обеспечении. Если этот флаг не используется, обработка вершин выполняется в оборудовании.<br/> Флаг **D3DUSAGE \_ софтварепроцессинг** можно задать при обработке вершин в смешанном режиме или на уровне программного обеспечения (**D3DCREATE \_ Mixed \_ вертекспроцессинг**  /  **D3DCREATE \_ Software \_ вертекспроцессинг**) для этого устройства. **D3DUSAGE \_ СОФТВАРЕПРОЦЕССИНГ** должен быть установлен для использования буферов с обработкой вершин программного обеспечения в смешанном режиме, но не должен быть установлен для наилучшей производительности при использовании аппаратной обработки индекса в смешанном режиме (**D3DCREATE \_ Hardware \_ вертекспроцессинг**). Однако параметр **D3DUSAGE \_ софтварепроцессинг** является единственным, если один буфер используется одновременно с аппаратной и программной обработкой вершин. **D3DUSAGE \_ СОФТВАРЕПРОЦЕССИНГ** разрешено для смешанных и программных устройств.<br/> **D3DUSAGE \_ СОФТВАРЕПРОЦЕССИНГ** используется с [**чеккдевицеформат**](/windows/win32/api/d3d9/nf-d3d9-idirect3d9-checkdeviceformat) , чтобы определить, можно ли использовать определенный формат текстуры в качестве текстуры вершин во время обработки вершин программного обеспечения. Если это возможно, текстура должна быть создана в **D3DPOOL \_ нуля**.<br/>                                                                                                                                                                 |
| <span id="D3DUSAGE_TEXTAPI"></span><span id="d3dusage_textapi"></span><dl> <dt>**D3DUSAGE \_ текстапи**</dt> </dl>                                                                            | Этот флаг использования должен быть указан для буферов вершин и исходных поверхностей, используемых в вызовах [**компосеректс**](/windows/desktop/api/d3d9/nf-d3d9-idirect3ddevice9ex-composerects). T екстурес, созданный с помощью этого флага использования, не может использоваться для фильтрации текстур. Буферы вершин, созданные с помощью этого флага использования, не могут использоваться в качестве источников входных потоков. <br/> **Различия между Direct3D 9 и Direct3D 9Ex:** Этот флаг доступен только в Direct3D 9Ex.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span id="D3DUSAGE_WRITEONLY"></span><span id="d3dusage_writeonly"></span><dl> <dt>**D3DUSAGE \_ WRITEONLY**</dt> </dl>                                                                      | Информирует систему о том, что приложение записывает только в буфер вершин. Использование этого флага позволяет драйверу выбрать лучшее место в памяти для эффективных операций записи и подготовки к просмотру. Попытки чтения из буфера вершин, созданного с помощью этой возможности, завершатся ошибкой. Буферы, созданные с помощью **D3DPOOL \_ по умолчанию** , не задающих **D3DUSAGE \_ WRITEONLY** , могут существенно снизить производительность. **D3DUSAGE \_ WRITEONLY** влияет только на производительность буферов **D3DPOOL \_ по умолчанию** .<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span id="D3DUSAGE_RESTRICTED_CONTENT"></span><span id="d3dusage_restricted_content"></span><dl> <dt>**D3DUSAGE \_ ограниченное \_ содержимое**</dt> </dl>                                          | Установка этого флага означает, что ресурс может содержать защищенное содержимое.<br/> **Различия между Direct3D 9 и Direct3D 9Ex:** Этот флаг доступен только в Direct3D 9Ex.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span id="D3DUSAGE_RESTRICT_SHARED_RESOURCE"></span><span id="d3dusage_restrict_shared_resource"></span><dl> <dt>**D3DUSAGE \_ ограничить \_ Общий \_ ресурс**</dt> </dl>                       | Установка этого флага означает, что доступ к общему ресурсу должен быть ограничен. <br/> **Различия между Direct3D 9 и Direct3D 9Ex:** Этот флаг доступен только в Direct3D 9Ex.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| <span id="D3DUSAGE_RESTRICT_SHARED_RESOURCE_DRIVER"></span><span id="d3dusage_restrict_shared_resource_driver"></span><dl> <dt>**D3DUSAGE \_ ограничить \_ Общий \_ \_ драйвер ресурса**</dt> </dl> | Установка этого флага означает, что драйвер должен ограничивать доступ к общему ресурсу. Вызывающий объект должен создать канал с проверкой подлинности с помощью драйвера. После этого драйвер должен разрешить доступ к процессам, пытающимся открыть общий ресурс.<br/> **Различия между Direct3D 9 и Direct3D 9Ex:** Этот флаг доступен только в Direct3D 9Ex.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |



## <a name="remarks"></a>Remarks

### <a name="usage-and-resource-combinations"></a>Использование и сочетания ресурсов

Сведения об использовании указываются при создании ресурса или указываются с помощью [**чеккдевицетипе**](/windows/win32/api/d3d9/nf-d3d9-idirect3d9-checkdevicetype) для проверки возможности существующего ресурса. В следующей таблице приведены сведения об использовании, к которым могут применяться типы ресурсов.



| Использование                            | Создание буфера вершин | Создание буфера индекса | Создание текстуры | Создание текстуры Куба | Создание текстуры тома | Создание поверхности | Проверить формат устройства |
|----------------------------------|----------------------|---------------------|----------------|---------------------|-----------------------|----------------|---------------------|
| **D3DUSAGE \_ аутоженмипмап**      |                      |                     | x              | x                   |                       |                | x                   |
| **D3DUSAGE \_ депсстенЦил**       |                      |                     | x              | x                   |                       | x              | x                   |
| **D3DUSAGE \_ ДМАП**               |                      |                     | x              |                     |                       |                | x                   |
| **D3DUSAGE \_ донотклип**          | x                    | x                   |                |                     |                       |                |                     |
| **D3DUSAGE \_ dynamic**            | x                    | x                   | x              | x                   | x                     |                | x                   |
| **D3DUSAGE \_ НЕбезопасный**          | x                    | x                   | x              | x                   | x                     | x              | x                   |
| **D3DUSAGE \_ нпатчес**           | x                    | x                   |                |                     |                       |                |                     |
| **\_Точки D3DUSAGE**             | x                    | x                   |                |                     |                       |                |                     |
| **D3DUSAGE \_ ртпатчес**          | x                    | x                   |                |                     |                       |                |                     |
| **D3DUSAGE \_ рендертаржет**       |                      |                     | x              | x                   |                       | x              | x                   |
| **D3DUSAGE \_ софтварепроцессинг** | x                    | x                   | x              | x                   | x                     |                | x                   |
| **D3DUSAGE \_ текстапи**            | x                    |                     | x              |                     |                       |                |                     |
| **D3DUSAGE \_ WRITEONLY**          | x                    | x                   |                |                     |                       |                |                     |



 

Используйте [**чеккдевицеформат**](/windows/win32/api/d3d9/nf-d3d9-idirect3d9-checkdeviceformat) , чтобы проверить аппаратную поддержку для этих использований.

Каждый из методов создания ресурсов приведен здесь.

-   [**креатекубетекстуре**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createcubetexture)
-   [**креатедепсстенЦилсурфаце**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createdepthstencilsurface)
-   [**креатеиндексбуффер**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createindexbuffer)
-   [**креатеоффскринплаинсурфаце**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createoffscreenplainsurface)
-   [**креатерендертаржет**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createrendertarget)
-   [**креатетекстуре**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createtexture)
-   [**креатевертексбуффер**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createvertexbuffer)
-   [**креатеволуметекстуре**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createvolumetexture)

Функции текстурирования [D3DXCreatexxx](dx9-graphics-reference-d3dx-functions-texture.md) также используют некоторые из этих постоянных значений для создания ресурсов.

Дополнительные сведения о типах пулов и их ограничениях при определенных использовании см. в разделе [**D3DPOOL**](./d3dpool.md).

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------|----------------------------------------------------------------------------------------|
| Заголовок<br/> | <dl> <dt>D3d9types. h</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[Константы Direct3D](dx9-graphics-reference-d3d-constants.md)
</dt> <dt>

[\_Запрос D3DUSAGE](d3dusage-query.md)
</dt> <dt>

[**D3DDECLUSAGE**](./d3ddeclusage.md)
</dt> <dt>

[**D3DPOOL**](./d3dpool.md)
</dt> </dl>

 

 
