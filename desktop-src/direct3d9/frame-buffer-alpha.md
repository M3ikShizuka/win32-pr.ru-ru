---
description: Альфа-смешение буфера фрейма отличается от Alpha альфа, Material альфа и текстуры Alpha.
ms.assetid: 3664215d-ad03-400e-beab-b0421cf6b693
title: Буфер кадров Alpha (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cb310e2c66f43282e65425fd0d6c6a24961accaa
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/06/2021
ms.locfileid: "104139558"
---
# <a name="frame-buffer-alpha-direct3d-9"></a>Буфер кадров Alpha (Direct3D 9)

Альфа-смешение буфера фрейма отличается от Alpha альфа, Material альфа и текстуры Alpha. Значения прозрачности в наборе вершин, материалов и текстур, которые используются только для текущего примитива, и сами по себе не влияют на другие примитивы. Альфа-смешение буфера фрейма управляет тем, как текущий примитив объединяется с существующими пикселями в буфере кадров, чтобы получить окончательный цвет пикселя.

При выполнении альфа-смешения объединяются два цвета: исходный цвет и целевой цвет. Исходный цвет определяется прозрачным объектом, а целевой цвет — цветом, который уже находится в расположении в пикселях. Целевой цвет является результатом отрисовки другого объекта, который находится позади прозрачного объекта, то есть объекта, который будет виден через прозрачный объект. Альфа-смешение использует формулу для управления отношением между исходным и целевым объектами.


```
Final Color = ObjectColor * SourceBlendFactor + PixelColor * DestinationBlendFactor 
```



Обжектколор — это вклад из примитива, отображаемого в текущем положении в пикселях. Пикселколор — это вклад из буфера кадров в текущем положении в пикселях.

Ниже приведен набор коэффициентов альфа-смешения, которые можно использовать.



| Коэффициент режима смешения         | Описание                                                                                                                                                                              |
|---------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| D3DBLEND \_ 0            | (0, 0, 0, 0)                                                                                                                                                                             |
| D3DBLEND \_ один             | (1, 1, 1, 1)                                                                                                                                                                             |
| D3DBLEND \_ сркколор        | (RS, GS, BS, AS)                                                                                                                                                                         |
| D3DBLEND \_ инвсркколор     | (1-RS, 1-GS, 1-BS, 1-как)                                                                                                                                                                 |
| D3DBLEND \_ сркалфа        | (Как, как, как, как)                                                                                                                                                                         |
| D3DBLEND \_ инвсркалфа     | (1-как, 1-как, 1-как, 1 — как)                                                                                                                                                                 |
| D3DBLEND \_ десталфа       | (AD, AD, AD, AD)                                                                                                                                                                         |
| D3DBLEND \_ инвдесталфа    | (1-AD, 1-AD, 1-AD, 1-AD)                                                                                                                                                                 |
| D3DBLEND \_ дестколор       | (RD, GD, BD, AD)                                                                                                                                                                         |
| D3DBLEND \_ инвдестколор    | (1-Rd, 1-GD, 1-BD, 1-AD)                                                                                                                                                                 |
| D3DBLEND \_ сркалфасат     | (f, f, f, 1); f = min (AS, 1-AD)                                                                                                                                                          |
| D3DBLEND \_ боссркалфа    | Устарело для DirectX 6 и более поздних версий. Вы можете добиться того же результата, установив для исходных и целевых коэффициентов смешения значения D3DBLEND \_ сркалфа и D3DBLEND \_ инвсркалфа в отдельных вызовах. |
| D3DBLEND \_ босинвсркалфа | Устарело для DirectX 6. Вы можете добиться того же результата, установив для исходных и целевых коэффициентов смешения значения D3DBLEND \_ инвсркалфа и D3DBLEND \_ сркалфа в отдельных вызовах.           |
| D3DBLEND \_ блендфактор     | Используйте цвет. r, Color. g, цвет. b и цвет. объект, полученный из \_ параметра D3DRS блендфактор.                                                                                                 |
| D3DBLEND \_ инвблендфактор  | Используйте 1-Color. r, 1-Color. g, 1 – Color. b и 1-Color. a, полученное из \_ параметра D3DRS блендфактор.                                                                                         |



 

Direct3D использует \_ состояние рендеринга D3DRS алфабленденабле для включения альфа-прозрачного смешения. Тип альфа-смешения, который выполняется, зависит от \_ состояния отрисовки D3DRS сркбленд и D3DRS \_ дестбленд. Исходное и целевое состояния смешения используются парами. Следующий фрагмент кода задает для состояния источника Blend значение D3DBLEND \_ сркколор, а для целевого состояния Blend — D3DBLEND \_ инвсркколор.


```
// This code fragment assumes that lpD3DDevice is a 
//   valid pointer to a device.

// Enable alpha blending.
lpD3DDevice->SetRenderState(D3DRS_ALPHABLENDENABLE, 
                            TRUE);

// Set the source blend state.
lpD3DDevice->SetRenderState(D3DRS_SRCBLEND, 
                            D3DBLEND_SRCCOLOR);

// Set the destination blend state.
lpD3DDevice->SetRenderState(D3DRS_DESTBLEND, 
                            D3DBLEND_INVSRCCOLOR);
```



Этот код выполняет линейное смешение исходного цвета (цвет примитива, отображаемого в текущем расположении) и цвет назначения (цвет в текущем положении в буфере кадров). Полученный внешний вид аналогичен оттенку стекла в том, что некоторые цвета целевого объекта передаются через исходный объект. Оставшаяся часть он замещается.

Многие из этих факторов смешения предполагают, что альфа-значения в текстуре правильно работают. Таким образом, при использовании вершины или альфа-составляющей приложение ограничивается режимом, в котором будут выдаваться интересные результаты.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Альфа-смешение](alpha-blending.md)
</dt> </dl>

 

 



