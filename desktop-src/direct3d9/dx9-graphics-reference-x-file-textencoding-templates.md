---
description: Шаблоны определяют, как интерпретируется поток данных. данные обрабатываются с помощью определения шаблона. В этом разделе обсуждаются следующие аспекты шаблона и приводится пример шаблона.
ms.assetid: f84978a8-8315-4626-be68-f00f3a72e5ac
title: Шаблоны (формат файла X, кодировка текста)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e164b92c6c5738ad98b138941b1b2fda6c332068
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127052902"
---
# <a name="templates-x-file-format-text-encoding"></a>Шаблоны (формат файла X, кодировка текста)

Шаблоны определяют, как интерпретируется поток данных. данные обрабатываются с помощью определения шаблона. В этом разделе обсуждаются следующие аспекты шаблона и приводится пример шаблона.

Существует один специальный шаблон — шаблон заголовка. Рекомендуется, чтобы каждое приложение определяло шаблон заголовка и использовало его для определения сведений, относящихся к конкретному приложению, таких как сведения о версии. При наличии этот заголовок считывается API-интерфейсом формата файла. x. Если элемент flags доступен, он используется для определения интерпретации следующих данных. Элемент flags, если он определен, должен иметь значение типа DWORD. Один бит в настоящее время определен — бит 0. Если этот бит является понятным, следующие данные в файле являются двоичными. Если задано, то следующие данные являются текстом. Для переключения между двоичным и текстовым файлами в файле можно использовать несколько объектов данных заголовков.

## <a name="template-form-name-and-uuid"></a>Форма шаблона, имя и UUID

Шаблон имеет следующую форму.


```
template <template-name> {
<UUID>
    <member 1>;
...
    <member n>;
[restrictions]
}
```



Имя шаблона — это буквенно-цифровое имя, которое может содержать символ подчеркивания ( \_ ). Оно не должно начинаться с цифры. UUID — это универсальный уникальный идентификатор, отформатированный в стандарт распределенной вычислительной среды Open Software Foundation и заключенный в угловые скобки (< >). Например: <3D82AB43-62DA-11cf-AB39-0020AF71E433>.

## <a name="template-members"></a>Элементы шаблона

Элементы шаблона состоят из именованного типа данных, за которым следует необязательное имя или массив именованного типа данных. Допустимые примитивные типы данных определены в следующей таблице.



| Тип    | Размер                               |
|---------|------------------------------------|
| WORD    | 16 бит                            |
| DWORD   | 32 бита                            |
| FLOAT   | IEEE float                         |
| DOUBLE  | 64 бита                            |
| CHAR    | 8 бит                             |
| учар   | 8 бит                             |
| BYTE    | 8 бит                             |
| STRING  | Строка, заканчивающаяся нулем             |
| CSTRING | Форматированная строка C (не поддерживается) |
| UNICODE | Строка в Юникоде (не поддерживается)     |



 

Дополнительные типы данных, определенные шаблонами, обнаруженными ранее в потоке данных, также можно ссылаться в определении шаблона. Прямые ссылки не допускаются.

Любой допустимый тип данных может быть выражен в определении шаблона в виде массива. Базовый синтаксис показан в следующем примере.


```
array <data-type> <name>[<dimension-size>];
```



&lt;размерность измерения &gt; может быть либо целым числом, либо именованной ссылкой на другой элемент шаблона, значение которого затем подставляется. Массивы могут быть n-мерный, где n определяется числом парных квадратных скобок, завершающим оператор, как показано в следующем примере.


```
array DWORD FixedHerd[24];
array DWORD Herd[nCows];
array FLOAT Matrix4x4[4][4];
```



## <a name="template-restrictions"></a>Ограничения шаблона

Шаблоны могут быть открытыми, закрытыми или ограниченными. Эти ограничения определяют, какие типы данных могут отображаться в немедленной иерархии объекта данных, определенного шаблоном. Открытый шаблон не имеет ограничений, закрытый шаблон отклоняет все типы данных, а шаблон с ограниченным доступом допускает именованный список типов данных.

Синтаксис, указывающий на открытый шаблон, состоит из трех точек, заключенных в квадратные скобки.


```
[ ... ]
```



Список именованных типов данных с разделителями-запятыми, а также их UUID, заключенные в квадратные скобки, обозначают ограниченный шаблон.


```
[ { data-type [ UUID ] , } ... ]
```



Отсутствие любого из указанных выше указывает на закрытый шаблон.

## <a name="template-example"></a>Пример шаблона

Ниже приведен пример шаблона.


```
template Mesh {
<3D82AB44-62DA-11cf-AB39-0020AF71E433>
DWORD nVertices;
array Vector vertices[nVertices];
DWORD nFaces;
array MeshFace faces[nFaces];
 [ ... ]                // An open template
}
template Vector {
<3D82AB5E-62DA-11cf-AB39-0020AF71E433>
FLOAT x;
FLOAT y;
FLOAT z;
}                        // A closed template
template FileSystem {
<UUID>
STRING name;
[ Directory <UUID>, File <UUID> ]    // A restricted template
}
```



## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Кодировка текста](text-encoding.md)
</dt> </dl>

 

 



