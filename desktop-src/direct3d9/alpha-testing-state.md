---
description: Приложения C++ могут использовать альфа-тестирование для управления зазаписью пикселей на поверхность визуализации.
ms.assetid: 368c3d12-2c8b-43e3-94c3-bccfe6c73e66
title: Состояние тестирования Alpha (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b853eb779860d5fc490f4061fde03c852a9c3d9f7bda48baa8e5a84ebd43173c
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118989444"
---
# <a name="alpha-testing-state-direct3d-9"></a>Состояние тестирования Alpha (Direct3D 9)

Приложения C++ могут использовать альфа-тестирование для управления зазаписью пикселей на поверхность визуализации. Используя состояние рендеринга [**D3DRS \_ алфатестенабле**](./d3drenderstatetype.md) , приложение устанавливает текущее устройство Direct3D, чтобы оно проводило тестирование каждого пикселя в соответствии с тестовой функцией Alpha. Если тест выполнен, точка записывается на поверхность. В противном случае Direct3D игнорирует Пиксель. Выберите функцию тестирования Alpha с состоянием рендеринга **D3DRS \_ алфафунк** . Приложение может установить ссылку на альфа-значение для всех пикселей для сравнения с помощью состояния визуализации **D3DRS \_ алфареф** .

Наиболее распространенным применением альфа-тестирования является повышение производительности при растрировании объектов, которые почти прозрачны. Если растрирование цветовых данных является более прозрачным, чем цвет в заданном пикселе (D3DPCMPCAPS \_ загруженность), то записывается пиксель. В противном случае средство программной прорисовки полностью игнорирует пиксел, сохраняя обработку, необходимую для смешения двух цветов. В следующем примере кода проверяется, поддерживается ли данная функция сравнения, и, если это так, задаются параметры функции сравнения, необходимые для повышения производительности во время отрисовки.


```
// This code example assumes that pCaps is a
// D3DCAPS9 structure that was filled with a 
// previous call to IDirect3D9::GetDeviceCaps.

if (pCaps.AlphaCmpCaps & D3DPCMPCAPS_GREATEREQUAL)
{
    dev->SetRenderState(D3DRS_ALPHAREF, (DWORD)0x00000001);
    dev->SetRenderState(D3DRS_ALPHATESTENABLE, TRUE); 
    dev->SetRenderState(D3DRS_ALPHAFUNC, D3DCMP_GREATEREQUAL);
}

// If the comparison is not supported, render anyway. 
// The only drawback is no performance gain.
```



Не все оборудование поддерживает все функции для тестирования альфа-версии. Можно проверить возможности устройства, вызвав метод [**IDirect3D9:: жетдевицекапс**](/windows/desktop/api) . После получения возможностей устройства проверьте элемент Алфакмпкапс связанной структуры [**D3DCAPS9**](/windows/desktop/api/D3D9Caps/ns-d3d9caps-d3dcaps9) для нужной функции сравнения. Если член Алфакмпкапс содержит только \_ функцию D3DPCMPCAPS Always или только D3DPCMPCAPS \_ , драйвер не поддерживает альфа-тесты.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Состояния отрисовки](render-states.md)
</dt> </dl>

 

 
