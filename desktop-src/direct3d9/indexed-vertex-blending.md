---
description: Индексированное смешение вершин расширяет поддержку смешения вершин в Direct3D, позволяя использовать матрицы для смешения.
ms.assetid: d320cb8a-48b6-4a53-a051-d50f239c1aa3
title: Индексированное смешение вершин (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ec3d45e3ff72a33cd21265d1e4aa25e237e2a73e473914898d5c1057316d4ca0
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "117728718"
---
# <a name="indexed-vertex-blending-direct3d-9"></a>Индексированное смешение вершин (Direct3D 9)

Индексированное смешение вершин расширяет поддержку смешения вершин в Direct3D, позволяя использовать матрицы для смешения. Ссылки на эти матрицы можно получить с помощью индекса матрицы. Эти индексы предоставляются для каждой вершины и ссылаются на палитру размером до 256 матриц. Каждый индекс имеет 8 бит, и каждая вершина может содержать до четырех индексов, что позволяет смешивать четыре матрицы на вершину. Индексы упаковываются в DWORD. Поскольку индексы указываются для каждой вершины, на один треугольник может влиять до 12 матриц, а любая матрица в палитре может повлиять на вершины одного вызова Draw. Этот подход имеет следующие преимущества.

-   Он позволяет больше матриц повлиять на один треугольник.
-   Он позволяет передавать более плавные треугольники в одном вызове Draw.
-   Он делает смешение вершин независимым от индексов треугольника. Это позволяет прогрессивным сеткам работать в сочетании с смешением вершин.

Одним из недостатков этого подхода является то, что он не работает с примитивами с изогнутыми поверхностими, когда тесселяция происходит перед обработкой вершин.

На следующей схеме показано, как четыре матрицы могут повлиять на вершину. Каждая вершина имеет до четырех индексов, поэтому для каждой вершины можно смешивать четыре матрицы. Схема использует матрицы, индексированные по 0, 2, 5 и 6.

![схема индексированного смешения вершин с использованием 4 из 256 доступных матриц](images/dword1.png)

На следующей схеме показано, как до 12 матриц может повлиять на треугольник. Использование индексов, заданных для каждой вершины, может повлиять на треугольник до 12 матриц.

![Схема индексированной вершинного смешения для треугольника с использованием 12 из 256 доступных матриц](images/dword2.png)

Следующее уравнение определяет общий случай того, как матрицы влияют на вершину.

![уравнение индексированного смешения вершин](images/indexedvblend.png)

V <sub>модель</sub> — это расположение вершины входной модели. Index0.. Index3 — это индексы матрицы для каждого вершины, Упакованные в DWORD. M \[ \] — это массив мировых матриц, которые индексируются в. б ₀... b ₂ являются весовыми коэффициентами смешения. V<sub>World</sub> — это расположение вершины выходного пространства.

Дополнительные сведения об индексированном смешении вершин см. [в разделе использование индексированного смешения вершин (Direct3D 9)](using-indexed-vertex-blending.md).

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Смешение геометрических объектов](geometry-blending.md)
</dt> </dl>

 

 



