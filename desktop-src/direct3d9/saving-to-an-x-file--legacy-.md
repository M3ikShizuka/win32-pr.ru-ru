---
description: Используйте следующую процедуру в приложениях прежних версий, чтобы сохранить файловые шаблоны и данные. x в файл. x.
ms.assetid: 5401b381-3599-465a-b41b-e63b7372fc0e
title: Сохранение в файл X (прежний) (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 03070b25c8839ddd17ab698a4f017822004d027d978b5c4ce589491f2e8fb8f3
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118797786"
---
# <a name="saving-to-an-x-file-legacy-direct3d-9"></a>Сохранение в файл X (прежний) (Direct3D 9)

Используйте следующую процедуру в приложениях прежних версий, чтобы сохранить файловые шаблоны и данные. x в файл. x.

1.  Используйте функцию [**директксфилекреате**](directxfilecreate.md) для создания объекта [**идиректксфиле**](idirectxfile.md) .
2.  Используйте метод [**идиректксфиле:: регистертемплатес**](idirectxfile--registertemplates.md) , чтобы сообщить файловой системе DirectX о любых шаблонах, которые будут использоваться.
3.  Используйте метод [**идиректксфиле:: креатесавеобжект**](idirectxfile--createsaveobject.md) для создания объекта [**идиректксфилесавеобжект**](idirectxfilesaveobject.md) .
4.  При необходимости используйте метод [**идиректксфилесавеобжект:: саветемплатес**](idirectxfilesaveobject--savetemplates.md) для сохранения шаблонов.
5.  Перебрать объекты для сохранения. Для каждого объекта верхнего уровня выполните следующие действия.
    -   Используйте метод [**идиректксфилесавеобжект:: креатедатаобжект**](idirectxfilesaveobject--createdataobject.md) , чтобы создать объект [**идиректксфиледата**](idirectxfiledata.md) в качестве объекта верхнего уровня в файле. Если объект данных верхнего уровня содержит необязательные дочерние объекты, добавьте их в объект, используя соответствующий метод из следующего шага.
    -   Каждый объект [**идиректксфиледата**](idirectxfiledata.md) может иметь необязательные дочерние объекты, если он допускает его шаблон. Дочерние объекты могут быть любым из трех типов объектов: **идиректксфиледата**, [**идиректксфиледатареференце**](idirectxfiledatareference.md)или [**идиректксфилебинари**](idirectxfilebinary.md). Пройдите по объектам, которые необходимо сохранить, добавив необязательный дочерний элемент в список объектов в соответствии с его типом, как показано в следующих шагах. Затем, если тип объекта — data, вызовите метод [**идиректксфилесавеобжект:: креатедатаобжект**](idirectxfilesaveobject--createdataobject.md) , чтобы создать объект **идиректксфиледата** , а затем вызовите метод [**идиректксфиледата:: адддатаобжект**](idirectxfiledata--adddataobject.md) , чтобы добавить его в качестве дочернего элемента объекта. Если тип объекта является ссылкой на данные, вызовите метод [**идиректксфиледата:: адддатареференце**](idirectxfiledata--adddatareference.md) , чтобы создать и добавить объект ссылки на данные в качестве дочернего элемента объекта. Или, если тип объекта является двоичным, вызовите метод [**идиректксфиледата:: аддбинарйобжект**](idirectxfiledata--addbinaryobject.md) , чтобы создать и добавить двоичный объект в качестве дочернего для объекта.
    -   Вызовите метод [**идиректксфилесавеобжект:: SaveData**](idirectxfilesaveobject--savedata.md) , чтобы сохранить объект данных и его дочерние элементы.
    -   Освободите объект [**идиректксфиледата**](idirectxfiledata.md) .
6.  Освободите объект [**идиректксфилесавеобжект**](idirectxfilesaveobject.md) .
7.  Освободите объект [**идиректксфиле**](idirectxfile.md) .

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[X-файлы (прежние версии)](x-files--legacy-.md)
</dt> </dl>

 

 



