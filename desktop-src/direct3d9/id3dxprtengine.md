---
description: Интерфейс ID3DXPRTEngine используется для расчета предварительно вычисленной модели пересчета радианце (PRT). Его методы обычно используются в автономном режиме для параллельного расчета трехмерного моделирования в режиме реального времени или для шаг текселя векторов передач.
ms.assetid: d5be657f-2b0c-48fd-a7f0-ddb90107772f
title: Интерфейс ID3DXPRTEngine (D3DX9Mesh. h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- ID3DXPRTEngine
api_type:
- COM
api_location:
- d3dx9.lib
- d3dx9.dll
ms.openlocfilehash: 5507a79a60b2ffcb3cf801ea0454c7306bcde056
ms.sourcegitcommit: 14010c34b35fa268046c7683f021f86de08ddd0a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/15/2021
ms.locfileid: "105713603"
---
# <a name="id3dxprtengine-interface"></a>Интерфейс ID3DXPRTEngine

Интерфейс ID3DXPRTEngine используется для расчета предварительно вычисленной модели пересчета радианце (PRT). Его методы обычно используются в автономном режиме для параллельного расчета трехмерного моделирования в режиме реального времени или для шаг текселя векторов передач.

## <a name="members"></a>Элементы

Интерфейс **ID3DXPRTEngine** наследует от интерфейса [**IUnknown**](/windows/win32/api/unknwn/nn-unknwn-iunknown) . **ID3DXPRTEngine** также имеет следующие типы членов:

-   [Методы](#methods)

### <a name="methods"></a>Методы

Интерфейс **ID3DXPRTEngine** содержит следующие методы.



| Метод                                                                                     | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|:-------------------------------------------------------------------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**клосестрайинтерсектс**](id3dxprtengine--closestrayintersects.md)                       | Использует эффективную трассировку лучей в предварительно вычисленном моделировании радианце (PRT), чтобы определить, пересекаются ли луч с сеткой. Если пересечение обнаружено, метод возвращает индекс ближайшей грани сетки, которая достигнута лучом, и координатами барицентрик точки пересечения.<br/>                                                                                                                                                                                |
| [**компутебаунце**](id3dxprtengine--computebounce.md)                                     | Выполняет вычисление исходного радианцеа, полученного на основе одного отскока с переходом. Этот метод можно использовать для любой освещенной сцены, включая модель предварительно вычисленных радианце (PRT) на основе сферического гармонического (SH).<br/>                                                                                                                                                                                                                                                    |
| [**компутебаунцеадаптиве**](id3dxprtengine--computebounceadaptive.md)                     | Выполняет вычисление исходного радианцеа, полученного на основе одного отскока с переходом на использование адаптивной выборки. Этот метод создает новые вершины и грани в сети для более точного приближения к предварительно вычисленному сигналу передачи радианце (PRT). Этот метод можно использовать для любой освещенной сцены, включая модель PRT на основе сферического гармонического (SH).<br/>                                                                                                                   |
| [**компутедиректлигхтингш**](id3dxprtengine--computedirectlightingsh.md)                 | Вычисление вклада прямого освещения в трехмерные объекты, в которых источник радианце представляется приблизительно в виде аппроксимации (SH).<br/>                                                                                                                                                                                                                                                                                                                            |
| [**компутедиректлигхтингшадаптиве**](id3dxprtengine--computedirectlightingshadaptive.md) | Вычисление вклада прямого освещения в трехмерные объекты, в которых источник радианце представлен аппроксимацией (SH) с использованием адаптивной выборки. Этот метод создает новые вершины и грани в сети для более точного приближения к предварительно вычисленному сигналу передачи радианце (PRT).<br/>                                                                                                                                                           |
| [**компутедиректлигхтингшгпу**](id3dxprtengine--computedirectlightingshgpu.md)           | Использует графический процессор для расчета вклада прямого освещения в трехмерные объекты, в которых исходный радианце представлен аппроксимацией по негармоническому излучению (SH). Вычисление освещения в GPU обычно выполняется гораздо быстрее, чем в ЦП.<br/>                                                                                                                                                                                                                            |
| [**компутелдпрткоеффс**](id3dxprtengine--computeldprtcoeffs.md)                           | Выполняет вычисление локально-определяемых предварительно вычисляемых радианценых перенаправлений (ЛДПРТ), относящихся к образцу обычных векторов, чтобы избежать ошибок с наименьшими квадратами по отношению к входным [**ID3DXPRTBuffer**](id3dxprtbuffer.md) данным. Эти коэффициенты можно использовать с обложками или преобразованными векторами, чтобы моделировать глобальные эффекты для динамических объектов.<br/>                                                                                                                     |
| [**Вычисление**](id3dxprtengine--computess.md)                                             | Выполняет вычисление исходного радианцеа, полученного из рассеивания подповерхности, с помощью свойств материала, заданных [**ID3DXPRTEngine:: сетмешматериалс**](id3dxprtengine--setmeshmaterials.md). Этот метод можно использовать только для материалов, определенных для вершины в объекте сетки.<br/>                                                                                                                                                                                                       |
| [**компутессадаптиве**](id3dxprtengine--computessadaptive.md)                             | Вычисление вектора перемещения, который сопоставляет источник радианце для выхода из радианце, полученного из рассеивания подповерхности, использование адаптивных свойств выборки и материала, заданных [**ID3DXPRTEngine:: сетмешматериалс**](id3dxprtengine--setmeshmaterials.md). Метод создает новые вершины и грани в сети для более точного приближения к предварительно вычисленному сигналу передачи радианце (PRT). Этот метод можно использовать только для материалов, определенных для вершины в объекте сетки.<br/> |
| [**компутесурфсамплесбаунце**](id3dxprtengine--computesurfsamplesbounce.md)               | Выполняет вычисление предварительно вычисленных радианце передач (PRT) для произвольной точки (и обычного вектора).<br/>                                                                                                                                                                                                                                                                                                                                                                        |
| [**компутесурфсамплесдиректш**](id3dxprtengine--computesurfsamplesdirectsh.md)           | Выполняет вычисление, в произвольных точках, не применяя сетку, вектор перемещения, который сопоставляет исходный радианце (представленный приблизительно гармонической (SH) аппроксимацию) для выхода из радианце.<br/>                                                                                                                                                                                                                                                                                                   |
| [**компутеволумесамплес**](id3dxprtengine--computevolumesamples.md)                       | Выдает проекцию прямого освещения, полученного от предыдущего света, в виде векторов, представляющих собой сферическую гармонию (SH), которые представляют радианце инцидентов в указанных местах.<br/>                                                                                                                                                                                                                                                                                         |
| [**компутеволумесамплесдиректш**](id3dxprtengine--computevolumesamplesdirectsh.md)       | Выполняет проекцию неудаленного освещения на основе географических (SH) векторов, представляющих радианце инцидентов в указанных местах.<br/>                                                                                                                                                                                                                                                                                                                           |
| [**екстрактпервертексалбедо**](id3dxprtengine--extractpervertexalbedo.md)                   | Копирует значения албедо на уровне вершины из сетки.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                            |
| [**фрибаунцедата**](id3dxprtengine--freebouncedata.md)                                   | Освобождает память, используемую для временных данных имитации с отскоками.<br/>                                                                                                                                                                                                                                                                                                                                                                                                          |
| [**фриссдата**](id3dxprtengine--freessdata.md)                                           | Освобождает память, используемую для временных данных имитации освещения поверхности.<br/>                                                                                                                                                                                                                                                                                                                                                                                            |
| [**жетадаптедмеш**](id3dxprtengine--getadaptedmesh.md)                                   | Возвращает сетку с изменениями, полученными из адаптивной пространственной выборки. Возвращаемая сетка содержит только позиции, нормали и координаты текстуры (если они определены).<br/>                                                                                                                                                                                                                                                                                                   |
| [**жетнумфацес**](id3dxprtengine--getnumfaces.md)                                         | Извлекает количество сторон в сетке, включая новые добавляемые лица в результате адаптивной пространственной выборки.<br/>                                                                                                                                                                                                                                                                                                                                                      |
| [**жетнумвертс**](id3dxprtengine--getnumverts.md)                                         | Извлекает количество вершин в сетке, включая все новые вершины, добавленные в результате адаптивной пространственной выборки.<br/>                                                                                                                                                                                                                                                                                                                                                |
| [**жетвертексалбедо**](id3dxprtengine--getvertexalbedo.md)                                 | Получает значения албедо вершин сетки.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                           |
| [**мултиплялбедо**](id3dxprtengine--multiplyalbedo.md)                                   | Умножает каждый предварительно вычисленный вектор радианценой пересылки (PRT) на вершину албедо.<br/>                                                                                                                                                                                                                                                                                                                                                                                    |
| [**ресамплебуффер**](id3dxprtengine--resamplebuffer.md)                                   | Ресамплинг входного буфера [**ID3DXPRTBuffer**](id3dxprtbuffer.md) и сохранение его в выходной буфер. Этот метод можно использовать для преобразования буфера вершин в буфер текстуры и наоборот. Он также может использоваться для преобразования одноканальных буферов в 3-канальные буферы и наоборот.<br/>                                                                                                                                                                                  |
| [**робустмешрефине**](id3dxprtengine--robustmeshrefine.md)                               | Делит лиц на сетку, обеспечивая консервативную адаптивную выборку, которая не будет устранять функции в сети.<br/>                                                                                                                                                                                                                                                                                                                                                   |
| [**скалемешчунк**](id3dxprtengine--scalemeshchunk.md)                                   | Масштабирует все выборки, связанные с заданной подсетью. Метод полезен для вычисления рассеивания подповерхности.<br/>                                                                                                                                                                                                                                                                                                                                                       |
| [**сеткаллбакк**](id3dxprtengine--setcallback.md)                                         | Задает указатель на необязательную функцию обратного вызова, которая вычисляет процент завершенных расчетов между сферами (SH) и дает вызывающему объекту возможность прервать симулятор.<br/>                                                                                                                                                                                                                                                                               |
| [**сетмешматериалс**](id3dxprtengine--setmeshmaterials.md)                               | Задает свойства материала сетки в трехмерной сцене. Используйте этот метод, чтобы указать параметры геоточечной подповерхности.<br/>                                                                                                                                                                                                                                                                                                                                                             |
| [**сетминмаксинтерсектион**](id3dxprtengine--setminmaxintersection.md)                     | Устанавливает минимальное и максимальное расстояние пересечения между трехмерными объектами. Эти значения расстояния можно использовать для управления минимальным или максимальным расстоянием, в течение которых объекты могут быть темными или отражать освещение. Например, метод можно использовать для ограничения затенения ближайших функций трехмерной модели.<br/>                                                                                                                                                                          |
| [**сетпертекселалбедо**](id3dxprtengine--setpertexelalbedo.md)                             | Задает значение албедо для каждого шаг текселя, перезаписывая предыдущие значения албедо.<br/>                                                                                                                                                                                                                                                                                                                                                                                                |
| [**сетпертекселнормал**](id3dxprtengine--setpertexelnormal.md)                             | Задает стандартный вектор для каждого шаг текселя в объекте текстуры. Этот метод используется для хранения векторов нормали вершин из сетки (или интерполяции нормалей вершин, если выполняется вычисление предварительно вычисленных радианце передаваемых данных (PRT) на основе пикселя).<br/>                                                                                                                                                                                                                                          |
| [**сетпервертексалбедо**](id3dxprtengine--setpervertexalbedo.md)                           | Задает значение албедо для каждой вершины сетки, перезаписывая предыдущие значения албедо.<br/>                                                                                                                                                                                                                                                                                                                                                                                          |
| [**сетсамплингинфо**](id3dxprtengine--setsamplinginfo.md)                                 | Задает свойства выборки, используемые симулятором предварительно вычисленной радианценой пересылки (PRT).<br/>                                                                                                                                                                                                                                                                                                                                                                                     |
| [**шадоврайинтерсектс**](id3dxprtengine--shadowrayintersects.md)                         | Использует эффективную трассировку лучей в предварительно вычисленном моделировании радианце (PRT), чтобы определить, пересекаются ли луч с сеткой. Обычно используется для определения того, находится ли заданная точка в теневом виде.<br/>                                                                                                                                                                                                                                                                             |



 

## <a name="remarks"></a>Комментарии

Для преобразования RGB в значения светимости используется следующая формула:


```
Luminance = R * 0.2125 + G * 0.7154 + B * 0.0721
```



Интерфейс **ID3DXPRTEngine** получается путем вызова функции [**D3DXCreatePRTEngine**](d3dxcreateprtengine.md) .

Тип LPD3DXPRTENGINE определяется как указатель на интерфейс **ID3DXPRTEngine** .


```
typedef interface ID3DXPRTEngine ID3DXPRTEngine;
typedef interface ID3DXPRTEngine *LPD3DXPRTENGINE;
```



## <a name="requirements"></a>Требования



| Требование | Значение |
|--------------------|----------------------------------------------------------------------------------------|
| Header<br/>  | <dl> <dt>D3DX9Mesh. h</dt> </dl> |
| Библиотека<br/> | <dl> <dt>D3dx9. lib</dt> </dl>   |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[Интерфейсы D3DX](dx9-graphics-reference-d3dx-interfaces.md)
</dt> <dt>

[**D3DXCreatePRTEngine**](d3dxcreateprtengine.md)
</dt> <dt>

[Предварительно вычисленный перенос Радианце (Direct3D 9)](precomputed-radiance-transfer.md)
</dt> </dl>

 

 
