---
description: Блокировка ресурса означает предоставление ЦП доступа к своему хранилищу.
ms.assetid: b17d8262-e514-4b9c-9237-653a4258a14e
title: Блокировка ресурсов (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c6cdb7cde646bd5073bc0c5b574694be69f05f1bf15d8c5c08e00b7182cfe044
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118799497"
---
# <a name="locking-resources-direct3d-9"></a>Блокировка ресурсов (Direct3D 9)

Блокировка ресурса означает предоставление ЦП доступа к своему хранилищу. Для ресурсов определены следующие параметры блокировки.

-   D3DLOCK \_ отбросить
-   D3DLOCK \_ ReadOnly
-   D3DLOCK \_ нуверврите
-   D3DLOCK \_ носислокк
-   D3DLOCK \_ без \_ "грязного" \_ обновления

Дополнительные сведения о флагах блокировки и их связи с конкретными ресурсами см. на страницах справочника по отдельным методам блокировки ресурсов. Разработчикам приложений следует отметить, что \_ Флаги D3DLOCK Discard, D3DLOCK \_ ReadOnly и D3DLOCK \_ нуверврите являются указаниями. Во время выполнения не проверяется, являются ли приложения следующими функциями, указанными в этих флагах. Приложение, которое указывает D3DLOCK \_ ReadOnly, но затем выполняет запись в ресурс, должно предполагать неопределенные результаты. Как правило, работа с флагами блокировки, включая флаги блокировки использования, не гарантируется для работы в более поздних выпусках и может привести к значительному снижению производительности.

За операцией блокировки следует операция разблокировки. Например, после блокировки текстуры приложение впоследствии освобождает прямой доступ к заблокированным текстурам, разблокируя их. Помимо предоставления доступа к процессору, любые другие операции, включающие этот ресурс, сериализуются в течение блокировки. Разрешена только одна блокировка для ресурса, даже для неперекрывающихся регионов, и никакие операции ускорителя на поверхности не могут быть выполнены, пока операция блокировки не будет завершена на этой поверхности.

Каждый интерфейс ресурсов имеет методы для блокировки содержащихся буферов. Каждый ресурс текстуры также может блокировать часть этого ресурса. 2D-ресурсы (поверхности) позволяют блокировать подпрямоугольники, а ресурсы тома позволяют блокировать подразделы или поля. Каждый метод блокировки возвращает структуру, содержащую указатель на хранилище, в котором хранятся данные о ресурсе, и значения, представляющие расстояния между строками или плоскостями данных в зависимости от типа ресурса. Дополнительные сведения см. в списке методов для интерфейсов ресурсов. Возвращаемый указатель всегда указывает на левый верхний байт в заблокированных областях.

При работе с буферами индексов и вершин можно выполнять несколько вызовов блокировок. Однако необходимо убедиться, что количество вызовов блокировок соответствует числу вызовов Unlock.

Дкстн сохраняет пиксели в закодированных блоках 4x4 и может блокироваться только на границах 4x4.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Ресурсы Direct3D](direct3d-resources.md)
</dt> </dl>

 

 



