---
title: Общий доступ к суррогатам
description: Серверы DLL будут совместно использовать суррогат, если они совпадают с удостоверениями безопасности и имеют одинаковое значение AppID.
ms.assetid: 88544be1-4716-47b6-9c08-2b5b2b178e1f
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6f6a934f03d42113cf73df4f059ac108801d21ea
ms.sourcegitcommit: 9eebab0ead09cecdbc24f5f84d56c8b6a7c22736
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/10/2021
ms.locfileid: "124369725"
---
# <a name="surrogate-sharing"></a>Общий доступ к суррогатам

Серверы DLL будут совместно использовать суррогат, если они совпадают с удостоверениями безопасности и имеют одинаковое значение AppID.

По умолчанию серверы DLL загружаются в собственный суррогатный процесс. Чтобы загрузить другие серверы DLL в существующий суррогат, чтобы он поддерживал более одного сервера DLL, необходимо выполнить два требования.

-   Серверы DLL должны иметь одинаковое значение AppID.
-   Контекст безопасности серверов DLL должен быть одним и тем же.

Если два сервера DLL должны запускаться с разными идентификаторами безопасности, они должны находиться в разных суррогатах, независимо от того, совпадают ли их идентификаторы.

Ниже приведен пример администрирования общего доступа к суррогатам с AppID.

``` syntax
    AppID
        {12345678-0000-0000-0000-abcdabcdabcd}
            @DllSurrogate    REG_SZ
    CLSID
        {12345678-0000-0000-0000-000000000001}
            @AppId    REG_SZ    {12345678-0000-0000-0000-abcdabcdabcd}
            InProcServer32
    @    REG_SZ    c:\myapp\comp1.dll
        {12345678-0000-0000-0000-000000000002}
            @AppId    REG_SZ    {12345678-0000-0000-0000-abcdabcdabcd}
            InProcServer32
    @    REG_SZ    c:\myapp\comp2.dll
 
```

Два идентификатора CLSID для компонентов DLL comp1.dll и comp2.dll настроены для совместного использования AppID. Ключ [AppID](appid-key.md) указывает, что сервер DLL можно загрузить в суррогат, указав значение [дллсуррогате](dllsurrogate.md) . В этом примере значение **дллсуррогате** — это пустая строка, указывающая, что следует использовать системную реализацию СУРРОГАТНОЙ библиотеки DLL по умолчанию.

## <a name="related-topics"></a>Связанные разделы

<dl> <dt>

[Требования к серверу DLL](dll-server-requirements.md)
</dt> <dt>

[Регистрация сервера DLL для активации суррогатных символов](registering-the-dll-server-for-surrogate-activation.md)
</dt> </dl>

 

 




