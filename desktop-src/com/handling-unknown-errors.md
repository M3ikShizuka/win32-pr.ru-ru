---
title: Обработка неизвестных ошибок
description: Обработка неизвестных ошибок
ms.assetid: d6a4cc60-8320-4b67-9f2e-7c4bea6c37fb
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d8c3d9e70b89a9a78be62d2940ad8a69ac34c8f7
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "104068537"
---
# <a name="handling-unknown-errors"></a>Обработка неизвестных ошибок

Допускается возврат кода состояния только из реализации метода интерфейса, санкционированный на получение законных результатов. Несоблюдение этого правила дает возможность конфликта между возвращаемыми значениями кода ошибки и теми, которые санкционированы в приложении. Обратите особое внимание на эту потенциальную проблему при распространении кодов ошибок из функций, которые вызываются внутренним образом.

Приложения, вызывающие интерфейсы, должны обрабатывать все неизвестные возвращенные коды ошибок (в отличие от кода успешного выполнения) как синонима с \_ непредвиденным кодом E. Эта практика обработки неизвестных кодов ошибок необходима клиентам интерфейсов и функций, определяемых моделью COM. Поскольку типичная практика программирования заключается в подробной обработке нескольких специфических кодов ошибок и универсальности, это требование к обработке непредвиденных или неизвестных кодов ошибок легко.

При вызове метода интерфейса важно выполнять все возможные ошибки. Невыполнение этого действия может привести к сбою приложения, повреждению данных или к уязвимости в системе безопасности. В следующем примере кода показан рекомендуемый способ обработки неизвестных ошибок.


```C++
HRESULT hr; 
hr = xxMethod(); 
 
switch (GetScode(hr))  
{ 
    case NOERROR: 
      // Method returned success. 
      break; 
 
    case x1: 
      // Handle error x1 here.
      break; 
 
    case x2: 
      // Handle error x2 here.
      break; 
 
    case E_UNEXPECTED: 
    default: 
      // Handle unexpected errors here. 
      break; 
} 
 
```



Следующая проверка ошибок часто используется с теми подзадачами, которые не возвращают никаких специальных (кроме \_ "ОК" или непредвиденной ошибки).


```C++
if (xxMethod() == NOERROR) 
{
    // Handle success here.
} 
else 
{
    // Handle failure here.
} 
```



## <a name="related-topics"></a>См. также

<dl> <dt>

[Обработка ошибок в COM](error-handling-in-com.md)
</dt> </dl>

 

 




