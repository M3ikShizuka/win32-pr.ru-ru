---
title: Общий согласование безопасности
description: Общий согласование безопасности
ms.assetid: 5a01912d-611c-4a6e-ab9d-0243cba331f1
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e51407de908eaaf0f79eea452046f8e424ccf900
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/21/2020
ms.locfileid: "104070695"
---
# <a name="security-blanket-negotiation"></a>Общий согласование безопасности

Контракт безопасности — это группа значений, описывающих параметры безопасности, которые применяются ко всем учетным записям-посредникам в процессе или только к определенному прокси интерфейса. Общий уровень безопасности состоит из следующих значений:

-   Служба проверки подлинности
-   Служба авторизации
-   Имя участника
-   Уровень проверки подлинности
-   Уровень олицетворения
-   Удостоверение проверки подлинности
-   Возможности
-   Список управления доступом (ACL) (только серверы)

Безопасность — это процесс, используемый COM для выбора параметров безопасности прокси-сервера при его создании. Этот процесс подразумевает сравнение безопасности сервера, относящегося к безопасности клиента, и использование этих значений для создания соответствующей безопасности по умолчанию, применяемой для прокси-сервера. В следующих параграфах объясняется, откуда берутся контракты безопасности клиента и сервера, а также описывается, как COM согласовывает безопасность, характерную для прокси-сервера, с помощью контракта безопасности клиента и сервера.

Клиент и сервер могут вызывать [**CoInitializeSecurity**](/windows/desktop/api/combaseapi/nf-combaseapi-coinitializesecurity) , чтобы указать их соответствующие методы обеспечения безопасности. Если приложение не вызывает **CoInitializeSecurity** явным образом, COM вызывает его неявно для приложения, используя соответствующие значения по умолчанию. Дополнительные сведения об этих значениях по умолчанию см. в разделе [Параметры безопасности COM по умолчанию](com-security-defaults.md).

Некоторые параметры для [**CoInitializeSecurity**](/windows/desktop/api/combaseapi/nf-combaseapi-coinitializesecurity) применяются, когда приложение является сервером, а некоторые применяются, когда приложение является клиентом. Если приложение выступает в роли сервера, эти параметры имеют отношение к ACL, списку кортежей службы проверки подлинности или имени участника и уровню проверки подлинности. Вызов сервера **CoInitializeSecurity**, независимо от того, является ли он явным или неявным, определяет безопасность сервера, который остается фиксированным.

Когда приложение выступает в роли клиента, важны следующие значения, передаваемые в [**CoInitializeSecurity**](/windows/desktop/api/combaseapi/nf-combaseapi-coinitializesecurity) : уровень проверки подлинности, уровень олицетворения, удостоверение проверки подлинности и возможности. Неявный или явный вызов **CoInitializeSecurity** указывает на безопасность, которую хочет клиент.

При создании прокси-сервера модель COM использует значения, заданные в параметрах безопасности сервера "общий" и "Клиентская безопасность", для согласования параметров безопасности по умолчанию, подходящих для прокси-сервера. COM выбирает службу проверки подлинности, которая работает как на клиенте, так и на сервере. Служба авторизации и имя участника выбираются для работы со службой проверки подлинности. Для уровня проверки подлинности COM выбирает выше уровни проверки подлинности, заданные клиентом и сервером. Уровень олицетворения и возможности, выбранные моделью COM, задаются клиентом. Удостоверение проверки подлинности указывается клиентом для выбранной службы проверки подлинности.

После того как общий уровень безопасности по умолчанию будет вычислен, его значения будут назначены вновь созданному прокси-серверу. Клиент может переопределить параметры безопасности для прокси-сервера, вызвав [**иклиентсекурити:: сетбланкет**](/windows/win32/api/objidl/nf-objidl-iclientsecurity-setblanket). Значения, указанные для **сетбланкет** , не согласовываются. они просто назначаются указанному прокси-серверу. Однако, если параметры по умолчанию (такие как RPC \_ C \_ \_ \_ по умолчанию) передаются в **сетбланкет**, com использует ранее описанный алгоритм согласования безопасности контракта для расчета параметров по умолчанию.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Безопасность в COM](security-in-com.md)
</dt> </dl>

 

 