---
title: снего
description: Снего, идентификатор службы проверки подлинности которого — RPC \_ C \_ AUTHN \_ GSS \_ Negotiate, фактически не предоставляет службы проверки подлинности.
ms.assetid: 2087a84c-d302-4511-9f02-2d20ee9e0d8e
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a82f8da58cc77ebfd4debd0763ad4af6e1c96d3e88d9ede69ff82a28e3d8a5ba
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119129816"
---
# <a name="snego"></a>снего

Снего, идентификатор службы проверки подлинности которого — RPC \_ C \_ AUTHN \_ GSS \_ Negotiate, фактически не предоставляет службы проверки подлинности. Вместо этого он получает список служб проверки подлинности и согласовывает службу, которая будет работать между клиентом и сервером. Параметры проверки подлинности не используются снего, но передаются в выбранную службу проверки подлинности, которая выполняет фактическую проверку подлинности. Снего был стандартизован в стандарте Internet Engineering Task Force (IETF) в декабре 1998 в документе [RFC 2478](https://www.ietf.org/rfc/rfc2478.txt).

Снего полезен, если неизвестно, какие службы проверки подлинности может предоставить удаленный компьютер.

Чтобы использовать снего, как клиент, так и сервер должны указать снего в качестве службы проверки подлинности. Сервер указывает, \_ что RPC C \_ AUTHN \_ GSS \_ согласовывается как член **двауснсвк** одной из структур [**\_ \_ службы проверки подлинности**](/windows/win32/api/objidlbase/ns-objidlbase-sole_authentication_service) в параметре массива *асауссвк* , который передается [**CoInitializeSecurity**](/windows/desktop/api/combaseapi/nf-combaseapi-coinitializesecurity). Клиент может указать снего путем вызова [**CoSetProxyBlanket**](/windows/desktop/api/combaseapi/nf-combaseapi-cosetproxyblanket) и передачи RPC \_ C \_ AUTHN \_ GSS \_ для согласования в качестве параметра *двауснсвк* . Клиент должен также предоставить список возможных служб проверки подлинности для снего с помощью члена **паккажелист** в [**секунду с \_ \_ \_ удостоверением проверки \_**](/windows/desktop/api/sspi/ns-sspi-_sec_winnt_auth_identity_exa) подлинности WinNT, который передается в параметр *паусинфо* при вызове метода **CoSetProxyBlanket**. Если *паусинфо* имеет **значение NULL**, снего формирует список служб проверки подлинности из пакетов безопасности, установленных на компьютере. Затем снего отправляет список служб проверки подлинности на сервер, сравнивает список с доступными службами проверки подлинности сервера и выбирает службу проверки подлинности, которая будет использоваться для подключения.

> [!Note]  
> SChannel не может быть в списке служб проверки подлинности, используемых снего.

 

Клиенты также могут указать снего при вызове [**CoInitializeSecurity**](/windows/desktop/api/combaseapi/nf-combaseapi-coinitializesecurity). Параметры *двауснсвк* и *паусинфо* [**CoSetProxyBlanket**](/windows/desktop/api/combaseapi/nf-combaseapi-cosetproxyblanket) становятся членами [**единственной структуры \_ \_ сведений о проверке подлинности**](/windows/win32/api/objidlbase/ns-objidlbase-sole_authentication_info) , которая передается **CoInitializeSecurity** через его параметр *пауслист* . Сведения о значениях этих элементов одинаковы, как описано в предыдущем абзаце.

Если используется снего, вызовы метода [**кокуерипроксибланкет**](/windows/desktop/api/combaseapi/nf-combaseapi-coqueryproxyblanket) или [**кокуериклиентбланкет**](/windows/desktop/api/combaseapi/nf-combaseapi-coqueryclientblanket) будут возвращать снего в качестве службы проверки подлинности, а не действующей службы проверки подлинности, которая снего выбрана для установления соединения.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Пакеты безопасности и COM](com-and-security-packages.md)
</dt> </dl>

 

 