---
title: Константы уровня олицетворения (Рпкдце. h)
description: Задает уровень олицетворения, указывающий количество полномочий, предоставленных серверу при олицетворении клиента.
ms.assetid: ea5a3b46-b607-4192-a3cc-b2ec55ca94a6
topic_type:
- apiref
api_name:
- RPC_C_IMP_LEVEL_DEFAULT
- RPC_C_IMP_LEVEL_ANONYMOUS
- RPC_C_IMP_LEVEL_IDENTIFY
- RPC_C_IMP_LEVEL_IMPERSONATE
- RPC_C_IMP_LEVEL_DELEGATE
api_location:
- RpcDce.h
api_type:
- HeaderDef
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 7dbc4b4a74871eb111b778d798587e53027053fe57cc8cda837a3aafb7c24d74
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119048492"
---
# <a name="impersonation-level-constants"></a>Константы уровня олицетворения

Задает уровень олицетворения, указывающий количество полномочий, предоставленных серверу при олицетворении клиента.



| Константа/значение                                                                                                                                                                                                                                                    | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="RPC_C_IMP_LEVEL_DEFAULT"></span><span id="rpc_c_imp_level_default"></span><dl> <dt>**RPC \_ \_ \_ \_ По умолчанию на уровне "C**</dt> " <dt></dt> </dl>             | DCOM может выбрать уровень олицетворения с помощью обычного алгоритма согласования безопасности общего доступа. Дополнительные сведения см. в разделе [Безопасность — общий согласование](security-blanket-negotiation.md).<br/>                                                                                                                                                                                                                                                                           |
| <span id="RPC_C_IMP_LEVEL_ANONYMOUS"></span><span id="rpc_c_imp_level_anonymous"></span><dl> <dt>**RPC \_ Уровень "н/д", \_ \_ \_ Анонимный**</dt> <dt>1</dt> </dl>       | Клиент анонимен по отношению к серверу. Серверный процесс может олицетворять клиента, но маркер олицетворения не будет содержать никаких сведений и не может использоваться.<br/>                                                                                                                                                                                                                                                                                                 |
| <span id="RPC_C_IMP_LEVEL_IDENTIFY"></span><span id="rpc_c_imp_level_identify"></span><dl> <dt>**RPC \_ Уровень Imp в C, \_ \_ \_ идентификатор**</dt> <dt>2</dt> </dl>          | Сервер может получить удостоверение клиента. Сервер может олицетворять клиента для проверки ACL, но не может получить доступ к системным объектам в качестве клиента. <br/>                                                                                                                                                                                                                                                                                                               |
| <span id="RPC_C_IMP_LEVEL_IMPERSONATE"></span><span id="rpc_c_imp_level_impersonate"></span><dl> <dt>**RPC \_ На языке C — \_ \_ уровень \_ олицетворения**</dt> <dt>3</dt> </dl> | Серверный процесс может олицетворять контекст безопасности клиента, действуя от имени клиента. Этот уровень олицетворения можно использовать для доступа к локальным ресурсам, например файлам. При олицетворении на этом уровне токен олицетворения может передаваться только через один компьютер. Служба проверки подлинности [SChannel](schannel.md) поддерживает только этот уровень олицетворения. <br/>                                                                      |
| <span id="RPC_C_IMP_LEVEL_DELEGATE"></span><span id="rpc_c_imp_level_delegate"></span><dl> <dt>**RPC \_ \_ \_ \_ Делегат уровня Imp в C**</dt> <dt></dt> </dl>          | Серверный процесс может олицетворять контекст безопасности клиента, действуя от имени клиента. Серверный процесс также может выполнять исходящие вызовы других серверов, действуя от имени клиента, используя маскировку. Сервер может использовать контекст безопасности клиента на других компьютерах для доступа к локальным и удаленным ресурсам в качестве клиента. При олицетворении на этом уровне маркер олицетворения может передаваться через любое число границ компьютера.<br/> |



## <a name="remarks"></a>Remarks

При олицетворении на уровне Identify происходит сбой задания [**имени пользователя**](/windows/desktop/api/winbase/nf-winbase-getusernamea) . Обходной путь заключается в олицетворении, вызове [**опенсреадтокен**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-openthreadtoken), возврате, вызове [**GetTokenInformation**](/windows/desktop/api/securitybaseapi/nf-securitybaseapi-gettokeninformation)и, наконец, вызове [**LookupAccountSid**](/windows/desktop/api/winbase/nf-winbase-lookupaccountsida). Используя [**CoSetProxyBlanket**](/windows/desktop/api/combaseapi/nf-combaseapi-cosetproxyblanket), клиент устанавливает уровень олицетворения

Используя [**CoSetProxyBlanket**](/windows/desktop/api/combaseapi/nf-combaseapi-cosetproxyblanket), клиент устанавливает уровень олицетворения и удостоверение прокси-сервера, которые будут доступны при вызове сервером [**коимперсонатеклиент**](/windows/desktop/api/combaseapi/nf-combaseapi-coimpersonateclient). Удостоверение, которое будет отображаться сервером при олицетворении, описано в разделе [маскировка](cloaking.md). Обратите внимание, что при выполнении вызова во время олицетворения вызываемый объект обычно получает маркер процесса вызывающей стороны, а не маркер олицетворения вызывающего объекта. Чтобы получить маркер олицетворения вызывающего объекта, вызывающий объект должен включить маскировку.

## <a name="requirements"></a>Requirements (Требования)



| Требование | Значение |
|-------------------------------------|-------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows 2000 Professional \[только классические приложения\]<br/>                          |
| Минимальная версия сервера<br/> | Windows 2000 Server \[только классические приложения\]<br/>                                |
| Заголовок<br/>                   | <dl> <dt>Рпкдце. h</dt> </dl> |



## <a name="see-also"></a>См. также

<dl> <dt>

[Маскировка](cloaking.md)
</dt> </dl>

 

