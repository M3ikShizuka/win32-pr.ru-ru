---
title: Модель Data-Pull и модель Data-Push
description: Модель Data-Pull и модель Data-Push
ms.assetid: ba0e8532-9c7b-4e15-9c27-8205d738fc4b
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ab89f61301f9116a7e826f1965bd54f75004a3a90af8c9d1a1bc13acb1fc9c46
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119048452"
---
# <a name="data-pull-model-and-data-push-model"></a>Модель Data-Pull и модель Data-Push

Клиент асинхронного моникера может выбирать между моделью извлечения данных и принудительной отправкой данных для выполнения асинхронной операции [**IMoniker:: биндтостораже**](/windows/desktop/api/ObjIdl/nf-objidl-imoniker-bindtostorage) и получения асинхронных уведомлений. В модели извлечения данных клиент выполняет операцию привязки, и моникер предоставляет клиенту данные только по мере их считывания. Иными словами, после первого вызова [**метода интерфейса IBindStatusCallback:: ондатааваилабле**](/previous-versions/windows/internet-explorer/ie-developer/platform-apis/ms775061(v=vs.85))моникер не предоставляет клиенту никаких данных, если клиент не потребляет все данные, которые уже доступны.

Поскольку данные загружаются только по запросу, клиенты, которые выбирают модель извлечения данных, должны своевременно считывать эти данные. В случае загрузки из Интернета с [моникерами URL-адресов](url-monikers.md)операция привязки может завершиться ошибкой, если клиент ожидает слишком долго перед запросом дополнительных данных.

В модели передачи данных моникер управляет асинхронной операцией привязки и постоянно уведомляет клиента каждый раз, когда новые данные доступны. Клиент может выбрать, следует ли считывать данные в любой момент во время операции привязки, но моникер будет выполнять операцию привязки к завершению независимо.

Кроме того, необходимо следовать правилам COM для выделения памяти при использовании асинхронных моникеров, в частности следующих:

-   Всякий раз, когда COM-интерфейс или вызов функции возвращает буфер (строку или другой) клиенту, клиент несет ответственность за освобождение памяти путем вызова [**CoTaskMemFree**](/windows/desktop/api/combaseapi/nf-combaseapi-cotaskmemfree).
-   Каждый раз, когда интерфейсу или функции COM требуется буфер от клиента, клиент должен выделить этот буфер с помощью метода [**CoTaskMemAlloc**](/windows/desktop/api/combaseapi/nf-combaseapi-cotaskmemalloc) , и вызываемый объект должен освободить его.

Следует соблюдать эти правила при выделении строк или буферов, передаваемых в асинхронные моникеры, и не забывайте освобождать память, возвращенную асинхронными моникерами. Подробные сведения см. в разделе [Управление выделением памяти](the-com-library.md) и связанными разделами.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Асинхронные моникеры](asynchronous-monikers.md)
</dt> </dl>

 

 