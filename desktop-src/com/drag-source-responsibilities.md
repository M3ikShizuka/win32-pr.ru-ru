---
title: Перетаскивание исходных обязанностей
description: Перетаскивание исходных обязанностей
ms.assetid: bafef0c1-f78e-424a-9ed0-07764a60b22d
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 45ce91a795815148f442c19530a552cf7c843332
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/21/2020
ms.locfileid: "105691670"
---
# <a name="drag-source-responsibilities"></a>Перетаскивание исходных обязанностей

Источник перетаскивания отвечает за следующие задачи:

-   Предоставление объекта для переноса данных для целевого объекта перетаскивания, предоставляющего интерфейсы [**IDataObject**](/windows/desktop/api/ObjIdl/nn-objidl-idataobject) и [**идропсаурце**](/windows/desktop/api/OleIdl/nn-oleidl-idropsource) .
-   Создание отзыва указателя и источника.
-   Определение, когда операция перетаскивания была отменена или произошла операция удаления.
-   Выполнение любых действий с исходными данными, вызванными операцией Drop, например удалением данных или созданием ссылки на нее.

Основная задача — создание объекта для перемещения данных, предоставляющего интерфейсы [**IDataObject**](/windows/desktop/api/ObjIdl/nn-objidl-idataobject) и [**идропсаурце**](/windows/desktop/api/OleIdl/nn-oleidl-idropsource) . Источник перетаскивания может содержать или не включать копию выбранных данных. Включение не является обязательным, но это помогает защититься от непреднамеренного изменения и позволяет коду операций с буфером обмена быть идентичен коду перетаскивания.

Пока выполняется операция перетаскивания, источник перетаскивания отвечает за установку указателя мыши и, при необходимости, для предоставления пользователю дополнительных отзывов об источнике. Источник перетаскивания не может предоставить отзыв, который отслеживает расположение мыши, отличное от фактической установки указателя (см. функцию [**сеткурсор**](/windows/win32/api/winuser/nf-winuser-setcursor) ). Это правило должно быть применено во избежание конфликтов с отзывом, предоставленным целью перетаскивания. (Источник перетаскивания также может быть целевым объектом перетаскивания. При удалении самого себя источник или цель, конечно же, могут предоставить обратную связь, чтобы отвести указатель мыши. Однако в данном случае это объект перетаскивания, отслеживающий мышь, а не источник.) Исходя из отзывов, предлагаемых целью перетаскивания, источник устанавливает соответствующий указатель.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Перетаскивание](drag-and-drop.md)
</dt> </dl>

 

 