---
title: Настройка безопасности на уровне прокси-сервера интерфейса
description: Иногда клиент нуждается в детализированном управлении безопасностью при вызовах определенных интерфейсов.
ms.assetid: 72925ca2-78c9-47d9-8760-63f6379326d2
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f8ef969039dcfdc12449b7a8d0a3d63729ab5f84061ade1a743d21a1b6b34331
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118309099"
---
# <a name="setting-security-at-the-interface-proxy-level"></a>Настройка безопасности на уровне прокси-сервера интерфейса

Иногда клиент нуждается в детализированном управлении безопасностью при вызовах определенных интерфейсов. Например, безопасность может быть установлена на низком уровне для процесса, но для вызова определенного интерфейса может потребоваться более высокий уровень проверки подлинности, например шифрование. Методы интерфейса [**иклиентсекурити**](/windows/desktop/api/ObjIdl/nn-objidl-iclientsecurity) позволяют клиенту изменять параметры безопасности, связанные с вызовами определенного интерфейса, контролируя параметры безопасности на уровне интерфейса-посредника.

Клиент может запросить существующий объект для [**иклиентсекурити**](/windows/desktop/api/ObjIdl/nn-objidl-iclientsecurity) , а затем вызвать метод [**Иклиентсекурити:: куерибланкет**](/windows/win32/api/objidl/nf-objidl-iclientsecurity-queryblanket) , чтобы узнать, Каковы текущие параметры безопасности для конкретного прокси-сервера интерфейса. Метод [**иклиентсекурити:: сетбланкет**](/windows/win32/api/objidl/nf-objidl-iclientsecurity-setblanket) можно использовать для изменения параметров безопасности для отдельного прокси-сервера интерфейса в объекте перед вызовом одного из методов интерфейса. Новые параметры применяются ко всем будущим вызывающим объектам этого конкретного интерфейса. Метод [**иклиентсекурити:: копипрокси**](/windows/win32/api/objidl/nf-objidl-iclientsecurity-copyproxy) предоставляет клиенту способ копирования прокси интерфейса, чтобы последующие вызовы **сетбланкет** в копии не влияли на вызывающие объекты исходного прокси-сервера.

[**Сетбланкет**](/windows/win32/api/objidl/nf-objidl-iclientsecurity-setblanket) обычно используется для повышения уровня проверки подлинности для конкретного прокси-сервера интерфейса до более высокого уровня защиты системы безопасности. Однако в некоторых ситуациях также может быть полезно уменьшить уровень проверки подлинности для определенного прокси интерфейса. Например, предположим, что для процесса используется уровень проверки подлинности по умолчанию, отличный от \_ уровня RPC C \_ AUTHN \_ None, \_ а клиент и сервер находятся в разных доменах, которые не являются доверенными. В этом случае вызовы к серверу завершатся ошибкой, если клиент не вызовет **сетбланкет** для понижения уровня проверки подлинности до \_ уровня RPC C \_ AUTHN \_ \_ None.

Клиенты, использующие реализацию по умолчанию [**иклиентсекурити**](/windows/desktop/api/ObjIdl/nn-objidl-iclientsecurity) , предоставляемую диспетчером прокси-сервера, могут вызывать вспомогательные функции [**кокуерипроксибланкет**](/windows/desktop/api/combaseapi/nf-combaseapi-coqueryproxyblanket), [**CoSetProxyBlanket**](/windows/desktop/api/combaseapi/nf-combaseapi-cosetproxyblanket)и [**кокопипрокси**](/windows/desktop/api/combaseapi/nf-combaseapi-cocopyproxy) вместо непосредственного вызова методов **иклиентсекурити** . Вспомогательные функции упрощают код, но немного менее эффективны, чем вызов соответствующих методов **иклиентсекурити** напрямую.

Интерфейс [**иклиентсекурити**](/windows/desktop/api/ObjIdl/nn-objidl-iclientsecurity) реализуется локально для клиента с помощью диспетчера прокси-сервера. Некоторые пользовательские упакованные объекты могут не поддерживать **иклиентсекурити**.

[**Иклиентсекурити**](/windows/desktop/api/ObjIdl/nn-objidl-iclientsecurity) работает со всеми поддерживаемыми службами проверки подлинности (в настоящее время NTLMSSP, SChannel и протоколом Kerberos V5).

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Настройка безопасности для приложений COM](setting-security-for-com-applications.md)
</dt> </dl>

 

 