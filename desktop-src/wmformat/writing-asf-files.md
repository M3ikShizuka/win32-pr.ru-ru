---
title: Запись файлов ASF
description: Запись файлов ASF
ms.assetid: d722b676-bf65-4f91-8118-bb12d3bbb6cb
keywords:
- Windows Media Format SDK, написание файлов ASF
- Windows Media Format SDK, создание файлов ASF
- Windows Media Format SDK, расширенный формат систем (ASF)
- Расширенный системный формат (ASF), запись файлов
- ASF (Расширенный системный формат), запись файлов
- Расширенный системный формат (ASF), создание файлов
- ASF (Расширенный системный формат), создание файлов
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c13c1af0d3699c89d26f007e00675ea563639c4e
ms.sourcegitcommit: 48d1c892045445bcbd0f22bafa2fd3861ffaa6e7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/19/2020
ms.locfileid: "103890240"
---
# <a name="writing-asf-files"></a>Запись файлов ASF

Для создания файлов ASF из цифровых мультимедийных данных можно использовать объект модуля записи пакета SDK Windows Media Format. Чтобы создать экземпляр объекта модуля записи, вызовите функцию [**вмкреатевритер**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-wmcreatewriter) . Объект модуля записи координирует функциональность ряда компонентов, включая кодеки, которые являются внешними по отношению к пакету SDK формата Windows Media.

Основные функциональные возможности объекта модуля записи можно разделить на следующие шаги. На этом этапе "приложение" относится к программе, которую вы пишете с помощью пакета SDK Windows Media Format.

1.  Приложение предоставляет модулю записи профиль для использования при создании файла ASF. Когда модуль записи загружает данные профиля, он назначает номер входного номера каждому соединению профиля.
2.  Приложение предоставляет модулю записи имя выходного файла для записи. Модуль записи создает объект приемника файла модуля записи для управления созданием и входом файла. Дополнительные сведения см. в разделе [объект приемника файла модуля записи](writer-file-sink-object.md).
3.  Модуль записи создает заголовок для нового файла на основе информации в профиле.
4.  Приложение передает несжатые образцы в модуль записи. Образцы передаются по одному за раз в буферах, упакованных в объекты буфера. Приложение должно передавать образцы для каждого потока параллельно, чтобы модуль записи получал все примеры в порядке времени презентации.
5.  Модуль записи передает образцы в соответствующий кодек для сжатия. Когда модуль записи получает сжатые образцы, он покидает их с помощью примеров из других потоков, чтобы образцы перейдут в файл в порядке времени презентации независимо от потока. Затем образцы данных вносятся в пакеты и записываются в раздел данных файла.
6.  Когда обрабатываются все образцы, модуль записи может добавить в файл индекс, чтобы улучшить поиск производительности.

Эти действия проиллюстрированы в примере приложения Вмстатс, а не в других. Дополнительные сведения см. в разделе [примеры приложений](sample-applications.md).

Модуль записи также поддерживает более широкие возможности, что позволяет выполнять следующие действия.

-   Изменение метаданных в заголовке файла.
-   Запись предварительно сжатых образцов.
-   Запись в сетевые приемники для потоковой передачи динамических данных.
-   Запись в приемники файлов для дополнительных параметров управления файлами.
-   Запись в приемники push-уведомлений для распространения на серверы, которые будут доставлять содержимое конечным пользователям.
-   Доставьте образцы для просмотра на просмотр для проверки выходных данных.
-   Модуль записи доставки — статистика производительности.

В следующих разделах подробно описывается использование объекта модуля записи.



| Section                                                                    | Описание                                                                                            |
|----------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------|
| [Использование профилей с модулем записи](to-use-profiles-with-the-writer.md)     | Описывает, как указать профиль для использования с модулем записи.                                             |
| [Работа с входными данными](working-with-inputs.md)                             | Описывает, как определить и настроить входные параметры в модуле записи.                              |
| [Изменение метаданных с помощью модуля записи](to-edit-metadata-with-the-writer.md)   | Описывает использование модуля записи для изменения метаданных нового файла.                                       |
| [Написание образцов](to-write-samples.md)                                   | Описывает, как передавать образцы в модуль записи.                                                           |
| [Настройка модулей обработки данных](setting-data-unit-extensions.md)           | Описывает добавление расширенных данных в образцы.                                                         |
| [Написание сжатых образцов](writing-compressed-samples.md)               | Описывает, как передавать предварительно сжатые образцы в модуль записи.                                            |
| [Запись потоков изображений](writing-image-streams.md)                         | Описывает настройку входных данных для потока изображений.                                               |
| [Написание примеров видеороликов](writing-video-image-samples.md)             | Описывает, как настроить образцы видеороликов.                                                        |
| [Запись потоков переменной скорости](writing-variable-bit-rate-streams.md) | Описание процесса записи потоков с переменным битом скорости (VBR).                                                |
| [Использование кодировки Two-Pass](using-two-pass-encoding.md)                     | Описывает, как кодек выполняет предварительный этап перед записью файла.                    |
| [Принудительная Вставка Key-Frame](to-force-key-frame-insertion.md)           | Описывает, как вручную заставить кодек кодировать образец как ключевой кадр.                           |
| [Управление задержкой записи](to-manage-writer-latency.md)                   | Описывает, как максимально сокращать время, затрачиваемое средством записи на обработку образцов в выходной файл или приемник. |
| [Работа с приемниками модуля записи](working-with-writer-sinks.md)                 | Описывает, как использовать приемники модуля записи для доставки содержимого в файлы или сетевые расположения.               |
| [Получение статистики модуля записи](to-get-writer-statistics.md)                   | Описывает, как получить статистику для модуля записи.                                                        |
| [Использование записи для просмотра](to-use-writer-postview.md)                       | Описывает, как получить несжатые образцы при написании файла для проверки.                        |



 

## <a name="related-topics"></a>См. также

<dl> <dt>

[**Инструкции по программированию**](programming-guide.md)
</dt> <dt>

[**Объект приемника файлов модуля записи**](writer-file-sink-object.md)
</dt> <dt>

[**Объект приемника сети модуля записи**](writer-network-sink-object.md)
</dt> <dt>

[**Объект модуля записи**](writer-object.md)
</dt> </dl>

 

 




