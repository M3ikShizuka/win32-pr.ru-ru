---
title: Взаимное исключение
description: Взаимное исключение
ms.assetid: 3a3f6763-a241-4bbd-a6e8-62041b05622d
keywords:
- Пакет SDK для Windows Media Format, взаимное исключение
- Расширенный формат систем (ASF), взаимное исключение
- ASF (Расширенный системный формат), взаимное исключение
- Windows Media Format SDK, взаимное исключение MBR
- Расширенный формат систем (ASF), взаимное исключение MBR
- ASF (расширенный формат систем), взаимное исключение MBR
- Windows Media Format SDK, несколько битов (MBR)
- Расширенный формат систем (ASF), несколько битов (MBR)
- ASF (Расширенный системный формат), несколько битов (MBR)
- взаимное исключение, сведения
- несколько битов (MBR), взаимное исключение
- MBR (Многоразрядная скорость), взаимное исключение
- взаимное исключение, скорость потока
- взаимное исключение, язык
- взаимное исключение, презентация
- взаимное исключение, неизвестно
- взаимное исключение, функции
- взаимное исключение, дополнительные возможности
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cd00bf5bcb544d2541a6bc5465171fe9bacc1b9c
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "103889124"
---
# <a name="mutual-exclusion"></a>Взаимное исключение

Каждый ASF – файл содержит один или несколько потоков, каждый из которых содержит цифровые данные мультимедиа. В нормальных обстоятельствах каждый поток связан с одним выходом. При воспроизведении объект Reader предоставляет образцы для каждого выхода. Таким образом, по умолчанию каждый поток в ASF-файле доставляется модулем чтения при воспроизведении.

Бывают ситуации, когда не требуется, чтобы каждый поток доставлялся клиенту. Например, если вы создадите видеофайл с пятью звуковыми потоками, по одному на каждый из пяти языков, вам нужно доставить только один из них за раз. Взаимное исключение является компонентом пакета SDK Windows Media Format, который позволяет указать несколько взаимоисключающих потоков, каждый из которых будет одинаковым выходом.

Взаимное исключение определяется в профиле, используемом для создания файла. Взаимное исключение настраивается в профиле с помощью взаимоисключающих объектов. Потоки добавляются в объект взаимного исключения по одному за раз, устанавливают тип и включают объект в профиль.

Пакет SDK для формата Windows Media поддерживает четыре типа взаимного исключения:

-   Скорость потока
-   Язык
-   Уровень представления
-   Неизвестно

## <a name="mutual-exclusion-by-bit-rate"></a>Взаимное исключение по скорости разрядности

Взаимное исключение поразрядной скорости — это особый тип взаимного исключения, который чаще всего называется взаимным исключением с несколькими битовыми частотами (MBR). Взаимное исключение MBR содержит ряд потоков, исходящих из одних и тех же входных данных, но закодированных с разной скоростью. При воспроизведении файла с помощью MBR средство чтения определяет оптимальный поток, используемый в зависимости от доступной пропускной способности.

Пакет SDK Windows Media Format поддерживает MBR для аудио-и видеопотоков. Пакет SDK также поддерживает Специальный тип видео MBR, который называется размером MBR для нескольких видеороликов. Это похоже на нормальное видео MBR, за исключением того, что отдельные потоки могут иметь разные размеры кадров. Например, у вас могут быть некоторые потоки с размером видео по умолчанию 320 x 240, а также некоторые другие с более высокими скоростями и размером изображения 640 x 480.

## <a name="mutual-exclusion-by-language"></a>Взаимное исключение по языку

Взаимное исключение на основе языка предназначено для использования с содержимым (обычно аудио), записанным на нескольких языках. Взаимное исключение на основе языка включает несколько потоков, исходящих из уникальных входных данных. Каждый вход имеет одно и то же содержимое, но на другом языке.

Для взаимного исключения по языку приложение для чтения должно включать логику для выбора соответствующего языка. Если вы напишете приложение для воспроизведения файлов ASF и хотите поддерживать файлы с взаимным исключением на основе языка, следует выбрать соответствующий поток перед началом воспроизведения.

## <a name="mutual-exclusion-by-presentation"></a>Взаимное исключение по презентации

Взаимное исключение на основе презентации предоставляется для поддержки потоков видео, содержащих то же содержимое в кодировке с разными пропорциями. Как правило, он используется при предоставлении видео в леттербокс версии (пропорции 16:9), а также в формате для экранов телепередач (пропорции 4:3).

Выбор презентации для воспроизведения чаще всего определяется пользователем. При написании приложения для воспроизведения файлов ASF и необходимости поддержки файлов с взаимным исключением на основе презентации необходимо предоставить пользователю возможность выбрать тип представления для просмотра.

## <a name="unknown-mutual-exclusion"></a>Неизвестное взаимное исключение

Можно создать взаимное исключение на основе любого требуемого критерия. Все пользовательские типы взаимных исключений следует создавать с помощью неизвестного типа.

## <a name="advanced-mutual-exclusion-features"></a>Расширенные функции взаимного исключения

Можно также использовать взаимное исключение для назначения потоков группам, которые являются взаимоисключающими друг с другом. Например, может потребоваться использовать звуковые потоки на нескольких языках и назначать каждому из них свой поток видео. Взаимное исключение используется для группирования каждого звукового потока с соответствующим видеопотоком и делает все группы взаимоисключающими.

Модуль чтения автоматически выбирает потоки для всех взаимоисключающих исключений. Для всех типов взаимного исключения, кроме MBR и взаимного исключения на основе языка, читатель всегда выбирает поток по умолчанию, который является первым потоком, добавленным в объект взаимного исключения в профиле. Для MBR средство чтения выбирает поток, который лучше подходит для доступной пропускной способности во время воспроизведения. Если вы не хотите использовать поток по умолчанию, можно задать для параметра потокового выбора значение вручную, прежде чем начать чтение файла.

Выбор потока вручную применяется ко всему файлу. Проблемы могут возникать при наличии взаимного исключения различных типов в одном файле. Например, файл может содержать как взаимное исключение на основе битовой скорости, так и пользовательское взаимное исключение. Чтобы выбрать поток, отличный от значения по умолчанию в настраиваемом взаимном исключении, необходимо использовать ручной выбор потока. Однако если вы используете ручной выбор потока, модуль чтения не будет автоматически выбирать поток многоразрядной скорости. Если планируется поддержка нескольких типов взаимного исключения в одном файле, необходимо спланировать эту возможность в приложении. Обычно это означает создание собственных подпрограмм выбора потоков для обычно автоматических типов взаимного исключения.

## <a name="related-topics"></a>См. также

<dl> <dt>

[**Функции файлов ASF**](asf-file-features.md)
</dt> <dt>

[**Использование взаимного исключения**](using-mutual-exclusion.md)
</dt> </dl>

 

 




