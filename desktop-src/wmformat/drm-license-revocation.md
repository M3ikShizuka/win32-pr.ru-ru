---
title: отзыв лицензий (Microsoft Windows Media DRM Client)
description: отзыв лицензий (Microsoft Windows Media DRM Client)
ms.assetid: 615ddddf-4f2f-400d-9c4d-ff3a2851d699
keywords:
- Windows Пакет SDK для формата мультимедиа, лицензии
- Windows Пакет SDK для формата мультимедиа, отзыв лицензий
- Управление цифровыми правами (DRM), лицензии
- DRM (Управление цифровыми правами), лицензии
- Управление цифровыми правами (DRM), отзыв лицензий
- DRM (Управление цифровыми правами), отзыв лицензий
- Расширенные API клиента DRM, лицензии
- Расширенные API клиента, лицензии
- Расширенные API клиента DRM, отзыв лицензий
- Расширенные API клиента, отзыв лицензий
- лицензии, отзыв
- Отзыв лицензий, сведения
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5f3cd295ddc1aec40c04f5284d791d7482854208a17875bdd3ed60d998f4ccf9
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119027842"
---
# <a name="license-revocation-microsoft-windows-media-drm-client"></a>отзыв лицензий (Microsoft Windows Media DRM Client)

Отзыв лицензии означает удаление лицензий из локального хранилища лицензий. Распространенный сценарий отзыва лицензий возникает, когда поставщик услуг, например служба подписки на музыку, должен отключить службу на компьютере пользователя.

Процесс отзыва лицензии инициируется службой, предоставленной издателем лицензии. В приложении может размещаться эта служба, или она может быть веб-приложением. В любом случае приложение должно иметь возможность получить запрос лицензии, созданный службой.

Чтобы удалить лицензии из хранилища лицензий, выполните следующие действия.

1.  При получении запроса лицензии от издателя лицензии создайте запрос отзыва с помощью метода [**ивмдрмлиценсеманажемент:: креателиценсеревокатиончалленже**](iwmdrmlicensemanagement-createlicenserevocationchallenge.md) . Этот метод выделит буфер, содержащий данные запроса отзыва, который передается в приложение с помощью параметра *ппбчалленжеаутпут* .
2.  Отправьте запрос отзыва лицензии службе отзыва лицензий. Сервер создаст BLOB-объект отзыва лицензий (ЛРБ) в ответе.
3.  Удалите лицензию из локального хранилища с помощью метода [**ивмдрмлиценсеманажемент::P роцесслиценсеревокатионреспонсе**](iwmdrmlicensemanagement-processlicenserevocationresponse.md) , передав лрб, возвращенную сервером лицензирования.
4.  Освобождение буфера, выделенного **креателиценсеревокатиончалленже** , с помощью функции **CoTaskMemFree** .

Дополнительные сведения о том, как работает отзыв лицензий, а также о том, как создать службу отзыва, см. в разделе [Реализация отзыва лицензий](/documentation/?url=%2flibrary%2fwmrm10%2fhtm%2fhowlicenserevokationworks.asp).

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[**Включение поддержки DRM**](enabling-drm-support.md)
</dt> <dt>

[**Локальное хранилище лицензий**](local-license-store.md)
</dt> <dt>

[**Инструкции по программированию**](drm-programming-guide.md)
</dt> </dl>

 

 