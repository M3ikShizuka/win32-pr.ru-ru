---
title: Работа со списками отзыва
description: Работа со списками отзыва
ms.assetid: 4463abb5-f48f-484f-b837-512313572c0a
keywords:
- Пакет Windows Media Format SDK, списки отзыва
- Расширенный формат систем (ASF), списки отзыва
- ASF (Расширенный системный формат), списки отзыва
- списки отзыва
- Управление цифровыми правами (DRM), списки отзыва
- DRM (Управление цифровыми правами), списки отзыва
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 75f4eca82dd82c9225406a85034ff2a6df227fce
ms.sourcegitcommit: 48d1c892045445bcbd0f22bafa2fd3861ffaa6e7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/19/2020
ms.locfileid: "104532963"
---
# <a name="working-with-revocation-lists"></a>Работа со списками отзыва

Для реагирования на нарушения безопасности и обеспечения того, что приложения проигрывателя, которые должны быть повреждены или скомпрометированы, не могут воспроизводить или использовать защищенные файлы, каждая выданная лицензия содержит список отзыва. Список отзыва содержит сертификаты приложений для всех приложений проигрывателя, известных для нарушения или повреждения. При получении новой лицензии компонент DRM приложения Player проверяет список отзыва. Если найден один из более новых версий, чем тот, который находится на компьютере, будет сохранен новый список. В следующий раз, когда потребитель воспроизводит защищенный ASF-файл, компонент DRM сравнивает приложение проигрывателя со списком отзыва. Если приложение проигрывателя отменяется, компонент DRM отправляет приложению сообщение об ошибке.

Приложения проигрывателя могут получить сообщение об ошибке отзыва в следующих сценариях:

-   Сообщение об ошибке получается после того, как приложение вызовет метод [**ивмдрмреадер:: AcquireLicense**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmdrmreader-acquirelicense) для защищенного файла. Вызов завершается ошибкой с кодом **HRESULT** NS \_ E \_ DRM \_ аппцерт \_ , который предоставляется функции обратного вызова **OnStatus** с ВМТ \_ получения \_ состояния лицензии. Если этот код **HRESULT** не учитывается, то ошибки продолжают возникать.
-   Сообщение об ошибке получается, когда приложение создает модуль чтения с поддержкой DRM и вызывает метод [**ивмреадер:: Open**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreader-open) для защищенного файла. Вызов завершается ошибкой с кодом **HRESULT** NS \_ E \_ DRM \_ аппцерт \_ REVOKE, который передается в метод обратного вызова [**ивмстатускаллбакк:: OnStatus**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmstatuscallback-onstatus) с \_ состоянием ВМТ Opened. Когда приложение Player получает это сообщение об ошибке, оно должно уведомлять пользователей и предоставить способ восстановления функций проигрывателя. Например, приложение может открыть URL-адрес, по которому конечные пользователи могут загрузить обновление для скомпрометированного приложения.

**Примечание** . DRM не поддерживает версию этого пакета SDK на базе x64.

## <a name="related-topics"></a>См. также

<dl> <dt>

[**Функции цифровых Rights Management**](digital-rights-management-features.md)
</dt> <dt>

[**Обработка событий приобретения лицензий**](handling-license-acquisition-events.md)
</dt> </dl>

 

 




