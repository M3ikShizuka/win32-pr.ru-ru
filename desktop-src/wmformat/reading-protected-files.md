---
title: Чтение защищенных файлов
description: Чтение защищенных файлов
ms.assetid: 24f839f1-ce57-4d06-b1a5-a6bea7b5b7bb
keywords:
- Windows Media Format SDK, чтение защищенных файлов
- Windows Media Format SDK, защищенные файлы
- Расширенный формат систем (ASF), чтение защищенных файлов
- ASF (Расширенный системный формат), чтение защищенных файлов
- Расширенный формат систем (ASF), защищенные файлы
- ASF (Расширенный системный формат), защищенные файлы
- Расширенный системный формат (ASF), Вмстубдрм. lib
- ASF (Расширенный системный формат), Вмстубдрм. lib
- Вмстубдрм. lib, чтение защищенных файлов
- Вмстубдрм. lib, защищенные файлы
- Управление цифровыми правами (DRM), Вмстубдрм. lib
- DRM (Управление цифровыми правами), Вмстубдрм. lib
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e4b2110708a28daae1e86ba3dac2ea1f18ad16fc
ms.sourcegitcommit: 48d1c892045445bcbd0f22bafa2fd3861ffaa6e7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/19/2020
ms.locfileid: "103788695"
---
# <a name="reading-protected-files"></a>Чтение защищенных файлов

Чтение защищенного с помощью DRM файла или сетевого потока, по сути, включает в себя попытку открыть файл (или подключиться к потоку), а затем обработать все события, которые могут быть отправлены из компонентов DRM.

Если проигрыватель не поддерживает DRM (не имеет ссылки на допустимую библиотеку вмстубдрм. lib), вызов [**ивмреадер:: Open**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreader-open) завершается ошибкой, когда пытается открыть защищенный файл и возвращает \_ содержимое, защищенное с помощью NS E, \_ \_ или связанная ошибка.

Когда приложение с поддержкой DRM пытается открыть защищенный DRM файл, компонент DRM автоматически выполняет поиск действительной лицензии в локальной системе. Если он найден, компонент DRM автоматически расшифровывает файл способом, который полностью прозрачен для приложения. Действие, которое приложение может выполнить в расшифрованном файле, зависит от прав, указанных в лицензии. Полное описание возможных прав см. в документации по пакету SDK для диспетчера прав Windows Media.

Если у приложения нет действительной лицензии для файла, проигрыватель получает уведомление о состоянии от компонента DRM. Затем приложение проигрывателя может инициировать процесс [*получения лицензии*](wmformat-glossary.md) . После получения действительной лицензии файл доступен. В следующих разделах описаны основные задачи, которые необходимо выполнить приложению при реализации процесса получения лицензии.

-   [Указание действий для выполнения](specifying-the-actions-to-be-performed.md)
-   [Обработка событий приобретения лицензий](handling-license-acquisition-events.md)
-   [Приложения DRM индивидуализинг](individualizing-drm-applications.md)
-   [Обработка событий индивидуализации](handling-individualization-events.md)

> [!Note]  
> DRM не поддерживает версию этого пакета SDK на базе x64.

 

## <a name="related-topics"></a>См. также

<dl> <dt>

[**Функции цифровых Rights Management**](digital-rights-management-features.md)
</dt> <dt>

[**Список атрибутов DRM**](drm-attribute-list.md)
</dt> <dt>

[**Свойства DRM**](drm-properties.md)
</dt> <dt>

[**Включение поддержки DRM**](enabling-drm-support.md)
</dt> </dl>

 

 




