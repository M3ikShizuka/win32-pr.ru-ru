---
title: Перечисление форматов кодеков
description: Перечисление форматов кодеков
ms.assetid: 4441b3f8-3edd-441f-8df8-6281937903e0
keywords:
- потоки, перечисление форматов кодеков
- кодеки, перечисления
- потоки, форматы кодеков
- кодеки, форматы
- кодеки, интерфейс ИвмкодеЦинфо
- ИвмкодеЦинфо, форматы кодеков
- кодеки, интерфейс IWMCodecInfo3
- IWMCodecInfo3, форматы кодеков
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0a00c9afdbeba5a187be4b992a19d4c9bdb138e1
ms.sourcegitcommit: 099ecdda1e83618b844387405da0db0ebda93a65
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/04/2021
ms.locfileid: "111444785"
---
# <a name="to-enumerate-codec-formats"></a>Перечисление форматов кодеков

Формат кодека — это объект конфигурации потока, заполненный данными из кодека. Каждый формат кодека содержит конфигурацию носителя, поддерживаемую кодеком. Большинство аудиокодеков поддерживают конечное число форматов, каждое из которых перечислено кодеком, и доступ к нему можно получить с помощью методов [**ивмкодеЦинфо**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmcodecinfo). Видеокодеки, с другой стороны, предоставляют только один формат. Это обусловлено тем, что видеопотоки имеют переменные, такие как размер кадра, которые являются более гибкими по сравнению с параметрами аудиопотока. В потоке видео необходимо заполнить некоторые значения конфигурации потока. конфигурации аудиопотока следует изменять только для присвоения имени, имени соединения и номера потока. Дополнительные сведения см. [в разделе Общая конфигурация для всех потоков](configuration-common-to-all-streams.md).

Перечисленные форматы кодеков зависят от текущих параметров перечисления кодеков, которые задаются с помощью [**IWMCodecInfo3:: сеткодеценумератионсеттинг**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmcodecinfo3-setcodecenumerationsetting). В настоящее время поддерживаются только два свойства кодека: g \_ всзнумпассес, который указывает количество проходов кодирования, которые будет выполнять кодек, и g \_ всзвбренаблед, который указывает, будет ли кодек использовать кодирование переменной скорости. Максимальное число проходов по кодировке, поддерживаемое любыми кодеками, равно двум, поэтому существуют четыре отдельные конфигурации, для которых можно получить кодеки, как показано в следующей таблице.



|    &nbsp;    | Поток постоянной скорости (CBR) | 2. Передача потока CBR | Потоковая частота с переменной скоростью (VBR) на основе качества | Поток VBR на основе битов (с ограничением или неограниченным доступом) |
|------------------|--------------------------------|-------------------|----------------------------------------------|----------------------------------------------------------|
| g \_ всзвбренаблед | FALSE                          | FALSE             | TRUE                                         | TRUE                                                     |
| g \_ всзнумпассес  | 1                              | 2                 | 1                                            | 2                                                        |



 

Чтобы перечислить форматы, поддерживаемые кодеком, используйте [**ивмкодеЦинфо:: жеткодекформаткаунт**](/previous-versions/windows/desktop/api/wmsdkidl/nf-wmsdkidl-iwmcodecinfo-getcodecformatcount) для поиска количества поддерживаемых кодеков. Затем вызовите [**ивмкодеЦинфо:: жеткодекформат**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmcodecinfo-getcodecformat) для каждого формата. Индексы формата в диапазоне от нуля до одного меньше общего числа поддерживаемых форматов. Вы можете получить описание формата, вызвав [**IWMCodecInfo2:: жеткодекформатдеск**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmcodecinfo2-getcodecformatdesc). При использовании **жеткодекформатдеск** не нужно использовать **жеткодекформат**, так как объект конфигурации потока извлекается обоими методами. Форматы видеокодеков не включают описание. Каждый видеокодек имеет только один формат, используемый для всех потоков этого типа.

При извлечении формата кодека вы получаете интерфейс [**ивмстреамконфиг**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmstreamconfig) объекта конфигурации потока, который содержит параметры формата.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[**Получение сведений о конфигурации потока из кодеков**](getting-stream-configuration-information-from-codecs.md)
</dt> </dl>

 

 




