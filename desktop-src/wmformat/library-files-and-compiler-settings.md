---
title: Файлы библиотек и параметры компилятора
description: Файлы библиотек и параметры компилятора
ms.assetid: ae043b1e-1d61-4d5a-be98-54f899fa24ed
keywords:
- Windows Media Format SDK, файлы библиотек
- Пакет SDK для формата Windows Media, параметры компилятора
- Windows Media Format SDK, файлы заголовков
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 079636c8f01decdcfb90e36641e26c62354a7893
ms.sourcegitcommit: 773fa6257ead6c74154ad3cf46d21e49adc900aa
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/09/2020
ms.locfileid: "104488451"
---
# <a name="library-files-and-compiler-settings"></a>Файлы библиотек и параметры компилятора

Для разработки приложения с помощью пакета SDK Windows Media Format необходимо использовать Microsoft Visual C++ версии 6,0 или более поздней. Единственными языками программирования, подходящими для разработки, являются C++ и C.

В следующей таблице описаны содержимое различных файлов заголовков, входящих в состав этого пакета SDK.



| Файл заголовка                 | Описание                                                                                                                                                                                                                                         |
|-----------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| асферр. h                    | Определяет коды ошибок, связанные с операциями с файлами ASF. Этот заголовок включен в вмсдк. h.                                                                                                                                                            |
| дрмекстерналс. h              | Определяет структуры, перечисления и константы, используемые для управления цифровыми правами (DRM). Включите этот заголовок при написании приложения, использующего DRM.                                                                                            |
| дшовасф. h                  | Определяет фильтры КАСФ Microsoft DirectShow. Этот заголовок следует включать при написании приложения DirectShow, которое создает или считывает файлы ASF. Дополнительные сведения см. в статье [DirectShow и Windows Media](directshow-and-windows-media.md).               |
| мснетобж. h                  | Определяет интерфейс [**ирмжетлиценсе**](irmgetlicense.md) , который реализуется в одной из библиотек среды выполнения, установленных с помощью пакета SDK Windows Media Format.                                                                                     |
| нсеррор. h                   | Определяет коды ошибок для технологий Windows Media. Только подмножество этих кодов ошибок относится к пакету SDK формата Windows Media. Этот заголовок включен в вмсдк. h.                                                                            |
| вмдксва. h                    | Содержит другие заголовки и определения, необходимые для включения ускорения видео Microsoft DirectX для воспроизведения содержимого на основе Windows Media. Дополнительные сведения см. в разделе [Включение ускорения видео DirectX](enabling-directx-video-acceleration.md). |
| вмнетсаурцекреатор. h        | Содержит сведения, необходимые для создания подключаемых модулей для сетевых источников.                                                                                                                                                                                      |
| вмсбуффер. h                 | Определяет интерфейсы, используемые объектами буфера. Этот заголовок следует включать при создании собственных буферов для чтения файлов.                                                                                                                                 |
| вмсдк. h                     | Основной заголовок для приложений, использующих пакет SDK для Windows Media Format. Этот заголовок не содержит определений, но включает асферр. h, нсеррор. h, Windows. h и вмсдкидл. h. Включите этот заголовок для всех приложений, использующих этот пакет SDK.                     |
| вмсдкидл. h                  | Определяет интерфейсы, функции, структуры, перечисления и константы для большинства объектов пакета SDK Windows Media Format. Этот заголовок включен в вмсдк. h.                                                                             |
| вмсинтерналадминнетсаурце. h | Определяет интерфейсы подключаемых модулей сетевых источников.                                                                                                                                                                                                  |
| вмсиспрф. h                  | Определяет константы для системных профилей. Включите этот заголовок в приложения, которые загружают системные профили по идентификатору.                                                                                                                         |



 

Для использования пакета SDK Windows Media Format необходимо правильно настроить компилятор. Конфигурация отличается для создания в режиме отладки, чем для режима выпуска. Настройте параметры в соответствии со следующей таблицей. Все эти параметры настраиваются в диалоговом окне "Параметры проекта". Чтобы открыть диалоговое окно, в меню **проект** выберите пункт **Параметры** .



| Параметр                                                                 | Значение отладки                                                                              | Значение выпуска                                                                           |
|-------------------------------------------------------------------------|------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------|
| (Вкладка C/C++, Категория = Создание кода) Использовать библиотеку времени выполнения            | Отладка многопоточной библиотеки DLL                                                                  | Многопоточная DLL                                                                       |
| (Вкладка "ссылка", Категория = Общие) Игнорировать все библиотеки по умолчанию (флажок) | Выбрано                                                                                 | Выбрано                                                                                |
| (Вкладка "ссылка", Категория = Общие) Модули объектов и библиотек                   | Include MSVCRTD. lib и Wmvcore.lib.Do не включают libc. lib или любые вариации.<br/> | Включите msvcrt. lib и Wmvcore.lib.Do, не включая libc. lib или любые вариации.<br/> |



 

Если вы используете Microsoft Visual Studio .NET, параметры были изменены в разных местах, как показано в следующей таблице. Все эти параметры настраиваются в диалоговом окне **страницы свойств** . Чтобы открыть диалоговое окно, щелкните правой кнопкой мыши проект на панели **Обозреватель решений** и выберите в контекстном меню пункт **свойства** .



| Параметр                                                                  | Значение отладки                                                                              | Значение выпуска                                                                           |
|--------------------------------------------------------------------------|------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------|
| (Свойства конфигурации/C/C++/Создание кода) Библиотека времени выполнения     | Многопоточная DLL с возможностью отладки (/MTd)                                                          | Многопоточная DLL (/MD)                                                                |
| (Свойства конфигурации, компоновщик и входные данные) Дополнительные зависимости      | Include MSVCRTD. lib и Wmvcore.lib.Do не включают libc. lib или любые вариации.<br/> | Включите msvcrt. lib и Wmvcore.lib.Do, не включая libc. lib или любые вариации.<br/> |
| (Свойства конфигурации, компоновщик и входные данные) Игнорировать все библиотеки по умолчанию | Да                                                                                      | Да                                                                                     |



 

Если требуется отложить загрузку Wmvcore.dll или любой другой библиотеки DLL, используйте параметр link параметр/DELAYLOAD в Microsoft Visual C++ 6,0 или с задержкой загрузки DLL в Microsoft Visual C++ .NET.

Кроме того, необходимо включить каталоги для библиотек и заголовков пакета SDK Windows Media Format. Чтобы найти параметры каталога для Visual C++ 6,0, в меню **Сервис** выберите пункт **Параметры**, а затем перейдите на вкладку **каталоги** . При использовании Visual C++ .NET выберите пункт **Параметры** в меню **Сервис** , а затем выберите проекты/VC + + в списке параметры. Добавьте каталоги, как показано в следующей таблице. Если вы изменили каталог установки пакета SDK для формата Windows Media, ваш путь будет отличаться.



| Тип каталога | Путь по умолчанию                 |
|----------------|------------------------------|
| Включаемые файлы  | В. \\ вмсдк \\ WMFSDK11 \\ |
| Файлы библиотек  | C: \\ вмсдк \\ WMFSDK11 \\ lib     |



 

Если вы используете пакет SDK для платформы, пути по умолчанию будут выглядеть следующим образом:



| Тип каталога | Путь по умолчанию                                              |
|----------------|-----------------------------------------------------------|
| Включаемые файлы  | C: \\ Program Files \\ Microsoft СДСК \\ Windows \\ v 6.0 \\ include |
| Файлы библиотек  | C: \\ Program Files \\ Microsoft СДСК \\ Windows \\ v 6.0 \\ lib     |



 

Перед вызовом любой из функций создания необходимо инициализировать COM с помощью вызова **CoInitialize** или **CoinitializeEx**. Можно использовать либо свободную потоковую модель, либо модель потоков апартамента, но модель потоков подразделений накладывает ограничения на потоковое приложение. Дополнительные сведения о модели COM см. на странице COM на [веб-сайте Майкрософт](../com/the-component-object-model.md).

**Примечание** . Приложениям, которые воспроизводят или создают файлы, защищенные с помощью цифрового Rights Management (DRM), требуется отдельная статическая библиотека, которую необходимо получить отдельно от корпорации Майкрософт. Дополнительные сведения см. в форме лицензирования Windows Media на [веб-сайте Майкрософт](https://www.microsoft.com/licensing/default). Если вы используете библиотеку DRM, не следует связываться с Вмвкоре. lib.

## <a name="related-topics"></a>См. также

<dl> <dt>

[**начало работы**](getting-started.md)
</dt> </dl>

 

