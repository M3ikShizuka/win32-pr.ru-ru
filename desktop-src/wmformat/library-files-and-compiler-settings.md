---
title: библиотечные файлы и Параметры компилятора
description: библиотечные файлы и Параметры компилятора
ms.assetid: ae043b1e-1d61-4d5a-be98-54f899fa24ed
keywords:
- Windows Пакет SDK для формата мультимедиа, файлы библиотек
- Windows Пакет SDK для формата мультимедиа, параметры компилятора
- Windows Пакет SDK для формата мультимедиа, файлы заголовков
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 079636c8f01decdcfb90e36641e26c62354a7893
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127346131"
---
# <a name="library-files-and-compiler-settings"></a>библиотечные файлы и Параметры компилятора

чтобы разработать приложение с помощью пакета SDK для Windows Media Format, необходимо использовать Microsoft Visual C++ версии 6,0 или более поздней. Единственными языками программирования, подходящими для разработки, являются C++ и C.

В следующей таблице описаны содержимое различных файлов заголовков, входящих в состав этого пакета SDK.



| Файл заголовка                 | Описание                                                                                                                                                                                                                                         |
|-----------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| асферр. h                    | Определяет коды ошибок, связанные с операциями с файлами ASF. Этот заголовок включен в вмсдк. h.                                                                                                                                                            |
| дрмекстерналс. h              | Определяет структуры, перечисления и константы, используемые для управления цифровыми правами (DRM). Включите этот заголовок при написании приложения, использующего DRM.                                                                                            |
| дшовасф. h                  | определяет фильтры Microsoft DirectShow касф. этот заголовок следует включать при написании приложения DirectShow, которое создает или считывает файлы ASF. дополнительные сведения см. в разделе [DirectShow и Windows Media](directshow-and-windows-media.md).               |
| мснетобж. h                  | определяет интерфейс [**ирмжетлиценсе**](irmgetlicense.md) , который реализуется в одной из библиотек среды выполнения, установленных с помощью пакета SDK для Windows Media Format.                                                                                     |
| нсеррор. h                   | определяет коды ошибок для Windows технологий мультимедиа. только подмножество этих кодов ошибок относится к пакету SDK для Windows Media Format. Этот заголовок включен в вмсдк. h.                                                                            |
| вмдксва. h                    | включает другие заголовки и определения, необходимые для включения ускорения видео Microsoft DirectX для воспроизведения Windows содержимого на основе мультимедиа. Дополнительные сведения см. в разделе [Включение ускорения видео DirectX](enabling-directx-video-acceleration.md). |
| вмнетсаурцекреатор. h        | Содержит сведения, необходимые для создания подключаемых модулей для сетевых источников.                                                                                                                                                                                      |
| вмсбуффер. h                 | Определяет интерфейсы, используемые объектами буфера. Этот заголовок следует включать при создании собственных буферов для чтения файлов.                                                                                                                                 |
| вмсдк. h                     | основной заголовок для приложений, использующих пакет SDK для Windows Media Format. Этот заголовок не содержит определений, но включает асферр. h, нсеррор. h, Windows. h и вмсдкидл. h. Включите этот заголовок для всех приложений, использующих этот пакет SDK.                     |
| вмсдкидл. h                  | определяет интерфейсы, функции, структуры, перечисления и константы для большинства объектов пакета SDK Windows Media Format. Этот заголовок включен в вмсдк. h.                                                                             |
| вмсинтерналадминнетсаурце. h | Определяет интерфейсы подключаемых модулей сетевых источников.                                                                                                                                                                                                  |
| вмсиспрф. h                  | Определяет константы для системных профилей. Включите этот заголовок в приложения, которые загружают системные профили по идентификатору.                                                                                                                         |



 

чтобы использовать пакет SDK Windows Media Format, компилятор должен быть правильно настроен. Конфигурация отличается для создания в режиме отладки, чем для режима выпуска. Настройте параметры в соответствии со следующей таблицей. все эти параметры настраиваются в диалоговом окне Project Параметры. чтобы открыть диалоговое окно, выберите **Параметры** в меню **Project** .



| Параметр                                                                 | Значение отладки                                                                              | Значение выпуска                                                                           |
|-------------------------------------------------------------------------|------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------|
| (Вкладка C/C++, Категория = Создание кода) Использовать библиотеку времени выполнения            | Отладка многопоточной библиотеки DLL                                                                  | Многопоточная DLL                                                                       |
| (Вкладка "ссылка", Категория = Общие) Игнорировать все библиотеки по умолчанию (флажок) | Выбрано                                                                                 | Выбрано                                                                                |
| (Вкладка "ссылка", Категория = Общие) Модули объектов и библиотек                   | Include MSVCRTD. lib и Wmvcore.lib.Do не включают libc. lib или любые вариации.<br/> | Включите msvcrt. lib и Wmvcore.lib.Do, не включая libc. lib или любые вариации.<br/> |



 

если вы используете Microsoft Visual Studio .net, параметры были изменены в разных местах, как показано в следующей таблице. Все эти параметры настраиваются в диалоговом окне **страницы свойств** . Чтобы открыть диалоговое окно, щелкните правой кнопкой мыши проект на панели **Обозреватель решений** и выберите в контекстном меню пункт **свойства** .



| Параметр                                                                  | Значение отладки                                                                              | Значение выпуска                                                                           |
|--------------------------------------------------------------------------|------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------|
| (Свойства конфигурации/C/C++/Создание кода) Библиотека времени выполнения     | Многопоточная DLL с возможностью отладки (/MTd)                                                          | Многопоточная DLL (/MD)                                                                |
| (Свойства конфигурации, компоновщик и входные данные) Дополнительные зависимости      | Include MSVCRTD. lib и Wmvcore.lib.Do не включают libc. lib или любые вариации.<br/> | Включите msvcrt. lib и Wmvcore.lib.Do, не включая libc. lib или любые вариации.<br/> |
| (Свойства конфигурации, компоновщик и входные данные) Игнорировать все библиотеки по умолчанию | Да                                                                                      | Да                                                                                     |



 

если требуется отложить загрузку Wmvcore.dll или любой другой библиотеки dll, используйте параметр link параметр/delayload в Microsoft Visual C++ 6,0 или с задержкой загрузки dll в Microsoft Visual C++ .net.

кроме того, необходимо включить каталоги для библиотек и заголовков пакета SDK для Windows Media Format. Чтобы найти параметры каталога для Visual C++ 6,0, в меню **Сервис** выберите пункт **Параметры**, а затем перейдите на вкладку **каталоги** . при использовании Visual C++ .net выберите пункт **параметры** в меню **сервис** , а затем выберите проекты и VC++ каталоги в списке параметры. Добавьте каталоги, как показано в следующей таблице. если вы изменили каталог установки для пакета SDK для Windows Media Format, ваш путь будет отличаться.



| Тип каталога | Путь по умолчанию                 |
|----------------|------------------------------|
| Включаемые файлы  | В. \\ вмсдк \\ WMFSDK11 \\ |
| Файлы библиотек  | C: \\ вмсдк \\ WMFSDK11 \\ lib     |



 

Если вы используете пакет SDK для платформы, пути по умолчанию будут выглядеть следующим образом:



| Тип каталога | Путь по умолчанию                                              |
|----------------|-----------------------------------------------------------|
| Включаемые файлы  | C: \\ Program files \\ Microsoft сдск \\ Windows \\ v 6.0 \\ : |
| Файлы библиотек  | C: \\ Program files \\ Microsoft сдск \\ Windows \\ v 6.0 \\ Lib     |



 

Перед вызовом любой из функций создания необходимо инициализировать COM с помощью вызова **CoInitialize** или **CoinitializeEx**. Можно использовать либо свободную потоковую модель, либо модель потоков апартамента, но модель потоков подразделений накладывает ограничения на потоковое приложение. Дополнительные сведения о модели COM см. на странице COM на [веб-сайте Майкрософт](../com/the-component-object-model.md).

**Примечание** . Приложениям, которые воспроизводят или создают файлы, защищенные с помощью цифрового Rights Management (DRM), требуется отдельная статическая библиотека, которую необходимо получить отдельно от корпорации Майкрософт. дополнительные сведения см. в Windows форме "лицензирование мультимедиа" на [веб-сайте майкрософт](https://www.microsoft.com/licensing/default). Если вы используете библиотеку DRM, не следует связываться с Вмвкоре. lib.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[**начало работы**](getting-started.md)
</dt> </dl>

 

