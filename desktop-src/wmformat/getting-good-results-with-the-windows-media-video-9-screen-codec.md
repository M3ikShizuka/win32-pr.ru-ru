---
title: Получение хороших результатов с помощью экранного видеокодека Windows Media видео 9
description: Получение хороших результатов с помощью экранного видеокодека Windows Media видео 9
ms.assetid: c5b080d3-2934-4af7-8f01-9ab0829db05d
keywords:
- Windows Media Format SDK, экранный кодек Windows Media Video 9
- Улучшенный системный формат (ASF), экранный кодек Windows Media видео 9
- ASF (Расширенный системный формат), экранный кодек Windows Media видео 9
- кодеки, экран Windows Media видео 9
- Экранный кодек Windows Media Video 9, результаты
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7a297638c7c50a6380fd4c43ea1d4b9971d44db5
ms.sourcegitcommit: 48d1c892045445bcbd0f22bafa2fd3861ffaa6e7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/19/2020
ms.locfileid: "103987212"
---
# <a name="getting-good-results-with-the-windows-media-video-9-screen-codec"></a>Получение хороших результатов с помощью экранного видеокодека Windows Media видео 9

Экранный кодек Windows Media Video 9 разработан для создания высокосжатого видео для снимка экрана. Поскольку большая часть работы с изображением экрана включает довольно простые и статические изображения, высокие уровни сжатия обычно не означают качество изображения. Однако каждый снимок экрана отличается, и полученное качество изображения может значительно варьироваться в зависимости от обстоятельств.

Лучшим способом определения параметров профиля для сеанса экранного кодека является кодирование тестового файла с помощью потока переменной с переменным качеством. Установите нужное значение качества и запишите снимок экрана, как если бы вы записывали окончательный файл. При написании файла воспроизводите его с помощью асинхронного объекта Reader, осуществляя регулярные вызовы [**ивмреадерадванцед:: Statistics**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreaderadvanced-getstatistics). Отслеживая значение элемента **двбандвидс** в структуре [**\_ \_ статистики модуля чтения WM**](/previous-versions/windows/desktop/api/wmsdkidl/ns-wmsdkidl-wm_reader_statistics) для каждого вызова, можно определить приблизительную скорость потока, необходимую для достижения желаемого качества. Затем эту скорость можно использовать для кодирования постоянной скорости потока.

Если вы обнаружите, что желаемое качество требует более высоких разрядов, чем вы можете использовать для вашего сценария доставки, вы можете воспользоваться следующими методами, чтобы повысить эффективность кодека.

-   Используйте меньшее разрешение снимка экрана. Если вы захватываете более масштабное разрешение экрана, чем требуется, можно также создать путаницу для средства просмотра, выполнив дополнительные сведения, чем требуется.
-   Используйте меньше изображений в снимке экрана. Экранный кодек Windows Media Video 9 оптимизирован для кодирования примитивов и текста Windows с высоким качеством. Обычно проблемы возникают из-за точечной графики, которая часто содержит тысячи отдельных цветов. Чем меньше точечных рисунков на экране при захвате, тем лучше будут результаты. Если не удается удалить графику из снимка экрана, существует несколько способов свести к сведению, что точечный рисунок имеет качество изображения:
    -   Уменьшите размер рисунка.
    -   Уменьшите число отдельных графических объектов, отображаемых на экране одновременно.
    -   Уменьшите объем передвижения изображения. Например, если изображение находится в окне, не задерживайте окно как можно более стационарным.
    -   Старайтесь не перемещать указатель мыши над графикой или перетаскивать окна или другие элементы на изображении.
-   Используйте более низкую [*частоту кадров*](wmformat-glossary.md). Снимки экрана часто могут быть эффективны при очень низких частоте кадров (иногда как минимум 4 или 5 кадров в секунду).
-   Сократите скорость звучания сопроводительного звука.

Кроме того, кодек не поддерживает изменение размера прямоугольника видео. Иными словами, если вы попытаетесь использовать кодек для кодирования экрана 800 x 600 на видеопрямоугольнике 640 x 480, полученное видео будет иметь существенные артефакты, которые могут сделать часть текста на экране неразборчива.

## <a name="related-topics"></a>См. также

<dl> <dt>

[**Настройка потоков снимка экрана**](configuring-screen-capture-streams.md)
</dt> <dt>

[**Настройка потоков**](configuring-streams.md)
</dt> </dl>

 

 




