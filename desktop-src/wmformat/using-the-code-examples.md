---
title: использование примеров кода пакета SDK для Windows Media Format
description: использование примеров кода пакета SDK для Windows Media Format
ms.assetid: 1459a438-d42c-4d84-baa8-fc672f5d5d27
keywords:
- Windows Пакет SDK для формата мультимедиа, примеры кода
- Windows Пакет SDK для формата мультимедиа, пример кода
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ba6a5b6718bf7665d04fedb5d5a0bad473a632cbeeabdfd756a52877ccdc84ef
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118963943"
---
# <a name="using-the-windows-media-format-sdk-code-examples"></a>использование примеров кода пакета SDK для Windows Media Format

Многие из объясненных разделов этого пакета SDK включают примеры кода. Примеры записываются как можно более четкие и лаконичные. При чтении примеров следует учитывать следующие соглашения.

-   Предполагается, что все примеры включают в себя Windows. h и вмсдк. h. Все необходимые файлы заголовков упоминаются в пояснительном тексте.
-   В случае возникновения ошибки проверка ошибок была ограничена до выхода из функции. В приложении следует проверить определенные коды ошибок и предоставить некоторый тип отчетов об ошибках.

    При проверке возвращаемых значений методов или функций, возвращающих значение **HRESULT** , следует использовать макрос **Failed** , чтобы определить, указывает ли возвращаемое значение на ошибку.

    ```C++
    HRESULT hr;
    hr = SomeFunction();
    if (FAILED(hr))
    {
       // Check for specific error values.
    }
    ```

    

    Во многих примерах в этой документации используется макрос с именем GOTO \_ exit \_ \_ , если сбой, который определен в следующем коде.

    ```C++
    #ifndef GOTO_EXIT_IF_FAILED
    #define GOTO_EXIT_IF_FAILED(hr) if(FAILED(hr)) goto Exit;
    #endif
    ```

    

    Эти примеры функций имеют тег «Exit:», после чего возвращаются все интерфейсы и память, выделенные в функции, и код ошибки, если таковой имеется.

-   Интерфейсы и память освобождаются в примерах кода с помощью макросов с именем безопасного \_ выпуска и безопасного \_ массива \_ Delete. Эти макросы определяются в следующем коде:
    ```C++
    #ifndef SAFE_RELEASE
    #define SAFE_RELEASE(x) \
       if(x != NULL)        \
       {                    \
          x->Release();     \
          x = NULL;         \
       }
    #endif

    #ifndef SAFE_ARRAY_DELETE
    #define SAFE_ARRAY_DELETE(x) \
       if(x != NULL)             \
       {                         \
          delete[] x;            \
          x = NULL;              \
       }
    #endif
    ```

    

-   Часто необходимо включить логику одного примера в другой пример, чтобы пример был осмысленным. В этих случаях включается комментарий TODO со ссылкой на соответствующий пример кода.
-   Чтобы сделать код более удобочитаемым, ни один из примеров функций в этой документации не проверит их входные параметры. При копировании любой из этих функций в код следует проверить все входные параметры.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[**начало работы**](getting-started.md)
</dt> </dl>

 

 




