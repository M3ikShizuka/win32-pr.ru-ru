---
title: Проверка подлинности (пакет SDK для формата Windows Media 11)
description: Аутентификация
ms.assetid: 9c181615-e864-4588-846f-d04d73824f5f
keywords:
- Windows Media Format SDK, проверка подлинности
- Пакет SDK для Windows Media Format, проверка подлинности сети
- Расширенный формат систем (ASF), проверка подлинности
- ASF (Расширенный системный формат), проверка подлинности
- Расширенный системный формат (ASF), проверка подлинности сети
- ASF (Расширенный системный формат), проверка подлинности сети
- проверка подлинности
- Проверка подлинности сети, сведения
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0bf815881ac7beb354fffbfdb9b5475d040e9e83
ms.sourcegitcommit: 8fa6614b715bddf14648cce36d2df22e5232801a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/10/2020
ms.locfileid: "105701017"
---
# <a name="authentication-windows-media-format-11-sdk"></a>Проверка подлинности (пакет SDK для формата Windows Media 11)

Объект Reader может справляться с проблемами проверки подлинности сети, включая дайджест-аутентификацию и проверку подлинности NTLM. В некоторых случаях приложение должно предоставлять учетные данные пользователя через интерфейс обратного вызова:

-   Дайджест-проверка подлинности. приложение должно реализовывать интерфейс **ивмкредентиалкаллбакк** , как описано далее в этом разделе.
-   Проверка подлинности NTLM. модуль чтения автоматически реагирует на учетные данные пользователя для входа. Если текущий пользователь имеет право на вход на сервер, приложению не нужно ничего делать. Если пользователь не имеет авторизации, приложение должно реализовать интерфейс **ивмкредентиалкаллбакк** .

    > [!Note]  
    > Службы Windows Media версии 4,1 не поддерживают проверку подлинности NTLM через прокси-сервер. Для проверки подлинности NTLM требуется несколько обменов между клиентом и сервером в одном соединении, а версия 4,1 не сохраняет постоянное подключение к прокси-серверу. Серия Windows Media Services 9 в Microsoft Windows Server 2003 поддерживает проверку подлинности NTLM через прокси-сервер при условии, что прокси поддерживает подключения проверки активности.

     

Как уже отмечалось, в некоторых случаях приложение должно предоставить учетные данные пользователя. Это происходит через интерфейс **ивмкредентиалкаллбакк** , который имеет единственный метод **аккуирекредентиалс**. Для поддержки проверки подлинности Реализуйте этот интерфейс в приложении. Объект модуля чтения запрашивает этот интерфейс путем вызова **QueryInterface** на [**ивмреадеркаллбакк**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmreadercallback) указателе, полученном из приложения в методе [**ивмреадер:: Open**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreader-open) . Если объекту модуля чтения необходимо получить учетные данные пользователя, он вызывает метод **аккуирекредентиалс** приложения.

Если учетные данные будут передаваться по сети без шифрования, средство чтения установит флаг ВМТ для \_ открытого текста учетных данных \_ \_ в параметре *пдвфлагс* . Это дает приложению возможность предупредить пользователя о том, что его учетные данные будут отправляться в виде обычного текста.

В противном случае объект Reader автоматически шифрует учетные данные перед их отправкой по сети. Приложение может вернуть их объекту модуля чтения в виде обычного текста. Кроме того, если объект модуля чтения задает \_ флаг шифрования учетных данных ВМТ \_ , это означает, что модуль чтения поддерживает получение зашифрованных учетных данных из приложения. В этом случае приложение может либо возвращать учетные данные в виде обычного текста, либо шифровать их самостоятельно с помощью функции **CryptProtectData** , которая описана в документации по Platform SDK. Если приложение шифрует учетные данные, необходимо задать \_ флаг шифрования учетных данных ВМТ \_ в параметре *пдвфлагс* перед возвратом метода.

Как правило, шифрование данных не требуется, так как объект чтения шифрует данные при необходимости. Однако шифрование может быть полезным, если приложение сохраняет имя пользователя и пароль в памяти, так как предотвращает проверку дампа памяти процесса злоумышленником.

## <a name="related-topics"></a>См. также

<dl> <dt>

[**Интерфейс Ивмкредентиалкаллбакк**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmcredentialcallback)
</dt> <dt>

[**Интерфейс Ивмреадер**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmreader)
</dt> </dl>

 

 




