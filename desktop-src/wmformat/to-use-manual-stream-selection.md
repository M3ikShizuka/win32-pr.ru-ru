---
title: Использование ручного выбора потока
description: Использование ручного выбора потока
ms.assetid: 49ec283f-670a-4a0e-9477-c60a80919a1e
keywords:
- Расширенный системный формат (ASF), выбор потока вручную
- ASF (Расширенный системный формат), выбор потока вручную
- Расширенный системный формат (ASF), асинхронный читатель
- ASF (Расширенный системный формат), асинхронный читатель
- Расширенный системный формат (ASF), выбор потока
- ASF (Расширенный системный формат), выбор потока
- Расширенный формат систем (ASF), взаимное исключение
- ASF (Расширенный системный формат), взаимное исключение
- асинхронные модули чтения, выбор потока вручную
- асинхронные читатели, выбор потоков
- потоки, выбор вручную
- взаимное исключение, выбор потока вручную
- потоки, асинхронные модули чтения
- взаимное исключение, асинхронные модули чтения
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a87c493bc8f41bc2a03ba15832ed402939adbeff
ms.sourcegitcommit: 48d1c892045445bcbd0f22bafa2fd3861ffaa6e7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/19/2020
ms.locfileid: "105691460"
---
# <a name="to-use-manual-stream-selection"></a>Использование ручного выбора потока

При доставке несжатых образцов с помощью объекта Reader их можно доставлять только по номеру выхода. В случае взаимоисключающих потоков это означает, что вы можете получать образцы только из одного потока в взаимном исключении за раз. Процесс выбора взаимоисключающего потока для доставки называется выбором потока.

Для взаимного исключения с использованием битовой скорости модуль чтения автоматически выбирает поток в зависимости от условий на размещающем компьютере при воспроизведении. Для других типов взаимного исключения модуль чтения будет доставлять образцы из потока по умолчанию, если только вы не вручную выбрали другой поток. Также могут быть экземпляры, когда требуется выбрать поток вручную с помощью взаимного исключения с побитовой скоростью.

Ручной выбор потока может быть включен или выключен для всего файла. Если файл содержит взаимное исключение с битовой скоростью и другой тип взаимного исключения, необходимо вручную выбрать потоковую скорость на основе потока.

Чтобы выбрать взаимоисключающий поток вручную, необходимо выполнить следующие действия.

1.  Получите указатель на интерфейс [**ивмреадерадванцед**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmreaderadvanced) объекта Reader, вызвав **Ивмреадер:: QueryInterface**.
2.  Включить выбор потока вручную путем вызова [**ивмреадерадванцед:: сетмануалстреамселектион**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreaderadvanced-setmanualstreamselection).
3.  Чтобы определить, выбран ли определенный поток, вызовите метод [**ивмреадерадванцед:: жетстреамселектед**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreaderadvanced-getstreamselected). Необходимо передать указатель на переменную типа перечисления [**\_ \_ выбора потока ВМТ**](/previous-versions/windows/desktop/api/Wmsdkidl/ne-wmsdkidl-wmt_stream_selection) . При возвращении вызова значение в переменной будет описывать текущий тип выбора потока.
4.  Чтобы выбрать поток, вызовите метод [**ивмреадерадванцед:: сетстреамсселектед**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreaderadvanced-setstreamsselected). Этот метод позволяет указать несколько потоков одновременно для синхронизации переключения потоков.

## <a name="related-topics"></a>См. также

<dl> <dt>

[**Чтение файлов с помощью асинхронного модуля чтения**](reading-files-with-the-asynchronous-reader.md)
</dt> </dl>

 

 




