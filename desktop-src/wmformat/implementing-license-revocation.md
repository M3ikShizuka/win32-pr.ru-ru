---
title: Реализация отзыва лицензий
description: Реализация отзыва лицензий
ms.assetid: 50ecfeaa-89cd-4788-a25a-ee0ae8973bf0
keywords:
- Пакет SDK для Windows Media Format, реализация отзыва лицензий
- Пакет SDK для Windows Media Format, отзыв лицензий
- Windows Media Format SDK, отзыв лицензий
- Расширенный системный формат (ASF), реализация отзыва лицензий
- ASF (Расширенный системный формат), реализация отзыва лицензий
- Расширенный формат систем (ASF), отзыв лицензий
- ASF (расширенный формат систем), отзыв лицензий
- Расширенный формат систем (ASF), отзыв лицензий
- ASF (Расширенный системный формат), отзыв лицензий
- Управление цифровыми правами (DRM), реализация отзыва лицензий
- DRM (Управление цифровыми правами), реализация отзыва лицензий
- Управление цифровыми правами (DRM), отзыв лицензий
- DRM (Управление цифровыми правами), отзыв лицензий
- Управление цифровыми правами (DRM), отзыв лицензий
- DRM (Управление цифровыми правами), отзыв лицензий
- Отзыв лицензий, реализация
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e83bfb1a512b031f5b7c297ecede4ed33fba8f2b
ms.sourcegitcommit: 48d1c892045445bcbd0f22bafa2fd3861ffaa6e7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/19/2020
ms.locfileid: "103788815"
---
# <a name="implementing-license-revocation"></a>Реализация отзыва лицензий

Пакет SDK для диспетчера прав Windows Media 10 содержит функцию отзыва лицензий. Эта функция позволяет серверам лицензий запрашивать удаление лицензий с клиентского компьютера. Пакет SDK для формата Windows Media содержит методы, которые обрабатывают сообщения отзыва и удаляют лицензии из локального хранилища лицензий.

Процесс отзыва лицензии инициируется службой, предоставленной издателем лицензии. Приложение может размещать эту службу или веб-приложение. В любом случае приложение должно иметь возможность получить запрос лицензии, созданный службой.

Чтобы удалить лицензии из хранилища лицензий, выполните следующие действия.

1.  При получении запроса лицензии от издателя лицензии вызовите функцию [**вмкреателиценсеревокатионажент**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-wmcreatelicenserevocationagent) , чтобы создать объект агента отзыва лицензий и получить указатель на интерфейс [**ивмлиценсеревокатионажент**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmlicenserevocationagent) .
2.  Вызовите метод [**ивмлиценсеревокатионажент:: жетлрбчалленже**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmlicenserevocationagent-getlrbchallenge) , чтобы создать ответ на запрос.
3.  Отправьте ответ на запрос к компоненту службы лицензирования, из которого вы получили запрос.
4.  Компонент службы лицензирования отправляет подписанный BLOB-объект отзыва лицензии (ЛРБ) в приложение. Когда вы получите его, вызовите метод [**ивмлиценсеревокатионажент::P роцесслрб**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmlicenserevocationagent-processlrb) . **Процесслрб** создает сообщение подтверждения, которое необходимо отправить обратно в службу лицензирования, чтобы убедиться, что лицензии удалены.

> [!Note]  
> DRM не поддерживает версию этого пакета SDK на базе x64.

 

## <a name="related-topics"></a>См. также

<dl> <dt>

[**Включение поддержки DRM**](enabling-drm-support.md)
</dt> <dt>

[**Интерфейс Ивмлиценсеревокатионажент**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmlicenserevocationagent)
</dt> </dl>

 

 




