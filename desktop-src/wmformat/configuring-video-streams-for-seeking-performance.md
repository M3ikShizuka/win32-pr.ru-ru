---
title: настройка Потоки видео для поиска производительности
description: настройка Потоки видео для поиска производительности
ms.assetid: 2df507f9-60a5-4489-b3db-7fe15604e625
keywords:
- потоки, Настройка потоков видео
- кодеки, Настройка потоков видео
- видеопотоки, Настройка
- потоки видео, производительность
- производительность, потоки видео
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9b7a21e6352d03375b680702a16190b4af9eef24ca7ba9d592adb79ab5794b5c
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119840164"
---
# <a name="configuring-video-streams-for-seeking-performance"></a>настройка Потоки видео для поиска производительности

Некоторые приложения воспроизведения выполняют много операций поиска в отдельных потоках. Поиск — это область, в которой производительность может сильно различаться в зависимости от параметров потока. Если известно, что содержимое необходимо оптимизировать для быстрого поиска, можно настроить конфигурацию потока для повышения производительности.

Крупнейшим фактором, влияющим на скорость операций поиска в видео, является пространство ключевых кадров. Так как каждый кадр между ключевыми кадрами необходимо воссоздать на основе кадров, которые поступают перед ним, то широкое количество ключевых кадров значительно превышает время поиска. Например, если видеопоток с 30 кадрами в секунду имеет максимальный интервал между ключевыми кадрами (10 секунд), между ними есть потенциально 300 кадров. Если перейти к последнему [*разностному кадру*](wmformat-glossary.md), то для распаковки фрейма необходимо перестроить кадры 299. Если процесс реконструкции кадров занял .01 секунду, Поиск займет почти 3 секунды. Если требуется повысить эффективность поиска, может помочь уменьшение интервала между ключевыми кадрами. Однако если задать слишком близкое сочетание ключевых кадров, вы можете потерять качество.

Можно задать максимальный интервал между ключевыми кадрами, вызвав [**ивмвидеомедиапропс:: сетмакскэйфрамеспаЦинг**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmvideomediaprops-setmaxkeyframespacing). Рекомендуемые значения, зависящие от скорости потока, перечислены в следующей таблице. Эти значения обеспечивают хорошее распределение производительности и качества. Пакет SDK не ограничивает время между опорными кадрами. Как правило, время, превышающее 30 секунд, может негативно сказаться на времени поиска, когда содержимое передается по сети и когда оно воспроизводится локально.



| Скорость             | Рекомендуемый максимальный интервал между рамками |
|----------------------|-------------------------------------|
| 22 кбит/с до 300 кбит/с  | 8 секунд                           |
| 300 кбит/с 600 кбит/с | 6 секунд                           |
| 600 кбит/с – 2 Мбит/с   | 4 секунды                           |
| 2 Мбит/с и выше    | 3 секунды                           |



 

Дополнительные сведения о получении наилучшей производительности при поиске видеофайлов см. [в статье получение наилучшей производительности для поиска видео](getting-the-best-video-seeking-performance.md).

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[**настройка Потоки**](configuring-streams.md)
</dt> </dl>

 

 




