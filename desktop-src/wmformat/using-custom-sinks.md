---
title: Использование пользовательских приемников
description: Использование пользовательских приемников
ms.assetid: 7151583a-c7ab-40b0-a7bf-ddd56f93b7aa
keywords:
- Расширенный формат систем (ASF), пользовательские приемники
- ASF (Расширенный системный формат), пользовательские приемники
- Расширенный формат систем (ASF), приемники
- ASF (Расширенный системный формат), приемники
- приемники, пользовательские приемники
- Пользовательские приемники, сведения
- Приемники модуля записи, пользовательские приемники
- Пользовательские приемники, интерфейс Ивмвритерсинк
- ивмвритерсинк
- Приемники модуля записи, интерфейс Ивмвритерсинк
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e324d654fa8c85d6145b0f4bf8f20de1f06e125f
ms.sourcegitcommit: 48d1c892045445bcbd0f22bafa2fd3861ffaa6e7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/19/2020
ms.locfileid: "103788749"
---
# <a name="using-custom-sinks"></a>Использование пользовательских приемников

Если у вас есть особая потребность в написании, можно создать собственные приемники записи. Модуль записи поддерживает одностороннее взаимодействие с приемником, выполнив вызовы методов [**ивмвритерсинк**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmwritersink). Чтобы создать собственный приемник, реализуйте интерфейс **ивмвритерсинк** в классе приложения. Этот процесс очень похож на реализацию любого другого интерфейса обратного вызова, используемого объектами пакета SDK Windows Media Format. Дополнительные сведения о обратных вызовах см. [в разделе Использование методов обратного вызова](using-the-callback-methods.md).

Буфер, полученный в [**ивмвритерсинк:: onhead**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmwritersink-onheader) , должен быть записан в начало файла, и все буферы, полученные в [**ондатаунит**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmwritersink-ondataunit) , должны быть записаны последовательно. **Верхний** колонтитул будет вызываться в начале, но он может быть вызван в другое время, и если это возможно, то следует, по возможности, перезаписать исходный заголовок. Если приложение по какой-либо причине не может сделать это, просто проигнорируйте последующие вызовы **onhead** .

Пользовательский приемник должен передавать свое состояние в приложение для создания, выполнив вызовы метода обратного вызова [**ивмстатускаллбакк:: OnStatus**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmstatuscallback-onstatus) . При реализации приемника в качестве COM-объекта может потребоваться предоставить интерфейс [**ивмрегистеркаллбакк**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmregistercallback) . Однако адрес обратного вызова **OnStatus** можно передать в приемник и задать контекст любым способом.

## <a name="related-topics"></a>См. также

<dl> <dt>

[**Работа с приемниками модуля записи**](working-with-writer-sinks.md)
</dt> </dl>

 

 




