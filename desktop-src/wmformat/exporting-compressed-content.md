---
title: Экспорт сжатого содержимого
description: Экспорт сжатого содержимого
ms.assetid: b312aa5e-d693-4d0a-9d74-b443713cec8c
keywords:
- Windows Пакет SDK для формата мультимедиа, экспорт DRM
- Windows Пакет SDK для формата мультимедиа, экспорт
- Windows Пакет SDK для формата мультимедиа, сжатое содержимое
- Управление цифровыми правами (DRM), экспорт
- DRM (Управление цифровыми правами), экспорт
- Управление цифровыми правами (DRM), сжатое содержимое
- DRM (Управление цифровыми правами), сжатое содержимое
- Расширенные API клиента DRM, сжатое содержимое
- Расширенные API клиента, сжатое содержимое
- Расширенные API клиента DRM, экспорт
- Расширенные API клиента, экспорт
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 20e7e8e6d71e4104d65336b131d0e15d5eaedd8b2fba4b7715f5e60aa6083544
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "120055504"
---
# <a name="exporting-compressed-content"></a>Экспорт сжатого содержимого

в этом разделе описывается экспорт Windows мультимедиа, защищенного с помощью DRM, на Windows файле мультимедиа, где приложение получает сжатые цифровые данные мультимедиа. для этого приложение должно выполнить встроенную расшифровку всех Windows зашифрованных полезных данных DRM Media в файле ASF.

> [!Note]  
> библиотека синтаксического анализа ASF предоставляется в рамках соглашения об экспорте Windows Media DRM.

 

Основные этапы экспорта сжатого содержимого:

1.  При необходимости выполните индивидуальную разработку DRM.
2.  Убедитесь, что Целевая схема защиты содержимого разрешена явно.
3.  Создайте объект дешифратора для расшифровки каждой полезной нагрузки ASF.
4.  система DRM преобразует все полезные данные ASF из Windows Media DRM в RC4 перед передачей в приложение.

Если приложение изменяет размер полезных данных ASF во время передачи, необходимо также Ремультиплексирование файла ASF.

передайте в библиотеку-заглушку Windows сертификат приложения экспорта DRM мультимедиа. Сертификат проверяется, и, если он является допустимым, система DRM создает вектор инициализации и шифрует его с помощью RSA OAEP.

-   Ключ сеанса RC4 создается для каждой полезной нагрузки путем сцепления вектора инициализации и расширяющего значения. Вы предоставляете расширяющее значение API-интерфейсу расшифровки, и вы должны увеличить его на положительное ненулевое целочисленное значение для каждой полезной нагрузки.

вы будете предоставлять средство майкрософт в рамках соглашения об экспорте DRM для Windows Media, которое позволит создать собственную пару из открытого и закрытого ключей RSA. вы отправите открытый ключ в корпорацию майкрософт, где корпорация майкрософт будет включать его в подписанный Windows сертификат приложения DRM Media и возвращать его.

Каждая полезная нагрузка после расшифровки с помощью ключа расшифровки RC4 должна быть немедленно зашифрована в выходных данных CPS. существуют другие ограничения на обработку незашифрованных полезных данных, которые описаны в правилах надежности и соответствия требованиям, которые прилагаются к соглашению об экспорте Windows Media DRM.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[**Расшифровка полезных данных ASF и повторное шифрование**](asf-payload-decryption-and-re-encryption.md)
</dt> <dt>

[**Экспорт DRM**](drm-export.md)
</dt> <dt>

[**Выполнение индивидуальной управления цифровыми правами**](performing-drm-individualization.md)
</dt> <dt>

[**Проверка и инициализация**](verification-and-initialization.md)
</dt> </dl>

 

 




