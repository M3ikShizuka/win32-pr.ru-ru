---
title: Экспорт сжатого содержимого
description: Экспорт сжатого содержимого
ms.assetid: b312aa5e-d693-4d0a-9d74-b443713cec8c
keywords:
- Windows Media Format SDK, экспорт DRM
- Пакет Windows Media Format SDK, экспорт
- Windows Media Format SDK, сжатое содержимое
- Управление цифровыми правами (DRM), экспорт
- DRM (Управление цифровыми правами), экспорт
- Управление цифровыми правами (DRM), сжатое содержимое
- DRM (Управление цифровыми правами), сжатое содержимое
- Расширенные API клиента DRM, сжатое содержимое
- Расширенные API клиента, сжатое содержимое
- Расширенные API клиента DRM, экспорт
- Расширенные API клиента, экспорт
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 37781d5575dbffb7103f07307a149f4bd5e9e4fb
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "103888155"
---
# <a name="exporting-compressed-content"></a>Экспорт сжатого содержимого

В этом разделе описывается экспорт защищенного мультимедиа Windows Media DRM в файл Windows Media, где приложение получает сжатые цифровые данные мультимедиа. Для этого приложение должно выполнить встроенную расшифровку всех зашифрованных полезных данных Windows Media DRM в файле ASF.

> [!Note]  
> Библиотека синтаксического анализа ASF предоставляется как часть соглашения об экспорте DRM Windows Media.

 

Основные этапы экспорта сжатого содержимого:

1.  При необходимости выполните индивидуальную разработку DRM.
2.  Убедитесь, что Целевая схема защиты содержимого разрешена явно.
3.  Создайте объект дешифратора для расшифровки каждой полезной нагрузки ASF.
4.  Система DRM преобразует все полезные данные ASF из Windows Media DRM в RC4 перед передачей их в приложение.

Если приложение изменяет размер полезных данных ASF во время передачи, необходимо также Ремультиплексирование файла ASF.

Передайте в библиотеку-заглушку сертификат приложения для экспорта Windows Media DRM. Сертификат проверяется, и, если он является допустимым, система DRM создает вектор инициализации и шифрует его с помощью RSA OAEP.

-   Ключ сеанса RC4 создается для каждой полезной нагрузки путем сцепления вектора инициализации и расширяющего значения. Вы предоставляете расширяющее значение API-интерфейсу расшифровки, и вы должны увеличить его на положительное ненулевое целочисленное значение для каждой полезной нагрузки.

Вы будете предоставлять средства корпорацией Майкрософт в рамках соглашения об экспорте DRM для Windows Media, которое позволит создать собственную пару из открытого и закрытого ключей RSA. Открытый ключ будет отправлен в корпорацию Майкрософт, где корпорация Майкрософт будет включать его в подписанный сертификат приложения Windows Media DRM и возвращать его.

Каждая полезная нагрузка после расшифровки с помощью ключа расшифровки RC4 должна быть немедленно зашифрована в выходных данных CPS. Существуют другие ограничения на обработку незашифрованных полезных данных, которые описаны в правилах надежности и соответствия требованиям, сопровождающих соглашение об экспорте DRM Windows Media.

## <a name="related-topics"></a>См. также

<dl> <dt>

[**Расшифровка полезных данных ASF и повторное шифрование**](asf-payload-decryption-and-re-encryption.md)
</dt> <dt>

[**Экспорт DRM**](drm-export.md)
</dt> <dt>

[**Выполнение индивидуальной управления цифровыми правами**](performing-drm-individualization.md)
</dt> <dt>

[**Проверка и инициализация**](verification-and-initialization.md)
</dt> </dl>

 

 




