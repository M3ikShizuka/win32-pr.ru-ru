---
title: Реализация сообщений модуля чтения в обратном вызове OnStatus
description: Реализация сообщений модуля чтения в обратном вызове OnStatus
ms.assetid: f0535e02-a283-48bf-9242-ebcc17a6fb66
keywords:
- Расширенный системный формат (ASF), реализация сообщений для чтения
- ASF (Расширенный системный формат), реализация сообщений для чтения
- Расширенный формат систем (ASF), обратный вызов OnStatus
- ASF (Расширенный системный формат), обратный вызов OnStatus
- Расширенный системный формат (ASF), асинхронный читатель
- ASF (Расширенный системный формат), асинхронный читатель
- асинхронные читатели, реализация сообщений чтения
- Метод обратного вызова OnStatus, реализация сообщений читателя
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 384cf8df8628efa9bd2cc17920dc6b1303655691
ms.sourcegitcommit: 48d1c892045445bcbd0f22bafa2fd3861ffaa6e7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/19/2020
ms.locfileid: "104069556"
---
# <a name="to-implement-reader-messages-in-the-onstatus-callback"></a>Реализация сообщений модуля чтения в обратном вызове OnStatus

Чтобы использовать асинхронное средство чтения для доставки содержимого из ASF-файла, необходимо реализовать как минимум два метода обратного вызова — [**ивмстатускаллбакк:: OnStatus**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmstatuscallback-onstatus) и [**ивмреадеркаллбакк:: OnStatus**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreadercallback-onsample). В этом разделе описывается, как реализовать **ивмстатускаллбакк:: OnStatus** для получения сообщений о состоянии, отправленных модулем чтения, и реагирования на них. **OnStatus** используется другими объектами в пакете SDK формата Windows Media. Общие сведения о **OnStatus** см. [в разделе Использование обратного вызова OnStatus](using-the-onstatus-callback.md).

При использовании асинхронного модуля чтения необходимо выполнить перехват следующих сообщений в **ивмстатускаллбакк:: OnStatus**.



| Сообщение о состоянии | Описание                                     |
|----------------|-------------------------------------------------|
| ВМТ \_ открыт    | Отправляется при завершении операций открытия файла. |
| ВМТ \_ закрыт    | Посылается при завершении операций закрытия файла. |



 

Для управления выполнением приложения чтения следует использовать перечисленные выше сообщения о состоянии. Например, необходимо дождаться получения открытого сообщения **ВМТ \_** для запуска средства чтения или вызвать другие методы, требующие готовности файла для чтения. Часто приложения, созданные с помощью асинхронного модуля чтения, используют событие для сигнализации о завершении асинхронных вызовов и продолжают обработку. Дополнительные сведения об использовании событий для сигнализации о завершении операций см. [в разделе Использование событий с асинхронными вызовами](using-events-with-asynchronous-calls.md).

Многие другие сообщения отправляются в **OnStatus** объектом Reader, чтобы приложение отвечало на состояние операций чтения. Возможные значения сообщения о состоянии определены в типе перечисления [**\_ состояния ВМТ**](/previous-versions/windows/desktop/api/Wmsdkidl/ne-wmsdkidl-wmt_status) .

## <a name="related-topics"></a>См. также

<dl> <dt>

[**Ивмстатускаллбакк:: OnStatus**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmstatuscallback-onstatus)
</dt> <dt>

[**Чтение файлов с помощью асинхронного модуля чтения**](reading-files-with-the-asynchronous-reader.md)
</dt> <dt>

[**Использование обратного вызова OnStatus**](using-the-onstatus-callback.md)
</dt> </dl>

 

 




