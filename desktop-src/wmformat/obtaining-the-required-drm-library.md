---
title: Получение требуемой библиотеки DRM
description: Получение требуемой библиотеки DRM
ms.assetid: 7bd13b77-439e-40cf-99e8-b359247da74d
keywords:
- Windows Пакет SDK для формата мультимедиа, получение необходимых библиотек DRM
- Расширенный формат систем (ASF), получение необходимых библиотек DRM
- ASF (Расширенный системный формат), получение необходимых библиотек DRM
- Управление цифровыми правами (DRM), получение необходимых библиотек
- DRM (Управление цифровыми правами), получение необходимых библиотек
- Управление цифровыми правами (DRM), сведения о сборке
- DRM (Управление цифровыми правами), сведения о сборке
- Управление цифровыми правами (DRM), отладочная информация
- DRM (Управление цифровыми правами), отладочная информация
- Отладка DRM
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9f5c124c1e7edf0bba736b9dd392e852aac97e96
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127574322"
---
# <a name="obtaining-the-required-drm-library"></a>Получение требуемой библиотеки DRM

Для создания или воспроизведения файлов цифрового мультимедиа, защищенных с помощью DRM, приложение должно ссылаться на статическую библиотеку, предоставляемую корпорацией Майкрософт в двоичном формате. Эта библиотека иногда называется библиотекой-заглушкой или "стублиб" и уникально идентифицирует ваше приложение.

В этой документации библиотека DRM называется "Вмстубдрм. lib". Имя полученной библиотеки будет содержать идентификационный номер. Чтобы получить эту библиотеку, необходимо подписать лицензионное соглашение с корпорацией Майкрософт. Условия соглашения могут отличаться в зависимости от того, вы запрашиваете лицензию на оценку или рабочую лицензию. дополнительные сведения о процессе лицензирования DRM см. в Windows форме лицензирования мультимедиа на [веб-сайте майкрософт](https://www.microsoft.com/licensing/default).

Полученная библиотека имеет уровень безопасности DRM, зависящий от типа лицензионного соглашения, в которое вы вводите. Лицензия DRM может ограничить доступ к содержимому файлов для приложений с компонентами DRM ниже указанного уровня безопасности. Этот уровень безопасности отличается от уровня индивидуальности DRM и не связан ни с одним из числовых значений уровней защиты выходных данных (Оплс). В следующей таблице приведены примеры уровней безопасности DRM для различных игроков и портативных устройств.



| Уровень безопасности | Проигрыватели и портативные устройства                                                                                                                                                                                                                                                                                                   | Пример                                                                                                                                                                                          |
|----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 150            | устройства, которые не поддерживают Windows Media DRM. Защита DRM удаляется, когда содержимое передается на такое устройство.                                                                                                                                                                                                         | устройства, поддерживающие Windows содержимое на основе носителя, но не защищенное содержимое                                                                                                                       |
| 1000          | приложения проигрывателя на основе пакета SDK Windows Media Format 9,5 или более ранней версии, которые не соответствуют дополнительным требованиям для уровня 2000. устройства на основе Windowsного устройства мультимедиа DRM v1.<br/> устройства на базе Windows CE 4,2 и более поздних версий.<br/>                                                                       | проигрыватель Windows Media 6,4, проигрыватель Windows Media устройства мультимедиа 7Portable, Windows поддерживающие мобильное устройство DRM версии 1.<br/>                                                             |
| 2 000          | приложения проигрывателя, основанные на Windows пакете SDK для windows Media Format 9 или более поздней версии, и которые следуют более строгим набором рекомендаций по защите содержимого, чем приложения на уровне 1000. устройства на основе Windows Media DRM 10 для портативных устройств.<br/> устройства на основе Windows Media DRM 10 для сетевых устройств.<br/> | устройства мультимедиа проигрыватель Windows Media 9 Series и латерпортабле, поддерживающие Windows media DRM 10 для портативных устройств<br/> портативные устройства Media Center на основе Windows Mobile<br/> |



 

## <a name="build-and-debugging-information"></a>Сведения о сборке и отладке

При компоновке с Вмстубдрм. lib не следует связываться с вмвкоре. lib. Компонент DRM не будет работать должным образом, если приложение ссылается на обе библиотеки.

Точка останова пользователя в компоненте DRM не позволит версиям отладки и выпуска приложений получать доступ к защищенному содержимому при работе в отладчике. Для устранения неполадок в приложении, связанных с DRM, необходимо написать собственные подпрограммы трассировки, которые сохраняют такие сведения, как значения **HRESULT** , в некоторый каталог, например в файл журнала.

При попытке запустить окончательную версию приложения в системе с установленной отладочной версией пакета SDK (или другим способом) будут возникать ошибки кучи во время воспроизведения содержимого DRM версии 7. Не забудьте запустить отладку приложений по битам пакета SDK для отладки и выпустить приложения по битам выпуска. Эта же проблема возникает при запуске отладочной версии пакета SDK с отдельным компонентом DRM (который всегда является сборкой выпуска).

**Примечания** DRM не поддерживает версию этого пакета SDK на базе x64.

файлы вмстубдрм. lib, связанные с пакетом SDK для Windows Media Format 9,5, можно использовать только с компонентами Microsoft Visual Studio .net 2003. Если вы используете более раннюю версию библиотеки-заглушки, для ее использования нет новых ограничений.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[**Включение поддержки DRM**](enabling-drm-support.md)
</dt> </dl>

 

 





