---
title: Перенос контекстов устройств и форматов пикселей
description: Перенос контекстов устройств и форматов пикселей
ms.assetid: b60cac27-1e2e-4da5-81c4-69446b92f820
keywords:
- перенос в OpenGL, ПКС
- Перенос с OpenGL, Пиксели
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b292fb3f27eb2ed888a4db94198944f41a8571114b38c5c90b994cdd1cb6367f
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119144087"
---
# <a name="porting-device-contexts-and-pixel-formats"></a>Перенос контекстов устройств и форматов пикселей

каждое окно в реализации Microsoft OpenGL для Windows имеет собственный текущий формат пикселей. Формат пикселей определяется структурой данных [**пикселформатдескриптор**](/windows/win32/api/wingdi/ns-wingdi-pixelformatdescriptor) . Так как каждое окно имеет собственный формат пикселей, вы получаете контекст устройства, устанавливаете формат пикселей контекста устройства, а затем создаете контекст визуализации OpenGL для контекста устройства. Контекст визуализации автоматически использует формат пикселей контекста устройства.

Система Window X также использует структуру данных **ксвисуалинфо** для указания свойств пикселей в окне. Структуры **ксвисуалинфо** содержат **визуальную** структуру данных, которая описывает, как ресурсы цвета используются на конкретном экране.

В системе Window X **ксвисуалинфо** используется для создания окна путем задания в окне нужного формата пикселей. Возвращаемая структура используется для создания окна и контекста отрисовки. в Windows сначала необходимо создать окно и получить маркер контекста устройства (HDC) окна. Затем для задания формата пикселей для окна используется параметр HDC. Контекст визуализации использует формат пикселей окна.

в следующей таблице сравниваются система Window X и глксные визуальные функции с их эквивалентами Windows функций формата пикселей.



| Визуальная функция X Window/ГЛКС                                                                                     | функция формата пикселей Windows                                                                                                      |
|------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------|
| Ксвисуалинфо \* **глксчусевисуал**(экран *\* ДПИ*, int *Screen*, int *\* аттриблист*)                               | int [**чусепикселформат**](/windows/desktop/api/wingdi/nf-wingdi-choosepixelformat)(HDC *HDC*, пикселформатдескриптор *\* ппфд*)                                      |
| int **глксжетконфиг**(отображение *\* ДПИ*, ксвисуалинфо *\* обратитесь*, int *\* аттриблист*, int *\* value*)                      | int [**дескрибепикселформат**](/windows/desktop/api/wingdi/nf-wingdi-describepixelformat)(HDC *HDC*, int *ипикселформат*, uint *nBytes*, лппикселформатдескриптор *ппфд*) |
| Ксвисуалинфо \* **ксжетвисуалинфо**(отображение *\* ДПИ*, длинная *Винфо \_ Маска*, ксвисуалинфо *\* Винфо \_ TEMP*, int *\* нитемс*) | int [**жетпикселформат**](/windows/desktop/api/wingdi/nf-wingdi-getpixelformat)(HDC *HDC*)                                                                           |
| *Визуальный* элемент, возвращаемый функцией **глксчусевисуал** , используется при создании окна.                                   | BOOL [**сетпикселформат**](/windows/desktop/api/wingdi/nf-wingdi-setpixelformat)(HDC *HDC*, int *ипикселформат*, пикселформатдескриптор *\* ппфд*)                        |



 

В следующих разделах приведены примеры фрагментов кода формата пикселей для программы X Window System и тот же код после переноса в Windows.

-   [Пример кода формата пикселей ГЛКС](glx-pixel-format-code-sample.md)
-   [Windows Пример кода формата пикселей](win32-pixel-format-code-sample.md)

Дополнительные сведения о форматах пикселей см. в разделе [форматы пикселей](pixel-formats.md).

 

 




