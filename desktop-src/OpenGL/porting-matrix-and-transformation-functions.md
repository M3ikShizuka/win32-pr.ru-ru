---
title: Перенос матриц и функций преобразования
description: Аналогичным образом обрабатывались матрицы и преобразования IRI GL и OpenGL.
ms.assetid: 732ba65a-d776-43ea-a605-0f59209c9a46
keywords:
- Перенос GL по IRI, матрицы
- Перенос из ДИАФРАГМы в ГК, матрицы
- Перенос на OpenGL из IRI GL, матрицы
- Перенос по стандарту OpenGL из IRI GL, матрицы
- матрицы
- Перенос GL в ГК, преобразования
- Перенос из IRI GL, преобразования
- перенос в OpenGL из IRI GL, преобразования
- Перенос по стандарту OpenGL из IRI GL, преобразования
- преобразования
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a1c6219640085370202b8dbebad9a2e9d4992b4f
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "104331016"
---
# <a name="porting-matrix-and-transformation-functions"></a>Перенос матриц и функций преобразования

Аналогичным образом обрабатывались матрицы и преобразования IRI GL и OpenGL. Но при переносе кода из IRI GL следует учитывать несколько различий.

-   В OpenGL всегда используется режим двойной матрицы. режим одиночной матрицы отсутствует.
-   Углы измеряются в градусах, а не десятых градусов.
-   Вызовы матриц проекции, такие как [**глфрустум**](glfrustum.md) и [**глорсо**](glortho.md), теперь умножаются на текущую матрицу, а не загружаются в текущую матрицу.
-   Функция OpenGL, [**глротате**](glrotate.md), сильно отличается от **вращения**. Можно поворачивать любую произвольную ось, а не ограниченную осями x, y и z. Например, можно перевести:

    ```C++
    rotate(200*(i+1), 'z');
    ```

    

    на:

    ```C++
    glRotate(.1*(200*(i+1), 0.0, 0.0, 1.0);
    ```

    

    При преобразовании из **перехода** в **глротате** вы перейдете в градусы с десятых градусов и замените "z" вектором для оси z.

-   OpenGL не имеет эквивалента функции **поларвиев** . Его можно легко заменить с помощью перевода и трех поворотов. Например, можно перевести:

    ```C++
    polarview(distance, azimuth, incidence, twist);
     
    ```

    

    на:

    ```C++
    glTranslatef( 0.0, 0.0, -distance); 
    glRotatef( -twist * 10.0, 0.0, 0.0, 1.0); 
    glRotatef( -incidence * 10.0, 1.0, 0.0, 0.0); 
    glRotatef( -azimuth * 10.0, 0.0, 0.0, 1.0);
    ```

    

В следующей таблице перечислены функции матрицы OpenGL и их эквивалентные функции IRI GL.



| Функция IRI GL              | Функция OpenGL                                                                        | Значение                                                                                                                                                                        |
|-------------------------------|----------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **ммоде**                     | [**глматриксмоде**](glmatrixmode.md)                                                   | Задает текущий режим матрицы.                                                                                                                                                      |
|                               | [**гллоадидентити**](glloadidentity.md)                                               | Заменяет текущую матрицу матрицей идентификаторов.                                                                                                                              |
| **лоадматрикс**                | [**гллоадматриксф**](glloadmatrix.md),[**гллоадматриксд**](glloadmatrix.md)<br/> | Заменяет текущую матрицу указанной матрицей.                                                                                                                             |
| **мултматрикс**                | [**глмултматриксф**](glmultmatrix.md),[**глмултматриксд**](glmultmatrix.md)<br/> | После этого производится умножение текущей матрицы на указанную матрицу (Обратите внимание, что **мултматрикс** предварительно умножается).                                                                            |
| **МАПВ**, **mapw2**           | [**глуунпрожект**](gluunproject.md)                                                   | Проецирует координаты мирового пространства в объектное пространство (см. также [**глупрожект**](gluproject.md)).                                                                                  |
| **орсо**                     | [**глорсо**](glortho.md)                                                             | Умножает текущую матрицу на ортогональную матрицу проекции.                                                                                                                |
| **ortho2**                    | [**gluOrtho2D**](gluortho2d.md)                                                       | Определяет матрицу двухмерной ортогональной проекции.                                                                                                                      |
| **перспектив**               | [**глуперспективе**](gluperspective.md)                                               | Определяет матрицу проекции перспективы.                                                                                                                                       |
| **пикксизе**                  | [**глупиккматрикс**](glupickmatrix.md)                                                 | Определяет регион комплектации.                                                                                                                                                      |
| **попматрикс**                 | [**глпопматрикс**](glpopmatrix.md)                                                     | Выводит текущий стек матриц, заменяя текущую матрицу на ту, которая находится под ней.                                                                                                 |
| **пушматрикс**                | [**глпушматрикс**](glpushmatrix.md)                                                   | Помещает текущую матрицу в стек по одному, дублируют текущую матрицу.                                                                                                       |
| **вращение**,**ROT**<br/> | [**глротатед**](glrotate.md),[**глротатеф**](glrotate.md)<br/>                 | Поворачивает текущую систему координат на заданный угол относительно вектора от начала до заданной точки. Обратите **внимание, что поворот** поворачивается только относительно осей x, y и z. |
| **масштаб**                     | [**глскалед**](glscale.md),[**глскалеф**](glscale.md)<br/>                     | Умножает текущую матрицу на матрицу масштабирования.                                                                                                                                 |
| **Перевести**                 | [**глтранслатеф**](gltranslate.md),[**глтранслатед**](gltranslate.md)<br/>     | Перемещает источник системы координат на указанную точку путем умножения текущей матрицы на матрицу перевода.                                                              |
| **окно**                    | [**глфрустум**](glfrustum.md)                                                         | При заданных координатах для обтравочных плоскостей текущая матрица умножается на матрицу перспективы.                                                                                  |



 

OpenGL имеет три режима матрицы, которые задаются с помощью [**глматриксмоде**](glmatrixmode.md). В следующей таблице перечислены режимы, доступные в качестве параметров для **глматриксмоде**.



| Режим матрицы IRI GL | Режим OpenGL    | Значение                                  | Минимальная глубина стека |
|---------------------|----------------|------------------------------------------|-----------------|
| **мтекстуре**        | \_текстура GL    | Работает с стеком матрицы текстур.    | 2               |
| **мвиевинг**        | \_МОДЕЛВИЕВ GL  | Работает с стеком матриц представления модели. | 32              |
| **мпрожектион**     | \_ПРОЕКЦИЯ GL | Работает в стеке матрицы проекции. | 2               |



 

 

 





