---
title: Функция glTexImage2D (GL. h)
description: Функция glTexImage2D указывает изображение двухмерной текстуры.
ms.assetid: e8b9c692-5239-47de-86eb-80c247c60e1d
keywords:
- Функция glTexImage2D OpenGL
topic_type:
- apiref
api_name:
- glTexImage2D
api_location:
- opengl32.dll
api_type:
- DllExport
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 3ba2d5bc6f966d9b10c0dadccb221086e64de827
ms.sourcegitcommit: a1494c819bc5200050696e66057f1020f5b142cb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/12/2020
ms.locfileid: "105661995"
---
# <a name="glteximage2d-function"></a>Функция glTexImage2D

Функция **glTexImage2D** указывает изображение двухмерной текстуры.

## <a name="syntax"></a>Синтаксис


```C++
void WINAPI glTexImage2D(
         GLenum  target,
         GLint   level,
         GLint   internalformat,
         GLsizei width,
         GLsizei height,
         GLint   border,
         GLint   format,
         GLenum  type,
   const GLvoid  *pixels
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*target* 
</dt> <dd>

Целевая текстура. Должно быть \_ 2D-текстура GL \_ .

</dd> <dt>

*level* 
</dt> <dd>

Номер уровня детализации. Уровень 0 является базовым уровнем образа. Уровень *n* — это *n* -ое изображение для сокращения mipmap.

</dd> <dt>

*интерналформат* 
</dt> <dd>

Число компонентов цвета в текстуре. Значение должно быть равно 1, 2, 3 или 4 или одной из следующих символьных констант: GL \_ Alpha, GL \_ ALPHA4, GL \_ ALPHA8, GL \_ ALPHA12, GL \_ ALPHA16, \_ светимость GL, GL LUMINANCE4 \_ , GL \_ LUMINANCE8, GL \_ LUMINANCE12, GL \_ LUMINANCE16, GL \_ светимость \_ Alpha, GL LUMINANCE4 ALPHA4, GL LUMINANCE6 ALPHA2 \_ \_ \_ \_ , GL \_ LUMINANCE8 \_ ALPHA8, GL \_ LUMINANCE12 ALPHA4, \_ GL \_ LUMINANCE12 \_ ALPHA12, GL \_ LUMINANCE16 ALPHA16, ная \_ интенсивность GL, GL INTENSITY4 \_ \_ , GL \_ INTENSITY8, GL \_ INTENSITY12, GL \_ INTENSITY16, GL \_ R3 \_ G3 \_ B2, GL \_ RGB, GL RGB4, \_ GL \_ RGB5, GL \_ RGB8, GL RGB10, \_ \_ \_ \_ \_ \_ \_ \_ \_ \_ \_ \_ \_ GL RGB12, GL, ГК, GL RGB16 и GL RGBA2, GL RGBA4.

</dd> <dt>

*width* 
</dt> <dd>

Ширина изображения текстуры. Значение должно быть 2 *n* + 2 (*border*) для некоторого целого числа *n*.

</dd> <dt>

*height* 
</dt> <dd>

Высота изображения текстуры. Значение должно быть 2 *<sup>м</sup>* + 2 (*граница*) для некоторого целого числа *m*.

</dd> <dt>

*цвета* 
</dt> <dd>

Ширина границы. Значение должно быть 0 или 1.

</dd> <dt>

*format* 
</dt> <dd>

Формат точечных данных. Можно предположить, что одно из девяти символьных значений.



| Значение                                                                                                                                                                         | Значение                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="GL_COLOR_INDEX"></span><span id="gl_color_index"></span><dl> <dt>**\_индекс цвета \_ GL**</dt> </dl>             | Каждый элемент — это одно значение, цветовой индекс. Он преобразуется в фиксированную точку (с неопределенным числом нулей справа от двоичной точки), сдвигая влево или вправо в зависимости от значения и знака смещения \_ индекса GL \_ и добавления к \_ \_ смещению индекса GL (см. [**глпикселтрансфер**](glpixeltransfer.md)). Полученный индекс преобразуется в набор цветовых компонентов, использующих \_ пиксельную карту GL i в R, GL в виде таблицы с i по G, GL в виде пикселя на B, а также в таблице GL с приведением к \_ \_ \_ \_ \_ \_ \_ \_ \_ \_ \_ \_ \_ \_ \_ \_ \_ \_ \_ диапазону \[ 0, 1 \] .<br/> |
| <span id="GL_RED"></span><span id="gl_red"></span><dl> <dt>**\_красный GL**</dt> </dl>                                      | Каждый элемент является одним красным компонентом. Он преобразуется в плавающую точку и собирается в элемент RGBA путем присоединения 0,0 для зеленого и синего и 1,0 для Alpha. Затем каждый компонент умножается на коэффициент масштабирования со знаком «GL \_ c \_ », добавленный к смещению «смещение на языке c» со знаком, а также в \_ \_ диапазон \[ 0, 1 \] (см. **глпикселтрансфер**).<br/>                                                                                                                                                                                               |
| <span id="GL_GREEN"></span><span id="gl_green"></span><dl> <dt>**\_зеленый GL**</dt> </dl>                                | Каждый элемент является одним зеленым компонентом. Он преобразуется в плавающую точку и собирается в элемент RGBA путем присоединения 0,0 для красного и синего и 1,0 для Alpha. Затем каждый компонент умножается на коэффициент масштабирования со знаком «GL \_ c \_ », добавленный к смещению «смещение на языке c» со знаком, а также в \_ \_ диапазон \[ 0, 1 \] (см. [**глпикселтрансфер**](glpixeltransfer.md)).<br/>                                                                                                                                                                        |
| <span id="GL_BLUE"></span><span id="gl_blue"></span><dl> <dt>**\_синяя GL**</dt> </dl>                                   | Каждый элемент является одним синим компонентом. Он преобразуется в плавающую точку и собирается в элемент RGBA путем присоединения 0,0 для красного и зеленого и 1,0 для Alpha. Затем каждый компонент умножается на коэффициент масштабирования со знаком «GL \_ c \_ », добавленный к смещению «смещение на языке c» со знаком, а также в \_ \_ диапазон \[ 0, 1 \] (см. **глпикселтрансфер**).<br/>                                                                                                                                                                                               |
| <span id="GL_ALPHA"></span><span id="gl_alpha"></span><dl> <dt>**\_альфа-канал GL**</dt> </dl>                                | Каждый элемент является одним красным компонентом. Он преобразуется в плавающую точку и собирается в элемент RGBA путем присоединения 0,0 для красного, зеленого и синего цветов. Затем каждый компонент умножается на коэффициент масштабирования со знаком «GL \_ c \_ », добавленный к смещению «смещение на языке c» со знаком, а также в \_ \_ диапазон \[ 0, 1 \] (см. [**глпикселтрансфер**](glpixeltransfer.md)).<br/>                                                                                                                                                                                     |
| <span id="GL_RGB"></span><span id="gl_rgb"></span><dl> <dt>**RGB в формате GL \_**</dt> </dl>                                      | Каждый элемент — это тройной RGB. Он преобразуется в плавающую точку и собирается в элемент RGBA путем присоединения 1,0 для альфа. Затем каждый компонент умножается на коэффициент масштабирования со знаком «GL \_ c \_ », добавленный к смещению «смещение на языке c» со знаком, а также в \_ \_ диапазон \[ 0, 1 \] (см. **глпикселтрансфер**).<br/>                                                                                                                                                                                                                                    |
| <span id="GL_RGBA"></span><span id="gl_rgba"></span><dl> <dt>**RGBA для GL \_**</dt> </dl>                                   | Каждый элемент является полным элементом RGBA. Он преобразуется в тип с плавающей запятой. Затем каждый компонент умножается на коэффициент масштабирования со знаком «GL \_ c \_ », добавленный к смещению «смещение на языке c» со знаком, а также в \_ \_ диапазон \[ 0, 1 \] (см. [**глпикселтрансфер**](glpixeltransfer.md)).<br/>                                                                                                                                                                                                                                                                 |
| <span id="GL_BGR_EXT"></span><span id="gl_bgr_ext"></span><dl> <dt>**\_BGRа \_ GL**</dt> </dl>                         | Каждый пиксель — это группа из трех компонентов в следующем порядке: синий, зеленый, красный.<br/> GL \_ BGR \_ ext предоставляет формат, соответствующий макету памяти, не зависящему от устройства Windows (DIB). Поэтому приложения могут использовать те же данные, что и вызовы функций Windows, и вызовы функций OpenGL Pixel.<br/>                                                                                                                                                                                                                                     |
| <span id="GL_BGRA_EXT"></span><span id="gl_bgra_ext"></span><dl> <dt>**\_BGRAа \_ GL**</dt> </dl>                      | Каждый пиксель — это группа из четырех компонентов в следующем порядке: синий, зеленый, красный, альфа. GL \_ BGRA \_ ext предоставляет формат, соответствующий макету памяти, не зависящему от устройства Windows (DIB). Поэтому приложения могут использовать те же данные, что и вызовы функций Windows, и вызовы функций OpenGL Pixel.<br/>                                                                                                                                                                                                                                         |
| <span id="GL_LUMINANCE"></span><span id="gl_luminance"></span><dl> <dt>**\_светимость GL**</dt> </dl>                    | Каждый элемент является одним значением светимости. Он преобразуется в плавающую точку, а затем собирается в элемент RGBA путем репликации значения светимости три раза для красного, зеленого и синего и присоединения 1,0 для альфа. Затем каждый компонент умножается на коэффициент масштабирования со знаком «GL \_ c \_ », добавленный к смещению «смещение на языке c» со знаком, а также в \_ \_ диапазон \[ 0, 1 \] (см. **глпикселтрансфер**).<br/>                                                                                                                                         |
| <span id="GL_LUMINANCE_ALPHA"></span><span id="gl_luminance_alpha"></span><dl> <dt>**\_ярко- \_ альфа-версия GL**</dt> </dl> | Каждый элемент является парой светимости или альфа-канала. Он преобразуется в плавающую точку, а затем собирается в элемент RGBA путем репликации значения светимости три раза для красного, зеленого и синего. Затем каждый компонент умножается на коэффициент масштабирования со знаком «GL \_ c \_ », добавленный к смещению «смещение на языке c» со знаком, а также в \_ \_ диапазон \[ 0, 1 \] (см. [**глпикселтрансфер**](glpixeltransfer.md)).<br/>                                                                                                                                                 |



 

</dd> <dt>

*type* 
</dt> <dd>

Тип данных пикселя. Допустимы следующие символьные значения: \_ НЕподписанный \_ байт, байт GL, формат GL, формат GL \_ \_ \_ без знака \_ Short, краткое название GL \_ , \_ Неподписанное \_ целое число, значение GL \_ и тип \_ float.

</dd> <dt>

*зависим* 
</dt> <dd>

Указатель на данные изображения в памяти.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Эта функция не возвращает значение.

## <a name="error-codes"></a>Коды ошибок

Функция [**глжетеррор**](glgeterror.md) может получить следующие коды ошибок.



| Имя                                                                                                  | Значение                                                                                                                                                                                                                        |
|-------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <dl> <dt>**\_недействительное \_ перечисление GL**</dt> </dl>      | *целевой объект* не был \_ 2D-текстурой GL \_ .<br/>                                                                                                                                                                                |
| <dl> <dt>**\_недействительное \_ перечисление GL**</dt> </dl>      | *Формат* не является допустимой константой *формата* . Принимаются только константы формата \_ , отличные от индекса трафарета GL \_ и \_ компонента глубины GL \_ . Список возможных значений см. в описании параметра *Format* .<br/> |
| <dl> <dt>**\_недействительное \_ перечисление GL**</dt> </dl>      | *тип* не является константой *типа* .<br/>                                                                                                                                                                                   |
| <dl> <dt>**\_недействительное \_ перечисление GL**</dt> </dl>      | *тип* — это \_ точечный рисунок и *Формат* , отличный от \_ индекса цвета GL \_ .<br/>                                                                                                                                                        |
| <dl> <dt>**\_недопустимое \_ значение GL**</dt> </dl>     | *уровень* был меньше нуля или больше log2 *Max*, где *Max* было возвращено значение \_ максимального \_ размера текстуры GL \_ .<br/>                                                                                                |
| <dl> <dt>**\_недопустимое \_ значение GL**</dt> </dl>     | *интерналформат* не был равен 1, 2, 3 или 4.<br/>                                                                                                                                                                         |
| <dl> <dt>**\_недопустимое \_ значение GL**</dt> </dl>     | *Ширина* или высота была меньше нуля или больше 2 + ГК \_ \_ для максимального размера текстуры \_ или не может быть представлена 2 *n* + 2 (Border) для некоторого целого значения *n*.<br/>                                                  |
| <dl> <dt>**\_недопустимое \_ значение GL**</dt> </dl>     | *граница* не равна 0 или 1.<br/>                                                                                                                                                                                            |
| <dl> <dt>**\_Недопустимая \_ Операция GL**</dt> </dl> | Функция была вызвана между вызовом [**глбегин**](glbegin.md) и соответствующим вызовом [**гленд**](glend.md).<br/>                                                                                          |



## <a name="remarks"></a>Комментарии

Функция **glTexImage2D** указывает изображение двухмерной текстуры. Текстурирование сопоставляет часть указанного *изображения текстуры* с каждым графическим примитивом, для которого включено текстурирование. Двухмерный текстурирование включается и отключается с помощью [**гленабле**](glenable.md) и **глдисабле** с аргументом GL \_ текстуры \_ 2D.

Изображения текстуры определяются с помощью **glTexImage2D**. Аргументы описывают параметры изображения текстуры, такие как высота, ширина, ширина границы, номер уровня детализации (см. [**глтекспараметер**](gltexparameter-functions.md)) и число предоставленных компонентов цвета. Последние три аргумента описывают способ представления изображения в памяти. Эти аргументы идентичны форматам пикселей, используемым для [**глдравпикселс**](gldrawpixels.md).

Данные считываются из *пикселей* в виде последовательности символов со знаком или без знака, признака конца или длинной точки или значений с плавающей запятой одиночной точности, в зависимости от *типа*. Эти значения группируются в наборы из одного, двух, трех или четырех значений, в зависимости от *формата*, для формирования элементов. Если *тип* является \_ точечным рисунком GL, данные рассматриваются как строка неподписанных байтов (и *Формат* должен быть \_ \_ индексом GL). Каждый байт данных обрабатывается как 8 1-разрядный, с побитовой сортировкой, определяемой GL \_ \_ ЛСБ, \_ первым (см. [**глпикселсторе**](glpixelstore-functions.md)). Описание допустимых значений параметра *типа* см. в разделе [**глдравпикселс**](gldrawpixels.md) .

Изображение текстуры может содержать до четырех компонентов на элемент текстуры в зависимости от *компонентов*. Рисунок текстуры с одним компонентом использует только красный компонент цвета RGBA, извлеченный из *пикселов*. В образе с двумя компонентами используются значения R и. Изображение из трех компонентов использует значения R, G и B. Образ из четырех компонентов использует все компоненты RGBA.

Текстурирование не влияет на режим индексирования цветов.

Изображение текстуры может быть представлено теми же форматами данных, что и Пиксели в команде **глдравпикселс** , за исключением того, что \_ \_ нельзя использовать индекс трафарета GL и \_ компонент глубины GL \_ . Режимы [**глпикселсторе**](glpixelstore-functions.md) и [**глпикселтрансфер**](glpixeltransfer.md) влияют на изображения текстур точно так же, как они влияют на **глдравпикселс**.

Изображение текстуры с нулевой высотой или шириной обозначает текстуру со значением NULL. Если для уровня детализации 0 указана текстура null, то это так, как если бы текстурирование было отключено.

Следующие функции извлекают сведения, относящиеся к **glTexImage2D**:

[**глжеттексимаже**](glgetteximage.md)

[**глисенаблед**](glisenabled.md) с аргументом GL \_ текстуры \_ 2D

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|-----------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows 2000 Professional \[только классические приложения\]<br/>                              |
| Минимальная версия сервера<br/> | Windows 2000 Server \[только классические приложения\]<br/>                                    |
| Заголовок<br/>                   | <dl> <dt>GL. h</dt> </dl>         |
| Библиотека<br/>                  | <dl> <dt>Opengl32. lib</dt> </dl> |
| DLL<br/>                      | <dl> <dt>Opengl32.dll</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[**глбегин**](glbegin.md)
</dt> <dt>

[**глдравпикселс**](gldrawpixels.md)
</dt> <dt>

[**гленд**](glend.md)
</dt> <dt>

[**глфог**](glfog.md)
</dt> <dt>

[**глисенаблед**](glisenabled.md)
</dt> <dt>

[**глпикселсторе**](glpixelstore-functions.md)
</dt> <dt>

[**глпикселтрансфер**](glpixeltransfer.md)
</dt> <dt>

[**глтексенв**](gltexenv-functions.md)
</dt> <dt>

[**глтексжен**](gltexgen-functions.md)
</dt> <dt>

[**glTexImage1D**](glteximage1d.md)
</dt> <dt>

[**глтекспараметер**](gltexparameter-functions.md)
</dt> </dl>

 

 





