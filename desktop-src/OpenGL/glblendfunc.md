---
title: Функция Глблендфунк (GL. h)
description: Функция Глблендфунк задает арифметику пикселей.
ms.assetid: 6756774b-5eef-419a-a653-0b251aed65a0
keywords:
- Функция Глблендфунк OpenGL
topic_type:
- apiref
api_name:
- glBlendFunc
api_location:
- opengl32.dll
api_type:
- DllExport
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 6300543bbf589c704da6d941bd743f693e0ed5fc
ms.sourcegitcommit: a1494c819bc5200050696e66057f1020f5b142cb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/12/2020
ms.locfileid: "105681912"
---
# <a name="glblendfunc-function"></a>Функция Глблендфунк

Функция **глблендфунк** задает арифметику пикселей.

## <a name="syntax"></a>Синтаксис


```C++
void WINAPI glBlendFunc(
   GLenum sfactor,
   GLenum dfactor
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*сфактор* 
</dt> <dd>

Указывает, как вычисляются факторы красного, зеленого, синего и альфа-смешения источника. Принимаются девять символьных констант: \_ ноль, GL, ГК \_ , \_ Цвет летнего времени \_ , \_ 1 \_ минус \_ Цвет летнего времени, GL src, GL \_ \_ \_ , ГК, один минус источник альфа, GL ( \_ \_ \_ \_ \_ альфа DST) \_ , GL \_ 1 \_ минус \_ альфа-летнее \_ и GL \_ Исх \_ \_ .

</dd> <dt>

*дфактор* 
</dt> <dd>

Указывает, как будут вычисляться красные, зеленые, синие и Альфа-назначения. Допускается восемь символьных констант: \_ нулевая, GL, \_ 1, GL, \_ GL, \_ \_ один \_ минус цвет src, ГК src, \_ \_ \_ GL, один минус источник альфа, ГК летнего времени, ГК, один \_ \_ \_ \_ \_ \_ \_ \_ \_ минус Альфа- \_ фактор летнего времени \_ .

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Эта функция не возвращает значение.

## <a name="error-codes"></a>Коды ошибок

Функция [**глжетеррор**](glgeterror.md) может получить следующие коды ошибок.



| Имя                                                                                                  | Значение                                                                                                                               |
|-------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------|
| <dl> <dt>**\_недействительное \_ перечисление GL**</dt> </dl>      | Значение *сфактор* или *дфактор* не было принято.<br/>                                                                   |
| <dl> <dt>**\_Недопустимая \_ Операция GL**</dt> </dl> | Функция была вызвана между вызовом [**глбегин**](glbegin.md) и соответствующим вызовом [**гленд**](glend.md).<br/> |



## <a name="remarks"></a>Комментарии

В режиме RGB пикселы можно рисовать с помощью функции, которая смешивает входящие (исходные) значения RGBA с значениями RGBA, которые уже находятся в буфера кадров (значения назначения). По умолчанию смешивание отключено. Используйте [**гленабле**](glenable.md) и [**глдисабле**](gldisable.md) с \_ аргументом GL Blend для включения и отключения смешения.

Если этот параметр включен, **глблендфунк** определяет операцию смешения. Параметр *сфактор* указывает, какой из девяти методов используется для масштабирования компонентов исходного цвета. Параметр *дфактор* указывает, какой из восьми методов используется для масштабирования компонентов целевого цвета. В следующей таблице описаны одиннадцать возможных методов. Каждый метод определяет четыре коэффициента масштабирования по одному для красного, зеленого, синего и альфа-канала.

В таблице и в последующих уравнениях компоненты исходного и конечного цветов называются (*R*? , *Ж*? , *Б*? , *А*? ) и (*R*<sub>d</sub> , *G*<sub>d</sub> , *B*<sub>d</sub> , *A*<sub>d</sub> ). Они могут иметь целочисленные значения от 0 до (*k*<sub>r</sub> , *k*<sub>G</sub> , *k*<sub>R</sub> , *k*<sub>A</sub> ), где

*k*<sub>r</sub> = 2 <sup>m</sup>*r* -1

*k*<sub>g</sub> = 2 <sup>m</sup>*G* -1

*k*<sub>b</sub> = 2 <sup>m</sup>*b* -1

*k*<sub>a</sub> = 2 <sup>м</sup>*a* – 1

и (*m*<sub>R</sub> , *m*<sub>G</sub> , *m*<sub>B</sub> , *m*<sub>A</sub> ) — число красного, зеленого, синего и альфа-битпланес.

Исходные и целевые факторы масштабирования называются (*s*<sub>r</sub> , *s*<sub>G</sub> , *s*<sub>B</sub> , *s*<sub>A</sub> ) и (*d*<sub>R</sub> , *d*<sub>G</sub> , *d*<sub>B</sub> , *d*<sub>a</sub> ). Коэффициенты масштабирования, описанные в таблице (*f*<sub>R</sub> , *f*<sub>G</sub> , *f*<sub>B</sub> , *f*<sub>A</sub> ), представляют либо исходные, либо целевые факторы. Все коэффициенты масштабирования имеют диапазон \[ 0, 1 \] .



| Параметр                  | (*f*<sub>R</sub>  , *f*<sub>G</sub>  , *f*<sub>B</sub>  , *f*<sub>A</sub>  )                                                                                 |
|----------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ноль в ГК \_                   | (0,0,0,0)                                                                                                                                                    |
| \_один GL                    | (1, 1, 1, 1)                                                                                                                                                    |
| \_Цвет src в GL \_             | (*R*? / *k*<sub>R</sub> , *G*? / *k*<sub>ж</sub> , *б*? / *k*<sub>б</sub> , *а*? / *k*<sub>A</sub> )                                                         |
| \_Цвет источника \_ "один за минус" \_ \_ | (1, 1, 1, 1)-(*R*? / *k*<sub>R</sub> , *G*? / *k*<sub>ж</sub> , *б*? / *k*<sub>б</sub> , *а*? / *k*<sub>A</sub> )                                             |
| \_Цвет летнего времени \_             | (*R*<sub>d</sub>  /  *k*<sub>R</sub> , *g*<sub>d</sub>  /  *k*<sub>g</sub> , *b*<sub>d</sub>  /  *k*<sub>B</sub> , *a*<sub>d</sub>  /  *k*<sub>a</sub> )             |
| \_один и тот же \_ \_ Цвет периода летнего времени \_ | (1, 1, 1, 1)-(*R*<sub>d</sub>  /  *k*<sub>R</sub> , *g*<sub>d</sub>  /  *k*<sub>g</sub> , *b*<sub>d</sub>  /  *k*<sub>B</sub> , *a*<sub>d</sub>  /  *k*<sub>a</sub> ) |
| \_альфа- \_ канал ГК src             | (*A*? / *а,*<sub></sub> *а*? / *а,*<sub></sub> *а*? / *а,*<sub></sub> *а*? / *k*<sub>A</sub> )                                                         |
| 1-я, ГК, \_ один \_ минус \_ \_ альфа | (1, 1, 1, 1) — (*A*? / *а,*<sub></sub> *а*? / *а,*<sub></sub> *а*? / *а,*<sub></sub> *а*? / *k*<sub>A</sub> )                                             |
| \_альфа- \_ канал летнего времени             | (*A*<sub>d</sub>  /  *k*<sub>а</sub> , *a*<sub>d</sub>  /  *k*<sub>а</sub> , *a*<sub>d</sub>  /  *k*<sub>а</sub> , *a*<sub>d</sub>  /  *л*<sub>a</sub> )             |
| ГК \_ 1 \_ минус \_ альфа-летнее \_ | (1, 1, 1, 1) — (*a*<sub>d</sub>  /  *k*<sub>а</sub> , *a*<sub>d</sub>  /  *k*<sub>а</sub> , *a*<sub>d</sub>  /  *k*<sub>а</sub> , *a*<sub>d</sub>  /  *л*<sub>a</sub> ) |
| \_альфа- \_ канал ИСХОДНОГО \_ сегмента GL   | (*i,* i, 1)                                                                                                                                                 |



 

В этой таблице:

*i* = min (*а*? , *k*<sub>a</sub>   -  <sub>d</sub> )/ *k*<sub></sub>

Чтобы определить смешивание значений RGBA пикселя при рисовании в режиме RGBA, система использует следующие уравнения:

*R* (*d*) = min ( *k*<sub>R</sub> , *r*? *s*<sub>r r</sub>  +  <sub>d</sub> *d*<sub></sub> )

*G* (*d*) = min ( *k*<sub>G</sub> , *G*? *s*<sub>g</sub>  +  *g*<sub></sub> <sub>d</sub> *г.*)

*B* (*d*) = min ( *k*<sub>B</sub> *, B*? *s*<sub>б</sub>  +  *б б*<sub></sub> <sub></sub> )

*A* (*d*) = min ( *k*<sub>а</sub> , *A*? *а a*<sub></sub>  +  <sub>d</sub> *d*<sub></sub> a)

Несмотря на очевидную точность приведенных выше уравнений, арифметическая операция смешения не указана точно, так как смешивание работает с неточными целочисленными значениями цвета. Однако коэффициент смешения, который должен быть равен одному, гарантирует не изменять его множимое, а коэффициент смешения равен нулю сокращает множимое до нуля. Таким образом, например, если *сфактор* — GL \_ src \_ , *дфактор* — это \_ 1 минус единица \_ \_ src \_ , а ? равно *k*<sub>a</sub>, уравнения уменьшаются в простую замену:

*R*<sub>d</sub>  =  *r*?

*G*<sub>d</sub>  =  *g*?

B <sub>d</sub>  =  *б*?

*A*<sub>d</sub>  =  ?

## <a name="examples"></a>Примеры

Прозрачность лучше всего реализуется с помощью **глблендфунк**(GL \_ src \_ альфа, GL \_ 1 \_ минус \_ src \_ альфа) с примитивами, отсортированными от ближайшего к ближайшему. Обратите внимание, что для этого вычисления прозрачности не требуется наличие Alpha битпланес в буфера кадров.

 \_ \_ \_ \_ \_ \_ Для отрисовки точек и линий в произвольном порядке можно также использовать глблендфунк (GL src Alpha, GL 1 минус Альфа).

Чтобы оптимизировать сглаживание многоугольников, используйте **глблендфунк**(параметр " \_ альфа-канал исходного \_ сегмента GL \_ ", GL \_ 1) с многоугольниками, отсортированными от ближайшего к крайнему. (См. в GL \_ \_Аргумент гладкого многоугольника в [**гленабле**](glenable.md) для получения сведений о сглаживание многоугольников.) Назначение Alpha битпланес, которое должно присутствовать, чтобы эта функция Blend работала правильно, сохранить накопленное покрытие.

Входящий (исходный) альфа-код — это непрозрачность материала, в диапазоне от 1,0 (*K*<sub>a</sub> ), представляющая полную непрозрачность, до 0,0 (0), представляющая полную прозрачность.

При включении нескольких цветовых буферов для рисования каждый включенный буфер смешивается отдельно, а содержимое буфера используется для целевого цвета. (См. [**глдравбуффер**](gldrawbuffer.md).)

Смешивание влияет только на отрисовку RGBA. Он игнорируется модулями подготовки к просмотру цветового индекса.

Следующие функции извлекают сведения, относящиеся к **глблендфунк**:

[**глжет**](glgetbooleanv--glgetdoublev--glgetfloatv--glgetintegerv.md) с аргументом GL \_ Blend \_ src

[**глжет**](glgetbooleanv--glgetdoublev--glgetfloatv--glgetintegerv.md) с аргументом GL \_ Blend \_ DST

[**глисенаблед**](glisenabled.md) с аргументом GL \_ Blend

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|-----------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows 2000 Professional \[только классические приложения\]<br/>                              |
| Минимальная версия сервера<br/> | Windows 2000 Server \[только классические приложения\]<br/>                                    |
| Заголовок<br/>                   | <dl> <dt>GL. h</dt> </dl>         |
| Библиотека<br/>                  | <dl> <dt>Opengl32. lib</dt> </dl> |
| DLL<br/>                      | <dl> <dt>Opengl32.dll</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[**глалфафунк**](glalphafunc.md)
</dt> <dt>

[**глбегин**](glbegin.md)
</dt> <dt>

[**глклеар**](glclear.md)
</dt> <dt>

[**глдисабле**](gldisable.md)
</dt> <dt>

[**глдравбуффер**](gldrawbuffer.md)
</dt> <dt>

[**гленабле**](glenable.md)
</dt> <dt>

[**глжет**](glgetbooleanv--glgetdoublev--glgetfloatv--glgetintegerv.md)
</dt> <dt>

[**глисенаблед**](glisenabled.md)
</dt> <dt>

[**гллогикоп**](gllogicop.md)
</dt> <dt>

[**глстенЦилфунк**](glstencilfunc.md)
</dt> </dl>

 

 





