---
title: Функция Глфидбаккбуффер (GL. h)
description: Функция Глфидбаккбуффер управляет режимом обратной связи.
ms.assetid: fe3773a7-c264-4d49-8f90-1f2319f9af4f
keywords:
- Функция Глфидбаккбуффер OpenGL
topic_type:
- apiref
api_name:
- glFeedbackBuffer
api_location:
- opengl32.dll
api_type:
- DllExport
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: e64b232db640d41ca9a1e1f75d6ab766597d6511
ms.sourcegitcommit: a1494c819bc5200050696e66057f1020f5b142cb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/12/2020
ms.locfileid: "105661939"
---
# <a name="glfeedbackbuffer-function"></a>Функция Глфидбаккбуффер

Функция **глфидбаккбуффер** управляет режимом обратной связи.

## <a name="syntax"></a>Синтаксис


```C++
void WINAPI glFeedbackBuffer(
   GLsizei size,
   GLenum  type,
   GLfloat *buffer
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*size* 
</dt> <dd>

Максимальное число значений, которые могут быть записаны в *буфер*.

</dd> <dt>

*type* 
</dt> <dd>

Символьная константа, описывающая сведения, которые будут возвращаться для каждой вершины. Допустимы следующие символьные константы: двумерные, трехмерные, трехмерные, GL, трехмерные текстуры GL \_ \_ \_ \_ \_ \_ \_ и \_ \_ цветовая \_ текстура GL 4d.

</dd> <dt>

*двойной* 
</dt> <dd>

Возвращает данные обратной связи.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Эта функция не возвращает значение.

## <a name="error-codes"></a>Коды ошибок

Функция [**глжетеррор**](glgeterror.md) может получить следующие коды ошибок.



| Имя                                                                                                  | Значение                                                                                                                                                                                                                |
|-------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <dl> <dt>**\_недействительное \_ перечисление GL**</dt> </dl>      | *тип* не является допустимым значением.<br/>                                                                                                                                                                           |
| <dl> <dt>**\_недействительное \_ перечисление GL**</dt> </dl>      | *Размер* был отрицательным.<br/>                                                                                                                                                                                        |
| <dl> <dt>**\_Недопустимая \_ Операция GL**</dt> </dl> | **глфидбаккбуффер** был вызван, когда режим рендеринга был нефинансовым \_ отзывом, или [**глрендермоде**](glrendermode.md) был вызван с аргументом \_ Feedback GL до того, как **глфидбаккбуффер** был вызван по крайней мере один раз.<br/> |
| <dl> <dt>**\_Недопустимая \_ Операция GL**</dt> </dl> | Функция была вызвана между вызовом [**глбегин**](glbegin.md) и соответствующим вызовом [**гленд**](glend.md).<br/>                                                                                  |



## <a name="remarks"></a>Комментарии

Функция **глфидбаккбуффер** управляет обратной связью. Обратная связь, как и в случае выбора, является режимом OpenGL. Режим выбирается путем вызова [**глрендермоде**](glrendermode.md) с использованием \_ обратной связи GL. Когда OpenGL находится в режиме обратной связи, никакие Пиксели не создаются путем растрирования. Вместо этого сведения о примитивах, которые были бы растровыми, отправляются обратно в приложение с помощью OpenGL.

Функция **глфидбаккбуффер** имеет три аргумента:

-   *buffer* — это указатель на массив значений с плавающей запятой, в который помещаются сведения о обратной связи.
-   *Размер* указывает размер массива.
-   *тип* — символьная константа, описывающая сведения, которые передаются обратно для каждой вершины.

Необходимо выполнить инструкцию **глфидбаккбуффер** перед включением режима обратной связи (путем вызова **глрендермоде** с аргументом \_ Feedback GL). При настройке \_ обратной связи в ГК без создания буфера обратной связи или при вызове **глфидбаккбуффер** , когда OpenGL находится в режиме обратной связи, выдает ошибку.

Переведите OpenGL из режима обратной связи, вызвав [**глрендермоде**](glrendermode.md) со значением параметра, ОТЛИЧНЫМ от GL \_ . При этом, когда OpenGL находится в режиме обратной связи, **глрендермоде** возвращает число записей, помещенных в массив обратной связи. Возвращаемое значение никогда не превышает *Размер*. Если данные обратной связи требуют больше места, чем было доступно в *буфере*, **глрендермоде** возвращает отрицательное значение.

В режиме обратной связи каждый примитив, который был бы растровым, создает блок значений, которые копируются в массив обратной связи. Если это приведет к превышению максимального числа записей, **глфидбаккбуффер** частично записывает блок так, чтобы заполнить массив (если все места осталось) и устанавливает флаг переполнения. Каждый блок начинается с кода, указывающего на тип-примитив, за которым следуют значения, описывающие вершины примитива и связанные данные. Функция **глфидбаккбуффер** также записывает записи для точечных рисунков и пиксельных прямоугольников. Обратная связь происходит после истечения действия многоугольника и [**глполигонмоденой**](glpolygonmode.md) интерпретации многоугольников, поэтому многоугольники, которые исключаются, не возвращаются в буфере обратной связи. Это также может произойти после того, как многоугольники с более чем тремя краями разбиваются на треугольники, если реализация OpenGL визуализирует многоугольники, выполняя эту декомпозицию.

Вы можете вставить маркер в буфер обратной связи с помощью [**глпасссраугх**](glpassthrough.md).

Ниже приведена грамматика для блоков значений, записанных в буфер обратной связи. Каждый примитив обозначается уникальным идентифицирующим значением, за которым следует некоторое количество вершин. Записи многоугольников содержат целочисленное значение, указывающее, сколько вершин следуют за ними. Вершина возвращается в виде некоторого числа значений с плавающей запятой, как определено *типом*. Цвет возвращается в виде четырех значений в режиме RGBA и одно значение в режиме индексирования цвета.

Фидбакклист < feedbackItem Фидбакклист \| feedbackItem

feedbackItem < точка \| lineSegment \| \| точечный рисунок Многоугольник \| пикселректангле \| пропускания

\_ \_ вершина маркера точки < главной точки

lineSegment < вершина линии вершинного \_ \_ маркера строки главной вершины для \| \_ \_ \_ маркера сброса линии вершин

многоугольник < \_ маркером многоугольника GL \_ n

<ная вершина вершины вершинной вершины с коspec \|

Битовая карта < \_ \_ вершиной маркера точечного рисунка

Пикселректангле < GL \_ нарисовать \_ пиксельный \_ маркер вершина \| \_ Копировать \_ пиксель \_ маркер вершина

passThru < \_ \_ \_ значение токена GL ГК

вершина < 2D \| 3D \| 3dColor \| 3dColorTexture \| 4dColorTexture

значение 2D <

трехмерное < значение значения

цвет значения значения 3dColor <

3dColorTexture < значение значения Да Color

4dColorTexture < значение значения значение Да Color

цвет < \| индекс RGBA

значение RGBA < значение значения

значение индекса <

значение Да < значение значения

Параметр *value* — это число с плавающей запятой, а *n* — целое число с плавающей запятой, которое предоставляет количество вершин в многоугольнике. Ниже приведены символьные константы с плавающей запятой \_ : \_ токен точки GL, \_ маркер строки GL \_ , \_ маркер сброса строки GL, маркер многоугольника GL, маркер Bitmap в ГК, маркер рисования пикселей в формате GL, маркер копирования пикселей в формате GL \_ \_ \_ \_ \_ \_ \_ \_ \_ \_ \_ \_ и \_ \_ токен передачи по ГК \_ . \_ \_ Маркер сброса строки GL \_ возвращается при каждом сбросе шаблона стиппле строки. Данные, возвращаемые в виде вершины, зависят от *типа* обратной связи.

В следующей таблице передается соответствие между *типом* и числом значений на вершину. *k* — 1 в режиме индексирования цвета и 4 в режиме RGBA.



| Тип                   | Координаты        | Цвет | Текстура | Общее число значений |
|------------------------|--------------------|-------|---------|------------------------|
| \_2D GL                 | *x*, *y*           |       |         | 2                      |
| \_Трехмерная GL                 | *x*, *y*, *z*      |       |         | 3                      |
| \_Трехмерный \_ Цвет GL          | *x*, *y*, *z*      | *занят*   |         | 3 + *k*                |
| \_ \_ Текстура трехмерного цвета GL \_ | *x*, *y*, *z*,     | *занят*   | 4       | 7 + *k*                |
| \_ \_ Цветовая \_ текстура GL 4D | *x*, *y*, *z*, *w* | *занят*   | 4       | 8 + *k*                |



 

Координаты вершины обратной связи находятся в координатах окна, кроме *w*, которые находятся в координатах клипов. Цвета обратной связи освещены, если освещение включено. Координаты текстуры отклика создаются, если включено создание координат текстуры. Они всегда преобразуются в матрицу текстуры.

Функция **глфидбаккбуффер** , используемая в списке вывода, не компилируется в список просмотра, а выполняется немедленно.

Следующая функция получает сведения, связанные с **глфидбаккбуффер**:

[**глжет**](glgetbooleanv--glgetdoublev--glgetfloatv--glgetintegerv.md) с аргументом \_ режим рендеринга GL \_

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|-----------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows 2000 Professional \[только классические приложения\]<br/>                              |
| Минимальная версия сервера<br/> | Windows 2000 Server \[только классические приложения\]<br/>                                    |
| Заголовок<br/>                   | <dl> <dt>GL. h</dt> </dl>         |
| Библиотека<br/>                  | <dl> <dt>Opengl32. lib</dt> </dl> |
| DLL<br/>                      | <dl> <dt>Opengl32.dll</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[**глбегин**](glbegin.md)
</dt> <dt>

[**гленд**](glend.md)
</dt> <dt>

[**глжет**](glgetbooleanv--glgetdoublev--glgetfloatv--glgetintegerv.md)
</dt> <dt>

[**гллинестиппле**](gllinestipple.md)
</dt> <dt>

[**глпасссраугх**](glpassthrough.md)
</dt> <dt>

[**глполигонмоде**](glpolygonmode.md)
</dt> <dt>

[**глрендермоде**](glrendermode.md)
</dt> <dt>

[**глселектбуффер**](glselectbuffer.md)
</dt> </dl>

 

 





