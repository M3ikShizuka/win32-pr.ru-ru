---
title: Функция glCopyTexSubImage2D (GL. h)
description: Функция glCopyTexSubImage2D копирует подизображение двухмерного изображения текстуры из буфера кадров.
ms.assetid: cbb644d4-6a23-4d66-8599-5f8b48e9b91f
keywords:
- Функция glCopyTexSubImage2D OpenGL
topic_type:
- apiref
api_name:
- glCopyTexSubImage2D
api_location:
- opengl32.dll
api_type:
- DllExport
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 0c966d031bb154b59cc54ae2e5d254347aa88d2a
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127348423"
---
# <a name="glcopytexsubimage2d-function"></a>Функция glCopyTexSubImage2D

Функция **glCopyTexSubImage2D** копирует подизображение двухмерного изображения текстуры из буфера кадров.

## <a name="syntax"></a>Синтаксис


```C++
void WINAPI glCopyTexSubImage2D(
   GLenum  target,
   GLint   level,
   GLint   xoffset,
   GLint   yoffset,
   GLint   x,
   GLint   y,
   GLsizei width,
   GLsizei height
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*target* 
</dt> <dd>

Целевой объект, в который будут изменяться данные изображения. Должно иметь значение \_ 2D текстуры GL \_ .

</dd> <dt>

*level* 
</dt> <dd>

Номер уровня детализации. Уровень 0 — базовый образ. Уровень *n* — это *n*-ое изображение для сокращения mipmap.

</dd> <dt>

*xoffset* 
</dt> <dd>

Смещение шаг текселя в направлении *x* в пределах массива текстуры.

</dd> <dt>

*йоффсет* 
</dt> <dd>

Смещение шаг текселя в направлении *оси y* в пределах массива текстуры.

</dd> <dt>

*x* 
</dt> <dd>

Координата x окна координаты левого нижнего угла строки пикселей для копирования.

</dd> <dt>

*y* 
</dt> <dd>

Координата точки y окна нижнего левого угла копируемой строки пикселей.

</dd> <dt>

*width* 
</dt> <dd>

Ширина подобраза изображения текстуры. Указание подобраза текстуры с нулевой шириной не оказывает влияния.

</dd> <dt>

*height* 
</dt> <dd>

Высота подизображения изображения текстуры. Указание подобраза текстуры с нулевой шириной не оказывает влияния.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Эта функция не возвращает значение.

## <a name="error-codes"></a>Коды ошибок

Функция [**глжетеррор**](glgeterror.md) может получить следующие коды ошибок.



| Имя                                                                                                  | Значение                                                                                                                                                                                                                                                                                                                     |
|-------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <dl> <dt>**\_недействительное \_ перечисление GL**</dt> </dl>      | значение *цели* не было принято.<br/>                                                                                                                                                                                                                                                                              |
| <dl> <dt>**\_недопустимое \_ значение GL**</dt> </dl>     | *уровень* был меньше нуля или больше, чем *log* 2 (*Max*), где *Max* — это возвращаемое значение для \_ максимального \_ размера текстуры GL \_ .<br/>                                                                                                                                                                                          |
| <dl> <dt>**\_недопустимое \_ значение GL**</dt> </dl>     | *ксоффсет* меньше *границы* или (  +  *Ширина* ксоффсет) больше (*w*  +  *border*), *йоффсет* была меньше *границы* или (*йоффсет*  +  *Высота*) больше (граница в *h*  +  ), где *w* — толщина текстуры GL, \_ \_ а *граница* — это \_ граница текстуры GL \_ . Обратите внимание, что *w* включает в себя вдвое ширину *границы* .<br/> |
| <dl> <dt>**\_недопустимое \_ значение GL**</dt> </dl>     | *Ширина* меньше *границы* или *y* меньше *границы*, где *border* является шириной границы для массива текстуры.<br/>                                                                                                                                                                                           |
| <dl> <dt>**\_Недопустимая \_ Операция GL**</dt> </dl> | Массив текстуры не был определен предыдущей операцией [**glTexImage1D**](glteximage1d.md) .<br/>                                                                                                                                                                                                                  |
| <dl> <dt>**\_Недопустимая \_ Операция GL**</dt> </dl> | Функция была вызвана между вызовом [**глбегин**](glbegin.md) и соответствующим вызовом [**гленд**](glend.md).<br/>                                                                                                                                                                                       |



## <a name="remarks"></a>Remarks

Функция **glCopyTexSubImage2D** заменяет прямоугольную часть двухмерного изображения текстуры на пиксели из текущего буфера кадров, а не из основной памяти, как в случае с [**glTexSubImage2D**](gltexsubimage2d.md).

Прямоугольник пикселей, начинающийся с координат окна *x* и *y* , а также с *шириной* и *высотой* измерений заменяет часть массива текстуры индексами, *ксоффсет* через *ксоффсет* + (*Width* -1), с индексами *йоффсет* через *йоффсет* + (*Width* -1) на уровне mipmap, заданном параметром *Level*. Прямоугольник назначения в массиве текстур не может содержать пикселей текстуры за пределами изначально заданного массива текстуры.

Функция **glCopyTexSubImage2D** обрабатывает пикселы в строке таким же образом, как и [**глкопипикселс**](glcopypixels.md), за исключением того, что перед завершающим преобразованием пикселов все значения компонентов пикселов записываются в диапазон \[ 0, 1 \] и преобразуются в внутренний формат текстуры для хранения в массиве текстуры. Порядок пикселей определяется с помощью более низких координат *x* , соответствующих более низким координатам текстуры. Если любой из пикселов в заданной строке текущего буфера кадров находится за пределами окна, связанного с текущим контекстом отрисовки, то их значения не определены.

Если любой из пикселов в указанном прямоугольнике текущего буфера кадров находится вне окна чтения, связанного с текущим контекстом отрисовки, значения, полученные для этих пикселов, не определены. В параметрах *интерналформат*, *Width*, *Height* или *border* указанного массива текстуры не вносятся изменения, либо значения шаг текселя за пределами указанного подизображения текстуры.

В списки вывода нельзя включать вызовы **glCopyTexSubImage2D** .

> [!Note]  
> Функция **glCopyTexSubImage2D** доступна только в OpenGL версии 1,1 или более поздней.

 

Текстурирование не влияет на режим индексирования цветов. Функции [**глпикселсторе**](glpixelstore-functions.md) и [**глпикселтрансфер**](glpixeltransfer.md) влияют на изображения текстур точно так же, как они влияют на способ прорисовки пикселов с помощью [**глдравпикселс**](gldrawpixels.md).

Следующие функции извлекают сведения, относящиеся к **glCopyTexSubImage2D**:

[**глжеттексимаже**](glgetteximage.md)

[**глисенаблед**](glisenabled.md) с аргументом GL \_ текстуры \_ 2D

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|-----------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows 2000 Professional \[только классические приложения\]<br/>                              |
| Минимальная версия сервера<br/> | Windows 2000 Server \[только классические приложения\]<br/>                                    |
| Заголовок<br/>                   | <dl> <dt>GL. h</dt> </dl>         |
| Библиотека<br/>                  | <dl> <dt>Opengl32. lib</dt> </dl> |
| DLL<br/>                      | <dl> <dt>Opengl32.dll</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[**глбегин**](glbegin.md)
</dt> <dt>

[**глкопипикселс**](glcopypixels.md)
</dt> <dt>

[**glCopyTexSubImage1D**](glcopytexsubimage1d.md)
</dt> <dt>

[**глдравпикселс**](gldrawpixels.md)
</dt> <dt>

[**гленд**](glend.md)
</dt> <dt>

[**глфог**](glfog.md)
</dt> <dt>

[**глпикселсторе**](glpixelstore-functions.md)
</dt> <dt>

[**глпикселтрансфер**](glpixeltransfer.md)
</dt> <dt>

[**глтексенв**](gltexenv-functions.md)
</dt> <dt>

[**глтексжен**](gltexgen-functions.md)
</dt> <dt>

[**glTexImage2D**](glteximage2d.md)
</dt> <dt>

[**glTexSubImage2D**](gltexsubimage2d.md)
</dt> <dt>

[**глтекспараметер**](gltexparameter-functions.md)
</dt> </dl>

 

 





