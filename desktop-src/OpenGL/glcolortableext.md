---
title: Функция Глколортабликст (GL. h)
description: Функция Глколортабликст определяет формат и размер палитры для целевых цветных текстур.
ms.assetid: f3d7b1a1-97a5-47ef-a0ca-5e58acb86bb4
keywords:
- Функция Глколортабликст OpenGL
topic_type:
- apiref
api_name:
- glColorTableEXT
api_location:
- Gl.h
api_type:
- HeaderDef
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: cd0d5fd5c848e787f480e3e1893b9b25e4bbd3de
ms.sourcegitcommit: a1494c819bc5200050696e66057f1020f5b142cb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/12/2020
ms.locfileid: "103802807"
---
# <a name="glcolortableext-function"></a>Функция Глколортабликст

Функция **глколортабликст** определяет формат и размер палитры для целевых цветных текстур.

## <a name="syntax"></a>Синтаксис


```C++
void WINAPI glColorTableEXT(
         GLenum  target,
         GLenum  internalFormat,
         GLsizei width,
         GLenum  format,
         GLenum  type,
   const GLvoid  *data
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*target* 
</dt> <dd>

Целевая текстура, для которой изменилась палитра. Должен быть ТЕКСТУРой \_ 1d, \_ 2D текстуры, \_ одномерной текстуры-посредника \_ или \_ 2D-текстурной текстуры \_ .

</dd> <dt>

*интерналформат* 
</dt> <dd>

Внутренний формат и разрешение палитры. Этот параметр может принимать одно из следующих символьных значений.



| Константа       | Базовый формат | Биты R | Биты G | B бит | Биты |
|----------------|-------------|--------|--------|--------|--------|
| GL \_ R3 \_ G3 \_ B2 | RGB в формате GL \_     | 3      | 3      | 2      |        |
| \_RGB4 GL       | RGB в формате GL \_     | 4      | 4      | 4      |        |
| \_RGB5 GL       | RGB в формате GL \_     | 5      | 5      | 5      |        |
| \_RGB8 GL       | RGB в формате GL \_     | 8      | 8      | 8      |        |
| \_RGB10 GL      | RGB в формате GL \_     | 10     | 10     | 10     |        |
| \_RGB12 GL      | RGB в формате GL \_     | 12     | 12     | 12     |        |
| \_RGB16 GL      | RGB в формате GL \_     | 16     | 16     | 16     |        |
| \_RGBA2 GL      | RGBA для GL \_    | 2      | 2      | 2      | 2      |
| \_RGBA4 GL      | RGBA для GL \_    | 4      | 4      | 4      | 4      |
| GL \_ RGB5 \_ a1   | RGBA для GL \_    | 5      | 5      | 5      | 1      |
| \_RGBA8 GL      | RGBA для GL \_    | 8      | 8      | 8      | 8      |
| GL \_ RG10 \_ a2   | RGBA для GL \_    | 10     | 10     | 10     | 2      |
| \_RGB12 GL      | RGBA для GL \_    | 12     | 12     | 12     | 12     |
| \_RGBA16 GL     | RGBA для GL \_    | 16     | 16     | 16     | 16     |



 

</dd> <dt>

*width* 
</dt> <dd>

Размер палитры. Для некоторого целого числа *n* должно быть 2n = 1.

</dd> <dt>

*format* 
</dt> <dd>

Формат точечных данных. Допустимы следующие символьные константы.



<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th>Значение</th>
<th>Значение</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span id="GL_RGBA"></span><span id="gl_rgba"></span><dl> <dt><strong>GL_RGBA</strong></dt> </dl></td>
<td>Каждый пиксель — это группа из четырех компонентов в следующем порядке: красный, зеленый, синий, альфа. Формат RGBA определяется следующим образом: <br/>
<ol>
<li>Функция <strong>глколортабликст</strong> преобразует значения с плавающей запятой непосредственно во внутренний формат с неуказанной точностью. Целочисленные значения со знаком сопоставляются по внутреннему формату, так что наиболее положительное целочисленное значение, которое можно отобразить, сопоставляется с 1,0, а наиболее отрицательное целочисленное значение — в-1,0. Целочисленные данные без знака сопоставлены аналогичным образом: максимальное целочисленное значение сопоставляется с 1,0, а нулевое сопоставляется с 0,0.</li>
<li>Функция <strong>глколортабликст</strong> умножает результирующие значения цвета на GL_c_SCALE и добавляет их в GL_c_BIAS, где <em>c</em> — красный, зеленый, синий и альфа-канал для соответствующих компонентов цвета. Результаты записываются в диапазон [0, 1].</li>
<li>Если GL_MAP_COLOR имеет <strong>значение true</strong>, <strong>глколортабликст</strong> масштабирует каждый компонент цвета по размеру таблицы подстановки GL_PIXEL_MAP_c_TO_c, а затем заменяет компонент на значение, на которое он ссылается в этой таблице. <em>c</em> — R, G, B или A соответственно.</li>
<li>Функция <strong>глколортабликст</strong> преобразует итоговые цвета RGBA в фрагменты, присоединяя текущую координату <em>z</em>-координаты и координаты текстуры к каждому пикселю, а затем присвоив координаты <em>x</em> и <em>y</em> для <em>n</em>-го фрагмента, такого как<em>x</em>? = <em>Ширина</em> <em>x</em><sub>r</sub> + <em>n</em><br/> <em></em>&? = <em>y</em><sub></sub> +<em>n/Ширина</em><br/> где (<em>x</em><sub>r</sub> , <em>y</em><sub>r</sub> ) — Текущая разточечная координата.<br/></li>
<li>Затем эти фрагменты пикселов обрабатываются так же, как фрагменты, созданные с помощью растровых точек, линий или многоугольников. Функция <strong>глколортабликст</strong> применяет сопоставление текстур, туман и все операции фрагментов перед записью фрагментов в буфера кадров.</li>
</ol></td>
</tr>
<tr class="even">
<td><span id="GL_RED"></span><span id="gl_red"></span><dl> <dt><strong>GL_RED</strong></dt> </dl></td>
<td>Каждый пиксель является одним красным компонентом.<br/> Функция <strong>глколортабликст</strong> преобразует этот компонент во внутренний формат точно так же, как красный компонент в пикселе RGBA, а затем преобразует его в пиксель RGBA с зеленым и синим значением 0,0, а альфа-канал — в значение 1,0. После этого преобразования пиксел обрабатывается так же, как если бы он был считан как пиксель RGBA.<br/></td>
</tr>
<tr class="odd">
<td><span id="GL_GREEN"></span><span id="gl_green"></span><dl> <dt><strong>GL_GREEN</strong></dt> </dl></td>
<td>Каждый пиксель является одним зеленым компонентом.<br/> Функция <strong>глколортабликст</strong> преобразует этот компонент во внутренний формат таким же образом, как и зеленый компонент в пиксельном виде, а затем преобразует его в пиксель RGBA с красным и синим значением в 0,0, а альфа-канал — в значение 1,0. После этого преобразования пиксел обрабатывается так же, как если бы он был считан как пиксель RGBA.<br/></td>
</tr>
<tr class="even">
<td><span id="GL_BLUE"></span><span id="gl_blue"></span><dl> <dt><strong>GL_BLUE</strong></dt> </dl></td>
<td>Каждый пиксель является одним синим компонентом.<br/> Функция <strong>глколортабликст</strong> преобразует этот компонент во внутренний формат точно таким же образом, как и синий компонент в пикселе RGBA, а затем преобразует его в пиксель RGBA с красным и зеленым значением, равным 0,0, а альфа-канал — 1,0. После этого преобразования пиксел обрабатывается так же, как если бы он был считан как пиксель RGBA.<br/></td>
</tr>
<tr class="odd">
<td><span id="GL_ALPHA"></span><span id="gl_alpha"></span><dl> <dt><strong>GL_ALPHA</strong></dt> </dl></td>
<td>Каждый пиксель является одним компонентом альфа.<br/> Функция <strong>глколортабликст</strong> преобразует этот компонент во внутренний формат точно так же, как альфа-компонент в пиксельном пикселе RGBA, а затем преобразует его в пиксель RGBA с красным, зеленым и синим установленным значением 0,0. После этого преобразования пиксел обрабатывается так же, как если бы он был считан как пиксель RGBA.<br/></td>
</tr>
<tr class="even">
<td><span id="GL_RGB"></span><span id="gl_rgb"></span><dl> <dt><strong>GL_RGB</strong></dt> </dl></td>
<td>Каждый пиксель — это группа из трех компонентов в следующем порядке: красный, зеленый, синий.<br/> Функция <strong>глколортабликст</strong> преобразует каждый компонент во внутренний формат точно так же, как красный, зеленый и синий компоненты на пиксель RGBA. Тройной цвет преобразуется в пиксель RGBA с альфа-составляющей, равным 1,0. После этого преобразования пиксел обрабатывается так же, как если бы он был считан как пиксель RGBA.<br/></td>
</tr>
<tr class="odd">
<td><span id="GL_BGR_EXT"></span><span id="gl_bgr_ext"></span><dl> <dt><strong>GL_BGR_EXT</strong></dt> </dl></td>
<td>Каждый пиксель — это группа из трех компонентов в следующем порядке: синий, зеленый, красный.<br/> GL_BGR_EXT предоставляет формат, соответствующий макету памяти, не зависящему от устройства Windows (DIB). Поэтому приложения могут использовать те же данные, что и вызовы функций Windows, и вызовы функций OpenGL Pixel.<br/></td>
</tr>
<tr class="even">
<td><span id="GL_BGRA_EXT"></span><span id="gl_bgra_ext"></span><dl> <dt><strong>GL_BGRA_EXT</strong></dt> </dl></td>
<td>Каждый пиксель — это группа из четырех компонентов в следующем порядке: синий, зеленый, красный, альфа.<br/> GL_BGRA_EXT предоставляет формат, соответствующий макету памяти, не зависящему от устройства Windows (DIB). Поэтому приложения могут использовать те же данные, что и вызовы функций Windows, и вызовы функций OpenGL Pixel.<br/></td>
</tr>
</tbody>
</table>



 

</dd> <dt>

*type* 
</dt> <dd>

Тип данных для *данных*. Следующие символьные константы принимаются: Byte без знака, формат GL, неподписанный байт, формат GL, Short, GL без знака, GL \_ \_ \_ \_ \_ \_ \_ \_ \_ int и GL с \_ плавающей запятой.

В следующей таблице приведены значения допустимых констант для параметра *типа* .



| Значение                                                                                                                                                                      | Значение                                          |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|
| <span id="GL_UNSIGNED_BYTE"></span><span id="gl_unsigned_byte"></span><dl> <dt>**\_байт без знака GL \_**</dt> </dl>    | 8-разрядное целое число без знака<br/>                |
| <span id="GL_BYTE"></span><span id="gl_byte"></span><dl> <dt>**\_байт GL**</dt> </dl>                                | 8-разрядное целое число со знаком<br/>                  |
| <span id="GL_UNSIGNED_SHORT"></span><span id="gl_unsigned_short"></span><dl> <dt>**\_ \_ сокращенный формат GL без знака**</dt> </dl> | 16-разрядное целое число без знака<br/>               |
| <span id="GL_SHORT"></span><span id="gl_short"></span><dl> <dt>**\_Краткая GL**</dt> </dl>                             | 16-разрядное целое число со знаком<br/>                 |
| <span id="GL_UNSIGNED_INT"></span><span id="gl_unsigned_int"></span><dl> <dt>**\_целое число без знака GL \_**</dt> </dl>       | 32-разрядное целое число без знака<br/>               |
| <span id="GL_INT"></span><span id="gl_int"></span><dl> <dt>**тип в GL \_**</dt> </dl>                                   | 32-разрядное целое число<br/>                        |
| <span id="GL_FLOAT"></span><span id="gl_float"></span><dl> <dt>**с \_ плавающей запятой**</dt> </dl>                             | Число одинарной точности с плавающей запятой<br/> |



 

</dd> <dt>

*data* 
</dt> <dd>

Указатель на данные текстуры с палитрой. Для записи палитры данные обрабатываются как отдельные пиксели в палитре одномерной текстуры.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Эта функция не возвращает значение.

## <a name="error-codes"></a>Коды ошибок

Функция [**глжетеррор**](glgeterror.md) может получить следующие коды ошибок.



| Имя                                                                                                  | Значение                                                                                                                               |
|-------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------|
| <dl> <dt>**\_недопустимое \_ значение GL**</dt> </dl>     | значение *Width* было недопустимым целым числом.<br/>                                                                                            |
| <dl> <dt>**\_недействительное \_ перечисление GL**</dt> </dl>      | *целевой объект*, *интерналформат*, *Формат* или *тип* не являются допустимыми значениями.<br/>                                                 |
| <dl> <dt>**\_Недопустимая \_ Операция GL**</dt> </dl> | Функция была вызвана между вызовом [**глбегин**](glbegin.md) и соответствующим вызовом [**гленд**](glend.md).<br/> |



## <a name="remarks"></a>Комментарии

Палитры текстур определяются палитрой цветов и набором данных изображения, состоящим из индексов для цветовых записей палитры (таблица цветов).

Функция **глколортабликст** задает палитру текстуры для целевой текстуры. Он принимает *данные* из памяти и преобразует данные так, как если бы каждая запись палитры была одиночным пикселем одномерной текстуры. Функция **глколортабликст** выполняет распаковку и преобразование данных и преобразует их во внутренний формат, который соответствует заданному *формату* максимально точно.

Если *Ширина* палитры больше, чем диапазон индексов цветов в данных текстуры, некоторые записи в палитре не используются. Если *Ширина* палитры меньше, чем диапазон индексов цветов в данных текстуры, наиболее значимые биты данных текстуры игнорируются, и при доступе к палитре используются только соответствующие количество битов в индексе. При указании *целевого объекта* прокси с помощью текстуры прокси-сервера \_ \_ 1d или \_ 2D-текстуры \_ на палитре текстуры будет изменен размер, а ее параметры задаются, но данные не передаются или к которым осуществляется доступ.

Если параметр *Target* имеет значение \_ текстуры прокси-сервера \_ 1d или 2D-текстура \_ ГК \_ \_ \_ , а реализация не поддерживает значения, указанные для *формата* или *ширины*, **глколортабликст** может не создать запрошенную таблицу цветов. В этом случае таблица цветов пуста, и все полученные параметры будут равны нулю. Можно определить, поддерживает ли OpenGL определенный формат и размер цветовой таблицы, вызвав **глколортабликст** с целевым объектом-посредником, а затем вызвав [**глжетколортаблепараметеривекст**](glgetcolortableparameterivext.md) или [**глжетколортаблепараметерфвекст**](glgetcolortableparameterfvext.md) , чтобы определить, совпадает ли параметр Width, заданный **глколортабликст**. Если полученная ширина равна нулю, запрос на таблицу цветов с помощью **глколортабле** не выполнен. Если полученная ширина не равна нулю, можно вызвать **глколортабле** с реальной целью с текстурой \_ 1d или 2D-текстурой, \_ чтобы задать таблицу цветов.

> [!Note]  
> Функция **глколортабликст** — это функция расширения, которая не является частью стандартной библиотеки OpenGL, но является частью расширения текстуры с помощью \_ палитры типа "Расш \_ \_ . Чтобы проверить, поддерживает ли ваша реализация OpenGL **глколортабликст**, вызовите [**глжетстринг**](glgetstring.md)( \_ расширения GL). Если он возвращает \_ \_ текстуру с Многоцветовой палитрой GL \_ , поддерживается **глколортабликст** . Чтобы получить адрес функции расширения, вызовите [**вглжетпрокаддресс**](/windows/desktop/api/wingdi/nf-wingdi-wglgetprocaddress).

 

Для получения фактических данных таблицы цветов, указанных функцией **глколортабликст** , вызовите [**глжетколортабликст**](glgetcolortableext.md). Чтобы получить параметры, такие как *Ширина* и *Формат* таблицы цветов, указанной функцией **Глколортабликст** , вызовите функцию **глжетколортаблепараметеривекст** или **глжетколортаблепараметерфвекст** .

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|---------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows 2000 Professional \[только классические приложения\]<br/>                      |
| Минимальная версия сервера<br/> | Windows 2000 Server \[только классические приложения\]<br/>                            |
| Заголовок<br/>                   | <dl> <dt>GL. h</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[**глбегин**](glbegin.md)
</dt> <dt>

[**глколорсубтабликст**](glcolorsubtableext.md)
</dt> <dt>

[**гленд**](glend.md)
</dt> <dt>

[**глжетколортабликст**](glgetcolortableext.md)
</dt> <dt>

[**глжетколортаблепараметерфвекст**](glgetcolortableparameterfvext.md)
</dt> <dt>

[**глжетколортаблепараметеривекст**](glgetcolortableparameterivext.md)
</dt> <dt>

[**вглжетпрокаддресс**](/windows/desktop/api/wingdi/nf-wingdi-wglgetprocaddress)
</dt> </dl>

 

 





