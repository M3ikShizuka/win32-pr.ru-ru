---
description: 'Дополнительные сведения: вопросы программирования при написании диспетчеров ресурсов'
ms.assetid: 7f1e61e8-15e1-4a25-b864-eeadcac61108
title: Вопросы программирования при написании диспетчеров ресурсов
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2a20d84695a5bc0f378c8b93519a35b9a1d95bcc58d718520478e519707553b4
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118388913"
---
# <a name="programming-considerations-for-writing-resource-managers"></a>Вопросы программирования при написании диспетчеров ресурсов

При использовании API диспетчера транзакций ядра для добавления поддержки транзакций в приложения учитывайте следующее.

-   При написании собственного диспетчера ресурсов у вас должны быть хорошие и работающие знания методик и протоколов управления транзакциями.
-   Если вы не записываете диспетчеры ресурсов должным образом, вы можете повредить собственные данные при неправильной обработке операций восстановления. Можно также закрепить заключительный фрагмент журнала транзакций и заполнить файловую систему журналами транзакций.
-   Если политика размера журнала не запрещает увеличение размера журнала, то диспетчер ресурсов не будет прекращать выполнение транзакций. Диспетчер ресурсов должен прерывать обновление системы, чтобы не перерасходовать ресурсы файловой системы.
-   Для управления доступом к файлам журнала диспетчеры ресурсов должны использовать списки управления доступом (ACL). в противном случае атаки типа "отказ в обслуживании" возможны.
-   Любой диспетчер ресурсов или участник транзакций, который кэширует данные, должен быть прикреплен к предварительно подготовленным уведомлениям. При получении уведомления о предварительной подготовке необходимо сбросить все данные, чтобы все нисходящие диспетчеры ресурсов могли прикрепляться перед фазой подготовки. Дальнейшая работа в этой транзакции не должна кэшироваться.
-   Не закрывайте обработчик прикрепления, пока транзакция все еще активна; Это приведет к откату транзакции.

 

 



