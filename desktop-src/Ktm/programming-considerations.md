---
description: 'Дополнительные сведения: вопросы программирования при написании диспетчеров ресурсов'
ms.assetid: 7f1e61e8-15e1-4a25-b864-eeadcac61108
title: Вопросы программирования при написании диспетчеров ресурсов
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8bae64ead32c747a0e8499dcdc8821d36f01f06e
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105683609"
---
# <a name="programming-considerations-for-writing-resource-managers"></a>Вопросы программирования при написании диспетчеров ресурсов

При использовании API диспетчера транзакций ядра для добавления поддержки транзакций в приложения учитывайте следующее.

-   При написании собственного диспетчера ресурсов у вас должны быть хорошие и работающие знания методик и протоколов управления транзакциями.
-   Если вы не записываете диспетчеры ресурсов должным образом, вы можете повредить собственные данные при неправильной обработке операций восстановления. Можно также закрепить заключительный фрагмент журнала транзакций и заполнить файловую систему журналами транзакций.
-   Если политика размера журнала не запрещает увеличение размера журнала, то диспетчер ресурсов не будет прекращать выполнение транзакций. Диспетчер ресурсов должен прерывать обновление системы, чтобы не перерасходовать ресурсы файловой системы.
-   Для управления доступом к файлам журнала диспетчеры ресурсов должны использовать списки управления доступом (ACL). в противном случае атаки типа "отказ в обслуживании" возможны.
-   Любой диспетчер ресурсов или участник транзакций, который кэширует данные, должен быть прикреплен к предварительно подготовленным уведомлениям. При получении уведомления о предварительной подготовке необходимо сбросить все данные, чтобы все нисходящие диспетчеры ресурсов могли прикрепляться перед фазой подготовки. Дальнейшая работа в этой транзакции не должна кэшироваться.
-   Не закрывайте обработчик прикрепления, пока транзакция все еще активна; Это приведет к откату транзакции.

 

 



