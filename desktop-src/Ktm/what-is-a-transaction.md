---
description: 'Транзакция — это группа операций со следующими свойствами: атомарная, последовательная, изолированная и устойчивая (ACID).'
ms.assetid: b3da52a3-1c52-4577-a997-7e72ebc03fa8
title: Что такое транзакция?
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9f04a21eaec081a42e1cd4bcd60cb7cf48d609075eec772ed18fd41494c47d1c
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119289724"
---
# <a name="what-is-a-transaction"></a>Что такое транзакция?

Транзакция — это группа операций со следующими свойствами: атомарная, последовательная, изолированная и устойчивая (ACID). Поддержка транзакций позволяет разрабатывать новые типы приложений, одновременно упрощая процесс разработки и повышая надежность приложения. Оставшаяся часть этого раздела содержит сценарии, демонстрирующие потребность в этих свойствах, а затем таблицу, определяющую каждое свойство.

В *атомарной* группе операций каждая операция в группе должна быть выполнена или все их последствия должны быть отменены (также называют *откатом*). Например, перевод банка должен быть атомарным набором из двух операций: дебет из одной учетной записи и кредит в другую учетную запись. Дебет и кредит должны быть реализованы как атомарная группа. Если эти две операции не выполняются, то перемещение будет неудовлетворительным в пользу банка или держателя учетной записи.

Требование *согласованности* означает, что данные будут согласованы после транзакции (при условии, что мы начали с согласованной системой до транзакции). Для примера перемещения в банке можно определить согласованность, так как суммарный баланс учетной записи двух счетов должен быть константой. Чтобы реализовать согласованность в примере перемещения в банке, операции по дебету и кредиту просто должны быть для того же объема денег.

Еще один пример транзакции — обновление веб-сайта. Для веб-сайта электронной коммерции требуется, чтобы новая страница навигации по категории продуктов отображалась в точно то же время, что и страницы сведений о продукте, описывающие новые продукты. В этом случае необходимо обновить и добавить несколько записей каталога под управлением транзакции. Не только необходимо, чтобы обновления были атомарными, но также необходимо, чтобы клиент, который в настоящее время применяет покупку, не просматривает выполняющиеся обновления. Это пример свойства *изоляции* транзакций.

Свойство *устойчивости* требует, чтобы после завершения обновления его последствия сохранились даже при зависании системы. В предыдущем примере устойчивость может предоставляться просто путем обеспечения адекватного восстановления данных, чтобы все новые записи файловой системы, представляющие Добавление нового продукта на сайт, отображались после того, как система перестанет отвечать на запросы. Для этого требуется система с механизмами резервного копирования, восстановления и высокой доступности данных.

Гарантия атомарности транзакции, а также других свойств, имеется в любом количестве сбоев, включая сбои, происходящие на этапе восстановления предыдущей ошибки. В итоге система будет находиться в одном из двух состояний: все операции применены или ни одна из операций не была применена.

Свойства транзакции приведены в следующей таблице.



| Термин                                                                                                         | Описание                                                                                                                       |
|--------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------|
| <span id="Atomic"></span><span id="atomic"></span><span id="ATOMIC"></span>At<br/>                 | Либо все операции в транзакции выполнены, либо ни одна из операций не сохраняется.<br/>                             |
| <span id="Consistent"></span><span id="consistent"></span><span id="CONSISTENT"></span>Стабильны<br/> | Если данные согласуются до начала транзакции, они будут согласовываться после завершения транзакции.<br/> |
| <span id="Isolated_"></span><span id="isolated_"></span><span id="ISOLATED_"></span>Изолирован <br/>     | Эффекты выполняемой транзакции скрыты от всех остальных транзакций.<br/>                               |
| <span id="Durable"></span><span id="durable"></span><span id="DURABLE"></span>Надежно<br/>             | Когда транзакция завершается, ее результаты сохраняются в постоянном виде и остаются в результате сбоя системы.<br/>                               |



 

Эти свойства гарантируют, что программное обеспечение может справляться с непредвиденными ошибками, так как оно может просто прервать транзакцию, когда непредвиденная ситуация предотвращает успешное завершение. Инфраструктура транзакций гарантирует откат всех эффектов прерванной транзакции, возвращая данные в целостное состояние. Таким образом, транзакционная система обеспечивает корректное восстановление после сбоев системы.

Для обеспечения свойств ACID система, которая поддерживает транзакции, должна иметь надежную возможность ведения журнала, которая может использоваться для фиксации или отката транзакций по мере необходимости. Дополнительные сведения см. в разделе [Файловая система CLFS](/previous-versions/windows/desktop/clfs/common-log-file-system-portal).

 

