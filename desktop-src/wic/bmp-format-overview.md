---
description: В этом разделе содержатся сведения о коде встроенного BMP, доступном через компонент Windows Imaging Component (WIC).
ms.assetid: 85AC5A30-A915-439E-A10F-B2833DDA995C
title: Обзор формата BMP
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3492189f80b43915bab94a7ea8359f2e5950f7c5
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "103814240"
---
# <a name="bmp-format-overview"></a>Обзор формата BMP

В этом разделе содержатся сведения о коде встроенного BMP, доступном через компонент Windows Imaging Component (WIC).

## <a name="codec-identity"></a>Удостоверение кодека

В следующей таблице приведены сведения об идентификации кодека.



|                        |                       |
|------------------------|-----------------------|
| Формальные имена         | Формат точечных рисунков Windows |
| Расширения имени файла | BMP, DIB              |
| тип MIME              | image/bmp             |
| Поддержка спецификаций  | Спецификация BMP V5  |



 

В следующей таблице перечислены идентификаторы GUID, используемые для распознавания встроенных компонентов кодека BMP.



| Компонент        | Понятное имя            | Код GUID                                |
|------------------|--------------------------|-------------------------------------|
| Формат контейнера | GUID \_ контаинерформатбмп | 0af1d87e-фкфе-4188-bdeba7906471cbe3 |
| Показан          | \_ВИКБМПДЕКОДЕР CLSID     | 6b462062-7cbf-400d-9fdb813dd10f2778 |
| Кодировщик          | \_ВИКБМПЕНКОДЕР CLSID     | 69be8bb4-d66d-47c8-865aed1589433782 |



 

## <a name="encoding"></a>Кодирование

API кодирования WIC разработан как независимый от кодека, поэтому кодировка изображения для кодеков с поддержкой WIC практически одинакова. Дополнительные сведения о кодировании изображений с помощью API WIC см. в разделе [Общие сведения о кодировке](-wic-creating-encoder.md).

### <a name="encoder-options"></a>Параметры кодировщика

Кодеки с поддержкой WIC отличаются на уровне параметров кодировки. Параметры кодировщика соответствуют возможностям кодировщика изображений, и каждый кодек машинного кода поддерживает набор этих вариантов кодировщика. Параметры кодировщика могут быть базовыми вариантами, поддерживаемыми для всех кодов, включенных с помощью WIC (хотя и не всегда поддерживаемых), или параметров, относящихся к кодекам. Для управления этими параметрами кодировки в процессе кодирования компонент WIC использует интерфейс [**IPropertyBag2**](/previous-versions/windows/internet-explorer/ie-developer/platform-apis/aa768192(v=vs.85)) . Дополнительные сведения об использовании интерфейса **IPropertyBag2** для кодирования WIC см. в разделе [Общие сведения о кодировке](-wic-creating-encoder.md).

В следующей таблице перечислены параметры кодировщика WIC, поддерживаемые кодеком Native BMP.



| Имя свойства               | VARTYPE      | Диапазон значений:                      | Значение по умолчанию      |
|-----------------------------|--------------|----------------------------------|--------------------|
| **EnableV5Header32bppBGRA** | **Логическое значение VT \_** | **ВАРИАНТ \_ true/Variant \_ false** | **ВАРИАНТ \_ false** |



 

### <a name="enablev5header32bppbgra"></a>EnableV5Header32bppBGRA

Указывает, разрешено ли кодирование данных в \_ формате GUID WICPixelFormat32bppBGRA пикселей. Если этот параметр имеет значение **\_ true**, BMP будет записан с заголовком BITMAPV5HEADER.

Значение по умолчанию — **Variant \_ false**.

Если в списке параметров IPropertyBag2 есть параметр кодировщика, который не поддерживается кодеком, он игнорируется.

Примечание для 16-разрядных и 32-разрядных файлов Windows BMP кодек BMP игнорирует любой альфа-канал, так как многие файлы образов прежних версий содержат недопустимые данные в этом дополнительный канал. Начиная с Windows 8, 32-разрядные файлы Windows BMP, написанные с помощью **BITMAPV5HEADER** с допустимым содержимым альфа-канала, считываются как WICPixelFormat32bppBGRA.

## <a name="decoding"></a>Декодирование

Интерфейс API декодирования WIC разработан как независимый от кодека, а декодирование изображений для кодеков, поддерживающих WIC, по сути является одинаковым. Дополнительные сведения о декодировании изображений см. в разделе [Общие сведения о декодировании](-wic-creating-decoder.md). Дополнительные сведения об использовании декодированных данных изображения см. в разделе [Обзор источников точечных рисунков](-wic-bitmapsources.md).

 

 
