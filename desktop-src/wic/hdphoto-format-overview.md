---
description: В этом разделе содержатся сведения о коде встроенного Фото HD, доступном через компонент Windows Imaging Component (WIC).
ms.assetid: C73752AB-3D6E-4D92-9FDE-CB68B6A9743C
title: Общие сведения о формате фото HD
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 62c526667c6bf77d340e895bdb66dc073134c33d
ms.sourcegitcommit: 099ecdda1e83618b844387405da0db0ebda93a65
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/04/2021
ms.locfileid: "111444875"
---
# <a name="hd-photo-format-overview"></a><span data-ttu-id="7d739-103">Общие сведения о формате фото HD</span><span class="sxs-lookup"><span data-stu-id="7d739-103">HD Photo Format Overview</span></span>

<span data-ttu-id="7d739-104">В этом разделе содержатся сведения о коде встроенного Фото HD, доступном через компонент Windows Imaging Component (WIC).</span><span class="sxs-lookup"><span data-stu-id="7d739-104">This topic provides information about the native HD Photo codec available through the Windows Imaging Component (WIC).</span></span>

> [!IMPORTANT]
>
> <span data-ttu-id="7d739-105">Формат Фото HD является предварительно стандартной реализацией формата JPEG XR.</span><span class="sxs-lookup"><span data-stu-id="7d739-105">The HD Photo format is a pre-standard implementation of the JPEG XR format.</span></span> <span data-ttu-id="7d739-106">Формат JPEG XR был полностью реализован в Windows 8.</span><span class="sxs-lookup"><span data-stu-id="7d739-106">The JPEG XR format has been fully implemented in Windows 8.</span></span> <span data-ttu-id="7d739-107">Дополнительные сведения см. в [обзоре кодека XR JPEG](jpeg-xr-codec.md) .</span><span class="sxs-lookup"><span data-stu-id="7d739-107">See the [JPEG XR Codec Overview](jpeg-xr-codec.md) for more information.</span></span>

 

<span data-ttu-id="7d739-108">В этом разделе содержатся следующие подразделы.</span><span class="sxs-lookup"><span data-stu-id="7d739-108">This topic contains the following sections.</span></span>

-   [<span data-ttu-id="7d739-109">Удостоверение кодека</span><span class="sxs-lookup"><span data-stu-id="7d739-109">Codec Identity</span></span>](#codec-identity)
-   [<span data-ttu-id="7d739-110">Кодирование</span><span class="sxs-lookup"><span data-stu-id="7d739-110">Encoding</span></span>](#encoding)
    -   [<span data-ttu-id="7d739-111">Параметры кодировщика</span><span class="sxs-lookup"><span data-stu-id="7d739-111">Encoder Options</span></span>](#encoder-options)
-   [<span data-ttu-id="7d739-112">Декодирование</span><span class="sxs-lookup"><span data-stu-id="7d739-112">Decoding</span></span>](#decoding)
    -   [<span data-ttu-id="7d739-113">Поддержка Ивикбитмапсаурцетрансформ</span><span class="sxs-lookup"><span data-stu-id="7d739-113">IWICBitmapSourceTransform Support</span></span>](#iwicbitmapsourcetransform-support)

## <a name="codec-identity"></a><span data-ttu-id="7d739-114">Удостоверение кодека</span><span class="sxs-lookup"><span data-stu-id="7d739-114">Codec Identity</span></span>

<span data-ttu-id="7d739-115">В следующей таблице приведены сведения об идентификации кодека.</span><span class="sxs-lookup"><span data-stu-id="7d739-115">The following table provides codec identification information.</span></span>



|   <span data-ttu-id="7d739-116">Компонент</span><span class="sxs-lookup"><span data-stu-id="7d739-116">Component</span></span>            | <span data-ttu-id="7d739-117">Описание</span><span class="sxs-lookup"><span data-stu-id="7d739-117">Description</span></span>                                                                     |
|------------------------|---------------------------------------------------------------------------------|
| <span data-ttu-id="7d739-118">Формальные имена</span><span class="sxs-lookup"><span data-stu-id="7d739-118">Formal Name(s)</span></span>         | <span data-ttu-id="7d739-119">Фото HD, Фото Windows Media</span><span class="sxs-lookup"><span data-stu-id="7d739-119">HD Photo, Windows Media Photo</span></span>                                                   |
| <span data-ttu-id="7d739-120">Расширения имени файла</span><span class="sxs-lookup"><span data-stu-id="7d739-120">File Name Extension(s)</span></span> | <span data-ttu-id="7d739-121">формате WDP</span><span class="sxs-lookup"><span data-stu-id="7d739-121">wdp</span></span>                                                                             |
| <span data-ttu-id="7d739-122">тип MIME</span><span class="sxs-lookup"><span data-stu-id="7d739-122">MIME type</span></span>              | <span data-ttu-id="7d739-123">Image/vnd. МС-фото</span><span class="sxs-lookup"><span data-stu-id="7d739-123">image/vnd.ms-photo</span></span>                                                              |
| <span data-ttu-id="7d739-124">Подписи файлов</span><span class="sxs-lookup"><span data-stu-id="7d739-124">File Signature(s)</span></span>      | <span data-ttu-id="7d739-125">Первые четыре байта: 0x4949bc00 (версия 0; предварительный выпуск), 0x4949bc01 (версия 1,0).</span><span class="sxs-lookup"><span data-stu-id="7d739-125">First four bytes: 0x4949bc00 (Version 0; pre-release), 0x4949bc01 (Version 1.0)</span></span> |



 

<span data-ttu-id="7d739-126">В следующей таблице перечислены идентификаторы GUID, используемые для распознавания компонентов собственного фотокодека HD.</span><span class="sxs-lookup"><span data-stu-id="7d739-126">The following table lists the GUIDs used to identify the native HD Photo codec components.</span></span>



| <span data-ttu-id="7d739-127">Компонент</span><span class="sxs-lookup"><span data-stu-id="7d739-127">Component</span></span>        | <span data-ttu-id="7d739-128">Понятное имя</span><span class="sxs-lookup"><span data-stu-id="7d739-128">Friendly Name</span></span>            | <span data-ttu-id="7d739-129">Код GUID</span><span class="sxs-lookup"><span data-stu-id="7d739-129">GUID</span></span>                                |
|------------------|--------------------------|-------------------------------------|
| <span data-ttu-id="7d739-130">Формат контейнера</span><span class="sxs-lookup"><span data-stu-id="7d739-130">Container Format</span></span> | <span data-ttu-id="7d739-131">GUID \_ контаинерформатвмп</span><span class="sxs-lookup"><span data-stu-id="7d739-131">GUID\_ContainerFormatWmp</span></span> | <span data-ttu-id="7d739-132">57a37caa-367A-4540-916bf183c5093a4b</span><span class="sxs-lookup"><span data-stu-id="7d739-132">57a37caa-367a-4540-916bf183c5093a4b</span></span> |
| <span data-ttu-id="7d739-133">Показан</span><span class="sxs-lookup"><span data-stu-id="7d739-133">Decoder</span></span>          | <span data-ttu-id="7d739-134">\_ВИКВМПДЕКОДЕР CLSID</span><span class="sxs-lookup"><span data-stu-id="7d739-134">CLSID\_WICWmpDecoder</span></span>     | <span data-ttu-id="7d739-135">a26cec36-234c-4950-ae16e34aace71d0d</span><span class="sxs-lookup"><span data-stu-id="7d739-135">a26cec36-234c-4950-ae16e34aace71d0d</span></span> |
| <span data-ttu-id="7d739-136">Кодировщик</span><span class="sxs-lookup"><span data-stu-id="7d739-136">Encoder</span></span>          | <span data-ttu-id="7d739-137">\_ВИКВМПЕНКОДЕР CLSID</span><span class="sxs-lookup"><span data-stu-id="7d739-137">CLSID\_WICWmpEncoder</span></span>     | <span data-ttu-id="7d739-138">ac4ce3cb-e1c1-44cd-82155a1665509ec2</span><span class="sxs-lookup"><span data-stu-id="7d739-138">ac4ce3cb-e1c1-44cd-82155a1665509ec2</span></span> |



 

## <a name="encoding"></a><span data-ttu-id="7d739-139">Кодирование</span><span class="sxs-lookup"><span data-stu-id="7d739-139">Encoding</span></span>

<span data-ttu-id="7d739-140">API кодирования WIC разработан как независимый от кодека, а кодировка изображений для кодеков с поддержкой WIC практически одинакова.</span><span class="sxs-lookup"><span data-stu-id="7d739-140">The WIC encoding API are designed to be codec-independent and image encoding for WIC-enabled codecs is essentially the same.</span></span> <span data-ttu-id="7d739-141">Дополнительные сведения о кодировании изображений с помощью API WIC см. в разделе [Общие сведения о кодировке](-wic-creating-encoder.md).</span><span class="sxs-lookup"><span data-stu-id="7d739-141">For more information about image encoding using the WIC API, see the [Encoding Overview](-wic-creating-encoder.md).</span></span>

### <a name="encoder-options"></a><span data-ttu-id="7d739-142">Параметры кодировщика</span><span class="sxs-lookup"><span data-stu-id="7d739-142">Encoder Options</span></span>

<span data-ttu-id="7d739-143">Кодеки с поддержкой WIC отличаются на уровне параметров кодировки.</span><span class="sxs-lookup"><span data-stu-id="7d739-143">WIC-enabled codecs differ at the encoding option level.</span></span> <span data-ttu-id="7d739-144">Параметры кодировщика соответствуют возможностям кодировщика изображений, и каждый кодек машинного кода поддерживает набор этих вариантов кодировщика.</span><span class="sxs-lookup"><span data-stu-id="7d739-144">Encoder options reflect the capabilities of an image encoder and each native codec supports a set of these encoder options.</span></span> <span data-ttu-id="7d739-145">Параметры кодировщика могут быть базовыми вариантами, поддерживаемыми для всех кодов, включенных с помощью WIC (хотя и не всегда поддерживаемых), или параметров, относящихся к кодекам.</span><span class="sxs-lookup"><span data-stu-id="7d739-145">Encoder options can be basic WIC supported options available to all WIC enabled codes (though not necessarily supported) or codec-specific options designed by the image format codec.</span></span> <span data-ttu-id="7d739-146">Для управления этими параметрами кодировки в процессе кодирования компонент WIC использует интерфейс [**IPropertyBag2**](/previous-versions/windows/internet-explorer/ie-developer/platform-apis/aa768192(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="7d739-146">To manage these encoding options during the encoding process, WIC uses the [**IPropertyBag2**](/previous-versions/windows/internet-explorer/ie-developer/platform-apis/aa768192(v=vs.85)) interface .</span></span> <span data-ttu-id="7d739-147">Дополнительные сведения об использовании интерфейса **IPropertyBag2** для кодирования WIC см. в разделе [Общие сведения о кодировке](-wic-creating-encoder.md).</span><span class="sxs-lookup"><span data-stu-id="7d739-147">For more information about using the **IPropertyBag2** interface for WIC encoding, see the [Encoding Overview](-wic-creating-encoder.md).</span></span>

<span data-ttu-id="7d739-148">В коде фотокодирования HD используются как базовые параметры WIC, так и несколько параметров кодировки HD Photo.</span><span class="sxs-lookup"><span data-stu-id="7d739-148">The HD Photo codec uses both basic WIC options and provides several HD Photo specific encoding options.</span></span> <span data-ttu-id="7d739-149">В следующей таблице перечислены параметры кодировщика, поддерживаемые собственным фото кодеком HD.</span><span class="sxs-lookup"><span data-stu-id="7d739-149">The following table lists the encoder options supported by the native HD Photo codec.</span></span>

<span data-ttu-id="7d739-150">Основные параметры кодировщика WIC</span><span class="sxs-lookup"><span data-stu-id="7d739-150">Basic WIC Encoder Options</span></span>

| <span data-ttu-id="7d739-151">Имя свойства</span><span class="sxs-lookup"><span data-stu-id="7d739-151">Property Name</span></span> | <span data-ttu-id="7d739-152">VARTYPE</span><span class="sxs-lookup"><span data-stu-id="7d739-152">VARTYPE</span></span> | <span data-ttu-id="7d739-153">Диапазон значений:</span><span class="sxs-lookup"><span data-stu-id="7d739-153">Value Range</span></span> | <span data-ttu-id="7d739-154">Значение по умолчанию</span><span class="sxs-lookup"><span data-stu-id="7d739-154">Default Value</span></span> |
|---------------|---------|-------------|---------------|
| [<span data-ttu-id="7d739-155">ImageQuality</span><span class="sxs-lookup"><span data-stu-id="7d739-155">ImageQuality</span></span>](#imagequality-option) | <span data-ttu-id="7d739-156">VT \_ R4</span><span class="sxs-lookup"><span data-stu-id="7d739-156">VT\_R4</span></span> | <span data-ttu-id="7d739-157">0 — 1,0</span><span class="sxs-lookup"><span data-stu-id="7d739-157">0 - 1.0</span></span> | <span data-ttu-id="7d739-158">0,9</span><span class="sxs-lookup"><span data-stu-id="7d739-158">0.9</span></span> |
| [<span data-ttu-id="7d739-159">Lossless</span><span class="sxs-lookup"><span data-stu-id="7d739-159">Lossless</span></span>](#lossless-option) | <span data-ttu-id="7d739-160">Логическое значение VT \_</span><span class="sxs-lookup"><span data-stu-id="7d739-160">VT\_BOOL</span></span> | <span data-ttu-id="7d739-161">**true**, **false**</span><span class="sxs-lookup"><span data-stu-id="7d739-161">**TRUE**, **FALSE**</span></span> | <span data-ttu-id="7d739-162">**FALSE**</span><span class="sxs-lookup"><span data-stu-id="7d739-162">**FALSE**</span></span> |
| [<span data-ttu-id="7d739-163">битмаптрансформ</span><span class="sxs-lookup"><span data-stu-id="7d739-163">BitmapTransform</span></span>](#bitmaptransform-option) | <span data-ttu-id="7d739-164">VT \_ UI1</span><span class="sxs-lookup"><span data-stu-id="7d739-164">VT\_UI1</span></span> | [<span data-ttu-id="7d739-165">**викбитмаптрансформоптионс**</span><span class="sxs-lookup"><span data-stu-id="7d739-165">**WICBitmapTransformOptions**</span></span>](/windows/desktop/api/Wincodec/ne-wincodec-wicbitmaptransformoptions) |   [<span data-ttu-id="7d739-166">**WICBitmapTransformRotate0**</span><span class="sxs-lookup"><span data-stu-id="7d739-166">**WICBitmapTransformRotate0**</span></span>](/windows/desktop/api/Wincodec/ne-wincodec-wicbitmaptransformoptions) |

<span data-ttu-id="7d739-167">Параметры кодировщика для фотографий HD</span><span class="sxs-lookup"><span data-stu-id="7d739-167">HD Photo Specific Encoder Options</span></span>

| <span data-ttu-id="7d739-168">Имя свойства</span><span class="sxs-lookup"><span data-stu-id="7d739-168">Property Name</span></span> | <span data-ttu-id="7d739-169">VARTYPE</span><span class="sxs-lookup"><span data-stu-id="7d739-169">VARTYPE</span></span> | <span data-ttu-id="7d739-170">Диапазон значений:</span><span class="sxs-lookup"><span data-stu-id="7d739-170">Value Range</span></span> | <span data-ttu-id="7d739-171">Значение по умолчанию</span><span class="sxs-lookup"><span data-stu-id="7d739-171">Default Value</span></span> |
|---------------|---------|-------------|---------------|
| [<span data-ttu-id="7d739-172">усекодекоптионс</span><span class="sxs-lookup"><span data-stu-id="7d739-172">UseCodecOptions</span></span>](#usecodecoptions-option) | <span data-ttu-id="7d739-173">Логическое значение VT \_</span><span class="sxs-lookup"><span data-stu-id="7d739-173">VT\_BOOL</span></span> | <span data-ttu-id="7d739-174">**true**, **false**</span><span class="sxs-lookup"><span data-stu-id="7d739-174">**TRUE**, **FALSE**</span></span> | <span data-ttu-id="7d739-175">**FALSE**</span><span class="sxs-lookup"><span data-stu-id="7d739-175">**FALSE**</span></span> |
| [<span data-ttu-id="7d739-176">Качество</span><span class="sxs-lookup"><span data-stu-id="7d739-176">Quality</span></span>](#quality-option) | <span data-ttu-id="7d739-177">VT \_ UI1</span><span class="sxs-lookup"><span data-stu-id="7d739-177">VT\_UI1</span></span> | <span data-ttu-id="7d739-178">1 - 255</span><span class="sxs-lookup"><span data-stu-id="7d739-178">1 - 255</span></span> | <span data-ttu-id="7d739-179">10</span><span class="sxs-lookup"><span data-stu-id="7d739-179">10</span></span> |
| [<span data-ttu-id="7d739-180">Перекрытие</span><span class="sxs-lookup"><span data-stu-id="7d739-180">Overlap</span></span>](#overlap-option) | <span data-ttu-id="7d739-181">VT \_ UI1</span><span class="sxs-lookup"><span data-stu-id="7d739-181">VT\_UI1</span></span> | <span data-ttu-id="7d739-182">0 - 2</span><span class="sxs-lookup"><span data-stu-id="7d739-182">0 - 2</span></span> | <span data-ttu-id="7d739-183">1</span><span class="sxs-lookup"><span data-stu-id="7d739-183">1</span></span> |
| [<span data-ttu-id="7d739-184">Подвыборка</span><span class="sxs-lookup"><span data-stu-id="7d739-184">Subsampling</span></span>](#subsampling-option) | <span data-ttu-id="7d739-185">VT \_ UI1</span><span class="sxs-lookup"><span data-stu-id="7d739-185">VT\_UI1</span></span> | <span data-ttu-id="7d739-186">0–3</span><span class="sxs-lookup"><span data-stu-id="7d739-186">0 - 3</span></span> | <span data-ttu-id="7d739-187">3, если Имажекуалити > 0,8; в противном случае 1;</span><span class="sxs-lookup"><span data-stu-id="7d739-187">3 if ImageQuality > 0.8; otherwise 1;</span></span> |
| [<span data-ttu-id="7d739-188">хоризонталтилеслицес</span><span class="sxs-lookup"><span data-stu-id="7d739-188">HorizontalTileSlices</span></span>](#horizontaltileslices-verticaltileslices-options) | <span data-ttu-id="7d739-189">VT \_ UI2</span><span class="sxs-lookup"><span data-stu-id="7d739-189">VT\_UI2</span></span> | <span data-ttu-id="7d739-190">0 - 4095</span><span class="sxs-lookup"><span data-stu-id="7d739-190">0 - 4095</span></span> | <span data-ttu-id="7d739-191">(ширина изображения — 1)  >> 8</span><span class="sxs-lookup"><span data-stu-id="7d739-191">(image width – 1) >> 8</span></span> |
| [<span data-ttu-id="7d739-192">вертикалтилеслицес</span><span class="sxs-lookup"><span data-stu-id="7d739-192">VerticalTileSlices</span></span>](#horizontaltileslices-verticaltileslices-options) | <span data-ttu-id="7d739-193">VT \_ UI2</span><span class="sxs-lookup"><span data-stu-id="7d739-193">VT\_UI2</span></span> | <span data-ttu-id="7d739-194">0 - 4095</span><span class="sxs-lookup"><span data-stu-id="7d739-194">0 - 4095</span></span> | <span data-ttu-id="7d739-195">(высота изображения – 1)  >> 8</span><span class="sxs-lookup"><span data-stu-id="7d739-195">(image height – 1) >> 8</span></span> |
| [<span data-ttu-id="7d739-196">фрекуенциордер</span><span class="sxs-lookup"><span data-stu-id="7d739-196">FrequencyOrder</span></span>](#frequencyorder-option) | <span data-ttu-id="7d739-197">Логическое значение VT \_</span><span class="sxs-lookup"><span data-stu-id="7d739-197">VT\_BOOL</span></span> | <span data-ttu-id="7d739-198">**true**, **false**</span><span class="sxs-lookup"><span data-stu-id="7d739-198">**TRUE**, **FALSE**</span></span> | <span data-ttu-id="7d739-199">**TRUE**</span><span class="sxs-lookup"><span data-stu-id="7d739-199">**TRUE**</span></span> |
| [<span data-ttu-id="7d739-200">интерлеаведалфа</span><span class="sxs-lookup"><span data-stu-id="7d739-200">InterleavedAlpha</span></span>](#interleavedalpha-option) | <span data-ttu-id="7d739-201">Логическое значение VT \_</span><span class="sxs-lookup"><span data-stu-id="7d739-201">VT\_BOOL</span></span> | <span data-ttu-id="7d739-202">**true**, **false**</span><span class="sxs-lookup"><span data-stu-id="7d739-202">**TRUE**, **FALSE**</span></span> | <span data-ttu-id="7d739-203">**FALSE**</span><span class="sxs-lookup"><span data-stu-id="7d739-203">**FALSE**</span></span> |
| [<span data-ttu-id="7d739-204">алфакуалити</span><span class="sxs-lookup"><span data-stu-id="7d739-204">AlphaQuality</span></span>](#alphaquality-option) | <span data-ttu-id="7d739-205">VT \_ UI1</span><span class="sxs-lookup"><span data-stu-id="7d739-205">VT\_UI1</span></span> | <span data-ttu-id="7d739-206">1 - 255</span><span class="sxs-lookup"><span data-stu-id="7d739-206">1 - 255</span></span> | <span data-ttu-id="7d739-207">1</span><span class="sxs-lookup"><span data-stu-id="7d739-207">1</span></span> |
| [<span data-ttu-id="7d739-208">компресседдомаинтранскоде</span><span class="sxs-lookup"><span data-stu-id="7d739-208">CompressedDomainTranscode</span></span>](#compresseddomaintranscode-option) | <span data-ttu-id="7d739-209">Логическое значение VT \_</span><span class="sxs-lookup"><span data-stu-id="7d739-209">VT\_BOOL</span></span> | <span data-ttu-id="7d739-210">**true**, **false**</span><span class="sxs-lookup"><span data-stu-id="7d739-210">**TRUE**, **FALSE**</span></span> | <span data-ttu-id="7d739-211">**TRUE**</span><span class="sxs-lookup"><span data-stu-id="7d739-211">**TRUE**</span></span> |
| [<span data-ttu-id="7d739-212">имажедатадискард</span><span class="sxs-lookup"><span data-stu-id="7d739-212">ImageDataDiscard</span></span>](#imagedatadiscard-option) | <span data-ttu-id="7d739-213">VT \_ UI1</span><span class="sxs-lookup"><span data-stu-id="7d739-213">VT\_UI1</span></span> | <span data-ttu-id="7d739-214">0–3</span><span class="sxs-lookup"><span data-stu-id="7d739-214">0 - 3</span></span> | <span data-ttu-id="7d739-215">0</span><span class="sxs-lookup"><span data-stu-id="7d739-215">0</span></span> |
| [<span data-ttu-id="7d739-216">алфадатадискард</span><span class="sxs-lookup"><span data-stu-id="7d739-216">AlphaDataDiscard</span></span>](#alphadatadiscard-option) | <span data-ttu-id="7d739-217">VT \_ UI1</span><span class="sxs-lookup"><span data-stu-id="7d739-217">VT\_UI1</span></span> | <span data-ttu-id="7d739-218">0 - 4</span><span class="sxs-lookup"><span data-stu-id="7d739-218">0 - 4</span></span> | <span data-ttu-id="7d739-219">Не используется.</span><span class="sxs-lookup"><span data-stu-id="7d739-219">Not Used.</span></span> |
| [<span data-ttu-id="7d739-220">игнореоверлап</span><span class="sxs-lookup"><span data-stu-id="7d739-220">IgnoreOverlap</span></span>](#ignoreoverlap-option) | <span data-ttu-id="7d739-221">Логическое значение VT \_</span><span class="sxs-lookup"><span data-stu-id="7d739-221">VT\_BOOL</span></span> | <span data-ttu-id="7d739-222">**true**, **false**</span><span class="sxs-lookup"><span data-stu-id="7d739-222">**TRUE**, **FALSE**</span></span> | <span data-ttu-id="7d739-223">**FALSE**</span><span class="sxs-lookup"><span data-stu-id="7d739-223">**FALSE**</span></span> |


<span data-ttu-id="7d739-224">Если в списке параметров [**IPropertyBag2**](/previous-versions/windows/internet-explorer/ie-developer/platform-apis/aa768192(v=vs.85)) есть параметр кодировщика, который не поддерживается кодеком, он игнорируется.</span><span class="sxs-lookup"><span data-stu-id="7d739-224">If an encoder option is present in the [**IPropertyBag2**](/previous-versions/windows/internet-explorer/ie-developer/platform-apis/aa768192(v=vs.85)) option list that the codec does not support, it is ignored.</span></span>

### <a name="imagequality-option"></a><span data-ttu-id="7d739-225">Имажекуалити, параметр</span><span class="sxs-lookup"><span data-stu-id="7d739-225">ImageQuality Option</span></span>

<span data-ttu-id="7d739-226">Задает нужную точность изображения.</span><span class="sxs-lookup"><span data-stu-id="7d739-226">Specifies the desired image fidelity.</span></span> <span data-ttu-id="7d739-227">0,0 указывает наименьшую возможную точность, а 1,0 — наивысшую достоверность.</span><span class="sxs-lookup"><span data-stu-id="7d739-227">0.0 indicates the lowest possible fidelity and 1.0 specifies the highest fidelity.</span></span> <span data-ttu-id="7d739-228">Для формата изображения фотографии в формате HD значение 1,0 приводит к сжатию с помощью математических потерь.</span><span class="sxs-lookup"><span data-stu-id="7d739-228">For the HD Photo image format, a 1.0 value results in a mathematically lossless compression.</span></span>

<span data-ttu-id="7d739-229">Значение по умолчанию — 0,9.</span><span class="sxs-lookup"><span data-stu-id="7d739-229">The default value is 0.9.</span></span>

### <a name="compressionquality-option"></a><span data-ttu-id="7d739-230">Компрессионкуалити, параметр</span><span class="sxs-lookup"><span data-stu-id="7d739-230">CompressionQuality Option</span></span>

<span data-ttu-id="7d739-231">Задает требуемое качество сжатия.</span><span class="sxs-lookup"><span data-stu-id="7d739-231">Specifies the desired compression quality.</span></span> <span data-ttu-id="7d739-232">0,0 указывает, что доступна эффективная схема сжатия.</span><span class="sxs-lookup"><span data-stu-id="7d739-232">0.0 indicates the efficient compression schema available.</span></span> <span data-ttu-id="7d739-233">Как правило, эта схема обеспечивает более быструю кодировку, но больше выходных данных.</span><span class="sxs-lookup"><span data-stu-id="7d739-233">Typically, this schema produces a faster encode but larger output.</span></span> <span data-ttu-id="7d739-234">Значение 1,0 указывает наиболее эффективную доступную схему сжатия, которая обычно создает более длинную кодировку, но меньше выходных данных.</span><span class="sxs-lookup"><span data-stu-id="7d739-234">A value of 1.0 specifies the most efficient compression schema available, which typically produces a longer encode but a smaller output.</span></span>

<span data-ttu-id="7d739-235">Фото HD не поддерживает этот параметр кодировщика.</span><span class="sxs-lookup"><span data-stu-id="7d739-235">HD Photo does not support this encoder option.</span></span> <span data-ttu-id="7d739-236">Это значение игнорируется, если оно есть в списке параметров [**IPropertyBag2**](/previous-versions/windows/internet-explorer/ie-developer/platform-apis/aa768192(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="7d739-236">This value is ignored if present in the [**IPropertyBag2**](/previous-versions/windows/internet-explorer/ie-developer/platform-apis/aa768192(v=vs.85)) parameter list.</span></span>

### <a name="lossless-option"></a><span data-ttu-id="7d739-237">Параметр без потерь</span><span class="sxs-lookup"><span data-stu-id="7d739-237">Lossless Option</span></span>

<span data-ttu-id="7d739-238">Указывает, следует ли использовать режим сжатия потерь.</span><span class="sxs-lookup"><span data-stu-id="7d739-238">Specifies whether to use losses compression mode.</span></span> <span data-ttu-id="7d739-239">Для формата изображения фотографии HD это значение переопределяет значение параметра [имажекуалити](#imagequality-option) .</span><span class="sxs-lookup"><span data-stu-id="7d739-239">For the HD Photo image format, this value overrides the [ImageQuality](#imagequality-option) option value.</span></span>

<span data-ttu-id="7d739-240">Значение по умолчанию — **FALSE**.</span><span class="sxs-lookup"><span data-stu-id="7d739-240">The default value is **FALSE**.</span></span>

### <a name="bitmaptransform-option"></a><span data-ttu-id="7d739-241">Битмаптрансформ, параметр</span><span class="sxs-lookup"><span data-stu-id="7d739-241">BitmapTransform Option</span></span>

<span data-ttu-id="7d739-242">Указывает способ преобразования изображения во время декодирования изображения.</span><span class="sxs-lookup"><span data-stu-id="7d739-242">Specifies how the image is transformed during image decoding.</span></span> <span data-ttu-id="7d739-243">Для этого параметра необходимо задать одно из значений перечисления [**викбитмаптрансформоптионс**](/windows/desktop/api/Wincodec/ne-wincodec-wicbitmaptransformoptions) .</span><span class="sxs-lookup"><span data-stu-id="7d739-243">You must set this option to one of the [**WICBitmapTransformOptions**](/windows/desktop/api/Wincodec/ne-wincodec-wicbitmaptransformoptions) enumeration values.</span></span>

<span data-ttu-id="7d739-244">Значение по умолчанию — [**викбитмаптрансформоптионс:: WICBitmapTransformRotate0**](/windows/desktop/api/Wincodec/ne-wincodec-wicbitmaptransformoptions).</span><span class="sxs-lookup"><span data-stu-id="7d739-244">The default value is [**WICBitmapTransformOptions::WICBitmapTransformRotate0**](/windows/desktop/api/Wincodec/ne-wincodec-wicbitmaptransformoptions).</span></span>

### <a name="usecodecoptions-option"></a><span data-ttu-id="7d739-245">Усекодекоптионс, параметр</span><span class="sxs-lookup"><span data-stu-id="7d739-245">UseCodecOptions Option</span></span>

<span data-ttu-id="7d739-246">Если значением является вариант \_ true, то параметры [качества](#quality-option), [перекрытия](#overlap-option)и [подвыборки](#subsampling-option) вместо значения параметра.</span><span class="sxs-lookup"><span data-stu-id="7d739-246">If the value is VARIANT\_TRUE the [Quality](#quality-option), [Overlap](#overlap-option), and [Subsampling](#subsampling-option) options instead of the option value.</span></span>

<span data-ttu-id="7d739-247">Значение по умолчанию — **FALSE**.</span><span class="sxs-lookup"><span data-stu-id="7d739-247">The default value is **FALSE**.</span></span>

### <a name="quality-option"></a><span data-ttu-id="7d739-248">Параметр Quality</span><span class="sxs-lookup"><span data-stu-id="7d739-248">Quality Option</span></span>

<span data-ttu-id="7d739-249">Задает качество сжатия для изображения.</span><span class="sxs-lookup"><span data-stu-id="7d739-249">Specifies the compression quality for the image.</span></span> <span data-ttu-id="7d739-250">Значение 1 означает режим без потерь.</span><span class="sxs-lookup"><span data-stu-id="7d739-250">A value of 1 indicates lossless mode.</span></span> <span data-ttu-id="7d739-251">Увеличение значений приводит к увеличению коэффициента сжатия и более низкому качеству изображения.</span><span class="sxs-lookup"><span data-stu-id="7d739-251">Increasing values result in higher compression ratios and lower image quality.</span></span>

<span data-ttu-id="7d739-252">Значение по умолчанию — 10.</span><span class="sxs-lookup"><span data-stu-id="7d739-252">The default value is 10.</span></span>

### <a name="overlap-option"></a><span data-ttu-id="7d739-253">Параметр перекрытия</span><span class="sxs-lookup"><span data-stu-id="7d739-253">Overlap Option</span></span>

<span data-ttu-id="7d739-254">Задает уровень обработки перекрытия.</span><span class="sxs-lookup"><span data-stu-id="7d739-254">Specifies the level of overlap processing.</span></span>

<span data-ttu-id="7d739-255">В следующей таблице перечислены доступные уровни обработки перекрытия.</span><span class="sxs-lookup"><span data-stu-id="7d739-255">The following table lists the available overlap processing levels.</span></span>



| <span data-ttu-id="7d739-256">Значение</span><span class="sxs-lookup"><span data-stu-id="7d739-256">Value</span></span> | <span data-ttu-id="7d739-257">Описание</span><span class="sxs-lookup"><span data-stu-id="7d739-257">Description</span></span>                                                                                                                                                                                 |
|-------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="7d739-258">0</span><span class="sxs-lookup"><span data-stu-id="7d739-258">0</span></span>     | <span data-ttu-id="7d739-259">Обработка перекрытия выключена.</span><span class="sxs-lookup"><span data-stu-id="7d739-259">No overlap processing is enabled.</span></span>                                                                                                                                                           |
| <span data-ttu-id="7d739-260">1</span><span class="sxs-lookup"><span data-stu-id="7d739-260">1</span></span>     | <span data-ttu-id="7d739-261">Включен один уровень обработки перекрытия, который изменяет закодированные значения 4x4 на основе значений соседних блоков.</span><span class="sxs-lookup"><span data-stu-id="7d739-261">One level of overlap processing is enabled, modifying 4x4 block encoded values based on values of neighboring blocks.</span></span>                                                                       |
| <span data-ttu-id="7d739-262">2</span><span class="sxs-lookup"><span data-stu-id="7d739-262">2</span></span>     | <span data-ttu-id="7d739-263">Включена обработка двух уровней перекрытия.</span><span class="sxs-lookup"><span data-stu-id="7d739-263">Two levels of overlap processing are enabled.</span></span> <span data-ttu-id="7d739-264">В дополнение к обработке на первом уровне закодированные значения для блоков макросов 16x16 изменяются на основе значений соседних блоков макросов.</span><span class="sxs-lookup"><span data-stu-id="7d739-264">In addition to the first level processing, encoded values of 16x16 macro blocks are modified based on the values of neighboring macro blocks.</span></span> |



 

<span data-ttu-id="7d739-265">Значение по умолчанию — 1.</span><span class="sxs-lookup"><span data-stu-id="7d739-265">The default value is 1.</span></span>

### <a name="subsampling-option"></a><span data-ttu-id="7d739-266">Параметр подвыборки</span><span class="sxs-lookup"><span data-stu-id="7d739-266">Subsampling Option</span></span>

<span data-ttu-id="7d739-267">Указывает дополнительное сжатие в пространстве чрома.</span><span class="sxs-lookup"><span data-stu-id="7d739-267">Specifies additional compression in the chroma space.</span></span> <span data-ttu-id="7d739-268">Таким образом, можно сохранить детали освещенности за счет сведений о цвете.</span><span class="sxs-lookup"><span data-stu-id="7d739-268">In this way, you can preserve luminance detail at the expense of color detail .</span></span> <span data-ttu-id="7d739-269">Этот параметр применяется только к изображениям RGB.</span><span class="sxs-lookup"><span data-stu-id="7d739-269">This option applies only to RGB images.</span></span>

<span data-ttu-id="7d739-270">В следующей таблице перечислены доступные параметры подвыборки.</span><span class="sxs-lookup"><span data-stu-id="7d739-270">The following table lists the available subsampling options.</span></span>



| <span data-ttu-id="7d739-271">Значение</span><span class="sxs-lookup"><span data-stu-id="7d739-271">Value</span></span> | <span data-ttu-id="7d739-272">Описание</span><span class="sxs-lookup"><span data-stu-id="7d739-272">Description</span></span>                                                                                                                                                                                                                                                                                 |
|-------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="7d739-273">3</span><span class="sxs-lookup"><span data-stu-id="7d739-273">3</span></span>     | <span data-ttu-id="7d739-274">4:4:4. кодирование сохраняет полное разрешение чрома.</span><span class="sxs-lookup"><span data-stu-id="7d739-274">4:4:4 encoding preserves full chroma resolution.</span></span>                                                                                                                                                                                                                                            |
| <span data-ttu-id="7d739-275">2</span><span class="sxs-lookup"><span data-stu-id="7d739-275">2</span></span>     | <span data-ttu-id="7d739-276">4:2:2. кодировка сокращает разрешение чрома до 1/2 с разрешением освещенности.</span><span class="sxs-lookup"><span data-stu-id="7d739-276">4:2:2 encoding reduces chroma resolution to ½ of luminance resolution.</span></span>                                                                                                                                                                                                                      |
| <span data-ttu-id="7d739-277">1</span><span class="sxs-lookup"><span data-stu-id="7d739-277">1</span></span>     | <span data-ttu-id="7d739-278">4:2:0. кодировка сокращает разрешение чрома до 1/4 с разрешением освещенности.</span><span class="sxs-lookup"><span data-stu-id="7d739-278">4:2:0 encoding reduces chroma resolution to ¼ of luminance resolution.</span></span>                                                                                                                                                                                                                      |
| <span data-ttu-id="7d739-279">0</span><span class="sxs-lookup"><span data-stu-id="7d739-279">0</span></span>     | <span data-ttu-id="7d739-280">4:0:0. кодировка отбрасывает все содержимое чрома и сохраняет только светимость.</span><span class="sxs-lookup"><span data-stu-id="7d739-280">4:0:0 encoding discards all chroma content, and preserves luminance only.</span></span> <span data-ttu-id="7d739-281">Поскольку кодек использует немного измененное определение светимости для повышения производительности, перед кодированием рекомендуется преобразовать изображение RGB в монохромный режим, а не использовать этот чрома.</span><span class="sxs-lookup"><span data-stu-id="7d739-281">Because the codec uses a slightly modified definition of luminance to improve performance, we recommend that you convert an RGB image to monochrome before encoding rather than use this chroma subsampling mode.</span></span> |



 

<span data-ttu-id="7d739-282">Значение по умолчанию — 3, если [имажекуалити](#imagequality-option) > 0,8; в противном случае 1.</span><span class="sxs-lookup"><span data-stu-id="7d739-282">The default value is 3 if [ImageQuality](#imagequality-option) > 0.8; otherwise 1.</span></span>

### <a name="horizontaltileslices-verticaltileslices-options"></a><span data-ttu-id="7d739-283">Хоризонталтилеслицес, параметры Вертикалтилеслицес</span><span class="sxs-lookup"><span data-stu-id="7d739-283">HorizontalTileSlices, VerticalTileSlices Options</span></span>

<span data-ttu-id="7d739-284">Укажите горизонтальное и вертикальное мозаичное заполнение изображения перед выполнением кодирования сжатия для оптимальной производительности области декодирования.</span><span class="sxs-lookup"><span data-stu-id="7d739-284">Specify the horizontal and vertical tiling of the image before you perform compression encoding for the optimal performance of region decode .</span></span> <span data-ttu-id="7d739-285">Разделив изображение на прямоугольные плитки во время кодирования, можно декодировать области изображения без обработки всего потока сжатых данных.</span><span class="sxs-lookup"><span data-stu-id="7d739-285">By dividing the image into rectangular tiles during encoding you can decode regions of the image without processing the entire compressed data stream.</span></span> <span data-ttu-id="7d739-286">Значение по умолчанию 0 указывает на отсутствие подразделений, поэтому все изображение рассматривается как одна плитка.</span><span class="sxs-lookup"><span data-stu-id="7d739-286">The default value of 0 specifies no subdivision, so the entire image is treated as a single tile.</span></span> <span data-ttu-id="7d739-287">Значение 1 для каждого параметра создает одно горизонтальное и вертикальное деление, фактически разделив изображение на четыре изображения одинакового размера.</span><span class="sxs-lookup"><span data-stu-id="7d739-287">A value of 1 for each parameter creates a single horizontal and a single vertical division, effectively dividing the image into four equally sized tiles.</span></span> <span data-ttu-id="7d739-288">Максимальное значение 4095 для каждого параметра разделяет изображение на строки мозаики 4096 с 4096 плиток на строку.</span><span class="sxs-lookup"><span data-stu-id="7d739-288">The maximum value of 4095 for each parameter divides the image into 4096 tile rows with 4096 tiles per row.</span></span> <span data-ttu-id="7d739-289">Иными словами, значения параметров равны числу горизонтальных и вертикальных плиток (соответственно) минус 1.</span><span class="sxs-lookup"><span data-stu-id="7d739-289">In other words, the parameter values equal the number of horizontal and vertical tiles (respectively) minus 1.</span></span> <span data-ttu-id="7d739-290">Размер плитки не может быть меньше 16 пикселей по ширине или высоте, поэтому кодировщик фотокодирования HD может настроить этот параметр для сохранения требуемого минимального размера плитки.</span><span class="sxs-lookup"><span data-stu-id="7d739-290">A tile can never be smaller than 16 pixels in width or height, so the HD Photo encoder might adjust this parameter to maintain the required minimum tile size.</span></span> <span data-ttu-id="7d739-291">Поскольку существуют затраты на хранение и обработку, связанные с каждой плиткой, следует тщательно выбирать эти значения для удовлетворения конкретного сценария.</span><span class="sxs-lookup"><span data-stu-id="7d739-291">Because there is storage and processing overhead associated with each tile, you should choose these values carefully to meet the specific scenario.</span></span>

<span data-ttu-id="7d739-292">[Хоризонталтилеслицес](/windows): значение по умолчанию — (ширина изображения — 1)  >> 8.</span><span class="sxs-lookup"><span data-stu-id="7d739-292">[HorizontalTileSlices](/windows): The default value is (Image Width – 1) >> 8.</span></span>

<span data-ttu-id="7d739-293">[Вертикалтилеслицес](/windows): значение по умолчанию — (высота изображения – 1)  >> 8.</span><span class="sxs-lookup"><span data-stu-id="7d739-293">[VerticalTileSlices](/windows): The default value is (Image Height – 1) >> 8.</span></span>

### <a name="frequencyorder-option"></a><span data-ttu-id="7d739-294">Фрекуенциордер, параметр</span><span class="sxs-lookup"><span data-stu-id="7d739-294">FrequencyOrder Option</span></span>

<span data-ttu-id="7d739-295">Указывает, что образ должен быть закодирован в порядке частот.</span><span class="sxs-lookup"><span data-stu-id="7d739-295">Specifies that the image must be encoded in frequency order.</span></span> <span data-ttu-id="7d739-296">Данные с наименьшей частотой отображаются в файле первыми, а содержимое изображения группируются по частоте, а не к пространственной ориентации.</span><span class="sxs-lookup"><span data-stu-id="7d739-296">The lowest frequency data appears first in the file, and image content is grouped by its frequency rather than its spatial orientation.</span></span> <span data-ttu-id="7d739-297">Упорядочение файла по частоте обеспечивает наилучшую производительность для декодирования на основе частоты, поэтому мы рекомендуем его использовать.</span><span class="sxs-lookup"><span data-stu-id="7d739-297">Organizing a file by frequency order provides the best performance for any frequency-based decoding, and therefore we recommend it.</span></span> <span data-ttu-id="7d739-298">Реализации устройств с фото-кодировщиком HD могут организовывать файл в пространственном порядке, чтобы уменьшить объем памяти, необходимый во время кодирования.</span><span class="sxs-lookup"><span data-stu-id="7d739-298">Device implementations of HD Photo encoders can organize a file in spatial order to reduce the memory footprint required during encoding.</span></span>

<span data-ttu-id="7d739-299">Значение по умолчанию — **true** , и мы рекомендуем, чтобы приложения и устройства всегда использовали частоту, если нет причин, связанных с производительностью или конкретными приложениями для использования пространственного порядка.</span><span class="sxs-lookup"><span data-stu-id="7d739-299">The default value is **TRUE** and we recommend that applications and devices always use frequency order unless you have performance or application-specific reasons to use spatial order.</span></span>

### <a name="interleavedalpha-option"></a><span data-ttu-id="7d739-300">Интерлеаведалфа, параметр</span><span class="sxs-lookup"><span data-stu-id="7d739-300">InterleavedAlpha Option</span></span>

<span data-ttu-id="7d739-301">Если задать для этого параметра **значение true** , кодек будет кодировать информацию о альфа-канале как дополнительный канал с чередованием, без корреляции каналов содержимого изображения.</span><span class="sxs-lookup"><span data-stu-id="7d739-301">Setting this option to **TRUE** instructs the codec to encode the alpha channel information as an additional interleaved channel, with no correlation to the image content channels.</span></span> <span data-ttu-id="7d739-302">Этот режим удобен, если необходимо одновременно декодировать альфа-канал с изображением в сценарии потоковой передачи.</span><span class="sxs-lookup"><span data-stu-id="7d739-302">This mode is useful when you need to decode alpha simultaneously with the image in a streaming scenario.</span></span>

<span data-ttu-id="7d739-303">Установка этого параметра в **значение false** приводит к преобразованию плоского альфа-канала в виде отдельного изображения с собственным необязательным значением качества.</span><span class="sxs-lookup"><span data-stu-id="7d739-303">Setting this parameter to **FALSE** results in a planar alpha channel, encoded as a separate image with its own optional Quality value.</span></span> <span data-ttu-id="7d739-304">Используя плоский альфа-канал, можно декодировать данные изображения и альфа-канал независимо друг от друга.</span><span class="sxs-lookup"><span data-stu-id="7d739-304">By using a Planar alpha channel you can decode the image data and the alpha channel independently.</span></span> <span data-ttu-id="7d739-305">Альфа-каналы с чередованием поддерживаются только для определенных форматов пикселей RGB.</span><span class="sxs-lookup"><span data-stu-id="7d739-305">Interleaved alpha channels are supported only for certain RGB pixel formats.</span></span> <span data-ttu-id="7d739-306">Плоский альфа-канал можно связать с любым форматом изображения, который определяет альфа-канал.</span><span class="sxs-lookup"><span data-stu-id="7d739-306">You can associate a Planar alpha channel with any image format that defines an alpha channel.</span></span>

<span data-ttu-id="7d739-307">Значение по умолчанию — **FALSE**.</span><span class="sxs-lookup"><span data-stu-id="7d739-307">The default value is **FALSE**.</span></span>

### <a name="alphaquality-option"></a><span data-ttu-id="7d739-308">Алфакуалити, параметр</span><span class="sxs-lookup"><span data-stu-id="7d739-308">AlphaQuality Option</span></span>

<span data-ttu-id="7d739-309">Задает качество сжатия для изображения плоского альфа-канала.</span><span class="sxs-lookup"><span data-stu-id="7d739-309">Specifies the compression quality for the planar alpha channel image.</span></span> <span data-ttu-id="7d739-310">Значение 1 задает режим без потерь.</span><span class="sxs-lookup"><span data-stu-id="7d739-310">A value of 1 sets lossless mode.</span></span> <span data-ttu-id="7d739-311">Увеличение значений приводит к увеличению коэффициента сжатия и более низкому качеству изображения.</span><span class="sxs-lookup"><span data-stu-id="7d739-311">Increasing values result in higher compression ratios and lower image quality.</span></span>

<span data-ttu-id="7d739-312">Значение по умолчанию — 1.</span><span class="sxs-lookup"><span data-stu-id="7d739-312">The default value is 1.</span></span>

### <a name="compresseddomaintranscode-option"></a><span data-ttu-id="7d739-313">Компресседдомаинтранскоде, параметр</span><span class="sxs-lookup"><span data-stu-id="7d739-313">CompressedDomainTranscode Option</span></span>

<span data-ttu-id="7d739-314">С помощью фотографии HD можно выполнять ряд операций преобразования файлов без необходимости декодирования сжатых данных и их повторной кодировки в конечном файле.</span><span class="sxs-lookup"><span data-stu-id="7d739-314">By using HD Photo you can perform a number of file transformation operations without actually decoding the compressed data and re-encoding it to the destination file.</span></span> <span data-ttu-id="7d739-315">Операции со сжатыми доменами очень эффективны и позволяют избежать дополнительной потери качества, типичной при расшифровке и повторном кодировании сжатого с потерей изображения.</span><span class="sxs-lookup"><span data-stu-id="7d739-315">Compressed domain operations are very efficient and avoid any additional quality loss that is typical when you decode and re-encode a lossy-compressed image.</span></span>

<span data-ttu-id="7d739-316">Поддерживаются следующие операции со сжатыми доменами:</span><span class="sxs-lookup"><span data-stu-id="7d739-316">The following compressed domain operations are supported:</span></span>

-   <span data-ttu-id="7d739-317">Обрезать область изображения.</span><span class="sxs-lookup"><span data-stu-id="7d739-317">Crop a region of the image.</span></span>
-   <span data-ttu-id="7d739-318">Выполните преобразование «вращение/перелистывание».</span><span class="sxs-lookup"><span data-stu-id="7d739-318">Perform a rotation/flip transformation.</span></span>
-   <span data-ttu-id="7d739-319">Отбросить данные частоты (что позволяет создать файл изображения меньшего размера).</span><span class="sxs-lookup"><span data-stu-id="7d739-319">Discard frequency data (making it possible to create a smaller image file.)</span></span>
-   <span data-ttu-id="7d739-320">Реорганизация изображения между пространственный и частотным последовательным порядком.</span><span class="sxs-lookup"><span data-stu-id="7d739-320">Reorganize the image between spatial and frequency sequential order.</span></span>

<span data-ttu-id="7d739-321">Кодировщик фотографий HD выполняет операцию перекодирования сжатого домена при кодировании изображения HD с помощью фотодекодера HD в качестве источника изображения.</span><span class="sxs-lookup"><span data-stu-id="7d739-321">The HD Photo encoder performs a compressed domain transcode operation when it encodes an HD Photo image by using an HD Photo decoder as the image source.</span></span> <span data-ttu-id="7d739-322">В зависимости от выбранных параметров кодирования кодек по возможности использует операцию со сжатым доменом.</span><span class="sxs-lookup"><span data-stu-id="7d739-322">Depending on the encoding options you selected, the codec uses a compressed domain operation if possible.</span></span> <span data-ttu-id="7d739-323">Если приложение выбирает явное запрещение всех операций перекодирования сжатого домена, следует присвоить параметру *Усекодекоптионс* **значение true** , а параметру *компресседдомаинтранскоде* — **значение false**.</span><span class="sxs-lookup"><span data-stu-id="7d739-323">If an application chooses to explicitly inhibit any compressed domain transcode operations, you should set the *UseCodecOptions* option to **TRUE** and the *CompressedDomainTranscode* option to **FALSE**.</span></span>

<span data-ttu-id="7d739-324">Когда кодек выполняет операцию со сжатым доменом, разрешены только определенные параметры кодировщика и свойства.</span><span class="sxs-lookup"><span data-stu-id="7d739-324">When the codec performs a compressed domain operation, only certain encoder parameter and property settings are allowed.</span></span>

-   <span data-ttu-id="7d739-325">Основные параметры кодировщика [имажекуалити](#imagequality-option), [Компрессионкуалити](/windows) и [без потерь](#lossless-option) игнорируются.</span><span class="sxs-lookup"><span data-stu-id="7d739-325">The basic encoder options [ImageQuality](#imagequality-option), [CompressionQuality](/windows) and [Lossless](#lossless-option) are ignored.</span></span>
-   <span data-ttu-id="7d739-326">Параметры кодировщика для фотографий в формате [](#quality-option)HD, [Перекрытие](#overlap-option), [интерлеаведалфа](#interleavedalpha-option) и [алфакуалити](#alphaquality-option) игнорируются.</span><span class="sxs-lookup"><span data-stu-id="7d739-326">The HD Photo-specific encoder options [Quality](#quality-option), [Overlap](#overlap-option), [InterleavedAlpha](#interleavedalpha-option) and [AlphaQuality](#alphaquality-option) are ignored.</span></span>
-   <span data-ttu-id="7d739-327">При наличии параметров [хоризонталтилеслицес](/windows) и [вертикалтилеслицес](/windows) должно быть присвоено нулевое значение.</span><span class="sxs-lookup"><span data-stu-id="7d739-327">If present, the [HorizontalTileSlices](/windows) and [VerticalTileSlices](/windows) options must be set to zero.</span></span> <span data-ttu-id="7d739-328">Размер плитки изображения нельзя изменить в составе сжатого домена.</span><span class="sxs-lookup"><span data-stu-id="7d739-328">The tile size of an image cannot be changed as part of a compressed domain transcode.</span></span>
-   <span data-ttu-id="7d739-329">Можно изменить организацию образа между частотой и пространственной сортировкой, указав соответствующее значение параметров [фрекуенциордеринг](/windows) .</span><span class="sxs-lookup"><span data-stu-id="7d739-329">You can change the image organization between frequency and spatial ordering by specifying the appropriate value of the [FrequencyOrdering](/windows) options.</span></span>
-   <span data-ttu-id="7d739-330">Поворот кардинала и (или) горизонтальную или вертикальную операцию отражения можно выполнить на основе значения, указанного в параметре кодировщика [битмаптрансформ](#bitmaptransform-option) .</span><span class="sxs-lookup"><span data-stu-id="7d739-330">A cardinal rotation and/or horizontal/vertical flip operation can be performed based on the value specified in the [BitmapTransform](#bitmaptransform-option) encoder option.</span></span>
-   <span data-ttu-id="7d739-331">Изображение можно обрезать, указав нужный регион с помощью параметра [**викрект**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmapframeencode-writesource) метода кодировщика **вритесаурце** .</span><span class="sxs-lookup"><span data-stu-id="7d739-331">The image can be cropped by specifying the desired region using the [**WICRect**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmapframeencode-writesource) parameter of the **WriteSource** encoder method.</span></span>
-   <span data-ttu-id="7d739-332">Данные изображения и (или) Alpha можно отменять, указывая соответствующие значения в параметрах [имажедатадискард](#imagedatadiscard-option) и/или [алфадатадискард](#alphadatadiscard-option) , уменьшая размер закодированного файла и эффективно уменьшая разрешение нового образа.</span><span class="sxs-lookup"><span data-stu-id="7d739-332">Image and/or alpha data can be discarded by specifying the appropriate values in the [ImageDataDiscard](#imagedatadiscard-option) and/or [AlphaDataDiscard](#alphadatadiscard-option) options, reducing the encoded file size and effectively reducing the resolution of the new image.</span></span>

<span data-ttu-id="7d739-333">Значение по умолчанию — **true** , и мы рекомендуем, чтобы приложения и устройства всегда использовали частоту, если только для использования пространственного порядка не заданы определенные причины производительности или приложения.</span><span class="sxs-lookup"><span data-stu-id="7d739-333">The default value is **TRUE** and we recommend that applications and devices always use the frequency order unless you have specific performance or application reasons to use the spatial order.</span></span>

### <a name="imagedatadiscard-option"></a><span data-ttu-id="7d739-334">Имажедатадискард, параметр</span><span class="sxs-lookup"><span data-stu-id="7d739-334">ImageDataDiscard Option</span></span>

<span data-ttu-id="7d739-335">Этот параметр допустим только в том случае, если параметр [компресседдомаинтранскоде](#compresseddomaintranscode-option) имеет **значение true**. в противном случае он игнорируется.</span><span class="sxs-lookup"><span data-stu-id="7d739-335">This parameter is valid only if the [CompressedDomainTranscode](#compresseddomaintranscode-option) option is **TRUE**; otherwise it is ignored.</span></span> <span data-ttu-id="7d739-336">[Имажедатадискард](#imagedatadiscard-option) указывает объем данных образа, которые должны быть удалены во время перекодирования сжатого домена.</span><span class="sxs-lookup"><span data-stu-id="7d739-336">[ImageDataDiscard](#imagedatadiscard-option) specifies the amount of image data to discard during a compressed domain transcode.</span></span> <span data-ttu-id="7d739-337">Если образ содержит альфа-канал с чередованием, эти данные отменяются также и в альфа-канал, за исключением, как описано далее в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="7d739-337">If the image contains an interleaved alpha channel, this data discard applies also to the alpha channel, with the exceptions as described later in this section.</span></span>

<span data-ttu-id="7d739-338">Допустимы следующие значения.</span><span class="sxs-lookup"><span data-stu-id="7d739-338">The following values are allowed.</span></span>



| <span data-ttu-id="7d739-339">Значение</span><span class="sxs-lookup"><span data-stu-id="7d739-339">Value</span></span> | <span data-ttu-id="7d739-340">Описание</span><span class="sxs-lookup"><span data-stu-id="7d739-340">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                  |
|-------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="7d739-341">0</span><span class="sxs-lookup"><span data-stu-id="7d739-341">0</span></span>     | <span data-ttu-id="7d739-342">Данные частоты изображения не удаляются.</span><span class="sxs-lookup"><span data-stu-id="7d739-342">No image frequency data is discarded.</span></span>                                                                                                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="7d739-343">1</span><span class="sxs-lookup"><span data-stu-id="7d739-343">1</span></span>     | <span data-ttu-id="7d739-344">Флексбитс отбрасываются, что делает случайное сокращение качества перекодированного изображения без изменения эффективного разрешения изображения.</span><span class="sxs-lookup"><span data-stu-id="7d739-344">The FlexBits are discarded, making an arbitrary reduction of the quality of the transcoded image without changing the effective resolution of the image.</span></span> <span data-ttu-id="7d739-345">Точное уменьшение размера файла или определенного снижения качества зависит от множества факторов и не может быть указано или предсказано.</span><span class="sxs-lookup"><span data-stu-id="7d739-345">The exact file size reduction or the specific quality reduction depends on numerous factors and cannot be specified or predicted.</span></span> <span data-ttu-id="7d739-346">Это валуеретурнс ошибку, если указать ее для альфа-канала с чередованием.</span><span class="sxs-lookup"><span data-stu-id="7d739-346">This valuereturns an error if you specify it for an interleaved alpha channel.</span></span>                                                    |
| <span data-ttu-id="7d739-347">2</span><span class="sxs-lookup"><span data-stu-id="7d739-347">2</span></span>     | <span data-ttu-id="7d739-348">Полоса данных частоты Хигхпасс отбрасывается (которая также включает Флексбитс), эффективно уменьшая разрешение перекодированного изображения на 4-факторный в обоих измерениях.</span><span class="sxs-lookup"><span data-stu-id="7d739-348">The HighPass frequency data band is discarded (which also includes the FlexBits), effectively reducing the resolution of the transcoded image by a factor of 4 in both dimensions.</span></span> <span data-ttu-id="7d739-349">Фактические размеры перекодированного изображения остаются неизменными, но все детали в каждом блоке 4x4 пикселей теряются.</span><span class="sxs-lookup"><span data-stu-id="7d739-349">The actual dimensions of the transcoded image remain the same, but it loses all detail in each 4x4 block of pixels.</span></span> <span data-ttu-id="7d739-350">Таким образом, при декодировании изображения следует отключать выборку при его декодировании.</span><span class="sxs-lookup"><span data-stu-id="7d739-350">Therefore, you should down-sample the transcoded image accordingly whenever you decode it.</span></span>                            |
| <span data-ttu-id="7d739-351">3</span><span class="sxs-lookup"><span data-stu-id="7d739-351">3</span></span>     | <span data-ttu-id="7d739-352">Полосы данных с частотой Хигхпасс и Ловпасс отбрасываются (которая также включает Флексбитс), эффективно уменьшая разрешение кодированного изображения с помощью коэффициента 16 в обоих измерениях.</span><span class="sxs-lookup"><span data-stu-id="7d739-352">Both the HighPass and LowPass frequency data bands are discarded (which also includes the FlexBits), effectively reducing the resolution of the transcoded image by a factor of 16 in both dimensions.</span></span> <span data-ttu-id="7d739-353">Фактические размеры перекодированного изображения остаются неизменными, но все данные в каждой 16x16 макроблокк пикселов теряются.</span><span class="sxs-lookup"><span data-stu-id="7d739-353">The actual dimensions of the transcoded image remain the same, but it loses all detail in each 16x16 macroblock of pixels.</span></span> <span data-ttu-id="7d739-354">Таким образом, при декодировании изображения следует отключать выборку при его декодировании.</span><span class="sxs-lookup"><span data-stu-id="7d739-354">Therefore, you should down-sample the transcoded image accordingly whenever you decode it.</span></span> |



 

<span data-ttu-id="7d739-355">Значение по умолчанию — 0.</span><span class="sxs-lookup"><span data-stu-id="7d739-355">The default value is 0.</span></span>

### <a name="alphadatadiscard-option"></a><span data-ttu-id="7d739-356">Алфадатадискард, параметр</span><span class="sxs-lookup"><span data-stu-id="7d739-356">AlphaDataDiscard Option</span></span>

<span data-ttu-id="7d739-357">Этот параметр допустим только в том случае, если свойство [компресседдомаинтранскоде](#compresseddomaintranscode-option) имеет **значение true** , а изображение содержит либо плоский, либо чередующийся альфа-канал. в противном случае он игнорируется.</span><span class="sxs-lookup"><span data-stu-id="7d739-357">This option is valid only if the [CompressedDomainTranscode](#compresseddomaintranscode-option) property is **TRUE** and the image contains either a planar or interleaved alpha channel; otherwise it is ignored.</span></span> <span data-ttu-id="7d739-358">Он задает объем данных альфа-частоты, которые должны быть удалены во время перекодирования сжатого домена.</span><span class="sxs-lookup"><span data-stu-id="7d739-358">It specifies the amount of alpha frequency data to discard during a compressed domain transcode.</span></span> <span data-ttu-id="7d739-359">Для плоского альфа-канала разрешены следующие значения.</span><span class="sxs-lookup"><span data-stu-id="7d739-359">The following values are allowed for a planar alpha channel.</span></span>



| <span data-ttu-id="7d739-360">Значение</span><span class="sxs-lookup"><span data-stu-id="7d739-360">Value</span></span> | <span data-ttu-id="7d739-361">Описание</span><span class="sxs-lookup"><span data-stu-id="7d739-361">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|-------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="7d739-362">0</span><span class="sxs-lookup"><span data-stu-id="7d739-362">0</span></span>     | <span data-ttu-id="7d739-363">Данные частоты изображения не удаляются.</span><span class="sxs-lookup"><span data-stu-id="7d739-363">No image frequency data is discarded.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="7d739-364">1</span><span class="sxs-lookup"><span data-stu-id="7d739-364">1</span></span>     | <span data-ttu-id="7d739-365">Флексбитс отбрасываются, что делает случайное уменьшение качества плоского альфа-канала для перекодированного изображения без изменения эффективного разрешения.</span><span class="sxs-lookup"><span data-stu-id="7d739-365">The FlexBits are discarded, making an arbitrary reduction of the quality of the planar alpha channel for the transcoded image without changing the effective resolution.</span></span> <span data-ttu-id="7d739-366">Точное уменьшение размера файла или определенного снижения качества зависит от множества факторов и не может быть указано или предсказано.</span><span class="sxs-lookup"><span data-stu-id="7d739-366">The exact file size reduction or the specific quality reduction depends on numerous factors and cannot be specified or predicted.</span></span>                                                                                                                                                                                                                                                |
| <span data-ttu-id="7d739-367">2</span><span class="sxs-lookup"><span data-stu-id="7d739-367">2</span></span>     | <span data-ttu-id="7d739-368">Полоса данных частоты Хигхпасс отбрасывается (которая также включает Флексбитс), что эффективно уменьшает разрешение перекодированного альфа-канала плоского изображения на коэффициент 4 в обоих измерениях.</span><span class="sxs-lookup"><span data-stu-id="7d739-368">The HighPass frequency data band is discarded (which also includes the FlexBits), effectively reducing the resolution of the transcoded image planar alpha channel by a factor of 4 in both dimensions.</span></span> <span data-ttu-id="7d739-369">Фактические размеры перекодированного изображения остаются неизменными, но изображение теряет все данные плоского альфа-канала в каждом блоке 4x4 пикселей.</span><span class="sxs-lookup"><span data-stu-id="7d739-369">The actual dimensions of the transcoded image remain the same, but the image loses all planar alpha channel detail in each 4x4 block of pixels.</span></span> <span data-ttu-id="7d739-370">Таким образом, при декодировании перекодированный образ следует выдавать в меньшую выборку.</span><span class="sxs-lookup"><span data-stu-id="7d739-370">Therefore, the transcoded image should be down-sampled accordingly whenever it is decoded.</span></span> <span data-ttu-id="7d739-371">Как правило, это значение следует задавать только при задании значения Имажедатадискард пропертито.</span><span class="sxs-lookup"><span data-stu-id="7d739-371">Typically, you should set this value only when you set the ImageDataDiscard propertyto the same value.</span></span> |
| <span data-ttu-id="7d739-372">3</span><span class="sxs-lookup"><span data-stu-id="7d739-372">3</span></span>     | <span data-ttu-id="7d739-373">Полосы данных с частотой Хигхпасс и Ловпасс отбрасываются (которая также включает Флексбитс), эффективно уменьшая разрешение кодированного изображения с помощью коэффициента 16 в обоих измерениях.</span><span class="sxs-lookup"><span data-stu-id="7d739-373">Both the HighPass and LowPass frequency data bands are discarded (which also includes the FlexBits), effectively reducing the resolution of the transcoded image by a factor of 16 in both dimensions.</span></span> <span data-ttu-id="7d739-374">Фактические размеры перекодированного изображения остаются неизменными, но изображение теряет все детали в каждой 16x16 макроблокк пикселей.</span><span class="sxs-lookup"><span data-stu-id="7d739-374">The actual dimensions of the transcoded image remain the same, but the image loses all detail in each 16x16 macroblock of pixels.</span></span> <span data-ttu-id="7d739-375">Таким образом, при декодировании перекодированный образ следует выдавать в меньшую выборку.</span><span class="sxs-lookup"><span data-stu-id="7d739-375">Therefore, the transcoded image should be down-sampled accordingly whenever it is decoded.</span></span> <span data-ttu-id="7d739-376">Как правило, это значение следует задавать, только если для свойства Имажедатадискард задано то же значение.</span><span class="sxs-lookup"><span data-stu-id="7d739-376">Typically, you should set this value only when you set the ImageDataDiscard property to the same value.</span></span>               |
| <span data-ttu-id="7d739-377">4</span><span class="sxs-lookup"><span data-stu-id="7d739-377">4</span></span>     | <span data-ttu-id="7d739-378">Альфа-канал полностью отклонен.</span><span class="sxs-lookup"><span data-stu-id="7d739-378">The Alpha channel is completely discarded.</span></span> <span data-ttu-id="7d739-379">Формат пикселей перекодированного изображения изменяется в соответствии с удалением альфа-канала.</span><span class="sxs-lookup"><span data-stu-id="7d739-379">The pixel format of the transcoded image is changed to reflect the removal of the alpha channel.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                               |



 

<span data-ttu-id="7d739-380">Для изображений, содержащих чередующиеся альфа-каналы, если это свойство не имеет значение 4, альфа-канал обрабатывается так же, как и данные изображения, в соответствии со значением свойства Имажедатадискард.</span><span class="sxs-lookup"><span data-stu-id="7d739-380">For images that contain interleaved alpha channels, unless this property is set to 4, the alpha channel is processed the same as the image data, according to the value of the ImageDataDiscard property.</span></span> <span data-ttu-id="7d739-381">Если это свойство имеет значение 4, альфа-канал с чередованием полностью удаляется, а формат пикселей перекодированного изображения соответствующим образом изменяется.</span><span class="sxs-lookup"><span data-stu-id="7d739-381">If this property is set to 4, the interleaved alpha channel is completely discarded and the pixel format of the transcoded image is changed accordingly.</span></span>

<span data-ttu-id="7d739-382">Нет значения по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="7d739-382">No default value.</span></span>

### <a name="ignoreoverlap-option"></a><span data-ttu-id="7d739-383">Игнореоверлап, параметр</span><span class="sxs-lookup"><span data-stu-id="7d739-383">IgnoreOverlap Option</span></span>

<span data-ttu-id="7d739-384">Этот параметр является допустимым только в том случае, если свойство [компресседдомаинтранскоде](#compresseddomaintranscode-option) имеет **значение true** и требуется перекодировать ровно одну или несколько плиток.</span><span class="sxs-lookup"><span data-stu-id="7d739-384">This option is valid only if the [CompressedDomainTranscode](#compresseddomaintranscode-option) property is **TRUE** and a sub-region transcode of exactly one or more tiles is requested.</span></span> <span data-ttu-id="7d739-385">Операция по умолчанию для перекодировки региона (или декодирования) заключается в том, чтобы развернуть запрошенную область, чтобы включить окружающие Пиксели, необходимые для перекрытия границ области.</span><span class="sxs-lookup"><span data-stu-id="7d739-385">The default operation for a region transcode (or decode) is to expand the requested region to include the surrounding pixels that are required for overlap decoding of the region edges.</span></span> <span data-ttu-id="7d739-386">Если для этого параметра задано значение **true**, окружающие пикселы пропускаются и извлекаются только выбранные плитка или плитки.</span><span class="sxs-lookup"><span data-stu-id="7d739-386">When this parameter is set to **TRUE**, the surrounding pixels are ignored and only the selected tile or tiles are extracted.</span></span> <span data-ttu-id="7d739-387">Опять же, это требует, чтобы запрошенный регион точно совпадал с координатами одного или нескольких плиток.</span><span class="sxs-lookup"><span data-stu-id="7d739-387">Again, this requires that the requested region exactly match the coordinates of one or more tiles.</span></span> <span data-ttu-id="7d739-388">Если исходное изображение не является мозаичным или если запрошенная область указывает какие-либо частичные плитки, этот параметр игнорируется.</span><span class="sxs-lookup"><span data-stu-id="7d739-388">If the source image is not tiled or if the requested region specifies any partial tiles, this parameter is ignored.</span></span>

<span data-ttu-id="7d739-389">Значение по умолчанию — **FALSE**.</span><span class="sxs-lookup"><span data-stu-id="7d739-389">The default value is **FALSE**.</span></span>

## <a name="decoding"></a><span data-ttu-id="7d739-390">Декодирование</span><span class="sxs-lookup"><span data-stu-id="7d739-390">Decoding</span></span>

<span data-ttu-id="7d739-391">Интерфейс API декодирования WIC разработан как независимый от кодека, а декодирование изображений для кодеков, поддерживающих WIC, по сути является одинаковым.</span><span class="sxs-lookup"><span data-stu-id="7d739-391">The WIC decoding API are designed to be codec-independent and image decoding for WIC-enabled codecs is essentially the same.</span></span> <span data-ttu-id="7d739-392">Дополнительные сведения о декодировании изображений см. в разделе [Общие сведения о декодировании](-wic-creating-decoder.md).</span><span class="sxs-lookup"><span data-stu-id="7d739-392">For more information about image decoding, see the [Decoding Overview](-wic-creating-decoder.md).</span></span> <span data-ttu-id="7d739-393">Дополнительные сведения об использовании декодированных данных изображения см. в разделе [Обзор источников точечных рисунков](-wic-bitmapsources.md).</span><span class="sxs-lookup"><span data-stu-id="7d739-393">For more information about using decoded image data, see the [Bitmap Sources Overview](-wic-bitmapsources.md).</span></span>

### <a name="iwicbitmapsourcetransform-support"></a><span data-ttu-id="7d739-394">Поддержка Ивикбитмапсаурцетрансформ</span><span class="sxs-lookup"><span data-stu-id="7d739-394">IWICBitmapSourceTransform Support</span></span>

<span data-ttu-id="7d739-395">В дополнение к интерфейсам, которые должны быть кодеками с поддержкой WIC, собственный фотодекодер HD также поддерживает [**ивикбитмапсаурцетрансформ**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapsourcetransform).</span><span class="sxs-lookup"><span data-stu-id="7d739-395">In addition to the interfaces required to be a WIC-enabled codec, the native HD Photo decoder also supports the [**IWICBitmapSourceTransform**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapsourcetransform).</span></span> <span data-ttu-id="7d739-396">Интерфейс **ивикбитмапсаурцетрансформ** предоставляет дополнительный параметр для декодирования потока битов образа.</span><span class="sxs-lookup"><span data-stu-id="7d739-396">The **IWICBitmapSourceTransform** interface provides an advanced option for decoding an image bit stream.</span></span> <span data-ttu-id="7d739-397">Вместо простого возврата полного образа с помощью [**IWICBitmapFrameDecode**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapframedecode)интерфейс **ивикбитмапсаурцетрансформ** включает следующие параметры декодера.</span><span class="sxs-lookup"><span data-stu-id="7d739-397">Rather than just return a complete image using [**IWICBitmapFrameDecode**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapframedecode), **IWICBitmapSourceTransform** interface enables the following decoder options.</span></span>

-   <span data-ttu-id="7d739-398">Декодирование прямоугольной подобласти изображения.</span><span class="sxs-lookup"><span data-stu-id="7d739-398">Decode a rectangular sub-region of the image.</span></span>
-   <span data-ttu-id="7d739-399">Декодирование до более низкого разрешения</span><span class="sxs-lookup"><span data-stu-id="7d739-399">Decode to a lower resolution</span></span>
-   <span data-ttu-id="7d739-400">Декодирование в другой формат пикселей</span><span class="sxs-lookup"><span data-stu-id="7d739-400">Decode to a different pixel format</span></span>
-   <span data-ttu-id="7d739-401">Выполнить преобразование (вращение/перелистывание) при декодировании</span><span class="sxs-lookup"><span data-stu-id="7d739-401">Perform a transformation (rotation/flip) while decoding</span></span>

<span data-ttu-id="7d739-402">Собственный фотокодек HD обеспечивает следующий уровень поддержки для интерфейса [**ивикбитмапсаурцетрансформ**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapsourcetransform) .</span><span class="sxs-lookup"><span data-stu-id="7d739-402">The native HD Photo codec provides the following level of support for the [**IWICBitmapSourceTransform**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapsourcetransform) interface.</span></span>

### <a name="doessupporttransform"></a><span data-ttu-id="7d739-403">доессуппорттрансформ</span><span class="sxs-lookup"><span data-stu-id="7d739-403">DoesSupportTransform</span></span>

<span data-ttu-id="7d739-404">Собственная реализация поддерживает все преобразования [**викбитмаптрансформоптионс**](/windows/desktop/api/Wincodec/ne-wincodec-wicbitmaptransformoptions) .</span><span class="sxs-lookup"><span data-stu-id="7d739-404">Native implementation supports all [**WICBitmapTransformOptions**](/windows/desktop/api/Wincodec/ne-wincodec-wicbitmaptransformoptions) transforms.</span></span>

### <a name="getclosestsize"></a><span data-ttu-id="7d739-405">жетклосестсизе</span><span class="sxs-lookup"><span data-stu-id="7d739-405">GetClosestSize</span></span>

<span data-ttu-id="7d739-406">Для запросов, которые меньше 1/2 измерения исходного изображения в обоих измерениях, Фото HD возвращает следующий самый крупный целочисленный размер изображения, равномерно кратный коэффициенту 2.</span><span class="sxs-lookup"><span data-stu-id="7d739-406">For requests that are less than ½ the dimension of the source image in both dimensions, HD Photo returns the next largest integer image size that is evenly divisible by a factor of two.</span></span> <span data-ttu-id="7d739-407">Для всех остальных запрошенных размеров Фото HD возвращает исходные размеры изображения.</span><span class="sxs-lookup"><span data-stu-id="7d739-407">For all other requested sizes, HD Photo returns the original image dimensions.</span></span>

### <a name="getclosestpixelformat"></a><span data-ttu-id="7d739-408">жетклосестпикселформат</span><span class="sxs-lookup"><span data-stu-id="7d739-408">GetClosestPixelFormat</span></span>

<span data-ttu-id="7d739-409">Фото HD Возвращает формат пикселей закодированного изображения.</span><span class="sxs-lookup"><span data-stu-id="7d739-409">HD Photo returns the pixel format of the encoded image.</span></span>

### <a name="copypixels"></a><span data-ttu-id="7d739-410">CopyPixels</span><span class="sxs-lookup"><span data-stu-id="7d739-410">CopyPixels</span></span>

<span data-ttu-id="7d739-411">Фото HD принимает любой запрошенный регион, указанный параметром [**викрект**](/windows/desktop/api/Wincodec/ns-wincodec-wicrect) , и возвращает эту часть изображения.</span><span class="sxs-lookup"><span data-stu-id="7d739-411">HD Photo accepts any requested region specified by the [**WICRect**](/windows/desktop/api/Wincodec/ns-wincodec-wicrect) parameter and returns that portion of the image.</span></span>

<span data-ttu-id="7d739-412">Параметры *уивидс* и *уихеигхт* должны задавать измерения, возвращаемые функцией [**жетклосестсизе**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmapsourcetransform-getclosestsize) .</span><span class="sxs-lookup"><span data-stu-id="7d739-412">The *uiWidth* and *uiHeight* parameters must specify dimensions as returned by the [**GetClosestSize**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmapsourcetransform-getclosestsize) function.</span></span> <span data-ttu-id="7d739-413">Любые другие значения возвращают ошибку.</span><span class="sxs-lookup"><span data-stu-id="7d739-413">Any other values return an error.</span></span>

<span data-ttu-id="7d739-414">Параметр *пгуиддстформат* должен указывать формат пикселей, возвращаемый функцией [**жетклосестпикселформат**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmapsourcetransform-getclosestpixelformat) .</span><span class="sxs-lookup"><span data-stu-id="7d739-414">The *pguidDstFormat* parameter must specify the pixel format returned by the [**GetClosestPixelFormat**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmapsourcetransform-getclosestpixelformat) function.</span></span> <span data-ttu-id="7d739-415">Любое другое значение возвращает ошибку.</span><span class="sxs-lookup"><span data-stu-id="7d739-415">Any other value returns an error.</span></span>

<span data-ttu-id="7d739-416">Фото HD принимает любое допустимое значение для параметра *дсттрансформ* .</span><span class="sxs-lookup"><span data-stu-id="7d739-416">HD Photo accepts any allowable value for the *dstTransform* parameter.</span></span> <span data-ttu-id="7d739-417">Обратите внимание, что значения, разрешенные компонентом WIC для этого параметра, отличаются от значений, используемых Фото HD для тега метаданных преобразования.</span><span class="sxs-lookup"><span data-stu-id="7d739-417">Note that the values allowed by WIC for this parameter are different from the values used by HD Photo for the Transformation metadata tag.</span></span>

 

 
