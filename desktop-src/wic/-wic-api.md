---
description: Компонент Windows Imaging Component (WIC) предоставляет API на основе модели COM для использования в C и C++.
ms.assetid: 74b14b5e-70e9-410f-a6e6-d8873a5f4fa4
title: Общие сведения об API WIC
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f86e5a876010e52489adac9baa7ce57fdfdf80f3
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105719544"
---
# <a name="wic-api-overview"></a>Общие сведения об API WIC

Компонент Windows Imaging Component (WIC) предоставляет API на основе модели COM для использования в C и C++. API WIC предоставляет разнообразные функции, связанные с образами, в том числе:

-   Встроенные кодеки для стандартных форматов веб-изображений.
-   Встроенная поддержка стандартных форматов метаданных.
-   Поддержка широкого диапазона поддерживаемых форматов пикселей.
-   Поддержка высокого цвета; включая 30-разрядный расширенный диапазон, 30-разрядную с высокой точностью и 48-разрядный формат пикселей с высокой точностью и шириной в один цвет.
-   Расширяемая платформа для кодеков изображений, форматов пикселей и форматов метаданных.

Этот раздел содержит следующие разделы.

-   [Файлы заголовков WIC](#wic-header-files)
-   [Файлы библиотек](#library-files)
-   [Фабрики классов](#class-factories)
-   [Компоненты работы с образами](#imaging-components)
-   [См. также:](#see-also)

## <a name="wic-header-files"></a>Файлы заголовков WIC

API-интерфейсы WIC определяются в следующих файлах в заголовке и на языке IDL:



| Файл              | Описание                                          |
|-------------------|------------------------------------------------------|
| винкодек. h        | Определяет версии основных API-интерфейсов WIC для C и C++.  |
| винкодек. idl      | Определяет основные интерфейсы WIC.                  |
| винкодексдк. h     | Определяет версии API WIC метаданных в C и C++. |
| винкодексдк. idl   | Определяет интерфейсы метаданных WIC.                 |
| винкодек \_ -прокси. h | Определяет экспорты прокси-сервера WIC.                       |



 

Чтобы использовать WIC, приложения должны включать винкодек. h и (или) винкодексдк. h в зависимости от того, какой API требуется приложению.

## <a name="library-files"></a>Файлы библиотек

Файлы библиотеки WIC:



| Файл              | Описание                                                            |
|-------------------|------------------------------------------------------------------------|
| виндовскодекс. lib | Библиотека импорта, предоставляемая пакетом средств разработки программного обеспечения (SDK) для Windows. |
| windowscodecs.dll | Библиотека реализации акции, предоставляемая операционной системой.         |



 

Чтобы создать ссылку на API-интерфейсы WIC, приложение должно включать виндовскодек. lib в качестве дополнительной зависимости компоновщика.

## <a name="class-factories"></a>Фабрики классов

В следующей таблице описаны две фабрики классов COM, которые API-интерфейсы WIC предоставляют для создания компонентов WIC.



| Фабричный интерфейс                                               | Описание                                                                                                                                             |
|-----------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**IWICImagingFactory**](/windows/desktop/api/Wincodec/nn-wincodec-iwicimagingfactory)     | Основная фабрика классов для разработки приложений с помощью компонентов WIC. Эта фабрика создает такие компоненты, как декодеры изображений, кодировщики и потоки.   |
| [**ивиккомпонентфактори**](/windows/desktop/api/Wincodecsdk/nn-wincodecsdk-iwiccomponentfactory) | Фабрика класса, предназначенная для разработчиков компонентов WIC. Компоненты, созданные из этой фабрики, в основном используются в коде кодеков и обработчика метаданных. |



 

Чтобы создать любую фабрику класса, используйте функцию [CoCreateInstance](/windows/win32/api/combaseapi/nf-combaseapi-cocreateinstance) com. В следующем примере демонстрируется создание фабрики изображений WIC.


```C++
// Initialize COM
CoInitialize(NULL);

// The factory pointer
IWICImagingFactory *pFactory = NULL;

// Create the COM imaging factory
HRESULT hr = CoCreateInstance(
    CLSID_WICImagingFactory,
    NULL,
    CLSCTX_INPROC_SERVER,
    IID_PPV_ARGS(&pFactory)
);
```



## <a name="imaging-components"></a>Компоненты работы с образами

API-интерфейсы WIC предоставляют несколько типов компонентов работы с образами. В следующей таблице описаны некоторые распространенные компоненты WIC. Полный список доступных компонентов см. в разделе [интерфейсы WIC](-wic-codec-ifaces.md).



| Тип компонента                                                      | Описание                                                                                                   |
|---------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------|
| [**Bitmap**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmap)                             | Представляет доступное для записи представление [**IWICBitmapSource**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapsource)в памяти. |
| [**Показан**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapdecoder)                     | Используется для декодирования данных изображения из потока в формат, который удобен для обработки изображений.                    |
| [**Кодировщик**](/windows/desktop/api/wincodec/nn-wincodec-iwicbitmapencoder)                     | Записывает данные изображения в поток.                                                                                |
| [**Stream**](/windows/desktop/api/Wincodec/nn-wincodec-iwicstream)                             | Используется для чтения и записи данных из файла, сетевого ресурса, блока памяти и т. д.                      |
| [**Конвертер формата**](/windows/desktop/api/Wincodec/nn-wincodec-iwicformatconverter)          | Используется для преобразования из одного формата пикселей в другой.                                                             |
| [**Средство чтения запросов метаданных**](/windows/desktop/api/Wincodec/nn-wincodec-iwicmetadataqueryreader) | Используется для чтения метаданных изображения или кадра изображения.                                                             |
| [**Модуль записи запросов метаданных**](/windows/desktop/api/Wincodec/nn-wincodec-iwicmetadataquerywriter) | Используется для записи метаданных в изображение или кадр изображения.                                                            |



 

## <a name="see-also"></a>См. также:

[Справочные материалы](-wic-codec-reference.md)


[Примеры и примеры кода](-wic-samples.md)


 

 
