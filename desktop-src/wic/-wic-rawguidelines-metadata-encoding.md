---
description: Кодирование
ms.assetid: 501e63bf-26ef-42fb-b181-f1a8b26c122c
title: Кодировка (компонент Windows Imaging)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8d6d15b983b7455d0fe0c406cbad64dbbb77588b
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105712543"
---
# <a name="encoding-windows-imaging-component"></a>Кодировка (компонент Windows Imaging)

Автор кодировщика должен выполнить следующие действия:

-   Реализуйте интерфейсы [**ивикбитмапенкодер**](/windows/desktop/api/wincodec/nn-wincodec-iwicbitmapencoder) и [**ивикбитмапфраминкоде**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapframeencode) .
-   Реализуйте [**ивикметадатаблокквритер**](/windows/desktop/api/Wincodecsdk/nn-wincodecsdk-iwicmetadatablockwriter) в кодировщике Frame. Если кодек поддерживает метаданные уровня контейнера, этот интерфейс должен быть реализован в кодировщике уровня контейнера, а также в кодировщике кадров.
-   Если формат контейнера неявно содержит все обязательные блоки метаданных, создайте экземпляр модуля записи метаданных для каждого такого блока. Например, для формата TIFF требуется устройство интерфейса (IFD) для каждого кадра, поэтому модуль записи IFD всегда должен быть предоставлен.
-   Реализуйте поддержку управления коллекцией модулей записи метаданных. Модуль записи блока управляет любыми требованиями к заказам или ограничениями контейнера на типы блоков метаданных, которые могут быть закодированы. Модуль записи блокировок должен проверять, можно ли внедрять новые модули записи метаданных в формат контейнера.
-   При кодировании потока изображения вызовите [**виксериализеметадатаконтент**](/windows/desktop/api/wincodecsdk/nf-wincodecsdk-wicserializemetadatacontent) для сериализации содержимого каждого модуля записи метаданных в поток. Если блок метаданных содержит метаданные "критическое", кодировщику необходимо задать критические элементы метаданных, прежде чем запрашивать у автора метаданных сериализацию содержимого.
-   Проверьте наличие неизвестных обработчиков метаданных, чтобы убедиться, что избыточные блоки метаданных отсутствуют. Это важно, поскольку при сохранении метаданных в сценарии декодирования или кодирования неизвестные блоки могут быть дубликатами обязательных блоков метаданных.

## <a name="related-topics"></a>См. также

<dl> <dt>

**Зрения**
</dt> <dt>

[Общие сведения о компоненте создания образов Windows](-wic-about-windows-imaging-codec.md)
</dt> <dt>

[Рекомендации по WIC для форматов необработанных изображений Camera](-wic-rawguidelines.md)
</dt> <dt>

[Написание WIC-Enabled КОДЕка](-wic-howtowriteacodec.md)
</dt> </dl>

 

 



