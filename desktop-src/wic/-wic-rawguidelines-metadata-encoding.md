---
description: Кодирование
ms.assetid: 501e63bf-26ef-42fb-b181-f1a8b26c122c
title: кодирование (компонент обработки изображений Windows)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d0b3d6eef499379bbdc668e70d5d0ec4326b390372da910934a6e7c7f547d177
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118964653"
---
# <a name="encoding-windows-imaging-component"></a>кодирование (компонент обработки изображений Windows)

Автор кодировщика должен выполнить следующие действия:

-   Реализуйте интерфейсы [**ивикбитмапенкодер**](/windows/desktop/api/wincodec/nn-wincodec-iwicbitmapencoder) и [**ивикбитмапфраминкоде**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapframeencode) .
-   Реализуйте [**ивикметадатаблокквритер**](/windows/desktop/api/Wincodecsdk/nn-wincodecsdk-iwicmetadatablockwriter) в кодировщике Frame. Если кодек поддерживает метаданные уровня контейнера, этот интерфейс должен быть реализован в кодировщике уровня контейнера, а также в кодировщике кадров.
-   Если формат контейнера неявно содержит все обязательные блоки метаданных, создайте экземпляр модуля записи метаданных для каждого такого блока. Например, для формата TIFF требуется устройство интерфейса (IFD) для каждого кадра, поэтому модуль записи IFD всегда должен быть предоставлен.
-   Реализуйте поддержку управления коллекцией модулей записи метаданных. Модуль записи блока управляет любыми требованиями к заказам или ограничениями контейнера на типы блоков метаданных, которые могут быть закодированы. Модуль записи блокировок должен проверять, можно ли внедрять новые модули записи метаданных в формат контейнера.
-   При кодировании потока изображения вызовите [**виксериализеметадатаконтент**](/windows/desktop/api/wincodecsdk/nf-wincodecsdk-wicserializemetadatacontent) для сериализации содержимого каждого модуля записи метаданных в поток. Если блок метаданных содержит метаданные "критическое", кодировщику необходимо задать критические элементы метаданных, прежде чем запрашивать у автора метаданных сериализацию содержимого.
-   Проверьте наличие неизвестных обработчиков метаданных, чтобы убедиться, что избыточные блоки метаданных отсутствуют. Это важно, поскольку при сохранении метаданных в сценарии декодирования или кодирования неизвестные блоки могут быть дубликатами обязательных блоков метаданных.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

**Зрения**
</dt> <dt>

[Windows Общие сведения о компонентах обработки изображений](-wic-about-windows-imaging-codec.md)
</dt> <dt>

[Рекомендации по WIC для форматов необработанных изображений Camera](-wic-rawguidelines.md)
</dt> <dt>

[Написание WIC-Enabled КОДЕка](-wic-howtowriteacodec.md)
</dt> </dl>

 

 



