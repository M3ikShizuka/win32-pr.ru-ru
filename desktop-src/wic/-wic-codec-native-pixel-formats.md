---
description: в этом разделе представлены форматы пикселей, предоставляемые компонентом Windows imaging (WIC).
ms.assetid: 348b6d15-e339-4dce-99f3-4d639ee9bf7d
title: Общие сведения о форматах пикселей в машинном код
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 379e67d422ccbd05ef178e67eb25c973e6b5943ef85d22873097f245f8914a23
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118206342"
---
# <a name="native-pixel-formats-overview"></a>Общие сведения о форматах пикселей в машинном код

в этом разделе представлены форматы пикселей, предоставляемые компонентом Windows imaging (WIC).

Формат пикселей описывает макет памяти каждого пикселя точечного рисунка. Этот макет памяти описывает, как кодируются данные изображения точечного рисунка, указывая числовой формат и организацию цветового канала. WIC поддерживает несколько числовых форматов для нескольких схем организации цветового канала, предоставляя широкий спектр форматов пикселей.

-   [Битовая глубина](#bit-depth)
-   [Числовая кодировка](#numerical-encoding)
-   [Цветовые каналы](#color-channels)
    -   [Цветовая модель RGB/BGR](#rgbbgr-color-model)
    -   [Цветовая модель CMYK](#cmyk-color-model)
    -   [Цветовая модель n-Channel](#n-channel-color-model)
    -   [Цветовые модели с индексированием и оттенками серого](#indexed-and-grayscale-color-models)
    -   [Цветовая модель И'кбкр](#ycbcr-color-model)
-   [Формат пикселей WIC](#wic-pixel-format)
    -   [Неопределенные форматы пикселей](#undefined-pixel-formats)
    -   [Индексированные форматы пикселей](#indexed-pixel-formats)
    -   [Упакованные форматы битов пикселей](#packed-bit-pixel-formats)
    -   [Форматы пикселей в оттенках серого](#grayscale-pixel-formats)
    -   [Форматы пикселей RGB/BGR](#rgbbgr-pixel-formats)
    -   [Форматы пикселей CMYK](#cmyk-pixel-formats)
    -   [Форматы пикселей n-Channel](#n-channel-pixel-formats)
    -   [Только альфа-форматы пикселей](#alpha-only-pixel-formats)
    -   [Форматы пикселей И'кбкр](#ycbcr-pixel-formats)
-   [Цветовое пространство](#color-space)
-   [Форматы образов в машинном код](#native-image-formats)
    -   [Встроенный кодек BMP](#bmp-native-codec)
    -   [Встроенный кодек GIF](#gif-native-codec)
    -   [Машинный кодек ICO](#ico-native-codec)
    -   [Встроенный кодек JPEG](#jpeg-native-codec)
    -   [Собственный кодек PNG](#png-native-codec)
    -   [Собственный кодек TIFF](#tiff-native-codec)
    -   [Встроенный кодек JPEG-XR](#jpeg-xr-native-codec)
-   [Собственный кодек DDS](#dds-native-codec)
-   [Расширяемость формата пикселей](#pixel-format-extensibility)
-   [Связанные темы](#related-topics)

## <a name="bit-depth"></a>Битовая глубина

*Битовая глубина* — это число бит, используемых для кодирования каждого цветового канала. Сегодня большинство цифровых изображений используют битовую глубину 8, то есть каждый цветовой канал в пикселе представлен 8 битами, предоставляя 2 ⁸ (256) уникальных значений на канал. Изображение с битовой глубиной 8 и тремя цветовыми каналами (например, красный, зеленый и синий) использует 24 бита на пиксель (бит в пикселях), который обеспечивает 2 ² ⁴ (16 777 216) различных цветов на пиксель.

Для лучшего разрешения цвета можно использовать битовую глубину 16 или 32. Это обеспечивает каждый цветовой канал с 2 ¹ ⁶ (65 536) или 2 ³ ² уникальными значениями с учетом большего объема памяти на пиксель.

В некоторых форматах битовая глубина не кратна 8. Эти форматы называются *упакованными* форматами, так как цветовые каналы в пикселях не вычисляются по границам байтов. Например, если глубина глубины равна 5, три цветовых канала могут храниться в 16 бит (включая 1 бит заполнения, чтобы разставлять Пиксели по байтам). Упакованные форматы полезны, если объем памяти или вычислительной мощности ограничен.

## <a name="numerical-encoding"></a>Числовая кодировка

Для большинства современных цифровых изображений неподписанные байты и короткие целые числа без знака используются для описания числового диапазона каждого цветового канала. Минимальное значение (0) представляет нулевую интенсивность в одном канале цвета, а черный достигается, когда все цветовые каналы равны нулю. Аналогично, максимальное значение представляет полную интенсивность, а белый — при полной интенсивности цветовых каналов. По битовой глубине 8 значение UINT предоставляет 256 уникальных значения на канал цвета (0-255). 16-разрядный UINT предоставляет 65 536 уникальных значения на канал цвета (0 – 65 535).

Кроме того, компонент WIC поддерживает форматы с фиксированной и плавающей точками. Эти форматы поддерживают большие динамические диапазоны, так как весь числовой диапазон каждого цветового канала больше, чем видимый диапазон. В результате цвета можно настроить выше или ниже видимого диапазона во время промежуточных шагов обработки изображений без потери сведений об образе.

### <a name="fixed-point-numerical-encoding"></a>Fixed-Point числовой кодировке

16-разрядные значения с фиксированной запятой интерпретируется как "s \": бит подписи, два целочисленных бита и тринадцать дробные разряды. С помощью этой интерпретации — числовой диапазон от − 4,0 до + 3,999... может быть представлено со значением 1,0, представленным целым числом, равным 8192 (0x2000).

32-разрядные значения с фиксированной запятой интерпретируется как s 7.24: bit, семь целых битов и двадцать 4 дробных разрядов. С помощью этой интерпретации — числовой диапазон от − 128,0 до + 127,999... может быть представлено со значением 1,0, представленным целым числом, равным 16777216 (0x01000000).

## <a name="color-channels"></a>Цветовые каналы

Цветовые каналы формата пикселей определяют макет памяти для каждого цвета в данных изображения точечного рисунка. Существует множество различных структур цветовых каналов, общих для современных цифровых изображений, а WIC обеспечивает поддержку многих из них.

### <a name="rgbbgr-color-model"></a>Цветовая модель RGB/BGR

Форматы RGB и BGR описывают цвета в модели аддитивного цвета. Наиболее распространенным способом описания изображения является три отдельных цветовых канала, представляющих цвета красного (R), зеленого (G) и Blue (B). Компонент WIC обеспечивает поддержку этих трех каналов в порядке "красный-зеленый-синий" (RGB) или "синий-зеленый-красный" (BGR). Это порядок, в котором каждый цветовой канал отображается в последовательном битовом потоке. Например, в \_ формате GUID WICPixelFormat32bppRGB каждый пиксель имеет ширину 32 бит. Красный канал — это первый (самый важный) байт в памяти, затем зеленый, а затем синий. И наоборот, в \_ формате GUID WICPixelFormat32bppBGR цветовые каналы находятся в обратном порядке. WIC поддерживает несколько форматов RGB/BGR, включая особые Упакованные форматы битов, такие как GUID \_ WICPixelFormat16bppBGR555.

> [!Note]  
> Цветовые каналы особых BGR упакованных битовых форматов не кратны 8, например цветовым каналам в типичных форматах пикселей. Это означает, что значения канала не согласованы по байтам. Необходимо соблюдать осторожность при чтении упакованных каналов с цветовым битом.

 

Помимо форматов RGB и BGR, WIC также предоставляет форматы пикселей RGB и BGR, поддерживающие альфа-канал (A). Альфа-канал предоставляет данные прозрачности для пикселя. Для форматов с добавленным альфа-каналом, как правило, он поступает последним в порядке цветового канала. Например, в формате пикселей GUID \_ WICPixelFormat32bppBGRA порядок байтов — синий, зеленый и красный, а затем — альфа-канал.

WIC также поддерживает форматы пикселей RGB с предварительным умножением (P). В типичном формате создания RGBA значения красного, зеленого и синего цветов представляют собой фактические значения цвета для изображения. Чтобы создать составное изображение в стандартном формате RGBA, значение альфа изображения переднего плана должно быть умножено на каждый из красного, зеленого и синего каналов, прежде чем добавлять его к цвету фонового изображения. В предварительно умноженном альфа-формате пикселей RGB каждый цветовой канал уже был умножен на альфа-значение. Это обеспечивает более эффективный способ компоновки изображений с данными альфа-канала. Чтобы получить значения True Color для каждого канала в формате пикселей ПРГБА/ПБГРА, умножение альфа-канала должно быть отменено путем деления значений цвета на значение альфа.

### <a name="cmyk-color-model"></a>Цветовая модель CMYK

CMYK — это вычитаемая цветовая модель, используемая при печати. Цвета, созданные моделью CMYK, создаются незначительным, но отраженным. CMYK — это четыре модели каналов голубого (C), пурпурного (M), желтого (Y) и черного (K). Если все четыре цветовых канала имеют максимальное значение, результат будет черным. Как и цветовые модели RGB/BGR, порядок байтов в последовательном битовом потоке определяется именем формата пикселей. Например, в формате пикселей GUID \_ WICPixelFormat32bppCMYK каждый пиксель состоит из 32 бит. Первый байт содержит голубое значение, а затем — пурпурный, желтый и черный. WIC предоставляет форматы пикселей для CMYK в 32 и 64 бит на пиксель (бит).

Помимо стандартной цветовой модели CMYK, WIC также предоставляет CMYK с альфа. Это позволяет изображениям CMYK иметь альфа-смешение данных, аналогичные цветовой модели RGB/BGR. Альфа-канал размещается сразу после черного в последовательном битовом потоке точечного рисунка.

### <a name="n-channel-color-model"></a>Цветовая модель n-Channel

Для гибкости WIC также предоставляет форматы пикселей, не имеющие заранее определенного порядка каналов. WIC предоставляет форматы пикселей, поддерживающие от трех до восьми каналов непрерывных данных изображения с глубиной в 8 и 16 бит. В отличие от форматов пикселей RGB/BGR и CMYK, n-канальный формат не указывает порядок каналов, а число доступных цветовых каналов. Например, в формате GUID \_ WICPixelFormat32bpp4Channels каждый пиксель состоит из 32 бит с каждым из 4 каналов, занимающих один байт.

WIC также предоставляет форматы пикселей для n-Channel с альфа. Это позволяет изображениям n-канального цвета иметь альфа-смешение данных, схожих с цветовыми моделями RGB/BGR и CMYK. Альфа-канал находится сразу после последнего цветового канала в последовательном битовом потоке точечного рисунка.

### <a name="indexed-and-grayscale-color-models"></a>Цветовые модели с индексированием и оттенками серого

В *индексированных* форматах используется таблица цветов, называемая *палитрой*. Палитра хранится извне на пиксельных данных или явно определена. Значение каждого пикселя в изображении является индексом в палитре. В индексированном формате число битов на пиксель напрямую связано с числом записей в палитре. Это значительно сокращает объем данных, необходимых для представления изображения, но также ограничивает количество цветов, доступных для изображения. Компонент WIC поддерживает индексированные форматы с 1, 2, 4 или 8 бит/с.

Для монохромных (оттенков серого) форматов WIC поддерживает 1, 2, 4, 8, 16 и 32 бит на пиксель. Для битовых глубин 1, 8, 16 и 32 цветовые данные хранятся в одном канале. Для битовых глубин 2 или 4 Пиксели являются индексами в палитре градаций серого.

### <a name="ycbcr-color-model"></a>Цветовая модель И'кбкр

WIC добавляет поддержку цветовой модели JPEG JFIF И'кбкр. И'кбкр отдельные цвета в компонент яркости (Y) и два компонента чрома (CB и CR). Многие файлы JPEG сохраняют данные изображений в собственном формате с помощью цветовой модели И'кбкр.

Система человеческого визуального элемента менее чувствительна к изменениям в чрома, чем яркости, а форматы И'кбкр могут воспользоваться преимуществами этой уменьшенной чувствительности, уменьшая объем данных чрома, хранящихся относительно яркости. Это достигается путем хранения чрома и яркости в отдельных плоскостях и масштабирования каждой плоскости компонентов до другого решения. Эта практика называется чрома подвыборкой.

Так как данные чрома и яркости хранятся отдельно и могут быть разными разрешениями, компонент WIC определяет отдельные форматы пикселей яркости и чрома. WIC поддерживает данные по 8 бит на канал.

## <a name="wic-pixel-format"></a>Формат пикселей WIC

Форматы пикселей в WIC определяются с помощью идентификаторов GUID, чтобы избежать конфликта с независимыми поставщиками оборудования. Компонент WIC предоставляет понятное имя для ссылки на GUID собственного формата пикселей. Соглашение об именовании для форматов пикселей WIC выглядит следующим образом:

**\[GUID \_ викпикселформат \] \[ бит на пиксельный \] \[ канал \] \[ служба хранилища тип\]**

| Компонент форматирования         | Описание                                                                                                                                                                                                                                                                                                  |
|--------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **GUID \_ викпикселформат** | Описательная идентификация для всех форматов пикселей WIC. Понятное имя для всех пикселей WIC начинается с этой строки.                                                                                                                                                                                       |
| **Бит на пиксель**       | Число битов на пиксель (бит в пикселе), используемых для формата пикселей.                                                                                                                                                                                                                                                |
| **Порядок каналов**        | Модель цветового канала и порядок каждого канала для формата.                                                                                                                                                                                                                                            |
| **Тип хранения**         | Числовая кодировка, используемая для формата пикселей. Кодировка по умолчанию — целое число без знака. Если ничего не соответствует сведениям о цветовой модели, подразумевается целое число без знака (UINT). Фикседпоинт и float используются для указания форматов пикселей, использующих кодировку с фиксированной запятой и плавающей запятой соответственно. |



 

> [!Note]  
> Для форматов n-Channel \[ порядок каналов \] не задает цветовой порядок, а вместо числа доступных каналов. Например, GUID \_ WICPixelFormat24bpp3Channels предоставляет три цветовых канала, где "3Channels" — это \[ запись порядка каналов \] , но указывает только число каналов, а не порядок.

 

Например, понятное имя GUID \_ WICPixelFormat24bppRGB означает, что формат пикселей использует 24 бита на пиксель и цветовую модель RGB. Так как имя не определяет явно тип хранения, подразумевается целое число без знака.

WIC поддерживает несколько форматов пикселей. Следующие таблицы группируют похожие форматы пикселей по цветовой структуре, предоставляя дополнительные сведения, такие как битовая глубина, бит на пиксель и числовая кодировка. Каждая таблица содержит следующие сведения.

-   **Понятное имя**. Понятное имя формата пикселей.
-   **Число каналов**. Количество цветовых каналов.
-   **Бит на канал**. Число бит на канал (битовая глубина).
-   **Бит на пиксель**. Число битов на пиксель, включая все биты заполнения.
-   **тип служба хранилища**. Числовая кодировка данных изображения. Это значение может быть целым числом без знака (UINT), числом с фиксированной запятой (Фикседпоинт) или числом с плавающей запятой (float).

> [!Note]  
> Для ясности этот документ относится к форматам пикселей только по их понятным именам. Фактическое шестнадцатеричное значение для форматов пикселей можно найти в файлах винкодек. h/IDL.

 

### <a name="undefined-pixel-formats"></a>Неопределенные форматы пикселей

В следующем списке показаны универсальные форматы пикселей, используемые, если формат пикселей не определен или неважен для операции с изображением.

-   GUID \_ викпикселформатундефинед
-   GUID \_ викпикселформатдонткаре

### <a name="indexed-pixel-formats"></a>Индексированные форматы пикселей

В следующей таблице перечислены Индексированные форматы пикселей, предоставляемые компонентом WIC. В этих форматах значение для каждого пикселя является индексом в цветовой палитре.



| Понятное имя                   | Число каналов | Бит на пиксель | Тип хранения |
|---------------------------------|---------------|----------------|--------------|
| GUID \_ WICPixelFormat1bppIndexed | 1             | 1              | UINT         |
| GUID \_ WICPixelFormat2bppIndexed | 1             | 2              | UINT         |
| GUID \_ WICPixelFormat4bppIndexed | 1             | 4              | UINT         |
| GUID \_ WICPixelFormat8bppIndexed | 1             | 8              | UINT         |



 

### <a name="packed-bit-pixel-formats"></a>Упакованные форматы битов пикселей

В следующей таблице перечислены Упакованные форматы битов, предоставляемые компонентом WIC. В этих форматах данные в цветовых каналах не выровняйтеся по байтам.



| Понятное имя                          | Число каналов | Бит на канал       | Бит на пиксель | Тип хранения |
|-------------------------------------------|---------------|------------------------|----------------|--------------|
| GUID \_ WICPixelFormat16bppBGR555           | 3             | 5                      | 16             | UINT         |
| GUID \_ WICPixelFormat16bppBGR565           | 3             | 5 (B)/6 (G)/5 (R)         | 16             | UINT         |
| GUID \_ WICPixelFormat16bppBGRA555          | 4             | 5 (B)/5 (G)/5 (R)/1 (A)    | 16             | UINT         |
| GUID \_ WICPixelFormat32bppBGR101010        | 3             | 10                     | 32             | UINT         |
| GUID \_ WICPixelFormat32bppRGBA1010102      | 4             | 10 (R)/10 (G)/10 (B)/2 (A) | 32             | UINT         |
| GUID \_ WICPixelFormat32bppRGBA1010102XR    | 4             | 10 (R)/10 (G)/10 (B)/2 (A) | 32             | UINT         |
| GUID \_ WICPixelFormat32bppR10G10B10A2      | 4             | 10 (R)/10 (G)/10 (B)/2 (A) | 32             | UINT         |
| GUID \_ WICPixelFormat32bppR10G10B10A2HDR10 | 4             | 10 (R)/10 (G)/10 (B)/2 (A) | 32             | UINT         |

Для форматов GUID \_ WICPixelFormat32bppBGR101010 и GUID \_ WICPixelFormat32bppRGBA1010102 красный канал хранится в наименее значащих битах. Для форматов GUID \_ WICPixelFormat32bppR10G10B10A2 и GUID \_ WICPixelFormat32bppR10G10B10A2HDR10 красный канал определяется в наиболее значимых битах, то есть в том же макете, что и [DXGI_FORMAT_R10G10B10A2_UNORM](/windows/desktop/api/dxgiformat/ne-dxgiformat-dxgi_format).

Формат GUID \_ WICPixelFormat32bppR10G10B10A2HDR10 — 10-битный формат пикселей для HDR10 (цветовое пространство BT. 2020 и SMPTE St. 2084 еотф).

### <a name="grayscale-pixel-formats"></a>Форматы пикселей в оттенках серого

В следующей таблице перечислены форматы градаций серого, предоставляемые компонентом WIC. В этих форматах данные цвета представляют оттенки серого цвета.



| Понятное имя                           | Число каналов | Бит на канал | Бит на пиксель | Тип хранения |
|-----------------------------------------|---------------|------------------|----------------|--------------|
| GUID \_ викпикселформатблакквхите          | 1             | 1                | 1              | UINT         |
| GUID \_ WICPixelFormat2bppGray            | 1             | 2                | 2              | UINT         |
| GUID \_ WICPixelFormat4bppGray            | 1             | 4                | 4              | UINT         |
| GUID \_ WICPixelFormat8bppGray            | 1             | 8                | 8              | UINT         |
| GUID \_ WICPixelFormat16bppGray           | 1             | 16               | 16             | UINT         |
| GUID \_ WICPixelFormat16bppGrayFixedPoint | 1             | 16               | 16             | FixedPoint   |
| GUID \_ WICPixelFormat16bppGrayHalf       | 1             | 16               | 16             | Тип с плавающей запятой        |
| GUID \_ WICPixelFormat32bppGrayFloat      | 1             | 32               | 32             | Тип с плавающей запятой        |
| GUID \_ WICPixelFormat32bppGrayFixedPoint | 1             | 32               | 32             | FixedPoint   |



 

### <a name="rgbbgr-pixel-formats"></a>Форматы пикселей RGB/BGR

В следующей таблице перечислены форматы RGB/BGR, предоставляемые компонентом WIC. Эти форматы разделяют основные данные цвета на каналы красного (R), зеленого (G) и синего (B). Дополнительный альфа-канал (A) предоставляется для сведений о непрозрачности в некоторых форматах.



| Понятное имя                            | Число каналов | Бит на канал | Бит на пиксель | Тип хранения |
|------------------------------------------|---------------|------------------|----------------|--------------|
| GUID \_ WICPixelFormat24bppRGB             | 3             | 8                | 24             | UINT         |
| GUID \_ WICPixelFormat24bppBGR             | 3             | 8                | 24             | UINT         |
| GUID \_ WICPixelFormat32bppBGR             | 3             | 8                | 32             | UINT         |
| GUID \_ WICPixelFormat32bppRGBA            | 4             | 8                | 32             | UINT         |
| GUID \_ WICPixelFormat32bppBGRA            | 4             | 8                | 32             | UINT         |
| GUID \_ WICPixelFormat32bppRGBE\*          | 4             | 8                | 32             | Тип с плавающей запятой        |
| GUID \_ WICPixelFormat32bppPRGBA           | 4             | 8                | 32             | UINT         |
| GUID \_ WICPixelFormat32bppPBGRA           | 4             | 8                | 32             | UINT         |
| GUID \_ WICPixelFormat48bppRGB             | 3             | 16               | 48             | UINT         |
| GUID \_ WICPixelFormat48bppBGR             | 3             | 16               | 48             | UINT         |
| GUID \_ WICPixelFormat48bppRGBFixedPoint   | 3             | 16               | 48             | Фиксированный        |
| GUID \_ WICPixelFormat48bppBGRFixedPoint   | 3             | 16               | 48             | Фиксированный        |
| GUID \_ WICPixelFormat48bppRGBHalf         | 3             | 16               | 48             | Тип с плавающей запятой        |
| GUID \_ WICPixelFormat64bppRGBA            | 4             | 16               | 64             | UINT         |
| GUID \_ WICPixelFormat64bppBGRA            | 4             | 16               | 64             | UINT         |
| GUID \_ WICPixelFormat64bppPRGBA           | 4             | 16               | 64             | UINT         |
| GUID \_ WICPixelFormat64bppPBGRA           | 4             | 16               | 64             | UINT         |
| GUID \_ WICPixelFormat64bppRGBFixedPoint   | 3             | 16               | 64             | Фиксированный        |
| GUID \_ WICPixelFormat64bppRGBAFixedPoint  | 4             | 16               | 64             | Фиксированный        |
| GUID \_ WICPixelFormat64bppBGRAFixedPoint  | 4             | 16               | 64             | Фиксированный        |
| GUID \_ WICPixelFormat64bppRGBHalf         | 3             | 16               | 64             | Тип с плавающей запятой        |
| GUID \_ WICPixelFormat64bppRGBAHalf        | 4             | 16               | 64             | Тип с плавающей запятой        |
| GUID \_ WICPixelFormat96bppRGBFixedPoint   | 3             | 32               | 96             | Фиксированный        |
| GUID \_ WICPixelFormat128bppRGBFloat       | 3             | 32               | 128            | Тип с плавающей запятой        |
| GUID \_ WICPixelFormat128bppRGBAFloat      | 4             | 32               | 128            | Тип с плавающей запятой        |
| GUID \_ WICPixelFormat128bppPRGBAFloat     | 4             | 32               | 128            | Тип с плавающей запятой        |
| GUID \_ WICPixelFormat128bppRGBFixedPoint  | 3             | 32               | 128            | Фиксированный        |
| GUID \_ WICPixelFormat128bppRGBAFixedPoint | 4             | 32               | 128            | Фиксированный        |



 

> [!Note]  
> \*Формат GUID \_ WICPixelFormat32bppRGBE кодирует 3 16-разрядные значения с плавающей запятой в 4 байтах следующим образом: три 8-битных мантиссаа без знака для каналов R, G и B, а также общий 8-разрядный показатель степени. Этот формат обеспечивает 16-разрядную точность с плавающей запятой в представлении с меньшим размером пикселей.

 

начиная с Windows 8 и [обновления платформы для Windows 7](/windows/desktop/direct3darticles/platform-update-for-windows-7), WIC предоставляет дополнительные форматы, показанные в таблице здесь.



| Понятное имя                      | Число каналов | Бит на канал | Бит на пиксель | Тип хранения |
|------------------------------------|---------------|------------------|----------------|--------------|
| GUID \_ WICPixelFormat32bppRGB       | 3             | 8                | 32             | UINT         |
| GUID \_ WICPixelFormat64bppRGB       | 3             | 16               | 64             | UINT         |
| GUID \_ WICPixelFormat96bppRGBFloat  | 3             | 32               | 96             | FLOAT        |
| GUID \_ WICPixelFormat64bppPRGBAHalf | 4             | 16               | 64             | FLOAT        |



 

### <a name="cmyk-pixel-formats"></a>Форматы пикселей CMYK

В следующей таблице перечислены форматы CMYK, предоставляемые компонентом WIC. Эти форматы разделяют основные данные цвета на голубые (C), пурпурные (M), желтые (Y) и черные (K) каналы.



| Понятное имя                      | Число каналов | Бит на канал | Бит на пиксель | Тип хранения |
|------------------------------------|---------------|------------------|----------------|--------------|
| GUID \_ WICPixelFormat32bppCMYK      | 4             | 8                | 32             | UINT         |
| GUID \_ WICPixelFormat64bppCMYK      | 4             | 16               | 64             | UINT         |
| GUID \_ WICPixelFormat40bppCMYKAlpha | 5             | 8                | 40             | UINT         |
| GUID \_ WICPixelFormat80bppCMYKAlpha | 5             | 16               | 80             | UINT         |



 

### <a name="n-channel-pixel-formats"></a>Форматы пикселей n-Channel

В следующей таблице перечислены форматы n-Channel, предоставляемые компонентом WIC. Эти форматы предоставляют ряд неопределенных цветовых каналов для хранения данных изображения.



| Понятное имя                            | Число каналов | Бит на канал | Бит на пиксель | Тип хранения |
|------------------------------------------|---------------|------------------|----------------|--------------|
| GUID \_ WICPixelFormat24bpp3Channels       | 3             | 8                | 24             | UINT         |
| GUID \_ WICPixelFormat48bpp3Channels       | 3             | 16               | 48             | UINT         |
| GUID \_ WICPixelFormat32bpp3ChannelsAlpha  | 4             | 8                | 32             | UINT         |
| GUID \_ WICPixelFormat64bpp3ChannelsAlpha  | 4             | 16               | 64             | UINT         |
| GUID \_ WICPixelFormat32bpp4Channels       | 4             | 8                | 32             | UINT         |
| GUID \_ WICPixelFormat64bpp4Channels       | 4             | 16               | 64             | UINT         |
| GUID \_ WICPixelFormat40bpp4ChannelsAlpha  | 5             | 8                | 40             | UINT         |
| GUID \_ WICPixelFormat80bpp4ChannelsAlpha  | 5             | 16               | 80             | UINT         |
| GUID \_ WICPixelFormat40bpp5Channels       | 5             | 8                | 40             | UINT         |
| GUID \_ WICPixelFormat80bpp5Channels       | 5             | 16               | 80             | UINT         |
| GUID \_ WICPixelFormat48bpp5ChannelsAlpha  | 6             | 8                | 48             | UINT         |
| GUID \_ WICPixelFormat96bpp5ChannelsAlpha  | 6             | 16               | 96             | UINT         |
| GUID \_ WICPixelFormat48bpp6Channels       | 6             | 8                | 48             | UINT         |
| GUID \_ WICPixelFormat96bpp6Channels       | 6             | 16               | 96             | UINT         |
| GUID \_ WICPixelFormat56bpp6ChannelsAlpha  | 7             | 8                | 56             | UINT         |
| GUID \_ WICPixelFormat112bpp6ChannelsAlpha | 7             | 16               | 112            | UINT         |
| GUID \_ WICPixelFormat56bpp7Channels       | 7             | 8                | 56             | UINT         |
| GUID \_ WICPixelFormat112bpp7Channels      | 7             | 16               | 112            | UINT         |
| GUID \_ WICPixelFormat64bpp7ChannelsAlpha  | 8             | 8                | 64             | UINT         |
| GUID \_ WICPixelFormat128bpp7ChannelsAlpha | 8             | 16               | 128            | UINT         |
| GUID \_ WICPixelFormat64bpp8Channels       | 8             | 8                | 64             | UINT         |
| GUID \_ WICPixelFormat128bpp8Channels      | 8             | 16               | 128            | UINT         |
| GUID \_ WICPixelFormat72bpp8ChannelsAlpha  | 9             | 8                | 72             | UINT         |
| GUID \_ WICPixelFormat144bpp8ChannelsAlpha | 9             | 16               | 144            | UINT         |



 

### <a name="alpha-only-pixel-formats"></a>Только альфа-форматы пикселей

В следующей таблице перечислены только альфа-форматы, предоставляемые компонентом WIC. Этот формат содержит только альфа-информацию.



| Понятное имя                 | Число каналов | Бит на канал | Бит на пиксель | Тип хранения |
|-------------------------------|---------------|------------------|----------------|--------------|
| GUID \_ WICPixelFormat8bppAlpha | 1             | 8                | 32             | UINT         |



 

### <a name="ycbcr-pixel-formats"></a>Форматы пикселей И'кбкр

В следующей таблице перечислены форматы И'кбкр, предоставляемые компонентом WIC. Эти форматы разделяют основные данные цвета на яркости (Y), Blue чрома Difference (CB) и Red Чома Difference (CR). Обратите внимание, что эти форматы предназначены для хранения данных в формате JPEG JFIF И'кбкр Pixel.



| Понятное имя                 | Число каналов | Бит на пиксель | Тип хранения |
|-------------------------------|---------------|----------------|--------------|
| GUID \_ WICPixelFormat8bppY     | 1             | 8              | UINT         |
| GUID \_ WICPixelFormat8bppCb    | 1             | 8              | UINT         |
| GUID \_ WICPixelFormat8bppCr    | 1             | 8              | UINT         |
| GUID \_ WICPixelFormat16bppCbCr | 2             | 16             | UINT         |



 

## <a name="color-space"></a>Цветовое пространство

Форматы пикселей сами по себе не имеют цветового пространства. Обычно цветовое пространство является семантической интерпретацией значений пикселей, которые зависят от контекста точечного рисунка. Некоторые изображения определяют контекст цвета, определяющий цветовое пространство изображения. Только в отсутствие контекста цвета должно выводиться цветовое пространство.

Сведения о контексте цвета определяются интерфейсом [**ивикколорконтекст**](/windows/desktop/api/Wincodec/nn-wincodec-iwiccolorcontext) для WIC. Чтобы получить сведения о контексте цвета для кадра изображения, используйте метод **жетколорконтекст** .

В отсутствие сведений о цветовых пространствах для изображения, общее правило для вывода цветового пространства заключается в том, что в форматах RGB и градации серого используется стандартное цветовое пространство RGB (sRGB), а в форматах RGB и градаций серого с плавающей запятой используется расширенное цветовое пространство RGB (scRGB). Цветовая модель CMYK использует цветовое пространство РВОП.

## <a name="native-image-formats"></a>Форматы образов в машинном код

каждый из предоставленных Windows кодеков wic поддерживает подмножество форматов пикселей wic. Для каждого кодека Поддерживаемые форматы декодирования могут отличаться от поддерживаемых форматов кодирования.

Если при декодировании изображения данные хранятся в формате пикселей, который не поддерживается декодером, то будет преобразован поддерживаемый формат. Для определения выходного формата пикселей вызовите [**IWICBitmapFrameDecode:: жетпикселформат**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmapsource-getpixelformat).

При кодировании изображения используйте [**ивикбитмапфраминкоде:: сетпикселформат**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmapframeencode-setpixelformat) , чтобы запросить использование кодировщиком определенного формата пикселей. Кодировщик вернет ближайший поддерживаемый формат пикселей, который может отличаться от запрошенного.

в следующих таблицах показаны форматы пикселей, поддерживаемые каждым из Windows предоставленных кодеках WIC.

### <a name="bmp-native-codec"></a>Встроенный кодек BMP



| Форматы пикселей декодера                   | Форматы пикселей кодировщика                   |
|-----------------------------------------|-----------------------------------------|
| GUID \_ WICPixelFormat1bppIndexed         | GUID \_ WICPixelFormat1bppIndexed         |
| GUID \_ WICPixelFormat4bppIndexed         | GUID \_ WICPixelFormat4bppIndexed         |
| GUID \_ WICPixelFormat8bppIndexed         | GUID \_ WICPixelFormat8bppIndexed         |
| GUID \_ WICPixelFormat16bppBGR555         | GUID \_ WICPixelFormat16bppBGR555         |
| GUID \_ WICPixelFormat16bppBGR565         | GUID \_ WICPixelFormat16bppBGR565         |
| GUID \_ WICPixelFormat24bppBGR            | GUID \_ WICPixelFormat24bppBGR            |
| GUID \_ WICPixelFormat32bppBGR            | GUID \_ WICPixelFormat32bppBGR            |
| GUID \_ WICPixelFormat32bppBGRA\*         | GUID \_ WICPixelFormat32bppBGRA\*         |
| GUID \_ WICPixelFormat64bppRGBAFixedPoint | GUID \_ WICPixelFormat32bppPBGRA          |
|                                         | GUID \_ WICPixelFormat64bppRGBAFixedPoint |
|                                         | GUID \_ WICPixelFormat64bppBGRAFixedPoint |



 

> [!Note]  
> GUID \_ WICPixelFormat32bppBGRA поддерживается только в Windows 8, [обновлении платформы для Windows 7](/windows/desktop/direct3darticles/platform-update-for-windows-7)и более поздних версий.
>
> -   Для кодирования в этот формат используйте параметр кодировщика **EnableV5Header32bppBGRA** . BMP будет записан с заголовком BITMAPV5HEADER.
> -   Если файл имеет BITMAPV5HEADER, он декодирован как GUID \_ WICPixelFormat32bppBGRA.

 

### <a name="gif-native-codec"></a>Встроенный кодек GIF



| Форматы пикселей декодера           | Форматы пикселей кодировщика           |
|---------------------------------|---------------------------------|
| GUID \_ WICPixelFormat8bppIndexed | GUID \_ WICPixelFormat8bppIndexed |



 

### <a name="ico-native-codec"></a>Машинный кодек ICO



| Форматы пикселей декодера         | Форматы пикселей кодировщика |
|-------------------------------|-----------------------|
| GUID \_ WICPixelFormat32bppBGRA |                       |



 

### <a name="jpeg-native-codec"></a>Встроенный кодек JPEG



| Форматы пикселей декодера         | Форматы пикселей кодировщика         |
|-------------------------------|-------------------------------|
| GUID \_ WICPixelFormat8bppGray  | GUID \_ WICPixelFormat8bppGray  |
| GUID \_ WICPixelFormat24bppBGR  | GUID \_ WICPixelFormat24bppBGR  |
| GUID \_ WICPixelFormat32bppCMYK | GUID \_ WICPixelFormat32bppCMYK |



 

### <a name="png-native-codec"></a>Собственный кодек PNG



| Форматы пикселей декодера           | Форматы пикселей кодировщика           |
|---------------------------------|---------------------------------|
| GUID \_ WICPixelFormat1bppIndexed | GUID \_ WICPixelFormat1bppIndexed |
| GUID \_ WICPixelFormat2bppIndexed | GUID \_ WICPixelFormat2bppIndexed |
| GUID \_ WICPixelFormat4bppIndexed | GUID \_ WICPixelFormat4bppIndexed |
| GUID \_ WICPixelFormat8bppIndexed | GUID \_ WICPixelFormat8bppIndexed |
| GUID \_ викпикселформатблакквхите  | GUID \_ викпикселформатблакквхите  |
| GUID \_ WICPixelFormat2bppGray    | GUID \_ WICPixelFormat2bppGray    |
| GUID \_ WICPixelFormat4bppGray    | GUID \_ WICPixelFormat4bppGray    |
| GUID \_ WICPixelFormat8bppGray    | GUID \_ WICPixelFormat8bppGray    |
| GUID \_ WICPixelFormat16bppGray   | GUID \_ WICPixelFormat16bppGray   |
| GUID \_ WICPixelFormat24bppBGR    | GUID \_ WICPixelFormat24bppBGR    |
| GUID \_ WICPixelFormat32bppBGRA   | GUID \_ WICPixelFormat32bppBGRA   |
| GUID \_ WICPixelFormat48bppRGB    | GUID \_ WICPixelFormat48bppRGB    |
| GUID \_ WICPixelFormat64bppRGBA   | GUID \_ WICPixelFormat48bppBGR    |
|                                 | GUID \_ WICPixelFormat64bppRGBA   |
|                                 | GUID \_ WICPixelFormat64bppBGRA   |



 

### <a name="tiff-native-codec"></a>Собственный кодек TIFF



| Форматы пикселей декодера                | Форматы пикселей кодировщика           |
|--------------------------------------|---------------------------------|
| GUID \_ WICPixelFormat1bppIndexed      | GUID \_ WICPixelFormat1bppIndexed |
| GUID \_ WICPixelFormat4bppIndexed      | GUID \_ WICPixelFormat4bppIndexed |
| GUID \_ WICPixelFormat8bppIndexed      | GUID \_ WICPixelFormat8bppIndexed |
| GUID \_ викпикселформатблакквхите       | GUID \_ викпикселформатблакквхите  |
| GUID \_ WICPixelFormat4bppGray         | GUID \_ WICPixelFormat4bppGray    |
| GUID \_ WICPixelFormat8bppGray         | GUID \_ WICPixelFormat8bppGray    |
| GUID \_ WICPixelFormat16bppGray        | GUID \_ WICPixelFormat16bppGray   |
| GUID \_ WICPixelFormat32bppGrayFloat   | GUID \_ WICPixelFormat24bppBGR    |
| GUID \_ WICPixelFormat24bppBGR         | GUID \_ WICPixelFormat32bppBGRA   |
| GUID \_ WICPixelFormat32bppBGRA        | GUID \_ WICPixelFormat32bppCMYK   |
| GUID \_ WICPixelFormat32bppPBGRA       | GUID \_ WICPixelFormat48bppRGB    |
| GUID \_ WICPixelFormat48bppRGB         | GUID \_ WICPixelFormat64bppRGBA   |
| GUID \_ WICPixelFormat32bppCMYK        |                                 |
| GUID \_ WICPixelFormat40bppCMYKAlpha   |                                 |
| GUID \_ WICPixelFormat64bppRGBA        |                                 |
| GUID \_ WICPixelFormat64bppPRGBA       |                                 |
| GUID \_ WICPixelFormat64bppCMYK        |                                 |
| GUID \_ WICPixelFormat80bppCMYKAlpha   |                                 |
| GUID \_ WICPixelFormat96bppRGBFloat\*  |                                 |
| GUID \_ WICPixelFormat128bppRGBAFloat  |                                 |
| GUID \_ WICPixelFormat128bppPRGBAFloat |                                 |



 

> [!Note]  
> GUID \_ WICPixelFormat96bppRGBFloat поддерживается только в Windows 8, [обновлении платформы для Windows 7](/windows/desktop/direct3darticles/platform-update-for-windows-7)и более поздних версий.

 

### <a name="jpeg-xr-native-codec"></a>Встроенный кодек JPEG-XR



| Форматы пикселей декодера                    | Форматы пикселей кодировщика                    |
|------------------------------------------|------------------------------------------|
| GUID \_ викпикселформатблакквхите           | GUID \_ викпикселформатблакквхите           |
| GUID \_ WICPixelFormat8bppGray             | GUID \_ WICPixelFormat8bppGray             |
| GUID \_ WICPixelFormat16bppBGR555          | GUID \_ WICPixelFormat16bppBGR555          |
| GUID \_ WICPixelFormat16bppGray            | GUID \_ WICPixelFormat16bppGray            |
| GUID \_ WICPixelFormat24bppBGR             | GUID \_ WICPixelFormat24bppBGR             |
| GUID \_ WICPixelFormat24bppRGB             | GUID \_ WICPixelFormat24bppRGB             |
| GUID \_ WICPixelFormat32bppBGR             | GUID \_ WICPixelFormat32bppBGR             |
| GUID \_ WICPixelFormat32bppBGRA            | GUID \_ WICPixelFormat32bppBGRA            |
| GUID \_ WICPixelFormat48bppRGBFixedPoint   | GUID \_ WICPixelFormat48bppRGBFixedPoint   |
| GUID \_ WICPixelFormat16bppGrayFixedPoint  | GUID \_ WICPixelFormat16bppGrayFixedPoint  |
| GUID \_ WICPixelFormat32bppBGR101010       | GUID \_ WICPixelFormat32bppBGR101010       |
| GUID \_ WICPixelFormat48bppRGB             | GUID \_ WICPixelFormat48bppRGB             |
| GUID \_ WICPixelFormat64bppRGBA            | GUID \_ WICPixelFormat64bppRGBA            |
| GUID \_ WICPixelFormat96bppRGBFixedPoint   | GUID \_ WICPixelFormat96bppRGBFixedPoint   |
| GUID \_ WICPixelFormat96bppRGBFixedPoint   | GUID \_ WICPixelFormat128bppRGBAFloat      |
| GUID \_ WICPixelFormat128bppRGBFloat       | GUID \_ WICPixelFormat128bppRGBFloat       |
| GUID \_ WICPixelFormat32bppCMYK            | GUID \_ WICPixelFormat32bppCMYK            |
| GUID \_ WICPixelFormat64bppRGBAFixedPoint  | GUID \_ WICPixelFormat64bppRGBAFixedPoint  |
| GUID \_ WICPixelFormat128bppRGBAFixedPoint | GUID \_ WICPixelFormat128bppRGBAFixedPoint |
| GUID \_ WICPixelFormat64bppCMYK            | GUID \_ WICPixelFormat64bppCMYK            |
| GUID \_ WICPixelFormat24bpp3Channels       | GUID \_ WICPixelFormat24bpp3Channels       |
| GUID \_ WICPixelFormat32bpp4Channels       | GUID \_ WICPixelFormat32bpp4Channels       |
| GUID \_ WICPixelFormat40bpp5Channels       | GUID \_ WICPixelFormat40bpp5Channels       |
| GUID \_ WICPixelFormat48bpp6Channels       | GUID \_ WICPixelFormat48bpp6Channels       |
| GUID \_ WICPixelFormat56bpp7Channels       | GUID \_ WICPixelFormat56bpp7Channels       |
| GUID \_ WICPixelFormat64bpp8Channels       | GUID \_ WICPixelFormat64bpp8Channels       |
| GUID \_ WICPixelFormat48bpp3Channels       | GUID \_ WICPixelFormat48bpp3Channels       |
| GUID \_ WICPixelFormat64bpp4Channels       | GUID \_ WICPixelFormat64bpp4Channels       |
| GUID \_ WICPixelFormat80bpp5Channels       | GUID \_ WICPixelFormat80bpp5Channels       |
| GUID \_ WICPixelFormat96bpp6Channels       | GUID \_ WICPixelFormat96bpp6Channels       |
| GUID \_ WICPixelFormat112bpp7Channels      | GUID \_ WICPixelFormat112bpp7Channels      |
| GUID \_ WICPixelFormat128bpp8Channels      | GUID \_ WICPixelFormat128bpp8Channels      |
| GUID \_ WICPixelFormat40bppCMYKAlpha       | GUID \_ WICPixelFormat40bppCMYKAlpha       |
| GUID \_ WICPixelFormat80bppCMYKAlpha       | GUID \_ WICPixelFormat80bppCMYKAlpha       |
| GUID \_ WICPixelFormat32bpp3ChannelsAlpha  | GUID \_ WICPixelFormat32bpp3ChannelsAlpha  |
| GUID \_ WICPixelFormat64bpp7ChannelsAlpha  | GUID \_ WICPixelFormat40bpp4ChannelsAlpha  |
| GUID \_ WICPixelFormat72bpp8ChannelsAlpha  | GUID \_ WICPixelFormat48bpp5ChannelsAlpha  |
| GUID \_ WICPixelFormat64bpp3ChannelsAlpha  | GUID \_ WICPixelFormat56bpp6ChannelsAlpha  |
| GUID \_ WICPixelFormat80bpp4ChannelsAlpha  | GUID \_ WICPixelFormat64bpp7ChannelsAlpha  |
| GUID \_ WICPixelFormat96bpp5ChannelsAlpha  | GUID \_ WICPixelFormat72bpp8ChannelsAlpha  |
| GUID \_ WICPixelFormat112bpp6ChannelsAlpha | GUID \_ WICPixelFormat64bpp3ChannelsAlpha  |
| GUID \_ WICPixelFormat128bpp7ChannelsAlpha | GUID \_ WICPixelFormat80bpp4ChannelsAlpha  |
| GUID \_ WICPixelFormat144bpp8ChannelsAlpha | GUID \_ WICPixelFormat96bpp5ChannelsAlpha  |
| GUID \_ WICPixelFormat64bppRGBAHalf        | GUID \_ WICPixelFormat112bpp6ChannelsAlpha |
| GUID \_ WICPixelFormat48bppRGBHalf         | GUID \_ WICPixelFormat128bpp7ChannelsAlpha |
| GUID \_ WICPixelFormat32bppRGBE            | GUID \_ WICPixelFormat144bpp8ChannelsAlpha |
| GUID \_ WICPixelFormat16bppGrayHalf        | GUID \_ WICPixelFormat64bppRGBAHalf        |
| GUID \_ WICPixelFormat32bppGrayFixedPoint  | GUID \_ WICPixelFormat48bppRGBHalf         |
| GUID \_ WICPixelFormat64bppRGBFixedPoint   | GUID \_ WICPixelFormat32bppRGBE            |
| GUID \_ WICPixelFormat128bppRGBFixedPoint  | GUID \_ WICPixelFormat16bppGrayHalf        |
| GUID \_ WICPixelFormat64bppRGBHalf         | GUID \_ викпикселформатблакквхите           |



 

## <a name="dds-native-codec"></a>Собственный кодек DDS



| Форматы пикселей декодера          | Форматы пикселей кодировщика          |
|--------------------------------|--------------------------------|
| GUID \_ WICPixelFormat32bppBGRA  | GUID \_ WICPixelFormat32bppBGRA  |
| GUID \_ WICPixelFormat32bppPBGRA | GUID \_ WICPixelFormat32bppPBGRA |



 

> [!Note]  
> указанный кодек DDS Windows поддерживает файлы DDS, закодированные с помощью следующих \_ значений формата DXGI:

 

-   \_Формат DXGI \_ BC1 \_ UNORM
-   \_Формат DXGI \_ BC2 \_ UNORM
-   \_Формат DXGI \_ BC3 \_ UNORM

Они декодированы и кодируются как GUID \_ WICPixelFormat32bppBGRA или GUID \_ WICPixelFormat32bppPBGRA. Дополнительные сведения см. в разделе [Общие сведения о формате DDS](dds-format-overview.md).

## <a name="pixel-format-extensibility"></a>Расширяемость формата пикселей

Пользовательские форматы изображений могут использовать форматы пикселей, которые изначально не предоставляются WIC, например Икбкр (YUV) и ИККК (Y/CB/CR/K). WIC предоставляет модель расширяемости, которая позволяет использовать как встроенные, так и стандартные форматы пикселей для работы в одном конвейере обработки изображений. Чтобы интегрировать эти форматы пикселей с конвейером обработки изображений WIC, необходимо создать преобразователи формата пикселей для преобразования форматов пикселей надстройки в один или несколько собственных форматов пикселей. Основным интерфейсом для создания преобразователей формата является [**ивикформатконвертер**](/windows/desktop/api/Wincodec/nn-wincodec-iwicformatconverter).

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

**Зрения**
</dt> <dt>

[Windows Общие сведения о компонентах обработки изображений](-wic-about-windows-imaging-codec.md)
</dt> <dt>

[Идентификаторы GUID и CLSID WIC](-wic-guids-clsids.md)
</dt> <dt>

**Другие ресурсы**
</dt> <dt>

[Написание WIC-Enabled КОДЕка](-wic-howtowriteacodec.md)
</dt> <dt>

[Спецификация Фото HD 1,0](https://www.microsoft.com/whdc/xps/wmphoto.mspx)
</dt> </dl>

 

 
