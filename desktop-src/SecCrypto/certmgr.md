---
description: CertMgr
ms.assetid: c9b68a81-c4f7-4754-9b47-c83f3679f0e3
title: CertMgr
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 832610510eeb74b821ec690cab93fd9af74d69ca3479508b5c0707d45f491c2b
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "117769997"
---
# <a name="certmgr"></a>CertMgr

Средства CertMgr заменяют Думпцерт. Он включает новые возможности для управления [*сертификатами*](../secgloss/c-gly.md), [*списками доверия сертификатов*](../secgloss/c-gly.md) (CTL) и [*списками отзыва сертификатов*](../secgloss/c-gly.md) (CRL). это средство устанавливается в \\ папку Bin установочного пакета Microsoft Windows Software Development Kit (SDK).

программа CertMgr доступна в составе Windows SDK, которую можно скачать из <https://go.microsoft.com/fwlink/p/?linkid=84091> .

CertMgr выполняет одну из четырех функций в зависимости от действия, указанного в команде.

**CertMgr** \[ **— Добавление** \| **-Del** \| **-размещать** \] \[  \] Параметры \[ **-s** \[ **-r** *регистрилокатион* \] \] *SourceName* \[ **-s** \[ **-r** *регистрилокатион* \] \] \[ *имя назначения*\]

В следующей таблице указаны основные действия средства CertMgr.



| Флаг действия | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|-------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| нет        | Отображает сертификаты, списки отзыва сертификатов или списки CTL. без флага действия (только для отображения) *SourceName* — это имя хранилища сертификатов или файла, содержащего элементы для отображения. Магазин может быть [*сериализованным*](../secgloss/s-gly.md) хранилищем (StoreFile) или системным хранилищем. По умолчанию CertMgr отображает все сертификаты, списки CTL или CRL в хранилище сертификатов или файле. *Имя назначения* не используется для вывода.<br/>                                                                                                                                                                                                                                                                                                                                  |
| — Добавление        | Копирует сертификаты, списки CTL и CRL в хранилище сертификатов. При использовании **-Add** *SourceName* — это исходное хранилище сертификатов, содержащее существующие сертификаты, списки CTL и списки отзыва сертификатов. *Имя назначения* — это целевое хранилище сертификатов, в которое будут добавлены сертификаты, списки CTL и списки отзыва сертификатов. Целевое хранилище будет сохранено как [*сериализованное*](../secgloss/s-gly.md) хранилище, если не используется параметр **-7** , который сохраняет хранилище в виде файла [*PKCS*](../secgloss/p-gly.md) \# 7. Обратите внимание, что параметр **-7** не может использоваться, если целевое хранилище является системным хранилищем.<br/>                                                                                                                          |
| -del        | Удаление сертификатов, списков CTL и списков отзыва сертификатов из хранилища сертификатов. Если используется параметр **-Del**, *SourceName* является исходным хранилищем сертификатов, содержащим существующие сертификаты, списки CTL и списки отзыва сертификатов. *Имя назначения* — это целевое хранилище сертификатов, которое будет содержать копии оставшихся сертификатов, списков CTL и CRL после удаления указанных элементов. Если *имя назначения* не указан, то *SourceName* также будет служить хранилищем назначения (оно будет изменено). Целевое хранилище будет сохранено как [*сериализованное*](../secgloss/s-gly.md) хранилище, если не используется параметр **-7** , который сохраняет хранилище в виде \# файла PKCS 7. Обратите внимание, что параметр **-7** не может использоваться, если целевое хранилище является системным хранилищем.<br/> |
| -размещать        | Сохраняет в файл сертификат в кодировке [*X. 509*](../secgloss/x-gly.md) , CTL или CRL. При использовании **-** Where *SourceName* — это исходное хранилище сертификатов, которое содержит существующие сертификаты, списки CTL и списки отзыва сертификатов. *Имя назначения* — это имя файла, в который будут сохранены сертификат в кодировке [*X. 509*](../secgloss/x-gly.md) , CTL и список отзыва сертификатов. Если используется параметр **-7** , файл будет сохранен как \# файл PKCS 7.<br/>                                                                                                                                                                                                                                                                                             |



 

## <a name="options"></a>Параметры

Следующие параметры применяются ко всем функциям CertMgr, за исключением указанных выше.



| Параметр                     | Флаг действия                                 | Описание                                                                                                                                                                                                                                        |
|----------------------------|---------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **-v**                     | нет (только для экрана)                         | Режим подробного вывода. Отображает подробные сведения о сертификатах, списках CTL и списках отзыва сертификатов. По умолчанию отображаются краткие сведения.                                                                                                                       |
| **-c**                     | все                                         | Использовать только сертификаты.                                                                                                                                                                                                                             |
| **— CTL**                   | все                                         | Используйте только списки CTL.                                                                                                                                                                                                                                     |
| **— Список отзыва сертификатов**                   | все                                         | Используйте только списки отзыва сертификатов.                                                                                                                                                                                                                                     |
| **все**                   | **-Add-del**<br/> **-размещать**<br/> | Добавляет все записи выбранного типа.                                                                                                                                                                                                               |
| **-e** *енкодингтипе*      | все                                         | [*Тип кодировки*](../secgloss/e-gly.md)сертификата.                                                                                                                                             |
| **-y** *сторепровидертипе* | все                                         | Тип поставщика хранилища.                                                                                                                                                                                                                               |
| **-7**                     | **-Add-del**<br/> **-размещать**<br/> | Сохраняет целевое хранилище в виде \# файла PKCS 7.                                                                                                                                                                                                    |
| **-f** *dwFlags*           | все                                         | Сохранить флаг открытия. Это параметр *dwFlags* , передаваемый в [**цертопенсторе**](/windows/desktop/api/Wincrypt/nf-wincrypt-certopenstore). Значение по умолчанию — \_ \_ текущий пользователь хранилища системы сертификатов \_ \_ . Имеет смысл, только если задан параметр **-y** . Дополнительные сведения см. в разделе **цертопенсторе**.         |
| **-n** *коммоннаместринг*  | **-Add-del**<br/> **-размещать**<br/> | Общее имя сертификата. Может использоваться только с сертификатами.                                                                                                                                                                                |
| **-SHA1** *sha1Hash*       | **-Add-del**<br/> **-размещать**<br/> | Хэш SHA1 сертификата, CTL или списка отзыва сертификатов, который необходимо скопировать, удалить или сохранить.                                                                                                                                                                         |
| **-s**                     | все                                         | Указывает, что хранилище является системным хранилищем.                                                                                                                                                                                                        |
| **-r** *регистрилокатион*  | все                                         | Расположение системного хранилища сертификатов. Имеет смысл, только если задан параметр **-s** . Необходимо задать значение *currentUser* (параметр реестра hKey \_ текущий \_ пользователь) или *LocalMachine* (раздел реестра hKey \_ локальный \_ компьютер). параметр *currentUser* используется по умолчанию. |
| **-?**                     | все                                         | Отображает все параметры.                                                                                                                                                                                                                          |



 

## <a name="remarks"></a>Remarks

CertMgr поддерживается только в Internet Explorer 4,0 или более поздней версии.

CertMgr может копировать, удалять или сохранять один или несколько сертификатов, списков CTL или списков отзыва сертификатов. Если в одной из этих категорий содержится несколько элементов, пользователь имеет три параметра:

-   Используйте параметр **-ALL** для копирования, удаления или сохранения всех элементов указанной категории.
-   Используйте параметры **-n** и **-SHA1** , чтобы однозначно идентифицировать копируемый, удаляемый или сохраненный элемент.
-   Если не указано значение **-ALL** или **-n** и **-SHA1** , CertMgr запрашивает у пользователя список элементов для копирования, удаления или сохранения. Пользователь отвечает, вводя индекс элемента для копирования, удаления или сохранения.

Действия CertMgr используют небольшие варианты синтаксиса и параметров. Необходимо использовать синтаксис и параметры, относящиеся к действию.

CertMgr работает с двумя типами хранилищ сертификатов: StoreFile и System Store. StoreFile может быть одним из следующих типов файлов:

-   Закодированный файл CTL/CRL/сертификат (может быть Base 64 в кодировке)
-   Файл PKCS \# 7
-   Подписанный документ
-   Сериализованный StoreFile

Указывать тип StoreFile не обязательно. CertMgr может определить тип StoreFile и предпринять соответствующие действия.

Системное хранилище — это хранилище сертификатов, обычно расположенное в реестре по адресу **currentUser**. Пользователь может ссылаться на системное хранилище, предоставляя только его имя. Указывать тип поставщика хранилища сертификатов необязательно. В зависимости от типа StoreFile или системного хранилища CertMgr выбирает соответствующий тип поставщика хранилища.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Использование CertMgr](using-certmgr.md)
</dt> </dl>

 

 
