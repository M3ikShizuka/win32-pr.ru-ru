---
description: Большие двоичные объекты используются с поставщиком Диффи-Хелмана или SChannel для экспорта ключей из, а также для импорта ключей в поставщик служб шифрования (CSP).
ms.assetid: ebb85b7c-204d-4b1c-86dc-5a03c8eda47b
title: Большие двоичные объекты Диффи-Хелмана и ключа SChannel
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 65a76869c6c6239e17a5ae14921805a076c9381c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103813737"
---
# <a name="diffie-hellmanschannel-key-blobs"></a>Большие двоичные объекты Диффи-Хелмана и ключа SChannel

[*Большие двоичные объекты*](../secgloss/b-gly.md) используются с поставщиком SChannel [*Диффи-Хелмана*](../secgloss/d-gly.md) / [](../secgloss/s-gly.md) для экспорта ключей из и импорта ключей в [*поставщик служб шифрования*](../secgloss/c-gly.md) (CSP).

-   [BLOB-объекты открытого ключа](#public-key-blobs)
-   [BLOB-объекты закрытых ключей](#private-key-blobs)

## <a name="public-key-blobs"></a>BLOB-объекты открытого ключа

Diffie-Hellman [*большие двоичные объекты с открытым ключом*](../secgloss/p-gly.md)используются для обмена значения (G ^ X) mod P в Diffie-Hellman обмена ключами.  Эти ключи экспортируются и импортируются в виде последовательности байтов в следующем формате.

``` syntax
PUBLICKEYSTRUC  publickeystruc;
DHPUBKEY        dhpubkey;
BYTE            y[dhpubkey.bitlen/8]; // Where y = (G^X) mod P
```

В следующей таблице описаны все компоненты [*большого двоичного объекта ключа*](../secgloss/k-gly.md).



| Поле          | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| дхпубкэй       | Структура [**дхпубкэй**](/windows/win32/api/wincrypt/ns-wincrypt-dhpubkey) . **Фокусный** элемент должен иметь значение 0x31484400. Это шестнадцатеричное значение является кодировкой [*ASCII*](../secgloss/a-gly.md) для DH1.                                                                                                                                                                                                                                                                                                                                                      |
| публиккэйструк | Структура [**публиккэйструк**](/windows/desktop/api/Wincrypt/ns-wincrypt-publickeystruc) .                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| да              | Последовательность **байтов** . Значение y (G ^ X) mod P находится непосредственно после структуры [**дхпубкэй**](/windows/win32/api/wincrypt/ns-wincrypt-dhpubkey) . Длина последовательности в байтах равна **битлен** элементу **дхпубкэй** , разделенному на восемь. Если длина данных, полученная в результате вычисления (G ^ X) mod P, равна одному или нескольким байтам, меньшим, чем P, то данные должны быть дополнены необходимыми байтами (нулевого значения), чтобы данные были требуемой длины (формат с [*прямым порядком байтов*](../secgloss/l-gly.md) ). |



 

## <a name="private-key-blobs"></a>BLOB-объекты закрытых ключей

[*Большие двоичные объекты с закрытым ключом*](../secgloss/p-gly.md)d-h используются для экспорта и импорта конфиденциальных сведений о ключе d-h.  Эти ключи экспортируются и импортируются в виде последовательности байтов в следующем формате.

``` syntax
PUBLICKEYSTRUC  publickeystruc;
DHPUBKEY        dhpubkey;
BYTE            prime[dhpubkey.bitlen/8];
BYTE            generator[dhpubkey.bitlen/8];
BYTE            secret[dhpubkey.bitlen/8];
```

В следующей таблице описаны все компоненты большого двоичного объекта ключа.



| Поле          | Описание                                                                                                                                                                                                |
|----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| дхпубкэй       | Структура [**дхпубкэй**](/windows/win32/api/wincrypt/ns-wincrypt-dhpubkey) . **Фокусный** элемент должен иметь значение 0x32484400. Это шестнадцатеричное значение является кодировкой [*ASCII*](../secgloss/a-gly.md) для DH2. |
| генератор      | Последовательность **байтов** . Генератор G.                                                                                                                                                                      |
| публиккэйструк | Структура [**публиккэйструк**](/windows/desktop/api/Wincrypt/ns-wincrypt-publickeystruc) .                                                                                                                                                      |
| простых          | Последовательность **байтов** . Основной модуль, P. Эти данные всегда должны иметь наиболее значимый бит наиболее значимого байта, равный одному.                                                                    |
| secret         | Последовательность **байтов** . Секретный показатель X.                                                                                                                                                                |



 

> [!Note]  
> Значения "основной", "Генератор" и "секрет" должны всегда иметь одинаковую длину в байтах. Если какое-либо значение является одним байтом или более коротким, оно должно быть дополнено необходимым числом нулевых байтов, чтобы сделать их одинаковыми. Простой, генератор и секретный код имеют формат с [*прямым порядком байтов*](../secgloss/l-gly.md) .

 

 

 
