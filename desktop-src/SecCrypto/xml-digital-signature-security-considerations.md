---
description: Приложения, которые подписывают и проверяют цифровые подписи XML, должны быть написаны в соответствии со следующими рекомендациями, чтобы избежать атак типа "отказ в обслуживании", потери данных и компрометации конфиденциальной информации.
ms.assetid: aa972946-9860-49c1-ae94-3f315684c291
title: Вопросы безопасности цифровых подписей XML
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4e54b4c5f3f863e0bc84172a7507bfe8609e2df7
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105684086"
---
# <a name="xml-digital-signature-security-considerations"></a>Вопросы безопасности цифровых подписей XML

Приложения, которые подписывают и проверяют цифровые подписи XML, должны быть написаны в соответствии со следующими рекомендациями, чтобы избежать атак типа "отказ в обслуживании", потери данных и компрометации конфиденциальной информации. В списке ниже приводятся общие рекомендации. Однако разработчикам рекомендуется выполнить дополнительный анализ безопасности для своих приложений и ознакомиться с последними рекомендациями по использованию цифровых подписей, опубликованными консорциумом W3C.

-   [Проверка доверия для ключа подписывания](#verify-trust-of-the-signing-key)
-   [Сначала проверьте ключ подписывания и проверьте SignedInfo, а затем проверьте ссылки.](#first-verify-the-signing-key-and-validate-signedinfo-then-validate-references)
-   [Использование минимального набора алгоритмов канонизации и преобразований](#use-the-minimal-set-of-canonicalization-algorithms-and-transforms-required)
-   [Убедитесь, что целевые URI указывают на назначения в ожидаемой области.](#ensure-target-uris-point-to-destinations-within-the-expected-scope)
-   [Проверка того, что данные, потребляемые приложением, проверены подписью](#verify-the-data-consumed-by-the-application-is-verified-by-the-signature)
-   [Следование рекомендациям по обеспечению шифрования](#follow-best-cryptographic-practices)

## <a name="verify-trust-of-the-signing-key"></a>Проверка доверия для ключа подписывания

Убедитесь, что ключ подписывания является доверенным, проверив соответствующий сертификат [*X. 509*](../secgloss/x-gly.md) (и цепочку сертификатов), включенный в подписанное сообщение. Кроме того, отношение доверия в ключе подписывания можно установить по внешнему каналу, такому как администратор, который настраивает набор доверенных ключей, или приложение, которое запрашивает надежную службу по протоколу Secure.

## <a name="first-verify-the-signing-key-and-validate-signedinfo-then-validate-references"></a>Сначала проверьте ключ подписывания и проверьте SignedInfo, а затем проверьте ссылки.

Проверьте отношение доверия в ключе подписывания и целостность элемента **SignedInfo** перед проверкой ссылок. Аналогичным образом, приложения должны проверять элементы **манифеста** до разрешения ссылок, содержащихся в элементах **манифеста** . **Ссылочные** элементы позволяют определить целевые URI, преобразования и алгоритмы канонизации. Если проверка не выполнена, эти поля потенциально могут использоваться для создания отказа в обслуживании, потери данных или других атак.

## <a name="use-the-minimal-set-of-canonicalization-algorithms-and-transforms-required"></a>Использование минимального набора алгоритмов канонизации и преобразований

XSLT и XPATH не должны использоваться в элементах, не прошедших проверку подлинности, например в **KeyInfo**. Если приложению требуется использовать XPath, Ограничьте набор выражений XPATH только теми, которые используют предки или сами оси, и не вычисляют строковое значение элементов. По умолчанию Криптксмл поддерживает ограниченный набор алгоритмов канонизации (см. раздел Поддерживаемые URI в [алгоритмах шифрования цифровых подписей XML](xml-digital-signature-cryptographic-algorithms.md)). Разработчики могут реализовать дополнительные преобразования или алгоритмы канонизации для использования в своих приложениях. Однако использование сложных алгоритмов создает возможность атак типа «отказ в обслуживании» или нарушает характеристики отрицания подписи. В тех случаях, когда для приложения требуются преобразования, ограничьте число преобразований, которые могут быть заданы для каждой ссылки, на наибольшее число, необходимое приложению. Такой подход позволяет устранить атаки типа «отказ в обслуживании» на основе чрезмерного использования преобразований.

## <a name="ensure-target-uris-point-to-destinations-within-the-expected-scope"></a>Убедитесь, что целевые URI указывают на назначения в ожидаемой области.

Приложения должны ограничивать целевые URI до наименьшей области, необходимой для приложения. Например, предполагается, что URI указывают на назначения в том же документе, файлы в определенном целевом каталоге или сетевые расположения в определенном домене DNS. Универсальные коды ресурсов (URI), заданные за пределами ожидаемого домена, могут привести к тому, что приложение сможет получить вредоносное содержимое, отправить вредоносные HTTP-запросы (возможно, содержащие строки запроса) или вызвать проверку подлинности приложений на вредоносных серверах.

## <a name="verify-the-data-consumed-by-the-application-is-verified-by-the-signature"></a>Проверка того, что данные, потребляемые приложением, проверены подписью

Если приложение проверяет ключ подписывания и элементы **SignedInfo** и **Reference** , но приложение использует важные данные, на которые не ссылается сигнатура, подпись не обеспечивает никакой осмысленной защиты. Семантическое значение сигнатуры может изменяться в зависимости от расположения подписи в документе. Приложениям рекомендуется проверять расположение подписи в документе. Кроме того, проверьте расположение данных и имен элементов, на которые указывают ссылки, чтобы устранить атаки подстановки и заключения в оболочку.

## <a name="follow-best-cryptographic-practices"></a>Следование рекомендациям по обеспечению шифрования

Алгоритмы шифрования становятся более надежными по мере обнаружения новых атак, а также становятся доступными дополнительные вычислительные мощности. Не следует жестко кодировать идентификаторы алгоритмов шифрования или размеры ключей в приложениях. Более полный список лучших методов шифрования см. в статьях Майкла Ховарда и Стив Липнер, «минимальные криптографические стандарты SDL» в *жизненном цикле разработки безопасности* (Redmond, Вашингтон: Microsoft Press, 2006), 251 – 258.

Дополнительные рекомендации можно найти на веб-сайте W3C: https://www.w3.org .

> [!Note]  
> Эти ресурсы могут быть недоступны в некоторых языках и странах или регионах.

 

 

 
