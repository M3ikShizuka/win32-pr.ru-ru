---
description: Посредники взаимодействуют с клиентскими приложениями, чтобы разрешить им отправлять запросы на сертификаты, и (предполагая, что запрос получает выданный сертификат), чтобы загрузить выданный сертификат на клиент.
ms.assetid: c696f09e-98d3-4cea-8ea1-cd8f40b74f12
title: Посредники
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 040e79abb03bd0363d37fdad79f7311412b0ffe2
ms.sourcegitcommit: c16214e53680dc71d1c07111b51f72b82a4512d8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/03/2021
ms.locfileid: "105664801"
---
# <a name="intermediaries"></a>Посредники

Посредники взаимодействуют с клиентскими приложениями, чтобы разрешить им отправлять [*запросы на сертификаты*](../secgloss/c-gly.md), и (предполагая, что запрос получает выданный сертификат), чтобы загрузить выданный сертификат на клиент. Каждый протокол транспортного уровня требует собственного посредника.

Службы сертификации Майкрософт поставляются с промежуточными (страницами веб-регистрации) для HTTP. Еще одним примером посредника является оснастка Microsoft Windows Certificates MMC (которая позволяет вызвать мастер запросов на сертификат). Если в службах сертификации используются другие протоколы транспортного уровня, разработчик может создать промежуточный носитель для каждого требуемого транспортного уровня.

Посредники взаимодействуют со службами сертификации с помощью интерфейсов [**интерфейса ICertRequest**](/windows/desktop/api/Certcli/nn-certcli-icertrequest) и [**ицертконфиг**](/windows/desktop/api/Certcli/nn-certcli-icertconfig) , предоставляемых ядром сервера. Метод [**интерфейса ICertRequest:: submit**](/windows/desktop/api/Certcli/nf-certcli-icertrequest-submit) используется для отправки [*запроса на сертификат*](../secgloss/c-gly.md), а для получения полученного сертификата используется [**интерфейса ICertRequest:: Certificate**](/windows/desktop/api/Certcli/nf-certcli-icertrequest-getcertificate) . Аналогичным образом [**ицертконфиг:: config**](/windows/desktop/api/Certcli/nf-certcli-icertconfig-getconfig) используется для определения центра сертификации, который может использоваться для выдачи сертификата.

Посредник не зависит от языка. Это может быть программа, написанная на C++, Visual Basic, Java, script или на другом языке.

Помимо сбора данных от клиента до создания запроса на сертификат, посредник может указывать атрибуты запроса. Запросы, отправленные в [*центр сертификации*](../secgloss/c-gly.md) , на котором выполняется модуль политики предприятия, должны указывать тип запрошенного сертификата, указав либо атрибут "CertificateTemplate", либо расширение шаблона сертификата в самом запросе.

Обратите внимание, что во время создания запроса на сертификат разработчики (и посредники) несут ответственность за поддержание секретности закрытого ключа. После компрометации закрытого ключа (с потерей секрета) он бесполезен.

Веб-страницы регистрации служб сертификатов используют [интерфейсы регистрации сертификатов](cryptography-interfaces.md), которые защищают закрытые ключи путем их создания на рабочей станции. Помимо поддержания секретности закрытого ключа, Управление регистрацией сертификатов позволяет указать поставщику служб шифрования, спецификацию ключа, стойкость ключа и хэш-алгоритма в качестве посредника.

Оснастка MMC "сертификаты" также использует Управление регистрацией сертификатов (Xenroll.dll). Однако, когда веб-страницы регистрации служб сертификатов вызывают загрузку ресурса контроля регистрации сертификатов (Xenroll.dll) на клиент при необходимости, оснастка MMC "сертификаты" работает в среде, где Xenroll.dll уже является доступным ресурсом.

Помимо [**интерфейса ICertRequest**](/windows/desktop/api/Certcli/nn-certcli-icertrequest) и [**ицертконфиг**](/windows/desktop/api/Certcli/nn-certcli-icertconfig), разработчики посредников могут найти [интерфейсы регистрации сертификатов](cryptography-interfaces.md) и [Управление регистрацией смарт-карт](certificate-enrollment-control.md) .

 

 
