---
description: Создает сертификат X. 509, подписанный с помощью тестового корневого ключа или другого указанного ключа, который привязывает ваше имя к открытой части пары ключей. Сертификат сохраняется в файл, в хранилище системных сертификатов или в обоих случаях.
ms.assetid: a28e77dd-72c9-42a3-a72d-1b3eaf59d9cf
title: Программой
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 980ba379688f2dc61c44b06d66ed5255e5b2e988
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105682779"
---
# <a name="makecert"></a>Программой

> [!Note]  
> Мы не рекомендуем использовать MakeCert. Чтобы создать самозаверяющие сертификаты, используйте командлет PowerShell [New-SelfSignedCertificate](/powershell/module/pkiclient/new-selfsignedcertificate).

 

Средство MakeCert создает сертификат [*X. 509*](../secgloss/x-gly.md) , подписанный с помощью тестового корневого ключа или другого указанного ключа, который привязывает ваше имя к открытой части пары ключей. Сертификат сохраняется в файл, в хранилище системных сертификатов или в обоих случаях. Средство устанавливается в \\ папку bin пути установки пакета средств разработки программного обеспечения (SDK) для Microsoft Windows.

Средство MakeCert использует следующий синтаксис команды:

**MakeCert** \[ *Басикоптионс* \| *Екстендедоптионс* \] *Выходной_файл*

*Выходной_файл* — это имя файла, в который будет записан сертификат. Если сертификат не должен записываться в файл, можно опустить *выходной_файл* .

## <a name="options"></a>Параметры

В состав MakeCert входят базовые и расширенные параметры. Основные параметры используются при создании сертификатов чаще всего. Дополнительные параметры обеспечивают более гибкое использование программы.

Параметры для MakeCert также делятся на три функциональные группы:

-   Основные параметры, относящиеся только к технологии хранилища сертификатов.
-   Расширенные параметры, характерные только для технологии SPC-File и закрытого ключа.
-   Расширенные параметры, применимые к технологии файлов SPC, закрытого ключа и хранилища сертификатов.

Параметры, приведенные в следующих таблицах, можно использовать только в Internet Explorer 4,0 или более поздней версии.



<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th>Базовый параметр</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>-a</strong> <strong></strong> <em>Алгоритм</em></td>
<td><a href="/windows/desktop/SecGloss/h-gly"><em>Хэш-</em></a> алгоритм. Необходимо задать значение <strong>SHA-1</strong> или <strong>MD5</strong> (по умолчанию). Сведения о MD5 см. в разделе <a href="/windows/desktop/SecGloss/m-gly"><em>MD5</em></a>.</td>
</tr>
<tr class="even">
<td><strong>-б</strong> <strong></strong> <em>DateStart</em></td>
<td>Дата, когда сертификат был первым действителен. Значение по умолчанию — при создании сертификата. Формат <em>DateStart</em> — mm/дд/гггг.</td>
</tr>
<tr class="odd">
<td><strong>-CY</strong> <strong></strong> <em>Цертификатетипес</em></td>
<td>Тип сертификата. <em>Цертификатетипес</em> может быть <strong>закончена</strong> для конечного субъекта или <strong>центра</strong> <a href="/windows/desktop/SecGloss/c-gly"><em>сертификации</em></a>.</td>
</tr>
<tr class="even">
<td><strong>-e</strong> <strong></strong> <em>DateEnd</em></td>
<td>Дата окончания периода действия. Значение по умолчанию — год 2039.</td>
</tr>
<tr class="odd">
<td><strong>-EKU</strong> <strong></strong> <em>OID1</em><strong>,</strong> <em>OID2</em> ...</td>
<td>Вставляет в сертификат список из одного или нескольких <a href="/windows/desktop/SecGloss/e-gly"><em></em></a> <a href="/windows/desktop/SecGloss/o-gly"><em>идентификаторов объектов</em></a> с разделителями-запятыми (OID). Например, параметр <strong>-EKU 1.3.6.1.5.5.7.3.2</strong> вставляет OID проверки подлинности клиента. Определения допустимых OID см. в файле Винкрипт. h в CryptoAPI 2.0.</td>
</tr>
<tr class="even">
<td><strong>-h</strong> <strong></strong> <em>Нумчилдрен</em></td>
<td>Максимальная высота дерева ниже этого сертификата.</td>
</tr>
<tr class="odd">
<td><strong>-l</strong> <strong></strong> <em>Полицилинк</em></td>
<td>Ссылка на сведения о политике Агентства SPC (например, URL-адрес).</td>
</tr>
<tr class="even">
<td><strong>-m</strong> <strong></strong> <em>нмонсс</em></td>
<td>Длительность периода действия.</td>
</tr>
<tr class="odd">
<td><strong>-n</strong> <strong>&quot;</strong> <em>Имя</em><strong>&quot;</strong></td>
<td>Имя сертификата издателя. Это имя должно соответствовать стандарту <a href="/windows/desktop/SecGloss/x-gly"><em>X. 500</em></a> . Самый простой способ — использовать &quot; Формат CN =<em>myname</em> &quot; . Например: <strong>-n &quot; CN = test &quot; </strong>.</td>
</tr>
<tr class="even">
<td><strong>-НСКП</strong></td>
<td>Необходимо добавить модуль проверки подлинности клиента Netscape.</td>
</tr>
<tr class="odd">
<td><strong>-PE</strong></td>
<td>Помечает закрытый ключ как экспортируемый.</td>
</tr>
<tr class="even">
<td><strong>-r</strong></td>
<td>создает самозаверяющий сертификат;</td>
</tr>
<tr class="odd">
<td><strong>-SC</strong> <strong></strong> <em>Субжектцертфиле</em></td>
<td>Имя файла сертификата с существующим открытым ключом субъекта для использования.</td>
</tr>
<tr class="even">
<td><strong>-SK</strong> <strong></strong> <em>Субжекткэй</em></td>
<td>Расположение контейнера ключей субъекта, содержащего <a href="/windows/desktop/SecGloss/p-gly"><em>закрытый ключ</em></a>. Если контейнер ключей не существует, он будет создан. Если ни один из параметров <strong>-SK</strong> или <strong>-SV</strong> не используется, по умолчанию создается и используется контейнер ключей по умолчанию.</td>
</tr>
<tr class="odd">
<td><strong>-Небесный</strong> <strong></strong> <em>Субжекткэйспек</em></td>
<td>Спецификация ключа субъекта. <em>Субжекткэйспек</em> должно иметь одно из трех возможных значений:<br/>
<ul>
<li><strong>Signature</strong> (спецификация ключа AT_SIGNATURE)</li>
<li><strong>Exchange</strong> (спецификация ключа AT_KEYEXCHANGE)</li>
<li>Целое число, например <strong>3</strong></li>
</ul>
Дополнительные сведения см. в заметке, следующей за таблицей.<br/></td>
</tr>
<tr class="even">
<td><strong>— SP</strong> <strong></strong> <em>Субжектпровидернаме</em></td>
<td>Поставщик CryptoAPI для субъекта. По умолчанию используется поставщик пользователя. Дополнительные сведения о поставщиках CryptoAPI см. в документации по CryptoAPI 2.0.</td>
</tr>
<tr class="odd">
<td><strong>-SR</strong> <strong></strong> <em>Субжектцертсторелокатион</em></td>
<td>Расположение в реестре хранилища сертификатов субъекта. <em>Субжектцертсторелокатион</em> должен иметь значение <strong>LocalMachine</strong> (раздел реестра HKEY_LOCAL_MACHINE) или <strong>CurrentUser</strong> (раздел реестра HKEY_CURRENT_USER). Параметр <strong>CurrentUser</strong> используется по умолчанию.</td>
</tr>
<tr class="even">
<td><strong>-СС</strong> <strong></strong> <em>Субжектцертсторенаме</em></td>
<td>Имя хранилища сертификатов субъекта, в котором будет сохранен созданный сертификат.</td>
</tr>
<tr class="odd">
<td><strong>-ОКП</strong> <strong></strong> <em>Субжекткэйфиле</em></td>
<td>Имя файла. PVK субъекта. Если ни один из параметров <strong>-SK</strong> или <strong>-SV</strong> не используется, по умолчанию создается и используется контейнер ключей по умолчанию.</td>
</tr>
<tr class="even">
<td><strong>-SY</strong> <strong></strong> <em>нсубжектпровидертипе</em></td>
<td>Тип поставщика CryptoAPI для субъекта. Значение по умолчанию — <a href="/windows/desktop/SecGloss/p-gly"><em>PROV_RSA_FULL</em></a>. Дополнительные сведения о типах поставщиков CryptoAPI см. в документации по CryptoAPI 2.0.</td>
</tr>
<tr class="odd">
<td><strong>-#</strong><strong></strong> <em>Серийный</em> номер</td>
<td>Серийный номер сертификата. Максимальное значение равно 2 ^ 31. По умолчанию это значение, создаваемое средством, которое гарантированно уникально.</td>
</tr>
<tr class="even">
<td><strong>-$</strong><strong></strong> <em>CertificateAuthority</em></td>
<td>Тип <a href="/windows/desktop/SecGloss/c-gly"><em>центра сертификации</em></a>. Для <em>CertificateAuthority</em> должно быть задано значение <strong>коммерческая</strong> (для сертификатов, используемых коммерческими издателями) или <strong>индивидуально</strong> (для сертификатов, используемых отдельными издателями программного обеспечения).</td>
</tr>
<tr class="odd">
<td><strong>-?</strong></td>
<td>Отображает основные параметры.</td>
</tr>
<tr class="even">
<td><strong>-!</strong></td>
<td>Отображает расширенные параметры.</td>
</tr>
</tbody>
</table>



 

> [!Note]  
> Если в Internet Explorer версии 4,0 или более поздней используется параметр " **-Небесная** Спецификация ключа", спецификация должна соответствовать спецификации ключа, указанной в файле [*закрытого ключа*](../secgloss/p-gly.md) или в [*контейнере*](../secgloss/k-gly.md)закрытого ключа. Если параметр спецификации ключа не используется, будет использоваться ключевая спецификация, указанная в файле закрытого ключа или контейнере закрытого ключа. Если в контейнере ключей содержится более одной ключевой спецификации, то MakeCert сначала попытается использовать \_ спецификацию ключа подписи. В случае сбоя MakeCert попытается использовать по адресу \_ кэйексчанже. Так как большинство пользователей имеют либо \_ ключ подписи \_ , либо ключ кэйексчанже, в большинстве случаев этот параметр не требуется использовать.

 

Следующие параметры предназначены только для файлов [*сертификата издателя программного обеспечения*](../secgloss/s-gly.md) (SPC) и технологии закрытого ключа.



<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th>Параметр SPC и закрытый ключ</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>-IC</strong> <strong></strong> <em>Иссуерцертфиле</em></td>
<td>Расположение сертификата издателя.</td>
</tr>
<tr class="even">
<td><strong>-ОК</strong> <strong></strong> <em>Оба поля оставлены</em></td>
<td>Расположение контейнера ключей издателя. Значение по умолчанию — корневой ключ теста.</td>
</tr>
<tr class="odd">
<td><strong>-ИКИ</strong> <strong></strong> <em>Иссуеркэйспек</em></td>
<td>Спецификация ключа издателя, которая должна быть одним из трех возможных значений:<br/>
<ul>
<li><strong>Signature</strong> (спецификация ключа AT_SIGNATURE)</li>
<li><strong>Exchange</strong> (спецификация ключа AT_KEYEXCHANGE)</li>
<li>Целое число, например <strong>3</strong></li>
</ul>
Дополнительные сведения см. в заметке, следующей за таблицей.<br/></td>
</tr>
<tr class="even">
<td><strong>— IP-адрес</strong> <strong></strong> <em>Иссуерпровидернаме</em></td>
<td>Поставщик CryptoAPI для издателя. По умолчанию используется поставщик пользователя. Дополнительные сведения о поставщиках CryptoAPI см. в документации по CryptoAPI 2.0.</td>
</tr>
<tr class="odd">
<td><strong>-IV</strong> <strong></strong> <em>Иссуеркэйфиле</em></td>
<td>Файл закрытого ключа издателя. Значение по умолчанию — корень теста.</td>
</tr>
<tr class="even">
<td><strong>-ий</strong> <strong></strong> <em>ниссуерпровидертипе</em></td>
<td>Тип поставщика CryptoAPI для издателя. Значение по умолчанию — <a href="/windows/desktop/SecGloss/p-gly"><em>PROV_RSA_FULL</em></a>. Дополнительные сведения о типах поставщиков CryptoAPI см. в документации по CryptoAPI 2.0.</td>
</tr>
</tbody>
</table>



 

> [!Note]  
> Если параметр спецификации **-ИКИ** Key используется в Internet Explorer 4,0 или более поздней версии, спецификация должна соответствовать спецификации ключа, указанной в файле [*закрытого ключа*](../secgloss/p-gly.md) или в [*контейнере*](../secgloss/k-gly.md)закрытого ключа. Если параметр спецификации ключа не используется, будет использоваться ключевая спецификация, указанная в файле закрытого ключа или контейнере закрытого ключа. Если в контейнере ключей содержится более одной ключевой спецификации, то MakeCert сначала попытается использовать \_ спецификацию ключа подписи. В случае сбоя MakeCert попытается использовать по адресу \_ кэйексчанже. Так как большинство пользователей имеют либо \_ ключ подписи \_ , либо ключ кэйексчанже, в большинстве случаев этот параметр не требуется использовать.

 

Следующие параметры предназначены только для технологии [*хранилища сертификатов*](../secgloss/c-gly.md) .



| Параметр хранилища сертификатов          | Описание                                                                                                                                                                                                                                                                                                                              |
|-----------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **-IC** *иссуерцертфиле*          | Файл, содержащий сертификат издателя. MakeCert выполнит поиск сертификата в хранилище сертификатов с точным совпадением.                                                                                                                                                                                                        |
| **— в** *иссуернаместринг*        | Общее имя сертификата издателя. MakeCert выполнит поиск сертификата в хранилище сертификатов, общее имя которого включает *иссуернаместринг*.                                                                                                                                                                                  |
| **-IR** *иссуерцертсторелокатион* | Расположение в реестре хранилища сертификатов издателя. *Иссуерцертсторелокатион* должен иметь значение **LocalMachine** (локальный компьютер раздела реестра hKey \_ \_ ) или **CurrentUser** (раздел реестра hKey \_ текущий \_ пользователь). Параметр **CurrentUser** используется по умолчанию.                                                                                                |
| **—** *иссуерцертсторенаме*     | Хранилище сертификатов издателя, включающее сертификат издателя и связанные с ним сведения о закрытом ключе. Если в хранилище больше одного сертификата, пользователь должен однозначно идентифицировать его с помощью параметра **-IC** или **-in** . Если сертификат в хранилище сертификатов не определен уникальным образом, MakeCert завершится ошибкой. |



 

 

 
