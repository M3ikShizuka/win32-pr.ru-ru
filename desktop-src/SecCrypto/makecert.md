---
description: Создает сертификат X. 509, подписанный с помощью тестового корневого ключа или другого указанного ключа, который привязывает ваше имя к открытой части пары ключей. Сертификат сохраняется в файл, в хранилище системных сертификатов или в обоих случаях.
ms.assetid: a28e77dd-72c9-42a3-a72d-1b3eaf59d9cf
title: Программой
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2ff9fb79b5db5a6a71eee981166742b4e1680184
ms.sourcegitcommit: 9b5faa61c38b2d0c432b7f2dbee8c127b0e28a7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/19/2021
ms.locfileid: "122471930"
---
# <a name="makecert"></a>Программой

> [!Note]  
> Мы не рекомендуем использовать MakeCert. Чтобы создать самозаверяющие сертификаты, используйте командлет PowerShell [New-SelfSignedCertificate](/powershell/module/pki/new-selfsignedcertificate).

 

Средство MakeCert создает сертификат [*X. 509*](../secgloss/x-gly.md) , подписанный с помощью тестового корневого ключа или другого указанного ключа, который привязывает ваше имя к открытой части пары ключей. Сертификат сохраняется в файл, в хранилище системных сертификатов или в обоих случаях. это средство устанавливается в \\ папку Bin установочного пакета Microsoft Windows Software Development Kit (SDK).

Средство MakeCert использует следующий синтаксис команды:

**MakeCert** \[ *Басикоптионс* \| *Екстендедоптионс* \] *Выходной_файл*

*Выходной_файл* — это имя файла, в который будет записан сертификат. Если сертификат не должен записываться в файл, можно опустить *выходной_файл* .

## <a name="options"></a>Варианты

В состав MakeCert входят базовые и расширенные параметры. Основные параметры используются при создании сертификатов чаще всего. Дополнительные параметры обеспечивают более гибкое использование программы.

Параметры для MakeCert также делятся на три функциональные группы:

-   Основные параметры, относящиеся только к технологии хранилища сертификатов.
-   Расширенные параметры, характерные только для технологии SPC-File и закрытого ключа.
-   Расширенные параметры, применимые к технологии файлов SPC, закрытого ключа и хранилища сертификатов.

Параметры, приведенные в следующих таблицах, можно использовать только в Internet Explorer 4,0 или более поздней версии.




| Базовый параметр | Описание | 
|--------------|-------------|
| <strong>-a</strong> <strong></strong> <em>Алгоритм</em> | <a href="/windows/desktop/SecGloss/h-gly"><em>Хэш-</em></a> алгоритм. Необходимо задать значение <strong>SHA-1</strong> или <strong>MD5</strong> (по умолчанию). Сведения о MD5 см. в разделе <a href="/windows/desktop/SecGloss/m-gly"><em>MD5</em></a>. | 
| <strong>-б</strong> <strong></strong> <em>DateStart</em> | Дата, когда сертификат был первым действителен. Значение по умолчанию — при создании сертификата. Формат <em>DateStart</em> — mm/дд/гггг. | 
| <strong>-CY</strong> <strong></strong> <em>Цертификатетипес</em> | Тип сертификата. <em>Цертификатетипес</em> может быть <strong>закончена</strong> для конечного субъекта или <strong>центра</strong> <a href="/windows/desktop/SecGloss/c-gly"><em>сертификации</em></a>. | 
| <strong>-e</strong> <strong></strong> <em>DateEnd</em> | Дата окончания периода действия. Значение по умолчанию — год 2039. | 
| <strong>-EKU</strong> <strong></strong> <em>OID1</em><strong>,</strong><em>OID2</em> ... | Вставляет в сертификат список из одного или нескольких <a href="/windows/desktop/SecGloss/e-gly"><em></em></a><a href="/windows/desktop/SecGloss/o-gly"><em>идентификаторов объектов</em></a> с разделителями-запятыми (OID). Например, параметр <strong>-EKU 1.3.6.1.5.5.7.3.2</strong> вставляет OID проверки подлинности клиента. Определения допустимых OID см. в файле Винкрипт. h в CryptoAPI 2.0. | 
| <strong>-h</strong> <strong></strong> <em>Нумчилдрен</em> | Максимальная высота дерева ниже этого сертификата. | 
| <strong>-l</strong> <strong></strong> <em>Полицилинк</em> | Ссылка на сведения о политике Агентства SPC (например, URL-адрес). | 
| <strong>-m</strong> <strong></strong> <em>нмонсс</em> | Длительность периода действия. | 
| <strong>-n</strong><strong>"</strong><em>имя</em><strong>"</strong> | Имя сертификата издателя. Это имя должно соответствовать стандарту <a href="/windows/desktop/SecGloss/x-gly"><em>X. 500</em></a> . Самый простой способ — использовать формат "CN =<em>myname</em>". Например: <strong>-n "CN = test"</strong>. | 
| <strong>-НСКП</strong> | Необходимо добавить модуль проверки подлинности клиента Netscape. | 
| <strong>-PE</strong> | Помечает закрытый ключ как экспортируемый. | 
| <strong>-r</strong> | создает самозаверяющий сертификат; | 
| <strong>-SC</strong> <strong></strong> <em>Субжектцертфиле</em> | Имя файла сертификата с существующим открытым ключом субъекта для использования. | 
| <strong>-SK</strong> <strong></strong> <em>Субжекткэй</em> | Расположение контейнера ключей субъекта, содержащего <a href="/windows/desktop/SecGloss/p-gly"><em>закрытый ключ</em></a>. Если контейнер ключей не существует, он будет создан. Если ни один из параметров <strong>-SK</strong> или <strong>-SV</strong> не используется, по умолчанию создается и используется контейнер ключей по умолчанию. | 
| <strong>-Небесный</strong> <strong></strong> <em>Субжекткэйспек</em> | Спецификация ключа субъекта. <em>Субжекткэйспек</em> должно иметь одно из трех возможных значений:<br /><ul><li><strong>Signature</strong> (спецификация ключа AT_SIGNATURE)</li><li><strong>Exchange</strong> (спецификация AT_KEYEXCHANGE key)</li><li>Целое число, например <strong>3</strong></li></ul>Дополнительные сведения см. в заметке, следующей за таблицей.<br /> | 
| <strong>— SP</strong> <strong></strong> <em>Субжектпровидернаме</em> | Поставщик CryptoAPI для субъекта. По умолчанию используется поставщик пользователя. Дополнительные сведения о поставщиках CryptoAPI см. в документации по CryptoAPI 2.0. | 
| <strong>-SR</strong> <strong></strong> <em>Субжектцертсторелокатион</em> | Расположение в реестре хранилища сертификатов субъекта. <em>Субжектцертсторелокатион</em> должен иметь значение <strong>LocalMachine</strong> (раздел реестра HKEY_LOCAL_MACHINE) или <strong>CurrentUser</strong> (раздел реестра HKEY_CURRENT_USER). Параметр <strong>CurrentUser</strong> используется по умолчанию. | 
| <strong>-СС</strong> <strong></strong> <em>Субжектцертсторенаме</em> | Имя хранилища сертификатов субъекта, в котором будет сохранен созданный сертификат. | 
| <strong>-ОКП</strong> <strong></strong> <em>Субжекткэйфиле</em> | Имя файла. PVK субъекта. Если ни один из параметров <strong>-SK</strong> или <strong>-SV</strong> не используется, по умолчанию создается и используется контейнер ключей по умолчанию. | 
| <strong>-SY</strong> <strong></strong> <em>нсубжектпровидертипе</em> | Тип поставщика CryptoAPI для субъекта. Значение по умолчанию — <a href="/windows/desktop/SecGloss/p-gly"><em>PROV_RSA_FULL</em></a>. Дополнительные сведения о типах поставщиков CryptoAPI см. в документации по CryptoAPI 2.0. | 
| <strong>-#</strong><strong></strong><em>Номер</em> | Серийный номер сертификата. Максимальное значение равно 2 ^ 31. По умолчанию это значение, создаваемое средством, которое гарантированно уникально. | 
| <strong>-$</strong><strong></strong><em>CertificateAuthority</em> | Тип <a href="/windows/desktop/SecGloss/c-gly"><em>центра сертификации</em></a>. Для <em>CertificateAuthority</em> должно быть задано значение <strong>коммерческая</strong> (для сертификатов, используемых коммерческими издателями) или <strong>индивидуально</strong> (для сертификатов, используемых отдельными издателями программного обеспечения). | 
| <strong>-?</strong> | Отображает основные параметры. | 
| <strong>-!</strong> | Отображает расширенные параметры. | 




 

> [!Note]  
> Если в Internet Explorer версии 4,0 или более поздней используется параметр " **-Небесная** Спецификация ключа", спецификация должна соответствовать спецификации ключа, указанной в файле [*закрытого ключа*](../secgloss/p-gly.md) или в [*контейнере*](../secgloss/k-gly.md)закрытого ключа. Если параметр спецификации ключа не используется, будет использоваться ключевая спецификация, указанная в файле закрытого ключа или контейнере закрытого ключа. Если в контейнере ключей содержится более одной ключевой спецификации, то MakeCert сначала попытается использовать \_ спецификацию ключа подписи. В случае сбоя MakeCert попытается использовать по адресу \_ кэйексчанже. Так как большинство пользователей имеют либо \_ ключ подписи \_ , либо ключ кэйексчанже, в большинстве случаев этот параметр не требуется использовать.

 

следующие параметры предназначены только для файлов [*программного обеспечения Publisher сертификатов*](../secgloss/s-gly.md) (SPC) и технологии закрытого ключа.




| Параметр SPC и закрытый ключ | Описание | 
|----------------------------|-------------|
| <strong>-IC</strong> <strong></strong> <em>Иссуерцертфиле</em> | Расположение сертификата издателя. | 
| <strong>-ОК</strong> <strong></strong> <em>Оба поля оставлены</em> | Расположение контейнера ключей издателя. Значение по умолчанию — корневой ключ теста. | 
| <strong>-ИКИ</strong> <strong></strong> <em>Иссуеркэйспек</em> | Спецификация ключа издателя, которая должна быть одним из трех возможных значений:<br /><ul><li><strong>Signature</strong> (спецификация ключа AT_SIGNATURE)</li><li><strong>Exchange</strong> (спецификация AT_KEYEXCHANGE key)</li><li>Целое число, например <strong>3</strong></li></ul>Дополнительные сведения см. в заметке, следующей за таблицей.<br /> | 
| <strong>— IP-адрес</strong> <strong></strong> <em>Иссуерпровидернаме</em> | Поставщик CryptoAPI для издателя. По умолчанию используется поставщик пользователя. Дополнительные сведения о поставщиках CryptoAPI см. в документации по CryptoAPI 2.0. | 
| <strong>-IV</strong> <strong></strong> <em>Иссуеркэйфиле</em> | Файл закрытого ключа издателя. Значение по умолчанию — корень теста. | 
| <strong>-ий</strong> <strong></strong> <em>ниссуерпровидертипе</em> | Тип поставщика CryptoAPI для издателя. Значение по умолчанию — <a href="/windows/desktop/SecGloss/p-gly"><em>PROV_RSA_FULL</em></a>. Дополнительные сведения о типах поставщиков CryptoAPI см. в документации по CryptoAPI 2.0. | 




 

> [!Note]  
> Если параметр спецификации **-ИКИ** Key используется в Internet Explorer 4,0 или более поздней версии, спецификация должна соответствовать спецификации ключа, указанной в файле [*закрытого ключа*](../secgloss/p-gly.md) или в [*контейнере*](../secgloss/k-gly.md)закрытого ключа. Если параметр спецификации ключа не используется, будет использоваться ключевая спецификация, указанная в файле закрытого ключа или контейнере закрытого ключа. Если в контейнере ключей содержится более одной ключевой спецификации, то MakeCert сначала попытается использовать \_ спецификацию ключа подписи. В случае сбоя MakeCert попытается использовать по адресу \_ кэйексчанже. Так как большинство пользователей имеют либо \_ ключ подписи \_ , либо ключ кэйексчанже, в большинстве случаев этот параметр не требуется использовать.

 

Следующие параметры предназначены только для технологии [*хранилища сертификатов*](../secgloss/c-gly.md) .



| Параметр хранилища сертификатов          | Описание                                                                                                                                                                                                                                                                                                                              |
|-----------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **-IC** *иссуерцертфиле*          | Файл, содержащий сертификат издателя. MakeCert выполнит поиск сертификата в хранилище сертификатов с точным совпадением.                                                                                                                                                                                                        |
| **— в** *иссуернаместринг*        | Общее имя сертификата издателя. MakeCert выполнит поиск сертификата в хранилище сертификатов, общее имя которого включает *иссуернаместринг*.                                                                                                                                                                                  |
| **-IR** *иссуерцертсторелокатион* | Расположение в реестре хранилища сертификатов издателя. *Иссуерцертсторелокатион* должен иметь значение **LocalMachine** (локальный компьютер раздела реестра hKey \_ \_ ) или **CurrentUser** (раздел реестра hKey \_ текущий \_ пользователь). Параметр **CurrentUser** используется по умолчанию.                                                                                                |
| **—** *иссуерцертсторенаме*     | Хранилище сертификатов издателя, включающее сертификат издателя и связанные с ним сведения о закрытом ключе. Если в хранилище больше одного сертификата, пользователь должен однозначно идентифицировать его с помощью параметра **-IC** или **-in** . Если сертификат в хранилище сертификатов не определен уникальным образом, MakeCert завершится ошибкой. |



 

 

 
