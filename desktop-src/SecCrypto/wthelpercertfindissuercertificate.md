---
description: Находит сертификат издателя из указанных хранилищ сертификатов, который соответствует указанному сертификату субъекта.
ms.assetid: c724f602-fc73-4857-941f-0f22a9e472d1
title: Функция Вселперцертфиндиссуерцертификате
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- WTHelperCertFindIssuerCertificate
api_type:
- DllExport
api_location:
- Wintrust.dll
ms.openlocfilehash: 99135ac22509b288726732ca4a16248b304f294b
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127461392"
---
# <a name="wthelpercertfindissuercertificate-function"></a>Функция Вселперцертфиндиссуерцертификате

\[Функция **вселперцертфиндиссуерцертификате** доступна для использования в операционных системах, указанных в разделе требования. В последующих версиях он может быть изменен или недоступен.\]

Функция **вселперцертфиндиссуерцертификате** находит сертификат издателя из указанных хранилищ сертификатов, который соответствует указанному сертификату субъекта.

> [!Note]  
> Эта функция не имеет связанной библиотеки импорта. Для динамической привязки к Wintrust.dll необходимо использовать функции [**LoadLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) и [**GetProcAddress**](/windows/win32/api/libloaderapi/nf-libloaderapi-getprocaddress) .

 

## <a name="syntax"></a>Синтаксис


```C++
PCCERT_CONTEXT WINAPI WTHelperCertFindIssuerCertificate(
  _In_      PCCERT_CONTEXT pChildContext,
  _In_      DWORD          chStores,
  _In_      HCERTSTORE     *pahStores,
  _In_      FILETIME       *psftVerifyAsOf,
  _In_      DWORD          dwEncoding,
  _Out_opt_ DWORD          *pdwConfidence,
  _Out_     DWORD          *dwError
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*пчилдконтекст* \[ окне\]
</dt> <dd>

Сертификат субъекта, для которого необходимо найти соответствующий сертификат издателя.

</dd> <dt>

*чсторес* \[ окне\]
</dt> <dd>

Число элементов в массиве *пахсторес* .

</dd> <dt>

*пахсторес* \[ окне\]
</dt> <dd>

Массив хранилищ сертификатов, в котором выполняется поиск.

</dd> <dt>

*псфтверифясоф* \[ окне\]
</dt> <dd>

Время проверки.

</dd> <dt>

*двенкодинг* \[ окне\]
</dt> <dd>

Значение **типа DWORD** , указывающее типы кодировки проверяемого сертификата. Дополнительные сведения о возможных типах кодировок см. в разделе [типы кодирования сертификатов и сообщений](certificate-and-message-encoding-types.md).

</dd> <dt>

*пдвконфиденце* \[ out, необязательно\]
</dt> <dd>

Этот параметр может быть побитовой комбинацией из следующих значений достоверности, равных нулю или более.



| Значение                                                                                                                                                                                                                                                                 | Значение                                                                                         |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------|
| <span id="CERT_CONFIDENCE_SIG"></span><span id="cert_confidence_sig"></span><dl> <dt>**Сертификат \_ \_Подпись достоверности**</dt> <dt> 0x10000000</dt> </dl>                     | Подпись сертификата действительна.<br/>                                           |
| <span id="CERT_CONFIDENCE_TIME"></span><span id="cert_confidence_time"></span><dl> <dt>**Сертификат \_ ДОСТОВЕРНОсть \_ времени**</dt> <dt> 0x01000000</dt> </dl>                  | Допустимое время издателя сертификата.<br/>                                         |
| <span id="_CERT_CONFIDENCE_TIMENEST"></span><span id="_cert_confidence_timenest"></span><dl> <dt> **\_ Достоверность сертификата \_ тименест**</dt> <dt>0x00100000</dt> </dl>    | Срок действия сертификата действителен.<br/>                                                |
| <span id="_CERT_CONFIDENCE_AUTHIDEXT"></span><span id="_cert_confidence_authidext"></span><dl> <dt> **\_ Достоверность сертификата \_ аусидекст**</dt> <dt>0x00010000</dt> </dl> | Расширение идентификатора центра сертификации является допустимым.<br/>                                                 |
| <span id="_CERT_CONFIDENCE_HYGIENE"></span><span id="_cert_confidence_hygiene"></span><dl> <dt> **\_ Достоверность сертификата \_ санации**</dt> <dt>0x00001000</dt> </dl>       | Как минимум, подпись сертификата и расширения центра сертификации действительна.<br/> |
| <span id="_CERT_CONFIDENCE_HIGHEST"></span><span id="_cert_confidence_highest"></span><dl> <dt> **\_ Достоверность \_ сертификата — самый**</dt> <dt>0x11111000</dt> </dl>       | Сочетание всех других значений достоверности.<br/>                                 |



 

</dd> <dt>

*дверрор* \[ заполняет\]
</dt> <dd>

Указатель на переменную **типа DWORD** , которая содержит значение ошибки для этого сертификата, если применимо.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Сертификат издателя, соответствующий сертификату субъекта, указанному параметром *пчилдконтекст* .

## <a name="remarks"></a>Remarks

Для успешного поиска соответствующего сертификата издателя должны выполняться следующие требования.

-   Подпись сертификата субъекта, указанного параметром *пчилдконтекст* , должна быть допустимой.
-   Член **ржекстенсион** элемента **пцертинфо** в параметре *пчилдконтекст* должен содержать структуру [**\_ \_ \_ \_ сведений об идентификаторе ключа центра сертификации**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_authority_key_id_info) . Члены этой структуры, **цертиссуер** и **цертсериалмембер** , значительно соответствуют соответствующим элементам для сертификата издателя.
-   Значение параметра *псфтверифясоф* должно быть в пределах срока действия сертификата субъекта.
-   Срок действия сертификата субъекта должен быть в пределах срока действия сертификата издателя.

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|-----------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows \[Только классические приложения XP\]<br/>                                             |
| Минимальная версия сервера<br/> | Windows Только для \[ настольных приложений сервера 2003\]<br/>                                    |
| DLL<br/>                      | <dl> <dt>Wintrust.dll</dt> </dl> |



 

 
