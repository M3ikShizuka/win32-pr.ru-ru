---
description: Описывает архитектуру системы CryptoAPI.
ms.assetid: 244329bb-fc71-4ab9-8831-a9478108ffa3
title: Архитектура системы CryptoAPI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 86d5dcf1756c9b581d75d4e52d57fbce089976a3
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104343142"
---
# <a name="cryptoapi-system-architecture"></a>Архитектура системы CryptoAPI

Архитектура системы CryptoAPI состоит из пяти основных функциональных областей:

-   [Базовые криптографические функции](#base-cryptographic-functions)
-   [Функции шифрования и расшифровки сертификатов](#certificate-encodedecode-functions)
-   [Функции хранилища сертификатов](#certificate-store-functions)
-   [Упрощенные функции сообщений](#simplified-message-functions)
-   [Низкоуровневые функции сообщений](#low-level-message-functions)

## <a name="base-cryptographic-functions"></a>Базовые криптографические функции

-   *Функции контекста* , используемые для подключения к CSP. Эти функции позволяют приложениям выбрать конкретного CSP по имени или выбрать конкретного CSP, который может предоставить необходимый класс функциональных возможностей.
-   [*Функции создания ключей*](../secgloss/k-gly.md) , используемые для создания и хранения [*криптографических ключей*](../secgloss/c-gly.md). Полная поддержка включает в себя изменение [*режимов цепочки*](../secgloss/c-gly.md), [*векторов инициализации*](../secgloss/i-gly.md)и других функций шифрования. Дополнительные сведения см. в разделе [Создание ключей и функции Exchange](cryptography-functions.md).
-   *Функции обмена ключами* , используемые для обмена или передачи ключей. Дополнительные сведения см. в статьях [Хранение криптографических ключей и Exchange](cryptographic-key-storage-and-exchange.md) , [Создание ключей и функции Exchange](cryptography-functions.md).

## <a name="certificate-encodedecode-functions"></a>Функции шифрования и расшифровки сертификатов

-   Функции, используемые для шифрования или расшифровки данных. Также включена поддержка [*хэширования*](../secgloss/h-gly.md) данных. Дополнительные сведения см. в разделе [функции шифрования и расшифровки данных](cryptography-functions.md) , а затем — [Шифрование и расшифровка данных](data-encryption-and-decryption.md).

## <a name="certificate-store-functions"></a>Функции хранилища сертификатов

-   Функции, используемые для управления коллекциями цифровых сертификатов. Дополнительные сведения см. в статье [цифровые сертификаты](digital-certificates.md) и [функции хранилища сертификатов](cryptography-functions.md).

## <a name="simplified-message-functions"></a>Упрощенные функции сообщений

-   Функции, используемые для шифрования и расшифровки сообщений и данных.
-   Функции, используемые для подписи сообщений и данных.
-   Функции, используемые для проверки подлинности подписей в полученных сообщениях и связанных данных.

Дополнительные сведения см. в разделе [упрощенные сообщения](simplified-messages.md) и [упрощенные функции сообщений](cryptography-functions.md).

## <a name="low-level-message-functions"></a>Низкоуровневые функции сообщений

-   Функции, используемые для выполнения всех задач, выполняемых упрощенными функциями сообщений. Низкоуровневые функции сообщений обеспечивают большую гибкость, чем упрощенные функции сообщений, но требует больше вызовов функций. Дополнительные сведения см. в разделе [сообщения низкого уровня](low-level-messages.md) и [низкоуровневые функции сообщений](cryptography-functions.md).

![Архитектура CryptoAPI](images/cryparch.png)

Каждая из функциональных областей содержит ключевое слово в имени функции, которое указывает на свою функциональную область.



| Функциональная область              | Соглашение об именах функций |
|------------------------------|--------------------------|
| Базовые криптографические функции | Загадоч                    |
| Функции кодирования и декодирования  | Загадоч                    |
| Функции хранилища сертификатов  | Магазин                    |
| Упрощенные функции сообщений | Сообщение                  |
| Низкоуровневые функции сообщений  | Об                      |



 

Приложения используют функции во всех этих областях. Эти функции вместе составляют интерфейс CryptoAPI. [*Базовые криптографические функции*](../secgloss/b-gly.md) используют CSP для необходимых криптографических алгоритмов, а также для создания и безопасного хранения [криптографических ключей](cryptographic-keys.md).

Используются два различных типа криптографических ключей: [*ключи сеанса*](../secgloss/s-gly.md), которые используются для одной пары шифрования и расшифровки, а [*открытые и закрытые*](../secgloss/p-gly.md)ключи, которые используются на более постоянной основе.

> [!Note]  
> Хотя приложение может напрямую взаимодействовать с любой из пяти функциональных областей, оно не может напрямую взаимодействовать с CSP. Обмен данными между приложениями и CSP осуществляется через [*базовые криптографические функции*](../secgloss/b-gly.md). Базовые криптографические функции имеют параметр, указывающий используемый CSP. Этому параметру можно присвоить **значение NULL** , чтобы выбрать CSP по умолчанию.

 

 

 
