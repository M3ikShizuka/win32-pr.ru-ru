---
title: Синтаксис
description: Ниже приведен синтаксис вызова FXC.exe, средства-компилятора Effect. Пример см. в разделе автономная компиляция.
ms.assetid: 3aee89bd-02e1-4de1-8552-ba36814f8464
keywords:
- fxc, синтаксис
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cb39d261b239c44a02ee784f9b8c65483bbe70c1a5e9fbaf5c9c360c8272b2ed
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "117722411"
---
# <a name="syntax"></a>Синтаксис

Ниже приведен синтаксис вызова FXC.exe, средства-компилятора Effect. Пример см. в разделе [Автономная компиляция](dx-graphics-tools-fxc-using.md).

-   [Использование](#usage)
-   [Аргументы](#arguments)
-   [Замечания](#remarks)
-   [Профили](#profiles)
-   [Заметки о версии](#version-notes)
-   [Связанные темы](#related-topics)

## <a name="usage"></a>Использование

**fxc** *свитчоптионс* *имена файлов*

## <a name="arguments"></a>Аргументы
Разделите каждый параметр Switch с пробелом или двоеточием.

### <a name="switchoptions"></a>*свитчоптионс*
\[в \] параметрах компиляции. Существует только один обязательный параметр, и многие другие являются необязательными. Разделяйте их пробелами или двоеточиями.

#### <a name="required-option"></a>Обязательный параметр
##### <a name="t-profile"></a>/T <*профиль*>
Модель шейдера (см. [Профили](#profiles)).

#### <a name="optional-options"></a>Необязательные параметры
##### <a name="-help"></a>/?, /help
Печать справки для `FXC.exe` .

##### <a name="commandoptionfile"></a>@<*Command. параметр. File*>
Файл, содержащий дополнительные параметры компиляции. Этот параметр можно использовать совместно с другими параметрами компиляции командной строки. *Команда. параметр. File* должна содержать только один параметр в строке. *Команда. параметр. File* не может содержать пустые строки. Параметры, указанные в файле, не должны содержать начальных и конечных пробелов.

##### <a name="all_resources_bound"></a>/all_resources_bound
Включить агрессивное сведение в SM 5.1 +. Новое для Direct3D 12.

##### <a name="cc"></a>/CC
Выходная цветовая кодировка сборки.

##### <a name="compress"></a>/compress
Сжимать байты СОДЕРЖИМЫМ DX10 шейдера из файлов.

##### <a name="d-idtext"></a>/D < >=< *текст* идентификатора>
Определить макрос.

##### <a name="decompress"></a>/декомпресс
Распаковать байтовый код шейдера СОДЕРЖИМЫМ DX10 из первого файла. Выходные файлы должны быть перечислены в том порядке, в котором они были в процессе сжатия.

##### <a name="dumpbin"></a>/думпбин
Загружает двоичный файл, а не компилирует шейдер.

##### <a name="e-name"></a>/E <name>
Точка входа шейдера. Если точка входа не указана, **основным** считается именем записи шейдера.

##### <a name="enable_unbounded_descriptor_tables"></a>/enable_unbounded_descriptor_tables
Включает неограниченные таблицы дескрипторов. Новое для Direct3D 12.

##### <a name="extractrootsignature-file"></a>*файл* </екстрактрутсигнатуре>
Извлечение корневой сигнатуры из байтового кода шейдера. Новое для Direct3D 12.

##### <a name="fc-file"></a>*Файл* </FC>
Выходной файл листинга кода сборки.

##### <a name="fd-file"></a>/FD <*файл*>
Извлечение сведений о базе данных программы шейдера (PDB) и запись в заданный файл. При компиляции шейдера используйте параметр/FD для создания PDB-файла с отладочными сведениями шейдера.

##### <a name="fe-file"></a>*Файл* </Fe>
Выводить предупреждения и ошибки в заданный файл.

##### <a name="fh-file"></a>*Файл* </ФХ>
Выходной файл заголовка, содержащий объектный код.

##### <a name="fl-file"></a>*Файл* </ФЛ
Вывод библиотеки. Требуется D3dcompiler \_47.dll или более поздней версии библиотеки DLL.

##### <a name="fo-file"></a>/FO <*файл*>
Выходной файл объекта. Часто получается расширение &quot; . fxc &quot; , хотя используются другие расширения, такие как &quot; . o &quot; , &quot; . obj &quot; или &quot; . dxbc &quot; .

##### <a name="fx-file"></a>*Файл* </FX>
Выходной код сборки и шестнадцатеричный файл листинга.

##### <a name="gch"></a>/гч
Компилировать как дочерний результат для профилей fx_4_x.

> [!NOTE]
> Поддержка профилей устаревших эффектов устарела.

##### <a name="gdp"></a>/гдп
Отключить режим производительности влияния.

##### <a name="gec"></a>/жек
Включить режим обратной совместимости.

##### <a name="ges"></a>/жес
Включить режим "в режиме".

##### <a name="getprivate-file"></a>*файл* </жетпривате>
Сохранение закрытых данных из большого двоичного объекта шейдера (скомпилированного двоичного шейдера) в заданный файл. Извлекает из большого двоичного объекта шейдера закрытые данные, ранее внедренные с помощью/сетпривате.

Необходимо указать параметр/думпбин с/жетпривате. Например:

```console
fxc /getprivate ps01.private.data 
    /dumpbin ps01.with.private.obj
```
    
##### <a name="gfa"></a>/гфа
Избегайте конструкций управления потоком.

##### <a name="gfp"></a>/GFP
Предпочитать конструкции управления потоком.

##### <a name="gis"></a>/гис
Принудительно использовать IEEE.

##### <a name="gpp"></a>/гпп
Принудительная частичная точность.
    
##### <a name="i-include"></a>/I <*включить*>
Дополнительный путь включения.

##### <a name="lx"></a>/лкс
Выходные шестнадцатеричные литералы. Требуется D3dcompiler \_47.dll или более поздней версии библиотеки DLL.

##### <a name="matchuavs"></a>/матчуавс
Соответствие выделениям слотов UAVа шаблона в текущем шейдере. Дополнительные сведения см. в разделе <a href="#remarks">Примечания</a>.

##### <a name="mergeuavs"></a>/мержеуавс
Слияние выделения слота UAV для шаблона шейдера и текущего шейдера. Дополнительные сведения см. в разделе <a href=""></a> <a href="#remarks">Примечания</a>.

##### <a name="ni"></a>/ни
Выходные номера инструкций в листингах сборок.

##### <a name="no"></a>/но
Смещение в байтах для инструкций вывода в листингах сборок. При создании сборки используйте/но, чтобы добавить к ней смещение в байтах для каждой инструкции.

##### <a name="nologo"></a>/nologo
Позволяет запретить вывод сообщения об авторских правах.

##### <a name="od"></a>/Od
Отключает оптимизацию. /OD подразумевает/GFP, хотя вывод может не совпадать с/OD/ГФП.

##### <a name="op"></a>/Op
Отключить предшейдеры (не рекомендуется).

##### <a name="o0-o1-o2-o3"></a>/O0/O1,/O2,/O3
Уровни оптимизации. Параметр o1 используется по умолчанию.
- O0 — отключает изменение порядка команд. Это помогает сократить нагрузку при регистрации и обеспечивает более быстрое моделирование цикла.
- O1 — отключает изменение порядка команд для ps_3_0 и выше.
- O2 — то же, что и O1. Зарезервировано для последующего использования.
- O3 — то же, что и O1. Зарезервировано для последующего использования.

##### <a name="p-file"></a>/P <*файл*>
Предварительная обработка в файле (должна использоваться отдельно).

##### <a name="qstrip_debug"></a>/Qstrip_debug
Удалить отладочные данные из байтового кода шейдера для профилей 4_0 и.

##### <a name="qstrip_priv"></a>/Qstrip_priv
Удалите закрытые данные из байтового кода шейдера 4_0 +. Удаляет закрытые данные (произвольную последовательность байтов) из большого двоичного объекта шейдера (скомпилированного двоичного шейдера), внедренного ранее с `/setprivate <file>` параметром.

Необходимо указать параметр/думпбин с/Qstrip_priv. Например:

```console
fxc /Qstrip_priv /dumpbin /Fo ps01.no.private.obj 
    ps01.with.private.obj
```

##### <a name="qstrip_reflect"></a>/Qstrip_reflect
Чередование данных отражения из байтового кода шейдера для профилей 4_0 и.

##### <a name="qstrip_rootsignature"></a>/Qstrip_rootsignature
Удалить корневую подпись из байтового кода шейдера. Новое для Direct3D 12.

##### <a name="res_may_alias"></a>/res_may_alias
Предположим, что Уавс/СРВС может быть псевдонимом для cs_5_0 +. Требуется D3dcompiler \_47.dll или более поздней версии библиотеки DLL.

##### <a name="setprivate-file"></a>*файл* </сетпривате>
Добавление закрытых данных в заданном файле в скомпилированный BLOB-объект шейдера. Внедряет заданный файл, который рассматривается как необработанный буфер, в большой двоичный объект шейдера. Используйте/сетпривате для добавления частных данных при компиляции шейдера. Либо используйте параметр/думпбин с/сетпривате для загрузки существующего объекта шейдера, а затем после того, как объект находится в памяти, чтобы добавить закрытый BLOB-объект данных. Например, можно использовать одну команду с/сетпривате, чтобы добавить закрытые данные в скомпилированный BLOB-объект шейдера:

```console
fxc /T ps_4_0 /Fo ps01.with.private.obj ps01.fx 
    /setprivate ps01.private.data
```
    
Или используйте две команды, где вторая команда загружает объект шейдера, а затем добавляет закрытые данные:

```console
fxc /T ps_4_0 /Fo ps01.no.private.obj ps01.fx
fxc /dumpbin /Fo ps01.with.private.obj ps01.no.private.obj 
    /setprivate ps01.private.data
```
    
##### <a name="setrootsignature-file"></a>*файл* </setrootsignature>
Добавляет корневую подпись к байт-коду шейдера. Новое для Direct3D 12.

##### <a name="shtemplate-file"></a>*файл* </штемплате>
Используйте заданный файл шейдера шаблона для слияния (/Мержеуавс) и сопоставления (/Матчуавс) ресурсов. Дополнительные сведения см. в разделе <a href="#remarks">Примечания</a>.

##### <a name="vd"></a>/вд
Отключить проверку.

##### <a name="verifyrootsignature-file"></a>*файл* </верифирутсигнатуре>
Проверьте байты шейдера на соответствие корневой подписи. Новое для Direct3D 12.

##### <a name="vi"></a>/ви
Отображение сведений о процессе включения.

##### <a name="vn-name"></a>*Имя* </VN>
Используйте имя в качестве имени переменной в файле заголовка.

##### <a name="wx"></a>/WX
Обрабатывать предупреждения как ошибки.

##### <a name="zi"></a>/ZI
Включает сведения об отладке.

##### <a name="zpc"></a>/зпк
Матрицы упаковки в столбце — основной порядок.

##### <a name="zpr"></a>/зпр
Матрицы упаковки в основном порядке строк.

### <a name="filenames"></a>*Имена файлов*

\[в \] файлах, содержащих шейдеры и (или) эффекты.

## <a name="remarks"></a>Remarks

Используйте `/mergeUAVs` Параметры, `/matchUAVs` и `/shtemplate` для согласования слотов привязки UAV для цепочки шейдеров.

Предположим, у вас есть шейдеры A. FX, B. FX и C. FX. Чтобы вычислить области привязки UAV для этой цепочки шейдеров, необходимы два прохода компиляции:

**Выровняйте слоты привязки UAV для цепочки шейдеров**

1.  Используйте/Мержеуавс для компиляции шейдеров и укажите ранее скомпилированный большой двоичный объект шейдера с помощью/штемплате. Например:
    ```
    fxc.exe /T cs_5_0 C.fx /Fo C.o /mergeUAVs /shtemplate Btmp.o
    ```
2.  Используйте/Матчуавс для компиляции шейдеров и укажите последний большой двоичный объект шейдера из первого прохода с помощью/штемплате. Можно компилировать в любом порядке. Например:
    ```
    fxc.exe /T cs_5_0 A.fx /Fo A.o /matchUAVs /shtemplate C.o
    ```
При втором прохождении повторной компиляции C. FX не требуется.

После выполнения предыдущих двух проходов компиляции можно использовать A. o, B. o и C. o в качестве итоговых больших двоичных объектов шейдера с согласованными UAV слотами.

## <a name="profiles"></a>Профили

Каждая модель шейдеров помечена профилем HLSL. Чтобы скомпилировать шейдер на основе определенной модели шейдера, выберите соответствующий профиль шейдера из следующей таблицы.

<table><thead><tr class="header"><th>Тип шейдера</th><th>Профили</th></tr></thead><tbody><tr class="odd"><td>Вычисление шейдера</td><td><dl> cs_4_0<br />
cs_4_1<br />
cs_5_0<br />
cs_5_1<br />
</dl></td></tr><tr class="even"><td>Шейдер доменов</td><td><dl> ds_5_0<br />
ds_5_1<br />
</dl></td></tr><tr class="odd"><td>Шейдер геометрии</td><td><dl> gs_4_0<br />
gs_4_1<br />
gs_5_0<br />
gs_5_1<br />
</dl></td></tr><tr class="even"><td>Связывание шейдера HLSL </td><td><dl> lib_4_0<br />
lib_4_1<br />
lib_4_0_level_9_1<br />
lib_4_0_level_9_1_vs_only<br />
lib_4_0_level_9_1_ps_only<br />
lib_4_0_level_9_3<br />
lib_4_0_level_9_3_vs_only<br />
lib_4_0_level_9_3_ps_only<br />
lib_5_0<br />
</dl> Дополнительные сведения о связывании шейдеров см. в разделе <a href="/windows/desktop/api/d3d11shader/nn-d3d11shader-id3d11linker"><strong>ID3D11Linker</strong></a> и <a href="/windows/desktop/api/d3d11shader/nn-d3d11shader-id3d11functionlinkinggraph"><strong>ID3D11FunctionLinkingGraph</strong></a>. <br/></td></tr><tr class="odd"><td>Шейдер поверхности</td><td><dl> hs_5_0<br />
hs_5_1<br />
</dl></td></tr><tr class="even"><td>Построитель текстуры</td><td><dl> ps_2_0<br />
ps_2_a<br />
ps_2_b<br />
ps_2_sw<br />
ps_3_0<br />
ps_3_sw<br />
ps_4_0<br />
ps_4_0_level_9_0<br />
ps_4_0_level_9_1<br />
ps_4_0_level_9_3<br />
ps_4_1<br />
ps_5_0<br />
ps_5_1<br />
</dl></td></tr><tr class="odd"><td>Корневая подпись</td><td><dl> rootsig_1_0<br />
</dl></td></tr><tr class="even"><td>Шейдер текстуры</td><td><dl> tx_1_0<br />
</dl></td></tr><tr class="odd"><td>Вершинный построитель текстуры</td><td><dl> vs_1_1<br />
vs_2_0<br />
vs_2_a<br />
vs_2_sw<br />
vs_3_0<br />
vs_3_sw<br />
vs_4_0<br />
vs_4_0_level_9_0<br />
vs_4_0_level_9_1<br />
vs_4_0_level_9_3<br />
vs_4_1<br />
vs_5_0<br />
vs_5_1<br />
</dl></td></tr></tbody></table>

## <a name="version-notes"></a>Заметки о версии

В Direct3D 12 см. [Указание корневых подписей в HLSL](/windows/desktop/direct3d12/specifying-root-signatures-in-hlsl), [Привязка ресурсов в HLSL](/windows/desktop/direct3d12/resource-binding-in-hlsl) и [динамическое индексирование с помощью HLSL 5,1](/windows/desktop/direct3d12/dynamic-indexing-using-hlsl-5-1).

В Direct3D 10 используйте API, чтобы получить вершину, геометрию и профиль пиксельного шейдера, которые лучше всего подходят для данного устройства, вызвав следующие функции: [**D3D10GetVertexShaderProfile**](/windows/desktop/api/d3d10shader/nf-d3d10shader-d3d10getvertexshaderprofile), [**D3D10GetPixelShaderProfile**](/windows/desktop/api/d3d10shader/nf-d3d10shader-d3d10getpixelshaderprofile)и [**D3D10GetGeometryShaderProfile**](/windows/desktop/api/d3d10shader/nf-d3d10shader-d3d10getgeometryshaderprofile).

В Direct3D 9 используйте методы [**жетдевицекапс**](/windows/desktop/api/d3d9/nf-d3d9-idirect3d9-getdevicecaps) или [**жетдевицекапс**](/windows/desktop/api/d3d9/nf-d3d9-idirect3ddevice9-getdevicecaps) для получения профилей вершин и пиксельных шейдеров, поддерживаемых устройством. Структура [**D3DCAPS9**](/windows/desktop/api/d3d9caps/ns-d3d9caps-d3dcaps9) , возвращаемая этими методами, указывает профили вершин и растрового шейдера, поддерживаемые устройством в его членах **вертексшадерверсион** и **пикселшадерверсион** .

Примеры см. [в разделе Компиляция с текущим компилятором](dx-graphics-tools-fxc-using.md).

## <a name="related-topics"></a>Связанные темы

* [Effect — средство компилятора](fxc.md)