---
description: Поставщики, если они не являются разъединенными поставщиками, работающими в приложении, загружаются в Wmiprvse.exe процесс, а не в Svchost.exe с Winmgmt.exeным процессом. Дополнительные сведения см. в разделе Размещение и безопасность поставщика.
ms.assetid: 8958669e-07e6-458c-a7f3-2df21cacc007
ms.tgt_platform: multiple
title: Отладка поставщиков
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3d9cadb72f512c22c56db2b546b7920b96bfbd4d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103991565"
---
# <a name="debugging-providers"></a>Отладка поставщиков

Поставщики, если они не являются [*разъединенными поставщиками*](gloss-d.md) , работающими в приложении, загружаются в Wmiprvse.exe процесс, а не в Svchost.exe с Winmgmt.exeным процессом. Дополнительные сведения см. в разделе [размещение и безопасность поставщика](provider-hosting-and-security.md).

При остановке в точке останова отладчик Visual Studio замораживает весь ведущий процесс поставщика, который обычно является Wmiprvse.exeом общего узла. Это предотвращает работу любых других компонентов, размещенных в этом процессе, включая расширение WMI обозреватель сервера. Клиентские приложения, которые вызывают поставщик, также блокируются. В Windows 2000 и более ранних проблемах возникают проблемы, поскольку поставщик загружается в процесс службы WMI (Winmgmt.exe).

Если вы запускаете WMI обозреватель сервера в другом экземпляре, интегрированная среда разработки Visual Studio не зависает и вы можете освободить точку останова. Рекомендуется запускать поставщик в отдельном ведущем процессе на этапе разработки, чтобы остановка в точке останова замораживает только процесс, в котором размещен поставщик. Другие функции WMI по-прежнему доступны для обозреватель сервера WMI и любых других приложений или скриптов на основе WMI. Кроме того, если поставщик аварийно завершает работу, он не влияет на работу других поставщиков, загруженных в тот же ведущий процесс.

Чтобы обеспечить загрузку поставщика в собственном хосте процесса, измените регистрацию поставщика, чтобы задать для свойства [**\_ \_ Win32Provider. хостингмодел**](--win32provider.md) значение `NetworkServiceHost:[MyProvider]` , где мипровидер может быть любой строкой, однозначно идентифицирующей поставщик. Например, используйте значение **\_ \_ Win32Provider. CLSID** . Когда поставщик готов к отправке, возвратите **\_ \_ Win32Provider. хостингмодел** к предполагаемому значению, например **нетворксервицехост**.

Если отладка поставщика не выполняется, можно вызвать [**метод Load \_ класса поставщиков MSFT**](/previous-versions/windows/desktop/wmisystemprov/load-method-in-class-msft-providers) , чтобы принудительно загрузить поставщик, а затем присоединиться к Wmiprvse.exe процессу с загруженной библиотекой DLL и выполнить отладку по мере необходимости.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Устранение неполадок WMI](wmi-troubleshooting.md).
</dt> <dt>

[Классы устранения неполадок WMI](wmi-troubleshooting-classes.md)
</dt> </dl>

 

 
