---
title: Настройка безопасности при создании пространства имен
description: Файл MOF-файл (MOF), который создает пространство имен, также может определять дескрипторы безопасности для пространства имен, включая квалификатор Намеспацесекуритисддл с дескриптором безопасности в формате языка определения дескрипторов безопасности (SDDL).
ms.assetid: eeda3351-11ec-4064-90dd-f67ccf5c8cb6
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 004e1897553ef2ec0bd57067b17d714f6aaf8b17059c1078a2fc0da8a060a40f
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118315641"
---
# <a name="setting-security-on-namespace-creation"></a>Настройка безопасности при создании пространства имен

Файл MOF-файл (MOF), который создает пространство имен, также может определять [*дескрипторы безопасности*](/windows/desktop/SecGloss/s-gly) для пространства имен, включая квалификатор **намеспацесекуритисддл** с дескриптором безопасности в формате [языка определения дескрипторов безопасности (SDDL)](/windows/desktop/SecAuthZ/security-descriptor-definition-language) .

**Намеспацесекуритисддл** можно использовать для защиты любого пространства имен. Этот квалификатор также можно использовать в простом MOF-файле для изменения дескриптора безопасности существующего пространства имен. Строка SDDL обрабатывается WMI для установления безопасности пространства имен, но не хранится в виде строки. Если дескриптор безопасности не указан, используется безопасность по умолчанию. Дополнительные сведения см. в разделе [Настройка дескрипторов безопасности намепаце](setting-namespace-security-descriptors.md).

Следующая процедура задает дескриптор безопасности для *корневого пространства имен \\ MyNamespace* . Строка SDDL задает владельца и группу для пользователей, прошедших проверку подлинности, и указывает [*список управления доступом на уровне пользователей (DACL)*](/windows/desktop/SecGloss/d-gly) , наследуемый дочерними пространствами имен. DACL позволяет пользователю читать данные, выполнять методы, записывать данные в классы поставщиков и использовать удаленный доступ: **\_ Enable WBEM**, **\_ \_ выполнение метода WBEM**, **\_ \_ поставщик записи WBEM**, **\_ Удаленный \_ доступ WBEM**. Дополнительные сведения см. [в разделе доступ к пространствам имен WMI](access-to-wmi-namespaces.md).

**Задание DACL пространства имен**

1.  Создайте файл MOF-файл (MOF) или измените существующий MOF-файл, определяющий пространство имен, чтобы добавить квалификатор **намеспацесекуритисддл** со строкой SDDL.

    В следующем примере кода показано пространство имен, которое необходимо изменить, — root \\ MyNamespace, а файлу — MyNamespace \_ Security. mof.

    ```mof
    #pragma autorecover
    #pragma namespace("\\\\.\\root")
    [NamespaceSecuritySDDL ("O:BAG:BAD:(A;CI;0x60003;;;WD)")]
    Instance of __Namespace
    {
      Name = "MyNamespace";
    };
    ```

    

2.  Имейте в виду, что строка SDDL учитывает регистр: буквы должны быть прописными буквами.

    В следующем примере кода показаны буквы "o" и "g" в строке SDDL в нижнем регистре, что приведет к тому, что Mofcomp.exe будет возвращать ошибку.

    ```mof
    #pragma autorecover
    #pragma namespace("\\\\.\\root")
    [NamespaceSecuritySDDL("o:BAg:BAD:(A;CI;0x60003;;;WD)")] 
    Instance of __Namespace
    {
      Name = "MyNamespace";
    };
    ```

    

3.  Запустите [**Mofcomp.exe**](mofcomp.md) , чтобы скомпилировать MOF-файл.

    **c: \\ mofcomp MyNamespace \_ Security. mof**

    В C++ используйте методы [**имофкомпилер**](/windows/desktop/api/Wbemcli/nn-wbemcli-imofcompiler) .

4.  Если попытка задать DACL пространства имен не удалась, рассмотрите следующие сообщения об ошибках.

    

    | Error                           | Описание                                                                                                  |
    |---------------------------------|--------------------------------------------------------------------------------------------------------------|
    | **\_ \_ Недопустимый параметр "WBEM E" \_** | Унаследованные списки DACL отсутствуют. Кроме того, вызывающий объект нарушает список DACL или SD в родительском пространстве имен. |
    | **\_ \_ отказано в доступе к WBEM \_**     | Вызывающий объект не имеет разрешения на обновление SDDL в MOF.                                               |

    

     

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Задание дескрипторов безопасности пространства имен](setting-namespace-security-descriptors.md)
</dt> <dt>

[**Константы прав доступа к пространству имен**](namespace-access-rights-constants.md)
</dt> <dt>

[**Константы флагов пространства имен ACE**](namespace-ace-flag-constants.md)
</dt> <dt>

[Изменение параметров безопасности доступа для защищаемых объектов](changing-access-security-on-securable-objects.md)
</dt> </dl>

 

 
