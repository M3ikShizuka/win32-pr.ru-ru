---
description: В инфраструктуре WMI служба WMI (winmgmt) — это компонент операционной системы, который выступает в качестве медиатора между приложениями управления и поставщиками данных WMI. Репозиторий WMI — это область хранилища для статических данных, связанных с WMI.
ms.assetid: 6ef157be-fb75-4453-bc20-4568a3dc18c0
ms.tgt_platform: multiple
title: Инфраструктура WMI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0a2bc4492c7d26f422705863609a2e0ec19af5eb930e0aa80f4fd8bb8c26bea4
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119757334"
---
# <a name="wmi-infrastructure"></a>Инфраструктура WMI

В инфраструктуре WMI служба WMI (winmgmt) — это компонент операционной системы, который выступает в качестве медиатора между приложениями управления и [*поставщиками*](gloss-p.md)данных WMI. [*Репозиторий WMI*](gloss-w.md) — это область хранилища для статических данных, связанных с WMI.

Служба WMI реализуется как процесс службы в рамках процесса общего узла службы (SVCHOST). Дополнительные сведения см. в разделе [размещение и безопасность поставщика](provider-hosting-and-security.md).

Служба WMI запускается, когда первое приложение или сценарий управления вызывает подключение к пространству имен WMI. В зависимости от настройки Служба WMI может завершить работу или перейти в профиль нехватки памяти, если он не вызывается приложением управления.

Служба WMI взаимодействует с приложениями управления через интерфейс COM. Когда приложение выполняет запрос через интерфейс, WMI определяет, относится ли запрос к статическим или динамическим данным. Если запрос включает статические данные, например имя управляемого объекта, Инструментарий WMI получает данные из репозитория. Если запрос включает динамические данные, например объем памяти, который в настоящее время используется управляемым объектом, WMI передает запрос поставщику.

Поставщики регистрируют свое расположение в службе WMI, что позволяет инструментарию WMI маршрутизировать запросы данных. Поставщик также регистрирует поддержку определенных операций, таких как получение данных, изменение, удаление, перечисление или обработка запросов. Служба WMI использует сведения о регистрации поставщика для сопоставления запросов приложений с соответствующим поставщиком. Инструментарий WMI также использует сведения о регистрации для загрузки и выгрузки поставщиков при необходимости. Когда поставщик заканчивает обработку запроса, поставщик возвращает результат обратно в службу WMI. Затем WMI перенаправляет результат в приложение через интерфейс COM. Дополнительные сведения см. [в разделе Предоставление данных инструментарию WMI](providing-data-to-wmi.md).

Инструментарий WMI использует [трассировку событий](/windows/desktop/ETW/event-tracing-portal) (ETW) для записи действий службы WMI.

Поскольку инфраструктура обрабатывает весь трафик между поставщиками и приложениями управления, инфраструктура предоставляет следующие возможности:

-   Поддержка уведомлений о событиях

    Дополнительные сведения см. в разделе [наблюдение за событиями](monitoring-events.md).

-   Поддержка языка запросов

    Дополнительные сведения см. [в разделе запросы с помощью WQL](querying-with-wql.md).

-   Поддержка безопасности

    Дополнительные сведения см. в разделе [обслуживание безопасности WMI](maintaining-wmi-security.md).

-   Создание сценариев для доступа к данным счетчиков производительности

    Дополнительные сведения см. в разделе [наблюдение за данными производительности](monitoring-performance-data.md).

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Архитектура WMI](wmi-architecture.md)
</dt> </dl>

 

 
