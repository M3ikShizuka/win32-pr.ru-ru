---
description: Для регистрации постоянного потребителя событий требуется экземпляр \_ \_ класса System EventFilter.
ms.assetid: 369d3c28-2b69-456f-9144-d7c73e3123bc
ms.tgt_platform: multiple
title: Класс __EventFilter
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- __EventFilter
- All
- All
- All
- All
- All
- All
api_type:
- Schema
api_location:
- All
ms.openlocfilehash: 0316e158eb2098f89106c64ba0057f8d9b4fc26b
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105702565"
---
# <a name="__eventfilter-class"></a>\_\_Класс EventFilter

Для регистрации постоянного потребителя событий требуется экземпляр класса System **\_ \_ EventFilter** .

Приведенный ниже синтаксис является упрощенной версией кода MOF и включает все унаследованные свойства. Свойства перечислены в алфавитном порядке, а не в MOF.

## <a name="syntax"></a>Синтаксис

``` syntax
class __EventFilter : __IndicationRelated
{
  uint8  CreatorSID[] = {1,1,0,0,0,0,0,5,18,0,0,0};
  string EventAccess;
  string EventNamespace;
  string Name;
  string Query;
  string QueryLanguage;
};
```

## <a name="members"></a>Члены

Класс **\_ \_ EventFilter** имеет следующие типы членов:

-   [Свойства](#properties)

### <a name="properties"></a>Свойства

Класс **\_ \_ EventFilter** имеет следующие свойства.

<dl> <dt>

**креаторсид**
</dt> <dd> <dl> <dt>

Тип данных: массив **Uint8**
</dt> <dt>

Тип доступа: чтение и запись
</dt> </dl>

Идентификатор безопасности (SID), однозначно определяющий пользователя, который создает этот фильтр. Инструментарий управления Windows (WMI) (WMI) хранит идентификатор безопасности пользователя, который создает экземпляр **\_ \_ EventFilter** или идентификатор безопасности администратора в зависимости от операционной системы. Дополнительные сведения см. в статьях [Привязка фильтра событий к логическому потребителю](binding-an-event-filter-with-a-logical-consumer.md) и [мониторинг и реагирование на события с помощью стандартных потребителей](monitoring-and-responding-to-events-with-standard-consumers.md).

</dd> <dt>

**евентакцесс**
</dt> <dd> <dl> <dt>

Тип данных: **строка**
</dt> <dt>

Тип доступа: чтение и запись
</dt> </dl>

Дескриптор безопасности (SD) в языке определения дескрипторов безопасности (SDDL), который управляет доступом к событиям, доставляемым в фильтр. Используйте это свойство, чтобы указать, что в этот фильтр могут доставляться только события в контексте безопасности конкретных учетных записей. Например, постоянный потребитель событий может очищать журналы безопасности только в том случае, если конкретный пользователь создает определенное событие. Чтобы указать, кто может публиковать события в этом фильтре, используйте маску **\_ \_ публикации WBEM справа** в записи управления доступом (ACE) для свойства " [**\_ дескриптор безопасности**](--event.md) ". Дополнительные сведения см. в разделе [язык определения дескрипторов безопасности](/windows/desktop/SecAuthZ/security-descriptor-definition-language). Дополнительные сведения о константах, используемых для задания этого дескриптора безопасности, см. в разделе [константы безопасности WMI](wmi-security-constants.md). Дополнительные сведения и примеры см. в разделе Replace:[получение событий безопасно](receiving-events-securely.md).

Можно настроить дескриптор безопасности доступа к событиям, чтобы разрешить доставку события только в том случае, если локальная системная учетная запись создает событие. Дополнительные сведения о создании дескриптора безопасности и авторизации доступа см. в разделе [Управление доступом](/windows/desktop/SecAuthZ/access-control).

Пример. Следующая строка SDDL позволяет только администраторам предоставлять события в фильтре. Для предоставления событий требуется право на **\_ \_ публикацию WBEM** (x80).


```VB
O:BAG:BAD:(A;;0x80;;;BA)
```



</dd> <dt>

**евентнамеспаце**
</dt> <dd> <dl> <dt>

Тип данных: **строка**
</dt> <dt>

Тип доступа: чтение и запись
</dt> </dl>

Пространство имен экземпляра события, используемого для подписок между пространствами имен.

</dd> <dt>

**Name**
</dt> <dd> <dl> <dt>

Тип данных: **строка**
</dt> <dt>

Тип доступа: чтение и запись
</dt> <dt>

Квалификаторы: [ **ключ**](standard-qualifiers.md)
</dt> </dl>

Уникальный идентификатор фильтра событий. Поскольку фильтр событий используется только внутри инструментария WMI, рекомендуется присвоить этому свойству значение глобального уникального идентификатора (**GUID**), преобразованного в строку. Однако потребители могут использовать любую закрытую схему для имени фильтра, если нет конфликтов с другими фильтрами.

</dd> <dt>

**Запрос**
</dt> <dd> <dl> <dt>

Тип данных: **строка**
</dt> <dt>

Тип доступа: чтение и запись
</dt> </dl>

Запрос события языка запросов инструментарий управления Windows (WMI) (WQL), указывающий набор событий для уведомления потребителя и конкретные условия для уведомления.

</dd> <dt>

**куерилангуаже**
</dt> <dd> <dl> <dt>

Тип данных: **строка**
</dt> <dt>

Тип доступа: чтение и запись
</dt> </dl>

Язык, используемый для запроса. Так как инструментарий WMI в настоящее время поддерживает только язык запросов WMI (WQL) в качестве языка запросов, для этого свойства необходимо задать значение WQL.

</dd> </dl>

## <a name="remarks"></a>Комментарии

Класс **\_ \_ EventFilter** является производным от [**\_ \_ индикатионрелатед**](--indicationrelated.md).

## <a name="examples"></a>Примеры

[Процедура создания постоянной регистрации событий WMI для мониторинга файлов](https://Gallery.TechNet.Microsoft.Com/Create-Permenant-WMI-Event-f67ce5c2) в коллекции TechNet использует **\_ \_ EventFilter** в составе сложного сценария для настройки постоянной регистрации событий WMI.

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|--------------------------------|
| Минимальная версия клиента<br/> | Windows Vista<br/>       |
| Минимальная версия сервера<br/> | Windows Server 2008<br/> |
| Пространство имен<br/>                | Все пространства имен WMI<br/>  |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[**\_\_индикатионрелатед**](/windows/desktop/WmiSdk/--indicationrelated)
</dt> <dt>

[Системные классы WMI](wmi-system-classes.md)
</dt> <dt>

[Создание фильтра событий](creating-an-event-filter.md)
</dt> <dt>

[Получение событий в любое время](receiving-events-at-all-times.md)
</dt> <dt>

[Мониторинг событий и реагирование на них с помощью стандартных потребителей](monitoring-and-responding-to-events-with-standard-consumers.md)
</dt> <dt>

[Мониторинг событий](monitoring-events.md)
</dt> <dt>

[Классы стандартных потребителей](standard-consumer-classes.md)
</dt> <dt>

[Защита событий WMI](securing-wmi-events.md)
</dt> </dl>

 

