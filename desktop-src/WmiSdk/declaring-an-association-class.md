---
description: Класс ассоциации — это особый тип класса, который определяет связь между двумя другими классами.
ms.assetid: 21fd6e39-5dd3-41b8-a2f5-0135a6637ce8
ms.tgt_platform: multiple
title: Объявление класса ассоциации
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 083ce578ca912290fd026f225799793f89685aab
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "104081276"
---
# <a name="declaring-an-association-class"></a>Объявление класса ассоциации

Класс ассоциации — это особый тип класса, который определяет связь между двумя другими классами.

В следующей процедуре описывается создание класса ассоциации с помощью MOF-кода.

**Создание класса взаимосвязей с помощью MOF-кода**

1.  Назначьте квалификатор **ассоциации** вашему классу.

    Несмотря на то, что можно создать класс со ссылками на объекты или классы, использование квалификатора **ассоциации** не только делает ясно, что класс является классом ассоциации, но, как вариант, рекомендуется гарантировать, что ваш класс полностью функционирует как класс ассоциации.

2.  Создайте две ссылки в классе, описывающие два экземпляра объектов, которые необходимо связать вместе с помощью **ссылочного** типа.

    Ссылки привязывают два объекта в ассоциации, путем того, как они содержат пути к объектам. Хотя это и не является обязательным, используйте свойства ссылки как ключевые свойства.

    Несмотря на то, что можно создавать полные или относительные ссылки на пространства имен, Инструментарий WMI имеет ограниченную поддержку ссылок между пространствами имен. В частности, только статически определенные объекты могут ссылаться друг на друга по границам пространства имен. динамически поддерживаемые объекты не могут ссылаться друг на друга.

    При необходимости используйте квалификаторы **хасклассреф** и **классреф** в сочетании с типом ссылки на **объект** , чтобы ссылаться на класс.

    Инструментарий WMI поддерживает **одну ссылочную точку ссылки на** экземпляр и другую точку ссылки на **объект** класса. В этом случае класс ассоциации описывает ассоциацию, которая привязывает экземпляры к классам.

    В следующем примере кода описывается синтаксис для использования **хасклассреф** и **классреф** с типом **объекта** .

    ``` syntax
    [HasClassRefs, Association]
    class SomeAssocClass
    {
         [key, classref{ "MyEndpoint", "OtherContainer" }]
         object ref ep1;
         [key] object ref ep2;
    }; 
    ```

    В предыдущем примере ссылка **EP1** может указывать на определения класса либо для класса **MyEndpoint** , либо для класса **осерконтаинер** . Обратите внимание, что хотя ссылочный класс должен быть слабо типизирован, нельзя слабо ввести сам квалификатор **классреф** . Это существенно снизит эффективность обработчика запросов WMI. Нестрогая типизация — это создание ссылки, которая может содержать любой тип данных, с помощью ключевого слова **Object** и **ссылочного** типа данных. Чтобы успешно использовать **хасклассреф**, необходимо задать соответствующие разновидности квалификаторов для распространения на все экземпляры и подклассы.

3.  При необходимости создайте любые другие свойства.

    В следующем примере кода показано, что инструментарий WMI в настоящее время не поддерживает классы взаимосвязей с меньшей или более чем двумя ссылочными свойствами.

    ``` syntax
    [Association : ToInstance] 
    class MyAssocClass
    {
        ClassX ref PathToClassX ;
        ClassY ref PathToClassY ;
    };
    ```

4.  По завершении Скомпилируйте MOF-код с помощью компилятора MOF.

    Дополнительные сведения см. в разделе [Компиляция MOF-файлов](compiling-mof-files.md).

В примере кода на шаге 3 определяется класс ассоциации **мяссоккласс** . Класс **мяссоккласс** определяет связь между **класскс** и **классом**. Свойства **пастокласскс** и **пастокласси** содержат пути к объектам для экземпляров классов, которые должны быть связаны. Ключевое слово **тоинстанце** является одним из нескольких флагов разновидностей, которые WMI определяет для предоставления сведений об использовании квалификатора. Ключевое слово **тоинстанце** указывает, что WMI должен распространить квалификатор **ассоциации** на все экземпляры класса Association. Установив квалификатор этого экземпляра, клиентское программное обеспечение может определить, что экземпляр принадлежит к классу ассоциации, без необходимости извлечения определения класса для поиска квалификатора **ассоциации** . Дополнительные сведения см. в разделе [Описание квалификатора с флагом квалификатора](describing-a-qualifier-with-a-qualifier-flavor.md) и [ссылками](references.md).

## <a name="related-topics"></a>См. также

<dl> <dt>

[Разработка классов MOF-файл (MOF)](designing-managed-object-format--mof--classes.md)
</dt> </dl>

 

 



