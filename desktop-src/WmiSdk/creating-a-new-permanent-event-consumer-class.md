---
description: Одним из первых шагов при создании постоянного потребителя событий является создание класса WMI, который описывает потребителя событий. В частности, класс постоянных потребителей событий определяет параметры действия, реализуемого физическим потребителем.
ms.assetid: a5b6d0b9-8df1-47e3-bb3b-cc69db6d9c0e
ms.tgt_platform: multiple
title: Создание нового класса постоянного потребителя событий
ms.topic: article
ms.date: 05/31/2018
topic_type:
- kbArticle
api_name: ''
api_type: ''
api_location: ''
ms.openlocfilehash: f86f9e8ea4339eb76bdc77087780fcfa9be09f47c92a154c5f89109d90337b41
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119464284"
---
# <a name="creating-a-new-permanent-event-consumer-class"></a>Создание нового класса постоянного потребителя событий

Одним из первых шагов при создании постоянного потребителя событий является создание класса WMI, который описывает потребителя событий. В частности, класс постоянных потребителей событий определяет параметры действия, реализуемого физическим потребителем.

В следующей процедуре описывается создание класса постоянного потребителя событий.

**Создание класса постоянного потребителя событий**

1.  Создайте класс, производный от класса System [**\_ \_ евентконсумер**](--eventconsumer.md) .
2.  Реализуйте все параметры, необходимые для обработки уведомления о событии.

В следующем примере показан синтаксис, используемый для создания класса Смтпконсумеревент. Это можно использовать в качестве примера для создания нового класса. Класс [**смтпевентконсумер**](smtpeventconsumer.md) отправляет сообщение электронной почты с помощью протокола SMTP каждый раз, когда в него передается событие. Этот класс определен в смтпконс. mof.

``` syntax
class SMTPEventConsumer : __EventConsumer
{
  [key] string Name;
  [not_null] string SMTPServer;
  [Template] string Subject;
  [Template] string FromLine;
  [Template] string ReplyToLine;
  [Template] string Message;
  [Template] string ToLine;
  [Template] string CcLine;
  [Template] string BccLine;
  string HeaderFields[];
};
```

Вы должны иметь возможность создавать экземпляры класса постоянных потребителей событий, чтобы описать один или несколько способов отправки событий физическому потребителю. Дополнительные сведения см. [в разделе Создание логического потребителя](creating-a-logical-consumer.md).

 

 



