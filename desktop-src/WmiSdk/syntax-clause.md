---
description: Содержит предложение СИНТАКСИСа, определяющее данные и тип для объекта MIB.
ms.assetid: 24c483c8-db50-492f-9c2e-72620395331a
ms.tgt_platform: multiple
title: Предложение СИНТАКСИСа
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 02d0bf25156ddda4bf71a7f40a8de1fede2a82d5
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105703252"
---
# <a name="syntax-clause"></a>Предложение СИНТАКСИСа

Макрос [Object-Type](object-type-macro.md) содержит предложение синтаксиса, определяющее данные и тип для объекта MIB. Хотя поставщик SNMP следит за общими правилами сопоставления предложений СИНТАКСИСа, поставщик также соответствует правилам, характерным для нескольких типов данных.

> [!Note]  
> Дополнительные сведения об установке поставщика см. в разделе [Настройка среды SNMP WMI](setting-up-the-wmi-snmp-environment.md).

 

Следующие правила сопоставления применяются ко всем типам данных, описанным в таблице ниже.

-   Текстовое представление предложения СИНТАКСИСа сопоставляется с **текстовым \_ правилом** квалификатора свойства CIM.
-   Определение именованного типа в предложении СИНТАКСИСа соответствует **\_ синтаксису объекта** квалификатора свойства CIM. Это сопоставление различается в зависимости от типа данных. Дополнительные сведения см. в описании сопоставления.
-   Тип SNMP, используемый при кодировании кадров протокола в Юникоде и SNMPv2C, соответствует **кодировке** квалификатора свойства CIM.
-   Квалификатор свойства CIM **Цимтипе** содержит текстовое представление, которое форматирует базовое значение протокола CIM.

В следующей таблице перечислены типы данных, имеющие определенные правила, которые управляют поведением сопоставления поставщика.



| Тип данных SNMP                                     | Описание                                                                                                                                                                                                                                      |
|----------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [Тип-примитив](#primitive-type)                  | Один из основных типов данных, определенных в структуре документов по управлению данными (SMI) RFC 1213 и RFC 1903.                                                                                                                            |
| [Текстовое соглашение](textual-convention-macro.md) | Определение типа, созданное с помощью явного использования макроса **ТЕКСТОВОГО соглашения** SNMPv2c или созданного с помощью именованного типа. Текстовое соглашение назначает имя и, в некоторых случаях, диапазон значений для существующего типа данных. |
| [Именованный тип](#named-type)                          | Именованная ссылка на тип-примитив, текстовое соглашение или тип с ограничением.                                                                                                                                                                    |
| [Тип с ограничениями](#constrained-type)              | Тип-примитив, именованный тип или текстовое соглашение, ограниченное некоторыми механизмами подтипов, определенными в документах SMI RFC 1213 и RFC 1903.                                                                                      |



 

## <a name="primitive-type"></a>Тип-примитив

Тип-примитив является одним из основных типов данных, определенных в структуре документов по управлению данными (SMI) RFC 1213 и RFC 1903. Типы-примитивы SNMP сопоставляются с типами, определенными в CIM. В следующей таблице приведено сопоставление, которое происходит, когда предложение СИНТАКСИСа явно ссылается на примитивный тип для. Квалификаторы **текстового \_ соглашения**, **кодировки** и **\_ СИНТАКСИСа объектов** всегда совпадают с типом MIB, а значение по умолчанию всегда равно **null**.



| Тип MIB         | Тип Variant CIM | значение Цимтипе |
|------------------|------------------|---------------|
| INTEGER          | VT \_ I4           | **sint32**    |
| октетстринг      | VT \_ BSTR         | **string**    |
| OBJECTIDENTIFIER | VT \_ BSTR         | **string**    |
| NULL             | VT \_ null         | Не поддерживается |
| IPAddress        | VT \_ BSTR         | **string**    |
| Счетчик          | VT \_ I4           | **uint32**    |
| Датчик            | VT \_ I4           | **uint32**    |
| Значение TIMETICKS        | VT \_ I4           | **uint32**    |
| Непрозрачный           | VT \_ BSTR         | **string**    |
| NetworkAddress   | VT \_ BSTR         | **string**    |



 

Поставщик игнорирует Макрос OBJECT-TYPE, если предложение СИНТАКСИСа ссылается на **null** либо явно, либо с помощью присваивания именованного типа. В следующей таблице приведено сопоставление, которое происходит, когда предложение СИНТАКСИСа явно ссылается на примитивный тип для SNMPv2. Квалификаторы **текстового \_ соглашения**, **кодировки** и **\_ СИНТАКСИСа объектов** всегда совпадают с типом MIB, а значение по умолчанию всегда равно **null**.



| Тип MIB          | Тип Variant CIM | значение Цимтипе |
|-------------------|------------------|---------------|
| INTEGER           | VT \_ I4           | **sint32**    |
| СТРОКА ОКТЕТА      | VT \_ BSTR         | **string**    |
| ИДЕНТИФИКАТОР ОБЪЕКТА | VT \_ BSTR         | **string**    |
| IPAddress         | VT \_ BSTR         | **string**    |
| Counter32         | VT \_ I4           | **uint32**    |
| Значение Gauge32           | VT \_ I4           | **uint32**    |
| Unsigned32        | VT \_ I4           | **uint32**    |
| Integer32         | VT \_ I4           | **sint32**    |
| Counter64         | VT \_ BSTR         | **uint64**    |
| Значение TIMETICKS         | VT \_ I4           | **uint32**    |
| Непрозрачный            | VT \_ BSTR         | **string**    |



 

## <a name="named-type"></a>Именованный тип

Именованные типы SNMP сопоставляются с типами, определенными в CIM. Если предложение СИНТАКСИСа ссылается на [тип-примитив](#primitive-type), [текстовое соглашение](textual-convention-macro.md)или [тип с ограничением](#constrained-type) по наследованию типа, используйте эти типы для определения того, какие процедуры сопоставления применяются.

-   Если, через наследование правил назначения типов, вы обнаружите определение типа с ограничением:

    -   Кроме того, при последующем наследовании вы сталкиваетесь с одним из текстовых соглашений, перечисленных в [макросе ТЕКСТОВОГО соглашения](textual-convention-macro.md), а затем примените правила сопоставления для ограниченных типов и текстовых соглашений.
    -   В противном случае при возникновении одного из типов-примитивов, перечисленных в таблице типов-примитивов, примените правила сопоставления для типов-примитивов и ограниченных типов.

-   Если вы сталкиваетесь с одним из текстовых соглашений, перечисленных в [ \_ макросе текстового](textual-convention-macro.md)соглашения, примените правила сопоставления для текстовых соглашений.
-   При возникновении одного из типов-примитивов, перечисленных в таблице типов-примитивов, примените правила сопоставления для типов-примитивов.

> [!Note]  
> Классы, содержащие типы свойств, которые не соответствуют приведенным выше сопоставлениям, недопустимы. В этом случае поставщик возвращает ошибку, если и когда поставщик запрашивает получение определения класса во время выполнения функции получения экземпляра.

 

## <a name="constrained-type"></a>Тип с ограничениями

Тип с ограничением — это примитивный тип, именованный тип или текстовое соглашение, ограниченное некоторыми механизмами поднабора, определенными в документах SMI RFC 1213 и RFC 1903. При вводе подтипа требуются дополнительные квалификаторы CIM для указания значений подтипов. Определение именованного типа в предложении СИНТАКСИСа непосредственно сопоставляет **\_ синтаксис объекта** квалификатора свойства CIM, но не включает ограничения подтипа.

Подтипы могут следовать любому из следующих форматов:

-   ЦЕЛОе число с перечислением

    В **перечислении** квалификаторов свойств CIM указываются перечисляемые значения. Этот квалификатор представлен в виде строки, содержащей разделенный запятыми список 32-разрядных целых чисел со знаком. В следующей таблице перечислены типы сопоставлений. Значение по умолчанию всегда равно **null**.



| Ограниченный тип MIB | Тип Variant CIM | Квалификаторы CIM                                                                                                        |
|----------------------|------------------|-----------------------------------------------------------------------------------------------------------------------|
| ЦЕЛОе число с перечислением   | VT \_ BSTR         | **текстовое \_ соглашение**: енумератединтежер<br/> **Кодировка**: целое число<br/> **Цимтипе**: строка<br/> |



 

-   BITS

    **Биты** квалификатора свойства CIM определяют перечисляемые значения. Этот квалификатор представлен в виде строки, содержащей разделенный запятыми список 32-разрядных целых чисел со знаком. В следующей таблице перечислены типы сопоставлений. Значение по умолчанию всегда равно **null**.



| Ограниченный тип MIB | Тип Variant CIM      | Квалификаторы CIM                                                                                               |
|----------------------|-----------------------|--------------------------------------------------------------------------------------------------------------|
| BITS                 | VT \_ массив \| VT \_ | **текстовое \_ соглашение**: BITS<br/> **Кодировка**: октетстринг<br/> **Цимтипе**: строка<br/> |



 

-   Переменная длина

    Если предложение СИНТАКСИСа ссылается на тип-примитив, именованный тип или текстовое соглашение, которое поддается подтипу в виде строки ОКТЕТа переменной длины или непрозрачности, **переменная \_** квалификатора свойства CIM определяет минимальное, максимальное и фиксированное значения длины, связанные с определением типа. Этот квалификатор реализуется в виде строки в следующем формате, где значения переменной длины представляются как 32-разрядные целые числа без знака.

    ``` syntax
    (((0.9) .. (0.9)) | (0.9))(, (((0.9) .. (0.9)) | (0.9)))*
    ```

-   Фиксированная длина

    Если предложение СИНТАКСИСа ссылается на тип-примитив, именованный тип или текстовое соглашение, которое подписывается как строка ОКТЕТа фиксированной длины или непрозрачность, **фиксированная \_ Длина** квалификатора свойства CIM указывает значение фиксированной длины. Этот квалификатор представляется как 32-разрядное целочисленное значение без знака.

-   Диапазон

    Если предложение СИНТАКСИСа ссылается на тип-примитив, именованный тип или текстовое соглашение, которое подписывается в виде ЦЕЛОго числа или датчика с фиксированным значением или типа, то **\_ значение переменной** квалификатора свойства CIM указывает диапазон и фиксированные значения, связанные с определением типа. Этот квалификатор реализуется в виде строки в следующем формате, где значения диапазона и фиксированной длины представляются как 32-разрядные целые числа без знака.

    ``` syntax
    (((0.9)..(0.9))|(0.9))(,(((0.9)..(0.9))|(0.9)))*
    ```

## <a name="example-code"></a>Пример кода

В следующем примере описывается подтип перечислимого ЦЕЛОго числа.

``` syntax
Status := INTEGER {
up(1),
down(2),
testing(3)
}
```

В этом примере сопоставляется:

``` syntax
enumeration("up(1),down(2),testing(3)")
```

В следующем примере кода описывается подтип BITS.

``` syntax
Status := BITS {
up(1),
down(2), 
testing(3)
}
```

Следующий пример кода сопоставляется с:

``` syntax
bits("up(1),down(2),testing(3)")
```

В следующем примере кода описывается подтип переменной длины.

``` syntax
MySnmpOSIAddress ::=  TEXTUAL-CONVENTION

    DISPLAY-HINT    "*1x:/1x:"
    STATUS        current
    DESCRIPTION
            "Represents an OSI transport-address:

            octets    contents         encoding
              1        length of NSAP   'n' as an unsigned-integer
                                        (either 0 or from 3 to 20)
              2..(n+1)  NSAP          concrete binary representation
              (n+2)..m  TSEL             string of (up to 64) octets
            "
    SYNTAX         OCTET STRING (SIZE (1|4..85))
```

В этом примере сопоставляется:

``` syntax
display_hint("*1x:/1x:"),
encoding("OCTETSTRING"),
textual_convention("OCTETSTRING"),
variable_length ("1,4..85")
```

В следующем примере описывается подтип фиксированной длины.

``` syntax
IPXADDRESS := OCTET STRING (SIZE (6))
```

В этом примере сопоставляется:

``` syntax
fixed_length(6)
```

В следующем примере описывается подтип диапазона.

``` syntax
Status := INTEGER (10..20|8)
```

В этом примере сопоставляется:

``` syntax
variable_value("10..20,8")
```

 

 




