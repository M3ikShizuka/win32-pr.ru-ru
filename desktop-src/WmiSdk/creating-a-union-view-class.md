---
description: Класс представления Union — это логическое объединение экземпляров исходного класса. Класс представления Union включает все экземпляры исходных классов, если только экземпляры не будут ограничены путем включения предложения WHERE в исходный запрос.
ms.assetid: 54a9804d-644d-4ab6-a3d5-c9c4f7761967
ms.tgt_platform: multiple
title: Создание класса представления Union
ms.topic: article
ms.date: 05/31/2018
topic_type:
- kbArticle
api_name: ''
api_type: ''
api_location: ''
ms.openlocfilehash: 2ff9327645828c3db78a82811831f058cc27f202
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105703004"
---
# <a name="creating-a-union-view-class"></a>Создание класса представления Union

Класс представления Union — это логическое объединение экземпляров исходного класса. Класс представления Union включает все экземпляры исходных классов, если только экземпляры не будут ограничены путем включения предложения WHERE в исходный запрос.

Классы представлений Union полезны, когда необходимо просмотреть экземпляры схожих или идентичных классов, расположенных в разных пространствах имен или на разных компьютерах. Например, можно создать класс Union, содержащий экземпляры различных дисков для мониторинга.

Свойства класса представления Union также можно основывать на свойствах, отсутствующих во всех экземплярах исходного класса. Если экземпляры исходного класса имеют разные свойства, свойства экземпляров класса Union имеют значение **null**. Например, если на одном жестком диске есть свойство **температуры** , а другое — нет, то можно по-прежнему создать объединение между ними.

В следующей процедуре описывается создание класса представления Union.

**Создание класса представления Union**

1.  Начните определение класса с квалификатором строки [**объединения**](qualifiers-specific-to-the-view-provider.md) .

    Квалификаторы [**жоинон**](qualifiers-specific-to-the-view-provider.md), **Association** и **Union** являются взаимоисключающими.

2.  Создайте запросы, определяющие исходные классы, используемые в классе представления с квалификатором [**виевсаурцес**](viewsources-qualifier.md) .
3.  Определите имена и расположение пространств имен, в которых исходные классы находятся с квалификатором [**виевспацес**](viewspaces-qualifier.md) .
4.  Определите свойства, которые сопоставляются со свойствами в исходных классах с квалификатором [**пропертисаурцес**](propertysources-qualifier.md) .

    При необходимости можно пометить любые свойства как принадлежащие исходному классу с помощью квалификатора [**хиддендефаулт**](qualifiers-specific-to-the-view-provider.md) .

5.  Определите ключевые свойства исходных классов для класса представления Union.

    Каждый исходный класс должен иметь одинаковое число ключевых свойств, совпадающих с [**Цимтипе**](swbemproperty-cimtype.md). Кроме того, ключи класса представления Union должны уникальным образом идентифицировать все исходные экземпляры. В некоторых случаях может потребоваться указать системные свойства, чтобы убедиться, что экземпляры уникальны. Например, при создании представления из объединения двух идентичных классов в двух разных пространствах имен можно включить свойство [**\_ \_ Namespace**](--namespace.md) в качестве ключа в класс представления, чтобы различать два экземпляра. Если для создания представления используются два схожих класса из одного пространства имен, то для различения этих двух классов можно использовать свойство **\_ \_ Class** . Переименуйте все системные свойства в представлении, чтобы избежать конфликта с системными свойствами класса представления.

6.  Определите все необходимые методы с помощью квалификатора [**месодсаурце**](qualifiers-specific-to-the-view-provider.md) .

    В отличие от других классов представлений, можно создавать методы для изменения представления объединения.

В следующем примере кода описывается класс представления Union.

``` syntax
[Union, ViewSources{"SELECT Description, DeviceID, __Namespace, FileSystem, FreeSpace, VolumeName FROM LocalDisk", 
    "SELECT Description, DeviceID, __Namespace, FileSystem, FreeSpace, VolumeName FROM RemoteDisk"}, 
    ViewSpaces{"\\\\.\\Root\\LocalNamespace","\\\\.\\Root\\RemoteNamespace"}, 
    dynamic: ToInstance, provider("MS_VIEW_INSTANCE_PROVIDER")]

class UnionOfDrives

{
    [PropertySources{"Description", "Description"}] string des;
    [PropertySources{"DeviceID", "DeviceID"}, key] String did;
    [PropertySources{"__Namespace", "__Namespace"}, key] String KEYID;
    [PropertySources{"FileSystem", "FileSystem"}] String fsystem ;
    [PropertySources{"FreeSpace", "FreeSpace"}] uint64 fspace;
    [PropertySources{"VolumeName", "VolumeName"}] String vname;
};
```

 

 



