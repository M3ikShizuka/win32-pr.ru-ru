---
description: Добавляет MOF-файл в список файлов, скомпилированных во время восстановления репозитория.
ms.assetid: 8901c04e-f8c1-45b0-b69d-e2ebc948f088
ms.tgt_platform: multiple
title: Директива pragma автовосстановления
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- pragma
api_type:
- NA
api_location: ''
ms.openlocfilehash: 9bb1cfca44e0bc5437d05d721ffcd57203e5aa9d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "103999196"
---
# <a name="pragma-autorecover"></a>Директива pragma автовосстановления

Команда препроцессора **pragma автосохранения** добавляет MOF-файл в список файлов, скомпилированных во время восстановления репозитория. Список MOF-файлов **автовосстановления** хранится в следующем разделе реестра:

**HKey \_ Локальное \_** \\ **программное обеспечение** \\ **Microsoft** \\ **WBEM** \\ **CIMOM** \\ **Автовосстановление MOF**

Инструментарий WMI проверяет целостность репозитория WMI при запуске операционной системой инструментария WMI. Если репозиторий поврежден, WMI автоматически перестраивает репозиторий и перекомпилирует все MOF-файлы, перечисленные в этом разделе реестра.

Ниже описан синтаксис команды pragma автосохранения.


```mof
#pragma autorecover
```



Однако при использовании этой команды необходимо учитывать следующие ограничения.

-   Инструментарий WMI не может восстанавливать MOF-файлы, расположенные на удаленном компьютере.

    Таким образом, MOF-файлы, перечисленные в этом разделе реестра, должны находиться на локальном компьютере.

-   Нельзя указать параметры командной строки, используемые компилятором MOF, когда WMI восстанавливает MOF-файл.

    Поэтому в MOF-файл следует включать команды [pragma](-pragma.md) , которые делают ненужными параметры командной строки. В следующем примере описан общий параметр командной строки, который не используется инструментарием WMI при восстановлении MOF-файла из этого раздела реестра: **mofcomp — н:Рут \\ Test мимоф. mof** .

    Однако пространство имен можно указать с помощью команды [pragma](-pragma.md) в MOF-файле.

    ```mof
    #pragma namespace ("\\\\.\\Root\\test")
    ```

    

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|--------------------------------|
| Минимальная версия клиента<br/> | Windows Vista<br/>       |
| Минимальная версия сервера<br/> | Windows Server 2008<br/> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[Команды препроцессора](preprocessor-commands.md)
</dt> </dl>

 

 




