---
description: Создание высокопроизводительного поставщика WMI для создания счетчиков производительности не рекомендуется.
ms.assetid: 6a22d6f7-d9e2-45fa-876d-921a4bc4f574
ms.tgt_platform: multiple
title: Создание поставщика экземпляров в поставщике High-Performance
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 10744b110463a3207f76bb55d48a8045ec22783d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105702296"
---
# <a name="making-an-instance-provider-into-a-high-performance-provider"></a>Создание поставщика экземпляров в поставщике High-Performance

Создание высокопроизводительного поставщика WMI для создания счетчиков производительности не рекомендуется. Начиная с Windows Vista, [Классы счетчиков производительности](/windows/desktop/CIMWin32Prov/performance-counter-classes) WMI больше не переносятся в библиотеки производительности Windows с помощью адаптера реконструирования и автоочистки (ADAP). Чтобы создать поставщик счетчика производительности, используйте [счетчики производительности версии 2,0](/windows/desktop/PerfCtrs/performance-counters-portal). После создания объектов библиотеки производительности [поставщик вмиперфкласс](wmiperfclass-provider.md) анализирует объекты и создает или ОБНОВЛЯЕТ класс WMI, производный от [**\_ производительности Win32**](/windows/desktop/CIMWin32Prov/win32-perf) , для каждого объекта производительности. Затем [поставщик вмиперфинст](wmiperfinst-provider.md) динамически предоставляет необработанные и форматированные данные счетчика производительности классам производительности WMI.

Следующая высокоуровневая процедура описывает шаги, необходимые для создания высокопроизводительного поставщика.

**Создание высокопроизводительного поставщика**

1.  Регистрация поставщика в WMI. Дополнительные сведения см. [в разделе Регистрация поставщика High-Performance](registering-a-high-performance-provider.md).
2.  Реализуйте поставщик. Дополнительные сведения см. в разделе [написание поставщика экземпляров](writing-an-instance-provider.md).
3.  Реализуйте высокопроизводительный интерфейс. Дополнительные сведения см. [в разделе Реализация интерфейса High-Performance](implementing-the-high-performance-interface.md).
4.  Создайте и напишите схему MOF-файл (MOF) для получения необработанных данных о производительности. Дополнительные сведения см. [в разделе Поддержка \_ класса Win32 перфравдата](supporting-the-win32-perfrawdata-class.md).
5.  Создайте производные и напишите схему MOF для получения предварительно вычисленных данных. При поддержке этого класса поставщик не требуется для выполнения вычислений. Эти данные будут теми же, которые отображаются в системном мониторе системного монитора. Дополнительные сведения см. [в разделе Поддержка \_ класса Win32 перфформаттеддата](supporting-the-win32-perfformatteddata-class.md).

## <a name="related-topics"></a>См. также

<dl> <dt>

[Разработка поставщика WMI](developing-a-wmi-provider.md)
</dt> <dt>

[Библиотеки производительности и инструментарий WMI](performance-libraries-and-wmi.md)
</dt> </dl>

 

 
