---
title: атрибут represent_as
description: Атрибут \ представление \_ as \ ACF связывает именованный локальный тип в целевом языке репр-Type с типом передачи с именем-Type, который передается между клиентом и сервером.
ms.assetid: ae44d220-e8f3-47a3-8f5e-a2668ac75411
keywords:
- represent_as атрибута MIDL
topic_type:
- apiref
api_name:
- represent_as
api_type:
- NA
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: a17d0b8915e75bb3065b394ef76900bd8efb5e0c
ms.sourcegitcommit: 57758ecb246c84d65e6e0e4bd5570d9176fa39cd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/25/2019
ms.locfileid: "104068734"
---
# <a name="represent_as-attribute"></a>представить \_ как атрибут

Атрибут **\[ представления \_ As \]** ACF связывает именованный локальный тип на целевом языке *репр-Type* с типом передачи с *именем-Type* , который передается между клиентом и сервером.

``` syntax
typedef [represent_as(repr-type) [[ , type-attribute-list ]] ] named-type; 
void __RPC_USER named-type_from_local (
  repr-type __RPC_FAR * ,
  named-type __RPC_FAR * __RPC_FAR * );
void __RPC_USER named-type_to_local (
  named-type __RPC_FAR * ,
  repr-type __RPC_FAR * ); void __RPC_USER named-type _free_inst ( named-type __RPC_FAR * ); void __RPC_USER named-type _free_local ( repr-type __RPC_FAR * );
```

## <a name="parameters"></a>Параметры

<dl> <dt>

*именованный тип* 
</dt> <dd>

Указывает именованный тип данных передачи, который передается между клиентом и сервером.

</dd> <dt>

*Type-Attribute-List* 
</dt> <dd>

Указывает один или несколько атрибутов, применяемых к типу. Несколько атрибутов разделяются запятыми.

</dd> <dt>

*репр — тип* 
</dt> <dd>

Указывает представленный локальный тип на целевом языке, который предоставляется клиентским и серверным приложениям.

</dd> </dl>

## <a name="remarks"></a>Комментарии

При использовании **\[ представления "представить \_ как \]**" необходимо предоставить подпрограммы, которые выполняют преобразование между локальным типом и типами передачи и свободным объемом памяти, используемым для хранения преобразованных данных. Атрибут **\[ представить \_ как \]** указывает заглушкам вызывать предоставляемые пользователем подпрограммы преобразования.

Переданный тип *с именем-Type* должен разрешаться в базовый тип MIDL, предопределенный тип или в идентификатор типа. Дополнительные сведения см. в разделе [базовые типы MIDL](midl-base-types.md).

Необходимо указать следующие подпрограммы:



| Имя подпрограммы                   | Описание                                                                                                                                                                                                |
|--------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| *именованный \_ тип * * * \_ из \_ локальной** | Преобразует данные локального типа в тип сети. Подпрограммы выделяют память для типа данных сети, включая память для любых данных, на которые ссылаются указатели в сетевом типе данных.              |
| *именованный \_ тип * * * \_ в \_ локальную**   | Преобразует данные из типа сети в локальный тип. Подпрограммы отвечают за выделение памяти для данных, на которые ссылаются указатели в локальном типе. RPC выделяет память для локального типа. |
| *именованный \_ тип * * * \_ бесплатный \_ локальный** | Освобождает память, выделенную для данных, на которые ссылаются указатели в локальном типе. RPC освобождает память для самого типа                                                                                             |
| *именованный \_ тип * * * \_ бесплатный \_ inst**  | Освобождает память, выделенную для данных, на которые ссылаются указатели в типе сети и для самого типа сети.                                                                                            |



 

Заглушка клиента вызывает *именованный тип * * * \_ из \_ локальной** для выделения пространства для передаваемого типа и преобразования данных из локального типа в тип сети. Заглушка сервера выделяет место для исходного типа данных и вызывает *именованный тип * * * \_ в \_ локальную** для преобразования данных из типа сети в локальный тип.

При возврате из кода приложения заглушки клиента и сервера вызывают *именованный тип * * * \_ Free \_ inst** для освобождения хранилища для типа сети. Заглушка клиента вызывает *именованный тип * * * \_ бесплатный \_ локальный** для освобождения хранилища, возвращенного подпрограммой.

Следующие типы не могут иметь атрибут **\[ представления \_ As \]** :

-   Согласованные, различные или согласованные, независящие от изменения массивы
-   Структуры, в которых последний элемент является согласованным массивом (согласованная структура)
-   Указатели или типы, содержащие указатель
-   Каналы или типы, содержащие каналы
-   Типы, используемые в качестве базового типа для канала
-   Стандартные типы. [**обрабатывает \_ t**](handle-t.md), [**void**](void.md)
-   Типы, имеющие атрибут [**\[ Handle \]**](handle.md)

## <a name="examples"></a>Примеры

``` syntax
//these data types defined in .IDL or elsewhere
typedef struct  _lbox 
{ 
    long         data; 
    struct _lbox *next; 
} lbox; 
typedef [ref] lbox *PBOX_LOC; 
typedef long LONG4[4]; 
 
//in .ACF file :
interface iface
{
    typedef  [ represent_as(PBOX_LOC) ]  LONG4; 
}
```

## <a name="see-also"></a>См. также раздел

<dl> <dt>

[Файл конфигурации приложения (ACF)](application-configuration-file-acf-.md)
</dt> <dt>

[**массивы**](arrays-1.md)
</dt> <dt>

[Базовые типы MIDL](midl-base-types.md)
</dt> <dt>

[**Handle \_ t**](handle-t.md)
</dt> <dt>

[**определение**](typedef.md)
</dt> <dt>

[**void**](void.md)
</dt> </dl>

 

 




