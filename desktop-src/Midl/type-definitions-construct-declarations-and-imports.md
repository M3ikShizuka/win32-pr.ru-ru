---
title: Определения типов, объявления конструкций и импорты
description: Определения типов, объявления конструкций и импорты могут происходить за пределами тела интерфейса.
ms.assetid: 5d9011ab-bfc4-41f6-bd69-953660191652
keywords:
- интерфейсы MIDL, определения типов
- интерфейсы MIDL, объявления конструкций
- интерфейсы MIDL, импорты
- определения типов MIDL
- создать объявления с MIDL
- Импорт MIDL
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 645781f033566ba43dc6e355935ed112d0e8f5f6
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "105661521"
---
# <a name="type-definitions-construct-declarations-and-imports"></a>Определения типов, объявления конструкций и импорты

Определения типов, объявления конструкций и импорты могут происходить за пределами тела интерфейса. Все определения из основного IDL-файла будут отображаться в созданном файле заголовка, а все процедуры из всех интерфейсов в основном IDL-файле будут создавать подпрограммы-заглушки. Это позволяет приложениям, поддерживающим несколько интерфейсов, объединять файлы IDL в один объединенный IDL-файл.

Поэтому компиляция файлов требует меньше времени, а также позволяет MIDL сократить избыточность в созданных заглушках. Это может значительно улучшить интерфейсы [**объектов**](object.md) посредством возможности совместного использования общего кода для базовых интерфейсов и производных интерфейсов. Для интерфейсов, не являющихся **объектами** , имена процедур должны быть уникальными во всех интерфейсах. В интерфейсах **объектов** имена процедур должны быть уникальными только в пределах интерфейса. Обратите внимание, что при использовании параметра [**/ОСФ**](-osf.md) не разрешается использовать несколько интерфейсов.

## <a name="declarative-constructs"></a>Декларативные конструкции

Синтаксис для декларативных конструкций в IDL-файле подобен тому, что для C. MIDL поддерживает все декларативные конструкции Microsoft C/C++, за исключением следующих:

-   Более старые деклараторы стиля, позволяющие указывать декларатор без спецификатора типа, например:

    ``` syntax
    x (y) 
    short x (y)
    ```

-   Объявления с инициализаторами (MIDL принимает только объявления, которые соответствуют синтаксису MIDL [**const**](const.md) ).

Ключевое слово [**Import**](import.md) указывает имена одного или нескольких IDL-файлов для импорта. Директива import аналогична директиве [**include**](include.md) в C, за исключением того, что в импортируемый IDL-файл ассимилатед только типы данных.

## <a name="constant-declaration"></a>Объявление константы

В объявлении константы указываются [**логические**](boolean.md)константы, целые числа, символы, знаки в расширенных символах, строки и **void \*** . Дополнительные сведения см. в разделе [**const**](const.md).

## <a name="general-declaration"></a>Общее объявление

Общее объявление похоже на инструкцию C [**typedef**](typedef.md) с добавлением АТРИБУТОВ типа IDL. Компилятор MIDL также разрешает неявное объявление в форме определения переменной, за исключением режима [**/ОСФ**](-osf.md) .

## <a name="function-declaration"></a>Объявление функции

Декларатор функции является особым случаем общего объявления. Атрибуты IDL можно использовать для указания поведения возвращаемого типа функции и каждого из параметров.

## <a name="examples"></a>Примеры

``` syntax
[ 
    uuid(12345678-1234-1234-1234-123456789ABC), 
    version(3.1), 
    pointer_default(unique) 
] 
interface IdlGrammarExample 
{ 
    import "windows.idl", "other.idl"; 
    const wchar_t * NAME = L"Example Program"; 
    typedef char * PCHAR; 
 
    HRESULT DictCheckSpelling( 
        [in, string] PCHAR   word,     // word to look up 
        [out]        short * isPresent // 0 if not present 
    ); 
}
```

 

 




