---
title: Сохранение выходных данных препроцессора
description: Просмотр выходных данных препроцессора может быть эффективным методом устранения неполадок, например при возникновении неверного синтаксиса IDL, C или C-или в результате поддельных значений в командной строке MIDL. в этом случае возникает ошибка MIDL Reporting сложной Errors.
ms.assetid: 79c53f0c-c179-4731-a2c3-a1022d378e7b
keywords:
- MIDL компилятора MIDL, сохранение выходных данных препроцессора
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 49ca1e07658fb2da525999e396b7c3da27add385
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "104411065"
---
# <a name="saving-preprocessor-output"></a>Сохранение выходных данных препроцессора

Просмотр выходных данных препроцессора может быть эффективным методом устранения неполадок, например при возникновении неверного синтаксиса IDL, C или C-или в результате поддельных значений в командной строке MIDL. в этом случае возникает ошибка MIDL Reporting сложной Errors. Разработчикам также может потребоваться изучить выходные данные препроцессора, чтобы определить, какие файлы и определения присутствовали во входном потоке компилятора, например в случае, если трудно разрешить конфликт переопределений типов. Или реже, некоторым разработчикам может потребоваться принудительно использовать закрытые коммутаторы на препроцессоре с помощью [**/КПП \_ OPT**](-cpp-opt.md)или, возможно, потребуется посмотреть, как работают эти параметры.

Самый простой и самый ненавязчивый способ получить предварительно обработанные файлы из компиляции MIDL — использовать параметр [**-савепп**](-savepp.md) . Параметр **-савепп** просто предотвращает удаление временных файлов, которые препроцессор передает в MIDL, с помощью MIDL. Рассмотрим следующий пример.

**MIDL-Савепп-ID: \\ NT \\ Public \\ SDK \\ Inc-Днтенв = 1-оикф-env Win32 заглушек. idl**

Эта директива компилирует файл заглушек. idl, но сохраняет все файлы препроцессора.

> [!Note]  
> MIDL порождает отдельные запуски препроцессора для файлов IDL и ACF (если они есть), а также для каждого импортированного файла.

 

Для компиляции DCOM обычно создаются несколько файлов препроцессора, даже если они обрабатываются MIDL как виртуальный смежный входной поток. В типичной среде программирования Windows временные файлы можно найти во временном каталоге в виде имен файлов, таких как MID \* . tmp. При сохранении выходных данных препроцессора рекомендуется следить за последними файлами в каталоге Temp, чтобы узнать, какие файлы связаны с выполняемым препроцессором.

В простых случаях, например, когда скомпилированный IDL-файл не импортирует другие файлы напрямую или косвенно или при проверке файла верхнего уровня, препроцессор можно вызвать напрямую. Непосредственное исполнение препроцессора C/C++ позволяет выявить ошибки, маскированные или запутать MIDL. Например, для ранее заключенной в кавычки строки MIDL можно использовать следующие две команд препроцессора:

**CL/E/nologo-ID: \\ net \\ Public \\ SDK \\ Inc-днтенв = 1 заглушка. idl > заглушек. PP**

**CL/E/P-ID: \\ \\ пакет общедоступного \\ пакета SDK \\ Inc-днтенв = 1 заглушка. idl**

В первом из этих двух примеров параметр **/e** [**/nologo**](-nologo.md) — это ключи, которые добавляются MIDL при вызове препроцессора. Выходные данные препроцессора отправляются в stdout (экран) и поэтому требуют перенаправления в файл для проверки. Во втором из этих примеров параметр **/p** направляет препроцессору перенаправление выходных данных в \* файл. i. в этом случае файл заглушки будет создан в текущем каталоге.

Параметр [**/КПП \_ OPT**](-cpp-opt.md) также можно использовать для получения предварительно обработанного файла, но он является сложным и подключается к упомянутым выше методам. В следующем примере также создается файл заглушки. i, как в предыдущем примере. В следующем примере необходимы кавычки:

**MIDL-Оикф-Win32-cpp \_ OPT "/E/p-ID: \\ net \\ Public \\ SDK \\ Inc-днтенв = 1" заглушка. idl**

 

 




