---
title: pragma - атрибут
description: Директива \ pragma MIDL \_ echo указывает MIDL на вывод указанной строки без кавычек в создаваемый файл заголовка.
ms.assetid: b8a175d2-ea07-4103-ab45-0de7e477d27a
keywords:
- pragma Attribute MIDL
topic_type:
- apiref
api_name:
- pragma
api_type:
- NA
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 72f5e1c00c089bc8915adc2d9f3363305c677a96
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127143506"
---
# <a name="pragma-attribute"></a>pragma - атрибут

\#Директива **pragma MIDL \_ echo** предписывает MIDL выдавать указанную строку без кавычек в создаваемый файл заголовка.

``` syntax
#pragma midl_echo("string")
#pragma token-sequence
#pragma pack (n)
#pragma pack ( [push] [, id] [, n} )
#pragma pack ( [pop] [, id] [, n} )
```

## <a name="parameters"></a>Параметры

<dl> <dt>

*строка* 
</dt> <dd>

Указывает строку, которая вставляется в создаваемый файл заголовка. Кавычки удаляются во время процесса вставки.

</dd> <dt>

*последовательность токенов* 
</dt> <dd>

Задает последовательность токенов, которые вставляются в созданный файл заголовка как часть директивы **\# pragma** без обработки компилятором MIDL.

</dd> <dt>

*n* 
</dt> <dd>

Указывает текущий размер пакета. Допустимые значения: 1, 2, 4, 8 и 16.

</dd> <dt>

*id* 
</dt> <dd>

Указывает идентификатор пользователя.

</dd> </dl>

## <a name="remarks"></a>Remarks

Директивы предварительной обработки языка c, которые отображаются в IDL-файле, обрабатываются препроцессором компилятора C. Директивы **\# define** в IDL-файле доступны во время компиляции MIDL, хотя и не в компиляторе C.

Например, когда препроцессор встречает директиву " \# define Windows 4", препроцессор заменяет все вхождения "Windows" в IDL-файле на "4". Символ "WINDOWS" недоступен во время компиляции C.

Чтобы разрешить определениям макросов C-препроцессор проходить через компилятор MIDL к компилятору C, используйте директиву **\# pragma MIDL \_ echo** или [**cpp \_ quote**](cpp-quote.md) . Эти директивы предписывает компилятору MIDL создать файл заголовка, содержащий строку параметра с удаленными кавычками. Директивы **\# pragma MIDL \_ echo** и **cpp- \_ кавычки** эквивалентны.

Директива **\# pragma pack** используется компилятором MIDL для управления упаковкой структур. Он переопределяет параметр командной строки [**/Zp**](-zp.md) . Параметр Pack (*n*) устанавливает для текущего размера пакета определенное значение: 1, 2, 4, 8 или 16. Параметры Pack (Push) и Pack (POP) имеют следующие характеристики.

-   Компилятор поддерживает стек упаковки. Элементы стека упаковки содержат размер пакета и необязательный *идентификатор*. Стек ограничен только доступной памятью с текущим размером пакета в верхней части стека.
-   Pack (Push) приводит к получению текущего размера пакета, отправленного в стек упаковки. Стек ограничивается доступной памятью.
-   Pack (Push,*n*) совпадает с Pack (Push), за которым следует Pack (*n*).
-   Pack (Push, *ID*) также передает *идентификатор* в стек упаковки вместе с размером пакета.
-   Pack (Push, *ID*, *n*) совпадает с Pack (Push, *ID*), за которым следует Pack (*n*).
-   Пакет (POP) приводит к извлечению стека упаковки. Несбалансированные POP приводят к предупреждениям и устанавливают текущий размер пакета в значение командной строки.
-   Если указан пакет (POP, *ID*, *n*), то *n* игнорируется.

Компилятор MIDL помещает строки, указанные в директивах [**\\ cpp \_**](cpp-quote.md) и **pragma** в файле заголовка, в последовательности, в которой они указаны в IDL-файле и относительно других компонентов интерфейса в IDL-файле. Строки обычно должны присутствовать в разделе Interface-Body файла IDL после всех операций [**импорта**](import.md) .

Компилятор MIDL не пытается обработать директивы **\# pragma** , которые не начинаются с префикса MIDL \_ . Другие директивы **\# pragma** в IDL-файле передаются в созданный файл заголовка без изменений.

## <a name="examples"></a>Примеры

``` syntax
/* IDL file */ 
#pragma midl_echo("#define UNICODE") 
cpp_quote("#define __DELAYED_PREPROCESSING__ 1") 
#pragma hdrstop 
#pragma check_pointer(on) 
 
/* generated header file */ 
#define UNICODE 
#define __DELAYED_PREPROCESSING__ 1 
#pragma hdrstop 
#pragma check_pointer(on)
```

## <a name="see-also"></a>См. также раздел

<dl> <dt>

[**\_цитата cpp**](cpp-quote.md)
</dt> <dt>

[Файл определения интерфейса (IDL)](interface-definition-idl-file.md)
</dt> <dt>

[**импортиру**](import.md)
</dt> <dt>

[**/ZP**](-zp.md)
</dt> </dl>

 

 




