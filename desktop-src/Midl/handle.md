---
title: атрибут Handle
description: Атрибут \ Handle \ указывает определяемый пользователем или \ 0034; настроенный \ 0034; Тип обработчика.
ms.assetid: db5c6ea6-6081-4cea-9265-5e2f67fd8c14
keywords:
- обработчик с атрибутом MIDL
topic_type:
- apiref
api_name:
- handle
api_type:
- NA
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: aacdb3611a12873a6e828c33606bb9c970747555c285f8612be2b43bc3f51adf
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119895294"
---
# <a name="handle-attribute"></a>атрибут Handle

Атрибут \[ **Handle** \] указывает определяемый пользователем или настроенный тип маркера.

``` syntax
typedef [handle] typename;  
handle_t __RPC_USER typename_bind (typename);
void __RPC_USER typename_unbind (typename, handle_t);
```

## <a name="parameters"></a>Параметры

<dl> <dt>

*имени* 
</dt> <dd>

Задает имя определяемого пользователем типа обработчика привязки.

</dd> </dl>

## <a name="remarks"></a>Remarks

Пользовательские дескрипторы позволяют разработчикам проектировать дескрипторы, имеющие смысл для приложения. Определяемый пользователем обработчик может быть определен только в объявлении типа, а не в деклараторе функции.

Параметр типа, определенного \[  \] атрибутом Handle, используется для определения привязки для вызова и передается вызываемой процедуре.

Пользователь должен предоставить подпрограммы привязки и отмены привязки для преобразования между примитивными и определяемыми пользователем типами маркеров. При наличии определяемого пользователем маркера типа *TypeName* пользователь должен предоставить подпрограммы с именем typeName  \_ **BIND** и *TypeName* \_ **Unbind**. Например, если определяемый пользователем тип Handle имеет имя МИХАНДЛЕ, подпрограммы именуются МИХАНДЛЕ \_ **BIND** и михандле \_ **Unbind**.

В случае успешного выполнения  \_ подпрограммы **привязки** TypeName должны возвращать допустимый маркер привязки типа "примитив". В случае неудачи подпрограммы должны возвращать **значение NULL**. Если подпрограммы возвращает **значение NULL**,  \_ подпрограммы **отмены привязки** typeName не будут вызываться. Если подпрограммы привязки возвращают недопустимый маркер привязки, отличный от **null**, то поведение заглушки не определено.

Если у удаленной процедуры есть определяемый пользователем обработчик в качестве параметра или неявный обработчик, заглушка клиента вызывает подпрограммы привязки перед вызовом удаленной процедуры. Заглушка клиента вызывает подпрограммы отмены привязки после удаленного вызова.

В DCE IDL параметр с \[  \] атрибутом Handle должен быть первым параметром в списке аргументов удаленной процедуры. Последующие параметры, включая другие \[ атрибуты **Handle** \] , обрабатываются как обычные параметры. Корпорация Майкрософт поддерживает расширение для устройства DCE IDL, которое позволяет \[ отобразить параметр пользовательского **обработчика** \] в позициях, отличных от первого параметра.

## <a name="examples"></a>Примеры

``` syntax
typedef [handle] struct 
{ 
    char machine[8]; 
    char nmpipe[256]; 
} h_service; 
 
handle_t __RPC_USER h_service_bind(h_service); 
void __RPC_USER h_service_unbind(h_service, handle_t);
```

## <a name="see-also"></a>См. также

<dl> <dt>

[Привязка и дескрипторы](/windows/desktop/Rpc/binding-and-handles)
</dt> <dt>

[Файл определения интерфейса (IDL)](interface-definition-idl-file.md)
</dt> <dt>

[**неявный \_ обработчик**](implicit-handle.md)
</dt> <dt>

[**определение**](typedef.md)
</dt> </dl>

 

 