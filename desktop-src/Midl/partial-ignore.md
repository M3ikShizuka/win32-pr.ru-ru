---
title: атрибут partial_ignore
description: Атрибут ACF \ partial \_ Ignore \ определяет специальную версию \ Unique \ указатели, которая предоставляет необязательную семантику.
ms.assetid: 8a8f88b0-4a12-496d-bf77-ee57241b577b
keywords:
- partial_ignore атрибута MIDL
topic_type:
- apiref
api_name:
- partial_ignore
api_type:
- NA
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 82d133275ca77032341d160b51b95b20235c8f2a
ms.sourcegitcommit: 57758ecb246c84d65e6e0e4bd5570d9176fa39cd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/25/2019
ms.locfileid: "104411921"
---
# <a name="partial_ignore-attribute"></a>атрибут частичного \_ игнорирования

Атрибут ACF **\[ partial \_ Ignore \]** определяет специальную версию **\[ уникальных \]** указателей, которая предоставляет необязательную семантику.

``` syntax
[ [function-attribute-list <>] ] type-specifier <> [pointer- <>declarator <>] function-name <>( [ partial_ignore [ , parameter-attribute-list <> ] ] type-specifier <> [declarator <>] , ...);
```

## <a name="remarks"></a>Комментарии

При создании функции обычно пользователи могут указывать **непустой** указатель на необязательные возвращаемые данные, часто называемые необязательным указателем. Память, на которую указывает пользователь, обычно не требуется инициализировать. Эта методика представляет проблему, если функция используется через RPC.

Если необязательный указатель является допустимым, но указывает на неинициализированные данные, RPC пытается маршалировать эти данные и отправить их на сервер, что может привести к сбою упаковки и прерыванию вызова. Даже в случае успешности упаковки на сервер отправляется потенциально большой объем бесполезным данных.

Эти проблемы решаются путем пометки указателя как «как» **\[ , «out», «Unique», «частично \_ игнорировать \] »**. Должны присутствовать все четыре атрибута. Если на стороне клиента выполняется маршалирование **\[ частично \_ игнорируемого \]** указателя, то только данные, передаваемые на сервер, являются индикатором, который показывает, имеет ли указатель **значение NULL**. Если указатель не имеет **значение NULL**, подпрограммы на стороне сервера получают допустимый указатель на блок памяти, инициализированный с нулями. Если указатель имеет **значение NULL**, подпрограммы на стороне сервера получают **пустой** указатель.

В этом случае максимальный размер указателя должен быть хорошо определен во время компиляции или на основе входных параметров, так как сервер должен выделить место для расположения памяти, на которое указывает. Например, простой указатель на **\[ строку \]** не имеет хорошо определенного размера, так как строка неявно завершается символом NULL. В этом случае указание максимального размера строки путем добавления атрибута **\[ size \_ \]** приведет к правильному определению требований к размеру.

## <a name="examples"></a>Примеры

``` syntax
/* The MoveLeft function will move one position to the left and optionally return the previous position */
void MoveLeft([in, out, unique, partial_ignore] long *pPrevPosition);
```

## <a name="see-also"></a>См. также раздел

<dl> <dt>

[**однозначно**](unique.md)
</dt> </dl>

 

 




