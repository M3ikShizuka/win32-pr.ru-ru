---
title: Оптимизация атрибута
description: Атрибут \ optimize \ ACF используется для точной настройки уровня градации для маршалирования данных.
ms.assetid: d636d940-0550-417f-a21a-065bdeaeb5d9
keywords:
- Оптимизация атрибута MIDL
topic_type:
- apiref
api_name:
- optimize
api_type:
- NA
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: a7703a3539ff16c7f2dc78d51c62cfe05612dcb6e935bb5c5701f9a7b59a9f1d
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119869574"
---
# <a name="optimize-attribute"></a>Оптимизация атрибута

Атрибут **\[ optimize \]** ACF используется для точной настройки уровня градации для маршалирования данных.

> [!Note]  
> Это ключевое слово суперцеедед и не должно использоваться. В текущих компиляциях MIDL вместо этого следует использовать [**/Oicf**](-oi.md)[**/robust**](-robust.md) .

 

``` syntax
optimize ("optimization-options")
```

## <a name="parameters"></a>Параметры

<dl> <dt>

*параметры оптимизации* 
</dt> <dd>

Указывает метод маршалирования данных. Используйте "s" для маршалирования в смешанном режиме или "i" для интерпретируемого маршалирования.

</dd> </dl>

## <a name="remarks"></a>Remarks

Эта версия RPC предоставляет два метода для маршалирования данных: смешанный режим ("s") и интерпретируемый ("i"). Эти методы соответствуют параметрам командной строки [**/OS**](-os.md) и [**/Oi**](-oi.md) . Интерпретируемый метод выполняет передачу данных полностью в автономном режиме. Хотя это может значительно снизить размер заглушки, это может повлиять на производительность.

Если важна производительность, то лучшим подходом может быть метод смешанного режима. Смешанный режим позволяет компилятору MIDL определить, какие данные будут маршалированы во встроенном виде и что будет маршалирован при вызове в автономную библиотеку динамической компоновки. Если многие процедуры используют одни и те же типы данных, для маршалирования данных можно многократно вызывать одну процедуру. Таким образом, данные, наиболее подходящие для встроенного маршалирования, обрабатываются в виде встроенных данных, а другие данные могут быть более эффективно упакованы в автономный режим.

Обратите внимание, что атрибут **\[ optimize \]** можно использовать как атрибут интерфейса или как атрибут операции. Если он используется как атрибут интерфейса, он задает значение по умолчанию для всего интерфейса, переопределяя параметры командной строки. Однако если он используется как атрибут операции, он влияет только на эту операцию, переопределяя параметры командной строки и интерфейс по умолчанию.

## <a name="examples"></a>Примеры

``` syntax
optimize ("s") HRESULT FasterProcedure(...); 
optimize ("i") HRESULT SmallerProcedure(...);
```

## <a name="see-also"></a>См. также

<dl> <dt>

[Файл конфигурации приложения (ACF)](application-configuration-file-acf-.md)
</dt> <dt>

[**/Oi**](-oi.md)
</dt> <dt>

[**/OS**](-os.md)
</dt> <dt>

[**/robust**](-robust.md)
</dt> </dl>

 

 




