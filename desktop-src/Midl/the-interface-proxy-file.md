---
title: Прокси-файл интерфейса
description: Прокси-файл интерфейса (U \_ p. c) — это файл c, который содержит подпрограммы, эквивалентные параметрам в заглушках клиента и серверам-заглушках интерфейса Object (com).
ms.assetid: f85f7384-a590-4146-9705-2e87f1a0a87a
keywords:
- MIDL и COM MIDL, интерфейсы, прокси-файлы
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7be52b3561af03df0375212d729f64f41e3cdd7b
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "103986663"
---
# <a name="the-interface-proxy-file"></a>Прокси-файл интерфейса

Прокси-файл интерфейса (U \_ p. c) — это файл c, который содержит подпрограммы, эквивалентные параметрам в заглушках клиента и серверам-заглушках интерфейса Object (com). Этот файл содержит реализации суррогатных подпрограмм для клиента и сервера во встроенном режиме компилятора или эквивалентных данных и преобразователей в интерпретируемых режимах, а также других соответствующих связующих данных COM, таких как прокси-серверы и заглушки.

Файл прокси-сервера интерфейса включает вспомогательные подпрограммы и данные только для методов интерфейсов, определенных в текущем IDL-файле. Чтобы объяснить это поведение, в этом разделе используется расширенный пример. При компиляции IDL-файла с интерфейсом, таким как Ифацеб, который наследуется от Ифацеа, Ифацеб связанные вспомогательные данные и подпрограммы генерируются для текущего прокси-файла, а базовый интерфейс Ифацеа связанные вспомогательные данные и подпрограммы находятся в прокси, созданном на основе файла IDL, содержащего определение Ифацеа. Компилятор создает все данные, необходимые для указания суррогатов базового интерфейса, и делегирует их при необходимости для поддержки методов Ифацеа, используемых через интерфейс Ифацеб.

Для каждого метода в интерфейсе в текущем IDL-файле файл прокси содержит следующие два суррогатных метода при компиляции в смешанном режиме ([/OS](-os.md)) и эквивалентные данные интерпретатора при компиляции в режиме интерпретатора ([/Oi](-oi.md)).

-   Суррогат на стороне клиента, например \_ прокси метода ифацеб \_ в этом примере.

    Этот суррогат на стороне клиента — это виртуальная точка входа, в которую клиент, например Ифацеб:: Method, отправляется. Он маршалирует входные аргументы в передаваемые формы, передает Упакованные аргументы вместе со сведениями, идентифицирующими интерфейс и операцию, а затем демаршалирует возвращаемое значение и любые выходные аргументы при возвращении вызванной операции.

-   Суррогат на стороне сервера, например \_ \_ заглушка метода ифацеб.

    Этот суррогат на стороне сервера — это виртуальная точка входа, которую отправляются базовой средой выполнения на сервер для эмуляции клиента. Он выполняет детрансляцию входных аргументов для репликации клиентских данных, вызывает реализацию функции интерфейса сервера, а затем маршалирует и передает возвращаемое значение и все выходные аргументы обратно на клиентскую сторону.

Имя по умолчанию для прокси-файла, созданного из файла. idl, — это файл \_ p. c. Используйте параметр компилятора [**/proxy**](-proxy.md) MIDL, чтобы переопределить имя по умолчанию для файла прокси интерфейса. Параметры [**/env**](-env.md) и [**/out**](-out.md) влияют на этот файл.

 

 




