---
title: switch_is - атрибут
description: Параметр \ Switch \_ имеет атрибут \ задает выражение или идентификатор, выступающий в качестве discriminant объединения, который выбирает элемент объединения.
ms.assetid: 93552bdf-6a14-47ce-877e-32ed976bb895
keywords:
- switch_is атрибута MIDL
topic_type:
- apiref
api_name:
- switch_is
api_type:
- NA
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 1975dcf38a04fc127de199e7cc663c8af41b63e6ce8f92d38be2115316ed0727
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118382845"
---
# <a name="switch_is-attribute"></a>параметр \_ имеет атрибут

**\[ \_ Параметр \]** Attribute указывает выражение или идентификатор, выступающий в качестве discriminant объединения, который выбирает элемент объединения.

``` syntax
typedef struct [[ struct-tag ]] 
{
    [ switch_is(limited-expr) [[ , field-attr-list ]] ] union-type-specifier declarator;
    ...
}

[[ [function-attribute-list] ]] type-specifier [[pointer-declarator]] function-name(
    [ switch_is(limited-expr) [[ , param-attr-list ]] ] union-type [[declarator]]
    , ...);
```

## <a name="parameters"></a>Параметры

<dl> <dt>

*Тег struct* 
</dt> <dd>

Указывает необязательный тег для структуры.

</dd> <dt>

*Limited-expr* 
</dt> <dd>

Указывает выражение языка C, поддерживаемое MIDL. Поддерживаются почти все выражения языка C. Компилятор MIDL поддерживает условные выражения, логические выражения, реляционные выражения и арифметические выражения. MIDL не разрешает вызовы функций в выражениях и не допускает операторы pre и POST и до и после приращения.

</dd> <dt>

*поле-attr-список* 
</dt> <dd>

Указывает ноль или более атрибутов полей, применимых к элементу объединения. К допустимым атрибутам полей относятся: **\[** [**First \_**](first-is.md)—, **\]** **\[** [**Last \_ —**](last-is.md), **\]** **\[** [**length \_ —**](length-is.md) **\]** , **\[** [**Max \_ —**](max-is.md) **\]** , **\[** [**size \_ —**](size-is.md), **\]** String атрибуты использования **\[** [](string.md) **\]** , **\[** [**Ignore**](ignore.md) **\]** и **\[** [**Контекстный \_ маркер**](context-handle.md) **\]** ; атрибут указателя **\[** [**ref**](ref.md) **\]** , **\[** [**UNIQUE**](unique.md) **\]** или **\[** [**ptr**](ptr.md), **\]** а также для членов, которые сами являются членами, **\[** [**\_ Тип переключателя**](switch-type.md)атрибута объединения **\]** . Несколько атрибутов полей разделяются запятыми.

</dd> <dt>

*спецификатор Union-Type* 
</dt> <dd>

Указывает идентификатор типа [**объединения**](union.md) . Дополнительная спецификация хранилища может предшествовать *спецификатору типа*.

</dd> <dt>

*декларатор и декларатор-список* 
</dt> <dd>

Задает стандартный декларатор C, например идентификатор, декларатор указателя и декларатор массива. (Деклараторы функций и объявления битовых полей не допускаются в объединениях, передаваемых в удаленных вызовах процедур. Эти деклараторы разрешены в объединениях, которые не передаются.) Несколько деклараторов разделяются запятыми.

</dd> <dt>

*Function-Attribute-List* 
</dt> <dd>

Указывает ноль или более атрибутов, которые применяются к функции. Допустимые атрибуты функции — **\[** [**обратный вызов**](callback.md) **\]** , **\[** [**локальный**](local.md) **\]** объект, атрибут указателя **\[ \] ref**, **\[ Unique \]** или **\[ ptr \]**; и атрибуты использования **\[ строка \]**, **\[ Ignore \]** и **\[ Контекстный \_ маркер \]**.

</dd> <dt>

*Описатель типа* 
</dt> <dd>

Задает [базовый тип](midl-base-types.md), [**структуру**](struct.md), [**объединение**](union.md), тип [**перечисления**](enum.md) или идентификатор типа. Дополнительная спецификация хранилища может предшествовать *спецификатору типа*.

</dd> <dt>

*декларатор указателя* 
</dt> <dd>

Указывает ноль или несколько деклараторов указателей. Декларатор указателя аналогичен декларатору указателя, используемому в C; Он создается из \* указателя, модификаторов, таких как **FAR**, и квалификатора [**const**](const.md).

</dd> <dt>

*имя функции* 
</dt> <dd>

Задает имя удаленной процедуры.

</dd> <dt>

*Param-attr-список* 
</dt> <dd>

Указывает ноль или более атрибутов, подходящих для указанного типа параметра. Атрибуты параметров могут **\[ \]** принимать и исключать **\[ атрибуты \]** направления, атрибуты полей **\[ \_ \] —**, **\[ Last \_ — \]**, **\[ length \_ — \]**, **\[ Max \_ — \]**, **\[ size \_ — \]** и **\[ \_ тип \] переключателя**; атрибут указателя **\[ ref \]**, **\[ Unique \]** или **\[ ptr \]**, а также **\[ \_ маркер \] контекста** атрибутов использования и **\[ строка \]**. Атрибут использования **\[ Ignore \]** не может использоваться в качестве атрибута параметра. Несколько атрибутов разделяются запятыми.

</dd> <dt>

*Тип объединения* 
</dt> <dd>

Определяет спецификатор типа [**объединения**](union.md) .

</dd> </dl>

## <a name="remarks"></a>Remarks

Discriminant, связанный с **\[ параметром \_ \]** , должен быть определен на том же логическом уровне, что и объединение:

-   Если Union является параметром, discriminant объединения должен быть другим параметром.
-   Если объединение является полем структуры, discriminant должно быть другим полем той же структуры.

Последовательность в структуре или списке параметров функции не имеет значения. Объединение может предшествовать discriminant или следовать за ним.

Атрибут **\[ \_ Switch \]** может использоваться в качестве атрибута поля или в качестве атрибута параметра.

## <a name="examples"></a>Примеры

``` syntax
typedef [switch_type(short)] union _WILLIE_UNION_TYPE 
{ 
    [case(24)] 
        float fMays; 
    [case(25)] 
        double dMcCovey; 
    [default] 
        ; 
} WILLIE_UNION_TYPE; 
 
typedef struct _WINNER_TYPE 
{ 
    [switch_is(sUniformNumber)] WILLIE_UNION_TYPE w; 
    short sUniformNumber; 
} WINNER_TYPE;
```

## <a name="see-also"></a>См. также раздел

<dl> <dt>

[Базовые типы MIDL](midl-base-types.md)
</dt> <dt>

[**обратный вызов**](callback.md)
</dt> <dt>

[**const**](const.md)
</dt> <dt>

[**Контекстный \_ маркер**](context-handle.md)
</dt> <dt>

[Инкапсулированные объединения](encapsulated-unions.md)
</dt> <dt>

[**enum**](enum.md)
</dt> <dt>

[**первый \_ —**](first-is.md)
</dt> <dt>

[**обращать**](ignore.md)
</dt> <dt>

[**Последний \_ —**](last-is.md)
</dt> <dt>

[**Длина \_ равна**](length-is.md)
</dt> <dt>

[**Языковые**](local.md)
</dt> <dt>

[**Максимальное \_ число**](max-is.md)
</dt> <dt>

[Неинкапсулированные объединения](nonencapsulated-unions.md)
</dt> <dt>

[**указатель**](ptr.md)
</dt> <dt>

[**ref**](ref.md)
</dt> <dt>

[**размер \_ равен**](size-is.md)
</dt> <dt>

[**строка**](string.md)
</dt> <dt>

[**struct**](struct.md)
</dt> <dt>

[**Тип коммутатора \_**](switch-type.md)
</dt> <dt>

[**наборов**](union.md)
</dt> <dt>

[**однозначно**](unique.md)
</dt> </dl>

 

 




