---
title: закодировать атрибут
description: Атрибут \ Encoded \ ACF указывает, что для процедуры или типа данных требуется поддержка сериализации.
ms.assetid: 2661021d-8a26-4216-935b-ca40b6f8b9ec
keywords:
- кодирование атрибута MIDL
topic_type:
- apiref
api_name:
- encode
api_type:
- NA
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 7c2a35c6d6910229a9e14026f6727db5c3176050
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/19/2020
ms.locfileid: "103987390"
---
# <a name="encode-attribute"></a>закодировать атрибут

Атрибут **\[ Encoded \]** ACF указывает, что для процедуры или типа данных требуется поддержка сериализации.

``` syntax
[ 
    encode 
    [ , interface-attribute-list] 
] 
interface interface-name
{
    interface-definition
}

[ encode [ , op-attribute-list] ] proc-name

typedef [encode [ , type-attribute-list] ] type-name
```

## <a name="parameters"></a>Параметры

<dl> <dt>

*Interface-список атрибутов* 
</dt> <dd>

Указывает другие атрибуты, применяемые к интерфейсу в целом.

</dd> <dt>

*имя интерфейса* 
</dt> <dd>

Указывает имя интерфейса.

</dd> <dt>

*определение интерфейса* 
</dt> <dd>

Задает инструкции IDL, которые формируют определение интерфейса.

</dd> <dt>

*Список атрибутов Op* 
</dt> <dd>

Указывает другие операционные атрибуты, которые применяются к такой процедуре, как **\[** [**декодирование**](decode.md) **\]** .

</dd> <dt>

*имя процесса* 
</dt> <dd>

Указывает имя процедуры.

</dd> <dt>

*Type-Attribute-List* 
</dt> <dd>

Задает другие атрибуты, применяемые к типу, например **\[** [**декодированию**](decode.md) **\]** и **\[** [**выделению**](allocate.md) **\]** .

</dd> <dt>

*имя типа* 
</dt> <dd>

Указывает тип, определенный в IDL-файле.

</dd> </dl>

## <a name="remarks"></a>Комментарии

Атрибут **\[ Encoded \]** заставляет компилятор MIDL создавать код, который приложение может использовать для сериализации данных в буфер. Атрибут **\[** [**декодирования**](decode.md) **\]** создает код для распаковки данных из буфера.

Используйте атрибуты **\[ кодирования \]** и **\[** [**декодирования**](decode.md) **\]** в ACF, чтобы создать код СЕРИАЛИЗАЦИИ для процедур или типов, определенных в IDL-файле интерфейса. При использовании в качестве атрибута интерфейса **\[ кодировка \]** применяется ко всем типам и процедурам, определенным в IDL-файле. При использовании в качестве рабочего атрибута **\[ кодировка \]** применяется только к указанной процедуре. При использовании в качестве атрибута типа **\[ кодировка \]** применяется только к указанному типу.

Когда к процедуре применяется атрибут **\[ Encoded \]** или **\[** [**дешифровки**](decode.md) **\]** , компилятор MIDL создает заглушку сериализации таким же образом, как удаленные заглушки создаются для удаленных подпрограмм. Процедура может быть либо удаленной, либо процедурой сериализации, но не может быть одновременно. Прототип созданной подпрограммы отправляется в ЗАГЛУШКу. H-файл, когда заглушка перемещается в файл ЗАГЛУШКи \_ c. c.

Компилятор MIDL создает две функции для каждого типа, к которому применяется атрибут **\[ \] кодирования** , и одну дополнительную функцию для каждого типа, **\[** к которому применяется атрибут [**декодирования**](decode.md) **\]** . Например, для определяемого пользователем типа с именем MyType компилятор создает код для \_ функций шифрования MyType, MyType \_ и MyType \_ алигнсизе. Для этих функций компилятор записывает прототипы в ЗАГЛУШКу. H и исходный код для ЗАГЛУШЕК \_ к.к.

Дополнительные сведения о дескрипторах сериализации и кодировании или декодировании данных см. в разделе [службы сериализации](/windows/desktop/Rpc/serialization-services).

## <a name="examples"></a>Примеры

``` syntax
/* 
    ACF file example; 
    Assumes MyType1, MyType2, MyType3, MyProc1, MyProc2, MyProc3 defined 
    in IDL file  
    MyType1, MyType2, MyProc1, MyProc2 have encode and decode 
    serialization support 
    MyType3 and MyProc3 have encode serialization support only 
*/ 
[ 
    encode, 
    implicit_handle(handle_t bh) 
]    
interface regress 
{ 
    typedef [ decode ] MyType1; 
    typedef [ encode, decode ] MyType2; 
    [ decode ] MyProcc1(); 
    [ encode ] MyProc2(); 
}
```

## <a name="see-also"></a>См. также раздел

<dl> <dt>

[Файл конфигурации приложения (ACF)](application-configuration-file-acf-.md)
</dt> <dt>

[**allocate**](allocate.md)
</dt> <dt>

[**декодировать**](decode.md)
</dt> </dl>

 

 