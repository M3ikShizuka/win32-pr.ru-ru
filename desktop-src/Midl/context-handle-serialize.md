---
title: атрибут context_handle_serialize
description: Атрибут \ " \_ сериализация дескриптора контекста \_ \ ACF \" гарантирует, что дескриптор контекста будет всегда сериализован независимо от поведения приложения по умолчанию.
ms.assetid: e2f48582-228a-4725-9543-1e638d86ff6b
keywords:
- context_handle_serialize атрибута MIDL
topic_type:
- apiref
api_name:
- context_handle_serialize
api_type:
- NA
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: c91bf9ab1610585001b1380b15ba5a89433f80194596e26cbae84692ff3a872a
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119013962"
---
# <a name="context_handle_serialize-attribute"></a>\_атрибут сериализации обработчика контекста \_

Атрибут **\[ \_ \_ сериализации \] дескриптора контекста** ACF гарантирует, что дескриптор контекста будет всегда сериализован независимо от поведения приложения по умолчанию.

``` syntax
typedef [context_handle_serialize [ , type-acf-attribute-list ] ] context-handle-type;

[context_handle_serialize [, function-acf-attribute-list ] ] function-name( );

function-name(
    [context_handle_serialize [ , parameter-acf-attribute-list ] ] param-name );
```

## <a name="parameters"></a>Параметры

<dl> <dt>

*Type-ACF-Attribute-List* 
</dt> <dd>

Любые другие атрибуты ACF, применяемые к типу.

</dd> <dt>

*Контекстный-Handle-тип* 
</dt> <dd>

Идентификатор, указывающий тип обработчика контекста, как определено в объявлении [**typedef**](typedef.md) . Это тип, который получает атрибут " **\[ \_ \_ \] СЕРИАЛИЗОВАТЬ обработчик контекста** " в IDL-файле.

</dd> <dt>

*Функция-ACF-Attribute-List* 
</dt> <dd>

Любые дополнительные атрибуты ACF, применяемые к функции.

</dd> <dt>

*имя функции* 
</dt> <dd>

Имя функции, определенное в IDL-файле.

</dd> <dt>

*параметр-ACF-Attribute-List* 
</dt> <dd>

Любые другие атрибуты ACF, применяемые к параметру.

</dd> <dt>

*Param-Name* 
</dt> <dd>

Имя параметра, определенное в IDL-файле.

</dd> </dl>

## <a name="remarks"></a>Remarks

Атрибут **\[ \_ \_ сериализации \] обработчика контекста** определяет маркер привязки, который хранит сведения о контексте или состоянии на сервере между вызовами удаленных процедур. Атрибут может отображаться как атрибут типа IDL [**typedef**](typedef.md) , как атрибут типа возвращаемого значения функции, или как атрибут параметра.

По умолчанию вызовы дескрипторов контекста сериализуются, но приложение может вызвать [**рпкссдонтсериализеконтекст**](/windows/desktop/api/rpcdce/nf-rpcdce-rpcssdontserializecontext) , чтобы переопределить это поведение по умолчанию. Использование атрибута **\[ \_ \_ сериализации \] дескриптора контекста** в файле ACF гарантирует, что вызовы в данном конкретном дескрипторе контекста будут сериализованы, даже если вызывающее приложение переопределило сериализацию по умолчанию. Подпрограммы очистки контекста необязательны.

Этот атрибут доступен в MIDL версии 5,0.

**Windows server 2003 и windows XP или более поздней версии:** Один интерфейс может разрешать как сериализованные, так и несериализованные дескрипторы контекста, что позволяет одному методу интерфейса получить доступ к дескриптору контекста исключительно (сериализованный), а другие методы — к этому дескриптору контекста в общем режиме (не сериализованном). Эти возможности доступа сравнимы с механизмами блокировки чтения и записи. методы, использующие сериализованный контекстный маркер, являются эксклюзивными пользователями (модулями записи), тогда как методы, использующие несериализованный контекст контекста, являются общими пользователями (читателями). Методы, которые удаляют или изменяют состояние обработчика контекста, должны быть сериализованы. Методы, которые не изменяют состояние маркера контекста, например методы, которые просто считывают из обработчика контекста, могут быть несериализуемыми. Обратите внимание, что методы создания неявно сериализуются.

## <a name="examples"></a>Примеры

``` syntax
typedef [context_handle_serialize] PCONTEXT_HANDLE_TYPE; 
HRESULT RemoteFunc([context_handle_serialize] pCxHandle);
```

## <a name="see-also"></a>См. также раздел

<dl> <dt>

[Файл конфигурации приложения (ACF)](application-configuration-file-acf-.md)
</dt> <dt>

[Атрибуты ACF](acf-attributes.md)
</dt> <dt>

[**несериализуемый контекстный \_ обработчик \_**](context-handle-noserialize.md)
</dt> <dt>

[**Контекстный \_ маркер**](context-handle.md)
</dt> <dt>

[Дескрипторы контекста](/windows/desktop/Rpc/context-handles)
</dt> <dt>

[**рпкссдонтсериализеконтекст**](/windows/desktop/api/rpcdce/nf-rpcdce-rpcssdontserializecontext)
</dt> <dt>

[Подпрограммы запуска контекста сервера](/windows/desktop/Rpc/server-context-run-down-routine)
</dt> <dt>

[Многопоточные клиенты и дескрипторы контекста](/windows/desktop/Rpc/multithreaded-clients-and-context-handles)
</dt> <dt>

[**определение**](typedef.md)
</dt> </dl>

 

 