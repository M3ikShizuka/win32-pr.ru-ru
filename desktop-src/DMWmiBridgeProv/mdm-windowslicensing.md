---
title: Класс MDM_WindowsLicensing
description: Класс MDM \_ виндовслиценсинг предназначен для сценариев управления, связанных с лицензированием.
ms.assetid: 9b26d8dc-aab6-4c67-9dbc-4b53525b9354
keywords:
- Класс MDM_WindowsLicensing
- MDM_WindowsLicensing класс, описание
topic_type:
- apiref
api_name:
- MDM_WindowsLicensing
- MDM_WindowsLicensing.InstanceID
- MDM_WindowsLicensing.ParentID
api_location:
- DMWmiBridgeProv.dll
api_type:
- DllExport
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: ca9470b72cb6a50323af9294be4a6506682fc7aa
ms.sourcegitcommit: 9b5faa61c38b2d0c432b7f2dbee8c127b0e28a7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/19/2021
ms.locfileid: "122480930"
---
# <a name="mdm_windowslicensing-class"></a>\_Класс MDM виндовслиценсинг

\[Некоторые сведения относятся к предварительно выпущенному продукту, который может быть значительно изменен перед коммерческой выпуском. Майкрософт не предоставляет никаких гарантий, явных или подразумеваемых, относительно приведенных здесь сведений.\]

Класс **MDM \_ виндовслиценсинг** предназначен для сценариев управления, связанных с лицензированием. в настоящее время область ограничена обновлением выпуска Windows 10 настольных и мобильных устройств, таких как Windows 10 Pro Windows 10 Корпоративная. кроме того, этот CSP предоставляет возможность активировать или изменить ключ продукта Windows 10 настольных устройств.

Следующий синтаксис упрощен из MOF-кода и включает все унаследованные свойства.

## <a name="syntax"></a>Синтаксис

``` syntax
[InPartition("local-system"), dynamic, provider("DMWmiBridgeProv")]
class MDM_WindowsLicensing
{
  string InstanceID;
  string ParentID;
  sint32 Edition;
  sint32 Status;
  string LicenseKeyType;
};
```

## <a name="members"></a>Члены

Класс **MDM \_ виндовслиценсинг** имеет следующие типы членов:

-   [Методы](#methods)
-   [Свойства](#properties)

### <a name="methods"></a>Методы

Класс **MDM \_ виндовслиценсинг** содержит следующие методы.




| Метод | Описание | 
|--------|-------------|
| <a href="mdm-windowslicensing-changeproductkeymethod.md"><strong>чанжепродукткэймесод</strong></a> | устанавливает ключ продукта для устройств Windows 10 настольных пк. Не выполняет перезагрузку.<br /> | 
| <a href="mdm-windowslicensing-checkapplicabilitymethod.md"><strong>чеккаппликабилитимесод</strong></a> | метод, позволяющий проверить, можно ли использовать указанный ключ продукта для обновления выпуска, активировать или изменить ключ продукта Windows 10 для устройств настольных систем.<br /> | 
| <a href="mdm-windowslicensing-upgradeeditionwithlicensemethod.md"><strong>упградидитионвислиценсемесод</strong></a> | предоставьте лицензию на обновление выпуска Windows 10 мобильных устройств.<br /><blockquote>[!Note]<br />Этот процесс обновления не требует перезагрузки системы.</blockquote><br /><br /> Тип даты — XML.<br /> Поддерживаемая операция — Execute.<br /><blockquote>[!Important]<br />содержимое файла лицензии XML должно быть правильно экранировано (то есть он не должен быть просто копированием XML); в противном случае обновление выпуска на Windows 10 мобильных устройствах завершится сбоем. Дополнительные сведения о правильном экранировании XML-файла лицензии см. в разделе 2,4 <a href="https://www.w3.org/TR/xml/">спецификации W3C XML</a>. Файл лицензии XML получен из центра поддержки корпоративных лицензий Майкрософт. Чтобы получить доступ к порталу, ваша организация должна иметь контракт корпоративного лицензирования с корпорацией Майкрософт.</blockquote><br /> Ниже приведены допустимые варианты обновления выпуска при использовании этого узла с помощью пакета MDM или подготовки.<ul><li>Windows 10 мобилето Windows 10 Mobile Корпоративная<br /></li></ul><br /> | 
| <a href="mdm-windowslicensing-upgradeeditionwithproductkeymethod.md"><strong>упградидитионвиспродукткэймесод</strong></a> | Активирует устройство для получения ключа продукта и обновления выпуска клиента.<blockquote>[!Note]<br />Для этого процесса обновления требуется перезагрузка системы.</blockquote><br /><br /> Поддерживаемая операция — Execute.<br /> Когда ключ продукта помещается с сервера MDM на устройство пользователя, <strong>changepk.exe</strong> запускается с помощью ключа продукта. после завершения работы пользователю отображается уведомление о том, что доступен новый выпуск Windows 10. После этого пользователь может перезагрузить систему вручную или, через два часа, устройство будет автоматически перезапущено для завершения обновления. Перед автоматическим перезапуском пользователь получит уведомление за 10 минут.<br /> После перезапуска устройства процесс обновления выпуска будет завершен. Пользователь получит уведомление об успешном обновлении.<blockquote>[!Important]<br />Если другой политике требуется перезагрузка системы, которая происходит при <strong>changepk.exe</strong> выполняется, обновление выпуска завершится ошибкой.</blockquote><br /><br /> Если ключ продукта вводится в пакете подготовки, и пользователь начинает установку пакета, уведомление отображается пользователю, что для завершения установки пакета будет выполнена перезагрузка системы. После явного согласия пользователя выполнение пакета продолжается, а <strong>changepk.exe</strong> запускается с помощью ключа продукта. Пользователь получит уведомление с напоминанием за 30 секунд до автоматического перезапуска. <br /> После перезапуска устройства процесс обновления выпуска будет завершен. Пользователь получит уведомление об успешном обновлении. <br /> этот узел можно также использовать для активации или изменения ключа продукта в определенном выпуске Windows 10 настольного устройства, введя ключ продукта. Активация или изменение ключа продукта не требует перезагрузки и является автоматическим процессом для пользователя.<br /><blockquote>[!Important]<br />ключ продукта должен состоять из 29 символов (то есть должен включать тире), иначе при активации, обновлении выпуска или изменении ключа продукта на Windows 10 настольных устройствах произойдет сбой. Ключ продукта получен из центра поддержки корпоративных лицензий Майкрософт. Чтобы получить доступ к порталу, ваша организация должна иметь контракт корпоративного лицензирования с корпорацией Майкрософт.</blockquote><br /> Ниже приведены допустимые варианты обновления выпуска при использовании этого узла через MDM:<ul><li>Windows 10 Корпоративная Windows 10 для образовательных учреждений</li><li>Windows 10 Домашняя Windows 10 для образовательных учреждений</li><li>Windows 10 Pro Windows 10 для образовательных учреждений</li><li>Windows 10 Pro Windows 10 Корпоративная</li></ul><br /> Активация или изменение ключа продукта может быть выполнена в следующих выпусках:<ul><li>Windows 10 для образовательных учреждений</li><li>Windows 10 Корпоративная</li><li>Windows 10 Домашняя</li><li>Windows 10 Pro</li></ul><br /> | 




 

### <a name="properties"></a>Свойства

Класс **MDM \_ виндовслиценсинг** имеет следующие свойства.

<dl> <dt>

[Выпуск](/windows/client-management/mdm/windowslicensing-csp#edition)
</dt> <dd> <dl> <dt>

Тип данных: **Sint32**
</dt> <dt>

Тип доступа: чтение и запись
</dt> </dl>

</dd> <dt>

**InstanceID**
</dt> <dd> <dl> <dt>

Тип данных: **строка**
</dt> <dt>

Тип доступа: только для чтения
</dt> <dt>

Квалификаторы: [ **ключ**](/windows/desktop/WmiSdk/key-qualifier)
</dt> </dl>

Определяет имя родительского узла.

</dd> <dt>

[лиценсекэйтипе](/windows/client-management/mdm/windowslicensing-csp#licensekeytype)
</dt> <dd> <dl> <dt>

Тип данных: **строка**
</dt> <dt>

Тип доступа: чтение и запись
</dt> </dl>

</dd> <dt>

**ParentID**
</dt> <dd> <dl> <dt>

Тип данных: **строка**
</dt> <dt>

Тип доступа: только для чтения
</dt> <dt>

Квалификаторы: [ **ключ**](/windows/desktop/WmiSdk/key-qualifier)
</dt> </dl>

Описывает полный путь к родительскому узлу. Для этого класса строка имеет значение "./вендор/мсфт/"

</dd> <dt>

[Состояние](/windows/client-management/mdm/windowslicensing-csp#subscriptions-subscriptionid-status)
</dt> <dd> <dl> <dt>

Тип данных: **Sint32**
</dt> <dt>

Тип доступа: чтение и запись
</dt> </dl>

</dd> </dl>

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|------------------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows 10 \[ только классические приложения\]<br/>                                                    |
| Минимальная версия сервера<br/> | Ни одна версия не поддерживается<br/>                                                                      |
| Пространство имен<br/>                | Корневой \\ CIMv2 \\ MDM \\ дммап<br/>                                                             |
| MOF<br/>                      | <dl> <dt>Дмвмибриджепров. mof</dt> </dl> |
| DLL<br/>                      | <dl> <dt>DMWmiBridgeProv.dll</dt> </dl> |



## <a name="see-also"></a>См. также

<dl> <dt>

[Использование сценариев PowerShell с WMI Bridge Provider](/windows/client-management/mdm/using-powershell-scripting-with-the-wmi-bridge-provider)
</dt> </dl>

 

