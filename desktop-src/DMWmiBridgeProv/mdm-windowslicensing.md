---
title: Класс MDM_WindowsLicensing
description: Класс MDM \_ виндовслиценсинг предназначен для сценариев управления, связанных с лицензированием.
ms.assetid: 9b26d8dc-aab6-4c67-9dbc-4b53525b9354
keywords:
- Класс MDM_WindowsLicensing
- MDM_WindowsLicensing класс, описание
topic_type:
- apiref
api_name:
- MDM_WindowsLicensing
- MDM_WindowsLicensing.InstanceID
- MDM_WindowsLicensing.ParentID
api_location:
- DMWmiBridgeProv.dll
api_type:
- DllExport
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: cd77bbdb1a7e5c708ebcd955a0c8854c7c7404b4
ms.sourcegitcommit: a1494c819bc5200050696e66057f1020f5b142cb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/12/2020
ms.locfileid: "105654475"
---
# <a name="mdm_windowslicensing-class"></a>\_Класс MDM виндовслиценсинг

\[Некоторые сведения относятся к предварительно выпущенному продукту, который может быть значительно изменен перед коммерческой выпуском. Майкрософт не дает никаких гарантий, явных или подразумеваемых, в отношении предоставленной здесь информации.\]

Класс **MDM \_ виндовслиценсинг** предназначен для сценариев управления, связанных с лицензированием. В настоящее время область ограничена обновлением выпуска Windows 10 Desktop и мобильными устройствами, например Windows 10 Pro до Windows 10 Корпоративная. Кроме того, этот CSP предоставляет возможность активировать или изменить ключ продукта для устройств Windows 10 Desktop.

Следующий синтаксис упрощен из MOF-кода и включает все унаследованные свойства.

## <a name="syntax"></a>Синтаксис

``` syntax
[InPartition("local-system"), dynamic, provider("DMWmiBridgeProv")]
class MDM_WindowsLicensing
{
  string InstanceID;
  string ParentID;
  sint32 Edition;
  sint32 Status;
  string LicenseKeyType;
};
```

## <a name="members"></a>Члены

Класс **MDM \_ виндовслиценсинг** имеет следующие типы членов:

-   [Методы](#methods)
-   [Свойства](#properties)

### <a name="methods"></a>Методы

Класс **MDM \_ виндовслиценсинг** содержит следующие методы.



<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Метод</th>
<th style="text-align: left;">Описание</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><a href="mdm-windowslicensing-changeproductkeymethod.md"><strong>чанжепродукткэймесод</strong></a></td>
<td style="text-align: left;">Устанавливает ключ продукта для устройств Windows 10 Desktop. Не выполняет перезагрузку.<br/></td>
</tr>
<tr class="even">
<td style="text-align: left;"><a href="mdm-windowslicensing-checkapplicabilitymethod.md"><strong>чеккаппликабилитимесод</strong></a></td>
<td style="text-align: left;">Метод, позволяющий проверить, можно ли использовать указанный ключ продукта для обновления выпуска, активировать или изменить ключ продукта Windows 10 для настольных устройств.<br/></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><a href="mdm-windowslicensing-upgradeeditionwithlicensemethod.md"><strong>упградидитионвислиценсемесод</strong></a></td>
<td style="text-align: left;">Предоставьте лицензию на обновление выпуска для устройств Windows 10 Mobile.<br/>
<blockquote>
[!Note]<br />
Этот процесс обновления не требует перезагрузки системы.
</blockquote>
<br/> <br/> Тип даты — XML.<br/> Поддерживаемая операция — Execute.<br/>
<blockquote>
[!Important]<br />
Содержимое файла лицензии XML должно быть правильно экранировано (то есть он не должен быть просто копированием XML); в противном случае обновление выпуска на устройствах Windows 10 Mobile завершится ошибкой. Дополнительные сведения о правильном экранировании XML-файла лицензии см. в разделе 2,4 <a href="https://www.w3.org/TR/xml/">спецификации W3C XML</a>. Файл лицензии XML получен из центра поддержки корпоративных лицензий Майкрософт. Чтобы получить доступ к порталу, ваша организация должна иметь контракт корпоративного лицензирования с корпорацией Майкрософт.
</blockquote>
<br/> Ниже приведены допустимые варианты обновления выпуска при использовании этого узла с помощью пакета MDM или подготовки.
<ul>
<li>Windows 10 Мобилето Windows 10 Mobile Корпоративная<br/></li>
</ul>
<br/></td>
</tr>
<tr class="even">
<td style="text-align: left;"><a href="mdm-windowslicensing-upgradeeditionwithproductkeymethod.md"><strong>упградидитионвиспродукткэймесод</strong></a></td>
<td style="text-align: left;">Активирует устройство для получения ключа продукта и обновления выпуска клиента.
<blockquote>
[!Note]<br />
Для этого процесса обновления требуется перезагрузка системы.
</blockquote>
<br/> <br/> Поддерживаемая операция — Execute.<br/> Когда ключ продукта помещается с сервера MDM на устройство пользователя, <strong>changepk.exe</strong> запускается с помощью ключа продукта. После завершения работы пользователю отображается уведомление о том, что доступен новый выпуск Windows 10. После этого пользователь может перезагрузить систему вручную или, через два часа, устройство будет автоматически перезапущено для завершения обновления. Перед автоматическим перезапуском пользователь получит уведомление за 10 минут.<br/> После перезапуска устройства процесс обновления выпуска будет завершен. Пользователь получит уведомление об успешном обновлении.
<blockquote>
[!Important]<br />
Если другой политике требуется перезагрузка системы, которая происходит при <strong>changepk.exe</strong> выполняется, обновление выпуска завершится ошибкой.
</blockquote>
<br/> <br/> Если ключ продукта вводится в пакете подготовки, и пользователь начинает установку пакета, уведомление отображается пользователю, что для завершения установки пакета будет выполнена перезагрузка системы. После явного согласия пользователя выполнение пакета продолжается, а <strong>changepk.exe</strong> запускается с помощью ключа продукта. Пользователь получит уведомление с напоминанием за 30 секунд до автоматического перезапуска. <br/> После перезапуска устройства процесс обновления выпуска будет завершен. Пользователь получит уведомление об успешном обновлении. <br/> Этот узел можно также использовать для активации или изменения ключа продукта в определенном выпуске устройства Windows 10 Desktop, введя ключ продукта. Активация или изменение ключа продукта не требует перезагрузки и является автоматическим процессом для пользователя.<br/>
<blockquote>
[!Important]<br />
Ключ продукта должен состоять из 29 символов (то есть должен включать тире), в противном случае при активации, обновлении выпуска или изменении ключа продукта на устройствах Windows 10 Desktop произойдет сбой. Ключ продукта получен из центра поддержки корпоративных лицензий Майкрософт. Чтобы получить доступ к порталу, ваша организация должна иметь контракт корпоративного лицензирования с корпорацией Майкрософт.
</blockquote>
<br/> Ниже приведены допустимые варианты обновления выпуска при использовании этого узла через MDM:
<ul>
<li>Windows 10 Корпоративная для Windows 10 для образовательных учреждений</li>
<li>Windows 10 домашняя для Windows 10 для образовательных учреждений</li>
<li>Windows 10 профессиональная для Windows 10 для образовательных учреждений</li>
<li>Windows 10 профессиональная для Windows 10 Корпоративная</li>
</ul>
<br/> Активация или изменение ключа продукта может быть выполнена в следующих выпусках:
<ul>
<li>Windows 10 для образовательных учреждений</li>
<li>Windows 10 Корпоративная</li>
<li>Windows 10 Домашняя</li>
<li>Windows 10 Pro</li>
</ul>
<br/></td>
</tr>
</tbody>
</table>



 

### <a name="properties"></a>Свойства

Класс **MDM \_ виндовслиценсинг** имеет следующие свойства.

<dl> <dt>

[Выпуск](/windows/client-management/mdm/windowslicensing-csp#edition)
</dt> <dd> <dl> <dt>

Тип данных: **Sint32**
</dt> <dt>

Тип доступа: чтение и запись
</dt> </dl>

</dd> <dt>

**InstanceID**
</dt> <dd> <dl> <dt>

Тип данных: **строка**
</dt> <dt>

Тип доступа: только для чтения
</dt> <dt>

Квалификаторы: [ **ключ**](/windows/desktop/WmiSdk/key-qualifier)
</dt> </dl>

Определяет имя родительского узла.

</dd> <dt>

[лиценсекэйтипе](/windows/client-management/mdm/windowslicensing-csp#licensekeytype)
</dt> <dd> <dl> <dt>

Тип данных: **строка**
</dt> <dt>

Тип доступа: чтение и запись
</dt> </dl>

</dd> <dt>

**ParentID**
</dt> <dd> <dl> <dt>

Тип данных: **строка**
</dt> <dt>

Тип доступа: только для чтения
</dt> <dt>

Квалификаторы: [ **ключ**](/windows/desktop/WmiSdk/key-qualifier)
</dt> </dl>

Описывает полный путь к родительскому узлу. Для этого класса строка имеет значение "./вендор/мсфт/"

</dd> <dt>

[Состояние](/windows/client-management/mdm/windowslicensing-csp#subscriptions-subscriptionid-status)
</dt> <dd> <dl> <dt>

Тип данных: **Sint32**
</dt> <dt>

Тип доступа: чтение и запись
</dt> </dl>

</dd> </dl>

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|------------------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Только для \[ настольных приложений Windows 10\]<br/>                                                    |
| Минимальная версия сервера<br/> | Ни одна версия не поддерживается<br/>                                                                      |
| Пространство имен<br/>                | Корневой \\ CIMv2 \\ MDM \\ дммап<br/>                                                             |
| MOF<br/>                      | <dl> <dt>Дмвмибриджепров. mof</dt> </dl> |
| DLL<br/>                      | <dl> <dt>DMWmiBridgeProv.dll</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[Использование сценариев PowerShell с WMI Bridge Provider](/windows/client-management/mdm/using-powershell-scripting-with-the-wmi-bridge-provider)
</dt> </dl>

 

