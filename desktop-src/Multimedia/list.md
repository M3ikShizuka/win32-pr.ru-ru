---
title: Команда list
description: Команда List определяет число и типы входных видео и аудио. Эта команда распознает устройства цифрового видео и ВИДЕОМАГНИТОФОНА.
ms.assetid: b3fe3819-0b8a-4de5-9c79-03e1e089436f
keywords:
- команда list Windows мультимедиа
topic_type:
- apiref
api_name:
- list
api_type:
- NA
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: c5d0a171c6768caf1b947a0d07cb46e5cccd28c6
ms.sourcegitcommit: 9eebab0ead09cecdbc24f5f84d56c8b6a7c22736
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/10/2021
ms.locfileid: "124369893"
---
# <a name="list-command"></a>Команда list

Команда List определяет число и типы входных видео и аудио. Эта команда распознает устройства цифрового видео и ВИДЕОМАГНИТОФОНА.

Чтобы отправить эту команду, вызовите функцию [**mciSendString**](/previous-versions//dd757161(v=vs.85)) с заданным параметром *лпсзкомманд* , как показано ниже.

``` syntax
_stprintf_s(
  lpszCommand, 
  TEXT("list %s %s %s"), 
  lpszDeviceID, 
  lpszList, 
  lpszFlags
); 
```

## <a name="parameters"></a>Параметры

<dl> <dt>

<span id="lpszDeviceID"></span><span id="lpszdeviceid"></span><span id="LPSZDEVICEID"></span>*лпсздевицеид*
</dt> <dd>

Идентификатор устройства MCI. Этот идентификатор или псевдоним назначается при открытии устройства.

</dd> <dt>

<span id="lpszList"></span><span id="lpszlist"></span><span id="LPSZLIST"></span>*лпсзлист*
</dt> <dd>

Флаг, определяющий число и типы входных видео и аудио. В следующей таблице перечислены типы устройств, которые распознают команду **List** , и флаги, используемые каждым типом.



| Значение        | Значение                                                                           | Значение                                                                                                                      |
|--------------|-----------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------|
| дигиталвидео | Audio алгорисмаудио алгоритм качества *алгоритма Audio стреамкаунтнумбер* *index* | по-прежнему алгорисмстилл алгоритма *качества алгоритма видео алгорисмвидео* алгоритм *качества алгоритма видео sourcevideoprofile* поток |
| видеомагнитофон          | *индекс* исходного номера источника каунтаудио                                     | Исходный номер исходного *индекса* каунтвидео источника видео                                                                                |



 

В следующей таблице перечислены флаги, которые могут быть указаны в параметре **лпсзлист** , и их значения.



| Значение                               | Значение                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|-------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| алгоритм аудио                     | Указывает, что команда должна получать имена алгоритмов аудио.                                                                                                                                                                                                                                                                                                                                                                                                                           |
| *алгоритм* алгоритма качества звука | Указывает, что команда должна получить уровни качества, связанные с указанным *алгоритмом*. Если параметр *Algorithm* имеет значение Current, то возвращается уровень качества текущего алгоритма.                                                                                                                                                                                                                                                                                                   |
| число источников звука                  | Возвращает общее число входов звука.                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| *индекс* номера источника звука         | Возвращает тип входных данных для воспроизведения исходного *индекса*.                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| аудиопоток                        | Указывает, что команда должна получать имена звуковых потоков, связанных с рабочей областью. Эти строки (например, "Английский" или "немецкий") внедряются в файл и определяют поток.                                                                                                                                                                                                                                                                                    |
| count                               | Возвращает число параметров указанного типа.                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| числовой *индекс*                      | Возвращает строку, описывающую конкретный параметр (определяется по *индексу*) указанного типа параметра. *Индекс* должен быть целым числом от 1 до значения, возвращаемого функцией "Count".                                                                                                                                                                                                                                                                                                         |
| алгоритм по-прежнему                     | Указывает, что команда должна получить все имена алгоритмов.                                                                                                                                                                                                                                                                                                                                                                                                                           |
| *алгоритм* алгоритма качества по-прежнему | Указывает, что команда должна получить уровни качества, связанные с указанным *алгоритмом* все еще. Если параметр *Algorithm* имеет значение Current, то возвращается уровень качества текущего алгоритма.                                                                                                                                                                                                                                                                                             |
| алгоритм видео                     | Указывает, что команда должна получить имена алгоритмов видео.                                                                                                                                                                                                                                                                                                                                                                                                                           |
| *алгоритм* алгоритма качества видео | Указывает, что команда должна получить уровни качества, связанные с указанным *алгоритмом* видео. Если параметр *Algorithm* имеет значение Current, то возвращается уровень качества текущего алгоритма.                                                                                                                                                                                                                                                                                             |
| источник видео                        | Указывает, что команда должна возвращать сведения об источниках видео. При использовании с флагом Count возвращается число источников видео. При использовании с флагом "Number" возвращается тип источника видео. MCI определяет следующие константы для типов: "NTSC", "RGB", "PAL", "СЕКАМ", "свидео" и "generic". Может быть больше одного источника для каждого возвращаемого типа. Тип источника "универсальный" используется, если для этого соединителя разрешено более одного сигнала. |
| число источников видео                  | Возвращает общее число входов видео.                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| *индекс* исходного номера видео         | Возвращает тип видеовходов исходного *индекса*.                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| поток видео                        | Указывает, что команда должна получать имена видеопотоков, связанных с рабочей областью. Эти строки (например «забавный конец» или «завершение SAD») внедряются в файл и определяют поток.                                                                                                                                                                                                                                                                               |



 

</dd> <dt>

<span id="lpszFlags"></span><span id="lpszflags"></span><span id="LPSZFLAGS"></span>*лпсзфлагс*
</dt> <dd>

Может принимать значение "Wait", "notify" или "Test". Дополнительные сведения об этих флагах см. [в разделе Флаги ожидания, уведомления и проверки](the-wait-notify-and-test-flags.md).

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Возвращает нуль в случае успеха или ошибку в противном случае.

## <a name="remarks"></a>Remarks

Для устройств ВИДЕОМАГНИТОФОНА значение "источник видео" или "источник звука" должно быть указано с помощью флагов "Count" или "Number". Если указано значение Count, возвращается общее число входов видео или аудио. Если указано значение "Number", драйвер возвращает тип, соответствующий входным данным. Тип может быть одним из следующих: "тюнер", "Line", "свидео", "AUX" или "generic". Как правило, сначала нужно запросить ВИДЕОМАГНИТОФОН для "Count", а затем использовать число в качестве диапазона для флага "Number". Исходные номера начинаются с 1.

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows 2000 Professional \[только классические приложения\]<br/> |
| Минимальная версия сервера<br/> | Windows 2000 Server \[только классические приложения\]<br/>       |



## <a name="see-also"></a>См. также

<dl> <dt>

[MCI](mci.md)
</dt> <dt>

[Строки команд MCI](mci-command-strings.md)
</dt> </dl>

 

