---
title: Установка и удаление программы сжатия и распаковки
description: Установка и удаление программы сжатия и распаковки
ms.assetid: 1f00d86f-a777-4bf8-8290-96cc83b2f331
keywords:
- Диспетчер сжатия видео (ВКМ), установка компрессоров
- ВКМ (диспетчер сжатия видео), установка компрессоров
- Функция ИЦинсталл
- Функция Икремове
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bd65f0fc06dc1d5e90cb136f5cf4ea429c220d77
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/19/2020
ms.locfileid: "104336905"
---
# <a name="compressor-and-decompressor-installation-and-removal"></a>Установка и удаление программы сжатия и распаковки

Приложение может использовать программы сжатия и Декомпрессоры, которые уже установлены в системе, работающей под управлением операционной системы Microsoft Windows. Приложение также может устанавливать программы сжатия и Декомпрессоры для общих или специальных целей. Большинству приложений не требуется устанавливать или удалять программы сжатия или Декомпрессоры, так как они обычно устанавливаются программой установки. Однако приложение может установить программу сжатия напрямую или установить функцию как программу сжатия.

Приложение может установить программу сжатия или декомпрессора (или функцию, используемую в качестве программы сжатия или распаковки) с помощью функции [**иЦинсталл**](/windows/desktop/api/Vfw/nf-vfw-icinstall) . Эта функция создает запись в реестре, определяющую программу сжатия или декомпрессора. Приложение или другое приложение может выполнять поиск в реестре, чтобы определить, содержит ли система программу сжатия или распаковку, подходящую для своих данных. Используйте **иЦинсталл** для установки всех драйверов сжатия и распаковки.

Приложение может размещать и открывать установленный компрессор или декомпрессор с помощью функций [**иклокате**](/windows/desktop/api/Vfw/nf-vfw-iclocate) и [**икопен**](/windows/desktop/api/Vfw/nf-vfw-icopen) . Когда приложение завершает использование программы сжатия или распаковки, оно закрывается с помощью функции [**икклосе**](/windows/desktop/api/Vfw/nf-vfw-icclose) .

Приложение может удалить запись реестра для установленного компрессора или декомпрессора с помощью функции [**икремове**](/windows/desktop/api/Vfw/nf-vfw-icremove) . Эта функция удаляет запись реестра для программы сжатия или распаковки, которая не загружена в память в настоящий момент.

Приложение может ограничивать использование программы сжатия или декомпрессора путем установки, открытия, закрытия и удаления.

Кроме того, чтобы использовать функцию внутри в качестве программы сжатия или декомпрессора, не устанавливая ее в реестре, приложение может использовать функцию [**икопенфунктион**](/windows/desktop/api/Vfw/nf-vfw-icopenfunction) . Эта функция требует, чтобы вызывающее приложение имело адрес функции, которая будет использоваться в качестве программы сжатия или распаковки. Когда приложение завершает работу с функцией, оно должно закрыть его с помощью **икклосе**. Поскольку функция не была установлена, приложению не нужно удалять функцию из реестра.

Внутренняя структура функции, используемой в качестве программы сжатия или декомпрессора, должна совпадать с функцией [дриверпрок](/windows/win32/api/mmiscapi/nc-mmiscapi-driverproc) -Point, используемой устанавливаемыми драйверами. Дополнительные сведения о функции точки входа **дриверпрок** см. в разделе [Устанавливаемые драйверы](installable-drivers.md).

> [!Note]  
> Приложение, устанавливающее функцию в качестве программы сжатия или декомпрессора, должно удалить функцию, прежде чем приложение будет закрыто, чтобы другие приложения не попытаются использовать эту функцию. При удалении функции приложение должно его распознать с помощью кода из четырех символов, используемого для его установки.

 

 

 