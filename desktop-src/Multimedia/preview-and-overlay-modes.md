---
title: Режимы просмотра и наложения
description: Режимы просмотра и наложения
ms.assetid: 11e7848f-efda-452c-a9c7-405e636a2ead
keywords:
- Сообщение WM_CAP_SET_PREVIEW
- макрос Каппревиев
- Сообщение WM_CAP_SET_PREVIEWRATE
- макрос Каппревиеврате
- Сообщение WM_CAP_SET_SCALE
- макрос Каппревиевскале
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: af4dc293587160d950856fccb15709a11e9533bf
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127169560"
---
# <a name="preview-and-overlay-modes"></a>Режимы просмотра и наложения

Драйвер записи может реализовать два метода просмотра входящего видеопотока: режим предварительного просмотра и режим наложения. Если драйвер записи реализует оба метода, пользователь может выбрать используемый метод.

Режим предварительного просмотра передает оцифрованные кадры от оборудования захвата в память системы, а затем отображает оцифрованные кадры в окне Capture с помощью функций интерфейса графических устройств (GDI). Приложения могут уменьшить скорость предварительной версии, когда родительское окно теряет фокус, и увеличивать скорость предварительного просмотра, когда родительское окно получает фокус. Это действие повышает скорость реагирования системы, поскольку операция предварительной версии требует интенсивного функционирования процессора.

Существует три сообщения для управления операцией просмотра.

-   Чтобы включить или отключить режим предварительного просмотра, используйте сообщение с [**\_ закреплениями WM \_ Set \_**](wm-cap-set-preview.md) , отправив (или макрос [**каппревиев**](/windows/desktop/api/Vfw/nf-vfw-cappreview) ) в окно записи.
-   Используйте сообщение [**WM \_ Cap \_ Set \_ Превиеврате**](wm-cap-set-previewrate.md) (или макрос [**каппревиеврате**](/windows/desktop/api/Vfw/nf-vfw-cappreviewrate) ), чтобы задать скорость отображения кадров в режиме предварительного просмотра.
-   Чтобы включить или отключить масштабирование видео в режиме предварительного просмотра, используйте сообщение с [**\_ закреплениями WM \_ Set \_ Scale**](wm-cap-set-scale.md) (или макрос [**каппревиевскале**](/windows/desktop/api/Vfw/nf-vfw-cappreviewscale) ).

Если предварительный просмотр и масштабирование включены, записанный видеокадр растягивается по размерам окна Capture. Включение режима предварительного просмотра автоматически отключает режим наложения.

Режим наложения — это аппаратная функция, которая отображает содержимое буфера записи на мониторе без использования ресурсов ЦП. Вы можете включить и отключить режим наложения, отправив сообщение о [**\_ \_ \_ наложении закрепления WM**](wm-cap-set-overlay.md) (или макрос [**каповерлай**](/windows/desktop/api/Vfw/nf-vfw-capoverlay) ) в окно записи. Включение режима наложения автоматически отключает режим предварительного просмотра.

Вы также можете задать расположение прокрутки видеокадра в клиентской области окна записи для режима предварительного просмотра или режима наложения, отправив сообщение с [**\_ \_ \_ прокруткой WM Cap Set**](wm-cap-set-scroll.md) (или макрос [**капсетскроллпос**](/windows/desktop/api/Vfw/nf-vfw-capsetscrollpos) ) в окно записи.

 

 




