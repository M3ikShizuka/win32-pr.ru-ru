---
title: Основные службы
description: Основные службы
ms.assetid: 7b77ed5d-0bd9-4926-b73f-afc7070fe314
keywords:
- файловый ввод-вывод мультимедиа, основные службы
- Ввод-вывод файлов, основные службы
- входные и выходные данные (ввод-вывод), базовые службы
- Ввод-вывод (входные и выходные данные), базовые службы
- Базовый ввод-вывод
- Функция Ммиупен
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a3ef4ea778ad0c84137aa75d36f46dc30310180c69416a1240078f01e53d6931
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119145127"
---
# <a name="basic-services"></a>Основные службы

Использование базовых служб ввода-вывода аналогично использованию служб ввода-вывода файлов среды выполнения в библиотеке времени выполнения C. Для чтения или написания файлов их необходимо открыть. После чтения или записи файл должен быть закрыт. Можно также изменить текущее расположение чтения или записи в открытом файле.

Перед началом операций ввода-вывода в файл необходимо открыть файл с помощью функции [**ммиупен**](/windows/win32/api/mmiscapi/nf-mmiscapi-mmioopen) . Эта функция возвращает файловый маркер типа **хммио**. Этот файл можно использовать для обнаружения открытого файла при вызове других функций файлового ввода-вывода.

> [!Note]  
> Описатель файла **хммио** не является стандартным маркером файла. Не используйте дескрипторы файлов **хммио** с функциями ввода-вывода в файлах времени выполнения Win32 или C.

 

При использовании [**ммиупен**](/windows/win32/api/mmiscapi/nf-mmiscapi-mmioopen) для открытия файла используется флаг, указывающий, следует ли открыть его для чтения, записи или и того, и другого. Можно также указать флаги, позволяющие создавать или удалять файлы. Используйте функцию [**ммиоклосе**](/windows/win32/api/mmiscapi/nf-mmiscapi-mmioclose) , чтобы закрыть файл по завершении чтения или записи в него.

Для чтения и записи файлов можно использовать функции [**ммиореад**](/windows/win32/api/mmiscapi/nf-mmiscapi-mmioread) и [**ммиоврите**](/windows/win32/api/mmiscapi/nf-mmiscapi-mmiowrite) соответственно. Следующая операция чтения или записи выполняется в текущем положении файла или в указателе файла в файле. Текущее расположение файла является расширенным при каждом чтении или написании файла.

Вы также можете изменить текущее расположение файла с помощью функции [**ммиосик**](/windows/win32/api/mmiscapi/nf-mmiscapi-mmioseek) . Необходимо убедиться, что указано допустимое расположение в файле. Если указать недопустимое расположение, например, после конца файла, **ммиосик** может не вернуть ошибку, но последующие операции ввода-вывода могут завершиться ошибкой.

Существуют флаги, которые можно использовать с функцией **ммиупен** для операций за пределами обычного файлового ввода-вывода. Если указать структуру [**ммиоинфо**](/previous-versions//dd757322(v=vs.85)) , можно открыть файлы памяти, указать пользовательскую процедуру ввода-вывода или указать буфер для буферизованного ввода-вывода.

 

 