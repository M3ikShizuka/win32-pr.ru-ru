---
title: Использование функции обратного вызова для управления воспроизведением в буфере
description: Использование функции обратного вызова для управления воспроизведением в буфере
ms.assetid: aaaf9c5f-c9b2-4e55-a4c1-28c99cc03945
keywords:
- Цифровой интерфейс MIDI, буферизованное воспроизведение
- MIDI (цифровой интерфейс музыкального инструмента), буферизованное воспроизведение
- Воспроизведение файлов MIDI, буферизованное воспроизведение
- Воспроизведение в буфере
- Сообщение MOM_CLOSE
- Сообщение MOM_DONE
- Сообщение MOM_OPEN
- Цифровой интерфейс музыкальных инструментов (MIDI), отправка сообщений
- MIDI (цифровой интерфейс музыкального инструмента), отправка сообщений
- Воспроизведение файлов MIDI, отправка сообщений
- Отправка сообщений MIDI
- Цифровой интерфейс музыкальных инструментов (MIDI), функции обратного вызова
- MIDI (цифровой интерфейс музыкального инструмента), функции обратного вызова
- Воспроизведение файлов MIDI, функции обратного вызова
- Функция обратного вызова Мидиаутпрок
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bccccd8e5fb052b89e8ca1804b89de6da26cd5b7
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127272283"
---
# <a name="using-a-callback-function-to-manage-buffered-playback"></a>Использование функции обратного вызова для управления воспроизведением в буфере

Вы можете определить собственную функцию обратного вызова для управления буферизованным воспроизведением устройств MIDI Output. Функция обратного вызова описана как [**мидиаутпрок**](/previous-versions//dd798478(v=vs.85)).

В параметр *вмсг* функции обратного вызова **мидиаутпрок** можно отправить следующие сообщения.



| Значение                           | Значение                                                                                                                                                                  |
|---------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**\_закрытие MOM**](mom-close.md) | Отправляется, когда устройство закрывается с помощью функции [**мидиаутклосе**](/windows/win32/api/mmeapi/nf-mmeapi-midioutclose) .                                                                               |
| [**MOM \_**](mom-done.md)   | Посылается, когда драйвер устройства завершает работу с блоком данных, отправленным с помощью функции [**мидиаутлонгмсг**](/windows/win32/api/mmeapi/nf-mmeapi-midioutlongmsg) или [**мидистреамаут**](/windows/win32/api/mmeapi/nf-mmeapi-midistreamout) . |
| [**диспетчер MOM \_ открыт**](mom-open.md)   | Отправляется при открытии устройства с помощью функции [**мидиаутопен**](/windows/win32/api/mmeapi/nf-mmeapi-midioutopen) .                                                                                 |



 

Эти сообщения похожи на те, которые были отправлены в функции процедур Windows, но параметры различны. Обработчик открытого MIDI-устройства передается в качестве параметра функции обратного вызова вместе с даублеворд данных экземпляра, передаваемых с помощью **мидиаутопен**.

После завершения работы драйвера с блоком данных можно очистить и освободить блок данных. Из-за предлагаемых ограничений функций обратного вызова лучше не делать это в функции обратного вызова.

 

 