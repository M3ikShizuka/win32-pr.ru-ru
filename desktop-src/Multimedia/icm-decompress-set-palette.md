---
title: Сообщение ICM_DECOMPRESS_SET_PALETTE (VFW. h)
description: Сообщение ICM \_ распаковка \_ Установка \_ палитры указывает палитру для драйвера распаковки видео, который будет использоваться при распаковке в формат, использующий палитру. Это сообщение можно отправить явно или с помощью макроса Икдекомпресссетпалетте.
ms.assetid: 269d01f9-b7c8-40e4-abdb-24dd0c9cc18d
keywords:
- сообщение ICM_DECOMPRESS_SET_PALETTE Windows мультимедиа
topic_type:
- apiref
api_name:
- ICM_DECOMPRESS_SET_PALETTE
api_location:
- Vfw.h
api_type:
- HeaderDef
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 5f2bbbf1b09b8c5954a2149edd16cb213a08fb3a
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127246349"
---
# <a name="icm_decompress_set_palette-message"></a>\_Сообщение о настройке распаковки ICM \_ \_

Сообщение **ICM \_ распаковка \_ Установка \_ палитры** указывает палитру для драйвера распаковки видео, который будет использоваться при распаковке в формат, использующий палитру. Это сообщение можно отправить явно или с помощью макроса [**икдекомпресссетпалетте**](/windows/desktop/api/Vfw/nf-vfw-icdecompresssetpalette) .


```C++
ICM_DECOMPRESS_SET_PALETTE 
wParam = (DWORD_PTR) (LPVOID) lpbiPalette; 
lParam = 0; 
```



## <a name="parameters"></a>Параметры

<dl> <dt>

<span id="lpbiPalette"></span><span id="lpbipalette"></span><span id="LPBIPALETTE"></span>*лпбипалетте*
</dt> <dd>

Указатель на структуру [**битмапинфохеадер**](/previous-versions//dd183376(v=vs.85)) , таблица цветов которой содержит цвета, которые должны использоваться, если это возможно. Можно задать нуль, чтобы использовать набор выходных цветов по умолчанию.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Возвращает ИЦЕРР \_ ОК, если драйвер распаковки может точно распаковать изображения в предлагаемую палитру, используя набор цветов, упорядоченных в палитре. \_В противном случае ВОЗВРАЩАЕТ ицерр.

## <a name="remarks"></a>Remarks

Это сообщение не должно влиять на уже выполняющееся распаковку; Вместо этого цвета, передаваемые с помощью этого сообщения, должны возвращаться в ответ на будущее [**ICM \_ unуплотнение \_ Get \_ Format**](icm-decompress-get-format.md) и [**ICM \_ unсжимать \_ Получение сообщений \_ палитры**](icm-decompress-get-palette.md) . Цвета отправляются обратно в драйвер распаковки в будущем сообщении [**о \_ \_ начале распаковки ICM**](icm-decompress-begin.md) .

Это сообщение используется в основном, когда драйвер распаковывает изображения на экран, а другое приложение, использующее палитру, находится на переднем плане, представляя драйвер распаковки адаптироваться к внешнему набору цветов.

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|----------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows 2000 Professional \[только классические приложения\]<br/>                       |
| Минимальная версия сервера<br/> | Windows 2000 Server \[только классические приложения\]<br/>                             |
| Заголовок<br/>                   | <dl> <dt>VFW. h</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[Диспетчер сжатия видео](video-compression-manager.md)
</dt> <dt>

[Сообщения о сжатии видео](video-compression-messages.md)
</dt> </dl>

 

