---
title: Управление блоками данных путем опроса
description: Управление блоками данных путем опроса
ms.assetid: 0a517f1d-4993-49b8-be86-bc63e5687cba
keywords:
- звуковая волна, опрос блоков данных
- звуковые блоки данных, опрос
- Опрос блоков звуковых данных
- Структура ВАВЕХДР
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e7e5580ff64425eae1bc6650268b065e60b90f43
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127173652"
---
# <a name="managing-data-blocks-by-polling"></a>Управление блоками данных путем опроса

Помимо использования функции обратного вызова, можно опросить элемент **dwFlags** структуры [**вавехдр**](/windows/win32/api/mmeapi/ns-mmeapi-wavehdr) , чтобы определить, когда звуковое устройство завершается с блоком данных. Иногда лучше опросить **dwFlags** , чем ожидать, пока другой механизм получит сообщения от драйверов. Например, после вызова функции [**вавеаутресет**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutreset) для освобождения незавершенных блоков данных можно сразу же опросить, чтобы убедиться, что блоки данных были освобождены до вызова [**вавеаутунпрепарехеадер**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutunprepareheader) и освободить память для блока данных.

\_Для проверки элемента **dwFlags** можно использовать флаг вхдр Done. Как только \_ флаг вхдр Done задается в элементе **DwFlags** структуры **вавехдр** , драйвер завершается с блоком данных.

 

 