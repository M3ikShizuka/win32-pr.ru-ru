---
title: Подключение окна записи к драйверу записи
description: Подключение окна записи к драйверу записи
ms.assetid: 78d4aaf5-6216-4eec-84d4-6727d1822983
keywords:
- Сообщение WM_CAP_DRIVER_CONNECT
- макрос Капдриверконнект
- Функция Капжетдривердескриптион
- Сообщение WM_CAP_DRIVER_GET_NAME
- макрос Капдривержетнаме
- Сообщение WM_CAP_DRIVER_GET_VERSION
- макрос Капдривержетверсион
- Сообщение WM_CAP_DRIVER_DISCONNECT
- макрос Капдривердисконнект
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c189ad3ea5631e269ffbe85f20a143b074486f22
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "103775692"
---
# <a name="connecting-a-capture-window-to-a-capture-driver"></a>Подключение окна записи к драйверу записи

Вы можете динамически подключать или отключать окно записи в драйвер записи. Вы можете подключить или связать окно записи с драйвером записи с помощью сообщения [**Connect с \_ \_ драйвером \_ WM**](wm-cap-driver-connect.md) (или макроса [**капдриверконнект**](/windows/desktop/api/Vfw/nf-vfw-capdriverconnect) ). После подключения окна записи и драйвера записи можно отправить сообщения, относящиеся к конкретному устройству, к драйверу записи, связанному с окном записи.

Если в системе установлено более одного устройства записи, можно подключить окно записи к конкретному драйверу устройства записи видео, указав целое число для параметра *wParam* \_ \_ сообщения Connect драйвера WM Cap \_ . Целое число — это индекс, который определяет драйвер видеозаписи, указанный в реестре или \[ в \] разделе драйверов файла SYSTEM.INI. Используйте ноль для первой записи индекса.

Имя и версию установленного драйвера записи можно получить с помощью функции [**капжетдривердескриптион**](/windows/desktop/api/Vfw/nf-vfw-capgetdriverdescriptiona) . Приложение может использовать эту функцию для перечисления установленных устройств и драйверов записи, чтобы пользователь мог выбрать устройство записи для подключения к окну записи.

Имя драйвера устройства записи, подключенного к окну записи, можно получить с помощью сообщения [**\_ \_ \_ Get \_ Name драйвера WM Cap**](wm-cap-driver-get-name.md) (или макроса [**капдривержетнаме**](/windows/desktop/api/Vfw/nf-vfw-capdrivergetname) ). Чтобы получить версию установленного драйвера записи, используйте сообщение о [**\_ \_ \_ получении \_ версии драйвера WM Cap**](wm-cap-driver-get-version.md) (или макрос [**капдривержетверсион**](/windows/desktop/api/Vfw/nf-vfw-capdrivergetversion) ).

Вы можете отключить окно записи из драйвера записи с помощью сообщения об [**\_ \_ \_ отключении драйвера WM Cap**](wm-cap-driver-disconnect.md) (или макроса [**капдривердисконнект**](/windows/desktop/api/Vfw/nf-vfw-capdriverdisconnect) ).

При уничтожении окна записи все подключенные драйверы устройства записи видео автоматически отключаются.

 

 




