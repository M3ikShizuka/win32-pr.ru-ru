---
title: Использование окна или потока для управления воспроизведением в буфере
description: Использование окна или потока для управления воспроизведением в буфере
ms.assetid: 3c8145a8-e56a-449d-ad45-2ae016f79697
keywords:
- Цифровой интерфейс MIDI, буферизованное воспроизведение
- MIDI (цифровой интерфейс музыкального инструмента), буферизованное воспроизведение
- Воспроизведение файлов MIDI, буферизованное воспроизведение
- Воспроизведение в буфере
- Сообщение MM_MOM_CLOSE
- Сообщение MM_MOM_DONE
- Сообщение MM_MOM_OPEN
- Цифровой интерфейс музыкальных инструментов (MIDI), отправка сообщений
- MIDI (цифровой интерфейс музыкального инструмента), отправка сообщений
- Воспроизведение файлов MIDI, отправка сообщений
- Отправка сообщений MIDI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8c8c120504a4a25ddcf01474db341a367a2e9854
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/19/2020
ms.locfileid: "104337313"
---
# <a name="using-a-window-or-thread-to-manage-buffered-playback"></a>Использование окна или потока для управления воспроизведением в буфере

Следующие сообщения можно отправить в окно или поток для управления воспроизведением безсистемных сообщений MIDI или буферов потоков.



| Значение                                  | Значение                                                                                                                                                                  |
|----------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**\_закрытие mm MOM \_**](mm-mom-close.md) | Отправляется, когда устройство закрывается с помощью функции [**мидиаутклосе**](/windows/win32/api/mmeapi/nf-mmeapi-midioutclose) .                                                                               |
| [**MM, \_ MOM \_**](mm-mom-done.md)   | Посылается, когда драйвер устройства завершает работу с блоком данных, отправленным с помощью функции [**мидиаутлонгмсг**](/windows/win32/api/mmeapi/nf-mmeapi-midioutlongmsg) или [**мидистреамаут**](/windows/win32/api/mmeapi/nf-mmeapi-midistreamout) . |
| [**\_ \_ открытая MOM mm**](mm-mom-open.md)   | Отправляется при открытии устройства с помощью функции [**мидиаутопен**](/windows/win32/api/mmeapi/nf-mmeapi-midioutopen) .                                                                                 |



 

Параметр *wParam* и параметр *lParam* связаны с каждым из этих сообщений. Параметр *wParam* всегда задает маркер открытого устройства MIDI. Для [**mm \_ MOM \_**](mm-mom-done.md)значение *lParam* указывает адрес структуры [**мидихдр**](/windows/win32/api/mmeapi/ns-mmeapi-midihdr) , определяющей завершенный блок данных. Параметр *lParam* не используется для открытых MOM- [**\_ \_ Close**](mm-mom-close.md) и [**mm \_ MOM \_**](mm-mom-open.md).

Наиболее полезное сообщение, вероятно, — MM \_ MOM \_ . Если вам не нужно выделять память или инициализировать переменные, вам, скорее всего, не нужно обрабатывать MM \_ MOM \_ Open и mm \_ MOM \_ Close. После завершения воспроизведения блока данных можно очистить и освободить блок данных.

 

 