---
title: Использование оконных сообщений для управления записью Waveform-Audio
description: Использование оконных сообщений для управления записью Waveform-Audio
ms.assetid: 65637d51-9d30-48db-8681-48332442130e
keywords:
- волна аудио, управление записью с помощью сообщений
- аудио-интерфейс, управление записью с помощью сообщений
- запись звука звукозаписи, управление записью с помощью сообщений
- звуковая волна, сообщения
- волна — аудио-интерфейс, сообщения
- запись аудио звукового сигнала, сообщений
- Сообщение MM_WIM_CLOSE
- Сообщение MM_WIM_DATA
- Сообщение MM_WIM_OPEN
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 70bb1cfe1ed0f7ba6052fc1eb6af8fca8355d87d
ms.sourcegitcommit: 9eebab0ead09cecdbc24f5f84d56c8b6a7c22736
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/10/2021
ms.locfileid: "124371304"
---
# <a name="using-window-messages-to-manage-waveform-audio-recording"></a>Использование оконных сообщений для управления записью Waveform-Audio

Следующие сообщения могут быть отправлены в функцию процедуры Windows для управления записью аудио-сигнала.



| Сообщение                                | Описание                                                                                                                  |
|----------------------------------------|------------------------------------------------------------------------------------------------------------------------------|
| [**MM \_ , \_ закрытие WIM**](mm-wim-close.md) | Отправляется, когда устройство закрывается с помощью функции [**вавеинклосе**](/windows/win32/api/mmeapi/nf-mmeapi-waveinclose) .                                     |
| [**MM \_ . \_ данные WIM**](mm-wim-data.md)   | Посылается, когда драйвер устройства завершает работу с буфером, отправленным с помощью функции [**вавеинаддбуффер**](/windows/win32/api/mmeapi/nf-mmeapi-waveinaddbuffer) . |
| [**ММ — \_ открытый WIM-файл \_**](mm-wim-open.md)   | Отправляется при открытии устройства с помощью функции [**вавеинопен**](/windows/win32/api/mmeapi/nf-mmeapi-waveinopen) .                                       |



 

Параметр *lParam* [**\_ \_ данных типа mm**](mm-wim-data.md) указывает указатель на структуру [**вавехдр**](/windows/win32/api/mmeapi/ns-mmeapi-wavehdr) , которая идентифицирует буфер. Этот буфер может быть не полностью заполнен данными волны-Audio. запись может быть прервана до заполнения буфера. Используйте элемент **двбитесрекордед** структуры **вавехдр** , чтобы определить объем допустимых данных, имеющихся в буфере.

Наиболее полезное сообщение —, скорее всего, [**mm- \_ \_ данные WIM**](mm-wim-data.md). Когда приложение завершает работу с блоком данных, отправленным драйвером устройства, можно очистить и освободить блок данных. Если вам не нужно выделять память или инициализировать переменные, вам, скорее всего, не нужно использовать сообщения закрытия WIM [**\_ \_ Open**](mm-wim-open.md) и [**mm \_ WIM \_**](mm-wim-close.md) .

Функция обратного вызова для устройств ввода аудио-сигналов предоставляется приложением. Сведения об этой функции обратного вызова см. в описании функции [**вавеинпрок**](/previous-versions//dd743849(v=vs.85)) .

## <a name="related-topics"></a>Связанные разделы

<dl> <dt>

[Запись звука звукозаписи](recording-waveform-audio.md)
</dt> </dl>

 

 