---
title: Многошаговое преобразование формата
description: Многошаговое преобразование формата
ms.assetid: 21d837e7-d665-461d-9676-68add3829fb0
keywords:
- Диспетчер аудиосжатия (ACM), преобразование данных
- ACM (диспетчер аудиосжатия), преобразование данных
- Примеры ACM, преобразование данных
- преобразование данных
- Функция Акмформатсугжест
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a7853579b7ff96a6ce9b9eaceb8ce34058be874b718659ba44c88a721a5385b4
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "120038464"
---
# <a name="multistep-format-conversion"></a>Многошаговое преобразование формата

Иногда ACM не может преобразовать данные из одного формата в другой за один шаг. Например, приложению может потребоваться преобразовать 16-разрядные стерео-данные 44 кГц в значение, равное 11 кГц моно ADPCM. Если программа сжатия или распаковки не может выполнить это преобразование напрямую, приложение может выполнить это действие в два этапа. Обычно это означает преобразование между двумя форматами PCM, а затем еще одно преобразование в окончательный тип формата.

Для преобразования в двух шагах используйте функцию [**акмформатсугжест**](/windows/desktop/api/Msacm/nf-msacm-acmformatsuggest) , чтобы найти формат PCM, соответствующий формату ADPCM. Затем используйте два потока преобразования для выполнения преобразования. Например, выполните одно преобразование из 16-разрядного, 44-кГц стерео PCM в 16-разрядный, 11-кГц моно, а затем преобразуйте с 16-разрядного на час моно на 11-кГц моно ADPCM.

Многошаговое преобразование также происходит, если исходный или конечный формат не является PCM. Если исходный формат не является PCM, перед преобразованием его необходимо изменить на формат PCM. Если формат назначения не является PCM, источник должен быть преобразован в промежуточный формат PCM, а затем преобразован в окончательный формат назначения.

Наиболее простые преобразования происходят, когда форматы источника и назначения являются форматами PCM. Если исходный или конечный формат не является PCM, для преобразования может потребоваться дополнительный шаг. Если форматы источника и назначения не являются PCM, то преобразование обычно требует более одного шага, и в некоторых случаях преобразование может быть невозможным.

 

 




