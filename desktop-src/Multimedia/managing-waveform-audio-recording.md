---
title: Управление записью Waveform-Audio
description: Управление записью Waveform-Audio
ms.assetid: a44f7c33-54d6-4ba7-bc57-b63c8b205392
keywords:
- волна аудио, запись
- волна — аудио-интерфейс, запись
- запись аудио звукового сигнала, сведения
- Структура ВАВЕХДР
- Функция Вавеинаддбуффер
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 539f722a705d489064d38eccdf6d89e80ccb1518
ms.sourcegitcommit: 9eebab0ead09cecdbc24f5f84d56c8b6a7c22736
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/10/2021
ms.locfileid: "124371295"
---
# <a name="managing-waveform-audio-recording"></a>Управление записью Waveform-Audio

После открытия устройства ввода аудио-звука можно начать запись данных аудио-сигнала. Аудио-данные записываются в предоставляемые приложением буферы, заданные структурой [**вавехдр**](/windows/win32/api/mmeapi/ns-mmeapi-wavehdr) . Эти блоки данных должны быть подготовлены до их использования; Дополнительные сведения см. в разделе [Звуковые блоки данных](audio-data-blocks.md).

Windows предоставляет следующие функции для управления записью аудио-аудиосигнала.



| Функция                                   | Описание                                                                                |
|--------------------------------------------|--------------------------------------------------------------------------------------------|
| [**вавеинаддбуффер**](/windows/win32/api/mmeapi/nf-mmeapi-waveinaddbuffer) | Отправляет буфер драйверу устройства, чтобы его можно было заполнить записанными данными аудио-данных. |
| [**вавеинресет**](/windows/win32/api/mmeapi/nf-mmeapi-waveinreset)         | Останавливает запись аудио-звука и помечает все ожидающие буфер как выполненные.                      |
| [**вавеинстарт**](/windows/win32/api/mmeapi/nf-mmeapi-waveinstart)         | Запускает запись аудио-звука.                                                           |
| [**вавеинстоп**](/windows/win32/api/mmeapi/nf-mmeapi-waveinstop)           | Останавливает запись аудио-сигнала.                                                            |



 

Используйте функцию [**вавеинаддбуффер**](/windows/win32/api/mmeapi/nf-mmeapi-waveinaddbuffer) для отправки буферов в драйвер устройства. Так как буферы заполнены записанными аудио-данными, приложение получает уведомление о окне, сообщение обратного вызова, сообщение потока или событие, в зависимости от флага, указанного при открытии устройства.

Прежде чем начать запись с помощью [**вавеинстарт**](/windows/win32/api/mmeapi/nf-mmeapi-waveinstart), необходимо отправить драйверу по крайней мере один буфер, иначе входящие данные могут быть потеряны.

Перед закрытием устройства с помощью [**вавеинклосе**](/windows/win32/api/mmeapi/nf-mmeapi-waveinclose)вызовите [**вавеинресет**](/windows/win32/api/mmeapi/nf-mmeapi-waveinreset) , чтобы пометить все ожидающие блоки данных как выполненные.

## <a name="related-topics"></a>Связанные разделы

<dl> <dt>

[Запись звука звукозаписи](recording-waveform-audio.md)
</dt> </dl>

 

 