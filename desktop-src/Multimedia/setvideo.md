---
title: Команда сетвидео
description: Команда сетвидео задает значения, связанные с воспроизведением и записью видео. Эта команда распознает устройства цифрового видео и ВИДЕОМАГНИТОФОНА.
ms.assetid: a6851b9b-e09a-4251-bd1c-19b1e4b6f871
keywords:
- команда сетвидео Windows мультимедиа
topic_type:
- apiref
api_name:
- setvideo
api_type:
- NA
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 674b8b35c21fa54f1c2ecfc8b9dff531266c319b827d675da46be04e6c7abe8e
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119805384"
---
# <a name="setvideo-command"></a>Команда сетвидео

Команда сетвидео задает значения, связанные с воспроизведением и записью видео. Эта команда распознает устройства цифрового видео и ВИДЕОМАГНИТОФОНА.

Чтобы отправить эту команду, вызовите функцию [**mciSendString**](/previous-versions//dd757161(v=vs.85)) с заданным параметром *лпсзкомманд* , как показано ниже.

``` syntax
_stprintf_s(
  lpszCommand, 
  TEXT("setvideo %s %s %s"), 
  lpszDeviceID, 
  lpszVideo, 
  lpszFlags
); 
```

## <a name="parameters"></a>Параметры

<dl> <dt>

<span id="lpszDeviceID"></span><span id="lpszdeviceid"></span><span id="LPSZDEVICEID"></span>*лпсздевицеид*
</dt> <dd>

Идентификатор устройства MCI. Этот идентификатор или псевдоним назначается при открытии устройства.

</dd> <dt>

<span id="lpszVideo"></span><span id="lpszvideo"></span><span id="LPSZVIDEO"></span>*лпсзвидео*
</dt> <dd>

Флаг для воспроизведения и записи видео. В следующей таблице перечислены типы устройств, которые распознают команду **сетвидео** и флаги, используемые каждым типом.



| Значение        | Значение                                                                                                                                                                                        | Значение                                                                                                                                                                                                                                                                                                |
|--------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| дигиталвидео | *алгоритм* алгоритма битсперпел для *подсчета* яркости до *коэффициента* клокктимеколор, чтобы *коэффициент контрастности* переключаться *на* *значение* халфтонеинпуткэй Color в *р:г: b* ключ индекса для *индексирования* оффонаутпут | Цветовая  *цветовая* палитра с более   *длительной длительностью*, поверх *индекса*, с использованием маркера палитры *невргб* *для* расчета частоты *кадров записи* *дескриптора*   |
| видеомагнитофон          | оффонмонитор to *Type* номер *Number запись оффрекорд* Track *Track \_ No* Off                                                                                                               | записать номер записи о дорожке onrecord с *\_ номером* onrecord в *тип* *Number номер Track Track* *\_ номер* оффтракк *\_ номер записи*                                                                                                                                                                             |



 

В следующей таблице перечислены флаги, которые могут быть указаны в параметре **лпсзвидео** , и их значения.



| Значение                                          | Значение                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| *алгоритм* алгоритма                          | Задает алгоритм сжатия видео, используемый последующей командой [резервирования](reserve.md) или [записи](record.md) . Алгоритмы, поддерживаемые устройством, относятся к конкретному устройству. MCI определяет константы "MPEG" и "h261" для *алгоритма*. Если указанный алгоритм конфликтует с текущим форматом файла, формат файла меняется на формат по умолчанию для алгоритма.<br/>                                                                                                                                     |
| битсперпел для *подсчета*                          | Задает число битов на пиксель для сохранения данных с помощью команды [Capture](capture.md) или [Record](record.md) .                                                                                                                                                                                                                                                                                                                                                                                                              |
| яркость для *коэффициента*                         | Задает уровень яркости видео.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| клокктиме                                      | Указывает, что время, указанное в флаге "Over", указано в миллисекундах. Это время является абсолютным, а не поэтапным воспроизведением рабочей области.                                                                                                                                                                                                                                                                                                                                                                                |
| цвет для *фактора*                              | Задает уровень насыщенности цвета.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| Сравните с *фактором*                           | Задает уровень контрастности видео.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| гамма- *значение*                               | Указывает экспоненту гамма-коррекции, умноженную на 1000. Например, чтобы указать показатель степени 2,2, используйте 2200 в качестве *значения*. Значение гаммы, равное 1,0 (1000), означает, что гамма-коррекция не применяется. Гамма-коррекция настраивает сопоставление интенсивности, закодированной в источнике презентации, и отображаемую яркость.                                                                                                                                                                                                 |
| настроек                                       | Вызывает использование палитры полутонов вместо палитры по умолчанию. Этот флаг распознается только драйвером МЦИАВИ Digital-Video.                                                                                                                                                                                                                                                                                                                                                                                         |
| input                                          | Изменяет флаг "яркость", "цвет", "Контраст", "гамма", "Резкость" или "оттенок", чтобы он влиял на входной сигнал и изменяет записываемые данные. По возможности это значение по умолчанию при мониторинге входных данных.                                                                                                                                                                                                                                                                                                             |
| цвет ключа для *р:г: b*                           | Задает цвет ключа. Переменная *р:г: b* является значением RGB. Двоеточия (:) Отделение отдельных значений красного, зеленого и синего.                                                                                                                                                                                                                                                                                                                                                                                                       |
| индекс ключа для *индексирования*                           | Задает индекс ключа. Переменная *индекса* является физическим индексом палитры.                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| Отслеживание до *типа* номер               | Определяет, какие исходные входные данные будут переданы в выходные данные ВИДЕОМАГНИТОФОНА, не изменяя входные данные источника записи. Тип может быть "Output" или одним из допустимых источников входных данных. Если значение "Number" не указано, выбирается первый вход этого типа.                                                                                                                                                                                                                                                                        |
| оффон                                          | Включает или отключает отображение видео. При отключении видео устанавливаются Пиксели в прямоугольнике [размещения](put.md) "назначение" (или его значение по умолчанию, клиентская область текущего окна) сплошным цветом. Он не влияет на буфер кадров. Источник видео, будь то Рабочая область или внешний вход, может продолжать хранить новые образы в буфере кадров. Они не отображаются, пока видео не будет включено. Чтобы скрыть окно, можно использовать команду [окна](window.md) "State". Значение по умолчанию — **сетвидео** .<br/> |
| output                                         | Изменяет флаг "яркость", "цвет", "Контраст", "гамма", "Резкость" или "оттенок" для изменения только отображаемого сигнала, а не записанного. По возможности это значение по умолчанию при мониторинге файла.                                                                                                                                                                                                                                                                                                           |
| с *длительностью*                                | Указывает, сколько времени должно пройти для внесения изменений, использующих переменную *фактора* . Единицы измерения *длительности* задаются в текущем формате времени. Изменения происходят на шаге с воспроизведением рабочей области. Когда воспроизведение приостановлено, изменение также приостанавливается до тех пор, пока воспроизведение не продолжится. Если параметр "Over" не используется или не поддерживается, изменение происходит немедленно.                                                                                                                                                                    |
| *цвет цвета* палитры поверх *индекса* с *невргб* | Задает новый цвет палитры. Изменяемый индекс цвета и палитры задаются параметрами *цвета* и *индекса* . новый цвет задается параметром *невргб*. Этот флаг распознается только драйвером МЦИАВИ Digital-Video.                                                                                                                                                                                                                                                                                               |
| *обрабатываемый* маркер палитры                     | Задает маркер для палитры, которую устройство должно использовать для отрисовки. Этот элемент поддерживается только устройствами, которые используют палитры. Если *Handle* равен нулю, используется палитра по умолчанию. Устройствам с цифровыми видео не следует освобождать палитру, переданную с помощью этой команды. Приложения должны освободить его после закрытия устройства.<br/>                                                                                                                                                                                                 |
| *дескриптор* качества                           | Задает характеристики сжатия видео, выполняемого при записи видео в файл. Все устройства поддерживают три дескриптора: "низкий", "средний" и "высокий". Значение по умолчанию — Device (специфично для устройства). Значимость этих имен зависит от алгоритма и устройства. Устройства могут определять дополнительные имена дескрипторов. Команду [Quality](quality.md) можно использовать для определения дополнительных имен дескрипторов. Если флаг "алгоритм" не используется, *дескриптор* применяется к текущему алгоритму.<br/>   |
| *скорость записи* частоты кадров                    | Задает запись для видеоролика. *Скорость* записи указывается в единицах кадров в секунду, умноженных на 1000. Например, частота кадров NTSC 29,97 кадров в секунду представлена как 29970.                                                                                                                                                                                                                                                                                                                   |
| запись onrecord выкл.                            | Включает или отключает запись видеоданных. По умолчанию используется запись данных видео.                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| *\_ число* записей Track Track Off               | Очищает выбор источника видео, чтобы не записывать видео с помощью команды "Следующая [запись](record.md) ". "Track" разрешает выбор независимой записи. Если параметр "Track" не указан, предполагается значение по умолчанию, равное 1. Перед отправкой видеозаписи может потребоваться сначала [установить](set.md) команду "собрать запись в систему".                                                                                                                                                                     |
| *\_ номер* записи о дорожке для записей                | Выбирает источник видео для записи с помощью команды "Следующая **запись** ". "Track" разрешает выбор независимой записи. Направление 2 соответствует дорожке PCM в Hi8. Если аргумент Track не указан, принимается значение по умолчанию, равное 1.                                                                                                                                                                                                                                                                                                      |
| *степень* резкости                          | Задает уровень четкости видео.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| *значение* исходного номера *источника*              | Задает источник входных данных видео. Обычно это соответствует внешним соединителям. Константы, определенные для *источника* , включают "RGB", "PAL", "NTSC", "свидео" и "СЕКАМ". Если существует несколько входных данных указанного типа, необязательное *значение* "Number" указывает на требуемые входные данные. Например, **сетвидео** «источник/NTSC номер 2» указывает второй входной NTSC. Если *источник* "to" не указан, используется абсолютный источник, как определено [командой "источник видео".](list.md)<br/>            |
| Исходный с *типом* номер                | Выбирает источник видео, записываемый на ленту. *Тип* должен быть "тюнер", "Line", "свидео", "AUX", "generic", "Выкл." или "RGB".                                                                                                                                                                                                                                                                                                                                                                                              |
| *алгоритм* по прежнему алгоритму                    | Указывает алгоритм сжатия изображений по-прежнему, используемый командой [Capture](capture.md) . Каждое устройство должно поддерживать *алгоритм* "None", что означает отсутствие сжатия. Это значение по умолчанию. В этом случае устройства Digital-Video сохраняют изображения как аппаратно-независимые изображения RGB. Устройства также могут поддерживать список дополнительных алгоритмов для конкретных устройств.                                                                                                                                                           |
| *дескриптор* по-прежнему качества                     | Задает характеристики сжатия по прежнему образу, выполняемого во время записи образа. Все устройства поддерживают дескрипторы «Low», «Medium» и «High». Значение по умолчанию — Device (специфично для устройства). Если флаг "алгоритм" не используется, *дескриптор* применяется к текущему алгоритму.<br/> Команду [Quality](quality.md) можно использовать для определения других имен дескрипторов.<br/>                                                                                                                            |
| поток в *число*                             | Указывает поток видео, воспроизводимый из рабочей области. Если поток не указан и поток по умолчанию не определен в формате файла, то воспроизводится физически первый поток видео с чередованием.                                                                                                                                                                                                                                                                                                                 |
| оттенок для *множителя*                               | Задает оттенок изображения. Как правило, эта корректировка моделируется после управления оттенокм множества наборов телевизионных передач с 250, что означает зеленый цвет, 750 и 0 (или                                                                                                                                                                                                                                                                                                                                                             |



 

</dd> <dt>

<span id="lpszFlags"></span><span id="lpszflags"></span><span id="LPSZFLAGS"></span>*лпсзфлагс*
</dt> <dd>

Может принимать значение "Wait", "notify", "Test" или их сочетание. Дополнительные сведения об этих флагах см. [в разделе Флаги ожидания, уведомления и проверки](the-wait-notify-and-test-flags.md).

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Возвращает нуль в случае успеха или ошибку в противном случае.

## <a name="remarks"></a>Remarks

Для устройств ВИДЕОМАГНИТОФОНА, использующих сетвидео с флагом, который отключает отдельную дорожку ("Отслеживание *\_ номера* записи"), приложение может получить сообщение о состоянии, указывающее, что команда не может быть выполнена. Некоторые видеомагнитофоны могут отключать только комбинации дорожек, а не отдельные дорожки; Например, первая звуковая дорожка и видеозапись видеокассеты. В этом случае просто используйте [сетаудио](setaudio.md) и сетвидео, чтобы продолжить отключать другие дорожки, составляющие комбинацию. Драйвер отключит дорожки при получении команды для отключения последней дорожки в сочетании.

## <a name="requirements"></a>Requirements (Требования)



| Требование | Значение |
|-------------------------------------|------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows 2000 Professional \[только классические приложения\]<br/> |
| Минимальная версия сервера<br/> | Windows 2000 Server \[только классические приложения\]<br/>       |



## <a name="see-also"></a>См. также

<dl> <dt>

[MCI](mci.md)
</dt> <dt>

[Строки команд MCI](mci-command-strings.md)
</dt> <dt>

[выделяем](capture.md)
</dt> <dt>

[list](list.md)
</dt> <dt>

[PUT](put.md)
</dt> <dt>

[record](record.md)
</dt> <dt>

[предназначен](reserve.md)
</dt> <dt>

[set](set.md)
</dt> <dt>

[сетаудио](setaudio.md)
</dt> <dt>

[window](window.md)
</dt> </dl>

 

