---
title: команда Open (Корекрт \_ IO. h)
description: Команда Open инициализирует устройство. Все устройства MCI распознают эту команду.
ms.assetid: 0bb97c8c-8222-4d4e-b20b-94e9f9095afe
keywords:
- открыть команду Windows мультимедиа
topic_type:
- apiref
api_name:
- open
api_location:
- corecrt_io.h
api_type:
- HeaderDef
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: ac8d31f1806a9c12f764c679548564aa053c3041
ms.sourcegitcommit: 9eebab0ead09cecdbc24f5f84d56c8b6a7c22736
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/10/2021
ms.locfileid: "124369841"
---
# <a name="open-command"></a>Открыть команду

Команда Open инициализирует устройство. Все устройства MCI распознают эту команду.

Чтобы отправить эту команду, вызовите функцию [**mciSendString**](/previous-versions//dd757161(v=vs.85)) с заданным параметром *лпсзкомманд* , как показано ниже.

``` syntax
_stprintf_s(
  lpszCommand, 
  TEXT("open %s %s %s"), 
  lpszDevice, 
  lpszOpenFlags, 
  lpszFlags
); 
```

## <a name="parameters"></a>Параметры

<dl> <dt>

<span id="lpszDevice"></span><span id="lpszdevice"></span><span id="LPSZDEVICE"></span>*лпсздевице*
</dt> <dd>

Идентификатор устройства MCI или драйвера устройства. Это может быть имя устройства (как указано в реестре или файле SYSTEM.INI) или имя файла драйвера устройства. Если указать имя файла драйвера устройства, можно дополнительно включить. Расширение DRV, но не следует включать путь к файлу.

</dd> <dt>

<span id="lpszOpenFlags"></span><span id="lpszopenflags"></span><span id="LPSZOPENFLAGS"></span>*лпсзопенфлагс*
</dt> <dd>

Флаг, определяющий инициализацию. В следующей таблице перечислены типы устройств, которые распознают команду **Open** и флаги, используемые каждым типом.



| Значение        | Значение                                                        | Значение                                                                         |
|--------------|----------------------------------------------------------------|---------------------------------------------------------------------------------|
| кдаудио      | псевдоним *\_ псевдонима устройства*, который является общим                                  | Тип *устройства \_* типа                                                             |
| дигиталвидео | псевдоним *устройства \_ алиаселементнаме* нестатический родительский *дескриптор HWND* с общим родителем | стиль стиль всплывающего окна стиля дочернего стиля стилей *тип \_ устройства* тип *\_* |
| overlay      | псевдоним родительского устройства. дочерний элемент типа *HWND* с общим родителем *\_*         | стиль стиля всплывающего окна стиля *с \_* перекрытием стилей тип *устройства \_* тип             |
| sequencer    | псевдоним *\_ псевдонима устройства* , который является общим                                 | Тип *устройства \_* типа                                                             |
| видеомагнитофон          | псевдоним *\_ псевдонима устройства*, который является общим                                  | Тип *устройства \_* типа                                                             |
| видеодиск    | псевдоним *\_ псевдонима устройства*, который является общим                                  | Тип *устройства \_* типа                                                             |
| вавеаудио    | псевдоним *для \_ псевдонима устройства* *\_ Размер буфера*                     | *\_ тип устройства* совместного типа                                                    |



 

В следующей таблице перечислены флаги, которые могут быть указаны в параметре **лпсзопенфлагс** , и их значения.



| Значение                 | Значение                                                                                                                                                                                                                                                                                                                                                              |
|-----------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| псевдоним *устройства \_* псевдонима | Указывает альтернативное имя для данного устройства. Если этот параметр указан, он должен использоваться в *качестве \_ идентификатора устройства* в последующих командах.                                                                                                                                                                                                                                          |
| *ElementName*         | Указывает имя элемента устройства (файла), загружаемого при открытии устройства.                                                                                                                                                                                                                                                                                        |
| *\_ Размер буфера* буфера | Задает размер (в секундах) буфера, используемого устройством аудио-аудио. Размер буфера по умолчанию задается при установке или настройке устройства аудио-аудио. Обычно размер буфера устанавливается равным 4 секундам. При использовании устройства МЦИВАВЕ минимальный размер составляет 2 секунды, а максимальный размер — 9 секунд.                                                |
| Родительский *HWND*         | Задает маркер окна родительского окна.                                                                                                                                                                                                                                                                                                                    |
| общим              | Инициализирует устройство или файл как совместно используемый. Последующие попытки открыть устройство или файл завершатся ошибкой, если не указать параметр "совместное с общим" как в исходной, так и в последующих **открытых** командах. MCI возвращает недопустимую ошибку устройства, если устройство уже открыто и не является общим.<br/> Устройства Sequencer и МЦИВАВЕ МЦИСЕК не поддерживают общие файлы.<br/> |
| дочерний стиль           | Открывает окно с стилем дочернего окна.                                                                                                                                                                                                                                                                                                                            |
| перекрытие стилей      | Открывает окно с перекрывающейся стилем окна.                                                                                                                                                                                                                                                                                                                      |
| всплывающее окно стиля           | Открывает окно со стилем всплывающего окна.                                                                                                                                                                                                                                                                                                                           |
| *\_ тип стиля* стиля   | Указывает стиль окна.                                                                                                                                                                                                                                                                                                                                            |
| Тип *устройства \_* типа   | Указывает тип устройства для файла.                                                                                                                                                                                                                                                                                                                                 |



 

</dd> <dt>

<span id="lpszFlags"></span><span id="lpszflags"></span><span id="LPSZFLAGS"></span>*лпсзфлагс*
</dt> <dd>

Может иметь значение "Wait", "notify" или и то, и другое. Дополнительные сведения об этих флагах см. [в разделе Флаги ожидания, уведомления и проверки](the-wait-notify-and-test-flags.md).

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Возвращает нуль в случае успеха или ошибку в противном случае.

## <a name="remarks"></a>Remarks

MCI резервирует "кдаудио" для типа устройства CD Audio, "видеодиск" для типа устройства "видеодиск", "Sequencer" для типа устройства "устройство Sequencer", "Авивидео" для типа устройства "цифровое видео" и "вавеаудио" для типа устройства аудио-Audio.

В качестве альтернативы флагу "тип" MCI может выбрать устройство на основе расширения, используемого файлом, как записано в реестре или в \[ разделе расширения MCI \] файла SYSTEM.INI.

MCI может открывать AVI-файлы с помощью указателя на файловый интерфейс или указателя на потоковый интерфейс. Чтобы открыть файл с помощью любого типа указателя интерфейса, укажите символ @, за которым следует указатель интерфейса вместо имени файла или устройства для параметра *лпсздевице* . Дополнительные сведения об интерфейсах файлов и потоков см. в разделе " [функции и макросы авифиле](avifile-functions-and-macros.md)".

Следующая команда открывает устройство "мисаунд".

``` syntax
open new type waveaudio alias mysound buffer 6
```

С именем устройства "New" драйвер аудио подготавливает новый ресурс волны. Команда назначает псевдоним устройства "мисаунд" и задает 6-секундный буфер.

Можно удалить флаг "тип", если имя устройства сопоставлено с именем файла. MCI распознает это сочетание при использовании следующего синтаксиса:

*\_ имя устройства* *\_имя элемента*

Восклицательный знак отделяет имя устройства от имени файла. Восклицательный знак не должен разделяться пробелами.

В следующем примере открывается право. WAV файл с помощью устройства "вавеаудио".

``` syntax
open waveaudio!right.wav
```

Драйвер МЦИВАВЕ требует наличия асинхронного устройства аудио-сигнала.

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|------------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows 2000 Professional \[только классические приложения\]<br/>                               |
| Минимальная версия сервера<br/> | Windows 2000 Server \[только классические приложения\]<br/>                                     |
| Заголовок<br/>                   | <dl> <dt>Корекрт \_ IO. h</dt> </dl> |



## <a name="see-also"></a>См. также

<dl> <dt>

[MCI](mci.md)
</dt> <dt>

[Строки команд MCI](mci-command-strings.md)
</dt> </dl>

 

