---
title: команда Set
description: Команда Set устанавливает параметры управления для устройства. Эта команда распознает аудио компакт-диск, цифровое видео, устройство MIDI Sequencer, ВИДЕОМАГНИТОФОН, видеодиск, наложение видео и аудио-файлы.
ms.assetid: 1ec4d84e-372a-4b6d-b694-f5afb41f90b2
keywords:
- команда set Windows мультимедиа
topic_type:
- apiref
api_name:
- set
api_type:
- NA
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 1fc9263ace043f938c8d793b2ceef5ad70264bb1
ms.sourcegitcommit: 9eebab0ead09cecdbc24f5f84d56c8b6a7c22736
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/10/2021
ms.locfileid: "124369834"
---
# <a name="set-command"></a>команда Set

> [!NOTE]
> Обмен данными без смещения — Корпорация Майкрософт поддерживает различные и включенные среды.  В этом документе есть ссылки на слово "Slave". В соответствии с руководством корпорации Майкрософт в [стиле Bias-Freeного обмена данными](https://github.com/MicrosoftDocs/microsoft-style-guide/blob/master/styleguide/bias-free-communication.md) это слово является исключаемым.  Это слово используется в том виде, в котором оно используется в командах. Для обеспечения согласованности этот документ содержит это слово. При изменении этого слова в командах будет исправлен этот документ в выравнивании.


Команда Set устанавливает параметры управления для устройства. Эта команда распознает аудио компакт-диск, цифровое видео, устройство MIDI Sequencer, ВИДЕОМАГНИТОФОН, видеодиск, наложение видео и аудио-файлы.

Чтобы отправить эту команду, вызовите функцию [**mciSendString**](/previous-versions//dd757161(v=vs.85)) с заданным параметром *лпсзкомманд* , как показано ниже.

``` syntax
_stprintf_s(
  lpszCommand,
  TEXT("set %s %s %s"),
  lpszDeviceID,
  lpszSetting,
  lpszFlags
);
      
```

## <a name="parameters"></a>Параметры

<dl> <dt>

<span id="lpszDeviceID"></span><span id="lpszdeviceid"></span><span id="LPSZDEVICEID"></span>*лпсздевицеид*
</dt> <dd>

Идентификатор устройства MCI. Этот идентификатор или псевдоним назначается при открытии устройства.

</dd> <dt>

<span id="lpszSetting"></span><span id="lpszsetting"></span><span id="LPSZSETTING"></span>*лпсзсеттинг*
</dt> <dd>

Флаг для установки параметров управления. В следующей таблице перечислены типы устройств, которые распознают команду **Set** и флаги, используемые каждым типом.




| Тип устройства | Флаги команд | 
|-------------|---------------|
| кдаудио | <ul><li>Звук выкл.</li><li>звук включен</li><li>звук отключен</li><li>звук остался на</li><li>звуковое право</li><li>аудио справа</li><li>дверца закрыта</li><li>Дверца открыта</li><li>формат времени (МС)</li><li>формат времени, MSF</li><li>формат времени тмсф</li></ul> | 
| дигиталвидео | <ul><li>Звук выкл.</li><li>звук включен</li><li>звук отключен</li><li>звук остался на</li><li>звуковое право</li><li>аудио справа</li><li>дверца закрыта</li><li>Дверца открыта</li><li><em>Формат</em> формата файла</li><li>Поиск в точности</li><li>Поиск в точности</li><li><em>Коэффициент</em> скорости</li><li><em>Формат</em> файла по-прежнему</li><li>кадры формата времени</li><li>формат времени (МС)</li><li>видео отключено</li><li>видео вкл.</li></ul> | 
| overlay | <ul><li>Звук выкл.</li><li>звук включен</li><li>звук отключен</li><li>звук остался на</li><li>звуковое право</li><li>аудио справа</li><li>дверца закрыта</li><li>Дверца открыта</li><li>видео отключено</li><li>видео вкл.</li></ul> | 
| sequencer | <ul><li>Звук выкл.</li><li>звук включен</li><li>звук отключен</li><li>звук остался на</li><li>звуковое право</li><li>аудио справа</li><li>дверца закрыта</li><li>Дверца открыта</li><li>основной MIDI</li><li>нет главного сервера</li><li>Главный SMPTE</li><li><em>время</em> смещения</li><li>сопоставитель портов</li><li>порт отсутствует</li><li><em>port_number</em> порта</li><li>ведомый файл</li><li>ведомый MIDI</li><li>подчиненный нет</li><li>Ведомая SMPTE</li><li>темп <em>tempo_value</em></li><li>формат времени (МС)</li><li>формат времени SMPTE <em>кадров/</em> с</li><li>формат времени SMPTE 30 Drop</li><li>Указатель песни формата времени</li></ul> | 
| <strong>видеомагнитофон</strong> | <ul><li>собрать запись на</li><li>собрать запись</li><li>Звук выкл.</li><li>звук включен</li><li>звук отключен</li><li>звук остался на</li><li>звуковое право</li><li>аудио справа</li><li><em>время</em> в часах</li><li>Формат счетчика</li><li><em>значение</em> счетчика</li><li>дверца закрыта</li><li>Дверца открыта</li><li>Счетчик индекса</li><li>Дата индекса</li><li>время индекса</li><li>время индекса</li><li>коделенгс <em>Длительность</em></li><li><em>время ожидания</em> приостановки</li><li>Длительность выкрутки —</li><li><em>duration</em></li><li>Включение</li><li>выключение питания</li><li><em>Длительность</em> преддействия</li><li>формат записи SP</li><li>формат записи LP</li><li>формат записи EP</li><li><em>Коэффициент</em> скорости</li><li>кадры формата времени</li><li>формат времени ХМс</li><li>формат времени (МС)</li><li>формат времени, MSF</li><li>формат времени SMPTE <em>кадров/</em> с</li><li>формат времени SMPTE 30 Drop</li><li>формат времени тмсф</li><li>Счетчик режима времени</li><li>Обнаружение режима времени</li><li>временной код режима времени</li><li>Отслеживание и</li><li>Отслеживание минус</li><li>Отслеживание сброса</li></ul> | 
| видеодиск | <ul><li>Звук выкл.</li><li>звук включен</li><li>звук отключен</li><li>звук остался на</li><li>звуковое право</li><li>аудио справа</li><li>дверца закрыта</li><li>Дверца открыта</li><li>кадры формата времени</li><li>формат времени ХМс</li><li>формат времени (МС)</li><li>формат времени</li><li>видео отключено</li><li>видео вкл.</li></ul> | 
| вавеаудио | <ul><li>Выравнивание по <em>целому</em> краю</li><li>любые входные данные</li><li>любые выходные данные</li><li>Звук выкл.</li><li>звук включен</li><li>звук отключен</li><li>звук остался на</li><li>звуковое право</li><li>аудио справа</li><li>битсперсампле <em>bit_count</em></li><li>битесперсек <em>byte_rate</em></li><li>каналы <em>channel_count</em></li><li>дверца закрыта</li><li>Дверца открыта</li><li>формат PCM тега</li><li>формат <em>тега</em> тега</li><li>Входное <em>целое число</em></li><li>Выходное <em>целое число</em></li><li>самплесперсек <em>целое число</em></li><li>байты формата времени</li><li>формат времени (МС)</li><li>Примеры форматов времени</li></ul> | 




 

В следующей таблице перечислены флаги, которые могут быть указаны в параметре **лпсзсеттинг** , и их значения.




| Значение | Значение | 
|-------|---------|
| Выравнивание по <em>целому</em> краю | Задает выравнивание блоков данных относительно начала данных, передаваемых устройству аудио-аудио. Файл сохраняется в этом формате. | 
| любые входные данные | Используйте любые входные данные, которые поддерживают текущий формат при записи. Это параметр по умолчанию. | 
| любые выходные данные | Используйте любые выходные данные, которые поддерживают текущий формат при воспроизведении. Это значение по умолчанию. | 
| собрать запись на <br /> собрать запись <br /> | В режиме сборки все дорожки записываются как определенные устройством. По умолчанию большинство видеомагнитофонов находятся в режиме сборки. | 
| Звук выкл. <br /> звук включен <br /> | Отключает или включает звуковые выходные данные. Устройства с наложением видео, МЦИСЕК и МЦИВАВЕ волна-Audio не поддерживают этот флаг. | 
| звук отключен <br /> звук остался на <br /> звуковое право <br /> аудио справа <br /> | Отключает или включает вывод для левого или правого канала звука. Устройства с наложением видео, МЦИСЕК и МЦИВАВЕ волна-Audio не поддерживают этот флаг. | 
| битсперсампле <em>bit_count</em> | Задает количество записываемых или записанных битов на PCM (модуляция импульсного кода). Файл сохраняется в этом формате. | 
| битесперсек <em>byte_rate</em> | Задает среднее число воспроизводимых или записанных байт в секунду. Файл сохраняется в этом формате. | 
| каналы <em>channel_count</em> | Задает каналы для воспроизведения и записи. Файл сохраняется в этом формате. | 
| <em>время</em> в часах | Задает время для внешних часов <em>.</em> Формат указывается как длинное целое число без знака. | 
| Формат счетчика | Задайте формат времени для счетчика, возвращенного <a href="status.md">состоянием</a> "Счетчик". Дополнительные сведения о применимых типах см. в описании команды <strong>Set</strong> Time format. | 
| <em>значение</em> счетчика | Устанавливает для счетчика ВИДЕОМАГНИТОФОНА указанное значение. Значение должно быть указано в текущем формате счетчика. Дополнительные сведения см. в описании команды <strong>Set</strong> Counter ' Format '. | 
| дверца закрыта | Отзывает область и закрывает дверцу, если это возможно. Для видеомагнитофона загружает ленту автоматически. | 
| Дверца открыта | Открывает дверцу и извлекает лоток или ленту, если это возможно. | 
| <em>Формат</em> формата файла | Указывает формат файла, используемый для <a href="save.md">сохранения</a> или <a href="capture.md">записи</a> команд. Если этот параметр опущен, то по умолчанию может быть задан формат драйвера устройства. Если указанный формат файла конфликтует с текущим выбранным алгоритмом и качеством, то они будут заменены на значения по умолчанию для формата файла. Определены следующие форматы файлов:<ul><li>AVI: указывает формат AVI.</li><li>авсс: указывает формат АВСС.</li><li>DIB: задает формат DIB.</li><li>JFIF: указывает формат JFIF.</li><li>JPEG: определяет формат JPEG.</li><li>MPEG: указывает формат MPEG.</li><li>рдиб: указывает формат RLE DIB.</li><li>ржпег: указывает формат РЖПЕГ.</li></ul> | 
| формат PCM тега | Задает тип формата PCM для воспроизведения и записи. Файл сохраняется в этом формате. | 
| формат <em>тега</em> тега | Задает тип формата для воспроизведения и записи. Файл сохраняется в этом формате. | 
| временной код индекса <br /> Счетчик индекса <br /> Дата индекса <br /> время индекса <br /> | Задает текущий экран отображения на ВИДЕОМАГНИТОФОН. | 
| Входное <em>целое число</em> | Задает канал звука, используемый в качестве входных данных. | 
| <em>Длительность</em> длины | Задает указанную пользователем длину ленты в ВИДЕОМАГНИТОФОН. Эта длина возвращается <a href="status.md">командой "Длина" и</a> предоставляется для совместимости с приложениями, для которых эта команда должна возвращать допустимую длину. | 
| основной MIDI | Задает секвенсор MIDI в качестве источника синхронизации. Данные синхронизации отправляются в формате MIDI. МЦИСЕК Sequencer не поддерживает этот флаг. | 
| нет главного сервера | Запрещает секвенсору MIDI отправку данных синхронизации. МЦИСЕК Sequencer не поддерживает этот флаг. | 
| Главный SMPTE | Задает секвенсор MIDI в качестве источника синхронизации. Данные синхронизации отправляются в SMPTE (общество разработчиков изображений и телевизионных телевидения). МЦИСЕК Sequencer не поддерживает этот флаг. | 
| <em>время</em> смещения | Задает <em>время</em>смещения SMPTE. Смещение — это время начала последовательности на основе SMPTE. <em>Время</em> выражается в <em>формате чч</em>: <em>мм</em>: <em>СС</em>: <em>FF</em>, где <em>чч</em> — часы, <em>mm</em> — минуты, <em>SS</em> — секунды, а <em>FF</em> — кадры. | 
| Выходное <em>целое число</em> | Задает канал звука, используемый в качестве выходных данных. | 
| <em>время ожидания</em> приостановки | Задает максимальную продолжительность команды <a href="pause.md">Pause</a> в миллисекундах. Нулевое значение <em>времени ожидания</em> указывает, что время ожидания не произойдет. | 
| <em>Длительность длительности</em> | Задает длину (в текущем формате времени), необходимую для переноса данных из ВИДЕОМАГНИТОФОНА при выполнении команды <a href="stop.md">остановки</a> или <strong>приостановки</strong> . | 
| сопоставитель портов | Устанавливает сопоставитель MIDI в качестве порта, получающего сообщения MIDI. Эта команда завершается ошибкой, если в другом приложении используется сопоставитель MIDI или порт. | 
| порт отсутствует | Отключает отправку сообщений MIDI. Эта команда также закрывает порт MIDI. | 
| <em>port_number</em> порта | Задает порт MIDI, получающий сообщения MIDI. Эта команда завершается ошибкой, если открываемый порт используется другим приложением. | 
| Включение <br /> выключение питания <br /> | Задает включение или выключение питания устройства. | 
| <em>Длительность</em> преддействия | Задает длину в текущем формате времени, необходимую для стабилизации выходных данных ВИДЕОМАГНИТОФОНА. | 
| формат записи SP <br /> формат записи LP <br /> формат записи EP <br /> | Устанавливает режим записи для ВИДЕОМАГНИТОФОНА в значение SP для Standard Play, EP для расширенного воспроизведения или LP для длительного воспроизведения. Эти значения не предназначены для ВХС. Они сопоставляются с любыми тремя подходящими режимами с другими форматами ленты. Например, SP сопоставляется с самой быстрой и высококачественной записью. | 
| самплесперсек <em>целое число</em> | Задает частоту выборки для воспроизведения и записи. Файл сохраняется в этом формате. | 
| Поиск в точности<br /> Поиск в точности <br /> | Выбирает один из двух режимов поиска. При использовании «поиска в точности» Поиск всегда будет перемещаться к заданному кадру. Если выбрано "Поиск в точности", поиск будет перемещен к ближайшему ключевому кадру до указанного кадра. | 
| ведомый файл | Задает секвенсор MIDI для использования файловых данных в качестве источника синхронизации. Это параметр по умолчанию. | 
| ведомый MIDI | Задает секвенсор MIDI для использования входящих данных MIDI для источника синхронизации. Секвенсор распознает данные синхронизации в формате MIDI. МЦИСЕК Sequencer не поддерживает этот флаг. | 
| подчиненный нет | Задает для секвенсора MIDI игнорирование синхронизации | 
| Ведомая SMPTE | Задает секвенсор MIDI для использования входящих данных MIDI для источника синхронизации. Секвенсор распознает данные синхронизации в формате SMPTE. МЦИСЕК Sequencer не поддерживает этот флаг. | 
| коэффициент скорости | Задает относительную скорость воспроизведения видео и звука из рабочей области. Коэффициент — это отношение между номинальной частотой кадров и требуемой частотой кадров, где Номинальная частота кадров обозначена как 1000. (Частота 500 составляет половину обычной скорости, 2000 — вдвое нормальная скорость и т. д.) Установка нулевой скорости воспроизводит видео как можно быстрее без удаления кадров и без звука. | 
| <em>Формат</em> файла по-прежнему | Указывает формат файла, используемый для команд записи. | 
| темп tempo_value | Задает темп последовательности в соответствии с текущим форматом времени. Для файла, основанного на ППКН, tempo_value интерпретируется как ритм в минуту. Для файла на основе SMPTE tempo_value интерпретируется как число кадров в секунду. | 
| байты формата времени | В формате файла PCM устанавливает формат времени в байтах. Все сведения о положении указываются в байтах после этой команды. | 
| кадры формата времени | Задает формат времени для кадров. Все команды, использующие значения позиций, предполагают наличие кадров. При открытии устройства в качестве режима по умолчанию используется кадр. Поддерживается видеодискс с использованием формата Кав. | 
| формат времени ХМс | Задает формат времени в часах, минутах и секундах. Все команды, использующие значения позиций, будут считаться ХМС. ХМС является форматом по умолчанию для CLV видеодискс. Укажите значение ХМС в формате чч: мм: СС, где чч — часы, мм — минуты, а SS — секунды. Можно опустить поле, если оно и все следующие поля равны нулю. Например, 3, 3:0 и 3:0:0 — это все допустимые способы выражения 3 часа. <br /> | 
| формат времени (МС) | Устанавливает формат времени в миллисекундах. Все команды, использующие значения позиций, будут считаться миллисекундами. В качестве "MS" можно сократить миллисекунды. Для устройств Sequencer файл последовательности устанавливает формат по умолчанию ППКН или SMPTE. Устройства с наложением видео не поддерживают этот флаг.<br /> | 
| формат времени, MSF | Устанавливает формат времени в минутах, секундах и кадрах. Все команды, использующие значения позиций, предполагают использование MSF (формат по умолчанию для аудио компакт-диска). Укажите значение MSF в формате mm: SS: FF, где mm — минуты, SS — секунды, а FF — кадры. Можно опустить поле, если оно и все следующие поля равны нулю. Например, 3, 3:0 и 3:0:0 — допустимые способы выразить 3 минуты.<br /> Поля MSF имеют следующие максимальные значения:<br /><ul><li>Минуты 99</li><li>Секунды 59</li><li>Кадры 74</li></ul> | 
| Примеры форматов времени | Задает формат времени для выборок. Все сведения о положении указываются в качестве примеров после этой команды. | 
| формат времени SMPTE 24<br /> формат времени SMPTE 25<br /> формат времени SMPTE 30<br /> | Задает формат времени для SMPTE частоты кадров. Для видеомагнитофона задает формат времени ЧЧ: мм: СС: FF, где допустимые значения: от 00:00:00:00 до 23:59:59: XX, а XX — один меньше, чем число кадров в секунду, заданное в числе 24, 25 или 30, как указано в флаге. На входе, двоеточия (:) для разделения компонентов требуются. Наименее значащие единицы можно опустить, если они равны 00; Например, 02:00 совпадает с 02:00:00:00. Все команды, использующие значения позиций, будут иметь формат SMPTE.<br /> Файл последовательности устанавливает формат по умолчанию ППКН или SMPTE.<br /> | 
| формат времени SMPTE 30 Drop | Устанавливает для формата времени значение SMPTE 30 скорость кадров. Для видеомагнитофонов, то же, что и SMPTE 30, за исключением того, что определенные позиции времени удаляются из формата, чтобы записывались позиции временного периода для каждого кадра (в частоте кадров NTSC 29,97 кадров/с) соответствует реальное время (30 кадров/с). Удаляемые позиции времени выполнения: две минуты (в минуту) для первых девяти каждых 10 минут записанного содержимого. Например, в 01:04:59:29 следующий код времени будет равен 01:05:00:02, а не 01:05:00:00. Все команды, использующие значения позиций, будут иметь формат SMPTE.<br /> Файл последовательности устанавливает формат по умолчанию ППКН или SMPTE.<br /> | 
| Указатель песни формата времени | Задает формат времени для указателя композиции (шестнадцатые примечания). Во всех командах, использующих значения позиции, будут использоваться единицы указателей песни. Этот флаг допустим только для последовательности типа деления ППКН. | 
| формат времени тмсф | Задает формат времени для записей, минут, секунд и кадров. Все команды, использующие значения позиций, будут считаться ТМСФ. Укажите значение ТМСФ в формате TT: mm: SS: FF, где TT отслеживается, mm — минуты, SS — секунды, а FF — кадры. Можно опустить поле, если оно и все следующие поля равны нулю. Например, 3, 3:0, 3:0:0 и 3:0:0:0 являются допустимыми способами для выражения направления 3. <br /> Поля ТМСФ имеют следующие максимальные значения:<br /><ul><li>Дорожки 99</li><li>Минуты 90</li><li>Секунды 59</li><li>Кадры 74</li></ul> | 
| формат времени | Задает формат расположения для отслеживания. Все команды, использующие значения позиций, будут считаться дорожками. | 
| Счетчик режима времени | Задает режим сведений о положении для использования счетчиков ВИДЕОМАГНИТОФОНА. | 
| Обнаружение режима времени | Задает режим сведений о положении на основе обнаружения на ленте сведений о времени. Если обнаружены сведения об элементе с кодом времени, то для типа Time устанавливается значение "временной код"; в противном случае для типа времени задается значение "Counter". "Обнаружение" — особый режим. При открытии драйвера, вставке новой ленты или выполнении команды "режим времени" драйвер проверяет текущий режим времени, доступный на ленте, и задает для типа времени значение "Time" или "Counter". После установки параметра "тип времени" драйвер не изменяет его, пока не произойдет одно из указанных выше условий.<br /> | 
| временной код режима времени | Задает режим сведений о положении для использования на ленте сведений о времени. | 
| Отслеживание и <br /> Отслеживание минус <br /> Отслеживание сброса <br /> | Регулирует скорость передачи видеокассеты с точно увеличивающимся шагом. Используйте флаги "Отслеживание" при получении шума изображения из ВИДЕОМАГНИТОФОНА. "Отслеживание плюс" увеличивает скорость транспорта. "Трекинг минус" уменьшает скорость транспортировки. "Отслеживание сброса" возвращает корректировку отслеживания в ноль. | 
| видео отключено | Отключает вывод видео. | 
| видео вкл. | Включает вывод видео. | 




 

</dd> <dt>

<span id="lpszFlags"></span><span id="lpszflags"></span><span id="LPSZFLAGS"></span>*лпсзфлагс*
</dt> <dd>

Может иметь значение "Wait", "notify" или и то, и другое. Для устройств с цифровыми видео и ВИДЕОМАГНИТОФОНА можно также указать "Test". Дополнительные сведения об этих флагах см. [в разделе Флаги ожидания, уведомления и проверки](the-wait-notify-and-test-flags.md).

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Возвращает нуль в случае успеха или ошибку в противном случае.

## <a name="remarks"></a>Remarks

При создании файла для хранения данных определяются некоторые свойства аудио-данных с волнами. Эти свойства описывают, как данные структурированы в файле и не могут быть изменены после начала записи. Эти свойства определяются в следующем списке.

-   выравнивание
-   битсперсампле
-   битесперсек
-   каналов
-   Формат тега
-   самплесперсек

## <a name="examples"></a>Примеры

Следующая команда задает для формата времени значение миллисекунд и задает для формата звуковой волны значение 8 бит, моно, 11 кГц.

``` syntax
set mysound time format ms bitspersample 8 channels 1 samplespersec 11025
```

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows 2000 Professional \[только классические приложения\]<br/> |
| Минимальная версия сервера<br/> | Windows 2000 Server \[только классические приложения\]<br/>       |



## <a name="see-also"></a>См. также

<dl> <dt>

[MCI](mci.md)
</dt> <dt>

[Строки команд MCI](mci-command-strings.md)
</dt> <dt>

[выделяем](capture.md)
</dt> <dt>

[pause](pause.md)
</dt> <dt>

[сохранить](save.md)
</dt> <dt>

[stop](stop.md)
</dt> </dl>

 

