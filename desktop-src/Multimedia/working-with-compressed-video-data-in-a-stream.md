---
title: Работа с сжатыми данными видео в потоке
description: Работа с сжатыми данными видео в потоке
ms.assetid: b701e072-f162-438f-b607-aea7491a02f9
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e7c09de239fa28f3d9739dafc953ce10c2a6f1d69c0c607aeb03bc388a0f3003
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118622094"
---
# <a name="working-with-compressed-video-data-in-a-stream"></a>Работа с сжатыми данными видео в потоке

Авифиле предоставляет несколько способов доступа к сжатым видеопотокам.

Если вы хотите отобразить один или несколько кадров сжатого видеопотока, можно извлечь кадры с помощью функции [**авистреамреад**](/windows/desktop/api/Vfw/nf-vfw-avistreamread) и переслать данные сжатых кадров в функции дравдиб, чтобы отобразить их. Функции Дравдиб могут отображать изображения нескольких глубин изображения и автоматически расдизеринг изображений для дисплеев, которые не могут работать с определенными типами изображений, не зависящими от устройства (DIB). Эти функции работают с несжатыми и сжатыми изображениями. Дополнительные сведения о функциях Дравдиб см. в разделе [функции дравдиб](drawdib-functions.md).

Авифиле предоставляет функции для распаковки одного кадра видео. Чтобы выделить ресурсы, используйте функцию [**авистреамжетфрамеопен**](/windows/desktop/api/Vfw/nf-vfw-avistreamgetframeopen) . Эта функция создает буфер для распакованных данных.

Вы можете распаковать один кадр видео с помощью функции [**авистреамжетфраме**](/windows/desktop/api/Vfw/nf-vfw-avistreamgetframe) . Эта функция распаковывает кадр и извлекает полный кадр данных изображения, возвращая адрес DIB в структуре [битмапинфохеадер](/previous-versions//ms532290(v=vs.85)) . Приложение может отображать DIB с помощью стандартных функций рисования или с помощью функций Дравдиб.

Если приложение выполняет последовательные вызовы **авистреамжетфраме**, функция перезаписывает свой буфер в каждый полученный кадр.

После завершения использования **авистреамжетфраме** и распакованного DIB-рисунка в буфер можно освободить выделенные ресурсы с помощью функции [**авистреамжетфрамеклосе**](/windows/desktop/api/Vfw/nf-vfw-avistreamgetframeclose) .

Дополнительные сведения о распаковке изображений см. в разделе [Диспетчер сжатия видео](video-compression-manager.md).

 

 