---
title: Использование палитр МЦивнд
description: Использование палитр МЦивнд
ms.assetid: 2b99ca57-f321-4286-8ebf-ae3344d8d2c9
keywords:
- Макрос МЦивнджетпалетте
- Макрос МЦивндсетпалетте
- Макрос МЦивндреализе
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 074dece2c1dac95e24a465413cae686acea5a8e9055913bfb832341efdb12c1a
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "117801123"
---
# <a name="using-mciwnd-palettes"></a>Использование палитр МЦивнд

Для воспроизведения видеороликов с 8-разрядной глубиной цвета (256-цветовая емкость) требуется палитра для определения используемых цветов. Иногда палитра, включенная в видеоролик, не является наиболее подходящей палитрой для использования во время воспроизведения. В этом случае МЦивнд предоставляет три способа управления палитрами для воспроизведения.

-   Получите маркер для палитры, связанной с окном МЦивнд, с помощью макроса [**мЦивнджетпалетте**](/windows/desktop/api/Vfw/nf-vfw-mciwndgetpalette) . Палитра не обязательно связана исключительно с окном МЦивнд. Другие приложения могут получить доступ к палитре и даже сделать недействительными. Следовательно, приложение должно предвидеть глобальное использование палитры и, по завершении работы с палитрой, не должно освобождать ее.
-   Укажите новую палитру для использования с видеороликом, связанным с окном МЦивнд, с помощью макроса [**мЦивндсетпалетте**](/windows/desktop/api/Vfw/nf-vfw-mciwndsetpalette) .
-   Реализуйте палитру, связанную с окном МЦивнд, с системной палитрой с помощью макроса [**мЦивндреализе**](/windows/desktop/api/Vfw/nf-vfw-mciwndrealize) . Этот макрос вызывает функцию [**реализепалетте**](/windows/desktop/api/wingdi/nf-wingdi-realizepalette) с палитрой, связанной с окном мЦивнд. Если обработчики сообщений приложения для [**WM \_ Палеттечанжед**](/windows/desktop/gdi/wm-palettechanged) и [**WM \_ Куериневпалетте**](/windows/desktop/gdi/wm-querynewpalette) вызывают только **реализепалетте** или **МЦивндреализе**, необходимо перенаправить эти сообщения в мЦивнд, если вы не обрабатываете их самостоятельно.

> [!Note]  
> Когда видеоролик с 8-разрядной глубиной цвета загружается в окно МЦивнд, палитра, включенная в этот клип, заменяет палитру, связанную с окном МЦивнд.

 

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Усовершенствования воспроизведения](playback-enhancements.md)
</dt> </dl>

 

 