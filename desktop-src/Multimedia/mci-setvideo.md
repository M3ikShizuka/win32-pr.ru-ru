---
title: Команда MCI_SETVIDEO (Ммсистем. h)
description: Команда MCI \_ сетвидео задает значения, связанные с воспроизведением видео. Эта команда распознает устройства цифрового видео и ВИДЕОМАГНИТОФОНА.
ms.assetid: b84956d8-01a0-49f6-a96c-2693a25e6f2a
keywords:
- команда MCI_SETVIDEO Windows мультимедиа
topic_type:
- apiref
api_name:
- MCI_SETVIDEO
api_location:
- Mmsystem.h
api_type:
- HeaderDef
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 23206d169ad5e273927ead247c44194660c8d6b201c725e1b4d4ab24fd5e1544
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "117803382"
---
# <a name="mci_setvideo-command"></a>\_Команда MCI сетвидео

Команда MCI \_ сетвидео задает значения, связанные с воспроизведением видео. Эта команда распознает устройства цифрового видео и ВИДЕОМАГНИТОФОНА.

Чтобы отправить эту команду, вызовите функцию [**мЦисендкомманд**](/previous-versions//dd757160(v=vs.85)) со следующими параметрами.


```C++
MCIERROR mciSendCommand(
  MCIDEVICEID wDeviceID, 
  MCI_SETVIDEO, 
  DWORD dwFlags, 
  (DWORD) (LPMCI_GENERIC_PARMS) lpSetVideo
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

<span id="wDeviceID"></span><span id="wdeviceid"></span><span id="WDEVICEID"></span>*вдевицеид*
</dt> <dd>

Идентификатор устройства MCI, который должен получить командное сообщение.

</dd> <dt>

<span id="dwFlags"></span><span id="dwflags"></span><span id="DWFLAGS"></span>*dwFlags*
</dt> <dd>

**MCI \_ УВЕДОМЛЕНИЕ**, **\_ Ожидание MCI** или **\_ тест MCI**. Дополнительные сведения об этих флагах см. [в разделе Флаги ожидания, уведомления и проверки](the-wait-notify-and-test-flags.md).

</dd> <dt>

<span id="lpSetVideo"></span><span id="lpsetvideo"></span><span id="LPSETVIDEO"></span>*лпсетвидео*
</dt> <dd>

Указатель на [**общую структуру \_ \_ пармс MCI**](mci-generic-parms.md) . (Устройства с расширенными наборами команд могут заменить эту структуру структурой, зависящей от устройства.)

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Возвращает нуль в случае успеха или ошибку в противном случае.

## <a name="remarks"></a>Remarks

С типом устройства "дигиталвидео" используются следующие дополнительные флаги:

<dl> <dt>

<span id="MCI_DGV_SETVIDEO_ALG"></span><span id="mci_dgv_setvideo_alg"></span>MCI \_ ДГВ \_ сетвидео \_ ALG
</dt> <dd>

Элемент **лпстралгорисм** структуры, идентифицируемой *лпсетвидео* , содержит адрес буфера, содержащего имя алгоритма сжатия видео. Алгоритм сжатия используется последующими командами [ \_ резервирования MCI](mci-reserve.md) или [ \_ записи MCI](mci-record.md) . Доступные алгоритмы зависят от устройства.

Если указанный алгоритм несовместим с текущим форматом файла, формат файла меняется на формат по умолчанию для алгоритма.

</dd> <dt>

<span id="MCI_DGV_SETVIDEO_CLOCKTIME"></span><span id="mci_dgv_setvideo_clocktime"></span>MCI \_ ДГВ \_ сетвидео \_ клокктиме
</dt> <dd>

При использовании с **MCI \_ ДГВ \_ сетвидео \_**, указывает, что время указывается в миллисекундах и является абсолютным временем. (На этот раз это не пошаговое воспроизведение рабочей области.)

</dd> <dt>

<span id="MCI_DGV_SETVIDEO_INPUT"></span><span id="mci_dgv_setvideo_input"></span>\_ \_ \_ входные данные сетвидео MCI ДГВ
</dt> <dd>

Изменяет **\_ \_ \_ яркость MCI ДГВ сетвидео**, **MCI \_ ДГВ \_ сетвидео \_**, MCI **\_ ДГВ \_ сетвидео \_ контраст**, **MCI \_ ДГВ \_ сетвидео \_ гамма**, **MCI \_ ДГВ \_ сетвидео \_**, или **MCI \_ ДГВ \_ сетвидео \_ оттенок** , чтобы он влиял на входной сигнал и изменяет записываемые данные. По возможности это значение по умолчанию при мониторинге входных данных.

</dd> <dt>

<span id="MCI_DGV_SETVIDEO_ITEM"></span><span id="mci_dgv_setvideo_item"></span>\_ \_ элемент сетвидео MCI \_ ДГВ
</dt> <dd>

Константа Video указывается в элементе **двитем** структуры, определенной параметром *лпсетвидео*. Константа определяет заданное значение. С этим флагом можно указать следующие константы:

</dd> <dt>

<span id="MCI_AVI_SETVIDEO_DRAW_PROCEDURE"></span><span id="mci_avi_setvideo_draw_procedure"></span>Процедура рисования в MCI \_ AVI \_ сетвидео \_ \_
</dt> <dd>

Новый адрес процедуры рисования задается в элементе **дввалуе** структуры, определенной параметром *лпсетвидео*. Новую процедуру рисования можно указать только в том случае, если устройство бездействует. Этот флаг распознается только драйвером МЦИАВИ Digital-Video. Эквивалент этого флага в интерфейсе командной строки не существует.

</dd> <dt>

<span id="MCI_AVI_SETVIDEO_PALETTE_COLOR"></span><span id="mci_avi_setvideo_palette_color"></span>\_ \_ \_ цвет палитры MCI AVI сетвидео \_
</dt> <dd>

Новый цвет палитры указан в элементах **двовер** и **дввалуе** структуры, идентифицируемой *лпсетвидео*. Элемент **двовер** указывает индекс палитры изменяемого цвета, а элемент **дввалуе** задает новый цвет в виде значения RGB. При использовании этой константы необходимо также указать флаги **\_ ДГВ MCI \_ сетвидео \_** и **MCI \_ ДГВ \_ сетвидео \_** с **\_ \_ \_ элементом MCI ДГВ сетвидео** . Этот флаг распознается только драйвером МЦИАВИ Digital-Video.

</dd> <dt>

<span id="MCI_AVI_SETVIDEO_PALETTE_HALFTONE"></span><span id="mci_avi_setvideo_palette_halftone"></span>\_ \_ Палитра MCI AVI сетвидео \_ \_ полутона
</dt> <dd>

Указывает, что вместо палитры по умолчанию следует использовать палитру полутонов. Этот флаг распознается только драйвером МЦИАВИ Digital-Video.

</dd> <dt>

<span id="MCI_DGV_SETVIDEO_BITSPERPEL"></span><span id="mci_dgv_setvideo_bitsperpel"></span>MCI \_ ДГВ \_ сетвидео \_ битсперпел
</dt> <dd>

Число битов на пиксель указывается в элементе **дввалуе** структуры, определенной параметром *лпсетвидео*. Число битов на пиксель используется для сохранения записанных или записанных данных.

</dd> <dt>

<span id="MCI_DGV_SETVIDEO_BRIGHTNESS"></span><span id="mci_dgv_setvideo_brightness"></span>\_яркость MCI ДГВ \_ сетвидео \_
</dt> <dd>

Уровень яркости видео указывается в качестве фактора в элементе **дввалуе** структуры, идентифицируемой *лпсетвидео*.

</dd> <dt>

<span id="MCI_DGV_SETVIDEO_COLOR"></span><span id="mci_dgv_setvideo_color"></span>\_ \_ Цвет сетвидео MCI \_ ДГВ
</dt> <dd>

Уровень насыщенности видео определяется как фактор в элементе **дввалуе** структуры, идентифицируемой *лпсетвидео*.

</dd> <dt>

<span id="MCI_DGV_SETVIDEO_CONTRAST"></span><span id="mci_dgv_setvideo_contrast"></span>\_ \_ контрастность MCI ДГВ сетвидео \_
</dt> <dd>

Уровень контрастности видео указывается в качестве фактора в элементе **дввалуе** структуры, идентифицируемой *лпсетвидео*.

</dd> <dt>

<span id="MCI_DGV_SETVIDEO_FRAME_RATE"></span><span id="mci_dgv_setvideo_frame_rate"></span>\_ \_ \_ Частота кадров MCI ДГВ \_ сетвидео
</dt> <dd>

Частота кадров указывается в элементе **дввалуе** структуры, определенной параметром *лпсетвидео*. Частота указана в единицах кадров в секунду, раз в 1000. Например, 29,97 кадров в секунду указывается как 29970.

</dd> <dt>

<span id="MCI_DGV_SETVIDEO_GAMMA"></span><span id="mci_dgv_setvideo_gamma"></span>\_ \_ гамма-сетвидео MCI ДГВ \_
</dt> <dd>

Значение экспоненты гамма-коррекции задается в элементе **дввалуе** структуры, определенной параметром *лпсетвидео*. Гамма-коррекция настраивает сопоставление интенсивности, закодированной в источнике презентации, и отображаемую яркость. Значением является экспонента, умноженная на 1000. Например, 2200 указывает на степень 2,2. Значение 1000 указывает экспоненту 1, которая не выполняет гамма-коррекцию.

</dd> <dt>

<span id="MCI_DGV_SETVIDEO_KEY_COLOR"></span><span id="mci_dgv_setvideo_key_color"></span>\_ \_ \_ Цвет ключа MCI ДГВ \_ сетвидео
</dt> <dd>

Ключевой цвет задается в элементе **дввалуе** структуры, определенной параметром *лпсетвидео*. Ключевой цвет — это значение RGB.

</dd> <dt>

<span id="MCI_DGV_SETVIDEO_KEY_INDEX"></span><span id="mci_dgv_setvideo_key_index"></span>\_ \_ \_ индекс ключа сетвидео MCI \_ ДГВ
</dt> <dd>

Значение индекса ключа указывается в элементе **дввалуе** структуры, определенной параметром *лпсетвидео*. Параметр индекса является физическим индексом палитры.

</dd> <dt>

<span id="MCI_DGV_SETVIDEO_PALHANDLE"></span><span id="mci_dgv_setvideo_palhandle"></span>MCI \_ ДГВ \_ сетвидео \_ палхандле
</dt> <dd>

В элементе **дввалуе** структуры, идентифицируемой *лпсетвидео*, указывается маркер палитры. Маркер палитры содержится в слове нижнего порядка. Устройствам с цифровыми видео не следует освобождать палитру, переданную с помощью этой команды. Приложения должны освободить его после закрытия устройства. Этот флаг поддерживается только устройствами, которые используют палитры. Если этот заданный маркер палитры равен нулю, используется палитра по умолчанию.

</dd> <dt>

<span id="MCI_DGV_SETVIDEO_SHARPNESS"></span><span id="mci_dgv_setvideo_sharpness"></span>\_резкость ДГВ \_ СЕТВИДЕОа MCI \_
</dt> <dd>

Значение четкости задается в виде коэффициента в элементе **дввалуе** структуры, определенной *лпсетвидео*.

</dd> <dt>

<span id="MCI_DGV_SETVIDEO_SOURCE"></span><span id="mci_dgv_setvideo_source"></span>\_ \_ источник сетвидео MCI \_ ДГВ
</dt> <dd>

Константа, указывающая источник входных данных видео, указывается в элементе **дввалуе** структуры, определенной параметром *лпсетвидео*. Определены следующие константы:

-   **MCI \_ ДГВ \_ сетвидео \_ src \_ NTSC**: NTSC телевидение.
-   MCI \_ ДГВ \_ сетвидео \_ src \_ PAL: PAL телевидение.
-   MCI \_ ДГВ \_ сетвидео \_ src \_ RGB: видео в формате RGB.
-   MCI \_ ДГВ \_ сетвидео \_ src \_ СЕКАМ: СЕКАМ телевидение.
-   MCI \_ ДГВ \_ сетвидео \_ src \_ Свидео: S-Video.

</dd> <dt>

<span id="MCI_DGV_SETVIDEO_STREAM"></span><span id="mci_dgv_setvideo_stream"></span>\_ \_ поток сетвидео MCI \_ ДГВ
</dt> <dd>

Поток видео задается в элементе **дввалуе** структуры, определяемой *лпсетвидео*. Целочисленное значение указывает поток видео, воспроизводимый из рабочей области. Если поток не указан и формат файла не определяет поток по умолчанию, то будет воспроизведен первый физически чередующийся поток видео.

</dd> <dt>

<span id="MCI_DGV_SETVIDEO_TINT"></span><span id="mci_dgv_setvideo_tint"></span>\_оттенок \_ сетвидео MCI ДГВ \_
</dt> <dd>

Значение оттенка видео указывается как фактор в элементе **дввалуе** структуры, идентифицируемой *лпсетвидео*. Как правило, эта корректировка моделируется после управления оттенок множества наборов цветовых телевизоров с 250, определенными зеленым цветом, 750, определенными красным цветом, а 0 (или 1000) — синим. Номинальное значение всегда равно 500.

</dd> <dt>

<span id="MCI_DGV_SETVIDEO_OUTPUT"></span><span id="mci_dgv_setvideo_output"></span>\_ \_ выходные данные сетвидео MCI ДГВ \_
</dt> <dd>

**\_ ДГВ \_ сетвидео \_ яркость**, **MCI \_ ДГВ \_ сетвидео \_**, MCI **\_ ДГВ \_ сетвидео \_**,, MCI **\_ ДГВ \_ сетвидео \_ гамма**, **MCI \_ ДГВ \_ сетвидео \_ резкость**, или элемент **MCI \_ ДГВ \_ сетвидео \_ оттенок** , изменяется так, чтобы он влиял только на отображаемый сигнал, а не на записи. По возможности это значение по умолчанию при мониторинге файла.

</dd> <dt>

<span id="MCI_DGV_SETVIDEO_OVER"></span><span id="mci_dgv_setvideo_over"></span>MCI \_ ДГВ \_ сетвидео \_
</dt> <dd>

Параметр длины перехода включается в элемент **двовер** структуры, идентифицируемой *лпсетвидео*. Длина перехода определяет время (в текущем формате времени), которое должно потребоваться для внесения изменений. Если этот флаг не используется, изменение выполняется немедленно.

</dd> <dt>

<span id="MCI_DGV_SETVIDEO_QUALITY"></span><span id="mci_dgv_setvideo_quality"></span>\_ \_ качество сетвидео MCI \_ ДГВ
</dt> <dd>

Элемент **лпстркуалити** структуры, идентифицируемой *лпсетвидео* , содержит адрес буфера, описывающего качество видео. Текстовая строка в буфере определяет характеристики алгоритма сжатия видео.

Для выбора дескриптора качества для указанного алгоритма можно использовать флаг **\_ ДГВ \_ сетвидео \_ в MCI** . Если этот флаг опущен, используется текущий алгоритм.

Доступные имена алгоритмов и дескрипторов зависят от устройства. Каждое устройство предоставляет документацию по доступным алгоритмам и описание применимых имен дескрипторов. Команда [ \_ качества MCI](mci-quality.md) может определять дополнительные имена дескрипторов. Все устройства поддерживают дескрипторы «Low», «Medium» и «High». Значение по умолчанию — Специальный драйвер.

</dd> <dt>

<span id="MCI_DGV_SETVIDEO_RECORD"></span><span id="mci_dgv_setvideo_record"></span>\_ \_ запись сетвидео MCI \_ ДГВ
</dt> <dd>

Указывает, включает ли запись видео или исключает их. Если в сочетании с **MCI \_ установлено \_ On**, данные видео записываются. Если в сочетании с **MCI \_ установлено значение \_ Off**, данные видео исключаются. По умолчанию включаются данные видео.

</dd> <dt>

<span id="MCI_DGV_SETVIDEO_SRC_NUMBER"></span><span id="mci_dgv_setvideo_src_number"></span>\_ \_ \_ номер src ДГВ сетвидео \_ MCI
</dt> <dd>

Число для источника видео указывается в элементе **двсаурценумбер** структуры, определенной параметром *лпсетвидео*. Если имеется более одного входного типа, заданного в **\_ ДГВ \_ сетвидео \_ MCI**, значение выбирает входные данные. Этот флаг всегда должен использоваться с **\_ \_ \_ источником сетвидео MCI ДГВ**. Однако **Если \_ \_ \_ значение MCI ДГВ сетвидео** опущено, то указанный исходный номер указывает на абсолютный источник, который будет использоваться в качестве указанного в команде [MCI \_ List](mci-list.md) .

</dd> <dt>

<span id="MCI_DGV_SETVIDEO_STILL"></span><span id="mci_dgv_setvideo_still"></span>MCI \_ ДГВ \_ сетвидео \_ по-прежнему
</dt> <dd>

Указанное имя алгоритма или значения качества относятся к изображениям.

Каждый драйвер устройства должен поддерживать алгоритм "None", что означает отсутствие сжатия. Это значение по умолчанию. В этом случае устройства Digital-Video сохраняют изображения по-прежнему как аппаратно-независимые точечные рисунки (DIB).

</dd> <dt>

<span id="MCI_DGV_SETVIDEO_VALUE"></span><span id="mci_dgv_setvideo_value"></span>\_ \_ значение сетвидео MCI \_ ДГВ
</dt> <dd>

Значение включается в элемент **дввалуе** структуры, идентифицируемой *лпсетвидео*. Значение значения задается флагом **\_ \_ \_ элемента MCI ДГВ сетвидео** .

</dd> <dt>

<span id="MCI_SET_OFF"></span><span id="mci_set_off"></span>MCI \_ установлен \_
</dt> <dd>

Отключает вывод видео. Для устройств с цифровыми видео. при отключении видео устанавливаются Пиксели в прямоугольнике назначения, определяемые командой [MCI \_ ](mci-put.md) (или ее значением по умолчанию, областью действия клиента текущего окна) сплошным цветом, но не влияет на буфер кадров. При необходимости можно скрыть окно с помощью [команды \_ окна MCI](mci-window.md) . Источник видео, будь то Рабочая область или внешние входные данные, может продолжать хранить новые изображения в буфере кадров, но они не отображаются, пока видео не будет включено. Хотя приложения должны использовать команду MCI \_ сетвидео для управления этой функцией, устройства цифрового видео по-прежнему должны поддерживать этот флаг. Значение по умолчанию после открытия.

</dd> <dt>

<span id="MCI_SET_ON"></span><span id="mci_set_on"></span>MCI \_ задан \_ на
</dt> <dd>

Включает вывод видео.

</dd> </dl>

Для устройств с цифровыми видео параметр *лпсетвидео* указывает на структуру [**MCI \_ ДГВ \_ сетвидео \_ пармс**](/windows/desktop/api/Digitalv/ns-digitalv-mci_dgv_setvideo_parmsa) .

Следующие дополнительные флаги используются с типом устройства "видеомагнитофон":

<dl> <dt>

<span id="MCI_VCR_SETVIDEO_RECORD"></span><span id="mci_vcr_setvideo_record"></span>\_ \_ запись СЕТВИДЕО видеомагнитофона \_ MCI
</dt> <dd>

Задает включение или выключение записи видео. Используется в сочетании с одним из следующих флагов:

-   **MCI \_ Задайте значение \_ On**. Запись видео в.
-   **MCI \_ Установите значение \_ Off**. Запись видео отключена. Для отключения записи видео может потребоваться отключить запись сборки (с помощью команды [MCI с \_](mci-set.md) установленным флагом **\_ \_ \_ сбора \_ записей видеомагнитофона видеомагнитофонов MCI** ).

</dd> <dt>

<span id="MCI_TRACK"></span><span id="mci_track"></span>\_направление MCI
</dt> <dd>

Элемент **двтракк** структуры, определяемой параметром *лпсетвидео* , указывает, на какую запись влияет команда.

</dd> <dt>

<span id="MCI_VCR_SETVIDEO_SOURCE"></span><span id="mci_vcr_setvideo_source"></span>\_ \_ источник СЕТВИДЕО видеомагнитофона \_ MCI
</dt> <dd>

Задает источник видео и должен использоваться с флагом **\_ \_ сетвидео \_ видеомагнитофона MCI** .

</dd> <dt>

<span id="MCI_VCR_SETVIDEO_MONITOR"></span><span id="mci_vcr_setvideo_monitor"></span>\_ \_ монитор СЕТВИДЕО видеомагнитофона \_ MCI
</dt> <dd>

Задает монитор источника видео и должен использоваться с \_ \_ флагом СЕТВИДЕО видеомагнитофона MCI \_ .

</dd> <dt>

<span id="MCI_VCR_SETVIDEO_TO"></span><span id="mci_vcr_setvideo_to"></span>\_сетвидео ВИДЕОМАГНИТОФОН \_ MCI \_
</dt> <dd>

Элемент **двто** структуры, идентифицируемой *лпсетвидео* , содержит одну из следующих констант:

<dl> <dd>**средство \_ \_ \_ настройки типа src \_ видеомагнитофона MCI**</dd> <dd>**\_ \_ \_ Строка типа src видеомагнитофона \_ MCI**</dd> <dd>**\_ \_ \_ дополнительный тип src видеомагнитофона \_ MCI**</dd> <dd>**\_ \_ тип src видеомагнитофона MCI \_ типа \_ универсальный**</dd> <dd>**\_выкл. \_ \_ тип src видеомагнитофона MCI \_**</dd> <dd>**\_ \_ \_ выходные данные типа src видеомагнитофона MCI \_**</dd> <dd>**\_ \_ тип src видеомагнитофона MCI \_ типа \_ RGB**</dd> <dd>**\_ \_ номер СЕТВИДЕО видеомагнитофона \_ MCI**</dd> </dl>

Элемент **двнумбер** структуры, идентифицируемой *лпсетвидео* , содержит входные данные видео (для типа, указанного в элементе **двто** ) для использования.

</dd> </dl>

Для устройств ВИДЕОМАГНИТОФОНА параметр *лпсетвидео* указывает на структуру [**\_ видеомагнитофона MCI \_ сетвидео \_ пармс**](mci-vcr-setvideo-parms.md) .

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|-----------------------------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows 2000 Professional \[только классические приложения\]<br/>                                                |
| Минимальная версия сервера<br/> | Windows 2000 Server \[только классические приложения\]<br/>                                                      |
| Заголовок<br/>                   | <dl> <dt>ммсистем. h (включает Windows. h)</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[MCI](mci.md)
</dt> <dt>

[Команды MCI](mci-commands.md)
</dt> </dl>

 

