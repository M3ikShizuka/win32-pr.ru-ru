---
title: Команда сетаудио
description: Команда сетаудио задает значения, связанные с воспроизведением и записью звука. Эта команда распознает устройства цифрового видео и ВИДЕОМАГНИТОФОНА.
ms.assetid: 78f6e365-fb51-4b1a-8dd7-0a2d5a047750
keywords:
- Команда сетаудио мультимедиа Windows
topic_type:
- apiref
api_name:
- setaudio
api_type:
- NA
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: f4c022a03834a14995f19815ef8f52c0955dc449
ms.sourcegitcommit: a1494c819bc5200050696e66057f1020f5b142cb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/12/2020
ms.locfileid: "105672563"
---
# <a name="setaudio-command"></a>Команда сетаудио

Команда сетаудио задает значения, связанные с воспроизведением и записью звука. Эта команда распознает устройства цифрового видео и ВИДЕОМАГНИТОФОНА.

Чтобы отправить эту команду, вызовите функцию [**mciSendString**](/previous-versions//dd757161(v=vs.85)) с заданным параметром *лпсзкомманд* , как показано ниже.

``` syntax
_stprintf_s(
  lpszCommand, 
  TEXT("setaudio %s %s %s"), 
  lpszDeviceID, 
  lpszAudio, 
  lpszFlags
); 
```

## <a name="parameters"></a>Параметры

<dl> <dt>

<span id="lpszDeviceID"></span><span id="lpszdeviceid"></span><span id="LPSZDEVICEID"></span>*лпсздевицеид*
</dt> <dd>

Идентификатор устройства MCI. Этот идентификатор или псевдоним назначается при открытии устройства.

</dd> <dt>

<span id="lpszAudio"></span><span id="lpszaudio"></span><span id="LPSZAUDIO"></span>*лпсзаудио*
</dt> <dd>

Флаг для воспроизведения и записи звука. В следующей таблице перечислены типы устройств, которые распознают команду **сетаудио** и флаги, используемые каждым типом.



| Значение        | Значение                                                                                                                                                                                | Значение                                                                                                                                                                                                   |
|--------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| дигиталвидео | алгоритм *алгоритма выравнивания* до *целых чисел* *с битсперсампле до* целого числа, битесперсек к *целому* *числу \_* клокктиме ввод слева на левом томе, чтобы *множитель* выключать на выходе | переключить запись *дескриптора* качества в прямом правом расположении справа от правого тома, чтобы самплесперсек к *целому* источнику в потоке *SourceName* *до уровня*"скидка" *на множитель*.    |
| видеомагнитофон          | отключено на мониторе, *введите* *номер номера* отменять *номер записи Track Track \_*                                                                                                    | запись о *\_ номере* записи *о дорожке \_* записей в источнике к *типу* *номер номера Track Track номер* *\_*                                                                              |



 

В следующей таблице перечислены флаги, которые могут быть указаны в параметре **лпсзаудио** , и их значения.



| Значение                             | Значение                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|-----------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| *алгоритм* алгоритма             | Выбирает конкретный алгоритм сжатия звука для использования последующей командой [резервирования](reserve.md) или [записи](record.md) . Поддерживаемые алгоритмы зависят от устройства. MCI определяет значения "G711", "G721", "G722", "G728", "PCM", "кдкса", "ADPCM" и "adpcm4e" для *алгоритма*. Если устройство поддерживает имена алгоритмов PCM, "кдкса" и "adpcm4e", они соответствуют стандартным определениям. Алгоритм "кдкса" был определен компанией Sony Corporation. Алгоритм "adpcm4e" был определен корпорацией Intel. Значения "G711", "G721", "G722" и "G728" представляют собой алгоритмы аудио, рекомендованные международными телеграфа и телефоном Консултативе Комитетом (CCITT).<br/> Если указанный алгоритм конфликтует с текущим форматом файла, формат файла меняется на формат по умолчанию для алгоритма.<br/> |
| Выравнивание до *целого числа*            | Задает выравнивание блоков данных по отношению к началу входных данных аудио-сигнала.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| низкие *коэффициенты*                  | Задает уровень низкой частоты звука.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| битсперсампле к *\_ числу битов*     | Задает количество записанных битов на заданный пример. Файл сохраняется в этом формате. Этот флаг применяется только к устройствам, поддерживающим алгоритм "PCM".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| битесперсек в *целое число*          | Задает среднее число байтов в секунду для записи в алгоритмах PCM и ADPCM. Файл сохраняется в этом формате.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| клокктиме                         | Указывает время, указанное в флаге "Over", в миллисекундах. Это время является абсолютным, а не поэтапным воспроизведением рабочей области.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| input                             | Изменяет флаг "низкие частоты", "высокие частоты" или "Громкость", чтобы он влиял на входной сигнал и изменяя записываемые данные. По возможности это значение по умолчанию при мониторинге входных данных.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| слева на                  | Включает или отключает вывод звука в левом канале. Источником звуковой презентации может быть внешний вход или Рабочая область. Значение по умолчанию — Left on. Если имеется только один канал, этот канал устанавливается или включается.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| левый том для *фактора*           | Задает громкость звука левого звукового канала. Если имеется только один канал, он задает свой том.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Отслеживание до *типа* номер  | Определяет, какие исходные входные данные будут переданы в выходные данные ВИДЕОМАГНИТОФОНА без изменения выбора источника записи. *Тип* может быть "Output" или одним из допустимых источников входных данных. Если аргумент *Number* не указан, то будет выбран первый вход этого типа.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Выкл.                            | Включает или отключает звук. Источник звуковой презентации может быть внешним входом или рабочей областью. Эта команда влияет на левый и правый каналы звука одновременно. Значение по умолчанию — **сетаудио** .                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| output                            | Изменяет флаг "низкие частоты", "высокие частоты" или "Громкость", чтобы он был изменен только для воспроизводимого сигнала, а не для записи. По возможности это значение по умолчанию при мониторинге файла.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| с *длительностью*                   | Указывает, сколько времени должно пройти для внесения изменений, использующих переменную *фактора* . Единицы измерения *длительности* задаются в текущем формате времени. Изменения происходят на шаге с воспроизведением рабочей области. Когда воспроизведение приостановлено, изменение также приостанавливается до тех пор, пока воспроизведение не продолжится. Если параметр "Over" не указан или не поддерживается, изменение происходит немедленно.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| *дескриптор* качества              | Задает характеристики сжатия звука, выполняемого при записи звука в файл. Все устройства поддерживают три дескриптора "Low", "средний" и "высокий". Значение по умолчанию — Device (специфично для устройства). Если флаг "алгоритм" не указан, корректировка "качество" применяется к текущему алгоритму.<br/> Команду [Quality](quality.md) можно использовать для определения дополнительных имен дескрипторов.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| запись отключена                        | Очищает выбор звукового источника, чтобы не записывать звук с помощью команды Следующая [запись](record.md) .                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| запись в                         | Включает запись звуковых данных. Значение по умолчанию — записывать звуковые данные.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| *\_ число* записей Track Track Off  | Очищает выбор звукового источника, чтобы не записывать звук с помощью команды Следующая [запись](record.md) . "Track" разрешает выбор независимой записи. Направление 2 соответствует дорожке PCM в Hi8. Если параметр "Track" не указан, предполагается значение по умолчанию, равное 1.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| *\_ номер* записи о дорожке для записей   | Выбирает источник звука для записи с помощью команды следующей **записи** . "Track" разрешает выбор независимой записи. Направление 2 соответствует дорожке PCM в Hi8. Если параметр "Track" не указан, предполагается значение по умолчанию, равное 1.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| справа от                | Включает или отключает вывод звука в правильном канале. Источником звуковой презентации может быть внешний вход или Рабочая область. Значение по умолчанию — right on. Если имеется только один канал, этот флаг не действует.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| правильный том для *фактора*          | Задает для звукового тома правильный звуковой канал. Если имеется только один канал, он не действует.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| самплесперсек в *целое число*        | Задает частоту выборки для записи с помощью алгоритмов PCM и ADPCM. Файл сохраняется в этом формате.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| от источника к *SourceName*            | Задает источник для дигитайзера ввода звука. Константы, определенные для *SourceName* , включают следующие: «Left», «Right», «Average» и «стерео». Первые три указывают запись монофоник, используя только левый вход, только правый вход и среднее значение двух входных значений.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Исходный с *типом* номер   | Выбирает источник звука, записываемый на ленту. *Тип* должен быть "тюнер", "Line", "свидео", "AUX", "generic" или "Выкл.".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| поток в *число*                | Указывает аудиопоток, воспроизводимый из рабочей области. Если поток не указан и формат файла не определяет значение по умолчанию, то восходящий аудиопоток, который физически является первым, будет воспроизводиться с чередованием.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Отслеживание *\_ номера записи*         | Отключает отдельную запись.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| *\_ номер* Track Track          | Включает отдельную запись.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| высокие *коэффициенты на фактор*                | Задает уровень высокой частоты звука.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| *фактор* объема                | Задает средний объем звука для обоих звуковых каналов. Если для левого и правого томов заданы разные значения, то отношение объема слева направо не меняется.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |



 

</dd> <dt>

<span id="lpszFlags"></span><span id="lpszflags"></span><span id="LPSZFLAGS"></span>*лпсзфлагс*
</dt> <dd>

Может принимать значение "Wait", "notify", "Test" или их сочетание. Дополнительные сведения об этих флагах см. [в разделе Флаги ожидания, уведомления и проверки](the-wait-notify-and-test-flags.md).

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Возвращает нуль в случае успеха или ошибку в противном случае.

## <a name="remarks"></a>Комментарии

Для устройств ВИДЕОМАГНИТОФОНА, использующих сетаудио с флагом, который отключает отдельную дорожку ("Отслеживание *\_ номера* записи"), приложение может получить сообщение о состоянии, указывающее, что команда не может быть выполнена. Некоторые видеомагнитофоны могут отключать только комбинации дорожек, а не отдельные дорожки; Например, первая звуковая дорожка и видеозапись видеокассеты. В этом случае просто используйте сетаудио и [сетвидео](setvideo.md) , чтобы продолжить отключать другие дорожки, составляющие комбинацию. Драйвер отключит дорожки при получении команды для отключения последней дорожки в сочетании.

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows 2000 Professional \[только классические приложения\]<br/> |
| Минимальная версия сервера<br/> | Windows 2000 Server \[только классические приложения\]<br/>       |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[MCI](mci.md)
</dt> <dt>

[Строки команд MCI](mci-command-strings.md)
</dt> <dt>

[record](record.md)
</dt> <dt>

[предназначен](reserve.md)
</dt> <dt>

[сетвидео](setvideo.md)
</dt> </dl>

 

