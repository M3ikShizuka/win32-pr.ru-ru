---
description: Голоса XAudio2 могут выполнять автоматические преобразования частоты выборки, если их скорость выборки отличается от частоты выборки входных голосов.
ms.assetid: be34ce62-6552-45e2-a247-830ab55ea9ec
title: Преобразование частоты дискретизации XAudio2
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2d437a45f9e896826bedc1418382fb257201722d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "104272816"
---
# <a name="xaudio2-sample-rate-conversions"></a>Преобразование частоты дискретизации XAudio2

Голоса XAudio2 могут выполнять автоматические преобразования частоты выборки, если их скорость выборки отличается от частоты выборки входных голосов.

Преобразования частоты выборки соответствуют следующим правилам.

-   Частота выборки голоса для речевого ввода исправлена.

    Голоса могут работать только с частотой выборки, указанной при создании. Для [**голосовых голосов**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2masteringvoice) и [**голосов Субмикс**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2submixvoice)в функции [**IXAudio2:: Креатемастерингвоице**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice) и [**IXAudio2:: креатесубмиксвоице**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createsubmixvoice) задается частота выборки входных данных с аргументом *инпутсамплерате* . Для исходных голосов входная частота выборки голоса задается аргументом Псаурцеформат функции [**IXAudio2:: креатесаурцевоице**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createsourcevoice) .

-   Все выходные голоса голосового ввода должны иметь одинаковую частоту выборки.

    Голоса могут преобразовывать скорость выборки данных в любую частоту выборки, но все выходные голоса голоса должны иметь одинаковую частоту выборки. Например, голос может выводить любое количество голосов с частотой выборки 22 кГц. Однако если один и тот же голос имел несколько выходных голосов, каждый из которых имеет разную частоту выборки, звуковая диаграмма будет недействительной.

-   Обработка преобразования частоты выборки выполняется только при необходимости.

    Преобразование звуковых данных в другую частоту выборки приводит к увеличению затрат на обработку, что желательно избегать. Если частота выборки входных данных голоса совпадает с частотой выборки входных голосов, это преобразование не выполняется, и время обработки сокращается.

-   Частота выборки выходных данных может меняться в зависимости от жизненного цикла голоса.

    Частота выборки выходных данных голоса не исправлена. Пока все выходные голоса имеют одинаковую частоту выборки, звуковая диаграмма будет допустимой. При изменении голоса на вывод на новые голоса с другой частотой выборки данных голос преобразуется в частоту выборки данных новых голосов.

Существует несколько сценариев, в которых необходимо добавить субмикс голос для выполнения выборки частоты дискретизации между голосовыми операциями. Если голосу требуется выводить голоса с различными тарифными частотами выборки, только один из голосов может быть прямым выходом исходного голоса. Так как все выходные голоса голоса должны иметь одинаковую частоту выборки, другие голоса получают непрямое выходное значение. Должен существовать субмиксный голоса с правильной частотой выборки данных, которая находится между исходным и предполагаемым выходным голоса.

Например, рассмотрим исходный голоса с частотой выборки 22 кГц, которая должна выводиться на субмикс голоса с частотой выборки 11 кГц и счетом основного голоса с частотой выборки 44,1 кГц. Так как два выходных голоса имеют разную частоту выборки, необходимо вставить больше субмикс голосов между исходным голосом и предполагаемыми выходными голосовыми данными. Чтобы сохранить достоверность исходного голоса и избежать ненужных преобразований в большую частоту выборки, необходимо вставить два субмикс голоса с 22 кГц в качестве образца входных ставок на диаграмму. Один субмиксный голоса выводится на печать с 11 кГц на субмикс голоса с помощью переглагола, а другая субмикс Voice выводит на печать в Voice 44,1 кГц.

## <a name="examples-of-sample-rate-conversion-in-audio-graphs"></a>Примеры преобразования частоты выборки в звуковых диаграммах

Все голоса имеют одинаковую скорость входа. в звуковой диаграмме не выполняется преобразование частоты выборки.![в звуковой диаграмме не выполняется преобразование частоты выборки.](images/xaudio2-sample-rate-conversions-1.png)

Все голоса имеют одинаковую частоту выборки, за исключением голоса на главной странице; Преобразование частоты дискретизации выполняется только для данных, передаваемых на основной Voice. ![Преобразование частоты дискретизации выполняется только для данных, передаваемых на основной Voice.](images/xaudio2-sample-rate-conversions-2.png)

У голоса разные примеры входных данных и требуются дополнительные голоса субмикс для выполнения преобразования частоты дискретизации. Преобразование частоты дискретизации выполняется в нескольких местах в звуковой диаграмме. ![Преобразование частоты дискретизации выполняется в нескольких местах в звуковой диаграмме.](images/xaudio2-sample-rate-conversions-3.png)

## <a name="related-topics"></a>См. также

<dl> <dt>

[Голоса](voices.md)
</dt> <dt>

[Руководство по программированию для XAudio2](programming-guide.md)
</dt> </dl>

 

 
