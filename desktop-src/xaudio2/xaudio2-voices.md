---
description: 'Существует три типа голосовых объектов XAudio2: источник, субмикс и голосовое руководство.'
ms.assetid: 3a4acc03-e47a-ff33-dee8-a374051f85f6
title: Речь в XAudio2
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b756033be5b64dbf03e3b3756902014774a53c9aebc8f41a1df1f982685cca16
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119025942"
---
# <a name="xaudio2-voices"></a>Речь в XAudio2

Существует три типа голосовых объектов XAudio2: *источник*, *субмикс* и голосовое  руководство. Исходные голосовые объекты берутся из звуковых данных, предоставленных клиентом. Данные исходных и комбинированных голосов используются для получения одного или более комбинированных или обработанных голосов. Комбинированные и обработанные голоса смешивают звуковые сигналы из всех голосов, чьи данные они получают, и работают с итоговым звуком. Обработанные голоса записываются в виде звуковых данных на аудиоустройство.

## <a name="actions-performed-by-all-voices"></a>Действия, выполняемые всеми голосовыми операциями

Все голоса выполняют следующие действия, посмотрев на звук, который перемещает их.

1.  Общая коррекция громкости, влияющая на все каналы звука. См. раздел [**IXAudio2Voice:: сетволуме**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setvolume).
2.  Необязательная клиентская цепочка из одного или нескольких эффектов DSP, например встроенная перекоманда или пользовательский эффект, определенный интерфейсом [**иксапо**](/windows/desktop/api/XAPO/nn-xapo-ixapo) . См. [XAudio2 Audio Effects](xaudio2-audio-effects.md).
3.  Корректировка исходящего объема на канале. См. раздел [**IXAudio2Voice:: сетчаннелволумес**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setchannelvolumes).
4.  Разделяйте сочетание матрицы с каждым из целевых голосов или на устройство вывода звука для голосов. При необходимости этот набор изменяет количество каналов в аудио.

## <a name="source-voices"></a>Исходные голоса

Используйте исходные голоса для отправки звуковых данных в конвейер обработки XAudio2. Они являются точками входа в [XAudio2 Audio Graph](xaudio2-audio-graph.md). Необходимо отправить голосовые данные на основной голос, чтобы они были слышны либо напрямую, либо через промежуточные голоса субмикс.

В дополнение к действиям, выполняемым всеми голосовами, исходные голоса выполняют следующие действия.

-   При необходимости декодер сначала выполняется для преобразования закодированных исходных данных в импульсный код (PCM).
-   При преобразовании частоты выборки с частотой дискретизации (SRC) исходные звуковые данные голоса преобразуются в частоту выборки, ожидаемую при необходимости, а также динамические изменения высоты.
-   Необязательный фильтр переменных состояния можно использовать для цвета звука различными способами. См. раздел [**IXAudio2Voice:: сетфилтерпараметерс**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setfilterparameters).
-   К выходным данным голоса можно применить необязательный фильтр. См. раздел [**IXAudio2Voice:: сетаутпутфилтерпараметерс**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setoutputfilterparameters).

## <a name="submix-voices"></a>Субмикс голоса

Субмикс Voice используется в основном для повышения производительности и обработки эффектов. Вы не можете отправлять буферы данных непосредственно в субмиксные голоса. Он не будет звуковым, если вы не отправите его на основной Voice. Вы можете использовать субмикс голоса, чтобы обеспечить преобразование определенного набора голосов данных в тот же формат и для того, чтобы конкретная цепочка эффектов обрабатывалась в совокупном результате.

Помимо действий, выполняемых всеми голосовыми действиями, субмиксные голоса выполняют следующие действия.

-   При необходимости SRC с фиксированной ставкой выполняется в выходных данных голоса, чтобы преобразовать звук в частоту выборки, ожидаемую для его целевых голосов.
-   Необязательный фильтр переменных состояния можно использовать для цвета звука различными способами. См. раздел [**IXAudio2Voice:: сетфилтерпараметерс**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setfilterparameters).
-   К выходным данным голоса можно применить необязательный фильтр. См. раздел [**IXAudio2Voice:: сетаутпутфилтерпараметерс**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setoutputfilterparameters).

## <a name="mastering-voices"></a>Голосовое подглавное

Используйте основной голос для представления устройства вывода звука. Вы не можете отправлять буферы данных непосредственно в голосовые голоса, но данные, отправляемые другим типам голосов, должны передаваться на основной голос.

В дополнение к действиям, выполняемым всеми голосовыми голосовами, они выполняют следующие действия.

-   Если вы создаете основной голос с явно указанным значением *инпутсамплерате* , которое не поддерживается звуковым устройством, для преобразования в ближайшую частоту выборки, поддерживаемую устройством, используется значение src с фиксированной ставкой.
-   Обрезает окончательный выходной звук, если это требуется для выходного устройства.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Голоса](voices.md)
</dt> <dt>

[Руководство по программированию для XAudio2](programming-guide.md)
</dt> <dt>

[**IXAudio2SourceVoice**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2sourcevoice)
</dt> <dt>

[**IXAudio2SubmixVoice**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2submixvoice)
</dt> <dt>

[**IXAudio2MasteringVoice**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2masteringvoice)
</dt> </dl>

 

 
