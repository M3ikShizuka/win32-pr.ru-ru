---
description: В этом разделе описывается XAudio2ный элемент управления громкостью и шагом.
ms.assetid: dedc2d01-af83-d7d2-5b64-743dcebc83f7
title: Элемент управления громкостью и шагом XAudio2
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b6376ad599b496a640b49d7eb539e1da774e31c71a3bf2a8e0c863fc140e19b3
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118962493"
---
# <a name="xaudio2-volume-and-pitch-control"></a>Элемент управления громкостью и шагом XAudio2

В этом разделе описывается XAudio2ный элемент управления громкостью и шагом.

## <a name="volume-control"></a>Элемент управления громкостью

Уровни тома выражаются в виде множителей амплитуды с плавающей запятой между-XAUDIO2 \_ максимального \_ уровня громкости \_ и XAUDIO2 \_ максимального \_ уровня громкости \_ (от-224 до 224) с максимальным объемом базы данных 144,5. Том 1,0 означает отсутствие затухания или выигрыша; 0 означает тишину; и отрицательные уровни можно использовать для обращения к фазе звука. В XAudio2. h предусмотрены две встроенные функции для преобразования между единицами тома: [**XAudio2DecibelsToAmplitudeRatio**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2decibelstoamplituderatio) и [**XAudio2AmplitudeRatioToDecibels**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2amplituderatiotodecibels).

Уровень громкости можно применить к звуку в нескольких точках, так как он проходит через граф XAudio2:

-   Все типы голоса применяют общий уровень громкости к входным данным, которым они управляют с помощью метода [**IXAudio2Voice:: сетволуме**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setvolume) . В субмикс и голосовом подсчетах общий уровень громкости применяется непосредственно перед встроенным фильтром и цепочкой эффектов голоса. В исходных голосах общий уровень громкости применяется после встроенной цепочки фильтров и эффектов.
-   Голоса применяет уровень громкости на одном канале к выходным данным, которым они управляют с помощью метода [**IXAudio2Voice:: сетчаннелволумес**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setchannelvolumes) . Уровень громкости на уровне канала применяется сразу после выполнения окончательного преобразования частоты выборки голоса и перед отправкой в другие голоса.
-   Каждое соединение между одним голосом и другим имеет таблицу уровней, используемую для отправки звука из каждого исходного канала в каждый целевой канал, который управляется с помощью метода [**IXAudio2Voice:: сетаутпутматрикс**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setoutputmatrix) .

Изначально все тома и тома каналов по умолчанию имеют значение 1,0. Все матрицы уровня отправки по умолчанию соответствуют соответствующим значениям, что позволяет максимально точно сохранять мощность сигнала и расположение канала. Дополнительные сведения см. в обзоре [сопоставления каналов по умолчанию XAudio2](xaudio2-default-channel-mapping.md) .

> [!Note]  
> XAudio2 автоматически корректирует уровни громкости на основе параметров динамика пользователя, чтобы поддерживать согласованный уровень громкости в разных конфигурациях. Если параметры пользователя не соответствуют физической конфигурации, том будет либо слишком громко, либо слишком мягким по сравнению с системой с правильными параметрами. Например, система, настроенная для звуковых динамиков 5,1, на которых подключено два динамика, будет слишком мягкой. XAudio2 не может определить, правильно ли настроен динамик пользователя на физическую установку.

 

## <a name="pitch-control"></a>Элемент управления "шаг"

Высота выражается в виде коэффициента ввода/вывода в диапазоне от 1 до 1024 до 1024/1 включительно. Отношение числа 1/1024 вниз к 10 октав, а коэффициент 1024/1 порождает его на 10 октав. Метод [**IXAudio2SourceVoice:: сетфрекуенциратио**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2sourcevoice-setfrequencyratio) можно использовать только для применения корректировок высоты к исходным голосовым и только в том случае, если они не были созданы \_ с \_ флагом XAUDIO2 Voice. Коэффициент частоты по умолчанию — 1/1: то есть без изменения высоты. В XAudio2. h предусмотрены две встроенные функции для преобразования между коэффициентами частоты и семитонес: [**XAudio2FrequencyRatioToSemitones**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2frequencyratiotosemitones) и [**XAudio2SemitonesToFrequencyRatio**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2semitonestofrequencyratio).

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Элемент управления "громкость и шаг"](volume-and-pitch-control.md)
</dt> <dt>

[Руководство по программированию для XAudio2](programming-guide.md)
</dt> <dt>

[Как изменить тон голоса](how-to--change-voice-pitch.md)
</dt> <dt>

[Как изменить громкость голоса](how-to--change-voice-volume.md)
</dt> </dl>

 

 
