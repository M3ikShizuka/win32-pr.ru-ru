---
title: Тесты комплекта сертификации приложений для Windows
description: Ниже приведены сведения о тестировании для сертификации приложений декстоп.
ms.assetid: FA160F46-C266-4F89-B77F-166FEA9ED96B
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1b251104418e8eeff88d4d0188e34628b5ec1bf3b54015550084d4a0e9df567e
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119086567"
---
# <a name="windows-app-certification-kit-tests"></a>Тесты комплекта сертификации приложений для Windows

Ниже приведены сведения о тестировании для сертификации приложений декстоп. дополнительные сведения см. в статье об [использовании Windowsного набора сертификации приложений](using-the-windows-app-certification-kit.md).

-   [Чистая обратимая установка](#clean-reversible-install)
-   [Установка в правильных тестах папок](#install-to-the-correct-folders-test)
-   [Проверка файлов с цифровой подписью](#digitally-signed-file-test)
-   [поддержка теста x64 Windows](#support-x64-windows-test)
-   [Проверка версии ОС](#os-version-checking-test)
-   [Проверка контроля учетных записей пользователей (UAC)](#user-account-control-uac-test)
-   [Придерживаться сообщений диспетчера перезапуска системы](#adhere-to-system-restart-manager-messages)
-   [тест режима Сейф](#safe-mode-test)
-   [Тестирование многопользовательской сессии](#multiuser-session-test)
-   [Проверка сбоев и зависаний](#crashes-and-hangs-test)
-   [Тестирование совместимости и устойчивости](#compatibility-and-resiliency-test)
-   [Безопасность Windows проверка best practices](#windows-security-best-practices-test)
-   [Проверка средств безопасности Windows](#windows-security-features-test)
-   [Тестирование с высоким разрешением](#high-dpi-test)

## <a name="clean-reversible-install"></a>Чистая обратимая установка

Устанавливает и удаляет приложение и проверяет наличие остаточных файлов и записей реестра.

-   Историческая справка
    -   Чистая, обратимая установка позволяет пользователям развертывать и удалять приложения. Чтобы пройти этот тест, приложение должно выполнить следующие действия:
        -   Приложение не перезапускает систему сразу после установки или удаления приложения. *После завершения процесса установки или удаления приложения не требуется перезагружать систему сразу. Если для этого требуется перезагрузка системы, пользователи должны иметь возможность перезапускать систему в удобное для вас время.*
        -   Приложение не зависит от 8,3 коротких имен файлов (СФН). *Процессы установки и удаления приложения должны иметь возможность использовать длинные имена файлов и пути к папкам.*
        -   Приложение не блокирует автоматическую установку и удаление
        -   Приложение вносит необходимые записи в системный реестр. *для средств инвентаризации Windows и средств телеметрии требуются полные сведения об установленных приложениях. Установщики приложений должны создать правильные записи реестра, чтобы разрешить успешное обнаружение и удаление.*
    -   Если вы используете установщик на основе MSI, MSI автоматически создает записи реестра, приведенные ниже. Если установщик MSI не используется, модуль установки должен создать следующие записи реестра во время установки:
        -   DisplayName
        -   InstallLocation
        -   Издатель
        -   UninstallString
        -   VersionMajor или MajorVersion
        -   VersionMinor или MinorVersion
    -   Приложение должно удалить все записи из раздела "Установка и удаление программ".
-   Сведения о тесте
    -   Этот тест проверяет процессы установки и удаления приложения на предмет необходимого поведения.
-   Действие по исправлению
    -   Изучите структуру и поведение приложения в соответствии с описанными выше требованиями.

## <a name="install-to-the-correct-folders-test"></a>Установка в правильных тестах папок

Проверяет, что приложение записывает свои программы и файлы данных в нужные папки.

-   Историческая справка
    -   Приложения должны правильно работать с пользовательскими системными и пользовательскими папками, чтобы получить доступ к данным и параметрам, которые необходимы для защиты данных пользователя и параметров от несанкционированного доступа.
-   Папки программных файлов
    -   Приложение должно быть установлено в папку Program Files по умолчанию (% ProgramFiles% для собственных 32-разрядных и 64-разрядных приложений и% ProgramFiles (x86)% для 32-разрядных приложений, работающих на x64).
    -   **Примечание.** Приложение не должно хранить данные пользователя или приложения в папке Program Files из-за разрешений безопасности, настроенных для этой папки.
    -   списки управления доступом в Windows системных папках позволяют выполнять чтение и запись только учетным записям администратора. В результате учетные записи обычного пользователя не будут иметь доступа к этим папкам. Однако виртуализация файлов позволяет приложениям хранить файл, например файл конфигурации, в системном расположении, которое обычно доступно для записи только администраторам. Запуск программ от имени обычного пользователя в этой ситуации может привести к сбою, если у них нет доступа к требуемому файлу.
    -   Приложения должны использовать [известные папки](/previous-versions/windows/desktop/legacy/bb776911(v=vs.85)) , чтобы убедиться, что они смогут получить доступ к своим данным.
    -   **примечание.** Windows обеспечивает виртуализацию файлов для улучшения совместимости приложений и устраняет проблемы, когда приложения запускаются от имени обычного пользователя на Windows. Приложение не должно полагаться на виртуализацию в будущих версиях Windows.
-   Папки данных приложений для конкретного пользователя
    -   При установке "на компьютер" приложение не должно записывать пользовательские данные во время установки. Данные установки для конкретного пользователя должны быть написаны только при первом запуске приложения пользователем. Это обусловлено тем, что отсутствует правильное расположение пользователя для хранения данных во время установки. Попытки приложения изменить поведение связи по умолчанию на уровне компьютера после установки будут неудачными. Вместо этого значения по умолчанию должны задаваться на уровне отдельных пользователей, что не позволяет нескольким пользователям перезаписывать значения по умолчанию для других пользователей.
    -   Все данные приложений, эксклюзивные для конкретного пользователя и не являющиеся общими для других пользователей компьютера, должны храниться в \\ <username> \\ APPDATA.
    -   Все данные приложений, которые должны совместно использоваться пользователями компьютера, должны храниться в папка ProgramData.
-   Другие системные папки и разделы реестра
    -   приложение никогда не должно записываться непосредственно в каталог Windows и в подкаталоги. Используйте правильные методы установки файлов, таких как шрифты или драйверы, в эти каталоги.
    -   Приложения не должны запускаться автоматически при запуске, например путем добавления записи в одно или несколько из следующих расположений:
        -   разделы реестра run HKLM и или HKCU в разделе Software \\ Microsoft \\ Windows \\ CurrentVersion
        -   Разделы реестра Run HKLM и HKCU в разделе Software \\ WOW6432Node \\ Microsoft \\ Windows \\ CurrentVersion
        -   > запуска в меню "Пуск" Аллпрограмс
-   Сведения о тесте
    -   этот тест проверяет, что приложение использует определенные расположения в файловой системе, которые Windows предоставляют для хранения программных и программных компонентов, общих данных приложения и данных приложений, характерных для пользователя.
-   Корректирующие действия
    -   Ознакомьтесь с тем, как приложение использует системные папки, и убедитесь, что оно правильно использует их.
-   Исключения и отказы
    -   Для настольных приложений требуется отказ от прав на запись в глобальный кэш сборок (GAC) (приложения .NET должны сохранять зависимости сборки в закрытом виде и хранить их в каталоге приложения, если только не требуется совместное использование сборки).
    -   Установка в папку Program Files не является обязательным требованием для настольных пакетов SW, чтобы получить логотип SW, только в категории основы SW.

## <a name="digitally-signed-file-test"></a>Проверка файлов с цифровой подписью

Проверяет исполняемые файлы и драйверы устройств, чтобы убедиться, что они имеют действительную цифровую подпись.

-   Историческая справка
    -   Файлы с цифровой подписью позволяют проверить подлинность файла и определить, был ли файл незаконным.
    -   применение подписывания кода в режиме ядра — это Windowsая функция, которая также называется целостностью кода (CI). CI повышает безопасность Windows, проверяя целостность файла каждый раз, когда он загружается в память. CI определяет, был ли вредоносный код изменил системный двоичный файл, и создает событие диагностики и аудита системного журнала, когда не удается правильно проверить подпись модуля ядра.
    -   Если приложению требуются повышенные разрешения, в запросе на повышение прав отображаются контекстные сведения о исполняемом файле, запрашивающем повышенный доступ. В зависимости от того, подписано ли приложение с помощью Authenticode, пользователь может увидеть запрос согласия или запрос учетных данных.
    -   Строгие имена предотвращают подмену кода третьими сторонами при условии, что закрытый ключ защищен. платформа .NET Framework проверяет цифровую подпись при загрузке сборки или ее установке в глобальный кэш сборок. Без доступа к закрытому ключу пользователь-злоумышленник не может изменить код и подписать его снова.
-   Сведения о тесте
    -   Все исполняемые файлы, например расширения файлов .exe, .dll, OCX, .sys, .cpl,. drv и. SCR, должны быть подписаны с помощью сертификата Authenticode.
    -   Все драйверы режима ядра, установленные приложением, должны иметь подпись Майкрософт, полученную с помощью программы WHQL или DRS. Все драйверы фильтра файловой системы должны быть подписаны WHQL.
-   Действие по исправлению
    -   Подпишите исполняемые файлы приложения.
    -   Используйте makecert.exe для создания сертификата или получения ключа подписывания кода из одного из коммерческих центров сертификации (ЦС), например VeriSign, Thawte или центра сертификации Майкрософт.
-   Исключения и отказы
    -   Отказы будут рассматриваться только для неподписанных распространяемых компонентов сторонних производителей. Для предоставления этого отказа требуется подтверждение связи с запросом подписанной версии распространяемого пакета (ов).
    -   значения устройства — добавленные пакеты программного обеспечения исключаются из сертификации драйвера режима ядра, так как драйверы должны быть сертифицированы по Windows сертификации оборудования.

## <a name="support-x64-windows-test"></a>поддержка теста x64 Windows

Протестируйте приложение, чтобы убедиться, что .exe построена для архитектуры платформы, на которой он будет установлен.

-   Историческая справка
    -   Исполняемый файл должен быть создан для архитектуры процессора, на котором он установлен. Некоторые исполняемые файлы могут работать на разных архитектурах процессора, но это ненадежно.
    -   Совместимость архитектуры важна, поскольку 32-разрядные процессы не могут загружать 64-разрядные библиотеки DLL, а 64-разрядные процессы не могут 32 загружать динамические DLL-библиотеки. аналогично, 64-разрядные версии Windows не поддерживают запуск 16-разрядных приложений Windows, поскольку дескрипторы имеют 32 значащих бит в 64-bit Windows a, поэтому они не могут быть переданы в 16-разрядные приложения. Поэтому попытка запустить 16-разрядное приложение завершится сбоем в 64-разрядных версиях Windows.
    -   32-разрядные драйверы устройств не могут работать в 64-разрядных версиях Windows и поэтому они должны быть перенесены в 64-разрядную архитектуру.
    -   для приложений, использующих пользовательский режим, 64-разрядная Windows включает WOW64, который позволяет выполнять 32-разрядные Windows приложения в системах под управлением 64-bit Windows, хотя и с некоторой потерей производительности. Для драйверов устройств не существует эквивалентного слоя перевода.
    -   чтобы обеспечить совместимость с 64-разрядными версиями Windows, приложения должны иметь встроенную поддержку 64-bit или, как минимум, 32-разрядные приложения на основе Windows должны беспрепятственно работать в 64-разрядных системах:
        -   Приложения и их установщики не должны содержат 16-разрядный код или используют любой 16-разрядный компонент.
        -   Программа установки приложения должна обнаружить и установить правильные драйверы и компоненты в 64-разрядных версиях Windows.
        -   Все подключаемые модули оболочки должны работать в 64-разрядных версиях Windows.
        -   Приложения, выполняемые в эмуляторе WoW64, не должны пытаться обходить механизмы виртуализации WOW64. При наличии конкретных сценариев, в которых приложения должны определить, работают ли они в эмуляторе WoW64, они должны сделать это, вызвав [**IsWow64Process**](/windows/desktop/api/wow64apiset/nf-wow64apiset-iswow64process).
-   Сведения о тесте
    -   Приложение не должно устанавливать 16-разрядные двоичные файлы. Приложению не следует устанавливать драйвер режима ядра 32, если он должен выполняться на компьютере с 64-разрядным компьютером.
-   Корректирующие действия
    -   Создайте исполняемые файлы и драйверы для архитектуры процессора, для которых требуется установить их.

## <a name="os-version-checking-test"></a>Проверка версии ОС

проверяет, как приложение выполняет проверку версии Windows, в которой оно выполняется.

-   Историческая справка
    -   Приложения проверяют версию ОС, проверяя версию, которая больше или равна требуемой версии, чтобы обеспечить совместимость с будущими версиями Windows.
-   Сведения о тесте
    -   имитирует запуск приложения в разных версиях Windows, чтобы увидеть, как он реагирует на действия.
-   Корректирующие действия
    -   проверьте правильность версии Windows, выполнив тестирование, если текущая версия больше или равна версии, необходимой для вашего приложения, службы или драйвера.
    -   Модули установки и удаления драйверов не должны проверять версию ОС.
-   Исключения и отказы
    -   Отказы будут учитываться для приложений, которые отвечают следующим условиям: *(относится только к сертификации приложений для настольных систем)* .
        -   приложения, поставляемые в виде одного пакета, который выполняется в Windows XP, Windows Vista и Windows 7, и необходимо проверить версию ос, чтобы определить, какие компоненты следует установить в данной операционной системе.
        -   Приложения, которые проверяют только минимальную версию ОС (только во время установки, а не во время выполнения), используя только утвержденные вызовы API и при необходимости перечисляются требования к минимальной версии в манифесте приложения.
        -   Такие приложения безопасности, как антивирусные приложения и брандмауэры, системные служебные программы, такие как программы дефрагментации и приложения для резервного копирования, а также средства диагностики, которые проверяют версию ОС с помощью только утвержденных вызовов API.

## <a name="user-account-control-uac-test"></a>Проверка контроля учетных записей пользователей (UAC)

Проверяет приложение, чтобы убедиться, что для выполнения ему не нужны повышенные права.

-   Историческая справка
    -   Приложение, которое работает или устанавливается, только если пользователь является администратором, заставляет пользователей запускать приложение с необязательно повышенными разрешениями, что позволяет вредоносным программам вводить компьютер пользователя.
    -   Если пользователи всегда вынуждены запускать приложения с повышенными маркерами доступа, приложение может использовать сервер в качестве точки входа для мошеннического или вредоносного кода. Эта вредоносная программа может легко изменить операционную систему или, что более того, повлиять на работу других пользователей. Управлять пользователем с полным доступом администратора практически невозможно, так как администраторы могут устанавливать приложения и запускать любые приложения или сценарии на компьютере. ИТ Managers всегда ищут способы создания "стандартных настольных компьютеров", где пользователи входят в систему как обычные пользователи. Стандартные настольные системы значительно снижают расходы на службу поддержки и снижают затраты на ИТ.
    -   Большинству приложений во время выполнения не требуются права администратора. Учетная запись обычного пользователя должна иметь возможность запускать их. приложения Windows должны иметь манифест (встроенный или внешний) для определения уровня выполнения, который сообщает операционной системе о привилегиях, необходимых для запуска приложения. Манифест приложения применяется только к .exe файлам, а не .dll файлам. Функция контроля учетных записей (UAC) не проверяет библиотеки DLL во время создания процесса. правила контроля учетных записей не применяются к службы Майкрософт. Манифест приложения может быть встроенным или внешним.
    -   Чтобы создать манифест, создайте файл с именем <\_ имя приложения # C1.exe. manifest и сохраните его в том же каталоге, что и файл exe. Обратите внимание, что любой внешний манифест не учитывается, если приложение имеет внутренний манифест.
        -   Например, <requestedExecutionLevel Level = "" asInvoker \| highestAvailable \| requireAdministrator "" UIAccess = "" true \| false ""/>
        -   Основной процесс приложения должен выполняться от имени обычного пользователя (**asInvoker**). Все функции администрирования должны быть перемещены в отдельный процесс, работающий с правами администратора.
        -   Пользовательские приложения, для которых требуются повышенные привилегии, должны быть подписаны Authenticode.
-   Сведения о тесте
    -   Все исполняемые файлы для пользователя должны быть помечены атрибутом asInvoker. Если они помечены как highestAvailable или requireAdministrator, они должны быть правильно подписаны с Authenticode. Любой исполняемый файл приложения не должен иметь атрибут uiAccess со значением true. Любой исполняемый файл, запускаемый как служба, исключается из этой конкретной проверки.
-   Корректирующие действия
    -   Проверьте правильность записей и уровней разрешений в файле манифеста приложения.
-   Исключения и отказы
    -   Отказ требуется для приложений, которые запускают свой основной процесс с повышенными привилегиями (**requireAdministrator** или **highestAvailable**). Основной процесс — это процесс, который предоставляет пользователю точку входа в приложение.
    -   Отказы будут учитываться в следующих сценариях:
        -   Административные или системные средства с уровнем выполнения, имеющим значение **highestAvailable**, **requireAdministrator** или Both.
        -   Только приложение платформы специальных возможностей или платформа автоматизации пользовательского интерфейса устанавливает флаг uiAccess в значение TRUE, чтобы обойти изоляцию полномочий пользовательского интерфейса (UIPI). Для правильного запуска приложения этот флаг должен быть подписан с помощью Authenticode и находиться в защищенном месте файловой системы, например в файлах программы.

## <a name="adhere-to-system-restart-manager-messages"></a>Придерживаться сообщений диспетчера перезапуска системы

Проверяет, как приложение реагирует на завершение работы системы и перезапускает сообщения.

-   Историческая справка
    -   Приложения должны выйти как можно быстрее при уведомлении системы о завершении работы, чтобы обеспечить реагирование на работу или выключение пользователя.
    -   При критическом завершении работы приложения, возвращающие значение FALSE в [**WM \_ куерендсессион**](/windows/desktop/Shutdown/wm-queryendsession) , отправляются в **WM \_ ENDSESSION** и закрываются, а время ожидания в ответ на \_ куерендсессион WM будет принудительно прервано.
-   Сведения о тесте
    -   Проверка реакции приложения на завершение работы и выход из сообщений.
-   Корректирующие действия
    -   если приложение не выполняет этот тест, ознакомьтесь с его обработкой Windows сообщений:
        -   [**WM \_ Куерендсессион**](/windows/desktop/Shutdown/wm-queryendsession) с параметром *lParam*  =  **ENDSESSION \_ клосеапп**(0x1): классические приложения должны немедленно ответить (true) на подготовку к перезапуску. Консольные приложения могут вызывать [**SetConsoleCtrlHandler**](/windows/console/setconsolectrlhandler) для получения уведомлений о завершении работы. Службы могут вызывать [**регистерсервицектрлхандлерекс**](/windows/desktop/api/winsvc/nf-winsvc-registerservicectrlhandlerexa) для получения уведомлений о завершении работы в подпрограммых обработчика.
        -   [**WM \_ ENDSESSION**](/windows/desktop/Shutdown/wm-queryendsession) с *lParam*  =  **ENDSESSION \_ клосеапп**(0x1): приложения должны возвращать значение 0 в течение 30 секунд и завершать работу. Как минимум, приложения должны подготовиться, сохранив данные пользователя, и указать сведения, необходимые после перезагрузки.
    -   Консольные приложения, получающие уведомление о **\_ \_ событии CTRL C** , должны немедленно завершить работу. Драйверы не должны отменять событие завершения работы системы.
    -   **Примечание.** Приложения, которые должны блокировать завершение работы из-за операции, которая не может быть прервана, должны использовать [**шутдовнблоккреасонкреате**](/windows/desktop/api/winuser/nf-winuser-shutdownblockreasoncreate) для регистрации строки, объясняющей причину для пользователя. После завершения операции приложение должно вызвать [**шутдовнблоккреасондестрой**](/windows/desktop/api/winuser/nf-winuser-shutdownblockreasondestroy) , чтобы указать, что можно завершить работу системы.

## <a name="safe-mode-test"></a>тест режима Сейф

Проверяет, настроен ли драйвер или служба для запуска в защищенном режиме.

-   Историческая справка
    -   режим Сейф позволяет пользователям диагностировать и устранять неполадки Windows. Только драйверы и службы, необходимые для базовой работы операционной системы или предоставления служб диагностики и восстановления, должны загружаться в защищенном режиме. Загрузка других файлов в защищенном режиме усложняет устранение проблем с операционной системой.
    -   по умолчанию только драйверы и службы, устанавливаемые предварительно с Windows запускаются в режиме «в безопасности». Все остальные драйверы и службы следует отключить, если только система не потребует их для основных операций, а также для целей диагностики и восстановления.
-   Сведения о тесте
    -   Драйверы, установленные приложением, не должны быть помечены для загрузки в защищенном режиме.
-   Корректирующие действия
    -   Если драйвер или служба не должны запускаться в защищенном режиме, удалите записи приложения из разделов реестра.
-   Исключения и отказы
    -   Для драйверов и служб, которые должны запускаться в защищенном режиме, требуется сертификация отказа. Запрос отказа должен включать каждый драйвер и службу для добавления в разделы реестра SafeBoot и описывать технические причины, по которым драйвер или служба должны работать в защищенном режиме. Установщик приложения должен зарегистрировать все такие драйверы и службы в следующих разделах реестра:
        -   HKLM/System/CurrentControlSet/Control/SafeBoot/минимум
        -   HKLM/System/CurrentControlSet/Control/SafeBoot/Network
-   **Примечание.** Необходимо протестировать драйверы и службы, которые необходимо запустить в защищенном режиме, чтобы обеспечить их функционирование в защищенном режиме без ошибок.

## <a name="multiuser-session-test"></a>Тестирование многопользовательской сессии

Проверка работы приложения при одновременном запуске в нескольких сеансах.

-   Историческая справка
    -   Windows пользователи должны иметь возможность выполнять параллельные сеансы. Приложения должны гарантировать, что, когда они выполняются в нескольких сеансах локально или удаленно, нормальная функциональность приложения не окажет негативного воздействия. Параметры приложения и файлы данных должны быть специфичными для пользователя, и конфиденциальность и предпочтения пользователя должны быть ограничены сеансом пользователя.
-   Сведения о тесте
    -   Запускает несколько параллельных экземпляров приложения для проверки следующего:
        -   Несколько экземпляров приложения, выполняющегося одновременно, изолированы друг от друга.
    -   Это означает, что данные пользователя из одного экземпляра не видны другому экземпляру. Звук в неактивном сеансе пользователя не должен быть слышен в активном сеансе пользователя. В случаях, когда несколько экземпляров приложения используют общие ресурсы, приложение должно убедиться в отсутствии конфликта.
        -   Если приложение было установлено для нескольких пользователей, данные сохраняются в нужных папках и расположениях реестра.
        -   Приложение может работать в нескольких пользовательских сеансах (быстрое переключение пользователей) как для локального, так и для удаленного доступа.
    -   Чтобы убедиться в этом, приложение должно проверить другие сеансы службы терминалов для существующих экземпляров приложения. Если приложение не поддерживает несколько пользовательских сеансов или удаленный доступ, оно должно ясно говорить пользователю, когда он запускается из такого сеанса.
-   Действие по исправлению
    -   Убедитесь, что приложение не хранит файлы данных на уровне системы или параметры в пользовательских хранилищах данных, таких как профиль пользователя или HKCU. Если это так, эти сведения не будут доступны другим пользователям.
    -   Приложение должно устанавливать файл конфигурации и файлы данных на уровне системы во время установки, а также создавать пользовательские файлы и параметры после установки, когда пользователь его запускает.
    -   Убедитесь, что приложение не блокирует несколько одновременных сеансов локально или удаленно. Приложение не должно зависеть от глобальных мьютексов или других именованных объектов для проверки или блокировки нескольких одновременных сеансов.
    -   Если приложение не может разрешить несколько одновременных сеансов на одного пользователя, используйте пространства имен для каждого пользователя или для каждого сеанса для мьютексов и других именованных объектов.

## <a name="crashes-and-hangs-test"></a>Проверка сбоев и зависаний

Позволяет отслеживать работу приложения во время сертификационных испытаний, чтобы регистрировать сбои и зависания.

-   История
    -   Сбои приложений, такие как сбои и зависания, являются серьезным нарушением работы пользователей и вызывают разочарование. Устранение таких сбоев повышает стабильность и надежность приложений, а также предоставляет пользователям улучшенные возможности работы с приложениями. Приложения, перестающие отвечать или завершающиеся аварийно, могут привести к потере данных пользователя и вызвать разочарование.
-   Сведения о тесте
    -   Мы проверяем устойчивость и стабильность приложения с помощью сертификационного тестирования.
    -   в Windowsном наборе сертификации приложений вызывается [**иаппликатионактиватионманажер:: активатеаппликатион**](/windows/desktop/api/shobjidl_core/nf-shobjidl_core-iapplicationactivationmanager-activateapplication) для запуска приложений магазина Windows. Чтобы метод **ActivateApplication** запустил приложение, должен быть включен контроль учетных записей, а разрешение экрана должно быть не менее 1024x768 или 768x1024. Если одно из этих условий не выполнено, приложение не пройдет этот тест.
-   Корректирующие действия
    -   Убедитесь, что на тестовом компьютере включен контроль учетных записей.
    -   Убедитесь, что вы запускаете тест на компьютере с достаточно большим разрешением экрана.
    -   Если ваше приложение не запускается, а тестовая платформа соответствует предварительным требованиям [**ActivateApplication**](/windows/desktop/api/shobjidl_core/nf-shobjidl_core-iapplicationactivationmanager-activateapplication), можно диагностировать проблему, просмотрев журнал событий активации. Чтобы найти эти записи в журнале событий, сделайте следующее.
        1.  откройте eventvwr.exe и перейдите к \\ \\ узлу приложения журналов Windows.
        2.  Отфильтруйте представление, чтобы показать события с идентификаторами 5900–6000.
        3.  Проверьте в журнале записи, которые могут объяснить невозможность запуска приложения.
    -   Устраните неполадки в проблемном файле, выявите и устраните проблему. Выполните повторную сборку приложения и повторите тестирование.
-   Дополнительные ресурсы
    -   [Использование средство проверки приложений в жизненном цикле разработки программного обеспечения](https://blogs.msdn.com/b/ntdebugging/archive/2014/01/13/debugging-a-windows-8-1-store-app-crash-dump.aspx)
    -   [средство проверки приложений]( https://go.microsoft.com/fwlink/p/?LinkId=708300)
    -   [Использование средство проверки приложений](https://www.microsoft.com/?ref=go)
    -   [Библиотеки DLL библиотеки](https://www.microsoft.com/?ref=go)
    -   [Сокращение времени запуска (приложения для Магазина Windows на C#, VB, C++ и XAML)](/previous-versions/windows/apps/hh994639(v=win.10))

## <a name="compatibility-and-resiliency-test"></a>Тестирование совместимости и устойчивости

-   Историческая справка
    -   Эта проверка проверит два аспекта приложения: основные исполняемые файлы приложения (например, Пользовательская точка входа в приложение должно быть манифестом для совместимости), а также объявить правильный идентификатор GUID. Для поддержки этого нового теста в отчете будет вложен узел в разделе "устойчивость & совместимости". Приложение завершится ошибкой, если одно или оба этих условия отсутствуют.
-   Сведения о тесте
    -   **Совместимость:** приложения должны быть полностью функциональными, не используя режимы совместимости Windows, AppHelp сообщения или другие исправления совместимости. манифест совместимости позволяет Windows предоставить приложению правильное поведение совместимости в различных версиях операционной системы.
    -   **Библиотеки:** приложения не должны перечислять библиотеки dll для загрузки \_ \_ раздела реестра HKEY LOCAL MACHINE \\ Software \\ Microsoft \\ Windows NT \\ CurrentVersion \\ Windows \\ библиотеки \_ dll.
    -   **Свитчбакк:** Приложение должно предоставить манифест свитчбакк. если манифест отсутствует, Windows комплект сертификации приложений выдает предупреждающее сообщение. Windows Комплект сертификации приложений также будет проверять, содержит ли манифест допустимый идентификатор GUID операционной системы.
-   Корректирующие действия
    -   Исправьте компонент приложения, использующий исправление совместимости.
    -   Убедитесь, что приложение не использует исправления совместимости для своих функций.
    -   Убедитесь, что приложение Манифесто, а раздел совместимости содержит соответствующие значения.
-   Дополнительные сведения
    -   Дополнительные сведения см. в разделе [библиотеки DLL библиотеки](/previous-versions/windows/apps/hh994639(v=win.10)) .

## <a name="windows-security-best-practices-test"></a>Безопасность Windows проверка best practices

-   Историческая справка
    -   приложение не должно изменять параметры безопасности по умолчанию Windows
-   Сведения о тесте
    -   Проверяет безопасность приложения, запустив анализатор уязвимой зоны. Подход будет добавлять категории ошибок для каждого теста. Например, некоторые категории для тестирования безопасности могут включать:
        -   Сбой инициализации
        -   Сбой архитектуры безопасности
        -   Возможная ошибка переполнения буфера
        -   Сбой сбоя
    -   Дополнительные сведения см. [здесь](/previous-versions/windows/hh920280(v=win.10)).
-   Корректирующие действия
    -   Устраните проблему, обнаруженную в тестах, и устраните ее. Выполните повторную сборку приложения и повторите тестирование.

## <a name="windows-security-features-test"></a>тестирование функций безопасности Windows

-   Историческая справка
    -   приложения должны отказаться от Windows функций безопасности. Изменение используемых по умолчанию защитных средств Windows может подвергнуть пользователей повышенному риску.
-   Сведения о тесте
    -   Проверяет безопасность приложения, запуская средство BinScope Binary Analyzer. Дополнительные сведения см. [здесь](/previous-versions/windows/hh920280(v=win.10)).
-   Корректирующие действия
    -   Устраните проблему, обнаруженную в тестах, и устраните ее. Выполните повторную сборку приложения и повторите тестирование.

## <a name="high-dpi-test"></a>Тестирование с высоким разрешением

Для приложений Win32 настоятельно рекомендуется учитывать DPI. Это ключевой элемент, позволяющий обеспечить единообразное отображение пользовательского интерфейса приложения в различных параметрах отображения с высоким разрешением. В приложении, не поддерживающем DPI, в параметрах дисплея с высоким разрешением могут возникать проблемы, например неправильное масштабирование элементов пользовательского интерфейса, обрезанный текст и размытые изображения. Существует два способа объявления приложения с учетом DPI. Один — объявить DPI.

-   Историческая справка
    -   Эта проверка проверит два аспекта приложения: основные исполняемые файлы, например, пользовательские точки входа приложения должны быть манифестами для обеспечения высокого DPI и вызывать соответствующие API для поддержки высокого DPI. Приложение завершится ошибкой, если одно или оба этих условия отсутствуют. Эта проверка приводит к появлению нового раздела в отчете о рабочем столе, см. пример ниже.
-   Сведения о тесте
    -   Тест выдаст предупреждение при обнаружении следующих элементов:
        -   Основной EXE-файл не объявляет сведения о DPI в своем манифесте и не вызывает API Сетпроцессдпиаваре. (Предупредите разработчика, если он забудет добавить манифест осведомленности о DPI).
        -   Основной EXE-файл не объявляет о соотношении DPI в своем манифесте, но вызывает API Сетпроцессдпиаваре (предупредите разработчика, что он должен использовать манифест для объявления осведомленности о DPI вместо вызова API).
        -   Маинексе объявляет сведения о DPI в своем манифесте, но также вызывает API Сетпроцессдпиаваре (предупредите разработчика, что вызов этого API не требуется).
        -   Для двоичных файлов, которые не являются главными исполняемыми файлами, если они вызывают API, выдайте предупреждение (вызов API не рекомендуется).
-   Корректирующие действия
    -   Использование функции Сетпроцессдпиаваре () не рекомендуется. Если библиотека DLL кэширует параметры DPI во время инициализации, вызов Сетпроцессдпиаваре () в приложении может создать условие состязания. Вызов функции Сетпроцессдпиаваре () в библиотеке DLL не рекомендуется или.
-   Дополнительные сведения
    -   [Написание приложений с высоким разрешением](https://msdn.microsoft.com/library/windows/desktop/mt843498(v=vs.85).aspx(d=robot))

 

 