---
title: Потоки UDP-пакетов
description: порядок, в котором уровни обработчика фильтра платформы фильтрации Windows (WFP) проходят во время типичного сеанса UDP.
ms.assetid: ab618c1f-3e7c-4f4b-b4ff-9e396d3258d9
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f9e850f67bce9a001d41ebb54b17d3d0d86b94b22f083529e4589d6b69841b7e
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119746644"
---
# <a name="udp-packet-flows"></a>Потоки UDP-пакетов

в этом разделе описывается порядок, в котором уровни обработчика фильтра платформы фильтрации Windows (WFP) проходят во время типичного сеанса UDP.

> [!Note]  
> Потоки пакетов UDP для IPv6 следуют той же схеме, что и для IPv4.

 

> [!Note]  
> Все потоки пакетов, отличных от TCP, следуют той же схеме, что и пакеты UDP.

 

## <a name="udp-connection-establishment"></a>Установка подключения UDP

<dl> Сервер (получатель) выполняет пассивное открытие

-   bind: \_ \_ перенаправление привязки ale для уровня фвпм \_ \_ \_ V4 (только Windows 7/Windows Server 2008 R2)
-   привязка: \_ \_ \_ назначение ресурса ALE уровня \_ фвпм \_ v4

  
Клиент (отправитель) выполняет активное открытие

-   bind: \_ \_ перенаправление привязки ale для уровня фвпм \_ \_ \_ V4 (только Windows 7/Windows Server 2008 R2)
-   привязка: \_ \_ \_ назначение ресурса ALE уровня \_ фвпм \_ v4
-   sendto: фвпм \_ \_ \_ \_ перенаправление подключения ale \_ версии 4 (Windows 7/Windows Server 2008 R2)
-   SendTo: \_ \_ \_ Проверка подлинности фвпм уровня ALE \_ \_ v4 Connect
-   \_ \_ \_ Установленный поток ALE уровня фвпм \_ \_ v4
-   данные: \_ данные о \_ датаграмме уровня фвпм \_ \_ v4
-   Сообщение UDP: \_ \_ исходящий транспорт фвпм Layer \_ \_ v4
-   IP-датаграммы: ФВПМ \_ уровень \_ исходящего трафика \_ иппаккет \_ v4

  
Сервер

-   IP-датаграммы: ФВПМ \_ Layer \_ Inbound \_ иппаккет \_ v4
-   UDP-сообщение: \_ \_ транспорт фвпм входящего \_ транспорта \_ v4
-   UDP-сообщение: \_ \_ \_ Проверка подлинности приема на уровне фвпм для проверки \_ \_ принятия \_ v4
-   \_ \_ \_ Установленный поток ALE уровня фвпм \_ \_ v4
-   данные: \_ данные о \_ датаграмме уровня фвпм \_ \_ v4

  
</dl>

## <a name="udp-message-received-with-no-one-listening-on-the-port-or-protocol"></a>Получено сообщение UDP без одного прослушивания порта или протокола

Сервер (получатель)

-   IP-датаграммы: ФВПМ \_ Layer \_ Inbound \_ иппаккет \_ v4
-   IP-датаграммы: ФВПМ \_ уровень \_ входящего трафика \_ иппаккет \_ v4 \_
-   Недостижимый адрес ICMP: \_ \_ Исходящая \_ Ошибка ICMP уровня фвпм \_ \_ IPv4
-   Недостижимый адрес ICMP: \_ \_ исходящий транспорт фвпм Layer \_ \_ v4
-   Недостижимый адрес ICMP: \_ \_ исходящий уровень фвпм \_ иппаккет \_ v4

> [!Note]  
> UDP без конечной точки указывается в ИППАККЕТ Discard с конкретным условием ошибки. Блокировать этот пакет в ИППАККЕТ Discard, чтобы стек не отправлял соответствующее событие (ошибка ICMP).

 

## <a name="successful-reauthorization-of-a-udp-packet"></a>Успешная повторная авторизация пакета UDP

Сервер (получатель)

-   IP-датаграммы: ФВПМ \_ Layer \_ Inbound \_ иппаккет \_ v4
-   UDP-сообщение: \_ \_ транспорт фвпм входящего \_ транспорта \_ v4
-   UDP-сообщение: \_ \_ \_ Проверка подлинности приема на уровне фвпм для проверки \_ \_ принятия \_ v4
-   UDP-сообщение: \_ фвпм \_ Layer \_ Data \_ 4 (входящий трафик)

## <a name="failed-reauthorization-of-a-udp-packet"></a>Сбой при пересоздании пакета UDP

Сервер (получатель)

-   IP-датаграммы: ФВПМ \_ Layer \_ Inbound \_ иппаккет \_ v4
-   UDP-сообщение: \_ \_ транспорт фвпм входящего \_ транспорта \_ v4
-   UDP-сообщение: \_ \_ \_ Проверка подлинности приема на уровне фвпм для проверки \_ \_ принятия \_ v4
-   UDP-сообщение: \_ \_ \_ Проверка подлинности recv фвпм уровня проверки \_ \_ приема \_ входящего трафика v4 \_

## <a name="udp-connection-termination"></a>Завершение подключения UDP

Завершение подключения UDP не указано ни на одном уровне WFP.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Повторная авторизация ALE](ale-re-authorization.md)
</dt> <dt>

[**Фильтрация идентификаторов слоя**](management-filtering-layer-identifiers-.md)
</dt> </dl>

 

 




