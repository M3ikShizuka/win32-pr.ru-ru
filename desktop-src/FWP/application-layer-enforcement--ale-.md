---
title: Принудительное применение уровня приложения (ALE)
description: ALE — это набор слоев режима ядра платформы фильтрации Windows (WFP), которые используются для фильтрации с отслеживанием состояния.
ms.assetid: ffebd312-9220-476c-a4ba-28e2e8ac8879
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f6d74db5fdc231569f65c3b25cb630b306111aa5d6a7e3eb7faad743a5f74db8
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119069474"
---
# <a name="application-layer-enforcement-ale"></a>Принудительное применение уровня приложения (ALE)

ALE — это набор слоев режима ядра платформы фильтрации Windows (WFP), которые используются для фильтрации с отслеживанием состояния.

Фильтрация с отслеживанием состояния отслеживает состояние сетевых подключений и разрешает только пакеты, соответствующие известному состоянию соединения. Например, фильтрация с отслеживанием состояния для TCP-подключения, инициированного через брандмауэр, может разрешить только входящие пакеты, которые соответствуют предыдущим исходящим пакетам, отправленным с помощью защищенной стороны.

Фильтры в слоях ALE разрешают входящее и исходящее подключение, назначение портов, операции сокета, такие как [**Listen ()**](/windows/desktop/api/winsock2/nf-winsock2-listen), создание необработанных сокетов и получение неизбирательного режима.

Трафик на уровнях ALE классифицируется как для каждого подключения, так и для каждой операции сокета. В слоях, не относящихся к ALE, фильтры могут классифицировать трафик только на основе каждого пакета.

Уровни ALE — это единственные уровни WFP, в которых можно фильтровать сетевой трафик на основе удостоверения приложения, используя нормализованное имя файла и основанное на удостоверении пользователя, используя дескриптор безопасности. (См. ФЛТ \_ \_сведения об имени файла \_ в документации по набору драйверов Windows (WDK) для получения дополнительных сведений об нормализованных именах файлов.)

Кроме того, если для защиты подключения используется протокол IPsec, фильтрация на уровнях ALE также может выполняться на удостоверении удаленного компьютера и на удаленном удостоверении пользователя. Идентификаторы удаленного компьютера и пользователя получаются из учетных данных, используемых при создании сеанса IPsec.

По этой причине политики, которые определяют, кто (например, "Администратор") и (или) какое приложение (например, "Internet Explorer") могут выполнять сетевые операции, упомянутые выше, создаются на уровнях ALE.

ALE обеспечивает применение политик, таких как "разрешить Windows Messenger все доступ к сети при блокировании всех других приложений". В этом примере, когда приложение «Messenger» подключается по сети, ALE проверяет событие, определяет, что оно было инициировано программой Messenger, и запрашивает обработчик фильтра WFP, чтобы определить, разрешено ли продолжение работы сокета.

> [!Note]  
> Из-за природы истинных сокетов с двумя IP-адресами классификации на уровне ALE IPv4 могут не произойти. Это обусловлено проектированием, поскольку для всех целей и задач сокет является сокетом IPv6. Чтобы просмотреть трафик v4 для такого сокета, создайте фильтры на уровне V6, используя сопоставленный IPv6 адрес.

 

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Уровни ALE](ale-layers.md)
</dt> <dt>

[Фильтрация с отслеживанием состояния ALE](ale-stateful-filtering.md)
</dt> <dt>

[Многоадресный или широковещательный трафик ALE](ale-multicast-broadcast-traffic.md)
</dt> <dt>

[Повторная авторизация ALE](ale-re-authorization.md)
</dt> <dt>

[настройка Flow ALE](ale-flow-customization.md)
</dt> </dl>

 

 