---
title: сведения о платформе фильтрации Windows
description: Windows платформа фильтрации (WFP) — это платформа обработки сетевого трафика, предназначенная для замены интерфейсов фильтрации сетевого трафика Windows XP и Windows Server 2003.
ms.assetid: 6faad008-b2f6-4f45-89c7-ae98c2f58ce1
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 01a81f4f67c2f3281a6fa6b5d3220f9e2157643dfd7cf3bac34ea55743024946
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119069494"
---
# <a name="about-windows-filtering-platform"></a>сведения о платформе фильтрации Windows

Windows платформа фильтрации (WFP) — это платформа обработки сетевого трафика, предназначенная для замены интерфейсов фильтрации сетевого трафика Windows XP и Windows Server 2003. WFP состоит из набора обработчиков в сетевом стеке и механизма фильтрации, который координирует взаимодействие сетевого стека.

## <a name="the-wfp-components"></a>Компоненты платформы WFP

### <a name="filter-engine"></a>Обработчик фильтров

основная инфраструктура многоуровневого фильтрации, размещенная как в режиме ядра, так и в пользовательском режиме, которая заменяет несколько модулей фильтрации в сетевой подсистеме Windows XP и Windows Server 2003.

-   Фильтрует сетевой трафик на любом уровне системы в любом поле данных, которое может предоставить оболочка совместимости.
-   Реализует фильтры "выноску" путем вызова выносок во время классификации.
-   Возвращает действия "разрешить" или "блокировать" в оболочке совместимости, которая ее вызвала для принудительного применения.
-   Предоставляет арбитраж между разными источниками политики. Например, определяет приоритет, если приложение настроено для защиты любого сетевого трафика, связанного с ним, но локальный брандмауэр настроен для предотвращения трафика, защищенного приложением.<br/>

### <a name="base-filtering-engine-bfe"></a>Модуль базовой фильтрации (BFE)

служба, управляющая работой платформы фильтрации Windows. Она выполняет следующие задачи.

-   Принимает фильтры и другие параметры конфигурации для платформы.
-   Сообщает о текущем состоянии системы, включая статистику.
-   Применяет модель безопасности для приема конфигурации на платформе. Например, локальный администратор может добавлять фильтры, но другие пользователи могут только просматривать их.<br/>
-   Позволяет подключить параметры конфигурации к другим модулям в системе. Например, политики согласования IPsec переходят к модулям ключей IKE/AuthIP, фильтры попадают в обработчик фильтров.<br/>

### <a name="shims"></a>Оболочек совместимости

Компоненты режима ядра, расположенные между сетевым стеком и обработчиком фильтров. Оболочки делают принятие решений по фильтрации, классифицируются по механизму фильтрации. Ниже приведен список доступных оболочек совместимости.

-   Оболочка совместимости прикладного уровня (ALE).
-   Оболочка модуля транспортного уровня.
-   Оболочка модуля сетевого уровня.
-   Оболочка ошибок протокола ICMP.
-   Удалить оболочку совместимости.
-   Оболочка потока.

### <a name="callouts"></a>Выноски

Набор функций, предоставляемых драйвером и используемый для специальной фильтрации. Помимо основных действий "разрешить" и "блокировать", выноски могут изменять и защищать входящий и исходящий сетевой трафик. дополнительные сведения о выносках см. в разделе " [драйверы вызываемой платформы Windows фильтрации](/windows-hardware/drivers/network/windows-filtering-platform-callout-drivers2) " в документации по набору драйверов Windows (WDK). WFP предоставляет встроенные выноски, которые выполняют следующие задачи.<br/>

-   Выполните обработку IPsec.
-   Настройте поведение фильтрации с отслеживанием состояния.
-   Выполняет фильтрацию в скрытом режиме (без уведомления о пакетах, которые не были запрошены).
-   Управление разгрузкой TCP Chimney.
-   Взаимодействие со службой Teredo.

<br/> Механизм фильтрации позволяет внешним вызовам регистрироваться на каждом из уровней ядра.<br/>

### <a name="application-programming-interface"></a>Прикладной программный интерфейс

Набор типов данных и функций, доступных разработчикам для создания приложений фильтрации сети и управления ими. Эти типы данных и функции группируются в несколько [наборов API](api-sets.md).

## <a name="wfp-features"></a>Функции WFP

-   Предоставляет инфраструктуру фильтрации пакетов, в которой независимые поставщики программного обеспечения могут подключаться к специализированным модулям фильтрации.
-   Работает с IPv4 и IPv6.
-   Обеспечивает фильтрацию, изменение и повторную вставку данных.
-   Выполняет как пакетную, так и потоковую обработку.
-   Позволяет включить фильтрацию пакетов для каждого приложения, для каждого пользователя и для каждого подключения в дополнение к сетевому интерфейсу или по каждому порту.
-   Обеспечивает безопасность во время загрузки до запуска модуля базовой фильтрации (BFE).
-   Включает фильтрацию подключений с отслеживанием состояния.
-   Обрабатывает как предварительные, так и POST-шифрованные данные IPsec.
-   Позволяет интегрировать политики фильтрации IPsec и брандмауэра.
-   Предоставляет инфраструктуру управления политиками, позволяющую определить, когда должны быть активированы определенные фильтры. Сюда входят обрабатывают конфликтные требования из нескольких фильтров, предоставляемых разными поставщиками.
-   Обрабатывает большую часть пересборки и отслеживания состояния пакетов.
-   Включает универсальную систему уведомлений пользователей, которая информирует подписчиков об изменениях в системе фильтрации.
-   Реализует функции перечисления, которые сообщают о состоянии системы.
-   Использует события NET для записи ошибок IPsec и перепадения пакетов.
-   Поддерживает класс поддержки среды диагностики сети [(NDF)](/windows/desktop/NDF/extensible-helper-classes).
-   Поддерживает [безопасные расширения сокетов](/windows/desktop/WinSock/winsock-secure-socket-extensions) для API Winsock, которые позволяют сетевым приложениям защищать трафик путем настройки WFP.
-   На уровнях применения уровня приложения (ALE) минимальное влияние на производительность сети за счет обработки только первого пакета в соединении.
-   Интегрирует аппаратную разгрузку, где модули выноски в режиме ядра могут использовать оборудование для выполнения определенной проверки пакетов.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Архитектура WFP](windows-filtering-platform-architecture-overview.md)
</dt> <dt>

[Операция WFP](basic-operation.md)
</dt> <dt>

[Принудительное применение уровня приложения (ALE)](application-layer-enforcement--ale-.md)
</dt> <dt>

[Конфигурация IPsec](ipsec-configuration.md)
</dt> <dt>

[Конфигурация WFP](wfp-configuration.md)
</dt> <dt>

[Мониторинг WFP](wfp-monitoring.md)
</dt> <dt>

[API WFP](api-sets.md)
</dt> </dl>

 

