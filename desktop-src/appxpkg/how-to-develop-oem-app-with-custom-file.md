---
title: Разработка приложения OEM, использующего пользовательский файл
description: Узнайте, как разработать приложение, использующее пользовательский файл для передачи сведений от изготовителя оборудования в приложение.
ms.assetid: BCDB4B13-3644-44E4-9A70-04D8E90500EE
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4780e930d057c325038c94dc86fc375c70bdb1cc8dca34ac6169436bc0f0e323
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119855324"
---
# <a name="how-to-develop-an-oem-app-that-uses-a-custom-file"></a>Разработка приложения OEM, использующего пользовательский файл

Дополнительные сведения о создании и использовании пользовательских файлов данных см. в разделе [параметры Command-Line обслуживания пакета приложения DISM (. appx или. appxbundle)](/windows-hardware/manufacture/desktop/dism-app-package--appx-or-appxbundle--servicing-command-line-options).

Узнайте, как разработать приложение, использующее пользовательский файл для передачи сведений от изготовителя оборудования в приложение.

Для приложений, создаваемых для развертывания изготовителем оборудования, можно использовать пользовательский файл для передачи сведений от изготовителя оборудования в приложения. Чтобы передать сведения об ИЗГОТОВИТЕЛе в приложение, создайте файл Custom. Data в папке microsoft.sysTEM. Package. метаданных. Это имя файла является специальным для операционной системы и автоматически переносится во время обновления операционной системы. Поставщики вычислительной техники могут использовать этот файл для передачи настраиваемых идентификаторов, чтобы приложения были осведомлены о развертывании их изготовителями оборудования. У вас может быть только один настраиваемый файл. Data для каждого приложения. Приложения должны иметь возможность правильно искать и считывать этот файл. Разработчики считают файл ненадежным.

## <a name="what-you-need-to-know"></a>Это важно знать

### <a name="technologies"></a>Технологии

-   [Краткое руководство. запрос сведений о манифесте пакета приложения](how-to-query-package-identity-information.md)

### <a name="prerequisites"></a>Предварительные требования

-   Для добавления пакета приложения с пользовательским файлом данных требуется средство [обслуживания образов развертывания и управления ими (DISM)](/windows/desktop/Win7AppQual/dism-replaces-pkgmgr-peimg-and-intlconfg-tools) .

## <a name="instructions"></a>Инструкции

### <a name="step-1-create-custom-file-and-add-it-to-the-package-metadata-folder"></a>Шаг 1. Создание пользовательского файла и добавление его в папку метаданных пакета

Вы можете спроектировать приложение для использования любого формата, выбранного для пользовательских данных. Например, можно использовать XML, текстовый файл или другой тип файла для организации данных. Рекомендуется продумать, как можно проверить и проверить файл. Например, можно создать схему XML для проверки XML-файла.

Можно указать любой тип файла с любым именем файла для пользовательских данных. При добавлении пакета приложения с пользовательским файлом данных с помощью средства [DISM](/windows/desktop/Win7AppQual/dism-replaces-pkgmgr-peimg-and-intlconfg-tools) система DISM переименовывает пользовательский файл в Custom. Data и сохраняет его в папку microsoft.sysTEM. Package. Metadata.

> [!Note]  
> Приложение не может изменить пользовательский файл данных. Это ресурс только для чтения.

 

### <a name="step-2-access-the-custom-data-file-for-an-app"></a>Шаг 2. доступ к пользовательскому файлу данных для приложения

вы можете получить доступ к пользовательскому файлу. data для приложения из кода с помощью Windows api-интерфейсов для получения сведений о текущем пакете. Пример:

``` syntax
Windows.ApplicationModel.Package.current.installedLocation.getFileAsync(
"microsoft.system.package.metadata\\custom.data")
```

Дополнительные сведения о разработке с помощью свойства [**Package. Current**](/uwp/api/windows.applicationmodel.package.current) см. в разделе [Краткое руководство: запрос сведений о манифесте пакета приложения](how-to-query-package-identity-information.md).

Дополнительные сведения о доступе к файлу Custom. Data через [**исторажефолдер. GetFileAsync**](/uwp/api/windows.storage.istoragefolder.getfileasync) и с помощью объектов [**StorageFile**](/uwp/api/Windows.Storage.StorageFile) см. в разделе [доступ к данным и файлам](/previous-versions/windows/apps/hh464959(v=win.10)).

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Краткое руководство. запрос сведений о манифесте пакета приложения](how-to-query-package-identity-information.md)
</dt> </dl>

 

 