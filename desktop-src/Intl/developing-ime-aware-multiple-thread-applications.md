---
description: Модуль IMM включает проверку идентификации потоков, которая определяет, является ли вызывающий поток создателем указанного дескриптора контекста входного метода (типа ХИМК) или дескриптора окна (типа HWND).
ms.assetid: da55d6fe-a620-4ea7-9055-91bcd3233267
title: Разработка IME-Aware приложений с несколькими потоками
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2e5730fc72ef41a84e01655116f94fc274f60548
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105684256"
---
# <a name="developing-ime-aware-multiple-thread-applications"></a>Разработка IME-Aware приложений с несколькими потоками

Модуль IMM включает проверку идентификации потоков, которая определяет, является ли вызывающий поток создателем указанного дескриптора контекста входного метода (типа ХИМК) или дескриптора окна (типа HWND). Если поток не является создателем маркера, вызываемая функция IMM завершается с ошибкой, а последующий вызов [**GetLastError**](/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror) возвращает ошибку \_ Недопустимый \_ доступ.

> [!Note]  
> Текущая архитектура IMM не предоставляет средство синхронизации для доступа к дескрипторам IMM.

 

Чтобы использовать проверку идентификации потоков, приложения должны соблюдать следующие рекомендации.

-   Поток не должен обращаться к входному контексту, созданному другим потоком.
-   Поток не должен связывать входной контекст с окном, созданным другим потоком, и наоборот.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Использование диспетчера методов ввода](using-input-method-manager.md)
</dt> </dl>

 

 
