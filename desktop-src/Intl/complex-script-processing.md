---
description: 'Ниже приведены параметры отображения и связанной обработки текста для поддержки тонких типографских эффектов или сложных наборов символов: Text Функтионседит Контролсрич Edit Контролсунискрибе'
ms.assetid: 337bc798-e75d-4389-8fea-577eb82a0ed5
title: Обработка сложных наборов символов
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 15671aed99e0c596d83bd65a2f4a0925ff61293cf90ed37e2aed371f23f114fc
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119754914"
---
# <a name="complex-script-processing"></a>Обработка сложных наборов символов

Ниже приведены параметры отображения и связанной обработки текста для поддержки типографских эффектов или сложных наборов символов.

-   Текстовые функции
-   Изменить элементы управления
-   Элементы управления Rich Edit
-   Uniscribe

Выбор параметров зависит от следующих факторов.

-   Тип текста или сценариев.
-   Модель реализации, например, макет текста и обработка разрыва строк приложением.
-   Обновление существующего приложения и создание нового приложения.

Как правило, приложение, выполняющее сравнительно простую обработку скриптов, может выбрать любой вариант обработки сложных наборов символов. Однако для наиболее полного контроля над сложной обработкой скриптов рекомендуется использовать Uniscribe.

## <a name="complex-script-processing-using-text-functions"></a>Обработка сложных наборов символов с помощью текстовых функций

В приложениях, использующих обычный текст, то есть текст, использующий ту же гарнитуру, вес, цвет и т. д., традиционно написал текст и измеряет длину строк с помощью стандартных текстовых функций, таких как [**текстовые**](/windows/win32/api/wingdi/nf-wingdi-textouta) [**ExtTextOut**](/windows/win32/api/wingdi/nf-wingdi-exttextouta), [**таббедтекстаут**](/windows/win32/api/winuser/nf-winuser-tabbedtextouta), [**DrawText**](/windows/win32/api/winuser/nf-winuser-drawtext)и [**жеттекстекстентекспоинт**](/windows/win32/api/wingdi/nf-wingdi-gettextextentexpointa). Эти функции поддерживают обработку сложных наборов символов и тонких типографских эффектов. Дополнительные сведения см. в разделе [шрифты и текст](../gdi/fonts-and-text.md).

Как правило, стандартная поддержка текста прозрачна для приложений, обрабатывающих сложные сценарии. Однако при написании приложений, поддерживающих качественное оформление и обработку сложных наборов символов, следует учитывать некоторые конкретные правила.

-   Приложение должно сохранять символы в буфере и отображать целую строку текста за один раз, а не, например, вызывая [**ExtTextOut**](/windows/win32/api/wingdi/nf-wingdi-exttextouta) для каждого символа, вводимого пользователем. Этот механизм позволяет модулям расширенного формирования текста использовать контекст для правильного упорядочения и создания [глифов](uniscribe-glossary.md) .
-   Приложение должно использовать [**жеттекстекстентекспоинт**](/windows/win32/api/wingdi/nf-wingdi-gettextextentexpointa) для определения длины строки вместо вычисления длины строк из ширины кэшированных символов, так как ширина глифа может зависеть от контекста.
-   Приложение должно дополнительно добавить поддержку порядка чтения справа налево и выравнивание по правому краю.
-   Переупорядочение и контекстная обработка, необходимая для сложных наборов символов или тонкого оформления, требует значительного увеличения объема обработки обычного текста для простых сценариев. Поэтому во избежание проблем с производительностью приложение не должно обрабатывать большие объемы текста перед отображением результатов и возвратом управления пользователю.

## <a name="complex-script-processing-using-edit-controls"></a>Обработка сложных скриптов с помощью элементов управления "Изменить"

стандартные элементы управления Windows edit были расширены для поддержки многоязычного текста и сложных наборов символов. Расширенная поддержка включает в себя ввод и отображение, а также правильное перемещение курсора по символьным кластерам, например в скриптах тайского и деванагари. Дополнительные сведения см. в разделе [Edit Controls](../controls/edit-controls.md).

## <a name="complex-script-processing-using-rich-edit-controls"></a>Обработка сложных скриптов с помощью элементов управления Rich Edit

Расширенное редактирование 3,0 — это коллекция интерфейсов более высокого уровня, использующая Uniscribe для изоляции приложений макета текста от сложностей определенных сценариев. Расширенное редактирование — это самый простой способ отобразить сложные сценарии, даже если их первичная цель не обязательно является макетом текста. Расширенное редактирование обеспечивает быстрое и гибкое редактирование многоязыкового многоязычного текста в Юникоде и простого обычного текста. он включает обширные интерфейсы сообщений и COM, редактирование текста, форматирование, разбиение на строки, простой макет таблицы, вертикальный макет текста, макет двунаправленного текста, поддержку индийского и тайского языков, а также пользовательский интерфейс редактирования, похожий на Microsoft Word и интерфейсы объектной модели текста.

Наряду с интерфейсами расширенного редактирования приложения могут использовать функцию расширенного редактирования [**текста**](/windows/win32/api/wingdi/nf-wingdi-textouta) для автоматического анализа, формирования, размещения и разбивки строк. Дополнительные сведения см. в разделе [элементы управления Rich Edit](../controls/rich-edit-controls.md).

## <a name="complex-script-processing-using-uniscribe"></a>Обработка сложных наборов символов с помощью Uniscribe

[Uniscribe](uniscribe.md) обеспечивает наиболее обширную поддержку обработки текста, включающего большие типографские эффекты и сложные наборы символов. Он поддерживает сложные правила, найденные в таких сценариях, как арабский, деванагари и тайский. Он обрабатывает сценарии, написанные справа налево, такие как арабский и иврит, и поддерживает смешивание сценариев. Uniscribe также предоставляет возможности шрифтов [OpenType](opentype-font-format.md) , которые могут использоваться приложениями для управления типографскими эффектами. Дополнительные сведения см. в разделе [обработка сложных наборов символов](processing-complex-scripts.md).

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[О Uniscribe](about-uniscribe.md)
</dt> <dt>

[Обработка сложных наборов символов](processing-complex-scripts.md)
</dt> </dl>

 

 
