---
description: Uniscribe использует несколько механизмов формирования, которые содержат сведения о макете для определенных скриптов.
ms.assetid: 3cdd18f3-51d3-4d1c-be31-f5709074cbe7
title: Использование механизмов формирования
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a106e993aba515af38edd2b809ef60454a186cde
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105651200"
---
# <a name="using-shaping-engines"></a>Использование механизмов формирования

Uniscribe использует несколько механизмов формирования, которые содержат сведения о макете для определенных скриптов. Он также использует преимущества механизма формирования макета OpenType для обработки функций сценариев, связанных со шрифтами, таких как создание глифов, измерение экстентов и поддержка разбиения по словам. Uniscribe управляет двунаправленным изменением порядка символов с помощью двунаправленного алгоритма Юникода и распознает форматы шрифтов, отличные от OpenType, для написания арабского, иврита и тайского языков.

Поскольку диапазоны кодовых точек, назначенных каждому механизму формирования, могут различаться, Номера скриптов не публикуются, за исключением того, что скрипт не \_ определен. Однако приложение может проверить атрибуты скриптов, вызвав функцию [**скриптжетпропертиес**](/windows/desktop/api/Usp10/nf-usp10-scriptgetproperties) , которая обращается к таблице свойств глобального скрипта. Приложение может использовать глобальные свойства скрипта для объединения собственных правил макета с требуемыми делениями механизма формирования.

Приложение обращается к механизму формирования, вызвав функцию [**скриптшапе**](/windows/desktop/api/Usp10/nf-usp10-scriptshape) . Все сложные механизмы формирования скриптов, механизмы формирования цифр и модули формирования ASCII перед формированием проверяют шрифт, указанный в дескрипторе контекста устройства. Для удобочитаемости сложные скрипты должны быть написаны с помощью сценария, возвращаемого функцией [**скриптитемизе**](/windows/desktop/api/Usp10/nf-usp10-scriptitemize) . Другие запуски остаются в неопределенном виде, если написание скрипта не \_ определено в элементе **ескрипт** структуры [**\_ анализа скриптов**](/windows/win32/api/usp10/ns-usp10-script_analysis) , хотя они могут потерять типографское качество.

[**Скриптшапе**](/windows/desktop/api/Usp10/nf-usp10-scriptshape) возвращает 0 в случае успешного выполнения или \_ USP \_ E \_ \_ в \_ шрифте, если шрифт, предоставленный приложением, не содержит достаточное количество глифов или таблиц формирования. Если в приложении указан \_ неопределенный сценарий и некоторые символы не поддерживаются шрифтом, функция все равно будет выполнена. В этом случае приложение должно проверять выходной буфер глифов на наличие отсутствующих глифов. Рекомендации по обработке отсутствующих глифов см. в разделе [Использование отката шрифта](using-font-fallback.md).

## <a name="related-topics"></a>См. также

<dl> <dt>

[Использование Uniscribe](using-uniscribe.md)
</dt> </dl>

 

 



