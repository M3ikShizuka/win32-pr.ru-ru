---
description: Сравнивает два перечисленных списка скриптов.
ms.assetid: 3500ce36-75e4-4d61-8449-a65c99532326
title: Функция Довнлевелверифискриптс (Идндл. h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- DownlevelVerifyScripts
api_type:
- DllExport
api_location:
- Idndl.dll
ms.openlocfilehash: 62e029576d53109e3c57faf4ec913472f8aea65e
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105664319"
---
# <a name="downlevelverifyscripts-function"></a>Функция Довнлевелверифискриптс

Сравнивает два перечисленных списка скриптов.

> [!Note]  
> Эта функция используется только приложениями, работающими в операционных системах, предшествующих Windows Vista. Для его использования требуется загружаемый пакет. Приложения, которые работают только в Windows Vista и более поздних версиях, должны вызывать [**верифискриптс**](/windows/desktop/api/Winnls/nf-winnls-verifyscripts).

 

## <a name="syntax"></a>Синтаксис


```C++
BOOL DownlevelVerifyScripts(
  _In_ DWORD   dwFlags,
  _In_ LPCWSTR lpLocaleScripts,
  _In_ int     cchLocaleScripts,
  _In_ LPCWSTR lpTestScripts,
  _In_ int     cchTestScripts
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*dwFlags* \[ окне\]
</dt> <dd>

Флаги, указывающие параметры проверки сценария.



| Значение                                                                                                                                                             | Значение                                                                                        |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------|
| <span id="VS_ALLOW_LATIN"></span><span id="vs_allow_latin"></span><dl> <dt>**VS \_ Разрешить \_ латиницу**</dt> </dl> | Разрешить "ЛАТН" (Латинский скрипт) в списке тестов, даже если он отсутствует в списке языкового стандарта.<br/> |



 

</dd> <dt>

*лплокалескриптс* \[ окне\]
</dt> <dd>

Указатель на список языковых стандартов — список сценариев для заданного языкового стандарта. Этот список обычно заполняется вызовом [**довнлевелжетлокалескриптс**](downlevelgetlocalescripts.md).

</dd> <dt>

*кчлокалескриптс* \[ окне\]
</dt> <dd>

Размер строки (в символах), указанной параметром *лплокалескриптс*. Приложение задает для этого параметра значение-1, если строка завершается нулем. Если этот параметр имеет значение 0, функция завершается ошибкой.

</dd> <dt>

*лптестскриптс* \[ окне\]
</dt> <dd>

Указатель на список тестов, второй нумерованный список скриптов. Этот список обычно заполняется вызовом [**довнлевелжетстрингскриптс**](downlevelgetstringscripts.md).

</dd> <dt>

*кчтестскриптс* \[ окне\]
</dt> <dd>

Размер строки (в символах), указанной параметром *лптестскриптс*. Приложение задает для этого параметра значение-1, если строка завершается нулем. Если этот параметр имеет значение 0, функция завершается ошибкой.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Возвращает **значение true** , если список тестов не пуст и все элементы в списке также включены в список языковых стандартов. В противном случае функция возвращает **значение false**.

Возвращаемое значение **false** может означать, что список тестов содержит элемент, отсутствующий в списке языкового стандарта, или может указывать на ошибку. Чтобы различать эти два варианта, приложение может вызвать [**GetLastError**](/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror). Если **довнлевелверифискриптс** успешно определил, что в списке тестов присутствует элемент, отсутствующий в списке языкового стандарта, **GetLastError** возвращает ошибку \_ Success. В противном случае **GetLastError** может вернуть один из следующих кодов ошибок:

-   Ошибка \_ : недопустимые \_ флаги. Указаны недопустимые значения флагов.
-   Ошибка \_ : недопустимый \_ параметр. Любое из значений параметров было недопустимым.

## <a name="remarks"></a>Комментарии

Эта функция сравнивает строки, например "ЛАТН; Цирл; ", который состоит из последовательности из четырех символьных имен, с каждым именем сценария, за которым следует точка с запятой. Кроме того, в нем есть особый случай того, что Латинский скрипт часто используется на языках и национальных стандартах, для которых он не является машинным.

Эта функция полезна как часть стратегии по устранению проблем безопасности, связанных с [международными доменными именами (IDNs)](handling-internationalized-domain-names--idns.md).

Ниже приведены примеры возврата этой функции и последующего вызова [**GetLastError**](/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror) в различных сценариях. В двух последних примерах показано, соответственно, что в списке тестов отсутствует завершающая точка с запятой (неправильно сформированная строка) и в случае, когда список тестов пуст.



| Строка "языковой стандарт" | Строка "Test" | *dwFlags*        | Возвращаемое значение | Обратная GetLastError       |
|-----------------|---------------|------------------|--------------|---------------------------|
| Хани; Хира; Знаков | Хани;         | Н/Д              | **TRUE**     | Н/Д                       |
| Хани; Хира; Знаков | Хани; ЛАТН;    | 0                | **FALSE**    | Ошибка при \_ успешном выполнении            |
| Хани; Хира; Знаков | Хани; ЛАТН;    | VS \_ Разрешить \_ латиницу | **TRUE**     | Н/Д                       |
| Хани; Хира; Знаков | Цирл;         | Н/Д              | **FALSE**    | Ошибка при \_ успешном выполнении            |
| Хани; Хира; Знаков | Цирл;         | Н/Д              | **FALSE**    | Ошибка \_ недопустимого \_ параметра |
| Хани; Хира; Знаков |               | Н/Д              | **FALSE**    | Ошибка при \_ успешном выполнении            |



 

Требуемый заголовочный файл и библиотека DLL являются частью скачивания веб- [API для Межязыкового доменного имени Майкрософт (IDN)](https://www.microsoft.com/downloads/details.aspx?FamilyID=AD6158D7-DDBA-416A-9109-07607425A815&displaylang=en) , доступного в [центре загрузки MSDN](https://www.microsoft.com/?ref=go).

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Только для \[ классических приложений Windows XP\]<br/>                                                                                                  |
| Минимальная версия сервера<br/> | \[Только для настольных приложений Windows Server 2003\]<br/>                                                                                         |
| Распространяемые компоненты<br/>          | API для межязыкового доменного имени Майкрософт (IDN) — Windows XP с пакетом обновления 2 (SP2), Windows Server 2003 с пакетом обновления SP1, Орвиндовс Vista<br/> |
| Header<br/>                   | <dl> <dt>Идндл. h</dt> </dl>                                                           |
| DLL<br/>                      | <dl> <dt>Idndl.dll</dt> </dl>                                                         |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[Поддержка национальных языков](national-language-support.md)
</dt> <dt>

[Функции поддержки национальных языков](national-language-support-functions.md)
</dt> <dt>

[Обработка международных доменных имен (IDNs)](handling-internationalized-domain-names--idns.md)
</dt> <dt>

[**довнлевелжетлокалескриптс**](downlevelgetlocalescripts.md)
</dt> <dt>

[**довнлевелжетстрингскриптс**](downlevelgetstringscripts.md)
</dt> <dt>

[**верифискриптс**](/windows/desktop/api/Winnls/nf-winnls-verifyscripts)
</dt> </dl>

 

 
