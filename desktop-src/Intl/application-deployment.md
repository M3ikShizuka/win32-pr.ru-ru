---
description: В этом разделе приводятся рекомендации по развертыванию приложения MUI для оптимального использования логикой загрузки приложений и загрузчиком ресурсов.
ms.assetid: 6c10b355-9bdd-4dba-8446-91034d4fe9b8
title: Развертывание приложения
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c2023e5fc2dbde51a6ef996126e7557c9ffce8d5
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105664752"
---
# <a name="application-deployment"></a>Развертывание приложения

В этом разделе приводятся рекомендации по развертыванию приложения MUI для оптимального использования логикой загрузки приложений и загрузчиком ресурсов.

## <a name="packaging"></a>Упаковка

Упаковка для приложения зависит от типа предоставляемой языковой поддержки, так как Windows устанавливает языковые пакеты на основе предпочтений пользователя. Например, если вы решили поддерживать системные параметры языка, вам может потребоваться обеспечить поддержку всех языков в одном пакете независимо от предполагаемого пользователя.

Если приложение и ресурсы велики, следует использовать один пакет для каждого поддерживаемого языка. Например, этот тип упаковки можно использовать, если приложение представляет языки, выбираемые пользователем, и пользователю требуется динамическое добавление и удаление языковых ресурсов.

## <a name="file-placement-on-windows-vista-and-later"></a>Размещение файлов в Windows Vista и более поздних версиях

В этом разделе описывается размещение файлов для приложения MUI, предназначенного только для Windows Vista и более поздних версий.

### <a name="place-the-ln-file"></a>Размещение LN файла

Типичным LN-файлом для приложения MUI является файл exe или DLL, например BakerDelta.dll. Этот файл следует поместить в корневую папку, в которой установлено приложение, например X: \\ \\ <somepath> \\BakerDelta.dll.

### <a name="place-language-specific-resource-files"></a>Размещение файлов ресурсов Language-Specific

Файлы ресурсов конкретного языка должны иметь предсказуемые имена, сформированные путем добавления ". MUI" к полному имени LN-файла, например BakerDelta.dll. MUI. Эти файлы должны размещаться во вложенных папках с именами соответствующих [языков](language-names.md). В следующем примере показано размещение ресурсов для файла BakerDelta.dll LN с файлами ресурсов для английского языка (Великобритания), английского (США), нейтрального английского, испанского (Испания), испанского (Мексика) и нейтрального испанского:

-   X: \\ \\ <somepath> \\BakerDelta.dll
-   X: \\ \\ <somepath> \\ en-GB \\BakerDelta.dll. MUI
-   X: \\ \\ <somepath> \\ en-US \\BakerDelta.dll. MUI
-   X: \\ \\ <somepath> \\ en \\BakerDelta.dll. MUI
-   X: \\ \\ <somepath> \\ es-ES \\BakerDelta.dll. MUI
-   X: \\ \\ <somepath> \\ es-MX \\BakerDelta.dll. MUI
-   X: \\ \\ <somepath> \\ ES \\BakerDelta.dll. MUI

Файлы ресурсов должны размещаться в правильных расположениях во время установки приложения MUI или языкового пакета. Важно поместить каждый файл в правильную папку, так как загрузчик ресурсов не может правильно работать в противном случае. Используя приведенный выше пример, загрузчик ресурсов проверяет X: \\ <somepath> \\ en-US \\BakerDelta.dll. MUI для ресурсов на английском языке (США). Если загрузчик выполняет поиск в этом файле и встречает только ресурсы на испанском языке, он завершается ошибкой.

## <a name="file-placement-on-a-pre-windows-vista-operating-system"></a>Размещение файлов в операционных системах, предшествующих Windows Vista

Приложение, запускаемое в операционной системе, предшествующей Windows Vista, может использовать Windows Vista для размещения файлов ресурсов, зависящих от языка, в папках на основе имен языков. Кроме того, приложение может соответствовать более старому соглашению, в котором пути образуются из [идентификаторов языка](language-identifiers.md). Для приложений, поддерживающих только один язык, можно просто разместить файл ресурсов, зависящий от языка, в корневом каталоге с двоичным файлом.

Например, рассмотрим LN-файл с именем BakerDelta.dll, а также файлы ресурсов для английского языка (Великобритания), Английский (США), нейтральный английский, Испанский (Испания), Испанский (Мексика) и нейтральный испанский. Установка в операционных системах, предшествующих Windows Vista, может поместить эти файлы следующим образом:

-   X: \\ \\ <somepath> \\BakerDelta.dll
-   X: \\ \\ <somepath> \\BakerDelta.dll. MUI (необязательный MUI-файл, содержащий ресурсы на языке операционной системы в качестве конечного резервного)
-   X: \\ \\ <somepath> \\ MUI \\ 0809 \\BakerDelta.dll. MUI
-   X: \\ \\ <somepath> \\ MUI \\ 0409 \\BakerDelta.dll. MUI
-   X: \\ \\ <somepath> \\ MUI \\ 0209 \\BakerDelta.dll. MUI
-   X: \\ \\ <somepath> \\ MUI \\ 040a \\BakerDelta.dll. MUI
-   X: \\ \\ <somepath> \\ MUI \\ 080a \\BakerDelta.dll. MUI
-   X: \\ \\ <somepath> \\ MUI \\ 0209 \\BakerDelta.dll. MUI

Помимо этих файлов приложение может настроить конечный файл ресурсов для конкретного языка, который будет находиться в той же папке, что и само приложение. В приведенном выше примере это файл X: \\ <somepath> \\BakerDelta.dll. MUI.

## <a name="installation"></a>Установка

Логика установки для копирования и настройки файлов приложений зависит от поддерживаемых языков и расположения файлов языковых ресурсов в правильных расположениях установки. Установщик должен установить и настроить приложение, чтобы пользователь мог легко добавлять и удалять языки.

Если приложение просто устанавливает язык целевой операционной системы, установщик должен обнаружить пользовательский интерфейс операционной системы, чтобы определить ресурсы приложения для установки. Чтобы обеспечить оптимальное взаимодействие с пользователем, установщик должен также обнаружить язык пользовательского интерфейса, чтобы предоставить локализованный пользовательский интерфейс для самой установки.

Для создания программ установки рекомендуется использовать установщик Windows (MSI). Связанные ресурсы должны включаться в файл ресурсов базового языка, как описано в разделе [Создание файла ресурсов базового языка](creating-the-base-language-resource-file.md). Инструкции по использованию MSI для подготовки установщика приложений см. в разделе [установщик Windows](../msi/windows-installer-portal.md).

## <a name="uninstall-program"></a>Программа удаления

Вам также может потребоваться сделать программу удаления приложением MUI. Кроме того, для создания этой программы рекомендуется использовать MSI. Инструкции по использованию MSI для подготовки программ удаления см. в разделе [установщик Windows](../msi/windows-installer-portal.md).

## <a name="related-topics"></a>См. также

<dl> <dt>

[Использование многоязыкового интерфейса пользователя](using-multilingual-user-interface.md)
</dt> </dl>

 

 
