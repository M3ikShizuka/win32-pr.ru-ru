---
description: В этом разделе описывается создание стандартного приложения MUI.
ms.assetid: 386e9601-ce21-4ef0-b225-0c4249d1942d
title: Локализация ресурсов и сборка приложения
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 74262499b20836ee4860f1c0fc1a1bf80e19d58d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105683002"
---
# <a name="localizing-resources-and-building-the-application"></a>Локализация ресурсов и сборка приложения

В этом разделе описывается создание стандартного приложения MUI. Предполагается, что вы используете Microsoft Visual Studio для написания кода и Microsoft Visual Studio или командную строку Visual Studio для сборки. Предполагается использование файла решения. sln для приложения и поддержка файла resource. h для отражения файла ресурсов базового языка.

> [!Note]  
> При использовании командной строки Visual Studio для сборки вы будете использовать команду **VCBuild** для сборки файла решения.

 

Файлы приложения создаются отдельно для каждого языка. Каждая сборка создает идентичные, не зависящие от языка exe-файлы и языки MUI. Кроме того, разные файлы копируются в соответствующие папки выпуска.

Сборка приложения зависит от типа ресурсов и типа локализации, которую вы используете. Для локализации перед сборкой имеется одна копия файла базового языка, локализованная для каждого поддерживаемого языка. Для локализации после сборки можно скопировать MUI-файл, полученный в результате сборки исполняемого файла и модуля ресурсов, и предоставить эти копии локализаторам.

> [!Note]  
> В следующей процедуре предполагается, что ресурсы Win32 PE с одним проектом Visual Studio созданы для каждого языка. Базовые языковые ресурсы предоставляются в RC-файле и загружаются с помощью модуля DLL. Процедуру можно повторить по мере необходимости для сборки для всех поддерживаемых языков.

 

**Построение приложения**

1.  Настройте проект Visual Studio для базового языка.
2.  Если вы заинтересованы в использовании файла конфигурации ресурсов с инструментами ресурсов, настройте его, как описано в разделе [Подготовка файла конфигурации ресурсов](preparing-a-resource-configuration-file.md).
3.  Задайте параметры, необходимые служебной программе компилятора RC, на страницах свойств проекта в разделе **Свойства конфигурации > ресурсы > Командная строка → дополнительные параметры**.
4.  Запустите компилятор RC. Программа компилирует и разделяет нелокализованные и локализуемые ресурсы в два разных объектных файла, используя данные конфигурации ресурсов. На этом шаге ресурсы, независимые от языка, связаны с LN-файлом. Дополнительные сведения см. в описании служебной программы в разделе [Служебные программы](resource-utilities.md).
5.  Чтобы связать ресурсы, относящиеся к конкретному языку, в файл MUI конкретного языка, задайте событие после сборки для проекта на страницах свойств в разделе **Свойства конфигурации > события построения → после сборки событие → Командная строка**.
6.  Задайте событие после сборки, чтобы применить значение контрольной суммы из LN-файла к MUI-файлу для языка. Для этого шага можно использовать служебную программу МУИРКТ. Дополнительные сведения см. в описании служебной программы в разделе [Служебные программы](resource-utilities.md).
7.  Используйте командную строку события после сборки, чтобы добавить команды для копирования файлов в соответствующую структуру папок выпуска.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Использование многоязыкового интерфейса пользователя](using-multilingual-user-interface.md)
</dt> <dt>

[Подготовка файла конфигурации ресурса](preparing-a-resource-configuration-file.md)
</dt> <dt>

[Служебные программы](resource-utilities.md)
</dt> </dl>

 

 



