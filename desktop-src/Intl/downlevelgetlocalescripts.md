---
description: Предоставляет список скриптов для указанного языкового стандарта.
ms.assetid: 0cedcf6c-bab4-4e0f-ab8f-04aa8e51602f
title: Функция Довнлевелжетлокалескриптс (Идндл. h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- DownlevelGetLocaleScripts
api_type:
- DllExport
api_location:
- Idndl.dll
ms.openlocfilehash: 02631a605f67f3c27dfcc29c1e660ca24e56b6072d4490ba8ba090ebdd8b9019
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119068254"
---
# <a name="downlevelgetlocalescripts-function"></a>Функция Довнлевелжетлокалескриптс

Предоставляет список скриптов для указанного языкового стандарта.

> [!Note]  
> эта функция используется только приложениями, работающими в операционных системах, предшествующих Windows Vista. Для его использования требуется загружаемый пакет. приложения, которые работают только в Windows Vista и более поздних версиях, должны вызывать [**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa) с *LCType* , установленным в [LOCALE \_ сскриптс](locale-sscripts.md).

 

## <a name="syntax"></a>Синтаксис


```C++
int DownlevelGetLocaleScripts(
  _In_  LPCWSTR lpLocaleName,
  _Out_ LPWSTR  lpScripts,
  _In_  int     cchScripts
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*лплокаленаме* \[ окне\]
</dt> <dd>

Указатель на [имя локали](locale-names.md), заканчивающееся нулем.

</dd> <dt>

*лпскриптс* \[ заполняет\]
</dt> <dd>

Указатель на буфер, в котором эта функция получает строку, завершающуюся нулем, представляющую список скриптов, с использованием 4-символьной нотации, используемой в [стандарте ISO 15924](https://www.unicode.org/iso15924/iso15924-codes.html). Имя каждого сценария состоит из четырех латинских символов, а имена извлекаются в алфавитном порядке. За каждым из них, включая последний, следует точка с запятой.

Кроме того, этот параметр может содержать **значение NULL** , если *кчскриптс* имеет значение 0. В этом случае функция возвращает необходимый размер буфера скрипта.

</dd> <dt>

*кчскриптс* \[ окне\]
</dt> <dd>

Размер в символах для буфера скрипта, указанного параметром *лпскриптс*.

Кроме того, приложение может установить этот параметр в значение 0. В этом случае функция получает **значение NULL** в *лпскриптс* и возвращает необходимый размер буфера скрипта.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Возвращает число символов, полученных в буфере скрипта, включая завершающий символ null. Если функция завершается удачно и значение *кчскриптс* равно 0, то возвращаемое значение имеет необходимый размер (в символах, включая завершающий нуль-символ) для буфера скрипта.

Эта функция возвращает 0, если она не выполнена. Чтобы получить расширенные сведения об ошибке, приложение может вызвать [**GetLastError**](/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror), которая может возвращать один из следующих кодов ошибок:

-   Ошибка \_ баддб. Функция не может получить доступ к данным. Такая ситуация обычно не возникает, и обычно указывает на неправильную установку, на диск или на проблему.
-   Ошибка \_ : недостаточный \_ Размер буфера. Указанный размер буфера не достаточен или имеет неправильное значение **null**.
-   Ошибка \_ : недопустимый \_ параметр. Любое из значений параметров было недопустимым.

## <a name="remarks"></a>Remarks

Эта функция полезна как часть стратегии по устранению проблем безопасности, связанных с [международными доменными именами (IDNs)](handling-internationalized-domain-names--idns.md).

Ниже приведены некоторые примеры входных и выходных данных для этой функции, при условии, что размер буфера достаточен.



| Локаль                  | *лплокаленаме* | *лпскриптс*     |
|-------------------------|----------------|-----------------|
| Английский (США) | ru-RU          | ЛАТН;           |
| Хинди (Индия)           | hi-IN          | Дева;           |
| Японский (Япония)        | ja-JP          | Хани; Хира; Знаков |



 

Список не содержит латинский сценарий, если он не является важнейшей частью системы записи, используемой для языкового стандарта. Однако символы латиницы часто используются в контексте национальных настроек, для которых они не являются собственными, например для внешнего имени компании. В приведенном выше примере для языка хинди в Индии единственным извлеченным сценарием является "Дева" (для деванагари), хотя Латинский символ также может отображаться в тексте на языке хинди. Функция [**довнлевелверифискриптс**](downlevelverifyscripts.md) имеет специальный флаг для обращения к этому варианту.

Требуемый заголовочный файл и библиотека DLL являются частью скачивания веб- [API для Межязыкового доменного имени Майкрософт (IDN)](https://www.microsoft.com/downloads/details.aspx?FamilyID=AD6158D7-DDBA-416A-9109-07607425A815&displaylang=en) , доступного в [центре загрузки MSDN](https://www.microsoft.com/?ref=go).

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows \[Только классические приложения XP\]<br/>                                                                                                                 |
| Минимальная версия сервера<br/> | Windows Только для \[ настольных приложений сервера 2003\]<br/>                                                                                                        |
| Распространяемые компоненты<br/>          | api для межязыкового доменного имени майкрософт (IDN) в Windows XP (SP2 или более поздней версии), Windows Server 2003 (с пакетом обновления 1 (SP1) или более поздней версии) или Windows Vista<br/> |
| Заголовок<br/>                   | <dl> <dt>Идндл. h</dt> </dl>                                                                          |
| DLL<br/>                      | <dl> <dt>Idndl.dll</dt> </dl>                                                                        |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[Поддержка национальных языков](national-language-support.md)
</dt> <dt>

[Функции поддержки национальных языков](national-language-support-functions.md)
</dt> <dt>

[Обработка международных доменных имен (IDNs)](handling-internationalized-domain-names--idns.md)
</dt> <dt>

[**довнлевелжетстрингскриптс**](downlevelgetstringscripts.md)
</dt> <dt>

[**довнлевелверифискриптс**](downlevelverifyscripts.md)
</dt> <dt>

[**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa)
</dt> </dl>

 

 
