---
description: Отправляется в приложение, когда редактор IME возвращает символ результата преобразования. Окно получает это сообщение через функцию WindowProc.
ms.assetid: 1e1353c3-5215-4829-a00a-2fee47a430eb
title: Сообщение WM_IME_CHAR (Winuser. h)
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 337ca982cbd755e01f3dfab465d8b82948dfdbf053a4a7c03417a1d508bc42d5
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119146787"
---
# <a name="wm_ime_char-message"></a>\_Сообщение IME редактора WM \_

Отправляется в приложение, когда редактор IME возвращает символ результата преобразования. Окно получает это сообщение через функцию [**WindowProc**](/previous-versions/windows/desktop/legacy/ms633573(v=vs.85)) .


```C++
LRESULT CALLBACK WindowProc(
 HWND  hwnd,
 WM_IME_CHAR,
 WPARAM wParam,
 LPARAM lParam   
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*HWND* 
</dt> <dd>

Маркер для окна.

</dd> <dt>

*wParam* 
</dt> <dd>

**DBCS:** Однобайтовое или двойное значение символа. Для двухбайтовых символов (BYTE) (wParam >> 8) содержит старший байт. Обратите внимание, что круглые скобки необходимы, поскольку оператор CAST имеет более высокий приоритет, чем оператор сдвига.

**Юникод:** Значение символа Юникода.

</dd> <dt>

*lParam* 
</dt> <dd>

Число повторов, код сканирования, флаг расширенного ключа, код контекста, флаг предыдущего состояния ключа и флаг состояния перехода со значениями, указанными ниже.



| bit   | Значение                                                                              |
|-------|--------------------------------------------------------------------------------------|
| 0—15  | Число повторов. Поскольку первый байт и второй байт непрерывны, это всегда 1. |
| 16—23 | Код проверки для полного азиатского символа.                                            |
| 24    | Расширенный ключ.                                                                        |
| 25-28 | Не используется.                                                                            |
| 29    | Код контекста.                                                                        |
| 30    | Предыдущее состояние ключа.                                                                  |
| 31    | Переходное состояние.                                                                    |



 

</dd> </dl>

## <a name="remarks"></a>Remarks

В отличие от сообщения [**WM \_ char**](../inputdev/wm-char.md) для окна, не поддерживающего Юникод, это сообщение может содержать двухбайтовые и однобайтовые значения. Для окна Юникода это сообщение будет таким же, как WM \_ char.

Если в окне, не поддерживающем Юникод, в \_ сообщении IME редактора WM \_ содержится двухбайтовый символ, а приложение передает это сообщение в [**дефвиндовпрок**](/windows/desktop/api/winuser/nf-winuser-defwindowproca), IME преобразует это сообщение в два \_ сообщения WM char, каждый из которых содержит один байт двухбайтовых символов.

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|----------------------------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows 2000 Professional \[только классические приложения\]<br/>                                               |
| Минимальная версия сервера<br/> | Windows 2000 Server \[только классические приложения\]<br/>                                                     |
| Заголовок<br/>                   | <dl> <dt>Winuser. h (включает Windows. h)</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[Диспетчер метода ввода](input-method-manager.md)
</dt> <dt>

[Сообщения диспетчера методов ввода](input-method-manager-messages.md)
</dt> </dl>

 

 
