---
description: Глобализованное приложение должно определять разнообразные элементы пользовательского интерфейса, такие как меню, диалоговые окна, строки справки и другие элементы, представленные в виде локализованных ресурсов.
ms.assetid: 4d8b769d-0830-4e4e-b284-ce0b21dfe5d4
title: Управление ресурсами MUI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: aeed59c4b835e2c93e5f4cfc9988509349d8b0ee
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105662643"
---
# <a name="mui-resource-management"></a>Управление ресурсами MUI

Глобализованное приложение должно определять разнообразные элементы пользовательского интерфейса, такие как меню, диалоговые окна, строки справки и другие элементы, представленные в виде локализованных ресурсов. Язык пользовательского интерфейса станет одним из параметров приложения. В этом разделе описывается технология ресурсов MUI, которую мы рекомендуем использовать для создания ресурсов приложения.

## <a name="features-of-the-mui-resource-technology"></a>Возможности технологии ресурсов MUI

Технология ресурсов MUI, представленная в Windows Vista и более поздних версиях, имеет следующие характеристики.

-   Файлы ресурсов, относящиеся к конкретному языку, хранятся отдельно от двоичного файла кода приложения, поэтому изменение кода не влияет на ресурсы.
-   Ресурсы для нескольких языков можно развернуть в одной установке или в отдельных установках для каждого языка.
-   Ресурс загружается и отображается в соответствии с языком приложения, заданным пользователем.

Эта технология связывает ресурсы, определенные в файлах конкретного языка, с определенной версией файла, не зависящего от языка (LN). LN-файл — это PE-файл Win32, представляющий двоичные и независимые от языка ресурсы кода приложения. Сопоставление файлов использует контрольную сумму, отраженную в данных конфигурации ресурсов, содержащихся во всех связанных файлах. Загрузчик ресурсов использует контрольную сумму, чтобы убедиться, что файлы содержат одну и ту же версию необходимых ресурсов. Он также проверяет язык в файле, соответствующем конкретному языку, с именем папки. Загрузчик не загружает файл ресурсов, если соответствующая связь не установлена.

В частности, основная контрольная сумма вычисляется по основным и дополнительным номерам версий файла и имени файла (с учетом регистра), которые получаются из ресурса версии. Эта контрольная сумма не должна изменяться между версиями RTM и Service Pack одного и того же компонента. Кроме того, контрольная сумма службы используется для определения соответствующей версии файла ресурсов, предназначенного для конкретного языка, для загрузки. Эта контрольная сумма вычисляется на основе локализуемых ресурсов в файле.

Многоязыковой интерфейс пользователя позволяет использовать две служебные программы для подготовки файлов ресурсов для приложения. Служебная программа для многоязыкового интерфейса пользователя с именем МУИРКТ позволяет создать LN-файл и связанные с ним зависящие от языка файлы ресурсов. В Windows Vista и более поздних версиях компилятор Windows RC также был изменен для создания этих файлов в соответствии с технологией ресурсов MUI. Синтаксис и сведения об этих средствах см. в разделе [Служебные программы](resource-utilities.md).

## <a name="ln-file"></a>LN, файл

LN-файл для приложения MUI содержит исполняемый код и независимые от языка ресурсы, которые являются общими и устанавливаются всеми языковыми версиями приложения.

## <a name="language-specific-resource-file"></a>Файл ресурсов Language-Specific

Файл ресурсов, зависящий от языка, обычно содержит строки пользовательского интерфейса и другие элементы, требующие локализации для определенного языка. Приложение MUI использует один файл ресурсов, зависящий от языка, для каждого поддерживаемого языка. LN-файл для приложения одинаков для каждого файла ресурсов, зависящего от языка.

При построении с использованием технологии ресурсов MUI файлы определенного языка имеют расширение MUI и обрабатываются следующим образом:

-   Зависящие от языка файлы, связанные с заданным LN-файлом, имеют одинаковое имя файла, которое формируется путем добавления расширения MUI в полное имя файла (с расширением) соответствующего LN-файла. Например, LN-файл с именем «Myfile.dll» содержит файлы, зависящие от языка, с именем «Myfile.dll. MUI».
-   Файлы, относящиеся к конкретному языку, находятся во вложенных папках папки, содержащей LN-файл. Имя каждой папки отражает язык.

## <a name="resource-configuration-data"></a>Данные конфигурации ресурсов

Чтобы связать LN-файл с файлами, зависящими от языка, технология ресурсов MUI использует данные конфигурации ресурсов, включая контрольную сумму. Процедура создания ресурсов помещает эти сведения в раздел конфигурации версии-КАНДИДАТа каждого файла LN и конкретного языка. Доступная для человека форма этой информации доступна через служебную программу МУИРКТ. Дополнительные сведения см. в разделе [Служебные программы](resource-utilities.md).

## <a name="related-topics"></a>См. также

<dl> <dt>

[Сведения о многоязычном пользовательском интерфейсе](about-multilingual-user-interface.md)
</dt> <dt>

[Служебные программы](resource-utilities.md)
</dt> </dl>

 

 



