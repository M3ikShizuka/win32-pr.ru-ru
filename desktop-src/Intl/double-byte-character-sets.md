---
description: Двухбайтовая кодировка (DBCS), также известная как &\# 0034; расширяемая 8-разрядная кодировка&\# 0034;, является расширенной однобайтовой кодировкой (SBCS), реализованной в виде кодовой страницы.
ms.assetid: df049d22-02e2-48b2-8b74-52f71c00c549
title: Двухбайтовые кодировки
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 431b762b19f5531644e4bbaace548f34245c9d5c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105684253"
---
# <a name="double-byte-character-sets"></a>Двухбайтовые кодировки

Двухбайтовая кодировка (DBCS), также известная как «расширенная 8-разрядная кодировка», представляет собой расширенную [однобайтовую](single-byte-character-sets.md) кодировку (SBCS), реализованную в виде кодовой страницы. Кодировки DBCS изначально разрабатывались для расширения SBCS-архитектуры, что позволяет работать с такими языками, как японский и китайский. Некоторые символы в двухбайтовой кодировке (DBCS), включая цифры и буквы, используемые для написания английского языка, имеют однобайтовые значения кода. Другие символы, например китайские иероглифы или японские иероглифы, имеют двухбайтовые значения кода. DBCS может соответствовать кодовой странице Windows или кодовой странице OEM. Кодовая страница DBCS также может включать немашинную кодовую страницу, например кодовую страницу EBCDIC. Определения этих кодовых страниц см. в разделе [кодовые страницы](code-pages.md).

> [!Note]  
> Новые приложения Windows должны использовать [Юникод](unicode.md) , чтобы избежать несоответствий между различными кодовыми страницами и простотой локализации. Однако для некоторых устаревших протоколов может потребоваться использовать кодовые страницы DBCS. Каждая кодовая страница DBCS поддерживает разные символы, но ни одна страница не поддерживает полный набор символов, предоставляемых в Юникоде. Каждая кодовая страница DBCS поддерживает разные подмножества, которые кодируются по-разному. Данные, преобразованные из одной кодовой страницы DBCS в другую, подвергаются повреждению, так как одно и то же значение данных на разных кодовых страницах может кодировать другой символ. Данные, преобразованные из Юникода в DBCS, подвергаются утере данных, поскольку данная кодовая страница может не представлять каждый символ, используемый в этих данных в Юникоде.

 

Для интерпретации строки DBCS приложение должно начинаться с начала строки и выполнять проверку вперед. Он отслеживает, когда обнаруживает старший байт в строке, и обрабатывает следующий байт в качестве завершающей части того же символа. Если приложение просто сканирует строку по одному байту и встречает байт, который является значением кода, представляющим обратную косую черту (" \\ "), этот байт может просто быть младшим байтом из двух байт. Приложение не может просто создать резервную копию одного байта, чтобы определить, является ли предыдущий байт старшим байтом, так как это значение может использоваться как старший и младший байт. Таким образом, приложение имеет по сути такую же проблему, как и с возможной обратной косой чертой. Иными словами, поиск по подстрокам гораздо сложнее с двухбайтовой кодировкой, чем с помощью SBCS или Unicode. Соответственно, приложения, поддерживающие DBCS, должны использовать специальные функции, такие как [ \_ мбсстр](/cpp/c-runtime-library/reference/strstr-wcsstr-mbsstr-mbsstr-l), вместо функции [**стрстр**](https://msdn.microsoft.com/library/z9da80kz(v=VS.71).aspx) .

Приложения используют кодовые страницы Windows DBCS с версиями функций Windows "A". См. раздел [соглашения для прототипов функций](conventions-for-function-prototypes.md) и [кодовых страниц](code-pages.md). Для облегчения распознавания кодовой страницы DBCS приложение может использовать функцию [**жеткпинфо**](/windows/desktop/api/Winnls/nf-winnls-getcpinfo) или [**жеткпинфоекс**](/windows/desktop/api/Winnls/nf-winnls-getcpinfoexa) . Приложение может использовать функцию [**исдбкслеадбите**](/windows/desktop/api/Winnls/nf-winnls-isdbcsleadbyte) , чтобы определить, можно ли использовать данное значение в качестве старших байтов из 2-байтового символа. Кроме того, приложение может использовать функции [**MultiByteToWideChar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar) и [**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte) для сопоставления между строками Юникода и DBCS.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Кодировки](character-sets.md)
</dt> <dt>

[Однобайтовые кодировки](single-byte-character-sets.md)
</dt> </dl>

 

 
