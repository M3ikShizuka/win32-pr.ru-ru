---
description: В этом разделе приведены некоторые инструкции по обработке пользовательских языковых стандартов в приложениях.
ms.assetid: 2622e2b3-b952-4666-a440-85d73d11c5e0
title: Работа с пользовательскими языками
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1ab0e59446496ae2985860c0fd6b1bd5bddde084
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103991409"
---
# <a name="working-with-custom-locales"></a>Работа с пользовательскими языками

В этом разделе приведены некоторые инструкции по обработке [пользовательских языковых стандартов](custom-locales.md) в приложениях. Лучше подготовить весь исходный код с учетом этих соображений, так как приложение не контролирует, установлены ли в операционной системе пользовательские языковые стандарты.

## <a name="handle-locale_stime-constant-correctly"></a>Правильно обработайте \_ константу СТИМЕ языкового стандарта

Если имеется более старое приложение, использующее [**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa) для получения устаревшего разделителя времени, указанного в параметре [locale \_ стиме](locale-stime-constants.md), приложение может не выполнить синтаксический анализ формата времени. Помните, что символ, разделяющий часы от минут, отличается от символа, который отделяет минуты от секунд.

> [!Note]  
> При программировании для пользовательских языковых стандартов Помните, что они являются необычными. Практически все поля, доступные для NLS, имеют необычное поведение. Например, формат времени 12H34 "12" является легальным и, как правило, понятным. Но многие приложения делают предположения относительно разделителей времени, которые могут нарушить длину буфера или отобразить поля.

 

## <a name="distinguish-among-supplemental-locales"></a>Различия между дополнительными языками

Все дополнительные языковые стандарты используют [ \_ настраиваемую \_ неопределенную константу локали](locale-custom-constants.md) для [идентификатора локали](locale-identifiers.md). Как правило, [**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa) не может различать дополнительные языковые стандарты, но [**GetLocaleInfoEx**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoex) может использовать вместо идентификаторов языкового стандарта [имена языковых](locale-names.md) стандартов. Приложение может получать сведения о конкретном дополнительном языковом стандарте только в том случае, если выбран языковой стандарт пользователя. Затем приложение может вызвать [**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa) и передать значение [ \_ \_ по умолчанию для пользователя постоянной национальной настройки](locale-user-default.md) в качестве идентификатора локали.

## <a name="handle-replacement-locales"></a>Работа с замещающими языками

Чтобы сохранить надежность Windows, помните, что заменяющий языковой стандарт, поддерживаемый приложением, не может изменить код локали замененного языкового стандарта. Ни один из замещающих языков не может изменить свойства сортировки Windows.

Хотя языковой стандарт замены может изменить календарь по умолчанию, он должен сохранить исходное значение по умолчанию где-либо в списке доступных календарей. Например, в тайском языке (Таиланд) в качестве значения по умолчанию используется тайский буддистский календарь. Администратор может создать заменяющий языковой стандарт, использующий григорианский календарь. Однако список доступных календарей будет содержать запись для тайского буддистского календаря.

Для замещающих языковых стандартов приложение должно, как правило, изучить сведения, зависящие от локали, вместо того, чтобы попытаться «ярлык» на основе знаний определенного языкового стандарта. Например, когда [**жетсреадлокале**](/windows/desktop/api/Winnls/nf-winnls-getthreadlocale) извлекает текущий языковой стандарт как английский (США), это может быть заменяющий языковой стандарт, который должен быть разрешен для вступления в силу.

## <a name="customize-calendars"></a>Настройка календарей

Приложения могут настраивать названия дней и месяцев для григорианского календаря, но не для календарей, отличных от григорианского. Подобным образом NLS не поддерживает создание пользовательских календарей, определяемых пользователем. Дополнительные сведения см. в разделе [Дата и календарь](date-and-calendar.md).

## <a name="handle-sorting-sequences"></a>Обработку последовательностей сортировки

Дополнительный языковой стандарт может использовать любую последовательность сортировки, определенную корпорацией Майкрософт. Языковой стандарт замены должен использовать ту же последовательность сортировки, что и заменяющий языковой стандарт. NLS не поддерживает создание определяемых пользователем последовательностей сортировки. Дополнительные сведения см. [в разделе Обработка сортировки в приложениях](handling-sorting-in-your-applications.md).

## <a name="localize-custom-locale-information"></a>Локализация сведений о пользовательском языковом стандарте

NLS не предоставляет механизм локализации сведений о языковых стандартах. Таким образом, постоянный [языковой стандарт \_ Слангуаже](locale-slanguage.md) или [locale \_ слокализедлангуаженаме](locale-slocalized-constants.md) , используемый в качестве идентификатора локали для пользовательского языкового стандарта, всегда получает значения, связанные с [языковым стандартом \_ снативелангнаме](locale-snative-constants.md) или [языковыми \_ снативелангуаженаме](locale-snative-constants.md).

## <a name="related-topics"></a>См. также

<dl> <dt>

[Поддержка национальных языков](using-national-language-support.md)
</dt> <dt>

[Пользовательские языковые стандарты](custom-locales.md)
</dt> <dt>

[Дата и календарь](date-and-calendar.md)
</dt> <dt>

[Обработка сортировки в приложениях](handling-sorting-in-your-applications.md)
</dt> </dl>

 

 



