---
description: в этом разделе перечислены вызовы, которые поставщики услуг могут внести в клиент Windows sockets.
ms.assetid: a2069814-de95-40a2-ab09-c5187ecd56a7
title: вызовы, предоставляемые библиотеками DLL Windows sockets 2
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1361a8cb7a453ecb0f6aed0f4b71f65e27fce928d147a15152fab5fa5bcd9942
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118993204"
---
# <a name="upcalls-exposed-by-windows-sockets-2-dll"></a>вызовы, предоставляемые библиотеками DLL Windows sockets 2

в этом разделе перечислены вызовы, которые поставщики услуг могут внести в клиент Windows sockets. Поставщики услуг получают таблицу диспетчеризации отправки в качестве параметра функции [**вспстартуп**](/windows/desktop/api/Ws2spi/nf-ws2spi-wspstartup) и используют записи в этой таблице для выполнения вызовов. Таким образом, клиенту не нужно экспортировать свои функции ВПУ.

Поставщики не обязательно используют все эти вызовы. В следующей таблице показано, какие исзываемые вызовы должны использоваться, а какие — необязательные.

| Функция                                                               | Описание                                                                                                              | Состояние                         | Значение                                                                                                                                                                          |
|------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------|--------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**впуклосивент**](/windows/desktop/api/Ws2spi/nf-ws2spi-wpucloseevent)                               | Закрывает открытый обработчик объекта события.                                                                                      | Необязательный элемент.                      | вместо этого поставщик может использовать соответствующий вызов Windows.                                                                                                                     |
| [**впуклосесоккесандле**](/windows/desktop/api/Ws2spi/nf-ws2spi-wpuclosesockethandle)                 | закрывает маркер сокета, выделенный библиотекой Windows сокетов.                                                             | Обязательный.                      | 32.dll Ws2 \_ необходимо запрашивать и (или) изменять внутренние сведения о состоянии, связанные с маркером сокета.                                                                       |
| [**впуклосесреад**](/windows/desktop/api/Ws2spi/nf-ws2spi-wpuclosethread)                             | Закрывает идентификатор потока для внутреннего потока службы.                                                                       |                                |                                                                                                                                                                                  |
| [**впукомплетеоверлаппедрекуест**](/windows/desktop/api/Ws2spi/nf-ws2spi-wpucompleteoverlappedrequest) | Предоставляет уведомление о завершении ввода-вывода с перекрытием, когда механизмом завершения является что-то отличное от режима пользователя APC.    |                                |                                                                                                                                                                                  |
| [**впукреативент**](/windows/desktop/api/Ws2spi/nf-ws2spi-wpucreateevent)                             | Создает новый объект события.                                                                                              | Необязательный элемент.                      | вместо этого поставщик может использовать соответствующий вызов Windows.                                                                                                                        |
| [**впукреатесоккесандле**](/windows/desktop/api/Ws2spi/nf-ws2spi-wpucreatesockethandle)               | Создает новый маркер сокета для поставщиков Нонифс.                                                                        | Требуется для поставщиков Нонифс. | 32.dll Ws2 \_ необходимо запрашивать и (или) изменять внутренние сведения о состоянии, связанные с маркером сокета.                                                                       |
| [**впуфдиссет**](/windows/desktop/api/Ws2spi/nf-ws2spi-wpufdisset)                                     | Проверяет членство указанного маркера сокета.                                                                    | Необязательный элемент.                      | Это просто удобная функция, которая знает, как проанализировать [**структуру \_ наборов**](/windows/desktop/api/winsock/nf-winsock-fd_set) . В любом случае поставщику может потребоваться подробное изучение этих структур. |
| [**впужетпровидерпас**](/windows/desktop/api/Ws2spi/nf-ws2spi-wpugetproviderpath)                     | Извлекает путь к библиотеке DLL для указанного поставщика.                                                                       | Обязательный.                      | Только32.dll Ws2 \_ будет иметь представление о том, где был установлен смежный уровень протокола (возможно, от другого поставщика).                                                           |
| [**впумодифифшандле**](/windows/desktop/api/Ws2spi/nf-ws2spi-wpumodifyifshandle)                     | получает (возможно) измененный обработчик IFS из библиотеки DLL Windows sockets.                                                  | Требуется для поставщиков IFS.    | 32.dll Ws2 \_ необходимо запрашивать и (или) изменять внутренние сведения о состоянии, связанные с маркером сокета.                                                                       |
| [**впупостмессаже**](/windows/desktop/api/Ws2spi/nf-ws2spi-wpupostmessage)                             | Выполняет стандартную функцию [**посообщений**](/windows/win32/api/winuser/nf-winuser-postmessagea) , так как поддерживает обратную совместимость. | Обязательный.                      | только Windows 2000 и Windows NT. Windows 95 разрешает сообщение post из режима ядра.                                                                                               |
| [**впукуериблоккингкаллбакк**](/windows/desktop/api/Ws2spi/nf-ws2spi-wpuqueryblockingcallback)         | Возвращает указатель на блокирующую функцию-ловушку потока.                                                                  | Обязательный.                      | нет соответствующих функциональных возможностей Windows. Только32.dll Ws2 \_ содержит сведения для выполнения этой задачи.                                                                    |
| [**впукуерисоккесандлеконтекст**](/windows/desktop/api/Ws2spi/nf-ws2spi-wpuquerysockethandlecontext)   | Возвращает значение контекста сокета (только поставщики Нонифс).                                                                   | Требуется для поставщиков Нонифс. | 32.dll Ws2 \_ необходимо запрашивать и (или) изменять внутренние сведения о состоянии, связанные с маркером сокета.                                                                       |
| [**впукуеуеапк**](/windows/desktop/api/Ws2spi/nf-ws2spi-wpuqueueapc)                                   | Помещает в очередь значение APC пользовательского режима для указанного потока.                                                                          | Необязательный элемент.                      | Также можно использовать [**куеуеусерапк**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-queueuserapc) .                                                                                                                      |
| [**впуресетевент**](/windows/desktop/api/Ws2spi/nf-ws2spi-wpuresetevent)                               | Сбрасывает объект события.                                                                                                  | Необязательный элемент.                      | вместо этого поставщик может использовать соответствующий вызов Windows.                                                                                                                        |
| [**впусетевент**](/windows/desktop/api/Ws2spi/nf-ws2spi-wpusetevent)                                   | Задает объект события.                                                                                                    | Необязательный элемент.                      | вместо этого поставщик может использовать соответствующий вызов Windows.                                                                                                                        |



 

 

 
