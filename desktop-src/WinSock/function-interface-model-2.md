---
description: Транспорт Windows Sockets и Namespace&\# 8211; поставщики услуг — это библиотеки DLL с единой экспортированной точкой входа для функции инициализации поставщика услуг вспстартуп или нспстартуп соответственно.
ms.assetid: a3422513-92e2-4011-a756-04ed853e9d56
title: Модель интерфейса функции
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4a500de391dd5f65da610ba79d33938443794262
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105701524"
---
# <a name="function-interface-model"></a>Модель интерфейса функции

Транспорт Windows Sockets и пространство имен — поставщики служб — это библиотеки DLL с единой экспортированной точкой входа для функции инициализации поставщика услуг [**вспстартуп**](/windows/desktop/api/Ws2spi/nf-ws2spi-wspstartup) или [**нспстартуп**](/windows/desktop/api/Ws2spi/nf-ws2spi-nspstartup)соответственно. Все остальные функции поставщика услуг становятся доступными для \_32.dll Ws2 через таблицу диспетчеризации поставщика услуг. Библиотеки DLL поставщика услуг загружаются в память Ws2 \_32.dll только при необходимости и выгружаются, когда их службы больше не требуются.

Индекс SPI также определяет несколько обстоятельств, в которых поставщик услуг транспорта вызывает Ws2 \_32.dll (отозванные вызовы) для получения служб поддержки DLL. Библиотека DLL поставщика транспортной службы получает32.dll Ws2ную \_ таблицу диспетчеризации, используя параметр *Упкаллтабле* для [**вспстартуп**](/windows/desktop/api/Ws2spi/nf-ws2spi-wspstartup).

Расширение имени файла для поставщиков служб должно быть изменено с "DLL" на ". WSP "или". NSP ". Это требование не является обязательным. Поставщик услуг по-прежнему будет работать с \_32.dll Ws2 с любым расширением имени файла.

В стандарте Winsock SPI используется следующее соглашение об именовании префикса функции:

| Prefix | Значение                          | Описание                                       |
|--------|----------------------------------|---------------------------------------------------|
| WPS    | Поставщик службы сокетов Windows | Точки входа поставщика услуг транспорта           |
| впу    | Вызов поставщика сокетов Windows  | Ws2 \_32.dll точки входа для поставщиков услуг    |
| WSC    | Конфигурация сокетов Windows    | WS2 \_32.dll точки входа для приложений установки |
| NSP    | Поставщик пространства имен               | Точки входа поставщика пространства имен                   |



 

Как описано выше, эти точки входа не экспортируются (за исключением [**вспстартуп**](/windows/desktop/api/Ws2spi/nf-ws2spi-wspstartup) и [**нспстартуп**](/windows/desktop/api/Ws2spi/nf-ws2spi-nspstartup)), но доступны через обмен таблицами диспетчеризации.

 

 



