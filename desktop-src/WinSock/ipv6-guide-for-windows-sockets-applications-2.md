---
description: в этом руководством содержатся сведения, необходимые для того, чтобы приложение Microsoft Windows использовало следующее поколение протокола ip версии 6 (IPv6).
ms.assetid: 8e862eb0-2ba9-40b0-ac73-fcb0e625965e
title: рекомендации по IPv6 для приложений Windows sockets
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 97c52d86dfcdfa06df80dc71a3f3313de19f9201c7421a3f27f094589a6656dd
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "117741118"
---
# <a name="ipv6-guide-for-windows-sockets-applications"></a>рекомендации по IPv6 для приложений Windows sockets

в этом руководством содержатся сведения, необходимые для того, чтобы приложение Microsoft Windows использовало следующее поколение протокола ip версии 6 (IPv6). Добавление возможности IPv6 в приложение не обязательно является процессом переноса. Чтобы перенести приложение, мы предлагаем изменить код для работы на другой платформе, что подразумевает использование предыдущей платформы. Это краткое справочное по предназначено для упрощения добавления возможностей протокола IPv6 в приложение с сохранением функциональных возможностей IPv4.

В этом руководством обсуждаются проблемы, связанные с добавлением функций IPv6, а затем нацелены на области разработки, которые наиболее подвержены переходу. каждая область получает подробное описание ловушек, которые следует отслеживать, о стратегиях, которые следует избегать, и советы по обеспечению оптимального использования новых [Windows сокетов 2](what-s-new-for-windows-sockets-2.md) программных элементов (функций и структур). Дополнительные сведения об IPv6 см. в разделе [Поддержка IPv6](ipv6-support-2.md).

В этом руководство также приводятся примеры кода, позволяющие получить практические навыки и визуальные представления о проблемах, которые могут возникнуть при изменении приложений. примеры взяты из полного рабочего примера простого приложения Windows sockets, которое было изменено для поддержки IPv4 и IPv6. Исходный код для этих рабочих примеров целиком включен в два приложения в конце этого документа: [приложение а. исходный код](appendix-a-ipv4-only-source-code-2.md) , предназначенный только для IPv4, содержит исходный код приложения до его изменения для поддержки IPv6; [Приложение б. Независимый от IP-версии исходный код](appendix-b-ip-version-agnostic-source-code-2.md) предоставляет исходный код после включения приложения с поддержкой IPv6.

Корпорация Майкрософт предоставляет служебную программу с именем Checkv4.exe, которая помогает найти в коде приложения потенциально переносимый код, а также рекомендации по исправлениям. В этом документе показана служебная программа Checkv4.exe, использующая пример приложения в приложениях, а также снимки экрана, отображающие выходные данные, которые создает служебная программа Checkv4.exe. Дополнительные сведения см. [в разделе Использование служебной программы Checkv4.exe](using-the-checkv4-exe-utility-2.md).

В этом руководство рассматриваются следующие вопросы программирования:

-   [Изменение структур данных для IPv6 Winsock Аппикатионс](changing-data-structures-2.md)
-   [Вызовы функций для IPv6-приложений Winsock](function-calls-2.md)
-   [Использование жестко закодированных IPv4-адресов](use-of-hardcoded-ipv4-addresses-2.md)
-   [Проблемы с пользовательским интерфейсом для IPv6-приложений Winsock](user-interface-issues-2.md)
-   [Базовые протоколы для IPv6-приложений Winsock](underlying-protocols-2.md)
-   [Сокеты с двумя стеками для IPv6-приложений Winsock](dual-stack-sockets.md)

Поскольку не существует унифицированной последовательности событий, разделы, которые устраняют проблемы, связанные с IPv6, не упорядочиваются последовательно, поэтому вы можете ссылаться на любой раздел в любое время. Настоятельно рекомендуется проанализировать каждый раздел при добавлении возможности IPv6 в приложение. Также рекомендуется ознакомиться со служебной программой Checkv4.exe, так как она включает советы по порядку устранения неполадок, связанных с IPv6.

Чтобы ознакомиться с программой Checkv4.exe и просмотреть порядок, в котором следует подходить процесс переноса в приложениях, см. раздел [Использование служебной программы Checkv4.exe](using-the-checkv4-exe-utility-2.md). В этом разделе содержатся сведения о флаге времени компиляции, который строго проверяет элементы программирования, несовместимые с IPv6.

Чтобы перейти непосредственно к примеру приложения, см. [приложение а. исходный код только для IPv4](appendix-a-ipv4-only-source-code-2.md) и [приложение б: независимый от IP-версии исходный код](appendix-b-ip-version-agnostic-source-code-2.md).

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Протокол IP версии 6 (IPv6)](internet-protocol-version-6-ipv6-2.md)
</dt> <dt>

[Поддержка IPv6](ipv6-support-2.md)
</dt> <dt>

[предварительный просмотр технологии IPv6 для Windows 2000](https://www.microsoft.com/downloads/details.aspx?FamilyID=27b1e6a6-bbdd-43c9-af57-dae19795a088)
</dt> <dt>

[Использование служебной программы Checkv4.exe](using-the-checkv4-exe-utility-2.md)
</dt> <dt>

[Приложение а. исходный код только для IPv4](appendix-a-ipv4-only-source-code-2.md)
</dt> <dt>

[Приложение б. Независимый от IP-версии исходный код](appendix-b-ip-version-agnostic-source-code-2.md)
</dt> </dl>

 

 



