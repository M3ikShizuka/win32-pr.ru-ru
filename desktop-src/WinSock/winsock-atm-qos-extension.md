---
description: В этом разделе описывается структура качества обслуживания, зависящая от протокола (QOS) для ATM, которая содержится в поле ПровидерспеЦифик структуры QOS.
ms.assetid: ec7882f7-7197-439a-82a4-ff081505a9d7
title: Расширение службы Winsock ATM
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 422db2df8e4f845086120814f6cf4e6288dcc00c42693eac8da21c466448aaa6
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119612824"
---
# <a name="winsock-atm-qos-extension"></a>Расширение службы Winsock ATM

В этом разделе описывается структура качества обслуживания, зависящая от протокола ([**QoS**](/windows/win32/api/winsock2/ns-winsock2-qos)) для ATM, которая содержится в поле [провидерспеЦифик](/previous-versions/aa374467(v=vs.80)) структуры **QoS** . обратите внимание, что использование этой структуры **QOS** , относящейся к ATM, является необязательным, если клиенты Windows сокеты 2, а поставщик услуг ATM необходим для соответствия универсальной структуры [**фловспек**](/windows/win32/api/qos/ns-qos-flowspec) с соответствующими информационными элементами Q. 2931. Однако если указаны Универсальная структура **фловспек** и структура **QoS** , относящаяся к ATM, то значение, указанное в структуре **QoS** , относящейся к ATM, должно иметь приоритет при наличии конфликтов. дополнительные сведения о подготовке к качеству обслуживания и структуре **фловспек** Windows см. в разделе спецификация API для сокетов 2 2,7.

Зависящая от протокола структура [**обслуживания**](/windows/win32/api/winsock2/ns-winsock2-qos) для ATM представляет собой объединение структур информационного элемента Q. 2931 Information (IE), которые определены в следующем тексте. Если в приложении отсутствует IE, заданное в некотором задании UNI 3. x, поставщик услуг должен вставить разумное значение по умолчанию, принимая во внимание структуру [**фловспек**](/windows/win32/api/qos/ns-qos-flowspec) , если это применимо.

Обработка повторяющихся спецификаций зависит от самого ОБОЗРЕВАТЕЛЯ. Если обозреватель Internet Explorer повторяется и его можно повторить в соответствии со спецификацией ATM Forum UNI, поставщик должен правильно обрабатывать его. В этом случае Order в списке определяет порядок предпочтения, и элементы, показываемые ранее в списке, являются более предпочтительными. Если обозреватель Internet Explorer повторяется и это не разрешено в соответствии со спецификацией ATM Forum UNI, поставщик может либо отдать запрос от клиента (предпочтительный вариант), либо использовать последний IE этого типа.

Каждая отдельная структура IE форматируется следующим образом и определяется полем **иетипе** :

``` syntax
typedef struct {
    Q2931_IE_TYPE IEType;
    ULONG         IELength;
    UCHAR         IE[1];
} Q2931_IE;
```

Допустимые значения для поля **иетипе** определяются следующим образом:

``` syntax
typedef enum {
    IE_AALParameters,
    IE_TrafficDescriptor,
    IE_BroadbandBearerCapability,
    IE_BHLI,
    IE_BLLI,
    IE_CalledPartyNumber,
    IE_CalledPartySubaddress,
    IE_CallingPartyNumber,
    IE_CallingPartySubaddress,
    IE_Cause,
    IE_QOSClass,
    IE_TransitNetworkSelection,
} Q2931_IE_TYPE;
```

Поле **IE** перемещается определенной структурой IE, а поле **иеленгс** — общей длиной в байтах структуры IE, включая поля **иетипе** и **иеленгс** . Семантика и допустимые значения для каждого элемента в этих структурах IE относятся к спецификации ATM UNI 3. x. \_ \_ Отсутствующее поле SAP может использоваться для элементов, которые являются необязательными для данной структуры IE, в соответствии со СПЕЦИФИКАЦИЕЙ ATM UNI 3. x.

 

 
