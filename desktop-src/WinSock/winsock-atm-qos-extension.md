---
description: В этом разделе описывается структура качества обслуживания, зависящая от протокола (QOS) для ATM, которая содержится в поле ПровидерспеЦифик структуры QOS.
ms.assetid: ec7882f7-7197-439a-82a4-ff081505a9d7
title: Расширение службы Winsock ATM
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 075c9dcbd8b9148f41d39c99e2118ed638a577ea
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104144935"
---
# <a name="winsock-atm-qos-extension"></a>Расширение службы Winsock ATM

В этом разделе описывается структура качества обслуживания, зависящая от протокола ([**QoS**](/windows/win32/api/winsock2/ns-winsock2-qos)) для ATM, которая содержится в поле [провидерспеЦифик](/previous-versions/aa374467(v=vs.80)) структуры **QoS** . Обратите внимание, что использование этой структуры **QoS** , относящейся к ATM, является необязательным для клиентов Windows Sockets 2, а поставщик услуг ATM должен сопоставлять универсальную структуру [**фловспек**](/windows/win32/api/qos/ns-qos-flowspec) с соответствующими информационными элементами Q. 2931. Однако если указаны Универсальная структура **фловспек** и структура **QoS** , относящаяся к ATM, то значение, указанное в структуре **QoS** , относящейся к ATM, должно иметь приоритет при наличии конфликтов. Дополнительные сведения о подготовке к качеству обслуживания и структуре **фловспек** см. в разделе Спецификация API Windows Sockets 2 2,7.

Зависящая от протокола структура [**обслуживания**](/windows/win32/api/winsock2/ns-winsock2-qos) для ATM представляет собой объединение структур информационного элемента Q. 2931 Information (IE), которые определены в следующем тексте. Если в приложении отсутствует IE, заданное в некотором задании UNI 3. x, поставщик услуг должен вставить разумное значение по умолчанию, принимая во внимание структуру [**фловспек**](/windows/win32/api/qos/ns-qos-flowspec) , если это применимо.

Обработка повторяющихся спецификаций зависит от самого ОБОЗРЕВАТЕЛЯ. Если обозреватель Internet Explorer повторяется и его можно повторить в соответствии со спецификацией ATM Forum UNI, поставщик должен правильно обрабатывать его. В этом случае Order в списке определяет порядок предпочтения, и элементы, показываемые ранее в списке, являются более предпочтительными. Если обозреватель Internet Explorer повторяется и это не разрешено в соответствии со спецификацией ATM Forum UNI, поставщик может либо отдать запрос от клиента (предпочтительный вариант), либо использовать последний IE этого типа.

Каждая отдельная структура IE форматируется следующим образом и определяется полем **иетипе** :

``` syntax
typedef struct {
    Q2931_IE_TYPE IEType;
    ULONG         IELength;
    UCHAR         IE[1];
} Q2931_IE;
```

Допустимые значения для поля **иетипе** определяются следующим образом:

``` syntax
typedef enum {
    IE_AALParameters,
    IE_TrafficDescriptor,
    IE_BroadbandBearerCapability,
    IE_BHLI,
    IE_BLLI,
    IE_CalledPartyNumber,
    IE_CalledPartySubaddress,
    IE_CallingPartyNumber,
    IE_CallingPartySubaddress,
    IE_Cause,
    IE_QOSClass,
    IE_TransitNetworkSelection,
} Q2931_IE_TYPE;
```

Поле **IE** перемещается определенной структурой IE, а поле **иеленгс** — общей длиной в байтах структуры IE, включая поля **иетипе** и **иеленгс** . Семантика и допустимые значения для каждого элемента в этих структурах IE относятся к спецификации ATM UNI 3. x. \_ \_ Отсутствующее поле SAP может использоваться для элементов, которые являются необязательными для данной структуры IE, в соответствии со СПЕЦИФИКАЦИЕЙ ATM UNI 3. x.

 

 
