---
title: Разрешение имен для библиотек DLL и поставщиков служб
description: Следующие абзацы описывают, как \_32.dll Ws2 и поставщики пространств имен реализуют службы разрешения имен, ПОДДЕРЖИВАЕМЫЕ API Winsock.
ms.assetid: 25fcb1c2-2d28-41a0-9124-05608f22420f
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e9f0ecd7e40d27d6dd9faa541bbca8f7543e6538702599de78a64104f10b1c90
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "120097714"
---
# <a name="name-resolution-for-dll-and-service-providers"></a>Разрешение имен для библиотек DLL и поставщиков служб

Следующие абзацы описывают, как \_32.dll Ws2 и поставщики пространств имен реализуют службы разрешения имен, ПОДДЕРЖИВАЕМЫЕ API Winsock.

## <a name="ws2_32dll-functionality-for-name-resolution"></a>\_Функции32.dll Ws2 для разрешения имен

Ws2 \_32.dll управляет загрузкой регистраций и требованием загрузки отдельных библиотек DLL поставщика пространства имен. кроме того, он отвечает за операции с пространством имен маршрутизации из приложения Windows sockets 2 в соответствующий набор поставщиков пространства имен. Это сопоставление регулируется значениями параметров пространства имен и идентификатора поставщика услуг, которые находятся в отдельных функциях API. Как правило, при ссылке на конкретный поставщик пространства имен операция направляется только в идентифицированный поставщик. Если идентификатор поставщика пространства имен имеет значение null, но имеется ссылка на определенное пространство имен, операция направляется во все поставщики пространств имен, поддерживающие идентифицированное пространство имен. Если идентификатор поставщика пространства имен равен null, а идентификатор пространства имен задан как NS \_ ALL, операция направляется во все активные поставщики пространства имен.

В процессе запуска запроса к одному или нескольким поставщикам услуг Ws2 \_32.dll выделяет объект для отслеживания текущего состояния запроса. Непрозрачный маркер, представляющий этот объект, возвращается приложению, которое запустило запрос. Приложение предоставляет этот обработчик как параметр при каждом повторном вызове функции интерфейса приложения для получения следующей единицы данных, полученной из запроса.

В ответ на эти вызовы процедур интерфейса приложения Ws2 \_32.dll использует информацию, которая хранится в объекте, для выполнения соответствующих вызовов к поставщикам пространства имен, вовлеченным в запрос. Ws2 \_32.dll обновляет сведения в своем объекте при каждом последовательном вызове интерфейса приложения, чтобы соответствующие вызовы поставщиков пространств имен выполнялись соответствующим образом с помощью всех поставщиков пространства имен, вовлеченных в запрос.

## <a name="namespace-provider-functionality"></a>Функциональные возможности поставщика пространства имен

каждый поставщик пространства имен отвечает за сопоставление набора функций, отображаемых в Windows сокетах 2 разрешения имен SPI, с соответствующими транзакциями с поддерживаемым пространством имен. В некоторых случаях это важно для сопоставления SPI с любым собственным интерфейсом, существующим для пространства имен. В других случаях поставщик пространства имен должен провести транзакции с поставщиком пространства имен по сети. некоторые поставщики пространств имен делают это, выполнив вызовы API-интерфейса сокетов Windows, другие будут использовать частные интерфейсы для связанных транспортных стеков.

 

 



