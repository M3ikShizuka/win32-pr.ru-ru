---
title: Разрешение имен для библиотек DLL и поставщиков служб
description: Следующие абзацы описывают, как \_32.dll Ws2 и поставщики пространств имен реализуют службы разрешения имен, ПОДДЕРЖИВАЕМЫЕ API Winsock.
ms.assetid: 25fcb1c2-2d28-41a0-9124-05608f22420f
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b527f0849eb441ab7bc8d096c0198d703f2ce337
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103991112"
---
# <a name="name-resolution-for-dll-and-service-providers"></a>Разрешение имен для библиотек DLL и поставщиков служб

Следующие абзацы описывают, как \_32.dll Ws2 и поставщики пространств имен реализуют службы разрешения имен, ПОДДЕРЖИВАЕМЫЕ API Winsock.

## <a name="ws2_32dll-functionality-for-name-resolution"></a>\_Функции32.dll Ws2 для разрешения имен

Ws2 \_32.dll управляет загрузкой регистраций и требованием загрузки отдельных библиотек DLL поставщика пространства имен. Он также отвечает за операции по пространству имен, переданные из приложения Windows Sockets 2 в соответствующий набор поставщиков пространства имен. Это сопоставление регулируется значениями параметров пространства имен и идентификатора поставщика услуг, которые находятся в отдельных функциях API. Как правило, при ссылке на конкретный поставщик пространства имен операция направляется только в идентифицированный поставщик. Если идентификатор поставщика пространства имен имеет значение null, но имеется ссылка на определенное пространство имен, операция направляется во все поставщики пространств имен, поддерживающие идентифицированное пространство имен. Если идентификатор поставщика пространства имен равен null, а идентификатор пространства имен задан как NS \_ ALL, операция направляется во все активные поставщики пространства имен.

В процессе запуска запроса к одному или нескольким поставщикам услуг Ws2 \_32.dll выделяет объект для отслеживания текущего состояния запроса. Непрозрачный маркер, представляющий этот объект, возвращается приложению, которое запустило запрос. Приложение предоставляет этот обработчик как параметр при каждом повторном вызове функции интерфейса приложения для получения следующей единицы данных, полученной из запроса.

В ответ на эти вызовы процедур интерфейса приложения Ws2 \_32.dll использует информацию, которая хранится в объекте, для выполнения соответствующих вызовов к поставщикам пространства имен, вовлеченным в запрос. Ws2 \_32.dll обновляет сведения в своем объекте при каждом последовательном вызове интерфейса приложения, чтобы соответствующие вызовы поставщиков пространств имен выполнялись соответствующим образом с помощью всех поставщиков пространства имен, вовлеченных в запрос.

## <a name="namespace-provider-functionality"></a>Функциональные возможности поставщика пространства имен

Каждый поставщик пространства имен отвечает за сопоставление набора функций, отображаемых в SPI разрешения имен Windows Sockets 2, с соответствующими транзакциями с поддерживаемым пространством имен. В некоторых случаях это важно для сопоставления SPI с любым собственным интерфейсом, существующим для пространства имен. В других случаях поставщик пространства имен должен провести транзакции с поставщиком пространства имен по сети. Некоторые поставщики пространств имен делают это, выполнив вызовы API-интерфейса сокетов Windows, другие будут использовать частные интерфейсы для связанных транспортных стеков.

 

 



