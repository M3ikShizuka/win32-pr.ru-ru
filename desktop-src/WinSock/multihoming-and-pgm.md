---
description: Особое внимание должно быть уделено многосетевым отправителям или получателям PGM. На этой странице описываются рекомендации и приводятся рекомендации по оптимальным методикам программирования.
ms.assetid: 10fb56dd-3c96-4944-9b53-aee76c269528
title: Многосайтовое и PGM
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 142527c7fdf3e5d34d80c51e4002bc21ad47691c
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127172583"
---
# <a name="multihoming-and-pgm"></a>Многосайтовое и PGM

Особое внимание должно быть уделено многосетевым отправителям или получателям PGM. На этой странице описываются рекомендации и приводятся рекомендации по оптимальным методикам программирования.

## <a name="multihomed-pgm-sender"></a>Многосетевой отправитель PGM

Когда приложению не удается указать интерфейс при вызове функции [**Connect**](/windows/desktop/api/Winsock2/nf-winsock2-connect) , используется первый доступный интерфейс. Если интерфейс недоступен, **Подключение** не выполняется.

Если приложение указывает интерфейс с помощью параметра [RM \_ Set \_ Send \_](socket-options.md) , то попытка [**привязки**](/windows/desktop/api/winsock/nf-winsock-bind) выполняется НЕЯВНО к этому интерфейсу с помощью TCP/IP и завершается ошибкой, если TCP/IP не может выполнить запрос на привязку. Если интерфейс задается с помощью команды RM \_ Set \_ Send \_ несколько раз, применяется только последний набор интерфейсов.

Windows Сокеты сохраняют, какой интерфейс задан, и если этот интерфейс исчезает, сеанс отключается.

## <a name="multihomed-pgm-receiver"></a>Многосетевой приемник PGM

Когда приложению не удается указать интерфейс при вызове функции [**Listen**](/windows/desktop/api/Winsock2/nf-winsock2-listen) , используется интерфейс по умолчанию. Если интерфейс недоступен, произойдет сбой [**привязки**](/windows/desktop/api/winsock/nf-winsock-bind) .

если приложение указывает один или несколько интерфейсов для прослушивания, при помощи команды [RM \_ ADD \_ RECEIVE \_ ](socket-options.md), Windows сокеты пытаются выполнить привязку к запрашиваемому интерфейсу или интерфейсам по протоколу TCP/IP. Любая ошибка из TCP/IP приводит к сбою запроса. В отличие от случая отправителя PGM, Добавление интерфейса получения несколько раз приводит к тому, что прослушивает все успешно добавленные интерфейсы. Используйте команду RM \_ Del \_ Receive, \_ Если сокет используется для прекращения прослушивания интерфейса.

Windows Сокеты не поддерживают состояние нескольких указанных интерфейсов прослушивания, а вместо этого используют TCP/IP. однако после выполнения сеанса Windows сокеты отписывают входящий интерфейс для этого сеанса, и если этот интерфейс исчезает, Windows сокеты отключают сеанс.

 

 



