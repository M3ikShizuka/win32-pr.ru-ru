---
description: Указывает дескриптор сокета, используемый запросами Send и Receive с зарегистрированными расширениями ввода-вывода Winsock.
ms.assetid: 50E9516C-6078-4466-A593-3F29E4783740
title: RIO_RQ (Мсвсоккдеф. h)
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: c25abebbe40842532f3cca180868b5b3786e756d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104344742"
---
# <a name="rio_rq"></a>Рио \_ РК

**Рио \_ РК** typedef указывает дескриптор сокета, используемый запросами Send и Receive с зарегистрированными расширениями ввода-вывода Winsock.


```C++
typedef struct RIO_RQ_t* RIO_RQ, **PRIO_RQ;
```



<dl> <dt>

**Рио \_ РК**
</dt> <dd>

Тип данных, указывающий дескриптор сокета, используемый для запросов send и Receive.

</dd> </dl>

## <a name="remarks"></a>Комментарии

Зарегистрированные расширения ввода-вывода Winsock работают главным образом с объектом **Рио \_ РК** , а не с сокетом. Приложение получает **Рио \_ РК** для существующего сокета с помощью функции [**риокреатерекуесткуеуе**](/windows/win32/api/mswsock/nc-mswsock-lpfn_riocreaterequestqueue) . Входной сокет должен быть создан путем вызова функции [**всасоккет**](/windows/desktop/api/Winsock2/nf-winsock2-wsasocketa) с флагом **WSA \_ \_ Рио** , установленным в параметре *dwFlags* .

После получения объекта **\_ РК Рио** базовый дескриптор сокета остается действительным. Приложение может продолжать использовать базовый сокет для установки и запроса параметров сокета, выдавать запросы IOCTL и в конечном итоге закрывать сокет.

> [!Note]  
> В целях повышения эффективности доступ к очередям завершения (структурам [**Рио \_ КК**](riocqueue.md) ) и очередям запросов (**Рио \_ РК** структуры) не защищается примитивами синхронизации. Если необходимо получить доступ к очереди завершения или запросов из нескольких потоков, доступ должен координироваться критическим разделом, упрощенной блокировкой записи чтения или аналогичным механизмом. Эта блокировка не требуется для доступа в одном потоке. Различные потоки могут обращаться к отдельным запросам или очередям завершения без блокировок. Необходимость в синхронизации происходит только в том случае, если несколько потоков пытаются получить доступ к одной и той же очереди. Синхронизация также необходима, если несколько потоков отправляют и получают на одном сокете, так как операции отправки и получения используют очередь запросов сокета.

 

[**Рио \_ РК**](riocqueue.md) typedef определяется в файле заголовка *мсвсоккдеф. h* , который автоматически включается в заголовочный файл *мсвсокк. h* . Файл заголовка *мсвсоккдеф. h* никогда не должен использоваться напрямую.

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|-------------------------------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | \[Только классические приложения Windows 8\]<br/>                                                                  |
| Минимальная версия сервера<br/> | \[Только для настольных приложений Windows Server 2012\]<br/>                                                        |
| Header<br/>                   | <dl> <dt>Мсвсоккдеф. h (включение Мсвсокк. h)</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[**риокреатерекуесткуеуе**](/windows/win32/api/mswsock/nc-mswsock-lpfn_riocreaterequestqueue)
</dt> <dt>

[**риорецеиве**](/windows/win32/api/mswsock/nc-mswsock-lpfn_rioreceive)
</dt> <dt>

[**риорецеивикс**](/windows/win32/api/mswsock/nc-mswsock-lpfn_rioreceiveex)
</dt> <dt>

[**риоресизерекуесткуеуе**](/previous-versions/windows/desktop/legacy/hh437204(v=vs.85))
</dt> <dt>

[**риосенд**](/windows/win32/api/mswsock/nc-mswsock-lpfn_riosend)
</dt> <dt>

[**риосендекс**](/previous-versions/windows/desktop/legacy/hh437216(v=vs.85))
</dt> <dt>

[**всасоккет**](/windows/desktop/api/Winsock2/nf-winsock2-wsasocketa)
</dt> </dl>

 

 
