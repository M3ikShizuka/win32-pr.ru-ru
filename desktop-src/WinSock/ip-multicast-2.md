---
description: Многоадресная рассылка IP-адресов попадает в категорию некорневой плоскости данных и некорневой плоскости управления.
ms.assetid: 474a1c7f-0ece-4192-a2d9-6e2f3df2ac02
title: Многоадресная рассылка IP
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3bf9469822ae974b7c616b7904f9dc7120682acb
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105701513"
---
# <a name="ip-multicast"></a>Многоадресная рассылка IP

Многоадресная рассылка IP-адресов попадает в категорию некорневой плоскости данных и некорневой плоскости управления. Все приложения играют конечную роль. В настоящее время большинство реализаций многоадресной IP-рассылки используют набор параметров сокета, предлагаемых Стив Диринг в стандарте Task Engineering Force (IETF). Таким образом становятся доступны пять операций:

-   \_TTL многоадресной IP-рассылки \_ — задает срок жизни, управляет областью многоадресного сеанса.
-   IP \_ multicast \_ , если — определяет интерфейс, используемый для многоадресной рассылки.
-   IP \_ Add \_ мемберши — присоединяется к указанному сеансу многоадресной рассылки.
-   Членство IP-адресов \_ \_ — удаляется из сеанса многоадресной рассылки.
-   \_Многоадресный \_ цикл IP — управляет замыканием многоадресного трафика.

Настройка срока жизни для сокета IP-адресов напрямую сопоставляется с использованием \_ кода команды многоадресной области ввода-вывода в \_ [**всаиоктл**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl).

Метод определения IP-интерфейса, используемого для многоадресной рассылки, заключается в использовании параметра сокета, зависящего от TCP/IP, как описано в приложении Windows Sockets 2 Protocol-Specific. Остальные три операции хорошо покрываются с семантикой Windows Sockets 2, описанной здесь.

Приложение будет открывать сокеты с \_ \_ флагами конечных листов c конечными или d в [**всасоккет**](/windows/desktop/api/Winsock2/nf-winsock2-wsasocketa). Он будет использовать [**всажоинлеаф**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) для добавления себя в группу многоадресной рассылки в интерфейсе по умолчанию, предназначенном для многоадресных операций. Если флаг в **всажоинлеаф** указывает, что этот сокет является только отправителем, то операция соединения является, по сути, отсутствием операции и не требует отправки сообщений IGMP. В противном случае пакет IGMP отправляется маршрутизатору для указания на получение пакетов, отправляемых на указанный адрес многоадресной рассылки. Так как приложение создало специальные \_ \_ конечные сокеты c или d, используемые только для многоадресной рассылки, для удаления многоадресного сеанса будет использоваться стандартная функция [**функции closesocket**](/windows/desktop/api/winsock/nf-winsock-closesocket) . \_ \_ Код команды обратного замыкания на себя для [**всаиоктл**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) предоставляет универсальный механизм управления для определения того, можно ли получить данные, отправляемые на \_ конечный сокет d в некорневой схеме MULTIPOINT, на одном сокете.

> [!Note]  
> Версия Winsock \_ параметра "цикл многоадресной рассылки IP" \_ семантически отличается от версии UNIX \_ параметра цикла многоадресной IP-рассылки \_ :

 

-   В Winsock \_ параметр "цикл многоадресной рассылки IP-адресов" \_ применяется только к пути получения.
-   В версии UNIX \_ параметр цикл многоадресной рассылки IP \_ применяется к пути отправки.

Например, приложения, ВКЛЮЧЕНные и ОТКЛЮЧЕНные (которые легче отслеживанию по сравнению с X и Y), присоединяются к одной группе в одном интерфейсе. приложение ON задает параметр " \_ цикл многоадресной рассылки IP-адресов" \_ , приложение отключено задает \_ параметр "цикл многоадресной рассылки IP-адресов" \_ . Если ON и OFF являются приложениями Winsock, OFF могут отправлять данные на ON, но не могут отсылаться на OFF. В отличие от этого, если включены и ОТКЛЮЧЕНы приложения UNIX, на может быть отправлено в состояние OFF, но отключить нельзя.

 

 



