---
description: Протокол TCP/IP имеет характеристики, позволяющие использовать его в качестве стандартизированных требований к реализации.
ms.assetid: 6e9b3878-85f0-4572-9c00-a2e7647286ff
title: Характеристики TCP/IP
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 561ab497d6f37c1c84b0203088b29e216ff0a69f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "103910579"
---
# <a name="tcpip-characteristics"></a>Характеристики TCP/IP

Протокол TCP/IP имеет характеристики, позволяющие использовать его в качестве стандартизированных требований к реализации. Эти характеристики могут сочетаться с вариантами разработки, что приводит к снижению производительности. Влияние этих характеристик TCP/IP на приложение зависит от того, является ли приложение транзакционным или потоковым.

На транзакционные приложения влияют накладные расходы, необходимые для установки соединения и завершения его работы. Например, при каждом установлении подключения в сети Ethernet необходимо отправить три пакета примерно 60 байта, а для Exchange требуется примерно один RTT. При завершении соединения происходит обмен четырьмя пакетами. Это для каждого подключения; приложение, которое открывает и закрывает соединения, часто приводит к такой нагрузке при каждом возникновении.

Другой аспект TCP/IP — это *замедляют запуск*, который выполняется при каждом установлении соединения. Замедляют-Start — искусственное ограничение количества сегментов данных, которые могут быть отправлены до получения подтверждения этих сегментов. Процесс с пониженным запуском предназначен для ограничения перегрузки сети. При установлении соединения по протоколу Ethernet, независимо от размера окна получателя, передача на 4 КБ может занять до 3-4 RTT из-за медленного запуска.

Оптимизация TCP/IP, называемая алгоритмом Nagle, также может ограничить скорость передачи данных для соединения. Алгоритм Nagle предназначен для уменьшения нагрузки на протоколы для приложений, отправляющих небольшие объемы данных, таких как Telnet, который отправляет по одному символу за раз. Вместо немедленной отправки пакета с большим количеством заголовков и небольшими данными стек ожидает больше данных от приложения или подтверждения, прежде чем продолжить.

Отложенные подтверждения, обычно называемые *отложенным подтверждением*, также разрабатываются в протоколе TCP/IP, чтобы обеспечить более эффективную пиггибаккинг подтверждений, когда возвращаемые данные поступают из принимающего приложения. К сожалению, если эти данные не являются готовыми и отправитель ожидает подтверждения, может возникнуть задержка примерно 200 мс на отправку.

При закрытии подключения TCP ресурсы подключения на узле, который инициировал закрытие, переносятся в состояние ожидания, которое называется временем ожидания, чтобы защититься от повреждения данных в случае, если в сети имеются дублирующиеся пакеты. Это гарантирует, что оба конца будут завершены с подключением. Это может привести к исчерпанию ресурсов, необходимых для каждого подключения, например ОЗУ и портов, когда приложения часто открывают и закрывают подключения.

Помимо затронутых отложенных ПОДТВЕРЖДЕНий и других схем предотвращения перегрузки, для потоковых приложений также может повлиять слишком маленький размер окна приема по умолчанию на принимающей стороне.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Поведение приложения](application-behavior-2.md)
</dt> <dt>

[Высокопроизводительные приложения Windows Sockets](high-performance-windows-sockets-applications-2.md)
</dt> <dt>

[Алгоритм Nagle](https://msdn.microsoft.com/library/ms817942.aspx)
</dt> </dl>

 

 



