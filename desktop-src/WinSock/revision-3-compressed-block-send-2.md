---
description: В этой версии приложения используется сжатый блок отправки данных. Это изменение приводит к значительному улучшению производительности.
ms.assetid: 3f0a129b-5b67-4334-a0aa-cd80ee7018b9
title: Редакция 3. сжатый блок отправки
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 657579406ed31fce08239c518a6910f525219fdf
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105702094"
---
# <a name="revision-three-compressed-block-send"></a>Редакция 3. сжатый блок отправки

В этой версии приложения используется сжатый блок отправки данных. Это изменение приводит к значительному улучшению производительности.


```C++
BYTE tmp[3*ROWS*COLS];
FIELD Old = Map;
ComputeNext( Map );
n=Compact(Map,Old,tmp);
bind( s, ... );
connect( s, ... );
send( s, tmp, 3*n );
//can't do recv(s,tmp,n)
for(int i=0; i < n; )
    recv( s, tmp+i, n-i );
closesocket( s );
```



## <a name="changes-in-this-version"></a>Изменения в этой версии

Эта версия отражает следующие изменения:

-   Обновления ячеек больше не сериализуются.
-   Так как используется блочная отправка, приложение больше не находится в чате.
-   Используется сжатие данных, что приводит к уменьшению объема приложения FAT.

По-прежнему существует проблема с этой версией приложения; риск возникновения взаимоблокировки, так как при использовании большой отправки не получается. Сервер отправляет один байт для каждого полученного 3 байта. Это может привести к взаимоблокировке, если размер буфера получения меньше 1000 байт для этого примера приложения.

## <a name="key-performance-metrics"></a>Ключевые метрики производительности

Следующие метрики производительности выражаются в времени кругового пути (RTT), Гудпут и служебных издержках. Описание этих терминов см. в разделе [терминология сети](network-terminology-2.md) .

Эта версия отражает следующие метрики производительности.

-   Время ожидания в ячейке — \* . 002
-   Гудпут — 2 КБ/RTT
-   Нагрузка на протоколы — 14%

Из 14% накладных расходов 6% из заголовков Ethernet, а другая 8% — с запуска и уничтожения подключения.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Повышение скорости работы приложения](improving-a-slow-application-2.md)
</dt> <dt>

[Терминология сети](network-terminology-2.md)
</dt> <dt>

[Базовая версия: очень плохо выполняемое приложение](the-baseline-version-a-very-poor-performing-application-2.md)
</dt> <dt>

[Редакция 1. Очистка очевидных](revision-1-cleaning-up-the-obvious-2.md)
</dt> <dt>

[Редакция 2. перепроектирование для уменьшения количества подключений](revision-2-redesigning-for-fewer-connects-2.md)
</dt> <dt>

[Будущие улучшения](future-improvements-2.md)
</dt> </dl>

 

 



