---
description: Содержит подробные сведения о интерфейсе, который требуется клиенту RPC.
ms.assetid: 92e734f3-eacb-44dc-9016-88dc6e9f04b6
title: Структура INTF_ENTRY (Взксапи. h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- INTF_ENTRY
api_type:
- HeaderDef
api_location:
- wzcsapi.h
ms.openlocfilehash: e08efc8c95374f268efe21f963357e9c4f34ae35
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104543559"
---
# <a name="intf_entry-structure"></a>\_Структура записи intf

\[**Intf \_ ЗАПИСЬ** больше не поддерживается в Windows Vista и Windows Server 2008. Вместо этого используйте [собственный интерфейс API Wi-Fi](native-wifi-reference.md), который предоставляет аналогичные функциональные возможности. Дополнительные сведения см. [в статье о встроенном API Wi-Fi](about-the-native-wifi-api.md).\]

Содержит подробные сведения о интерфейсе, который требуется клиенту RPC.

## <a name="syntax"></a>Синтаксис


```C++
typedef struct {
  LPWSTR   wszGuid;
  LPWSTR   wszDescr;
  DWORD    dwContext;
  ULONG    ulMediaState;
  ULONG    ulMediaType;
  ULONG    ulPhysicalMediaType;
  INT      nInfraMode;
  INT      nAuthMode;
  INT      nWepStatus;
  DWORD    dwCtlFlags;
  DWORD    dwDynFlags;
  DWORD    dwCapabilities;
  RAW_DATA rdNicCapabilities;
  RAW_DATA rdSSID;
  RAW_DATA rdBSSID;
  RAW_DATA rdBSSIDList;
  RAW_DATA rdStSSIDList;
  RAW_DATA rdCtrlData;
} INTF_ENTRY, *PINTF_ENTRY;
```



## <a name="members"></a>Члены

<dl> <dt>

**всзгуид**
</dt> <dd>

Указатель на идентификатор GUID интерфейса, представленный в виде строки в Юникоде в следующем формате: "{XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX}".

</dd> <dt>

**всздескр**
</dt> <dd>

Указатель на строку, содержащую описание интерфейса, которое извлекается службой настройки беспроводной связи (ВЗКСВК).

</dd> <dt>

**двконтекст**
</dt> <dd>

Зарезервировано для внутреннего использования.

</dd> <dt>

**улмедиастате**
</dt> <dd>

Текущее состояние подключения носителя NDIS для интерфейса. В следующей таблице приводятся возможные значения.



| Значение                                                                                                                                                                                                                                                  | Значение                                |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|
| <span id="MEDIA_STATE_CONNECTED_"></span><span id="media_state_connected_"></span><dl> <dt> **\_ Состояние носителя \_ подключено**</dt> <dt>1</dt> </dl>       | Носитель подключен.<br/>     |
| <span id="MEDIA_STATE_DISCONNECTED"></span><span id="media_state_disconnected"></span><dl> <dt>**Носитель \_ СОСТОЯНИЕ " \_ отключено**</dt> <dt>0</dt> " </dl> | Носитель отключен.<br/>  |
| <span id="MEDIA_STATE_UNKNOWN"></span><span id="media_state_unknown"></span><dl> <dt>**Носитель \_ \_Неизвестное состояние**</dt> <dt>-1</dt> </dl>               | Состояние носителя неизвестно.<br/> |



 

</dd> <dt>

**улмедиатипе**
</dt> <dd>

Типы носителей NDIS, используемые в настоящее время сетевым адаптером. При запросе значение этого элемента равно **NdisMedium802 \_ 3** , как определено в файле заголовка *ндиспнп. h* .

</dd> <dt>

**улфисикалмедиатипе**
</dt> <dd>

Тип носителя NDIS для интерфейса. При запросе значение этого элемента равно **ндисфисикалмедиумвирелесслан** , как определено в файле заголовка *ндиспнп. h* .

</dd> <dt>

**нинфрамоде**
</dt> <dd>

Текущий режим инфраструктуры 802,11, установленный для интерфейса.

</dd> <dt>

**наусмоде**
</dt> <dd>

Текущий режим проверки подлинности 802,11, установленный для интерфейса.

В следующей таблице приведены возможные значения параметра, основанного на перечислении **\_ \_ \_ \_ режима аутентификации NDIS 802 11** , определенного в файле заголовка *нтддндис. h* .



| Значение                                                                                                                                                                                                                                                                                                            | Значение                                                                                                                                                                                                                                                 |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="Ndis802_11AuthModeOpen"></span><span id="ndis802_11authmodeopen"></span><span id="NDIS802_11AUTHMODEOPEN"></span><dl> <dt>**Ndis802 \_ 11AuthModeOpen**</dt> <dt>1</dt> </dl>                         | Аутентификация IEEE 802,11 Open System.<br/>                                                                                                                                                                                                      |
| <span id="Ndis802_11AuthModeShared"></span><span id="ndis802_11authmodeshared"></span><span id="NDIS802_11AUTHMODESHARED"></span><dl> <dt>**Ndis802 \_ 11AuthModeShared**</dt> <dt>2</dt> </dl>                 | Общая проверка подлинности IEEE 802,11, использующая ключ WEP. <br/>                                                                                                                                                |
| <span id="Ndis802_11AuthModeAutoSwitch"></span><span id="ndis802_11authmodeautoswitch"></span><span id="NDIS802_11AUTHMODEAUTOSWITCH"></span><dl> <dt>**Ndis802 \_ 11AuthModeAutoSwitch**</dt> <dt>3</dt> </dl> | Режим автоматического переключения. При использовании режима автоматического переключения адаптер беспроводной сети (NIC) сначала пытается использовать режим общей проверки подлинности. В случае сбоя общего режима сетевая карта пытается использовать режим открытой проверки подлинности. <br/>                                    |
| <span id="Ndis802_11AuthModeWPA"></span><span id="ndis802_11authmodewpa"></span><span id="NDIS802_11AUTHMODEWPA"></span><dl> <dt>**Ndis802 \_ 11AuthModeWPA**</dt> <dt>4</dt> </dl>                             | Безопасность защиты доступа к сети (WPA). Проверка подлинности выполняется между запрашивающим стороной, средством проверки подлинности и сервером аутентификации через IEEE 802.1 X. Ключи шифрования являются динамическими и являются производными от процесса проверки подлинности. <br/>     |
| <span id="Ndis802_11AuthModeWPAPSK"></span><span id="ndis802_11authmodewpapsk"></span><span id="NDIS802_11AUTHMODEWPAPSK"></span><dl> <dt>**Ndis802 \_ 11AuthModeWPAPSK**</dt> <dt>5</dt> </dl>                 | Безопасность WPA с использованием общего ключа. Проверка подлинности выполняется между запрашивающей стороной и проверкой подлинности по стандарту IEEE 802.1 X. Ключи шифрования являются динамическими и являются производными с помощью предварительно общего ключа, используемого запрашивающей стороной и средством проверки подлинности. <br/> |
| <span id="Ndis802_11AuthModeWPANone"></span><span id="ndis802_11authmodewpanone"></span><span id="NDIS802_11AUTHMODEWPANONE"></span><dl> <dt>**Ndis802 \_ 11AuthModeWPANone**</dt> <dt>6</dt> </dl>             | Безопасность WPA. Проверка подлинности выполняется с помощью предварительного ключа без проверки подлинности IEEE 802.1 X. Ключи шифрования являются статическими и являются производными через общий ключ. Этот режим применим только к типам сетей ad hoc. <br/>             |
| <span id="Ndis802_11AuthModeWPA2"></span><span id="ndis802_11authmodewpa2"></span><span id="NDIS802_11AUTHMODEWPA2"></span><dl> <dt>**Ndis802 \_ 11AuthModeWPA2**</dt> <dt>7</dt> </dl>                         | Безопасность WPA2. Проверка подлинности выполняется между запрашивающим стороной, средством проверки подлинности и сервером аутентификации через IEEE 802.1 X. Ключи шифрования являются динамическими и являются производными от процесса проверки подлинности. <br/>                               |
| <span id="Ndis802_11AuthModeWPA2PSK"></span><span id="ndis802_11authmodewpa2psk"></span><span id="NDIS802_11AUTHMODEWPA2PSK"></span><dl> <dt>**Ndis802 \_ 11AuthModeWPA2PSK**</dt> <dt>8</dt> </dl>             | Указывает безопасность WPA2. Проверка подлинности выполняется между запрашивающей стороной и проверкой подлинности через IEEE 802 1X. Ключи шифрования являются динамическими и являются производными с помощью предварительно общего ключа, используемого запрашивающей стороной и средством проверки подлинности. <br/>             |
| <span id="Ndis802_11AuthModeMax"></span><span id="ndis802_11authmodemax"></span><span id="NDIS802_11AUTHMODEMAX"></span><dl> <dt>**Ndis802 \_ 11AuthModeMax**</dt> <dt>9</dt> </dl>                             | Максимально возможное значение перечисления **\_ \_ \_ \_ режима проверки подлинности NDIS 802 11** . Это недопустимое значение для режима проверки подлинности. <br/>                                                                                        |



 

</dd> <dt>

**нвепстатус**
</dt> <dd>

Текущий режим шифрования 802,11, установленный для интерфейса.

</dd> <dt>

**двктлфлагс**
</dt> <dd>

Битовая маска управляющего флага, указывающая, как ВЗКСВК работает в интерфейсе.

В следующей таблице приведены возможные значения битов.



| Значение                                                                                                                                                                                                                                 | Значение                                                                                                                                                                                                                                                                                     |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="INTFCTL_CM_MASK"></span><span id="intfctl_cm_mask"></span><dl> <dt>**Интфктл \_ 0x0007 \_ маски cm**</dt> <dt></dt> </dl>      | Битовая маска для режима сетевого фильтра. ИНТФКТЛ \_ cm \_ Mask & двктлфлагс в результате имеет значение типа " \_ \_ сетевая инфраструктура NDIS 802 11" \_ \_ . Полученное значение указывает, подключается ли ВЗКСВК к сетям инфраструктуры, сетям прямого подключения или к обоим типам сетей.<br/> |
| <span id="INTFCTL_ENABLED"></span><span id="intfctl_enabled"></span><dl> <dt>**Интфктл \_ ВКЛЮЧЕНО**</dt> <dt>0x8000</dt> </dl>       | Указывает, должен ли ВЗКСВК настраивать интерфейс.<br/>                                                                                                                                                                                                                         |
| <span id="INTFCTL_FALLBACK"></span><span id="intfctl_fallback"></span><dl> <dt>**Интфктл \_ РЕЗЕРВный**</dt> <dt>0x4000</dt> </dl>    | Если Предпочитаемая сеть недоступна, это значение указывает, должна ли ВЗКСВК автоматически настраивать сетевой адаптер для связи с любой доступной сетью.<br/>                                                                                                                       |
| <span id="INTFCTL_OIDSSUPP_"></span><span id="intfctl_oidssupp_"></span><dl> <dt> **Интфктл \_ оидссупп**</dt> <dt>0x2000</dt> </dl> | Указывает, поддерживает ли драйвер NIC все 802,11 OID, необходимые для работы ВЗКСВК.<br/>                                                                                                                                                                                    |
| <span id="INTFCTL_VOLATILE_"></span><span id="intfctl_volatile_"></span><dl> <dt> **Интфктл \_ volatile**</dt> <dt>0x1000</dt> </dl> | Указывает, должны ли параметры службы для этого интерфейса храниться в реестре. <br/> Если это значение задано, эти параметры являются временными и не должны храниться в реестре.<br/>                                                                 |
| <span id="INTFCTL_POLICY_"></span><span id="intfctl_policy_"></span><dl> <dt>0x0800</dt> <dt> **\_ Политика интфктл**</dt> </dl>       | Указывает, передаются ли параметры службы для этого интерфейса групповой политикой.<br/> Если это значение задано, параметры службы помещаются на локальный компьютер с помощью групповой политики.<br/>                                                                         |
| <span id="INTFCTL_8021XSUPP"></span><span id="intfctl_8021xsupp"></span><dl> <dt>**Интфктл \_ 8021XSUPP**</dt> <dt>0x1000</dt> </dl> | Указывает, включена ли поддержка 802.1 X.<br/>                                                                                                                                                                                                                                     |



 

</dd> <dt>

**двдинфлагс**
</dt> <dd>

Битовая маска динамических флагов, управляющих динамическим (непостоянным и нестатическим) поведением интерфейса.

Эти биты полезны для активации динамических, временных изменений в способе, которым ВЗКСВК работает в интерфейсе. Ни один из этих битов не сохраняется в реестре, поэтому параметры не сохранятся при перезапуске системы или отключении устройства и включении последовательности.

В следующей таблице приведены возможные значения битов.



| Значение                                                                                                                                                                                                                            | Значение                                                                                                                                            |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="INTFDYN_NOSCAN"></span><span id="intfdyn_noscan"></span><dl> <dt>**Интфдин \_ Несканирование**</dt> <dt>0x00000001</dt> </dl> | Указывает, что ВЗКСВК не должен запрашивать у интерфейса активную проверку, а вместо этого использовать кэшированные значения в драйвере сетевого адаптера.<br/> |



 

</dd> <dt>

**двкапабилитиес**
</dt> <dd>

Указывает возможности драйвера.



| Значение                                                                                                                                                                                                                                                         | Значение                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="INTFCAP_MAX_CIPHER_MASK"></span><span id="intfcap_max_cipher_mask"></span><dl> <dt>**Интфкап \_ 0x000000ff \_ максимальной \_ маски шифра**</dt> <dt></dt> </dl> | Младшие биты этого элемента используются для указания максимального поддерживаемого шифрования. Возможные значения — это некоторые значения перечисления, определенные в структуре **\_ \_ \_ \_ состояния WEP 802 11** в файле заголовка *нтддндис. h* , который содержится в Windows SDK.<br/> Значение Ndis802 \_ 11Encryption1Enabled (2) указывает, что поддерживается WEP. TKIP и AES не поддерживаются, а ключ передачи может быть недоступен. <br/> Значение Ndis802 \_ 11Encryption2Enabled (9) указывает, что поддерживаются протоколы TKIP и WEP. Алгоритм AES не поддерживается, и доступен ключ передачи. <br/> Значение Ndis802 \_ 11Encryption3Enabled (11) указывает, что поддерживаются AES, TKIP и WEP, а также доступен ключ передачи. <br/> Ndis802 \_ 11EncryptionNotSupported (8) указывает, что WEP-ключ не поддерживается. <br/> |
| <span id="INTFCAP_SSN"></span><span id="intfcap_ssn"></span><dl> <dt>**Интфкап \_**</dt> <dt>0x00000100</dt> SSN </dl>                                       | Указывает поддержку для простой безопасной сети (SSN), которая является подмножеством стандарта 802.11 i. <br/> SSN периодически изменяет ключ шифрования, в отличие от стандарта WEP (Wired Equivalent Privacy), который использует статический ключ. Чтобы использовать SSN, максимальный поддерживаемый шифр должен быть не менее TKIP. SSN был разработан консорциумом по поставщикам 2002 в качестве промежуточного подхода к повышению безопасности беспроводных локальных сетей во время выполнения стандарта IEEE 802.11 i.<br/>                                                                                                                                                                                                                                                                                                                                                                                            |
| <span id="INTFCAP_80211I"></span><span id="intfcap_80211i"></span><dl> <dt>**Интфкап \_ 80211I**</dt> <dt>0x00000200</dt> </dl>                              | Обозначает поддержку стандарта IEEE 802.11 i.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |



 

</dd> <dt>

**рдниккапабилитиес**
</dt> <dd>

Набор возможностей для 802.11 i.

Функция [**взккуеринтерфаце**](wzcqueryinterface.md) возвращает данные **рдниккапабилитиес** при вызове с флагом **intf \_ CAPABILITIES** , переданным в параметр *двинфлагс* . Если вызов функции выполнен успешно, элемент **pData** в структуре **необработанных \_ данных** содержит структуру **возможностей intf \_ 80211 \_** .

</dd> <dt>

**рдссид**
</dt> <dd>

Двоичные данные, содержащие SSID 802,11, которые в настоящее время настроены для интерфейса.

Функция [**взккуеринтерфаце**](wzcqueryinterface.md) возвращает данные **рдссид** при вызове с флагом **\_ SSID intf** , переданным в параметр *двинфлагс* . Если вызов функции выполнен успешно, элемент **двдатален** структуры **необработанных \_ данных** содержит элемент **ссидленгс** структуры **\_ \_ \_ SSID NDIS 802 11** , а элемент **pData** структуры **необработанных \_ данных** содержит элемент **SSID** в структуре **NDIS \_ 802 \_ 11 \_** .

Структура **\_ \_ \_ SSID NDIS 802 11** определена в файле заголовка *нтддндис. h* .

</dd> <dt>

**рдбссид**
</dt> <dd>

Двоичные данные, содержащие параметр BSSID 802,11, настроенный в интерфейсе.

Функция [**взккуеринтерфаце**](wzcqueryinterface.md) возвращает данные **рдбссид** при вызове с флагом **\_ BSSID intf** , переданным в параметр *двинфлагс* . Если вызов функции выполнен успешно, элемент **двдатален** структуры **необработанных \_ данных** содержит размер структуры **\_ \_ \_ Mac- \_ адреса (NDIS 802 11** ), а элемент **PData** в структуре **необработанных \_ данных** содержит структуру **\_ \_ \_ Mac- \_ адреса NDIS 802 11** .

Структура **\_ \_ \_ Mac- \_ адреса в NDIS 802 11** определена в файле заголовка *нтддндис. h* .

</dd> <dt>

**рдбссидлист**
</dt> <dd>

Двоичные данные, содержащие список Бссидс, которые были в последний раз извлечены ВЗКСВК.

Функция [**взккуеринтерфаце**](wzcqueryinterface.md) возвращает данные **рдбссидлист** при вызове с флагом **intf \_ бссидлист** , переданным в параметре *двинфлагс* . Если вызов функции выполнен успешно, элемент **двдатален** структуры **необработанных \_ данных** содержит длину буфера с возвращаемыми данными, а элемент **pData** в структуре **необработанных \_ данных** содержит структуру **\_ \_ \_ \_ списка конфигурации ВЗК 802 11** .

</dd> <dt>

**рдстссидлист**
</dt> <dd>

Двоичные данные, содержащие список предпочитаемых сетей, настроенных для этого интерфейса.

Функция [**взккуеринтерфаце**](wzcqueryinterface.md) возвращает данные **рдстссидлист** при вызове с флагом **intf \_ префлист** , переданным в параметре *двинфлагс* . Если вызов функции выполнен успешно, элемент **двдатален** структуры **необработанных \_ данных** содержит длину буфера с возвращаемыми данными, а элемент **pData** в структуре **необработанных \_ данных** содержит структуру **\_ \_ \_ \_ списка конфигурации ВЗК 802 11** .

Если в настоящее время подключена одна из предпочитаемых сетей, то в качестве члена **двктлфлагс** в структуре **\_ \_ конфигурации WLAN ВЗК** для сети будет установлен бит **взкктл \_ Media \_ Connected** (0x0400).

</dd> <dt>

**рдктрлдата**
</dt> <dd>

Двоичные данные, используемые с другими флагами управления, при установке дополнительных параметров интерфейса.

</dd> </dl>

## <a name="remarks"></a>Комментарии

Структура **\_ записи intf** используется функциями [**взккуеринтерфаце**](wzcqueryinterface.md) и [**взкрефрешинтерфаце**](wzcrefreshinterface.md) .

Структура **необработанных \_ данных** определяется следующим образом:


```C++
typedef struct
{
    DWORD   dwDataLen;
    LPBYTE  pData;
} RAW_DATA, *PRAW_DATA;
```



Элемент *pData* указывает на двоичные данные. *Двдатален* указывает число байтов, на которые указывает *pData*.

> [!Note]  
> Файл заголовка *взксапи. h* недоступен в Windows SDK.

 

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|--------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Только для настольных приложений Windows XP с пакетом обновления 2 \[\]<br/>                                 |
| Минимальная версия сервера<br/> | \[Только для настольных приложений Windows Server 2003\]<br/>                                 |
| Окончание поддержки клиента<br/>    | Windows XP с пакетом обновления 3 (SP3)<br/>                                                       |
| Поддержка конца сервера<br/>    | Windows Server 2003<br/>                                                       |
| Header<br/>                   | <dl> <dt>Взксапи. h</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[**взценуминтерфацес**](wzcenuminterfaces.md)
</dt> <dt>

[**взккуеринтерфаце**](wzcqueryinterface.md)
</dt> <dt>

[**взкрефрешинтерфаце**](wzcrefreshinterface.md)
</dt> </dl>

 

 




