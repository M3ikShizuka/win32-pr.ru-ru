---
title: Пространства имен объектов ядра
description: Службы удаленных рабочих столов использует несколько пространств имен для объектов ядра; глобальное пространство имен используется главным образом службами в клиентских и серверных приложениях.
ms.assetid: 771e0bbf-bd73-4e87-aa1e-945c1287b517
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 82e1064638844039091dbe93aa1fedc75cb93f4aa1d012f8864e0154673c6cc4
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119989084"
---
# <a name="kernel-object-namespaces"></a>Пространства имен объектов ядра

Сервер службы удаленных рабочих столов имеет несколько пространств имен для следующих именованных объектов ядра: события, семафоры, мьютексы, ожидающие таймеры, объекты сопоставления файлов и объекты заданий. Существует глобальное пространство имен, используемое главным образом службами в клиентских и серверных приложениях. кроме того, каждый сеанс клиента имеет отдельное пространство имен для этих объектов, например в Windows Vista.

Отдельные пространства имен клиентских сеансов позволяют нескольким клиентам запускать одни и те же приложения, не мешая друг другу. Для процессов, запущенных в сеансе клиента, по умолчанию система использует пространство имен сеанса. Однако эти процессы могут использовать глобальное пространство имен, добавляя префикс "Global \\ " к имени объекта. Например, следующий код вызывает функцию [**CreateEvent**](/windows/desktop/api/synchapi/nf-synchapi-createeventa) и создает объект события с именем ксапп в глобальном пространстве имен:

> [!Note]  
> глобальное пространство имен недоступно для приложений магазина Windows.

 

`CreateEvent( NULL, FALSE, FALSE, "Global\\CSAPP" );`

Приложения службы в среде службы удаленных рабочих столов по умолчанию используют глобальное пространство имен.

Нулевой сеанс используется только для служб размещения, а сеанс консоли отсутствует, в отличие от предыдущих версий Windows.

Глобальное пространство имен позволяет процессам в нескольких клиентских сеансах взаимодействовать с приложением службы. Например, приложение клиента/сервера может использовать объект Mutex для синхронизации. Серверный модуль может создать объект Mutex в глобальном пространстве имен. Затем клиентский сеанс может использовать глобальный \\ префикс для открытия объекта Mutex.

Кроме того, глобальное пространство имен используется для приложений, использующих именованные объекты, чтобы обнаружить, что экземпляр приложения, выполняющегося в системе, уже запущен во всех сеансах. Этот именованный объект должен быть создан или открыт в глобальном пространстве имен вместо пространства имен для каждого сеанса. Наиболее распространенный случай запуска приложения по одному сеансу поддерживается по умолчанию, так как именованный объект создается в пространстве имен каждого сеанса.

В дополнение к "глобальному \\ " префиксу клиентские процессы могут использовать префикс "Local \\ " для явного создания объекта в пространстве имен сеанса. В этих ключевых словах учитывается регистр.

Префикс "Session \\ " зарезервирован для использования системой, и его не следует использовать в именах объектов ядра.

Быстрое переключение пользователей реализуется с помощью службы удаленных рабочих столов сеансов. Первый пользователь, воменяющий в систему, использует сеанс 1, следующий пользователь для входа в систему использует сеанс 2 и т. д. Имена объектов ядра должны соответствовать рекомендациям, описанным в службы удаленных рабочих столов, чтобы приложения поддерживали несколько пользователей.

Создание объекта сопоставления файлов в глобальном пространстве имен с помощью [**CreateFileMapping**](/windows/desktop/api/winbase/nf-winbase-createfilemappinga)из сеанса, отличного от нулевого сеанса, является привилегированной операцией. Поэтому в приложении, работающем на произвольном сеансе удаленный рабочий стол узла сеансов (удаленных рабочих столов), необходимо включить [секреатеглобалпривилеже](/windows/desktop/SecAuthZ/authorization-constants) , чтобы успешно создать объект сопоставления файлов в глобальном пространстве имен. Проверка прав ограничена созданием объектов сопоставления файлов и не применяется к открытию существующих. Например, если служба или система создает объект сопоставления файлов, любой процесс, выполняющийся в любом сеансе, может получить доступ к этому объекту сопоставления файлов при условии, что у пользователя есть необходимый доступ.

 

 