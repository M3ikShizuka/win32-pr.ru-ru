---
title: Метод Update класса Win32_TSGatewayConnectionAuthorizationPolicy
description: Обновляет текущую политику авторизации подключений удаленный рабочий стол (RD \ 160; CAP).
ms.assetid: 6d13d1b7-1c7d-4d22-b42c-36e0f4446e86
ms.tgt_platform: multiple
keywords:
- службы удаленных рабочих столов метода обновления
- Метод Update службы удаленных рабочих столов, класс Win32_TSGatewayConnectionAuthorizationPolicy
- Класс Win32_TSGatewayConnectionAuthorizationPolicy службы удаленных рабочих столов, метод Update
topic_type:
- apiref
api_name:
- Win32_TSGatewayConnectionAuthorizationPolicy.Update
api_location:
- AagWmi.dll
api_type:
- COM
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 87b982030170e954342dc5ff99754dcb89afd0e3
ms.sourcegitcommit: a1494c819bc5200050696e66057f1020f5b142cb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/12/2020
ms.locfileid: "104071698"
---
# <a name="update-method-of-the-win32_tsgatewayconnectionauthorizationpolicy-class"></a>Метод Update \_ класса Win32 тсгатевайконнектионаусоризатионполици

Обновляет текущую политику авторизации подключений удаленный рабочий стол.

## <a name="syntax"></a>Синтаксис


```mof
uint32 Update(
  [in] string  Name,
  [in] string  UserGroupNames,
  [in] string  ComputerGroupNames,
  [in] boolean SmartCard,
  [in] boolean Password,
  [in] boolean SecureId,
  [in] boolean Enabled,
  [in] uint32  DeviceRedirectionType,
  [in] boolean DiskDrivesDisabled,
  [in] boolean PrintersDisabled,
  [in] boolean SerialPortsDisabled,
  [in] boolean ClipboardDisabled,
  [in] boolean PlugAndPlayDevicesDisabled,
  [in] uint32  IdleTimeout,
  [in] uint32  SessionTimeout,
  [in] uint32  SessionTimeoutAction,
  [in] boolean AllowOnlySDRServers,
  [in] boolean CookieAuthentication
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*Имя* \[ окне\]
</dt> <dd>

Имя политики авторизации подключений к удаленному рабочему столу. Имя должно содержать 64 символов или меньше, уникально (регистр игнорируется) и не может включать следующие зарезервированные символы:

<> :; " / \\ \| ? \*\[Вкладка\]

</dd> <dt>

*Усерграупнамес* \[ окне\]
</dt> <dd>

Список имен групп пользователей, разделенных точкой с запятой. Имена имеют формат *домена \\ усерграупнаме*. Если пользователь принадлежит к одной из этих групп пользователей, ему будет разрешен доступ к серверу шлюза удаленных рабочих столов.

</dd> <dt>

*Компутерграупнамес* \[ окне\]
</dt> <dd>

Список имен групп компьютеров, разделенных точкой с запятой. Это значение может быть пустым. Имена имеют формат *домена \\ компутерграупнаме*. Если указано значение, клиентский компьютер должен принадлежать к одной из этих групп компьютеров, чтобы пользователь был доступен на сервере шлюза удаленных рабочих столов.

</dd> <dt>

*Смарт-карта* \[ окне\]
</dt> <dd>

Указывает, можно ли использовать смарт-карты для проверки подлинности на сервере шлюза удаленных рабочих столов.

</dd> <dt>

*Пароль* \[ окне\]
</dt> <dd>

Указывает, можно ли использовать пароли для проверки подлинности на сервере шлюза удаленных рабочих столов.

</dd> <dt>

*SecureId* \[ окне\]
</dt> <dd>

Этот параметр зарезервирован для использования в будущем.

</dd> <dt>

*Включено* \[ окне\]
</dt> <dd>

Указывает, включена ли политика авторизации подключений к удаленному рабочему столу.

</dd> <dt>

*Девицередиректионтипе* \[ окне\]
</dt> <dd>

Указывает, какие типы устройств будут перенаправляться.

<dt>

0
</dt> <dd>

Все устройства будут перенаправляться.

</dd> <dt>

1
</dt> <dd>

Устройства не будут перенаправлены.

</dd> <dt>

2
</dt> <dd>

Указанные устройства не будут перенаправляться. Параметры *дискдривесдисаблед*, *принтерсдисаблед*, *сериалпортсдисаблед*, *клипбоарддисаблед* и *плугандплайдевицесдисаблед* определяют, какие устройства не будут перенаправляться.

</dd> </dl> </dd> <dt>

*Дискдривесдисаблед* \[ окне\]
</dt> <dd>

Указывает, следует ли отключать перенаправление диска, если параметр *девицередиректионтипе* имеет значение 2.

</dd> <dt>

*Принтерсдисаблед* \[ окне\]
</dt> <dd>

Указывает, следует ли отключать перенаправление принтера, если параметр *девицередиректионтипе* имеет значение 2.

</dd> <dt>

*Сериалпортсдисаблед* \[ окне\]
</dt> <dd>

Указывает, следует ли отключить перенаправление последовательного порта, если параметр *девицередиректионтипе* имеет значение 2.

</dd> <dt>

*Клипбоарддисаблед* \[ окне\]
</dt> <dd>

Указывает, следует ли отключить перенаправление буфера обмена, если параметр *девицередиректионтипе* имеет значение 2.

</dd> <dt>

*Плугандплайдевицесдисаблед* \[ окне\]
</dt> <dd>

Указывает, следует ли отключать перенаправление устройств самонастраивающийся, если параметр *девицередиректионтипе* имеет значение 2.

</dd> <dt>

*IdleTimeout* \[ окне\]
</dt> <dd>

Значение времени ожидания простоя в минутах

</dd> <dt>

*SessionTimeout* \[ окне\]
</dt> <dd>

Значение времени ожидания сеанса в минутах

</dd> <dt>

*Сессионтимеаутактион* \[ окне\]
</dt> <dd>

Действие времени ожидания сеанса (в минутах)

</dd> <dt>

*Алловонлисдрсерверс* \[ окне\]
</dt> <dd>

Разрешены ли подключения только к серверам служб терминалов SDR

</dd> <dt>

*Кукиеаусентикатион* \[ окне\]
</dt> <dd>

Указывает, можно ли использовать проверку подлинности файлов cookie для подключения к серверу шлюза служб терминалов

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Если метод завершается с ошибкой, он возвращает ноль. Если метод завершился неудачно, он возвращает ненулевое значение. Список кодов ошибок см. в разделе [службы удаленных рабочих столов коды ошибок поставщика WMI](terminal-services-wmi-provider-error-codes.md).

## <a name="remarks"></a>Комментарии

Для вызова этого метода необходимо быть членом группы администраторов.

Файлы MOF-файл (MOF) содержат определения для классов инструментарий управления Windows (WMI) (WMI). MOF-файлы не устанавливаются в составе пакета средств разработки программного обеспечения Microsoft Windows (SDK). Они устанавливаются на сервере при добавлении связанной роли с помощью диспетчер сервера. Дополнительные сведения о файлах MOF см. в разделе [MOF-файл (MOF)](/windows/desktop/WmiSdk/managed-object-format--mof-).

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|------------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Ни одна версия не поддерживается<br/>                                                                |
| Минимальная версия сервера<br/> | Windows Server 2008<br/>                                                           |
| Пространство имен<br/>                | Корневой \\ CIMv2 \\ терминалсервицес<br/>                                                 |
| MOF<br/>                      | <dl> <dt>TSGateway. mof</dt> </dl> |
| DLL<br/>                      | <dl> <dt>AagWmi.dll</dt> </dl>    |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[**\_Тсгатевайконнектионаусоризатионполици Win32**](win32-tsgatewayconnectionauthorizationpolicy.md)
</dt> </dl>

 

