---
title: Класс Win32_TSDeploymentSettings
description: Определяет параметры по умолчанию, используемые диспетчер удаленных приложений RemoteApp при создании файлов протокол удаленного рабочего стола (RDP).
ms.assetid: b3eeef86-e6cb-40ea-99f8-200c5993f31e
ms.tgt_platform: multiple
keywords:
- Класс Win32_TSDeploymentSettings службы удаленных рабочих столов
- Службы удаленных рабочих столов класса Win32_TSDeploymentSettings, описание
topic_type:
- apiref
api_name:
- Win32_TSDeploymentSettings
- Win32_TSDeploymentSettings.Caption
- Win32_TSDeploymentSettings.Description
- Win32_TSDeploymentSettings.InstallDate
- Win32_TSDeploymentSettings.Name
- Win32_TSDeploymentSettings.Status
- Win32_TSDeploymentSettings.Port
- Win32_TSDeploymentSettings.FarmName
- Win32_TSDeploymentSettings.GatewayUsage
- Win32_TSDeploymentSettings.GatewayName
- Win32_TSDeploymentSettings.GatewayAuthMode
- Win32_TSDeploymentSettings.GatewayUseCachedCreds
- Win32_TSDeploymentSettings.RequireServerAuth
- Win32_TSDeploymentSettings.ColorBitDepth
- Win32_TSDeploymentSettings.AllowFontSmoothing
- Win32_TSDeploymentSettings.UseMultimon
- Win32_TSDeploymentSettings.RedirectionOptions
- Win32_TSDeploymentSettings.HasCertificate
- Win32_TSDeploymentSettings.CertificateHash
- Win32_TSDeploymentSettings.CertificateIssuedTo
- Win32_TSDeploymentSettings.CertificateIssuedBy
- Win32_TSDeploymentSettings.CertificateExpiresOn
- Win32_TSDeploymentSettings.CustomRDPSettings
- Win32_TSDeploymentSettings.DeploymentRDPSettings
api_location:
- TsPubWmi.dll
api_type:
- DllExport
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 5a3f5b5cde779cbd9b8120fa648138611236935080f3517a28a6f19dcee8864b
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118349312"
---
# <a name="win32_tsdeploymentsettings-class"></a>\_Класс Win32 тсдеплойментсеттингс

Определяет параметры по умолчанию, используемые диспетчер удаленных приложений RemoteApp при создании файлов протокол удаленного рабочего стола (RDP). Эти параметры не влияют на опубликованные приложения или рабочие столы.

## <a name="syntax"></a>Синтаксис

``` syntax
class Win32_TSDeploymentSettings : CIM_LogicalElement
{
  string   Caption;
  string   Description;
  datetime InstallDate;
  string   Name;
  string   Status;
  sint32   Port;
  string   FarmName;
  sint32   GatewayUsage;
  string   GatewayName;
  sint32   GatewayAuthMode;
  boolean  GatewayUseCachedCreds;
  boolean  RequireServerAuth;
  sint32   ColorBitDepth;
  boolean  AllowFontSmoothing;
  boolean  UseMultimon;
  sint32   RedirectionOptions;
  boolean  HasCertificate;
  uint8    CertificateHash[];
  string   CertificateIssuedTo;
  string   CertificateIssuedBy;
  string   CertificateExpiresOn;
  string   CustomRDPSettings;
  string   DeploymentRDPSettings;
};
```

## <a name="members"></a>Члены

Класс **Win32 \_ тсдеплойментсеттингс** имеет следующие типы членов:

-   [Свойства](#properties)

### <a name="properties"></a>Элемент Property

Класс **Win32 \_ тсдеплойментсеттингс** имеет следующие свойства.

<dl> <dt>

**алловфонтсмусинг**
</dt> <dd> <dl> <dt>

Тип данных: **логический**
</dt> <dt>

Тип доступа: чтение и запись
</dt> </dl>

Указывает, разрешено ли сглаживание шрифтов.

</dd> <dt>

**Caption**
</dt> <dd> <dl> <dt>

Тип данных: **строка**
</dt> <dt>

Тип доступа: только для чтения
</dt> <dt>

Квалификаторы: [**maxlen**](/windows/desktop/WmiSdk/standard-qualifiers) (64)
</dt> </dl>

Краткое описание (однострочная строка) объекта.

Это свойство наследуется от [**CIM \_ манажедсистемелемент**](cim-managedsystemelement.md).

</dd> <dt>

**цертификатикспиресон**
</dt> <dd> <dl> <dt>

Тип данных: **строка**
</dt> <dt>

Тип доступа: чтение и запись
</dt> </dl>

Дата истечения срока действия сертификата. Это значение хранится в формате 64-разрядного [**fileTime**](/windows/desktop/api/minwinbase/ns-minwinbase-filetime) .

</dd> <dt>

**CertificateHash**
</dt> <dd> <dl> <dt>

Тип данных: массив **Uint8**
</dt> <dt>

Тип доступа: чтение и запись
</dt> </dl>

Отпечаток сертификата, который используется для подписи RDP-файлов.

</dd> <dt>

**цертификатеиссуедби**
</dt> <dd> <dl> <dt>

Тип данных: **строка**
</dt> <dt>

Тип доступа: чтение и запись
</dt> </dl>

Указывает, кому выдан сертификат.

</dd> <dt>

**цертификатеиссуедто**
</dt> <dd> <dl> <dt>

Тип данных: **строка**
</dt> <dt>

Тип доступа: чтение и запись
</dt> </dl>

Указывает, кому выдан сертификат.

</dd> <dt>

**колорбитдепс**
</dt> <dd> <dl> <dt>

Тип данных: **Sint32**
</dt> <dt>

Тип доступа: чтение и запись
</dt> </dl>

Глубина цветового бита дисплея. Возможные значения: 4, 8, 15, 16, 24 и 32.

</dd> <dt>

**кустомрдпсеттингс**
</dt> <dd> <dl> <dt>

Тип данных: **строка**
</dt> <dt>

Тип доступа: чтение и запись
</dt> </dl>

содержимое rdp-файла, соответствующего настраиваемому Параметрыу rdp в диспетчер удаленных приложений RemoteApp.

</dd> <dt>

**деплойментрдпсеттингс**
</dt> <dd> <dl> <dt>

Тип данных: **строка**
</dt> <dt>

Тип доступа: чтение и запись
</dt> </dl>

Содержимое RDP-файла, соответствующего параметрам развертывания в диспетчер удаленных приложений RemoteApp. Если задано это значение, параметры развертывания RDP заменяют параметры по умолчанию в этом классе. Например, если задать свойство **гатевайаусмоде** в этом классе и задать свойство **деплойментрдпсеттингс** , то свойство **гатевайаусмоде** из этого класса будет игнорироваться и будет использоваться значение **гатевайаусмоде** из **деплойментрдпсеттингс** .

</dd> <dt>

**Описание**
</dt> <dd> <dl> <dt>

Тип данных: **строка**
</dt> <dt>

Тип доступа: только для чтения
</dt> </dl>

Описание объекта.

Это свойство наследуется от [**CIM \_ манажедсистемелемент**](cim-managedsystemelement.md).

</dd> <dt>

**фармнаме**
</dt> <dd> <dl> <dt>

Тип данных: **строка**
</dt> <dt>

Тип доступа: чтение и запись
</dt> </dl>

Имя сервера узла сеансов удаленных рабочих столов или полное доменное имя фермы серверов узла сеансов удаленных рабочих столов.

</dd> <dt>

**гатевайаусмоде**
</dt> <dd> <dl> <dt>

Тип данных: **Sint32**
</dt> <dt>

Тип доступа: чтение и запись
</dt> </dl>

Метод проверки подлинности шлюза удаленных рабочих столов. Возможны следующие значения.

<dt>

0
</dt> <dd>

Пароль

</dd> <dt>

1
</dt> <dd>

Смарт-карта

</dd> <dt>

4
</dt> <dd>

Разрешить пользователю выбирать во время подключения.

</dd> </dl>

</dd> <dt>

**GatewayName**
</dt> <dd> <dl> <dt>

Тип данных: **строка**
</dt> <dt>

Тип доступа: чтение и запись
</dt> </dl>

Имя сервера шлюза удаленных рабочих столов для использования.

</dd> <dt>

**гатевайусаже**
</dt> <dd> <dl> <dt>

Тип данных: **Sint32**
</dt> <dt>

Тип доступа: чтение и запись
</dt> </dl>

Указывает, следует ли использовать сервер шлюза удаленных рабочих столов для подключения к целевому серверу узла сеансов удаленных рабочих столов через брандмауэр. Возможны следующие значения.

<dt>

0
</dt> <dd>

Не используйте сервер шлюза удаленных рабочих столов.

</dd> <dt>

1
</dt> <dd>

Используйте сервер шлюза удаленных рабочих столов. Обход сервера шлюза удаленных рабочих столов для локальных адресов.

</dd> <dt>

2
</dt> <dd>

Используйте сервер шлюза удаленных рабочих столов.

</dd> <dt>

3
</dt> <dd>

Автоматическое определение параметров сервера шлюза удаленных рабочих столов.

</dd> </dl>

</dd> <dt>

**гатевайусекачедкредс**
</dt> <dd> <dl> <dt>

Тип данных: **логический**
</dt> <dt>

Тип доступа: чтение и запись
</dt> </dl>

По возможности используйте те же учетные данные пользователя для сервера шлюза удаленных рабочих столов и сервера узла сеансов удаленных рабочих столов.

</dd> <dt>

**хасцертификате**
</dt> <dd> <dl> <dt>

Тип данных: **логический**
</dt> <dt>

Тип доступа: чтение и запись
</dt> </dl>

Указывает, следует ли использовать сертификат для подписывания RDP-файлов.

</dd> <dt>

**InstallDate**
</dt> <dd> <dl> <dt>

Тип данных: **DateTime**
</dt> <dt>

Тип доступа: только для чтения
</dt> <dt>

Квалификаторы: [**маппингстрингс**](/windows/desktop/WmiSdk/standard-qualifiers) (MIF. \|Значение ComponentID \| 001,5 в DMTF
</dt> </dl>

Дата установки объекта. Отсутствие значения не означает, что объект не установлен.

Это свойство наследуется от [**CIM \_ манажедсистемелемент**](cim-managedsystemelement.md).

</dd> <dt>

**Имя**
</dt> <dd> <dl> <dt>

Тип данных: **строка**
</dt> <dt>

Тип доступа: только для чтения
</dt> </dl>

Имя объекта.

Это свойство наследуется от [**CIM \_ манажедсистемелемент**](cim-managedsystemelement.md).

</dd> <dt>

**Порт**
</dt> <dd> <dl> <dt>

Тип данных: **Sint32**
</dt> <dt>

Тип доступа: чтение и запись
</dt> </dl>

Используемый порт RDP.

</dd> <dt>

**редиректионоптионс**
</dt> <dd> <dl> <dt>

Тип данных: **Sint32**
</dt> <dt>

Тип доступа: чтение и запись
</dt> </dl>

Указывает параметры перенаправления устройств и ресурсов для подключений RemoteApp. Флаги для **редиректионоптионс** можно комбинировать. Возможны следующие значения.

<dt>

0
</dt> <dd>

Нет перенаправления устройства или ресурса.

</dd> <dt>

1
</dt> <dd>

Перенаправление дисков.

</dd> <dt>

2
</dt> <dd>

Перенаправление принтеров.

</dd> <dt>

4
</dt> <dd>

Перенаправление буфера обмена.

</dd> <dt>

8
</dt> <dd>

Перенаправление поддерживаемых самонастраивающийся устройств.

</dd> <dt>

16
</dt> <dd>

Перенаправление смарт-карт.

</dd> <dt>

32
</dt> <dd>

Перенаправление звука.

</dd> <dt>

64
</dt> <dd>

Перенаправление последовательных портов.

</dd> </dl>

</dd> <dt>

**рекуиресервераус**
</dt> <dd> <dl> <dt>

Тип данных: **логический**
</dt> <dt>

Тип доступа: чтение и запись
</dt> </dl>

Указывает, требуется ли проверка подлинности сервера.

</dd> <dt>

**Состояние**
</dt> <dd> <dl> <dt>

Тип данных: **строка**
</dt> <dt>

Тип доступа: только для чтения
</dt> <dt>

Квалификаторы: [**maxlen**](/windows/desktop/WmiSdk/standard-qualifiers) (10)
</dt> </dl>

Текущее состояние объекта. Можно определить различные операционные и неоперационные состояния. Рабочие состояния включают: "ОК", "деградация" и "пред-ошибка" (элемент, например жесткий диск с поддержкой SMART, может работать правильно, но прогнозировать сбой в ближайшем будущем). Неработающие состояния включают: "ошибка", "Запуск", "остановка" и "служба". Последняя, «служба», может применяться во время зеркального копирования диска, перезагрузки списка разрешений пользователя или другой административной работы. Не вся такая работа выполняется в интерактивном состоянии, но управляемый элемент не является ни "ОК", ни одним из других состояний.

Это свойство наследуется от [**CIM \_ манажедсистемелемент**](cim-managedsystemelement.md).

<dt>



 ("ОК")


</dt> <dd></dd> <dt>



 ("Ошибка")


</dt> <dd></dd> <dt>



 ("Пониженное состояние")


</dt> <dd></dd> <dt>



 ("Неизвестно")


</dt> <dd></dd> <dt>



 ("Пред Fail")


</dt> <dd></dd> <dt>



 ("Запуск")


</dt> <dd></dd> <dt>



 ("Остановка")


</dt> <dd></dd> <dt>



 ("Служба")


</dt> <dd></dd> </dl>

</dd> <dt>

**усемултимон**
</dt> <dd> <dl> <dt>

Тип данных: **логический**
</dt> <dt>

Тип доступа: чтение и запись
</dt> </dl>

Указывает, разрешено ли для рабочего стола несколько мониторов.

</dd> </dl>

## <a name="remarks"></a>Remarks

Для задания свойств с помощью этого класса необходимо быть членом группы администраторов.

Если **рекуиресервераус** имеет значение **true**, учитывайте следующее.

-   если программа RemoteApp предназначена для использования в интрасети и все клиентские компьютеры работают под управлением Windows Server 2008 или Windows Vista, нет необходимости настраивать сервер узла сеансов удаленных рабочих столов для использования SSL-сертификата. В этом случае используется проверка подлинности на уровне сети.
-   Необходимо указать полное доменное имя сервера или фермы в качестве значения свойства **фармнаме** .

Для подключения к \\ пространству имен "CIMV2 терминалсервицес" уровень проверки подлинности должен включать конфиденциальность пакетов. Для вызовов C/C++ это уровень проверки подлинности " **PKT" RPC \_ C \_ AUTHN \_ Level \_ \_**, который можно задать с помощью функции [**CoSetProxyBlanket**](/windows/win32/api/combaseapi/nf-combaseapi-cosetproxyblanket) com. для Visual Basic и написания сценариев это уровень проверки подлинности **вбемаусентикатионлевелпктприваци** или "пктприваци" со значением 6. в следующем примере Visual Basic scripting Edition (VBScript) показано, как подключиться к удаленному компьютеру с использованием конфиденциальности пакетов.


```VB
strComputer = "RemoteServer1" 
Set objServices = GetObject( _
    "winmgmts:{authenticationLevel=pktPrivacy}!Root/CIMv2/TerminalServices")
```



файлы MOF-файл (MOF) содержат определения для классов инструментарий управления Windows (WMI) (WMI). Они устанавливаются на компьютере при добавлении связанной роли. Дополнительные сведения о файлах MOF см. в разделе [MOF-файл (MOF)](/windows/desktop/WmiSdk/managed-object-format--mof-).

## <a name="requirements"></a>Requirements (Требования)



| Требование | Значение |
|-------------------------------------|-----------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Ни одна версия не поддерживается<br/>                                                               |
| Минимальная версия сервера<br/> | Windows Server 2008<br/>                                                          |
| Пространство имен<br/>                | Корневой \\ CIMv2 \\ терминалсервицес<br/>                                                |
| MOF<br/>                      | <dl> <dt>Тсаллов. mof</dt> </dl>  |
| DLL<br/>                      | <dl> <dt>TsPubWmi.dll</dt> </dl> |



 

