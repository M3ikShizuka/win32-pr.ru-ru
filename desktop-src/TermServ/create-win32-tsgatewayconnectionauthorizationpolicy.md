---
title: Метод Create класса Win32_TSGatewayConnectionAuthorizationPolicy
description: Создает удаленный рабочий стол политику авторизации подключений (RD \ 160; CAP) с указанными значениями. Новый RD \ 160; ЗАГЛУШКа будет вставлена в начало рабочего стола \ 160; Порядок вычисления CAP со значением свойства Order, равным \ 0034; 1 \ 0034;.
ms.assetid: 0010cd2b-9c23-488a-9337-d2ed338136d3
ms.tgt_platform: multiple
keywords:
- службы удаленных рабочих столов метода Create
- Создание службы удаленных рабочих столов метода, Win32_TSGatewayConnectionAuthorizationPolicy класса
- Класс Win32_TSGatewayConnectionAuthorizationPolicy службы удаленных рабочих столов, метод Create
topic_type:
- apiref
api_name:
- Win32_TSGatewayConnectionAuthorizationPolicy.Create
api_location:
- AagWmi.dll
api_type:
- COM
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: b16bf9dadb2a76a46d607a6cf2554192e3658686b58a089c19c3604c0c510bc5
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119871864"
---
# <a name="create-method-of-the-win32_tsgatewayconnectionauthorizationpolicy-class"></a>Метод Create \_ класса Win32 тсгатевайконнектионаусоризатионполици

Создает удаленный рабочий стол политику авторизации подключений (RD CAP) с указанными значениями. Новое ограничение удаленных рабочих столов будет вставлено в верхней части порядка оценки авторизации подключений удаленных рабочих столов со значением "1" свойства **Order** .

## <a name="syntax"></a>Синтаксис


```mof
uint32 Create(
  [in] string  Name,
  [in] string  UserGroupNames,
  [in] string  ComputerGroupNames,
  [in] boolean SmartCard,
  [in] boolean Password,
  [in] boolean SecureId,
  [in] boolean Enabled,
  [in] uint32  DeviceRedirectionType,
  [in] boolean DiskDrivesDisabled,
  [in] boolean PrintersDisabled,
  [in] boolean SerialPortsDisabled,
  [in] boolean ClipboardDisabled,
  [in] boolean PlugAndPlayDevicesDisabled,
  [in] uint32  IdleTimeout,
  [in] uint32  SessionTimeout,
  [in] uint32  SessionTimeoutAction,
  [in] boolean AllowOnlySDRServers,
  [in] boolean CookieAuthentication
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*Имя* \[ окне\]
</dt> <dd>

Имя политики авторизации подключений к удаленному рабочему столу. Имя должно содержать 64 символов или меньше, уникально (регистр игнорируется) и не может включать следующие зарезервированные символы:

<> :; " / \\ \| ? \*\[Вкладка\]

</dd> <dt>

*Усерграупнамес* \[ окне\]
</dt> <dd>

Список имен групп пользователей, разделенных точкой с запятой, для новой политики авторизации подключений к удаленному рабочему столу.

</dd> <dt>

*Компутерграупнамес* \[ окне\]
</dt> <dd>

Список имен групп компьютеров, разделенных точкой с запятой, для новой политики авторизации подключений к удаленному рабочему столу.

</dd> <dt>

*Смарт-карта* \[ окне\]
</dt> <dd>

Указывает, можно ли использовать смарт-карты для проверки подлинности на сервере шлюза удаленных рабочих столов.

</dd> <dt>

*Пароль* \[ окне\]
</dt> <dd>

Указывает, можно ли использовать пароли для проверки подлинности на сервере шлюза удаленных рабочих столов.

</dd> <dt>

*SecureId* \[ окне\]
</dt> <dd>

Этот параметр зарезервирован для использования в будущем.

</dd> <dt>

*Включено* \[ окне\]
</dt> <dd>

Указывает, включена ли политика авторизации подключений к удаленному рабочему столу.

</dd> <dt>

*Девицередиректионтипе* \[ окне\]
</dt> <dd>

Указывает, какие типы устройств будут перенаправляться.

<dt>

0
</dt> <dd>

Все устройства будут перенаправляться.

</dd> <dt>

1
</dt> <dd>

Устройства не будут перенаправлены.

</dd> <dt>

2
</dt> <dd>

Указанные устройства не будут перенаправляться. Параметры *дискдривесдисаблед*, *принтерсдисаблед*, *сериалпортсдисаблед*, *клипбоарддисаблед* и *плугандплайдевицесдисаблед* определяют, какие устройства не будут перенаправляться.

</dd> </dl> </dd> <dt>

*Дискдривесдисаблед* \[ окне\]
</dt> <dd>

Указывает, следует ли отключать перенаправление диска, если параметр *девицередиректионтипе* имеет значение 2.

</dd> <dt>

*Принтерсдисаблед* \[ окне\]
</dt> <dd>

Указывает, следует ли отключать перенаправление принтера, если параметр *девицередиректионтипе* имеет значение 2.

</dd> <dt>

*Сериалпортсдисаблед* \[ окне\]
</dt> <dd>

Указывает, следует ли отключить перенаправление последовательного порта, если параметр *девицередиректионтипе* имеет значение 2.

</dd> <dt>

*Клипбоарддисаблед* \[ окне\]
</dt> <dd>

Указывает, следует ли отключить перенаправление буфера обмена, если параметр *девицередиректионтипе* имеет значение 2.

</dd> <dt>

*Плугандплайдевицесдисаблед* \[ окне\]
</dt> <dd>

Указывает, следует ли отключать перенаправление устройств самонастраивающийся, если параметр *девицередиректионтипе* имеет значение 2.

</dd> <dt>

*IdleTimeout* \[ окне\]
</dt> <dd>

Значение времени ожидания простоя в минутах

</dd> <dt>

*SessionTimeout* \[ окне\]
</dt> <dd>

Значение времени ожидания сеанса в минутах

</dd> <dt>

*Сессионтимеаутактион* \[ окне\]
</dt> <dd>

Действие времени ожидания сеанса (в минутах)

</dd> <dt>

*Алловонлисдрсерверс* \[ окне\]
</dt> <dd>

Разрешены ли подключения только к серверам служб терминалов SDR

</dd> <dt>

*Кукиеаусентикатион* \[ окне\]
</dt> <dd>

Указывает, можно ли использовать проверку подлинности файлов cookie для подключения к серверу шлюза служб терминалов

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Если метод завершается с ошибкой, он возвращает ноль. Если метод завершился неудачно, он возвращает ненулевое значение. Список кодов ошибок см. в разделе [службы удаленных рабочих столов коды ошибок поставщика WMI](terminal-services-wmi-provider-error-codes.md).

## <a name="remarks"></a>Remarks

Для вызова этого метода необходимо быть членом группы администраторов.

файлы MOF-файл (MOF) содержат определения для классов инструментарий управления Windows (WMI) (WMI). файлы MOF не устанавливаются в составе пакета средств разработки программного обеспечения Microsoft Windows Software Development Kit (SDK). Они устанавливаются на сервере при добавлении связанной роли с помощью диспетчер сервера. Дополнительные сведения о файлах MOF см. в разделе [MOF-файл (MOF)](/windows/desktop/WmiSdk/managed-object-format--mof-).

## <a name="requirements"></a>Requirements (Требования)



| Требование | Значение |
|-------------------------------------|------------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Ни одна версия не поддерживается<br/>                                                                |
| Минимальная версия сервера<br/> | Windows Server 2008<br/>                                                           |
| Пространство имен<br/>                | Корневой \\ CIMv2 \\ терминалсервицес<br/>                                                 |
| MOF<br/>                      | <dl> <dt>TSGateway. mof</dt> </dl> |
| DLL<br/>                      | <dl> <dt>AagWmi.dll</dt> </dl>    |



## <a name="see-also"></a>См. также

<dl> <dt>

[**\_Тсгатевайконнектионаусоризатионполици Win32**](win32-tsgatewayconnectionauthorizationpolicy.md)
</dt> </dl>

 

