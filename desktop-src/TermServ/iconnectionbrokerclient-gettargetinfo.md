---
title: Метод Иконнектионброкерклиент Жеттаржетинфо (Кбклиент. h)
description: Запрашивает сведения о конечном компьютере, на котором должно быть перенаправлено подключение.
ms.assetid: 43970B06-8CBD-4204-94AE-090A63918A90
ms.tgt_platform: multiple
keywords:
- службы удаленных рабочих столов метода Жеттаржетинфо
- Службы удаленных рабочих столов метода Жеттаржетинфо, интерфейс Иконнектионброкерклиент
- Службы удаленных рабочих столов интерфейса Иконнектионброкерклиент, метод Жеттаржетинфо
topic_type:
- apiref
api_name:
- IConnectionBrokerClient.GetTargetInfo
api_location:
- Cbclient.dll
api_type:
- COM
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 366bebf398c5c776e43d5cdee4b99e28e8c580fb
ms.sourcegitcommit: a1494c819bc5200050696e66057f1020f5b142cb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/12/2020
ms.locfileid: "104533755"
---
# <a name="iconnectionbrokerclientgettargetinfo-method"></a>Метод Иконнектионброкерклиент:: Жеттаржетинфо

Запрашивает сведения о конечном компьютере, на котором должно быть перенаправлено подключение. Этот метод используется перенаправитель для получения сведений о перенаправлении для входящего запроса на подключение.

## <a name="syntax"></a>Синтаксис


```C++
HRESULT GetTargetInfo(
  [in]  CB_CONNECTION_INFO       *pConnectionInfo,
  [in]  DWORD                    Reserved,
  [in]  HANDLE                   hStatusEvent,
  [out] CB_TARGET_INFO           *pTargetInfo,
  [out] DWORD                    *pResult,
  [out] IConnectionBrokerRequest **ppCbReq
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*пконнектионинфо* \[ окне\]
</dt> <dd>

Адрес структуры сведений о [**\_ соединении \_ CB**](cb-connection-info.md) , которая содержит сведения о входящем запросе на подключение.

</dd> <dt>

*Зарезервировано* \[ окне\]
</dt> <dd>

Этот параметр зарезервирован для будущего использования и должен быть равен нулю.

</dd> <dt>

*хстатусевент* \[ окне\]
</dt> <dd>

Маркер события, который задается при обновлении хода выполнения запроса. Вы несете ответственность за создание и закрытие этого события.

</dd> <dt>

*птаржетинфо* \[ заполняет\]
</dt> <dd>

Адрес целевой структуры CB, который получает сведения о конечном компьютере, на котором должно быть перенаправлено входящее подключение. [**\_ \_**](cb-target-info.md) Так как это асинхронный метод, эта память должна оставаться доступной до завершения запроса. Дополнительные сведения см. в подразделе "Примечания".

</dd> <dt>

*пресулт* \[ заполняет\]
</dt> <dd>

Адрес переменной **типа DWORD** , которая получает код результата. Так как это асинхронный метод, эта память должна оставаться доступной до завершения запроса. Дополнительные сведения см. в подразделе "Примечания".

Этот код результата будет иметь одно из следующих значений.

<dt>

0
</dt> <dd>

Успешно.

</dd> <dt>

0x0000400
</dt> <dd>

Не удалось найти конечный компьютер.

</dd> <dt>

0x0000401
</dt> <dd>

Конечный компьютер недоступен.

</dd> <dt>

0x0000402
</dt> <dd>

Ошибка при загрузке конечного компьютера.

</dd> <dt>

0x0000403
</dt> <dd>

Ошибка при подключении конечного компьютера к сети.

</dd> <dt>

0x0000404
</dt> <dd>

Ошибка при перенаправлении на конечный компьютер.

</dd> <dt>

0x0000405
</dt> <dd>

Ошибка при пробуждении виртуальной машины.

</dd> <dt>

0x0000406
</dt> <dd>

Ошибка при загрузке виртуальной машины.

</dd> <dt>

0x0000407
</dt> <dd>

Ошибка при поиске IP-адреса виртуальной машины.

</dd> <dt>

0x0000408
</dt> <dd>

Посреднику сеансов не удалось найти доступные компьютеры в пуле.

</dd> <dt>

0x0000409
</dt> <dd>

Посредник сеансов отменил подключение.

</dd> <dt>

0x0000410
</dt> <dd>

Посреднику сеансов не удалось проверить параметры подключения.

</dd> </dl> </dd> <dt>

*ппкбрек* \[ заполняет\]
</dt> <dd>

Адрес указателя интерфейса [**иконнектионброкеррекуест**](iconnectionbrokerrequest.md) , который используется для получения обновлений состояния для асинхронной операции. Этот интерфейс используется в сочетании с параметром *хстатусевент* для ожидания и получения результатов этой асинхронной операции.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Возвращает значение " **E \_ Pending** ", если создается асинхронный запрос. В противном случае возвращается код ошибки **HRESULT** .

## <a name="remarks"></a>Комментарии

Этот метод является асинхронным. Параметры *птаржетинфо* и *пресулт* должны оставаться действительными до тех пор, пока метод [**иконнектионброкеррекуест:: CheckStatus**](iconnectionbrokerrequest-checkstatus.md) не получит **\_ \_ запрос \_ о состоянии CB**.

Дополнительные сведения об использовании этого метода см. в разделе [Использование API клиента компонента Подключение к удаленному рабочему столу Broker](use-the-remote-desktop-connection-broker-client-api.md).

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|-----------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows 8<br/>                                                                    |
| Минимальная версия сервера<br/> | Windows Server 2012<br/>                                                          |
| Header<br/>                   | <dl> <dt>Кбклиент. h</dt> </dl>   |
| Библиотека<br/>                  | <dl> <dt>Кбклиент. lib</dt> </dl> |
| DLL<br/>                      | <dl> <dt>Cbclient.dll</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[**иконнектионброкерклиент**](iconnectionbrokerclient.md)
</dt> </dl>

 

 





