---
description: В этом разделе описываются программные элементы, используемые приложениями для создания и использования окон. Управление связями между окнами; и размер, перемещение и отображение окон.
ms.assetid: e325f8dc-004f-44a9-9122-3be5e44764d6
title: О Windows
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 24b085ed246ef6f13627d678e3ede68fa6349a780a74c0c89ee7cbafb24c501f
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "117849896"
---
# <a name="about-windows"></a>О Windows

В этом разделе описываются программные элементы, используемые приложениями для создания и использования окон. Управление связями между окнами; и размер, перемещение и отображение окон.

Обзор включает в себя следующие разделы.

-   [Окно рабочего стола](#desktop-window)
-   [Windows приложений](#application-windows)
    -   [Клиентская область](#client-area)
    -   [Неклиентская область](#nonclient-area)
-   [Элементы управления и диалоговые окна](#controls-and-dialog-boxes)
-   [Атрибуты окна](#window-attributes)
    -   [Имя класса](#class-name)
    -   [Имя окна](#window-name)
    -   [Стиль окна](#window-style)
    -   [Расширенный стиль окна](#extended-window-style)
    -   [Позиция](#position)
    -   [Размер](#size)
    -   [Маркер окна родителя или владельца](#parent-or-owner-window-handle)
    -   [Маркер меню или идентификатор Child-Window](#menu-handle-or-child-window-identifier)
    -   [Маркер экземпляра приложения](#application-instance-handle)
    -   [Создание данных](#creation-data)
    -   [Дескриптор окна](#window-handle)
-   [Создание окна](#creation-data)
    -   [Создание главного окна](#main-window-creation)
    -   [Сообщения для создания окон](#window-creation-messages)
    -   [Многопоточные приложения](#multithread-applications)

## <a name="desktop-window"></a>Окно рабочего стола

При запуске система автоматически создает окно рабочего стола. *Окно рабочего стола* — это системное окно, которое рисует фон экрана и служит базой для всех окон, отображаемых всеми приложениями.

Окно рабочего стола использует точечный рисунок для рисования фона экрана. Шаблон, созданный точечным рисунком, называется *фоновым рисунком рабочего стола*. По умолчанию окно рабочего стола использует точечный рисунок из файла .bmp, указанного в реестре, в качестве фонового рисунка рабочего стола.

Функция [**жетдесктопвиндов**](/windows/win32/api/winuser/nf-winuser-getdesktopwindow) возвращает маркер окна рабочего стола.

Приложение конфигурации системы, например элемент панели управления, изменяет фоновый рисунок рабочего стола с помощью функции [**системпараметерсинфо**](/windows/desktop/api/winuser/nf-winuser-systemparametersinfoa) с параметром *вактион* , установленным в значение **SPI \_ сетдескваллпапер** , а параметр *лпвпарам* задает имя файла точечного рисунка. Затем **системпараметерсинфо** загружает точечный рисунок из указанного файла, использует точечный рисунок для рисования фона экрана и вводит новое имя файла в реестр.

## <a name="application-windows"></a>Windows приложений

каждое графическое приложение Windows создает по крайней мере одно окно, именуемое *главным окном*, которое служит основным интерфейсом между пользователем и приложением. Большинство приложений также создают другие окна, прямо или косвенно, для выполнения задач, связанных с главным окном. Каждое окно играет часть при отображении выходных данных и получении входных данных от пользователя.

При запуске приложения система также связывает с приложением кнопку панели задач. *Кнопка на панели задач* содержит значок программы и заголовок. Когда приложение активно, его кнопка панели задач отображается в состоянии отправлено.

Окно приложения включает такие элементы, как заголовок окна, строка меню, меню окно (ранее — системное меню), Кнопка сворачивания, кнопка развертывания, кнопка восстановления, кнопка «Закрыть», граница размера, область клиента, горизонтальная полоса прокрутки и вертикальная полоса прокрутки. Главное окно приложения обычно включает все эти компоненты. На следующем рисунке показаны эти компоненты в обычном главном окне.

![Обычное окно](images/cswin-02.png)

### <a name="client-area"></a>Клиентская область

*Клиентская область* — это часть окна, в которой приложение отображает выходные данные, такие как текст или графика. Например, приложение для публикации на рабочем столе отображает текущую страницу документа в клиентской области. Приложение должно предоставить функцию, называемую процедурой окна, для обработки входных данных в окне и вывода выходных данных в клиентской области. Дополнительные сведения см. в разделе [Процедуры окна](window-procedures.md).

### <a name="nonclient-area"></a>Неклиентская область

Строка заголовка, строка меню, меню окон, кнопки сворачивания и развернуть, граница размера и полосы прокрутки вместе называются *неклиентской областью* окна. Система управляет большинством аспектов неклиентской области; Приложение управляет внешним видом и поведением клиентской области.

В *заголовке окна отображается значок* и строка текста, определенные в приложении. как правило, текст указывает имя приложения или указывает назначение окна. Приложение задает значок и текст при создании окна. Кроме того, строка заголовка позволяет пользователю перемещать окно с помощью мыши или другого указывающего устройства.

Большинство приложений включают *строку меню* , в которой перечислены команды, поддерживаемые приложением. Элементы в строке меню представляют основные категории команд. При щелчке элемента в строке меню обычно открывается всплывающее меню, элементы которого соответствуют задачам в определенной категории. Если щелкнуть команду, пользователь направляет приложение для выполнения задачи.

*Меню «окно»* создается и управляется системой. Он содержит стандартный набор пунктов меню, которые, по выбору пользователя, устанавливают размер или расположение окна, закрывают приложение или выполняют задачи. Дополнительные сведения см. в разделе [меню](/windows/desktop/menurc/menus).

Кнопки в правом верхнем углу влияют на размер и расположение окна. При нажатии *кнопки "развернуть"* система увеличивает окно до размера экрана и позиционирует окно, так что оно охватывает весь рабочий стол, за вычетом панели задач. В то же время система заменяет кнопку "развернуть" нажатием кнопки "восстановить". При нажатии *кнопки восстановить* система восстанавливает предыдущий размер и расположение окна. При нажатии *кнопки сворачивания* система сокращает окно до размера кнопки на панели задач, размещает окно на кнопке панели задач и отображает кнопку панели задач в нормальном состоянии. Чтобы восстановить предыдущий размер и положение приложения, нажмите соответствующую кнопку на панели задач. При нажатии *кнопки Закрыть* приложение завершает работу.

*Граница размера* — это область вокруг периметра окна, которая позволяет пользователю изменять размер окна с помощью мыши или другого указывающего устройства.

*Горизонтальная* и *вертикальная* полосы прокрутки преобразуют ввод мыши или клавиатуры в значения, используемые приложением для сдвига содержимого клиентской области по горизонтали или по вертикали. Например, приложение для обработки текстов, которое отображает длинный документ, обычно предоставляет вертикальную полосу прокрутки, позволяющую пользователю пролистывать документ вверх и вниз.

## <a name="controls-and-dialog-boxes"></a>Элементы управления и диалоговые окна

Приложение может создавать несколько типов окон в дополнение к главному окну, включая элементы управления и диалоговые окна.

*Элемент управления* — это окно, которое используется приложением для получения определенного фрагмента информации от пользователя, например имени открываемого файла или требуемого размера точки выделения текста. Приложения также используют элементы управления для получения сведений, необходимых для управления определенной функцией приложения. Например, приложение для обработки текстов обычно предоставляет элемент управления, позволяющий пользователю включать и отключать перенос слов. дополнительные сведения см. в разделе [элементы управления Windows](/windows/desktop/Controls/window-controls).

Элементы управления всегда используются совместно с другим окном — обычно это диалоговое окно. *Диалоговое окно* — это окно, содержащее один или несколько элементов управления. Приложение использует диалоговое окно, в котором пользователю предлагается ввести данные, необходимые для выполнения команды. Например, приложение, которое содержит команду для открытия файла, покажет диалоговое окно, содержащее элементы управления, в которых пользователь указывает путь и имя файла. В диалоговых окнах обычно не используется тот же набор компонентов окна, что и в главном окне. У большинства есть заголовок окна, меню окон, границы (без изменения размера) и клиентской области, но обычно они не имеют строки меню, кнопок сворачивания и развертывания или полос прокрутки. Дополнительные сведения см. в разделе [диалоговые окна](/windows/desktop/dlgbox/dialog-boxes).

Окно *сообщения* — это специальное диалоговое окно, в котором отображается замечание или предупреждение. Например, окно сообщения может сообщить пользователю о проблеме, обнаруженной приложением при выполнении задачи. Дополнительные сведения см. в разделе [сообщения](/windows/desktop/dlgbox/about-dialog-boxes).

## <a name="window-attributes"></a>Атрибуты окна

При создании окна приложение должно предоставить следующие сведения. (За исключением [обработчика окна](#window-handle), который функция создания возвращает для уникальной идентификации нового окна.)

-   [Имя класса](#class-name)
-   [Имя окна](#window-name)
-   [Стиль окна](#window-style)
-   [Расширенный стиль окна](#extended-window-style)
-   [Позиция](#position)
-   [Размер](#size)
-   [Маркер окна родителя или владельца](#parent-or-owner-window-handle)
-   [Маркер меню или идентификатор Child-Window](#menu-handle-or-child-window-identifier)
-   [Маркер экземпляра приложения](#application-instance-handle)
-   [Создание данных](#creation-data)
-   [Дескриптор окна](#window-handle)

Эти атрибуты окна описаны в следующих разделах.

### <a name="class-name"></a>Имя класса

Каждое окно принадлежит классу окна. Приложение должно зарегистрировать класс окна перед созданием окон этого класса. *Класс Window* определяет большинство аспектов внешнего вида и поведения окна. Главным компонентом класса окна является *процедура окна*, функция, которая получает и обрабатывает все входные данные и запросы, отправленные в окно. Система предоставляет входные данные и запросы в виде *сообщений*. Дополнительные сведения см. в разделе [классы окон](window-classes.md), [процедуры окон](window-procedures.md), [сообщения и очереди сообщений](messages-and-message-queues.md).

### <a name="window-name"></a>Имя окна

*Имя окна* — это текстовая строка, определяющая окно для пользователя. Главное окно, диалоговое окно или окно сообщения, как правило, отображает имя окна в строке заголовка, если оно есть. Элемент управления может отображать свое имя окна в зависимости от класса элемента управления. Например, кнопки, элементы управления и статические элементы управления отображают имена окон внутри прямоугольника, занятого элементом управления. Однако элементы управления, такие как списки и поля со списком, не отображают имена окон.

Чтобы изменить имя окна после создания окна, используйте функцию [**SetWindowText**](/windows/win32/api/winuser/nf-winuser-setwindowtexta) . Эта функция использует функции [**жетвиндовтекстленгс**](/windows/win32/api/winuser/nf-winuser-getwindowtextlengtha) и [**жетвиндовтекст**](/windows/win32/api/winuser/nf-winuser-getwindowtexta) для получения текущей строки имени окна из окна.

### <a name="window-style"></a>Стиль окна

Каждое окно имеет один или несколько стилей окна. Стиль окна — это именованная константа, определяющая аспект внешнего вида и поведения окна, не заданный классом окна. Приложение обычно задает стили окна при создании окон. Кроме того, можно задать стили после создания окна с помощью функции [**SetWindowLong**](/windows/win32/api/winuser/nf-winuser-setwindowlonga) .

Система и, в некоторой степени, процедура окна для класса, интерпретирует стили окна.

Некоторые стили окна применяются ко всем окнам, но наиболее применимы к окнам определенных классов окон. Общие стили окон представлены константами, которые начинаются с \_ префикса WS; они могут сочетаться с оператором OR для формирования различных типов окон, включая основные окна, диалоговые окна и дочерние окна. Стили окон, зависящие от класса, определяют внешний вид и поведение окон, принадлежащих предопределенным классам элементов управления. Например, класс **ScrollBar** определяет элемент управления "полоса прокрутки", но стили [**SBS \_ горизонтали**](../controls/scroll-bar-control-styles.md) и SBS по вертикали определяют, создан ли элемент управления горизонтальной или вертикальной полосой прокрутки. **\_**

Список стилей, которые могут использоваться в Windows, см. в следующих разделах:

-   [**Стили окна**](window-styles.md)
-   [Стили кнопок](../controls/button-styles.md)
-   [Стили полей со списками](../controls/combo-box-styles.md)
-   [Изменить стили элемента управления](../controls/edit-control-styles.md)
-   [Стили списков](../controls/list-box-styles.md)
-   [Стили элемента управления Rich Edit](../controls/rich-edit-control-styles.md)
-   [Стили элемента управления "полоса прокрутки"](../controls/scroll-bar-control-styles.md)
-   [Стили статических элементов управления](../controls/static-control-styles.md)

### <a name="extended-window-style"></a>Расширенный стиль окна

При необходимости в каждом окне может быть один или несколько расширенных стилей окна. *Расширенный стиль окна* — это именованная константа, определяющая аспект внешнего вида и поведения окна, не заданный классом Window или другими стилями окна. Приложение обычно задает расширенные стили окна при создании окон. Кроме того, можно задать стили после создания окна с помощью функции [**SetWindowLong**](/windows/win32/api/winuser/nf-winuser-setwindowlonga) .

Дополнительные сведения см. в разделе [**CreateWindowEx**](/windows/win32/api/winuser/nf-winuser-createwindowexa).

### <a name="position"></a>Положение

Расположение окна определяется как координаты его верхнего левого угла. Эти координаты, иногда называемые координатами окна, всегда зависят от левого верхнего угла экрана или, для дочернего окна, верхнего левого угла клиентской области родительского окна. Например, окно верхнего уровня с координатами (10, 10) размещается на 10 пикселей справа от верхнего левого угла экрана и на 10 пикселей вниз от него. Дочернее окно с координатами (10, 10) размещается на 10 пикселей справа от левого верхнего угла клиентской области родительского окна и через 10 пикселей вниз от него.

Функция [**виндовфромпоинт**](/windows/win32/api/winuser/nf-winuser-windowfrompoint) Извлекает маркер окна, занимающие определенную точку на экране. Аналогичным образом функции [**чилдвиндовфромпоинт**](/windows/win32/api/winuser/nf-winuser-childwindowfrompoint) и [**чилдвиндовфромпоинтекс**](/windows/win32/api/winuser/nf-winuser-childwindowfrompointex) получают маркер дочернего окна, занимающие определенную точку в клиентской области родительского окна. Несмотря на то, что **чилдвиндовфромпоинтекс** может игнорировать невидимые, отключенные и прозрачные дочерние окна, **чилдвиндовфромпоинт** не может.

### <a name="size"></a>Размер

Размер окна (ширина и высота) задается в пикселях. Окно может иметь нулевую ширину или высоту. Если приложение устанавливает ширину и высоту окна равными нулю, система устанавливает размер по умолчанию для минимального размера окна. Чтобы определить минимальный размер окна по умолчанию, приложение использует функцию [**жетсистемметрикс**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) с флагами **SM \_ кксмин** и **SM \_ цимин** .

Приложению может потребоваться создать окно с клиентской областью определенного размера. Функции [**аджуствиндоврект**](/windows/win32/api/winuser/nf-winuser-adjustwindowrect) и [**аджуствиндовректекс**](/windows/win32/api/winuser/nf-winuser-adjustwindowrectex) вычисляют необходимый размер окна в зависимости от требуемого размера клиентской области. Приложение может передать результирующие значения размера в функцию [**CreateWindowEx**](/windows/win32/api/winuser/nf-winuser-createwindowexa) .

Приложение может изменять размер окна, чтобы оно было очень большим; Однако не следует изменять размер окна, чтобы оно было больше, чем экран. Перед установкой размера окна приложение должно проверить ширину и высоту экрана с помощью [**жетсистемметрикс**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) с флагами **SM \_ кксскрин** и **SM \_ цискрин** .

### <a name="parent-or-owner-window-handle"></a>Маркер окна родителя или владельца

Окно может иметь родительское окно. Окно, имеющее родительский элемент, называется *дочерним окном*. *Родительское окно* предоставляет систему координат, используемую для размещения дочернего окна. Наличие родительского окна влияет на аспекты внешнего вида окна; Например, дочернее окно обрезается таким образом, что никакая часть дочернего окна не может отображаться вне границ родительского окна.

Окно, которое не имеет родителя или родительский элемент которого является окном рабочего стола, называется *окном верхнего уровня*. Приложение может использовать функцию [**EnumWindows**](/windows/win32/api/winuser/nf-winuser-enumwindows) для получения маркера для каждого окна верхнего уровня на экране. В свою очередь, метод **EnumWindows** передает этот маркер в каждое окно верхнего уровня, а в свою функцию обратного вызова, определяемую приложением, [**енумвиндовспрок**](/previous-versions/windows/desktop/legacy/ms633498(v=vs.85)).

Окно верхнего уровня может принадлежать другому окну или принадлежать ему. *Принадлежащее окно* всегда отображается перед окном своего владельца, скрыто, когда окно его владельца свернется, и уничтожается при уничтожении окна-владельца. Дополнительные сведения см. в разделе [владелец Windows](window-features.md#owned-windows).

### <a name="menu-handle-or-child-window-identifier"></a>Маркер меню или идентификатор Child-Window

Дочернее окно может иметь идентификатор *дочернего окна* , уникальное, определяемое приложением значение, связанное с дочерним окном. Идентификаторы дочерних окон особенно полезны в приложениях, которые создают несколько дочерних окон. При создании дочернего окна приложение указывает идентификатор дочернего окна. После создания окна приложение может изменить идентификатор окна с помощью функции [**SetWindowLong**](/windows/win32/api/winuser/nf-winuser-setwindowlonga) или получить идентификатор с помощью функции [**жетвиндовлонг**](/windows/win32/api/winuser/nf-winuser-getwindowlonga) .

Любое окно, за исключением дочернего окна, может иметь меню. Приложение может включать меню, предоставляя маркер меню при регистрации класса окна или при создании окна.

### <a name="application-instance-handle"></a>Маркер экземпляра приложения

С каждым приложением связан связанный с ним экземпляр. Система предоставляет экземпляру обработчика для приложения при запуске приложения. Поскольку она может запускать несколько копий одного и того же приложения, система использует внутренние дескрипторы экземпляров, чтобы отличать один экземпляр приложения от другого. Приложение должно указать этот экземпляр в различных окнах, включая те, которые создают Windows.

### <a name="creation-data"></a>Создание данных

С каждым окном могут быть связаны связанные с приложением данные о создании. При первом создании окна система передает указатель на данные в процедуру окна создаваемого окна. В процедуре окна используются данные для инициализации переменных, определенных приложением.

### <a name="window-handle"></a>Дескриптор окна

После создания окна функция создания возвращает *описатель окна* , который однозначно идентифицирует окно. Дескриптор окна имеет тип данных **HWND** ; приложение должно использовать этот тип при объявлении переменной, содержащей маркер окна. Приложение использует этот обработчик в других функциях, чтобы направить свои действия в окно.

Приложение может использовать функцию [**FindWindow**](/windows/win32/api/winuser/nf-winuser-findwindowa) , чтобы определить, существует ли в системе окно с указанным именем класса или именем окна. Если такое окно существует, функция **FindWindow** возвращает в окно маркер. Чтобы ограничить поиск дочерними окнами конкретного приложения, используйте функцию [**FindWindowEx**](/windows/win32/api/winuser/nf-winuser-findwindowexa) .

Функция [**«IsValid» определяет**](/windows/win32/api/winuser/nf-winuser-iswindow) , определяет ли обработчик окна допустимое, существующее окно. Существуют специальные константы, которые могут заменить обработчик окна в определенных функциях. Например, приложение может использовать **\_ трансляцию HWND** в функциях [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) и [**функции sendmessagetimeout**](/windows/win32/api/winuser/nf-winuser-sendmessagetimeouta) или **\_ класс HWND Desktop** в функции [**мапвиндовпоинтс**](/windows/desktop/api/winuser/nf-winuser-mapwindowpoints) .

## <a name="window-creation"></a>Создание окна

Чтобы создать окна приложений, используйте функцию [**CreateWindow**](/windows/win32/api/winuser/nf-winuser-createwindowa) или [**CreateWindowEx**](/windows/win32/api/winuser/nf-winuser-createwindowexa) . Необходимо указать сведения, необходимые для определения атрибутов окна. **CreateWindowEx** имеет параметр *двексстиле*, который отсутствует в **CreateWindow** ; в противном случае функции идентичны. Фактически, **CreateWindow** просто вызывает **CreateWindowEx** с параметром *двексстиле* , равным нулю. По этой причине оставшаяся часть этого обзора относится только к **CreateWindowEx**.

В этом разделе рассматриваются следующие вопросы.

-   [Создание главного окна](#main-window-creation)
-   [Сообщения для создания окон](#window-creation-messages)
-   [Многопоточные приложения](#multithread-applications)

> [!Note]  
> Существуют дополнительные функции для создания специальных окон, например диалоговых окон и окон сообщений. Дополнительные сведения см. в разделе [**диалогбокс**](/windows/desktop/api/winuser/nf-winuser-dialogboxa), [**креатедиалог**](/windows/desktop/api/winuser/nf-winuser-createdialoga)и [**MessageBox**](/windows/desktop/api/winuser/nf-winuser-messagebox).

 

### <a name="main-window-creation"></a>Создание главного окна

каждое приложение на основе Windows должно иметь функцию [**WinMain**](/windows/win32/api/winbase/nf-winbase-winmain) в качестве функции точки входа. **WinMain** выполняет ряд задач, включая регистрацию класса окна для главного окна и создание главного окна. Функция **WinMain** регистрирует класс главного окна, вызывая функцию [**registerClass**](/windows/win32/api/winuser/nf-winuser-registerclassa) , и создает главное окно, вызывая функцию [**CreateWindowEx**](/windows/win32/api/winuser/nf-winuser-createwindowexa) .

Функция [**WinMain**](/windows/win32/api/winbase/nf-winbase-winmain) также может ограничить приложение одним экземпляром. Создайте именованный мьютекс с помощью функции [**CreateMutex**](/windows/desktop/api/synchapi/nf-synchapi-createmutexa) . Если [**GetLastError**](/windows/desktop/api/errhandlingapi/nf-errhandlingapi-getlasterror) возвращает **ошибку \_ , \_** то существует другой экземпляр приложения (мьютекс), и необходимо выйти из **WinMain**.

Система не отображает автоматически главное окно после его создания; Вместо этого приложение должно использовать функцию [**ShowWindow**](/windows/win32/api/winuser/nf-winuser-showwindow) для вывода главного окна. После создания главного окна функция [**WinMain**](/windows/win32/api/winbase/nf-winbase-winmain) приложения вызывает функцию **ShowWindow**, передавая ей два параметра: указатель на главное окно и флаг, указывающий, следует ли отображать или разворачивание главного окна при первом отображении. Обычно флагу можно присвоить любые константы, начинающиеся с \_ префикса SW. Однако при вызове **ShowWindow** для вывода главного окна приложения флаг должен иметь значение **SW \_ шовдефаулт**. Этот флаг сообщает системе, что окно отображается в соответствии с программой, которая запустила приложение.

Если класс окна был зарегистрирован в версии класса [**registerClass**](/windows/win32/api/winuser/nf-winuser-registerclassa)с поддержкой Юникода, то окно получает только сообщения в Юникоде. Чтобы определить, использует ли окно кодировку Юникода, вызовите [**исвиндовуникоде**](/windows/win32/api/winuser/nf-winuser-iswindowunicode).

### <a name="window-creation-messages"></a>Сообщения Window-Creation

При создании любого окна система отправляет сообщения в процедуру окна для окна. Система отправляет сообщение [**WM \_ нккреате**](wm-nccreate.md) после создания неклиентской области окна и сообщения [**WM \_ CREATE**](wm-create.md) после создания клиентской области. Процедура Window получает оба сообщения до того, как система отобразит окно. Оба сообщения содержат указатель на структуру [**CREATESTRUCT**](/windows/win32/api/winuser/ns-winuser-createstructa) , содержащую все сведения, указанные в функции [**CreateWindowEx**](/windows/win32/api/winuser/nf-winuser-createwindowexa) . Как правило, процедура Window выполняет задачи инициализации при получении этих сообщений.

При создании дочернего окна система отправляет сообщение [**WM \_ парентнотифи**](/previous-versions/windows/desktop/inputmsg/wm-parentnotify) в родительское окно после отправки сообщений о создании [**\_ нккреате WM**](wm-nccreate.md) и [**WM \_**](wm-create.md) . Он также отправляет другие сообщения при создании окна. Количество и порядок этих сообщений зависит от класса и стиля окна, а также от функции, используемой для создания окна. Эти сообщения описаны в других подразделах этого файла справки.

### <a name="multithread-applications"></a>Многопоточные приложения

приложение на основе Windows может иметь несколько потоков выполнения, и каждый поток может создавать окна. Поток, который создает окно, должен содержать код для своей процедуры окна.

Приложение может использовать функцию [**енумсреадвиндовс**](/windows/win32/api/winuser/nf-winuser-enumthreadwindows) для перечисления окон, созданных определенным потоком. Эта функция передает этот обработчик в каждое окно потока, в свою очередь, в определяемую приложением функцию обратного вызова [**енумсреадвндпрок**](/previous-versions/windows/desktop/legacy/ms633496(v=vs.85)).

Функция [**жетвиндовсреадпроцессид**](/windows/win32/api/winuser/nf-winuser-getwindowthreadprocessid) возвращает идентификатор потока, создавшего конкретное окно.

Чтобы задать состояние отображения окна, созданного другим потоком, используйте функцию [**showWindowAsync**](/windows/win32/api/winuser/nf-winuser-showwindowasync) .

 

 
