---
description: Определяет длину текста, связанного с окном, в символах.
ms.assetid: 9e185435-a624-4380-adfd-be4f3645ee5d
title: Сообщение WM_GETTEXTLENGTH (Winuser. h)
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 1bc01f6f7a2b74df41e97a84bb4d7e17d9c3e21966215fcbcca04222d1d5537f
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119710394"
---
# <a name="wm_gettextlength-message"></a>\_Сообщение ЖЕТТЕКСТЛЕНГС WM

Определяет длину текста, связанного с окном, в символах.


```C++
#define WM_GETTEXTLENGTH                0x000E
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*wParam* 
</dt> <dd>

Этот параметр не используется и должен быть равен нулю.

</dd> <dt>

*lParam* 
</dt> <dd>

Этот параметр не используется и должен быть равен нулю.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Тип: **lResult**

Возвращаемое значение — это длина текста в символах, не включая завершающий нуль-символ.

## <a name="remarks"></a>Remarks

Для элемента управления "поле ввода" копируемый текст является содержимым элемента управления "поле ввода". Для поля со списком текст — это содержимое части элемента управления Edit (или статического текста) поля со списком. Для кнопки текст — это имя кнопки. Для других окон текст — это заголовок окна. Чтобы определить длину элемента в поле со списком, приложение может использовать сообщение [**\_ жеттекстлен балансировки нагрузки**](../controls/lb-gettextlen.md) .

При отправке сообщения **WM \_ Жеттекстленгс** функция [**дефвиндовпрок**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) возвращает длину текста в символах. При определенных условиях функция **дефвиндовпрок** возвращает значение, которое больше фактической длины текста. Это происходит с определенными сочетаниями ANSI и Unicode, и из-за системы, позволяющей обеспечить возможность существования символов двухбайтовой кодировки (DBCS) в тексте. Однако возвращаемое значение всегда будет иметь размер по крайней мере такой же, как и фактическая длина текста. Таким же, вы всегда можете использовать его для выделения буфера. Такое поведение может возникать, если приложение использует как функции ANSI, так и общие диалоговые окна, использующие Юникод.

Чтобы получить точную длину текста, используйте сообщения [**WM \_**](wm-gettext.md)GetText, [**фунтового \_ текста**](../controls/lb-gettext.md)или [**CB \_ жетлбтекст**](../controls/cb-getlbtext.md) или функцию [**жетвиндовтекст**](/windows/win32/api/winuser/nf-winuser-getwindowtexta) .

Отправка сообщения **WM \_ жеттекстленгс** в статический элемент управления, не являющийся текстовым, например статический точечный рисунок или статический значок контролк, не возвращает строковое значение. Вместо этого он возвращает ноль.

## <a name="requirements"></a>Requirements (Требования)



| Требование | Значение |
|-------------------------------------|----------------------------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows 2000 Professional \[только классические приложения\]<br/>                                               |
| Минимальная версия сервера<br/> | Windows 2000 Server \[только классические приложения\]<br/>                                                     |
| Заголовок<br/>                   | <dl> <dt>Winuser. h (включает Windows. h)</dt> </dl> |



## <a name="see-also"></a>См. также

<dl> <dt>

**Ссылки**
</dt> <dt>

[**дефвиндовпрок**](/windows/desktop/api/winuser/nf-winuser-defwindowproca)
</dt> <dt>

[**жетвиндовтекст**](/windows/win32/api/winuser/nf-winuser-getwindowtexta)
</dt> <dt>

[**жетвиндовтекстленгс**](/windows/win32/api/winuser/nf-winuser-getwindowtextlengtha)
</dt> <dt>

[**WM \_ gettext**](wm-gettext.md)
</dt> <dt>

**Зрения**
</dt> <dt>

[Windows](windows.md)
</dt> <dt>

**Другие ресурсы**
</dt> <dt>

[**\_ЖЕТЛБТЕКСТ CB**](../controls/cb-getlbtext.md)
</dt> <dt>

[**\_Балансировка нагрузки**](../controls/lb-gettext.md)
</dt> <dt>

[**жеттекстлен балансировки нагрузки \_**](../controls/lb-gettextlen.md)
</dt> </dl>

 

 
