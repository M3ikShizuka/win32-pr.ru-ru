---
description: Для управления питанием используются следующие функции.
ms.assetid: eae96a9e-ced2-4e13-b250-33c5acbbae48
title: Функции управления питанием
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3c9ad544c7483cdda6be015da2314c5463fd0eca
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103998497"
---
# <a name="power-management-functions"></a>Функции управления питанием

Для управления питанием используются следующие функции.

| Функция                                                                                           | Описание                                                                                                                                                                                                                             |
|----------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**каллнтповеринформатион**](/windows/desktop/api/Powerbase/nf-powerbase-callntpowerinformation)                                           | Задает или получает сведения о питании.                                                                                                                                                                                                    |
| [**девицеповерклосе**](/windows/desktop/api/PowrProf/nf-powrprof-devicepowerclose)                                                       | Освобождает все узлы в списке устройств и удаляет список устройств.                                                                                                                                                                        |
| [**девицеповеренумдевицес**](/windows/desktop/api/PowrProf/nf-powrprof-devicepowerenumdevices)                                           | Перечисляет устройства в системе, соответствующие указанным критериям.                                                                                                                                                                      |
| [**девицеповеропен**](/windows/desktop/api/PowrProf/nf-powrprof-devicepoweropen)                                                         | Инициализирует список устройств, запрашивая все устройства.                                                                                                                                                                                  |
| [**девицеповерсетдевицестате**](/windows/desktop/api/PowrProf/nf-powrprof-devicepowersetdevicestate)                                     | Изменяет указанные данные на указанном устройстве.                                                                                                                                                                                    |
| [**EFFECTIVE_POWER_MODE_CALLBACK**](/windows/desktop/api/powersetting/nf-powersetting-effective_power_mode_callback)                                     | Класс Function для эффективного обратного вызова режима питания.                                                                                                                                                                                    |
| [**жетактивепврсчеме**](/windows/desktop/api/PowrProf/nf-powrprof-getactivepwrscheme)                                         | Возвращает индекс активной схемы управления питанием.                                                                                                                                                                                     |
| [**жеткуррентповерполиЦиес**](/windows/desktop/api/PowrProf/nf-powrprof-getcurrentpowerpolicies)                                         | Извлекает текущие параметры политики питания системы.                                                                                                                                                                                     |
| [**жетдевицеповерстате**](/windows/desktop/api/Winbase/nf-winbase-getdevicepowerstate)                                                 | Извлекает текущее состояние электропитания указанного устройства.                                                                                                                                                                              |
| [**жетпвркапабилитиес**](/windows/desktop/api/Powerbase/nf-powerbase-getpwrcapabilities)                                                   | Извлекает сведения о возможностях системы.                                                                                                                                                                              |
| [**GetSystemPowerStatus**](/windows/desktop/api/Winbase/nf-winbase-getsystempowerstatus)                                               | Возвращает состояние электропитания системы.                                                                                                                                                                                               |
| [**иссистемресумеаутоматик**](/windows/desktop/api/Winbase/nf-winbase-issystemresumeautomatic)                                         | Указывает текущее состояние компьютера.                                                                                                                                                                                            |
| [**поверканрестореиндивидуалдефаултповерсчеме**](/windows/desktop/api/PowrProf/nf-powrprof-powercanrestoreindividualdefaultpowerscheme) | Определяет, имеет ли текущий пользователь доступ к данным указанной схемы управления питанием, чтобы его можно было восстановить при необходимости.                                                                                                         |
| [**поверклеаррекуест**](/windows/desktop/api/winbase/nf-winbase-powerclearrequest)                                                     | Уменьшает число запросов питания указанного типа для объекта запроса питания.                                                                                                                                                |
| [**поверкреатепоссиблесеттинг**](/windows/desktop/api/PowrProf/nf-powrprof-powercreatepossiblesetting)                                   | Создает возможное значение для указанного параметра питания.                                                                                                                                                                         |
| [**поверкреатерекуест**](/windows/desktop/api/winbase/nf-winbase-powercreaterequest)                                                   | Создает объект запроса питания.                                                                                                                                                                                                         |
| [**поверкреатесеттинг**](/windows/desktop/api/PowrProf/nf-powrprof-powercreatesetting)                                                   | Создает значение параметра для указанного параметра питания.                                                                                                                                                                                  |
| [**поверделетесчеме**](/windows/desktop/api/PowrProf/nf-powrprof-powerdeletescheme)                                                     | Удаляет указанную схему из базы данных.                                                                                                                                                                                           |
| [**повердетерминеплатформроле**](/windows/desktop/api/PowrProf/nf-powrprof-powerdetermineplatformrole)                                   | Определяет роль компьютера.                                                                                                                                                                                                           |
| [**повердупликатесчеме**](/windows/desktop/api/PowrProf/nf-powrprof-powerduplicatescheme)                                               | Дублирует существующую схему управления питанием.                                                                                                                                                                                                    |
| [**поверенумерате**](/windows/desktop/api/PowrProf/nf-powrprof-powerenumerate)                                                           | Перечисляет указанные элементы в схеме управления питанием.                                                                                                                                                                                    |
| [**повержетактивесчеме**](/windows/desktop/api/Powersetting/nf-powersetting-powergetactivescheme)                                               | Извлекает активную схему управления питанием.                                                                                                                                                                                                      |
| [**поверимпортповерсчеме**](/windows/desktop/api/PowrProf/nf-powrprof-powerimportpowerscheme)                                           | Импортирует схему управления питанием из файла.                                                                                                                                                                                                     |
| [**повериссеттингранжедефинед**](/windows/desktop/api/Powrprof/nf-powrprof-powerissettingrangedefined)                                   | Запрашивает, представляет ли указанный параметр питания диапазон возможных значений.                                                                                                                                                      |
| [**поверреадакдефаултиндекс**](/windows/desktop/api/PowrProf/nf-powrprof-powerreadacdefaultindex)                                         | Возвращает индекс AC по умолчанию для указанного параметра питания.                                                                                                                                                                          |
| [**поверреадаквалуе**](/windows/desktop/api/Powersetting/nf-powersetting-powerreadacvalue)                                                       | Извлекает значение питания от сети для указанного параметра питания.                                                                                                                                                                           |
| [**поверреадаквалуеиндекс**](/windows/desktop/api/PowrProf/nf-powrprof-powerreadacvalueindex)                                             | Возвращает индекс сетевого блока указанного параметра питания.                                                                                                                                                                                  |
| [**поверреаддкдефаултиндекс**](/windows/desktop/api/PowrProf/nf-powrprof-powerreaddcdefaultindex)                                         | Возвращает индекс контроллера домена по умолчанию для указанного параметра питания.                                                                                                                                                                          |
| [**поверреаддквалуе**](/windows/desktop/api/Powersetting/nf-powersetting-powerreaddcvalue)                                                       | Возвращает значение питания контроллера домена для указанного параметра питания.                                                                                                                                                                           |
| [**поверреаддквалуеиндекс**](/windows/desktop/api/PowrProf/nf-powrprof-powerreaddcvalueindex)                                             | Возвращает индекс значения контроллера домена для указанного параметра питания.                                                                                                                                                                            |
| [**поверреаддескриптион**](/windows/desktop/api/PowrProf/nf-powrprof-powerreaddescription)                                               | Извлекает описание указанного параметра питания, подгруппы или схемы.                                                                                                                                                         |
| [**поверреадфриендлинаме**](/windows/desktop/api/PowrProf/nf-powrprof-powerreadfriendlyname)                                             | Извлекает понятное имя для указанного параметра питания, подгруппы или схемы.                                                                                                                                                       |
| [**поверреадиконресаурцеспеЦифиер**](/windows/desktop/api/PowrProf/nf-powrprof-powerreadiconresourcespecifier)                           | Извлекает ресурс значка для указанного параметра питания, подгруппы или схемы.                                                                                                                                                       |
| [**поверреадпоссибледескриптион**](/windows/desktop/api/PowrProf/nf-powrprof-powerreadpossibledescription)                               | Возвращает описание одного из возможных вариантов значения параметра питания.                                                                                                                                                     |
| [**поверреадпоссиблефриендлинаме**](/windows/desktop/api/PowrProf/nf-powrprof-powerreadpossiblefriendlyname)                             | Возвращает понятное имя для одного из возможных вариантов значения параметра питания.                                                                                                                                                   |
| [**поверреадпоссиблевалуе**](/windows/desktop/api/PowrProf/nf-powrprof-powerreadpossiblevalue)                                           | Возвращает значение для возможного значения параметра питания.                                                                                                                                                                            |
| [**поверреадсеттингаттрибутес**](/windows/desktop/api/PowrProf/nf-powrprof-powerreadsettingattributes)                                   | Возвращает текущий атрибут указанного параметра питания.                                                                                                                                                                           |
| [**поверреадвалуеинкремент**](/windows/desktop/api/PowrProf/nf-powrprof-powerreadvalueincrement)                                         | Возвращает приращение допустимых значений между минимальным и максимальным параметрами питания.                                                                                                                                                |
| [**поверреадвалуемакс**](/windows/desktop/api/PowrProf/nf-powrprof-powerreadvaluemax)                                                     | Возвращает максимальное значение для указанного параметра питания.                                                                                                                                                                            |
| [**поверреадвалуемин**](/windows/desktop/api/PowrProf/nf-powrprof-powerreadvaluemin)                                                     | Возвращает минимальное значение для указанного параметра питания.                                                                                                                                                                            |
| [**поверреадвалуеунитсспеЦифиер**](/windows/desktop/api/PowrProf/nf-powrprof-powerreadvalueunitsspecifier)                               | Считывает строку, используемую для описания единиц настройки питания, которая поддерживает диапазон значений.                                                                                                                                         |
| [**поверрегистерфореффективеповермоденотификатионс**](/windows/desktop/api/powersetting/nf-powersetting-powerregisterforeffectivepowermodenotifications)                               | Регистрирует обратный вызов для получения эффективных уведомлений об изменении режима питания.                                                                                                                                         |
| [**поверрегистерсуспендресуменотификатион**](/windows/desktop/api/Powerbase/nf-powerbase-powerregistersuspendresumenotification)           | Регистрируется для получения уведомления о том, что система приостановлена или возобновлена.                                                                                                                                                              |
| [**поверремовеповерсеттинг**](/windows/desktop/api/PowrProf/nf-powrprof-powerremovepowersetting)                                         | Удаляет указанный параметр питания.                                                                                                                                                                                                    |
| [**поверреплацедефаултповерсчемес**](/windows/desktop/api/PowrProf/nf-powrprof-powerreplacedefaultpowerschemes)                         | Заменяет схемы управления питанием пользователя по умолчанию на схемы управления питанием текущего пользователя.                                                                                                                                                  |
| [**поверресторедефаултповерсчемес**](/windows/desktop/api/PowrProf/nf-powrprof-powerrestoredefaultpowerschemes)                         | Заменяет схемы управления питанием текущего пользователя на объекты для пользователя по умолчанию.                                                                                                                                                         |
| [**поверрестореиндивидуалдефаултповерсчеме**](/windows/desktop/api/PowrProf/nf-powrprof-powerrestoreindividualdefaultpowerscheme)       | Заменяет определенную схему управления питанием текущего пользователя на одну от пользователя по умолчанию.                                                                                                                                                   |
| [**поверсетактивесчеме**](/windows/desktop/api/Powersetting/nf-powersetting-powersetactivescheme)                                               | Задает активную схему управления питанием для текущего пользователя.                                                                                                                                                                                      |
| [**поверсетрекуест**](/windows/desktop/api/winbase/nf-winbase-powersetrequest)                                                         | Увеличивает число запросов питания указанного типа для объекта запроса питания.                                                                                                                                                |
| [**поверсеттингакцессчекк**](/windows/desktop/api/PowrProf/nf-powrprof-powersettingaccesscheck)                                         | Запросы для переопределения групповой политики для указанных параметров питания.                                                                                                                                                                       |
| [**поверсеттингакцессчеккекс**](/windows/desktop/api/Powrprof/nf-powrprof-powersettingaccesscheckex)                                     | Запрашивает переопределение групповой политики для указанных параметров управления питанием и указывает запрошенный доступ для параметра.                                                                                                                    |
| [**поверсеттингрегистернотификатион**](/windows/desktop/api/Powersetting/nf-powersetting-powersettingregisternotification)                       | Регистрируется для получения уведомлений при изменении параметров питания.                                                                                                                                                                         |
| [**поверсеттингунрегистернотификатион**](/windows/desktop/api/Powersetting/nf-powersetting-powersettingunregisternotification)                   | Отменяет регистрацию для получения уведомлений при изменении параметров питания.                                                                                                                                                            |
| [**поверунрегистерфромеффективеповермоденотификатионс**](/windows/desktop/api/Powersetting/nf-powersetting-powersettingunregisternotification)                   | Отменяет регистрацию в эффективных уведомлениях об изменении режима электропитания.                                                                                                                                                             |
| [**поверунрегистерсуспендресуменотификатион**](/windows/desktop/api/Powerbase/nf-powerbase-powerunregistersuspendresumenotification)       | Отменяет регистрацию для получения уведомлений о том, что система приостановлена или возобновлена.                                                                                                                                                 |
| [**повервритеакдефаултиндекс**](/windows/desktop/api/PowrProf/nf-powrprof-powerwriteacdefaultindex)                                       | Задает индекс AC по умолчанию для указанного параметра питания.                                                                                                                                                                               |
| [**повервритеаквалуеиндекс**](/windows/desktop/api/Powersetting/nf-powersetting-powerwriteacvalueindex)                                           | Задает индекс значения AC для указанного параметра питания.                                                                                                                                                                                 |
| [**повервритедкдефаултиндекс**](/windows/desktop/api/PowrProf/nf-powrprof-powerwritedcdefaultindex)                                       | Задает индекс контроллера домена по умолчанию для указанного параметра питания.                                                                                                                                                                               |
| [**повервритедквалуеиндекс**](/windows/desktop/api/Powersetting/nf-powersetting-powerwritedcvalueindex)                                           | Задает индекс контроллера домена для указанного параметра питания.                                                                                                                                                                                       |
| [**повервритедескриптион**](/windows/desktop/api/PowrProf/nf-powrprof-powerwritedescription)                                             | Задает описание для указанного параметра питания, подгруппы или схемы.                                                                                                                                                              |
| [**повервритефриендлинаме**](/windows/desktop/api/PowrProf/nf-powrprof-powerwritefriendlyname)                                           | Задает понятное имя для указанного параметра питания, подгруппы или схемы.                                                                                                                                                            |
| [**повервритеиконресаурцеспеЦифиер**](/windows/desktop/api/PowrProf/nf-powrprof-powerwriteiconresourcespecifier)                         | Задает ресурс значка для указанного параметра питания, подгруппы или схемы.                                                                                                                                                            |
| [**повервритепоссибледескриптион**](/windows/desktop/api/PowrProf/nf-powrprof-powerwritepossibledescription)                             | Задает описание одного из возможных вариантов значения параметра питания.                                                                                                                                                          |
| [**повервритепоссиблефриендлинаме**](/windows/desktop/api/PowrProf/nf-powrprof-powerwritepossiblefriendlyname)                           | Задает понятное имя для указанного возможного параметра питания.                                                                                                                                                           |
| [**повервритепоссиблевалуе**](/windows/desktop/api/PowrProf/nf-powrprof-powerwritepossiblevalue)                                         | Задает значение для возможного значения параметра питания.                                                                                                                                                                                 |
| [**повервритесеттингаттрибутес**](/windows/desktop/api/PowrProf/nf-powrprof-powerwritesettingattributes)                                 | Задает атрибуты питания для ключа питания.                                                                                                                                                                                               |
| [**повервритевалуеинкремент**](/windows/desktop/api/PowrProf/nf-powrprof-powerwritevalueincrement)                                       | Задает шаг приращения для допустимых значений между минимальным и максимальным параметрами питания.                                                                                                                                                     |
| [**повервритевалуемакс**](/windows/desktop/api/PowrProf/nf-powrprof-powerwritevaluemax)                                                   | Задает максимальное значение для указанного параметра питания.                                                                                                                                                                                 |
| [**повервритевалуемин**](/windows/desktop/api/PowrProf/nf-powrprof-powerwritevaluemin)                                                   | Задает минимальное значение для указанного параметра питания.                                                                                                                                                                                 |
| [**повервритевалуеунитсспеЦифиер**](/windows/desktop/api/PowrProf/nf-powrprof-powerwritevalueunitsspecifier)                             | Записывает строку, используемую для описания единиц настройки питания, которая поддерживает диапазон значений.                                                                                                                                        |
| [**RegisterPowerSettingNotification**](/windows/desktop/api/WinUser/nf-winuser-registerpowersettingnotification)                       | Регистрирует приложение для получения уведомлений о параметрах питания для конкретного события настройки питания.                                                                                                                                  |
| [**регистерсуспендресуменотификатион**](/windows/desktop/api/Winuser/nf-winuser-registersuspendresumenotification)                     | Регистрируется для получения уведомления о том, что система приостановлена или возобновлена. Аналогичен [**поверрегистерсуспендресуменотификатион**](/windows/desktop/api/Powerbase/nf-powerbase-powerregistersuspendresumenotification), но работает в пользовательском режиме и может принимать оконный маркер. |
| [**сетсуспендстате**](/windows/desktop/api/PowrProf/nf-powrprof-setsuspendstate)                                                         | Задает состояние приостановки системы.                                                                                                                                                                                                          |
| [**SetThreadExecutionState**](/windows/desktop/api/Winbase/nf-winbase-setthreadexecutionstate)                                         | Позволяет приложениям сообщать системе, что она используется.                                                                                                                                                                            |
| [**UnregisterPowerSettingNotification**](/windows/desktop/api/WinUser/nf-winuser-unregisterpowersettingnotification)                   | Отменяет регистрацию уведомления о параметре питания.                                                                                                                                                                                             |
| [**унрегистерсуспендресуменотификатион**](/windows/desktop/api/Winuser/nf-winuser-unregistersuspendresumenotification)                 | Отменяет регистрацию для получения уведомлений о том, что система приостановлена или возобновлена. Аналогичен [**поверунрегистерсуспендресуменотификатион**](/windows/desktop/api/Powerbase/nf-powerbase-powerunregistersuspendresumenotification) , но работает в пользовательском режиме.              |



 

## <a name="power-management-functions-windows-server-2003-and-earlier"></a>Функции управления питанием: Windows Server 2003 и более ранние версии

Следующие функции поддерживаются в Windows Server 2008, Windows Vista и более поздних версиях Windows для совместимости с более ранними версиями Windows. Приложения, написанные для Windows Server 2008, Windows Vista и более поздних версий должны использовать альтернативные варианты, перечисленные в этой таблице.



| Windows Server 2003 и более ранние версии                            | Описание                                                                           | Windows Server 2008 и Windows Vista                                                                                                                                           |
|------------------------------------------------------------|---------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**канусервритепврсчеме**](/windows/desktop/api/PowrProf/nf-powrprof-canuserwritepwrscheme)     | Определяет, имеет ли текущий пользователь достаточные права для записи схемы управления питанием. | [**поверсеттингакцессчекк**](/windows/desktop/api/PowrProf/nf-powrprof-powersettingaccesscheck)                                                                                                                      |
| [**делетепврсчеме**](/windows/desktop/api/PowrProf/nf-powrprof-deletepwrscheme)                 | Удаляет указанную схему управления питанием.                                                   | [**поверделетесчеме**](/windows/desktop/api/PowrProf/nf-powrprof-powerdeletescheme)                                                                                                                                  |
| [**енумпврсчемес**](/windows/desktop/api/PowrProf/nf-powrprof-enumpwrschemes)                   | Перечисляет все схемы управления питанием.                                                         | [**поверенумерате**](/windows/desktop/api/PowrProf/nf-powrprof-powerenumerate)                                                                                                                                        |
| [**жетактивепврсчеме**](/windows/desktop/api/PowrProf/nf-powrprof-getactivepwrscheme)           | Возвращает индекс активной схемы управления питанием.                                       | [**повержетактивесчеме**](/windows/desktop/api/Powersetting/nf-powersetting-powergetactivescheme)                                                                                                                            |
| [**жетпврдискспиндовнранже**](/windows/desktop/api/PowrProf/nf-powrprof-getpwrdiskspindownrange) | Возвращает диапазон дискового спиндовн.                                                    | Управляется \_ \_ подгруппой "Параметры электропитания" подгруппы дисков GUID. Используйте функцию [**поверенумерате**](/windows/desktop/api/PowrProf/nf-powrprof-powerenumerate) для перечисления отдельных параметров.                |
| [**испврхибернатеалловед**](/windows/desktop/api/PowrProf/nf-powrprof-ispwrhibernateallowed)     | Определяет, поддерживает ли компьютер режим гибернации.                                 | [**жетпвркапабилитиес**](/windows/desktop/api/Powerbase/nf-powerbase-getpwrcapabilities)                                                                                                                                |
| [**испвршутдовналловед**](/windows/desktop/api/PowrProf/nf-powrprof-ispwrshutdownallowed)       | Определяет, поддерживает ли компьютер состояние электропитания "мягкая".                    | Не применяется Начиная с Windows Vista, компьютеры должны поддерживать мягкое отключение.                                                                                                   |
| [**испврсуспендалловед**](/windows/desktop/api/PowrProf/nf-powrprof-ispwrsuspendallowed)         | Определяет, поддерживает ли компьютер состояния спящего режима.                            | [**жетпвркапабилитиес**](/windows/desktop/api/Powerbase/nf-powerbase-getpwrcapabilities)                                                                                                                                |
| [**реадглобалпврполици**](/windows/desktop/api/PowrProf/nf-powrprof-readglobalpwrpolicy)         | Извлекает текущие глобальные параметры политики управления питанием.                                   | Функции Power Read                                                                                                                                                            |
| [**реадпроцессорпврсчеме**](/windows/desktop/api/PowrProf/nf-powrprof-readprocessorpwrscheme)   | Получает параметры политики управления питанием процессора для указанной схемы управления питанием.         | Управляется с помощью подгруппы параметры \_ процессора \_ Параметры \_ управления питанием в подгруппе. Используйте функцию [**поверенумерате**](/windows/desktop/api/PowrProf/nf-powrprof-powerenumerate) для перечисления отдельных параметров. |
| [**реадпврсчеме**](/windows/desktop/api/PowrProf/nf-powrprof-readpwrscheme)                     | Извлекает параметры политики управления питанием, которые являются уникальными для указанной схемы управления питанием.    | Функции Power Read                                                                                                                                                            |
| [**рекуествакеуплатенци**](/windows/desktop/api/WinBase/nf-winbase-requestwakeuplatency)       | Указывает, насколько быстро компьютер должен перейти в рабочее состояние.            | Не применяется                                                                                                                                                                 |
| [**сетактивепврсчеме**](/windows/desktop/api/PowrProf/nf-powrprof-setactivepwrscheme)           | Задает активную схему управления питанием.                                                         | [**поверсетактивесчеме**](/windows/desktop/api/Powersetting/nf-powersetting-powersetactivescheme)                                                                                                                            |
| [**сетсистемповерстате**](/windows/desktop/api/WinBase/nf-winbase-setsystempowerstate)         | Приостанавливает работу системы, отключая выключение питания.                                           | [**сетсуспендстате**](/windows/desktop/api/PowrProf/nf-powrprof-setsuspendstate)                                                                                                                                      |
| [**вритеглобалпврполици**](/windows/desktop/api/PowrProf/nf-powrprof-writeglobalpwrpolicy)       | Записывает глобальные параметры политики управления питанием.                                                  | Функции Power Write                                                                                                                                                           |
| [**вритепроцессорпврсчеме**](/windows/desktop/api/PowrProf/nf-powrprof-writeprocessorpwrscheme) | Записывает параметры политики питания процессора для указанной схемы управления питанием.                | Управляется с помощью подгруппы параметры \_ процессора \_ Параметры \_ управления питанием в подгруппе. Используйте функцию [**поверенумерате**](/windows/desktop/api/PowrProf/nf-powrprof-powerenumerate) для перечисления отдельных параметров. |
| [**вритепврсчеме**](/windows/desktop/api/PowrProf/nf-powrprof-writepwrscheme)                   | Записывает параметры политики, уникальные для схемы управления питанием.                           | Функции Power Write                                                                                                                                                           |



 

 

 



