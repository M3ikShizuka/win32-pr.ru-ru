---
description: Файл Mt.exe — это средство, создающее подписанные файлы и каталоги. он доступен в пакете Microsoft Windows Software Development Kit (SDK). Mt.exe требует, чтобы файл, указанный в манифесте, присутствовал в том же каталоге, что и манифест.
ms.assetid: 37f010ee-2658-4547-9871-c913201042de
title: Mt.exe
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8e8987b4b78a85248eb085b8acf45b1fd364a5da
ms.sourcegitcommit: 2c13d0f1620f7c089687ef1d97e8c1d22e5d537a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/24/2021
ms.locfileid: "128521026"
---
# <a name="mtexe"></a>Mt.exe

Файл Mt.exe — это средство, создающее подписанные файлы и каталоги. он доступен в пакете Microsoft Windows Software Development Kit (SDK). Mt.exe требует, чтобы файл, указанный в манифесте, присутствовал в том же каталоге, что и манифест.

Mt.exe создает хэши, используя реализацию CryptoAPI алгоритма безопасного хэширования (SHA-1). Дополнительные сведения о хэш-алгоритмах см. в разделе [алгоритмы хэширования и подписи](/windows/desktop/SecCrypto/hash-and-signature-algorithms). Хэши вставляются в теги **файла** в манифесте в виде шестнадцатеричной строки. В настоящее время средство создает только хэши SHA-1, хотя файлы в манифестах могут использовать другие схемы хэширования.

Mt.exe использует Makecat.exe для создания файлов каталога (. cat) из файлов определения каталога (. CDF). Это средство заполняет стандартный шаблон CDF именем и расположением манифеста. Его можно использовать с Makecat.exe для создания каталога сборок.

версия Mt.exe, предоставляемая в последних версиях Windows SDK, также может использоваться для создания манифестов для управляемых сборок и неуправляемых параллельных сборок.

## <a name="syntax"></a>Синтаксис

```console
mt.exe [-manifest:<component1.manifest><component2.manifest>] [-identity:<identity string>] 
[-rgs:<file1.rgs>] [-tlb:<file2.tlb>] [-dll:<file3.dll>] [-replacements:<XML filename>]
[-managedassemblyname:<managed assembly>] [-nodependency] [-category] [-out:<output manifest name>]
[-inputresource:<file4>;[#]<resource_id>] [-outputresource:<file5>;[#]<resource_id>] 
[-updateresource:<file6>;[#]<resource_id>] [-hashupdate[:<path to files>]] [-makecdfs] [-validate_manifest]
[-validate_file_hashes:<path to files>] [-canonicalize] [-check_for_duplicates] [-nologo] [-verbose]
```

## <a name="command-line-options"></a>Параметры командной строки

В Mt.exe используются следующие параметры командной строки без учета регистра.



<table>
                    <tr>
                        <th>Параметр</th>
                        <th>Описание</th>
                    </tr>
                    <tr>
                        <td>-manifest</td>
                        <td><p>Указывает имя файла манифеста. Чтобы изменить один манифест, укажите имя файла манифеста.  Например, Component. manifest.</p> <p>Чтобы объединить несколько манифестов, укажите здесь имена исходных манифестов.  Укажите имя обновленного манифеста с помощью параметров <i>-out</i>, <i>-аутпутресаурце</i>или <i>-—</i>  .  Например, следующая командная строка запрашивает операцию, которая объединяет два манифеста, man1. manifest и man2. manifest, в новый манифест, man3. manifest.</p><p><i>mt.exe-manifest man1. манифест man2. manifest-out: man3. manifest</i></p><p>Без двоеточия (:) параметр является обязательным при использовании параметра <i>-manifest</i> .</p></td>
                    </tr>
                    <tr>
                        <td>— Identity</td>
                        <td><p>Предоставляет значения атрибутов элемента <strong>assemblyIdentity</strong> манифеста. Аргументом параметра <i>-Identity</i> является строковое значение, содержащее значения атрибутов в полях, разделенных запятыми.  Укажите значение атрибута <strong>Name</strong> в первом поле, не включая подстроку "Name =". Все оставшиеся поля задают атрибуты и их значения с помощью формы: &lt; имя атрибута &gt; = &lt; ATTRIBUTE_VALUE &gt; .</p><p>Например, чтобы обновить элемент <strong>assemblyIdentity</strong> манифеста со следующими сведениями:</p><p>&lt;assemblyIdentity Type = "Win32" Name = "Microsoft. Windows. Самплеассембли "Version =" 6.0.0.0 "processorArchitecture =" x86 "publicKeyToken =" a5aaf5ba15723d5 "/&gt; </p><p>Включите в командную строку параметр следующего <i>идентификатора</i> :</p><p><i>-Identity:</i>"Microsoft. Windows. Самплеассембли, processorArchitecture = x86, Version = 6.0.0.0, Type = Win32, publicKeyToken = a5aaf5ba15723d5 "</p></td>
                    </tr>
                    <tr>
                        <td>-RGS </td>
                        <td><p>Указывает имя файла скрипта регистрации (RGS). Параметр <i>-DLL  </i>требуется для использования параметра <i>-RGS</i> .</p> </td>
                    </tr>
                    <tr>
                        <td>-TLB </td>
                        <td><p>Задает имя файла библиотеки типов (TLB-файла).  Параметр <i>-DLL  </i>необходим для использования параметра <i>-tlb</i> .</p> </td>
                    </tr>
                    <tr>
                        <td>-DLL </td>
                        <td><p>Указывает имя файла библиотеки динамической компоновки (DLL). Параметр <i>-DLL  </i>является обязательным для <i>mt.exe </i> , если используются параметры <i>-RGS</i> или <i>-tlb</i> . Укажите имя библиотеки DLL, которая будет построена в конечном итоге из файлов. RGS или. tlb.</p><p>Например, следующая команда запрашивает операцию, создающую манифест из RGS-и TLB-файлов.</p><p><i>mt.exe-RGS: testreg1. RGS-tlb: testlib1. tlb-dll:test.dll-Places: представитель. manifest — Identity: "Microsoft. Windows. Самплеассембли, processorArchitecture = x86, Version = 6.0.0.0, Type = Win32, publicKeyToken = a5aaf5ba15723d5 "-out: ргстлб. manifest</i> </p> </td>
                    </tr>
                    <tr>
                        <td>-замены </td>
                        <td><p>Указывает файл, содержащий значения для заменяемой строки в RGS файле.</p> </td>
                    </tr>
                    <tr>
                        <td>-манажедассемблинаме </td>
                        <td><p>Создает манифест из указанной управляемой сборки.  Используйте с параметром <i>-undependency</i> для создания манифеста без элементов зависимостей. Используйте с параметром <i>-Category</i> для создания манифеста с тегами категорий. Например, если managed.dll является управляемой сборкой, приведенная ниже Командная строка создает manifest-манифест из managed.dll.</p><p><i>mt.exe-managedassemblyname:managed.dll: out. manifest </i></p> </td>
                    </tr>
                    <tr>
                        <td>-dependency </td>
                        <td><p>Указывает операцию, которая создает манифест без элементов зависимостей.  Для параметра <i>-undependency</i> требуется параметр <i>-манажедассемблинаме</i> . Например, если managed.dll является управляемой сборкой, следующая командная строка создает манифест out. manifest из managed.dll без сведений о зависимостях.</p><p><i>mt.exe-managedassemblyname:managed.dll: out. manifest-undependency</i></p> </td>
                    </tr>
                    <tr>
                        <td>— Категория </td>
                        <td><p>Указывает операцию, которая создает манифест с тегами категорий. Для параметра <i>-Category</i> требуется параметр <i>-манажедассемблинаме</i> . Например, если managed.dll является управляемой сборкой, следующая командная строка создает манифест out. manifest из managed.dll с тегами категорий.</p><p><i>mt.exe-managedassemblyname:managed.dll: out. manifest — Категория</i></p> </td>
                    </tr>
                    <tr>
                        <td>-nologo</td>
                        <td><p>Указывает операцию, выполняемую без отображения стандартных данных об авторских правах Майкрософт. Если  <i>mt.exe</i> выполняется как часть процесса сборки, этот параметр можно использовать, чтобы предотвратить запись нежелательной информации в файлы журнала. </p></td>
                    </tr>
                    <tr>
                        <td>-out </td>
                        <td><p>Указывает имя обновленного манифеста.  Если это операция с одним манифестом, а параметр <i>-out</i> не указан, Исходный манифест изменяется. </p></td>
                    </tr>
                    <tr>
                        <td>-инпутресаурце </td>
                        <td><p>Указывает операцию, выполняемую с манифестом, полученным из ресурса типа RT_MANIFEST.  Если параметр <i>-инпутресаурце</i> используется без указания идентификатора ресурса, &lt; resource_id &gt; , операция использует значение CREATEPROCESS_MANIFEST_RESOURCE. </p><p>Например, следующая команда запрашивает операцию, которая объединяет манифест из библиотеки DLL, dll_with_manifest.dll и файла манифеста man2. manifest.  Объединенные манифесты получаются манифестом в файле ресурсов другой библиотеки DLL, dll_with_merged_manifests. </p><p><i>mt.exe-inputresource:dll_with_manifest.dll; #1-manifest man2. manifest-outputresource:dll_with_merged_manifest.dll; #3</i></p><p>Чтобы извлечь манифест из библиотеки DLL, укажите имя файла DLL.  Например, следующая команда извлекает манифест из lib1.dll и man3. manifest получает извлеченный манифест.</p><p><i>mt.exe-inputresource:lib.dll; #1-out: man3. manifest</i></p></td>
                    </tr>
                    <tr>
                        <td>-аутпутресаурце </td>
                        <td><p>Указывает операцию, которая создает манифест для получения ресурсом типа RT_MANIFEST.  Если параметр <i>-аутпутресаурце</i> используется без указания идентификатора ресурса, &lt; resource_id &gt; , операция использует значение CREATEPROCESS_MANIFEST_RESOURCE. </p></td>
                    </tr>
                    <tr>
                        <td>-— </td>
                        <td><p>Указывает операцию, эквивалентную использованию параметров <i>-инпутресаурце</i>  и <i>-аутпутресаурце</i> с идентичными аргументами. Например, следующая команда запрашивает операцию, которая выполняет вычисление хэша файлов по указанному пути, и обновляет манифест ресурса переносимого исполняемого файла (PE).</p><p><i>mt.exe-updateresource:dll_with_manifest.dll; #1-хашупдате: f: \филес</i>.</p> </td>
                    </tr>
                    <tr>
                        <td>-хашупдате </td>
                        <td><p>Выполняет вычисление хэш-значения файлов по указанным путям и обновляет значение атрибута <strong>hash</strong> элемента <strong>File</strong> с помощью этого значения. </p><p>Например, следующая команда запрашивает операцию, которая объединяет два файла манифеста, man1. manifest и man2. manifest, и обновляет значение атрибута <strong>hash</strong> элемента <strong>File</strong> в манифесте, который получает объединенные сведения, Объединенные. manifest.</p><p><i>mt.exe-manifest man1. манифест man2. manifest-хашупдате: d: \филерепоситори-out: Merged. manifest</i></p><p>Если пути к файлам не указаны, операция ищет расположение манифеста, указанного для получения обновления. Например, следующая команда запрашивает операцию, которая выполняет вычисление обновленного хэш-значения с помощью файлов, найденных путем поиска в расположении обновленного файла. manifest.</p><p><i>mt.exe-manifest Йоуркомпонент. manifest-хашупдате: Обновлено. manifest</i></p></td>
                    </tr>
                    <tr>
                        <td>— validate_manifest </td>
                        <td><p>Задает операцию, которая выполняет проверку синтаксиса соответствия манифеста со схемой манифеста.  Например, следующая команда запрашивает проверку соответствия man1. manifest со схемой. </p><p><i>mt.exe манифест man1. manifest — validate_manifest</i></p> </td>
                    </tr>
                    <tr>
                        <td>— validate_file_hashes </td>
                        <td><p>Задает операцию, которая проверяет хэш-значения <strong>файловых</strong> элементов манифеста. Например, следующая команда запрашивает операцию, которая проверяет хэш-значения всех элементов  <strong>file файла</strong> man1. manifest.</p><p><i>mt.exe-manifest man1. manifest-validate_file_hashes: "c; \филес"</i></p> </td>
                    </tr>
                    <tr>
                        <td>-канонизировать </td>
                        <td><p>Указывает операцию обновления манифеста до канонической формы. Например, следующая команда обновляет man1. manifest до канонической формы.</p><p><i>mt.exe манифест man1. manifest</i></p> </td>
                    </tr>
                    <tr>
                        <td>— check_for_duplicates </td>
                        <td><p>Указывает операцию, которая проверяет манифест на наличие повторяющихся элементов. Например, следующая команда проверяет man1. manifest на наличие повторяющихся элементов.</p><p><i>mt.exe-man1. manifest — check_for_duplicates</i></p> </td>
                    </tr>                   
                    <tr>
                        <td>-макекдфс</td>
                        <td><p>Создает файлы. CDF для создания каталогов.  Например, следующая команда запрашивает операцию, которая обновляет значение хэша и создает CDF-файл.</p><p><i>mt.exe-manifest comp1. manifest-хашупдате-макекдфс: updated. manifest</i></p></td>
                    </tr>
                    <tr>
                        <td>-verbose</td>
                        <td>Отображает подробные сведения об отладке. </td>
                    </tr>
                    <tr>
                        <td>-?</td>
                        <td>При запуске с-?, или без параметров и аргументов Mt.exe выводит текст справки.</td>
                    </tr>
                </table>



 

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Средства разработки параллельных сборок](side-by-side-assembly-development-tools.md)
</dt> </dl>

 

