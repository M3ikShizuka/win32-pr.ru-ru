---
description: Файл конфигурации издателя — это XML-файл, который глобально перенаправляет приложения и сборки от использования одной версии параллельной сборки к другой версии той же сборки.
ms.assetid: b10752af-80a7-4027-b525-90333d0d010a
title: Publisher Файлы конфигурации
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4cc5d7d7b7ffdad3d1179a7f8c66a347d91e0a03
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127064799"
---
# <a name="publisher-configuration-files"></a>Publisher Файлы конфигурации

Файл конфигурации издателя — это XML-файл, который глобально перенаправляет приложения и сборки от использования одной версии параллельной сборки к другой версии той же сборки. Как правило, издатель сборки создает совместимое обновление или исправление безопасности для каждой сборки, выдавая файл конфигурации издателя вместе с обновлением пакета обновления. Это называется [конфигурацией издателя](publisher-configuration.md). дополнительные сведения об этом типе [конфигурации](configuration.md) см. в разделе Publisher configuration.

Publisher файлы конфигурации имеют следующие элементы и атрибуты. полный список схем XML см. в разделе [Publisher схема файла конфигурации](publisher-configuration-file-schema.md).



| Элемент               | Атрибуты                | Обязательно |
|-----------------------|---------------------------|----------|
| **сборок**          |                           | Да      |
|                       | **манифестверсион**       | Да      |
| **Неправильн**  |                           | Да      |
|                       | **type**                  | Да      |
|                       | **name**                  | Да      |
|                       | **language**              | Нет       |
|                       | **processorArchitecture** | Нет       |
|                       | **version**               | Да      |
|                       | **publicKeyToken**        | Нет       |
| **зависимостей**        |                           | Нет       |
| **dependentAssembly** |                           | Нет       |
| **bindingRedirect**   |                           | Да      |
|                       | **oldVersion**            | Да      |
|                       | **newVersion**            | Да      |



 

## <a name="file-location"></a>Расположение файла

Publisher файлы конфигурации должны быть установлены в папку WinSxS. Они обычно устанавливаются в виде отдельного файла, но файлы конфигурации издателя можно также включать в качестве ресурса в библиотеку DLL. Файл конфигурации издателя нельзя включать в качестве ресурса в EXE-файл. EXE-файл может включать [манифест приложения](application-manifests.md) в качестве ресурса.

## <a name="file-name-syntax"></a>Синтаксис имени файла

Имя файла конфигурации издателя имеет *политику* форм. *основной*. *дополнительный номер*. *AssemblyName* , где *Major* и *minor* ссылаются на основную и дополнительную части [версии сборки](assembly-versions.md) , которая затронута. *AssemblyName* ссылается на имя сборки.

Например, файл конфигурации издателя для версии 6,0 Microsoft. Windows. Сборка общих элементов управления будет иметь следующее имя:

<dl> Policy. 6.0. Microsoft. Windows. Общие элементы управления  
</dl>

Не используйте файлы конфигурации политики для увеличения основной или вспомогательной версии сборки. Например, не следует перенаправлять версию 6.0.0.0 в 7.0.0.0 или 6.1.0.0. Если приложение ссылается на версию сборки, например 6.0.0.0, параллельные проверки наличия файлов конфигурации политик с указанными основной и дополнительной версиями, например 6,0. Затем приложение перенаправляется в другую версию сборки, например 6.0.1.0. Если файл конфигурации издателя увеличивает основную или дополнительную версию сборки, при последующем перенаправлении сборки может потребоваться выдача нескольких файлов конфигурации политики.

## <a name="elements"></a>Элементы

<dl> <dt>

<span id="assembly"></span><span id="ASSEMBLY"></span>**сборок**
</dt> <dd>

Элемент контейнера. Его первым подэлементом должен быть **assemblyIdentity**. Обязательный элемент.

Элемент Assembly должен находиться в пространстве имен **urn: schemas-microsoft-com: ASM. v1**. Дочерние элементы сборки также должны находиться в этом пространстве имен путем наследования или добавления тегов.

Элемент **Assembly** имеет следующие атрибуты.



| attribute           | Описание                                           |
|---------------------|-------------------------------------------------------|
| **манифестверсион** | Атрибут **манифестверсион** должен иметь значение 1,0. |



 

</dd> <dt>

<span id="assemblyIdentity"></span><span id="assemblyidentity"></span><span id="ASSEMBLYIDENTITY"></span>**Неправильн**
</dt> <dd>

Описывает и однозначно определяет параллельную сборку.

Как первый подэлемент элемента **Assembly** , **assemblyIdentity** описывает параллельную сборку, которая имеет одну или несколько измененных зависимостей сборок. Файл конфигурации издателя перенаправляет зависимости указанной сборки. Например, следующий **assemblyIdentity** означает, что файл конфигурации издателя влияет на зависимости от x86 Майкрософт. Windows. Сборка POP 6.0.0.0.

``` syntax
<assemblyIdentity 
     type="win32-policy" 
     publicKeyToken="0000000000000000" 
     name="policy.6.0.Microsoft.Windows.Pop" 
     version="2.1.0.0" 
     processorArchitecture="x86"/>
```

Как первый подэлемент элемента **dependentAssembly** , **assemblyIdentity** описывает параллельную зависимость сборки. Файл конфигурации издателя перестраивает удостоверение этой требуемой параллельной сборки. Изменение задается в **bindingRedirect**. Например, следующий **assemblyIdentity** изменяет любую зависимость от корпорации Майкрософт. Windows. Самплеассембли версии 2.0.0.0 зависит от корпорации Майкрософт. Windows. Самплеассембли версия 2.0.1.0.

``` syntax
<dependency>
      <dependentAssembly>
         <assemblyIdentity 
type="win32" 
name="Microsoft.Windows.SampleAssembly"  
processorArchitecture="x86"
publicKeyToken="0000000000000000"/>
         <bindingRedirect oldVersion="2.0.0.0" newVersion="2.0.1.0"/>
      </dependentAssembly>
</dependency>
```

Элемент **assemblyIdentity** имеет следующие атрибуты. У него нет вложенных элементов.



| attribute                 | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|---------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **type**                  | Указывает тип сборки. Обязательный элемент. На **теге assemblyIdentity** для затронутой сборки значение атрибута **Type** должно быть равно Win32-Policy. Значение параметра Win32-Policy должно быть не длиннее строчных букв.<br/> В **теге assemblyIdentity** для изменяемой зависимости сборки значение атрибута **Type** должно быть равно Win32. Значение Win32 должно состоять из всех строчных букв.<br/>                                                                                                                                                                                                             |
| **name**                  | Уникально именует сборку. Обязательный элемент. В **теге assemblyIdentity** для затронутой сборки имя имеет *политику* формы. *основной*. *дополнительный номер*. *AssemblyName* , где *Major* и *minor* ссылаются на основную и дополнительную части [версии сборки](assembly-versions.md).<br/> В **теге assemblyIdentity** для изменяемой зависимости сборки имя имеет форму Organization.Division.Name. Например, Microsoft. Windows. Мисамплеапп.<br/>                                                                                                                                                                                 |
| **language**              | Определяет язык сборки. Необязательный элемент. В **теге assemblyIdentity** для затронутой сборки, если сборка зависит от языка, укажите код языка DHTML. Если сборка предназначена для использования в разных странах мира (не зависит от языка), пропустите этот атрибут.<br/> В **теге assemblyIdentity** для изменяемой зависимости сборки, если сборка зависит от языка, укажите код языка DHTML. Если сборка предназначена для использования в разных странах мира (не зависит от языка), задайте значение как " \* ".<br/>                                                                                                                            |
| **processorArchitecture** | Указывает процессор, на котором работает приложение.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **version**               | Указывает версию сборки. Используйте синтаксис версии из четырех частей: MMMM. nnnn. УУ. пппп Требуется только в **теге**"DEF-контекст". Не указывайте атрибут Version в **ТЕГЕ** ref-context.                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **publicKeyToken**        | 16-символьная шестнадцатеричная строка, представляющая последние 8 байт хэша SHA-1 открытого ключа, для которого подписана сборка. Открытый ключ, используемый для подписи каталога, должен иметь длину 2048 бит или более. Для всех общих параллельных сборок требуется publicKeyToken. Значение publicKeyToken, используемое для файла конфигурации издателя, должно совпадать с ключом, используемым для подписанной сборки. Publisher файлы конфигурации могут быть подписаны с помощью тех же средств, которые используются со сборками, см. [пример подписывания сборки](assembly-signing-example.md) и [создание подписанных файлов и каталогов](creating-signed-files-and-catalogs.md). |



 

</dd> <dt>

<span id="dependency"></span><span id="DEPENDENCY"></span>**зависимостей**
</dt> <dd>

Необязательный элемент контейнера по крайней мере для одного элемента **dependentAssembly**. У него нет атрибутов.

</dd> <dt>

<span id="dependentAssembly"></span><span id="dependentassembly"></span><span id="DEPENDENTASSEMBLY"></span>**dependentAssembly**
</dt> <dd>

Каждое **dependentAssembly** должно находиться внутри только одной **зависимости**. У **dependentAssembly** нет атрибутов. Первый подэлемент **dependentAssembly** должен быть **assemblyIdentity** для параллельной сборки, перенастраиваемой конфигурацией издателя.

</dd> <dt>

<span id="bindingRedirect"></span><span id="bindingredirect"></span><span id="BINDINGREDIRECT"></span>**bindingRedirect**
</dt> <dd>

Элемент **bindingRedirect** содержит сведения о перенаправлении для привязки сборки.

Этот элемент содержит атрибуты, приведенные в следующей таблице.



| attribute      | Описание                                                                                                                                                                                                                           |
|----------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **oldVersion** | Указывает версию сборки, переопределяемую и перенаправляемую. Используйте синтаксис nnnnn. nnnnn. nnnnn. nnnnn из четырех частей. Укажите диапазон версий на тире без пробелов. Например, 2.14.3.0 или 2.14.3.0 2.16.0.0. Обязательный элемент. |
| **newVersion** | Указывает заменяющую версию сборки. Используйте синтаксис nnnnn. nnnnn. nnnnn. nnnnn из четырех частей.                                                                                                                                     |



 

</dd> </dl>

## <a name="remarks"></a>Remarks

Publisher файлы конфигурации не указывают файлы. Обратите внимание, что файлы политики для конкретного языка отделены от файла конфигурации издателя.

## <a name="example"></a>Пример

``` syntax
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<assembly xmlns="urn:schemas-microsoft-com:asm.v1" manifestVersion="1.0">
<assemblyIdentity type="win32-policy" publicKeyToken="0000000000000000" name="policy.6.0.Proseware.Research.SampleAssembly" version="1.0.1.0" language="en-us" processorArchitecture="x86"/>
<dependency>
<dependentAssembly>
<assemblyIdentity type="win32" publicKeyToken="0000000000000000" name="Proseware.Research.SampleAssembly" language="en-us" processorArchitecture="x86"/>
<bindingRedirect oldVersion="1.0.0.0" newVersion="1.0.1.0"/>
</dependentAssembly>
</dependency>
</assembly>
```

 

 




