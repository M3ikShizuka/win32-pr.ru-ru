---
description: Windows поддерживает как синхронные, так и асинхронные (перекрывающиеся) операции файлового ввода-вывода для последовательных ресурсов связи.
ms.assetid: cee44596-ad73-4afb-b86a-744b0b46d9d5
title: Операции чтения и записи
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b3a1c9cca5079cc6f473b07c02212da6f42156305b43f4b30eb1de3e6b67e593
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "120109014"
---
# <a name="read-and-write-operations"></a>Операции чтения и записи

Windows поддерживает как синхронные, так и асинхронные (перекрывающиеся) операции файлового ввода-вывода для последовательных ресурсов связи. Перекрывающиеся операции позволяют вызывающему потоку выполнять другие задачи во время выполнения операции в фоновом режиме. Поток использует функцию [**ReadFile**](/windows/desktop/api/fileapi/nf-fileapi-readfile) или [**реадфиликс**](/windows/desktop/api/fileapi/nf-fileapi-readfileex) для чтения из ресурса связи, а функция [**WriteFile**](/windows/desktop/api/fileapi/nf-fileapi-writefile) или [**вритефиликс**](/windows/desktop/api/fileapi/nf-fileapi-writefileex) — для записи в ресурс связи. **ReadFile** и **WriteFile** могут выполняться синхронно или асинхронно. **Реадфиликс** и **вритефиликс** могут выполняться только асинхронно.

Поведение этих функций чтения и записи зависит от того, выполняется ли функция в качестве перекрывающейся, являются ли параметры времени ожидания связаны с данным маркером, а также от того, связаны ли параметры управления потоком с этим маркером.

Поток также может записывать данные в ресурс связи с помощью функции [**трансмиткоммчар**](/windows/desktop/api/Winbase/nf-winbase-transmitcommchar) , которая передает заданный символ впереди всех ожидающих данных в выходном буфере. Эта функция полезна для передачи сигнала с высоким приоритетом в принимающую систему. Передача символа с высоким приоритетом по-прежнему подчиняется управлению потоком и задержке записи, а операция выполняется синхронно.

Поток может использовать функцию [**пуржекомм**](/windows/desktop/api/Winbase/nf-winbase-purgecomm) для удаления всех символов в выходном или входном буфере устройства. **Пуржекомм** также может завершить незавершенные операции чтения или записи, даже если операции не были выполнены. Если поток использует **пуржекомм** для очистки выходного буфера, удаленные символы не передаются. Чтобы очистить выходной буфер и обеспечить передачу содержимого, поток может вызвать функцию [**FlushFileBuffers**](/windows/desktop/api/fileapi/nf-fileapi-flushfilebuffers) (синхронную операцию). Однако обратите внимание, что **FlushFileBuffers** подлежит управлению потоком, но не может записывать время ожидания и не будет возвращаться, пока не будут переданы все ожидающие операции записи.

 

 
