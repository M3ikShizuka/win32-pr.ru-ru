---
description: службы Microsoft Windows HTTP (WinHTTP) предоставляют серверный интерфейс высокого уровня, поддерживающий протоколы HTTP/2 и 1,1.
ms.assetid: 8337f699-3ec0-4397-acc2-6dc813f7542d
title: Сведения о WinHTTP
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e19df8ac8073cfca4fd74fd5d024712cc3fc59c770c3d9ad0ab1386bc0642d72
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119570294"
---
# <a name="about-winhttp"></a>Сведения о WinHTTP

> [!NOTE]
> для контейнеров приложений и системных служб, начиная с Windows 10, версия 1709, HTTP/2 (см. [RFC7540](https://tools.ietf.org/html/rfc7540)) включена по умолчанию.

службы Microsoft Windows HTTP (WinHTTP) предоставляют серверный интерфейс высокого уровня, поддерживающий протоколы HTTP/2 и 1,1. Служба WinHTTP предназначена для использования в основном в сценариях на основе сервера серверными приложениями, взаимодействующими с HTTP-серверами.

[WinInet](/windows/desktop/WinInet/portal) был разработан как клиентская платформа HTTP для интерактивных приложений для настольных систем. WinINet отображает пользовательский интерфейс для некоторых операций, таких как сбор учетных данных пользователя. Однако WinHTTP обрабатывает эти операции программным способом. Серверным приложениям, которым требуются службы клиента HTTP, следует использовать WinHTTP, а не WinINet. Дополнительные сведения см. [в статье Перенос приложений WinInet в WinHTTP](porting-wininet-applications-to-winhttp.md).

Служба WinHTTP также предназначена для использования в системных службах и клиентских приложениях на основе HTTP. Однако однопользовательские приложения, которым требуются функции протокола FTP, сохраняемость файлов cookie, кэширование, автоматическая обработка диалоговых окон учетных данных, совместимость с Internet Explorer или поддержка платформ нижнего уровня, должны использовать [WinInet](/windows/desktop/WinInet/portal).

Этот интерфейс доступен из C/C++ с помощью интерфейса прикладного программирования (API) WinHTTP или с помощью интерфейсов [**ивинхттпрекуест**](iwinhttprequest-interface.md) и [**ивинхттпрекуестевентс**](iwinhttprequestevents-interface.md) . кроме того, служба winhttp доступна из скриптов и Visual Basic майкрософт через объект WinHTTP. Дополнительные сведения и описания отдельных функций см. в справочнике по функциям WinHTTP для конкретного языка.

начиная с Windows 8, WinHTTP предоставляет api-интерфейсы для подключения с помощью [протокола WebSocket](https://tools.ietf.org/html/rfc6455)l, например [**винхттпвебсоккетсенд**](/windows/desktop/api/winhttp/nf-winhttp-winhttpwebsocketsend) и [**винхттпвебсоккетрецеиве**](/windows/desktop/api/winhttp/nf-winhttp-winhttpwebsocketreceive).

> [!Caution]  
> WinHTTP не является повторным входом, за исключением обратного вызова асинхронного завершения. Это значит, что пока поток вызывается в одну из таких функций WinHTTP, как WinHttpSendRequest, WinHttpReceiveResponse, Винхттпкуеридатааваилабле, Винхттпсенддата или WinHttpWriteData, он никогда не должен вызывать WinHTTP еще раз до завершения первого вызова. Один из сценариев, при котором может произойти второй вызов, выглядит следующим образом: Если приложение помещает в очередь асинхронный вызов процедуры (APC) в поток, который обращается к WinHTTP, и если служба WinHTTP выполняет интерактивное ожидание с оповещением, то можно запустить APC. Если подпрограмму APC также необходимо вызвать WinHTTP, он повторно вводит API WinHTTP, и внутреннее состояние WinHTTP может быть повреждено.

## <a name="winhttp-51-features"></a>Функции WinHTTP 5,1

В версии 5,1 WinHTTP были добавлены следующие функции.

-   Поддержка IPv6.
-   Возможности автопрокси.
-   Протокол HTTP/1.0, включая поддержку подключений постоянного подключения и файлов cookie сеанса.
-   Поддержка поблочного перемещения HTTP/1.1 для HTTP-ответов.
-   Создание пулов анонимных подключений между сеансами.
-   Функции SSL (SSL), включая сертификаты клиентов. Поддерживаемые протоколы SSL включают следующие: SSL 2,0, SSL 3,0 и TLS 1,0.
-   Поддержка проверки подлинности сервера и прокси, включая интегрированную поддержку Microsoft Passport 1,4 и пакета Negotiate/ [Kerberos](../com/kerberos-v5-protocol.md) .
-   Автоматическая обработка перенаправлений, если она не подавлена.
-   Интерфейс, поддерживающий создание скриптов, в дополнение к API.
-   Служебная программа трассировки для облегчения устранения неполадок.

В WinHTTP не поддерживаются некоторые функции [WinInet](/windows/desktop/WinInet/portal) , в том числе кэширование URL-адресов и постоянные файлы cookie, автопрокси, автонабор номеров, Автономная поддержка и протокол FTP (FTP).

Дополнительные сведения об изменениях, появившихся в версии 5,1, см. в разделе [новые возможности WinHTTP 5,1](what-s-new-in-winhttp-5-1.md).

## <a name="getting-started-with-winhttp"></a>начало работы с помощью WinHTTP

Дополнительные сведения о WinHTTP см. в следующих разделах.

* [WinInet и WinHTTP](/windows/desktop/wininet/wininet-vs-winhttp) сравнивают две технологии для доступа к HTTP.
* В [версиях WinHTTP](winhttp-versions.md) описывается журнал версий WinHTTP.
* [Новые возможности в winhttp 5,1](what-s-new-in-winhttp-5-1.md) описывают изменения и новые функции в WinHTTP 5,1.
* [Терминология сети](network-terminology.md) описывает полезные понятия и терминологию, связанные с сетями в целом, и протокол HTTP в частности.
* [Выбор интерфейса WinHTTP](choosing-a-winhttp-interface.md) описывает API C/C++ и COM-интерфейс для WinHTTP.
* [Вопросы безопасности WinHTTP](winhttp-security-considerations.md) описание проблем безопасности, которые следует учитывать при использовании WinHTTP.
* [Перенос приложений WinInet в WinHTTP](porting-wininet-applications-to-winhttp.md) Описание способов изменения существующих приложений [WinInet](/windows/desktop/WinInet/portal) для использования API WinHTTP.
