---
title: Уровень поддержки схемы
description: В этом разделе рассматриваются сведения о уровне поддержки схем.
ms.assetid: ca18306e-6d67-406d-9c42-4be159a0b81f
keywords:
- Веб-службы уровня поддержки схемы для Windows
- ввсапи
- WWS
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5aa50eef8835f643abb668b439160ea733bf5160
ms.sourcegitcommit: 5b98bf8c68922f8f03c14f793fbe17504900559c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/12/2021
ms.locfileid: "104555968"
---
# <a name="schema-support-level"></a>Уровень поддержки схемы

В этом разделе рассматриваются сведения о уровне поддержки схем.


Схема напрямую поддерживает следующее:

-   Последовательности элементов.
-   Наследование типов элементов.
-   Простые варианты элементов (те, которые соответствуют объединению с тегами).
-   Базовые типы, определяемые двоичным форматом XSD/.NET, включая диапазоны (min/max).
-   Простая поддержка любого элемента (без ограничений на тип элемента).
-   Необязательные элементы и атрибуты со значениями по умолчанию.
-   Повторяющиеся элементы с диапазонами (min/max).
-   Элементы, допускающие нулевое.

Схема не поддерживает следующее напрямую (что подразумевает «резервное поведение»):

-   Базовые типы, определяемые пользователем.
-   Более сложные варианты.
-   Отклонение неизвестных атрибутов.
-   Округление неизвестных атрибутов.
-   Более сложная поддержка для любого элемента.
-   Конструкция ALL.
-   Key/keyref.

Ниже приведено подробное разбиение поддержки различных компонентов схемы. Он сравнивается с контрактом данных в WCF, так как он имеет сходство в функциональности. Разница будет описана.

Как правило, для резервного поведения:

-   атрибуты передаются в строку WS \_ ;
-   содержимое элемента \_ \_ перемещается в буфер WS XML.
-   complexType перемещается в структуру, содержащую поле \_ буфера WS XML \_ .
-   Простые типы передаются в строку WS \_ .

всутил создает предупреждения для компонентов схемы, которые в настоящее время не поддерживаются полностью. Приложению может потребоваться дополнительная проверка этих компонентов. Всутил сверхурочной работы можно улучшить, чтобы обрабатывать некоторые функции, которые в настоящее время поддерживаются в среде выполнения, например поддержку значений по умолчанию. всутил также можно улучшить вместе с сериализацией для поддержки других функций, таких как abstract. Количество неподдерживаемых компонентов схемы можно сократить с течением времени.

## <a name="the-overall-schema-document"></a>Документ общей схемы

Глобальное определение, которое может повлиять на внедренные определения в схеме. Это глобальные атрибуты, применимые ко всем определениям в схеме.

Атрибуты <xs: schema>

-   Аттрибутефромдефаулт игнорируется.
-   blockDefault игнорируется.
-   elementFormDefault игнорируется. Это отличается от DataContract, так как неквалифицированные элементы поддерживаются во время выполнения.
-   finalDefault игнорируется. Нет поддержки языка C для концепции Final.
-   Идентификатор проигнорирован.
-   targetNamespace поддерживается и сопоставляется с пространством имен службы.
-   Версия пропущена.

<xs: schema> содержимое

-   включить поддерживаемые; всутил требует, чтобы все необходимое определение было доступно в качестве входных файлов во время компиляции.
-   Переопределение игнорируется. всутил не поддерживает это.
-   Импорт поддерживается; всутил требует, чтобы все необходимое определение было доступно в качестве входных файлов во время компиляции.
-   Поддерживается simpleType — см. раздел Simple Type ниже.
-   Поддерживается в complexType — см. раздел "complexType".
-   Группа игнорируется.
-   attributeGroup игнорируется.
-   элемент поддерживается; сопоставляется с определениями глобальных элементов.
-   Поддерживаемый атрибут; сопоставляется с определениями глобальных атрибутов.
-   Нотация пропущена

## <a name="complex-type"></a>Сложный тип

Сложный тип, представленный <xs: complexType>, может быть ограничен простым типом или сложным типом, расширением простого типа, массивов или структурой. Обратите внимание, что в расширении простых типов отсутствует возможность наследования и не поддерживается xsi: Type.

Атрибуты <xs: complexType>

-   abstract создает предупреждение о неподдерживаемой функции, не изменяет создание кода.
-   блокировать создание предупреждения о неподдерживаемой функции, без изменения в создании кода.
-   окончательное создание предупреждения о неподдерживаемой функции, отсутствие изменений в создании кода.
-   Идентификатор проигнорирован.
-   смешанное создание предупреждения о неподдерживаемой функции, откате к структуре с помощью \_ буфера WS XML, \_ Если значение равно true.
-   имя поддерживается и сопоставлено с именем типа структуры.

<xs: complexType> содержимое

Это определение типа для Structure. ограничение complexContent не поддерживается.

-   complexContent поддерживает комплексное расширение содержимого. Сопоставляется с наследованием структуры.
-   Группирование в настоящее время для структурирования с помощью \_ \_ поля буфера WS XML. Может поддерживаться в соответствии с нижней частью.
-   вариант, поддерживаемый как объединение. Это не поддерживается в контракте данных.
-   Поддерживаемые последовательности — сопоставляется с полями структуры
-   поддерживается атрибут с одним исключением "запрещено". откат к структуре с помощью \_ буфера WS XML, \_ Если "запрещено".
-   не поддерживается attributeGroup — сопоставление с последовательностью атрибутов
-   anyAttribute игнорируется
-   Аттрибутеграупреф Supported — сопоставляется с последовательностью атрибутов.
-   Граупреф в настоящее время является резервным для структуры с \_ \_ полем буфера WS XML. Может поддерживаться в соответствии с группой ниже.
-   Любой поддерживаемый, сопоставляется с XML- \_ буфером
-   (пусто). поддерживается Map с пустым описанием структуры без создания структуры.

<xs:sequence> в сложном типе: содержимое

всутил только полностью поддерживает последовательность minOccurs = 1 и maxOccurs = 1; в противном случае сложный тип в настоящее время передается в \_ БУФЕР WS XML \_ . Он может поддерживаться в виде массива структур.

-   элемент поддерживается; Каждый экземпляр сопоставляется с полем в структуре.
-   Откат группы; элемент complexType является резервным для \_ XML- \_ буфера WS.
-   Все резервные; элемент complexType является резервным для \_ XML- \_ буфера WS.
-   поддерживается вариант; Сопоставьте с полем объединения.
-   откат последовательности; элемент complexType является резервным для \_ XML- \_ буфера WS.
-   любой поддерживаемый; сопоставлено с XML- \_ буфером.
-   (пусто) поддерживается; Если атрибуты отсутствуют, complexType может быть пустой структурой.

## <a name="elements"></a>Элементы

<xs: element>может возникать в трех контекстах.

-   Это может произойти в <xs: Sequence>, описывающем поле обычной структуры. В этом случае атрибут maxOccurs должен иметь значение 1. Поле является необязательным, если minOccurs имеет значение 0.
-   Это может произойти в <xs: Sequence>, описывающем поле массива. В этом случае атрибут maxOccurs должен быть больше 1 или не привязан.
-   Это может произойти в <xs: schema> как описание глобального элемента.

<xs: element> в <xs: Sequence> или <xs: Choice как поле в структуре

-   Поддержка ref; разрешено в ссылку на глобальный элемент.
-   имя поддерживается, сопоставляется с именем поля.
-   тип поддерживается, сопоставляется с типом поля. Дополнительные сведения см. в разделе "сопоставление типов". Если не указано (и элемент не содержит анонимный тип), то принимается значение xs: anyType.
-   блокировать создание предупреждения о неподдерживаемой функции, без изменения в создании кода.
-   по умолчанию выдается предупреждение о неподдерживаемой функции, но не влияет на создание кода.
-   Исправлено создание предупреждения о неподдерживаемой функции, отсутствие изменений в создании кода.
-   форма пропущена. Наш уровень сериализации поддерживает как квалифицированные, так и неквалифицированные формы.
-   Идентификатор проигнорирован.
-   maxOccurs сопоставляется с одним полем данных, если равно 1. он сопоставляется с полем массива (повторяющийся элемент), если maxOccurs больше 1.
-   minOccurs если значение равно 0, то параметры поля задаются как поле \_ необязательно, если не установлен параметр обнуляемых.
-   пустое поле является нулевым. Дополнительные сведения см. в разделе о [сериализации](serialization.md) .

<xs: element> как глобальный элемент: атрибуты

атрибуты minOccurs и maxOccurs являются недопустимыми в описании глобального элемента. Приложение может использовать описание созданного элемента непосредственно на уровне сериализации или на уровнях каналов.

-   abstract создает предупреждение о неподдерживаемой функции, не изменяет создание кода.
-   блокировать создание предупреждения о неподдерживаемой функции, без изменения в создании кода.
-   по умолчанию выдается предупреждение о неподдерживаемой функции, но не влияет на создание кода.
-   окончательное создание предупреждения о неподдерживаемой функции, отсутствие изменений в создании кода.
-   Исправлено создание предупреждения о неподдерживаемой функции, отсутствие изменений в создании кода.
-   Идентификатор проигнорирован.
-   Поддерживаемое имя — сопоставьте с именем глобального элемента Description, а при указании — в качестве основы для анонимного типа.
-   обнуляемый игнорируется — приложение должно вызываться с флагом справа.
-   Субститутионграуп откат к структуре с помощью \_ буфера WS XML, \_ Если задано. всутил не поддерживает Субститутионграуп.
-   тип поддерживается и сопоставляется с типом элемента.

<xs: element> как глобальный элемент: содержимое

-   simpleType поддерживается; сопоставляется с определением типа.
-   поддерживается complexType; сопоставляется со сложным типом.
-   уникальный создает предупреждение о неподдерживаемой функции, не влияет на создание кода. всутил не поддерживает ограничения элементов.
-   KEY создает предупреждение о неподдерживаемой функции, не изменяет создание кода. всутил не поддерживает ограничения элементов.
-   элемент keyref создает предупреждение о неподдерживаемой функции, не изменяет создание кода. всутил не поддерживает ограничения элементов.
-   свобод Поддерживается элемент без спецификации типа рассматривается как xs: anyType.

## <a name="simple-types"></a>Простые типы

Атрибуты <xs: simpleType>

-   Окончательное создание предупреждения о неподдерживаемой функции, отсутствие изменений в создании кода.
-   Идентификатор пропущен
-   Имя поддерживается, сопоставляется с именем типа.

<xs: simpleType> содержимое

-   Поддерживаемое ограничение, сопоставляется с типом перечисления или диапазоном. См. раздел «ограничения типа "xs: simpleType"».
-   В списке выдается предупреждение о неподдерживаемой функции, резервном восстановлении в \_ БУФЕР XML.
-   Union создает предупреждение о неподдерживаемой функции, резерве в \_ буфере XML.

## <a name="simple-type-restriction"></a>Ограничение простого типа

Некоторые аспекты допускаются в целочисленных типах и типах строк, чтобы обеспечить поддержку диапазона и перечисления.

поддержка перечисления

<xs: enumeration> ограничение простого типа для базового типа строки рассматривается как тип перечисления. В этом случае базовый атрибут должен иметь строковый тип. В случае перечисления все остальные аспекты игнорируются.

Поддержка простого типа в диапазоне

Некоторые аспекты поддерживаются простыми типами и поддерживают эффективный диапазон, допустимый для типа. Ниже приведены ограничения для целочисленных типов и типов float/Double. Простые типы с другими аспектами относятся к \_ типу WS String

-   Поддерживается minExclusive
-   minInclusive поддерживается
-   maxExclusive поддерживается
-   maxInclusive поддерживается
-   totalDigits создает предупреждение о неподдерживаемой функции, не изменяет создание кода.
-   Аспект fractionDigits создает предупреждение о неподдерживаемой функции, не изменяет создание кода.
-   Длина создает предупреждение о неподдерживаемой функции, не влияет на создание кода.
-   minLength создает предупреждение о неподдерживаемой функции, не изменяет создание кода.
-   maxLength создает предупреждение о неподдерживаемой функции, не изменяет создание кода.
-   Перечисление создает предупреждение о неподдерживаемой функции, не изменяет создание кода.
-   Пустое пространство создает предупреждение о неподдерживаемой функции, не изменяет создание кода.
-   шаблон создает предупреждение о неподдерживаемой функции, не изменяет создание кода.
-   свобод Поддерживается.

minLength и maxLength в строке в настоящее время не поддерживаются, но является желательной функцией для поддержки.

## <a name="inheritance"></a>Наследование

Всутил поддерживает наследование сложных типов, то есть структура может наследовать от другой структуры, подобно наследованию интерфейса в C++. Это выполняется с помощью <xs: Комплексконтентекстенсион>. <xs: Симплеконтентекстенсион> поддерживается, но формируется как обычная структура с базовым типом в качестве первого поля вместо наследования типа.

## <a name="typeprimitive-mapping"></a>Сопоставление тип-примитив

При преобразовании из Нкнамес в XML идентификаторы должны быть нормализованы. Строки являются пустыми; типы указателей являются пустыми; целочисленные типы и float/Double являются пустыми, а defaultValue имеет значение 0.

![Таблица, в которой показано сопоставление типов XSD и типов данных Sapphire.](images/schematypemap.png)

 

 




