---
title: Время существования контекста операции и работа с потоками
description: Время существования контекста операции, представленного \_ \_ обработчиком контекста операции WS, определяет время существования содержащихся в нем свойств.
ms.assetid: 37caf382-2b33-464d-b6c1-e4bd3271a5aa
keywords:
- Время существования контекста операции и веб-службы потоковой обработки для Windows
- ввсапи
- WWS
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9dd2748f797e43bab750f4e02409e62e6293b39cb44d4cfd3626f86099502fc3
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119344834"
---
# <a name="operation-context-lifetime-and-threading"></a>Время существования контекста операции и работа с потоками

Время существования контекста операции, представленного обработчиком [ \_ \_ контекста операции WS](ws-operation-context.md) , определяет время существования содержащихся в нем свойств. Таким образом, контекст должен использоваться только в течение времени существования [операции службы](service-operation.md) или обратного вызова, для которого предоставлен. Время существования синхронного вызова — это выполнение самой функции. Для асинхронного вызова время существования завершается после завершения асинхронного вызова. Модель службы не дает никаких гарантий относительно контекста после завершения вызова. Поведение контекста операции или его свойств, которые выходят за пределы времени существования, не определено.


См. также пример калькулятора на основе сеанса, [сессионфуллкалкулаторсервицеексампле](sessionfullcalculatorserviceexample.md).

## <a name="threading-model"></a>Модель потоков

Контекст операции поддерживает свободную работу с потоками, однако это верно для контекста операции и не применяется к содержащимся в нем свойствам.

При регистрации обратного вызова Cancel для операции службы с помощью функции [**всрегистероператионфорканцел**](/windows/desktop/api/WebServices/nf-webservices-wsregisteroperationforcancel) Обратите внимание, что первая регистрация будет выполнена. Однако при многократном задании обратного вызова отмены произойдет сбой.

 

 




