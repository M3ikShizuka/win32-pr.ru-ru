---
title: Контекст безопасности
description: Контексты безопасности обеспечивают возможность установки контекста безопасности сообщений в соответствии с WS-SecureConversation.
ms.assetid: bea92650-21bd-41d4-9dba-043d6779d85f
keywords:
- Собственный контекст безопасности — веб-службы
- ввсапи
- WWS
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 06dc1754133f47cf06c5c12e7318a94525be3c821f3db52a7e7513349c3100be
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119083178"
---
# <a name="security-context"></a>Контекст безопасности

Контексты безопасности обеспечивают возможность установки контекста безопасности сообщений в соответствии с WS-SecureConversation. Этот контекст затем можно использовать для защиты сообщений в качестве альтернативы безопасности для одного снимка, при которой учетные данные передаются для каждого запроса. Установленный контекст безопасности является более эффективным способом защиты сообщений при обмене данными между несколькими сообщениями.


Контекст безопасности требует наличия учетных данных безопасности начальной загрузки, которые используются для защиты сообщений, отправляемых в контексте. Для этой цели можно использовать привязку безопасности [**\_ сообщений WS Kerberos \_ апрек \_ \_ \_**](/windows/desktop/api/WebServices/ns-webservices-ws_kerberos_apreq_message_security_binding), [**\_ \_ \_ \_ \_ привязку безопасности сообщений WS XML Token**](/windows/desktop/api/WebServices/ns-webservices-ws_xml_token_message_security_binding), а также структуры [**\_ \_ \_ \_ привязки безопасности сообщений имени пользователя**](/windows/desktop/api/WebServices/ns-webservices-ws_username_message_security_binding) .

Контексты безопасности — это функция безопасности сообщений, настроенная с помощью привязок безопасности сообщений.

## <a name="client"></a>Клиент

На стороне клиента контекст безопасности привязан к определенному каналу. Он настраивается с [**помощью \_ \_ \_ \_ \_ привязки безопасности сообщений контекста безопасности WS**](/windows/desktop/api/WebServices/ns-webservices-ws_security_context_message_security_binding). Поведение и время существования контекста определяются каналом. При отправке первого сообщения по каналу устанавливается контекст безопасности. После этого контекст будет заблаговременно обновляться с настраиваемым интервалом. Если сервер возвращает ошибку, указывающую на необходимость продления контекста, контекст обновляется при отправке следующего сообщения. Если канал находится в открытом состоянии, контекст отменяется сообщением об отмене при закрытии канала.

## <a name="server"></a>Сервер

На сервере контекст безопасности настраивается так же, как и на клиенте. Однако он не привязан к какому-либо конкретному каналу. Вместо этого все каналы, созданные для прослушивателя с набором [**\_ \_ \_ \_ \_ привязки безопасности сообщений контекста безопасности WS**](/windows/desktop/api/WebServices/ns-webservices-ws_security_context_message_security_binding) , могут получать сообщения с любыми контекстами безопасности, установленными на каналах этого прослушивателя.

При поступлении сообщения в канал, поддерживающий контекст безопасности, контекст, используемый этим сообщением, можно получить, вызвав функцию [**всжетмессажепроперти**](/windows/desktop/api/WebServices/nf-webservices-wsgetmessageproperty) с [**\_ \_ \_ \_ контекстом безопасности свойства сообщения WS**](/windows/desktop/api/WebServices/ne-webservices-ws_message_property_id). Извлеченное значение можно использовать с [**всревокесекуритиконтекст**](/windows/desktop/api/WebServices/nf-webservices-wsrevokesecuritycontext) и [**всжетсекуритиконтекстпроперти**](/windows/desktop/api/WebServices/nf-webservices-wsgetsecuritycontextproperty).

## <a name="metadata"></a>Метаданные

Структура [**\_ \_ \_ \_ \_ \_ ограничения привязки безопасности сообщений контекста безопасности WS**](/windows/desktop/api/WebServices/ns-webservices-ws_security_context_message_security_binding_constraint) используется для извлечения политики контекста безопасности из метаданных. Дополнительные сведения см. в разделе [Импорт метаданных](metadata-import.md).

С контекстами безопасности используются следующие элементы API.

| Перечисление                                                                    | Описание                                         |
|--------------------------------------------------------------------------------|-----------------------------------------------------|
| [**\_ \_ \_ идентификатор свойства контекста безопасности \_ WS**](/windows/desktop/api/WebServices/ne-webservices-ws_security_context_property_id) | Определяет свойство объекта контекста безопасности. |



 



| Функция                                                             | Описание                                        |
|----------------------------------------------------------------------|----------------------------------------------------|
| [**всжетсекуритиконтекстпроперти**](/windows/desktop/api/WebServices/nf-webservices-wsgetsecuritycontextproperty) | Возвращает свойство указанного контекста безопасности. |
| [**всревокесекуритиконтекст**](/windows/desktop/api/WebServices/nf-webservices-wsrevokesecuritycontext)           | Отменяет контекст безопасности.                        |



 



| Дескриптор                                           | Описание                                                 |
|--------------------------------------------------|-------------------------------------------------------------|
| [\_контекст безопасности \_ WS](ws-security-context.md) | Непрозрачный тип, используемый для ссылки на объект контекста безопасности. |



 



| Структура                                                               | Описание                                                               |
|-------------------------------------------------------------------------|---------------------------------------------------------------------------|
| [**\_ \_ свойство контекста безопасности \_ WS**](/windows/desktop/api/WebServices/ns-webservices-ws_security_context_property) | Определяет свойство [ \_ \_ контекста безопасности WS](ws-security-context.md). |



 

 

 




