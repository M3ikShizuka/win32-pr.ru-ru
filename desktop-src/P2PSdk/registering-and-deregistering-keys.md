---
description: Регистрация и Отмена регистрации ключей
ms.assetid: 90fd8df0-e2a8-4183-a50c-e6f8ea5041cc
title: Регистрация и Отмена регистрации ключей
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 009ee41e85027ff8eba3f6869359a9ba304f4242
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105663966"
---
# <a name="registering-and-deregistering-keys"></a>Регистрация и Отмена регистрации ключей

## <a name="registering-keys"></a>Регистрация ключей

Узел может регистрировать ключи в [**дртрегистеркэй**](/windows/desktop/api/drt/nf-drt-drtregisterkey) в любое время в **\_ режиме DRT Active**, **DRT \_** и **DRT \_ без \_ сетевого** состояния. Ключи, регистрируемые **\_ только в DRT** , и **DRT \_ не \_** могут быть распознаны другими ДРТС после перехода локального узла в **DRT \_ Active**.

Идентичные ключи не могут быть зарегистрированы в одном экземпляре DRT при использовании [**дрткреатедериведкэйсекуритипровидер**](/windows/desktop/api/drt/nf-drt-drtcreatederivedkeysecurityprovider). При попыток регистрации идентичных ключей Регистрация второго ключа завершится ошибкой. Использование идентичных ключей также следует избегать между разными экземплярами DRT. Поиск по уникальному ключу. Эти идентичные ключи могут возвращать любой из ключей, независимо от того, какие данные связаны с ключом.

> [!Note]  
> Если для реализации требуется другое поведение, можно создать поставщик безопасности вместо [**дрткреатедериведкэйсекуритипровидер**](/windows/desktop/api/drt/nf-drt-drtcreatederivedkeysecurityprovider) для размещения.

 

## <a name="deregistering-keys"></a>Отмена регистрации ключей

Узел может отменить регистрацию ключа в любое время после его регистрации. Однако только приложение, которое зарегистрировало ключ, может отменить его регистрацию. Приложение может отменить регистрацию ключа на локальном узле с помощью функции [**дртунрегистеркэй**](/windows/desktop/api/drt/nf-drt-drtunregisterkey) . По завершении функция активирует событие **\_ \_ \_ \_ изменения ключа конечного элемента DRT Event** , уведомляя приложение, а также другие узлы, участвующие в сетке DRT.

В состоянии **\_ сбоя DRT** , требуемый вызов [**дртклосе**](/windows/desktop/api/drt/nf-drt-drtclose) , приведет к отмене регистрации всех ключей в инфраструктуре DRT.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Поиск в таблице распределенной маршрутизации](searching-a-distributed-routing-table.md)
</dt> <dt>

[Сведения о таблицах распределенной маршрутизации](about-distributed-routing-tables.md)
</dt> <dt>

[Справочник по распределенной маршрутизации API таблиц](distributed-routing-table-api-reference.md)
</dt> </dl>

 

 



