---
description: В этом разделе обсуждаются конкретные вопросы программирования при использовании одноранговой инфраструктуры.
ms.assetid: 525b0625-ec13-4aba-a741-dbacff3587f9
title: Вопросы программирования (одноранговые)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 89956cbdbbc8d2ed89226a490bbae505862ab18f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105663291"
---
# <a name="programming-considerations-peer-to-peer"></a>Вопросы программирования (одноранговые)

В этом разделе обсуждаются конкретные вопросы программирования при использовании одноранговой инфраструктуры.

При использовании одноранговой инфраструктуры для разработки одноранговых приложений следует учитывать следующие аспекты программирования:

-   IPv6;

    Одноранговая инфраструктура требует установки IPv6 и запуска приложений для работы с одноранговой сетью.

-   Порты брандмауэра

    При использовании брандмауэра в сети (например, в брандмауэре подключения к Интернету IPv6) необходимо открыть определенные порты, чтобы обеспечить функционирование одноранговой инфраструктуры. Должны быть открыты следующие порты:

    TCP-порт 3587 для инфраструктуры однорангового группирования.

    UDP-порт 3540 для инфраструктуры одноранговых диаграмм.

    > [!Note]  
    > Приложения, использующие одноранговую инфраструктуру диаграмм по протоколу TCP, выбирают собственный TCP-порт при вызове [**пирграфлистен**](/windows/desktop/api/P2P/nf-p2p-peergraphlisten).

     

-   Параметр сокета

    При попытке прямого подключения к другим одноранговым узлам IPv6 (без использования одноранговой инфраструктуры) убедитесь, что для параметра сокета IPV6 установлен уровень \_ \_ **защиты не \_ \_ ограничено**.

-   Пропускная способность

    При использовании PNRP приложение может опубликовать одно или несколько [одноранговых имен](peer-names.md) , которые можно разрешить. Для каждого имени однорангового узла, зарегистрированного в PNRP, существует увеличение пропускной способности сети, используемой протоколом PNRP для публикации имени однорангового узла, и обеспечение его доступности для разрешения другими узлами.

    Чтобы избежать чрезмерного использования пропускной способности, приложения должны избегать регистрации большого количества одноранговых имен на компьютере. Например, приложение, которое публикует рисунки, не должно создавать имя однорангового узла для каждого изображения, но должно создать одно имя однорангового узла для службы, которое публикует изображения, и использовать другой протокол для клиентов, чтобы запросить службу для конкретных изображений.

-   Регистрация имени однорангового узла

    Некоторым приложениям может потребоваться зарегистрировать одно и то же [имя однорангового узла](peer-names.md) на нескольких компьютерах. Как правило, это происходит, если имя однорангового узла связано с пользователем, использующим более одного компьютера. Одним из способов, с помощью которых можно зарегистрировать одно и то же имя однорангового узла на нескольких компьютерах, является создание одноранговой группы для пользователя и подключение к этой группе со всех компьютеров. Другой способ — создать одноранговый идентификатор и одноранговое имя на одном компьютере, экспортировать удостоверение однорангового узла с этого компьютера и импортировать его на другие компьютеры. Это позволяет создать одно и то же безопасное имя однорангового узла на всех компьютерах, которые импортировали одноранговый идентификатор.

 

 



