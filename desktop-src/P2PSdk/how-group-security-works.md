---
description: Одноранговые группы должны иметь конкретный сертификат для каждого члена, который называется сертификатом члена группы (ГМК).
ms.assetid: 3966d4eb-4504-4b1e-9c9f-6eab7751d7ed
title: Принципы работы группы безопасности
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0941b4bded19b914218d5c011e8696cdd9c92612a493954dc5dd45d91e59006a
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119675214"
---
# <a name="how-group-security-works"></a>Принципы работы группы безопасности

Одноранговые группы должны иметь конкретный сертификат для каждого члена, который называется сертификатом члена группы (ГМК). Сертификат ГМК гарантирует, что все записи, которыми обмениваются узлы, будут подписаны цифровой подписью. Открытый ключ однорангового узла содержится в структурах, которые передаются как часть обмена данными между одноранговыми узлами, [**включая \_ \_ сведения об учетных данных одноранговых узлов**](/windows/desktop/api/P2P/ns-p2p-peer_credential_info).

ГМК может быть выдано в цепочку. Например, создатель может выдать ГМК для администратора а, который может выдать ГМК администратору б, который может выдать ГМК для участника M. Результирующая цепочка ГМК: Creator — >A->B->M, длина которого равна 4. Длина цепочки важна, так как она не может быть длиннее 24. Если администратор 24 в цепочке пытается выдать ГМК участнику, [**пирграуписсуекредентиалс**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials) или [**пирграупкреатеинвитатион**](/windows/desktop/api/P2P/nf-p2p-peergroupcreateinvitation) возвращает \_ \_ \_ слишком длинную цепочку узлов E \_ .

ГМК также можно выдать путем вызова [**пирграуписсуекредентиалс**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials). ГМК подразумевает членство пользователя в группе, для которой выдается ГМК, и может иметь конечное или бесконечное время существования. Действие члена группы не может быть длиннее времени существования, указанного в ГМК.

> [!Note]  
> Неограниченное время жизни ГМК в настоящее время задается в течение 1000 лет.

 

Действие члена группы ограничено временем существования ГМК и включает следующее:

-   **Операции записи** . одноранговый узел не может публиковать сведения в группе после истечения срока действия членства в группе или публикации записей, время существования которых превышает время существования членства в группе одноранговых узлов.
-   **Операции членства** . Администратор группы не может выдать членство, срок действия которого превышает дату, указанную в членстве администратора группы. Например, если в течение ГМК времени существования администратора осталось 500 часов, все выданные членства должны быть меньше 500 часов.

Так как член группы не может иметь время существования дольше, чем администратор, который приглашает этого члена группы, рекомендуется задать для ГМК времени существования администратора бесконечное значение или для очень длинного времени жизни. По умолчанию создатель группы имеет бесконечное время существования.

## <a name="renewing-group-membership"></a>Продление членства в группе

Чтобы обновить учетные данные администратора или участника, срок жизни ГМК которого готов к истечению, у вас есть два следующих варианта:

-   Вызовите [**пирграуписсуекредентиалс**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials) и передайте удостоверение члена, срок жизни которого готов к истечению срока действия. Если учетные данные указаны как **null** и сведения о членстве одноранговых узлов доступны группе, то время продления устанавливается на ту же длительность, что и в ранее опубликованных учетных данных участника. Если необходимо указать другой период длительности, необходимо указать новую [**структуру \_ \_ сведений об учетных данных однорангового узла**](/windows/desktop/api/P2P/ns-p2p-peer_credential_info) , которая содержит новое время существования, а затем опубликовать новый ГМК для элемента.

    Функция [**пирграуписсуекредентиалс**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials) при необходимости принимает \_ \_ флаг учетных данных хранилища одноранговых групп \_ , который автоматически публикует новые учетные данные члена в групповой базе данных. Когда элемент подключается к группе в следующий раз, в первый раз или после перехода в режим «вне сети» элемент получает обновленный ГМК из базы данных.

-   Вызовите [**пирграупкреатеинвитатион**](/windows/desktop/api/P2P/nf-p2p-peergroupcreateinvitation) , чтобы передать удостоверение члена, срок жизни ГМК которого готов к истечению срока действия. Если срок действия, указанный в приглашении, равен **null**, то время существования ГМК будет таким же, как администратор ГМК, который выдает членство. Если создатель задает срок действия, равный **null**, выдается ГМК с бесконечным временем существования.

    Если одноранговый узел выдает ГМК, срок действия которого истекает до значения времени существования, адреса однорангового узла недоступны в [**одноранговых структурах- \_ членах**](/windows/desktop/api/P2P/ns-p2p-peer_member) , возвращаемых в перечислении, инициированном вызовом [**пирграупенуммемберс**](/windows/desktop/api/P2P/nf-p2p-peergroupenummembers). Это происходит потому, что сведения о присутствии не публикуются в этом случае, даже если \_ \_ не установлен флаг запрета присутствия для узла.

 

 



