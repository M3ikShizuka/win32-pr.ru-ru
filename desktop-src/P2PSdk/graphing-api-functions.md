---
description: 'API-интерфейс одноранговых диаграмм использует следующие функции:'
ms.assetid: cd05d4da-ca65-471b-bb97-82885f22e6f9
title: Построение графических функций API
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b26c40770e8fcbc18b08ccb73dcfea5f1f6c4eab65be615ed76d8088ddc90954
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119776224"
---
# <a name="graphing-api-functions"></a>Построение графических функций API

API-интерфейс одноранговых диаграмм использует следующие функции:

## <a name="initialization-and-cleanup-functions"></a>Функции инициализации и очистки



| Функция                                       | Описание                                                                                                        |
|------------------------------------------------|--------------------------------------------------------------------------------------------------------------------|
| [**пирграфшутдовн**](/windows/desktop/api/P2P/nf-p2p-peergraphshutdown) | Очищает все ресурсы, выделенные вызовом метода [**пирграфстартуп**](/windows/desktop/api/P2P/nf-p2p-peergraphstartup).                     |
| [**пирграфстартуп**](/windows/desktop/api/P2P/nf-p2p-peergraphstartup)   | Указывает на инфраструктуру одноранговых диаграмм, какая версия протоколов одноранговых узлов требует вызывающего приложения. |



 

## <a name="graph-creation-and-access-functions"></a>Graph Функции создания и доступа



| Функция                                   | Описание                                                                                                                                                                                                           |
|--------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**пирграфклосе**](/windows/desktop/api/P2P/nf-p2p-peergraphclose)   | Делает недействительным одноранговый граф, возвращенный вызовом либо [**пирграфкреате**](/windows/desktop/api/P2P/nf-p2p-peergraphcreate) , либо [**пирграфопен**](/windows/desktop/api/P2P/nf-p2p-peergraphopen), и закрывает все сетевые подключения для указанного однорангового графа. |
| [**пирграфкреате**](/windows/desktop/api/P2P/nf-p2p-peergraphcreate) | Создает новый одноранговый граф.                                                                                                                                                                                             |
| [**пирграфделете**](/windows/desktop/api/P2P/nf-p2p-peergraphdelete) | Удаляет данные, связанные с указанной одноранговой диаграммой.                                                                                                                                                              |
| [**пирграфлистен**](/windows/desktop/api/P2P/nf-p2p-peergraphlisten) | Указывает, что одноранговый граф должен начать прослушивание входящих соединений.                                                                                                                                          |
| [**пирграфопен**](/windows/desktop/api/P2P/nf-p2p-peergraphopen)     | Открывает одноранговый граф, созданный ранее либо локальным узлом, либо удаленным узлом.                                                                                                                              |



 

## <a name="graph-and-node-information-functions"></a>функции Graph и сведения об узле



| Функция                                                         | Описание                                                                                                                                                        |
|------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**пирграфенумнодес**](/windows/desktop/api/P2P/nf-p2p-peergraphenumnodes)                 | Создает и возвращает маркер перечисления, используемый для перечисления узлов в одноранговой диаграмме.                                                                             |
| [**пирграфжетнодеинфо**](/windows/desktop/api/P2P/nf-p2p-peergraphgetnodeinfo)             | Извлекает сведения об определенном узле.                                                                                                                       |
| [**пирграфжетпропертиес**](/windows/desktop/api/P2P/nf-p2p-peergraphgetproperties)         | Извлекает текущие свойства однорангового графа.                                                                                                                       |
| [**пирграфжетстатус**](/windows/desktop/api/P2P/nf-p2p-peergraphgetstatus)                 | Возвращает текущее состояние однорангового графа.                                                                                                                      |
| [**пирграфсетнодеаттрибутес**](/windows/desktop/api/P2P/nf-p2p-peergraphsetnodeattributes) | Задает атрибуты структуры [**\_ \_ сведений о одноранговом узле**](/windows/desktop/api/P2P/ns-p2p-peer_node_info) для локального узла.                                                                |
| [**пирграфсетпресенце**](/windows/desktop/api/P2P/nf-p2p-peergraphsetpresence)             | Явно включает или отключает публикацию записей присутствия для определенного узла. Эта функция может переопределить параметры присутствия в свойствах однорангового графа. |
| [**пирграфсетпропертиес**](/windows/desktop/api/P2P/nf-p2p-peergraphsetproperties)         | Задает свойства однорангового графа.                                                                                                                                    |



 

## <a name="record-management-functions"></a>Функции управления записями



| Функция                                                                     | Описание                                                                                                                         |
|------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------|
| [**пирграфаддрекорд**](/windows/desktop/api/P2P/nf-p2p-peergraphaddrecord)                             | Добавляет новую запись в одноранговый граф. Запись, добавленная с помощью этой функции, отправляется каждому узлу в одноранговой диаграмме.                          |
| [**пирграфделетерекорд**](/windows/desktop/api/P2P/nf-p2p-peergraphdeleterecord)                       | Помечает запись как удаленную в одноранговой диаграмме.                                                                                      |
| [**пирграфенумрекордс**](/windows/desktop/api/P2P/nf-p2p-peergraphenumrecords)                         | Создает и возвращает маркер перечисления, используемый для перечисления записей определенного типа записи, пользователя или и того и другого.                    |
| [**пирграфжетрекорд**](/windows/desktop/api/P2P/nf-p2p-peergraphgetrecord)                             | Извлекает определенную запись на основе указанного идентификатора записи.                                                                       |
| [**пирграфсеарчрекордс**](/windows/desktop/api/P2P/nf-p2p-peergraphsearchrecords)                     | Выполняет поиск конкретных записей на одноранговой диаграмме.                                                                                       |
| [**пирграфупдатерекорд**](/windows/desktop/api/P2P/nf-p2p-peergraphupdaterecord)                       | Обновляет запись в одноранговой диаграмме, а затем перегружает запись в каждый узел однорангового графа.                                       |
| [**пирграфвалидатедеферредрекордс**](/windows/desktop/api/P2P/nf-p2p-peergraphvalidatedeferredrecords) | Обозначает инфраструктуру одноранговых диаграмм, которая накладывает время повторной отправки всех отложенных записей для модуля безопасности для проверки. |



 

## <a name="export-and-import-functions"></a>Функции экспорта и импорта



| Функция                                                   | Описание                                                                          |
|------------------------------------------------------------|--------------------------------------------------------------------------------------|
| [**пирграфекспортдатабасе**](/windows/desktop/api/P2P/nf-p2p-peergraphexportdatabase) | Экспортирует одноранговую базу данных графа в файл, который можно переместить на другой компьютер. |
| [**пирграфимпортдатабасе**](/windows/desktop/api/P2P/nf-p2p-peergraphimportdatabase) | Импортирует файл, содержащий сведения из одноранговой базы данных графа.             |



 

## <a name="utility-and-support-functions"></a>Функции служебной программы и поддержки



| Функция                                                                     | Описание                                                                                                                       |
|------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------|
| [**пирграфенденумератион**](/windows/desktop/api/P2P/nf-p2p-peergraphendenumeration)                   | Освобождает дескриптор перечисления и освобождает ресурсы, связанные с перечислением.                                           |
| [**пирграффридата**](/windows/desktop/api/P2P/nf-p2p-peergraphfreedata)                               | Освобождает ресурсы, возвращаемые несколькими функциями API одноранговых диаграмм.                                                           |
| [**пирграфжетитемкаунт**](/windows/desktop/api/P2P/nf-p2p-peergraphgetitemcount)                       | Извлекает количество элементов в перечислении.                                                                                  |
| [**пирграфжетнекститем**](/windows/desktop/api/P2P/nf-p2p-peergraphgetnextitem)                         | Получает следующий элемент или элементы в перечислении, созданном путем вызова конкретных функций, которые возвращают перечисление одноранговых узлов.        |
| [**пирграфпиртиметауниверсалтиме**](/windows/desktop/api/P2P/nf-p2p-peergraphpeertimetouniversaltime) | Преобразует значение времени ссылки, поддерживаемое одноранговой диаграммой, в локализованное значение времени, подходящее для отображения на компьютере однорангового компьютера. |
| [**пирграфуниверсалтиметопиртиме**](/windows/desktop/api/P2P/nf-p2p-peergraphuniversaltimetopeertime) | Преобразует значение универсального времени с компьютера однорангового приложения в общее значение времени однорангового графа.                                       |



 

## <a name="connection-functions"></a>Функции подключения



| Функция                                                                 | Описание                                                                                                                                                                                                                                    |
|--------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**пирграфклоседиректконнектион**](/windows/desktop/api/P2P/nf-p2p-peergraphclosedirectconnection) | Закрывает указанное прямое соединение.                                                                                                                                                                                                          |
| [**пирграфконнект**](/windows/desktop/api/P2P/nf-p2p-peergraphconnect)                             | Пытается установить соединение с указанным узлом в одноранговой диаграмме. Эта функция запускает асинхронную операцию.                                                                                                                             |
| [**пирграфенумконнектионс**](/windows/desktop/api/P2P/nf-p2p-peergraphenumconnections)             | Создает и возвращает маркер перечисления, используемый для перечисления соединений локального узла.                                                                                                                                                   |
| [**пирграфопендиректконнектион**](/windows/desktop/api/P2P/nf-p2p-peergraphopendirectconnection)   | Позволяет приложению устанавливать прямое соединение с узлом в одноранговой диаграмме. Соединение может быть установлено только в том случае, если узел, к которому подключается приложение, подписан на событие **\_ \_ \_ прямого \_ подключения однорангового графа** . |
| [**пирграфсенддата**](/windows/desktop/api/P2P/nf-p2p-peergraphsenddata)                           | Отправляет данные в соседский узел или напрямую подключенный узел.                                                                                                                                                                                    |



 

## <a name="events-infrastructure-functions"></a>Функции инфраструктуры событий



| Функция                                                     | Описание                                                                                                  |
|--------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------|
| [**пирграфжетевентдата**](/windows/desktop/api/P2P/nf-p2p-peergraphgeteventdata)       | Извлекает события одноранговых узлов.                                                                                       |
| [**пирграфрегистеревент**](/windows/desktop/api/P2P/nf-p2p-peergraphregisterevent)     | Регистрирует запрос однорангового узла, чтобы получать уведомления об изменениях, связанных с одноранговой диаграммой и типом событий.            |
| [**пирграфунрегистеревент**](/windows/desktop/api/P2P/nf-p2p-peergraphunregisterevent) | Запрашивает, что приложение больше не получает уведомления об изменениях, связанных с одноранговой диаграммой и типом записи. |



 

 

 



