---
title: Регистрация конечных точек
description: Регистрация серверной программы на карте конечных точек хост-сервера позволяет клиентским программам определить конечную точку (обычно это порт TCP/IP или именованный канал), который прослушивает серверная программа.
ms.assetid: d09874f8-2b55-4af2-bfe1-8978301d6692
keywords:
- Удаленный вызов процедур RPC, задачи, регистрация конечных точек
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6674d20eefa9ebd690f618c36f1dfe69f37dcf7743a0830e06cb38bc85ccfd56
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118926863"
---
# <a name="registering-endpoints"></a>Регистрация конечных точек

Регистрация серверной программы на карте конечных точек хост-сервера позволяет клиентским программам определить конечную точку (обычно это порт TCP/IP или именованный канал), который прослушивает серверная программа. Чтобы зарегистрироваться в карте конечных точек серверной системы узла, серверная программа вызывает функцию [**рпцепрегистер**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcepregister) , как показано в следующем фрагменте кода:


```C++
// This example assumes that MyInterface_v1_0_s_ifspec is a valid data
// structure that represents the interface being registered. The 
// variable is a valid pointer to a binding vector.
RPC_STATUS status;
status = RpcEpRegister(
    MyInterface_v1_0_s_ifspec,
    rpcBindingVector,
    NULL,
    NULL);
```



Первым параметром для [**рпцепрегистер**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcepregister) является структура, представляющая интерфейс. Его можно найти в файле заголовка, созданном компилятором MIDL из файла MIDL для этого распределенного приложения. См. раздел [Разработка интерфейса](developing-the-interface.md). Далее **рпцепрегистер** требуется, чтобы приложение передавало набор дескрипторов привязки, которые хранятся в векторе привязки.

Кроме регистрации имен интерфейсов, серверное приложение также может регистрировать ИДЕНТИФИКАТОРы объектов на карте конечных точек. В этом примере нет UUID объекта для регистрации, поэтому третий параметр [**рпцепрегистер**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcepregister) имеет значение **null**.

Последний параметр представляет собой строку комментария. Несмотря на то, что библиотека времени выполнения RPC не использует эту строку, рекомендуется задать строку, так как она повышает управляемость системы. Системный администратор может использовать строку для определения портов, используемых приложениями, которые затем можно использовать для определения портов, управляемых брандмауэрами.

 

 




