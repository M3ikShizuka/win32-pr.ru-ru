---
title: Очистка на стороне сервера
description: Очистка на стороне сервера и удаленный вызов процедур (RPC).
ms.assetid: 8a48f698-82ae-464b-bdd9-f0245bbc7733
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 223cd15eb659a62c4a758098e9b0f70e977ebb069a2a305d2909b97b5fb12010
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118925296"
---
# <a name="server-side-cleanup"></a>Очистка на стороне сервера

Imagine следующем сценарии:

Клиент открывает обработчик контекста, а затем либо останавливает, либо теряет подключение к серверу. Как сервер обнаруживает, что клиент завершился сбоем, и должен быть запущен обработчик контекста? Существует два подсценария: один заключается в том, что работа клиента завершается упорядоченным способом. В таком случае он уведомляет сервер о завершении работы, а сервер может выполнить очистку, включая выполнение контекста. Если клиент не завершает работу последовательно или не может уведомить сервер, сервер использует проверку активности, чтобы определить, доступен ли клиент по-прежнему. На стороне сервера функция [**рпкмгмтсеткомтимеаут**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcmgmtsetcomtimeout) не действует. Вместо этого сервер использует параметр "Глобальный том на компьютер — проверка активности", значение по умолчанию примерно два часа. Если клиент не отвечает на активность сохранения сервера, соединение закрывается. Когда все соединения с данным клиентским процессом закрываются, сервер очищает и запускает незавершенные дескрипторы контекста.

 

 




