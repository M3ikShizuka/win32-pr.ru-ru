---
title: Представление данных
description: Вычислительные среды могут значительно различаться, как и сетевые архитектуры.
ms.assetid: 34ba76ae-644d-4168-886f-0909a65f1abd
keywords:
- Удаленный вызов процедур RPC, описание, представление данных
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4de187f2b646e55cd4f1a269f0504a2d43e951c3
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127259808"
---
# <a name="data-representation"></a>Представление данных

Вычислительные среды могут значительно различаться, как и сетевые архитектуры. Для соответствия этим различиям MIDL позволяет изменить способ представления данных. Иногда можно упростить разработку, преобразовав данные в формат, который может быть более легко обработано в приложении. Вы можете изменить формат данных приложения, чтобы он мог быть более эффективно передан по сети.

Атрибуты « **\[** [**передать \_ как**](/windows/desktop/Midl/transmit-as) **\]** » и « **\[** [**представить \_ как**](/windows/desktop/Midl/represent-as) » **\]** указывают компилятору связать тип трансмиссибле, который заглушка передает между клиентом и сервером, с типом пользователя, используемым клиентскими и серверными приложениями. Необходимо указать подпрограммы, выполняющие преобразование между типом пользователя и типом трансмиссибле, и подпрограммы для освобождения памяти, которая использовалась для хранения преобразованных данных. С помощью атрибута " **\[ передать \_ как \]** IDL" или " **\[ представить \_ как \]** ACF" предписывает заглушке вызывать эти подпрограммы преобразования до и после передачи. Атрибут **\[** [**передать \_ как**](/windows/desktop/Midl/transmit-as) **\]** позволяет преобразовать один тип данных в другой тип данных для передачи по сети. Атрибут **\[** [**представить \_ как**](/windows/desktop/Midl/represent-as) **\]** позволяет управлять способом представления данных из сети для приложения.

Атрибуты **\[** [**\_ маршалирования**](/windows/desktop/Midl/wire-marshal) **\]** и **\[** [**\_ МАРШАЛИРОВАНИЯ пользователя**](/windows/desktop/Midl/user-marshal) **\]** являются расширениями Майкрософт для IDL использование-DCE. Их синтаксис и функциональные возможности похожи на атрибуты, указанные устройством DCE **\[ \_ как \]** , и **\[ представляют их \_ в \] качестве** атрибутов соответственно. Разница заключается в том, что вместо преобразования данных из одного типа в другой данные упаковываются напрямую. Для этого необходимо предоставить внешние подпрограммы для изменения размера буфера данных на стороне клиента и сервера, а также для упаковки и распаковки данных на стороне клиента и сервера, а также для освобождения данных на сервере. Компилятор MIDL создает коды форматов, которые предписывает подсистеме NDR вызывать эти внешние подпрограммы при необходимости.

Атрибуты маршалирования и **\[ \_ маршалирования \] пользователя** позволяют маршалировать типы данных, которые в противном случае не могут быть переданы через границы процесса. **\[ \_ \]** Кроме того, так как с преобразованием типов связаны менее служебные издержки **\[ \_ \] ,** **\[ \_ \]** при сравнении между **\[ \_ \] передачей** и **\[ представлением \_ \]** можно повысить производительность во время выполнения. Атрибуты взаимного **\[ \_ \] маршалирования** и **\[ \_ маршалирования \] пользователя** являются взаимоисключающими по отношению **\[ \_ \]** друг к другу и **\[ \_ \]** по отношению к атрибутам передачи и представления для данного типа.

Важно отметить, что реализация **\[ проводных \_ \]** и **\[ пользовательских \_ \]** атрибутов маршалинга должна соответствовать правилам маршалирования, задаваемым спецификацией использование-DCE. По этой причине использование этих атрибутов не рекомендуется, если вы не знакомы с протоколом Wire. Дополнительные сведения о переносе с помощью синтаксиса ОНД можно найти по адресу [www.Opengroup.org](https://pubs.opengroup.org/onlinepubs/9629399/chap14.htm).

В этом разделе приводится краткий обзор для атрибутов MIDL в следующих разделах:

-   [**Атрибуты «передать \_ как» и «представить \_ как»**](the-transmit-as-and-represent-as-attributes.md)
-   [**Атрибуты "проводное \_ маршалирование" и "пользовательское \_ маршалирование"**](the-wire-marshal-and-user-marshal-attributes.md)

 

 