---
title: Разработка клиента
description: Разработка клиентской программы RPC аналогична разработке серверной программы. Сведения о разработке программы RPC Server см. в разделе Разработка сервера.
ms.assetid: 92276326-d478-479e-8fa4-02a2fce58eb6
keywords:
- Удаленный вызов процедур RPC, задачи, разработка клиента
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 10ceddedc4ccfd1d068e3452b64ed8c6b54a621d
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "103987790"
---
# <a name="developing-the-client"></a>Разработка клиента

Разработка клиентской программы RPC аналогична разработке серверной программы. Сведения о разработке программы RPC Server см. в разделе [Разработка сервера](developing-the-server.md).

Как и при разработке сервера, клиентская программа должна включать файл заголовка, созданный компилятором MIDL из IDL-файла. Компилятор MIDL также создает исходный файл на языке C, содержащий клиентскую заглушку. Необходимо скомпилировать этот исходный файл на языке C и связать его с клиентской программой. (Кроме того, компилятор MIDL создает исходный файл на языке C, содержащий серверную заглушку, но не относящийся к этому обсуждению.)

Помимо компиляции и связывания клиентской заглушки с файлами программы, необходимо связать библиотеку импорта (и любые другие библиотеки, необходимые клиентской программе) с клиентской программой. Процесс создания клиентской программы RPC показан на следующей схеме.

![процесс создания клиентской программы для распределенного приложения](images/clntdev.png)

В примере на предыдущем рисунке показано создание клиентской программы RPC с именем MyClnt.exe. Первым шагом является определение интерфейса в файле MyApp. idl. Компилятор MIDL использует MyApp. IDL для создания файла MyApp \_ c. c, который содержит клиентскую заглушку. Он также создает файл MyApp. h, который должна включать клиентская программа. Клиентская программа также должна включить файлы RPC. h и РПКНДР. h.

Сама клиентская программа создается в файле Миклнт. c. В реальных проектах клиентская программа обычно состоит из нескольких исходных файлов C. Все они должны быть скомпилированы и связаны вместе. Однако в этом примере для простоты используется только один файл.

Файлы Миклнт. c и MyApp \_ c. c компилируются и связываются вместе с библиотекой времени выполнения RPC и другими библиотеками, которые требуются клиентской программе. Результатом является исполняемая клиентская программа с именем MyClnt.exe.

Если вы не компилируете IDL-файл в режиме совместимости использование ([**/ОСФ**](/windows/desktop/Midl/-osf)), клиентская программа должна предоставить функцию для выделения памяти и функцию для ее освобождения. Для Windows 2000 и более поздних версий рекомендуется использовать режим [**/Oicf**](/windows/desktop/Midl/-oi). Дополнительные сведения см. в статье [о выделении и](how-memory-is-allocated-and-deallocated.md)освобождении памяти и назначении [указателей и выделении памяти](pointers-and-memory-allocation.md).

 

 