---
title: Функция type_UserUnmarshal
description: Функция Type \_ усерунмаршал — это вспомогательная функция для атрибутов \ "\ проводное \_ маршалирование \" и \ "пользовательское \_ маршалирование \".
ms.assetid: ee7a0e96-11ec-4d15-9d4b-55cc175fdd55
keywords:
- type_UserMarshal
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bb9d894b2658de9dc4559cfbef2ad1db2c4e79b0b9313754c4edafbd2c32fc2d
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "120016454"
---
# <a name="the-type_userunmarshal-function"></a>Тип \_ Усерунмаршал функция

Функция **<type> \_ усерунмаршал** является вспомогательной функцией для \[ атрибутов [ \_ маршалирования](/windows/desktop/Midl/wire-marshal) \] и \[ [ \_ маршалирования пользователя](/windows/desktop/Midl/user-marshal) \] . Заглушки вызывают эту функцию для распаковки данных на стороне клиента или сервера. Функция определяется следующим образом:

``` syntax
unsigned char __RPC_FAR * __RPC_USER  <type>_UserUnmarshal(
    unsigned long __RPC_FAR * pFlags,
    unsigned char __RPC_FAR * pBuffer,
    <type>  __RPC_FAR *       pMyObj);
```

<type>В имени функции — это усерм-тип, указанный в **\[ \_ \]** определении типа маршалирования или **\[ пользовательской \_ упаковки \]** . Этот тип может быть непригодным или даже при использовании с атрибутом **\[ пользовательской \_ маршалирования \]** , неизвестным компилятору MIDL. Имя типа провода (имя типа трансмиссибле) не используется в прототипе функции. Однако обратите внимание, что тип провода определяет макет сети для данных, как указано в использование DCE.

Параметр *пфлагс* является указателем на **беззнаковое поле с длинным** флагом. Верхнее слово флага содержит флаги представления данных NDR в соответствии с определением использование DCE для чисел с плавающей запятой, порядка байтов и символьных представлений. В нижнем слове содержится флаг контекста маршалирования, определенный в канале COM. Точный макет флагов внутри поля описан в [ \_ функции Type усерсизе](the-type-usersize-function.md).

Параметр *pBuffer* является указателем текущего буфера. Этот указатель может быть или не выдаваться по строке. Функция **<type> \_ усерунмаршал** должна соответствующим образом согласовать указатель буфера, распаковать данные и вернуть новую позиции буфера, которая является адресом первого байта после неупакованного объекта.

Параметр *пмйобж* является указателем на объект определяемого пользователем типа.

В разнородной среде модуль NDR выполняет все необходимые преобразования данных перед вызовом функции **<type> \_ усерунмаршал** . Обратите внимание, что механизм NDR выполняет преобразование данных в соответствии с определением типа провода, предоставленным для этого типа данных пользователя. Флаг указывает представление данных отправителя.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Правила маршалирования для пользовательского \_ маршалирования и передачи проводного \_ маршалирования](marshaling-rules-for-user-marshal-and-wire-marshal.md)
</dt> <dt>

[проводное \_ маршалирование](/windows/desktop/Midl/wire-marshal)
</dt> <dt>

[Пользовательская \_ Упаковка](/windows/desktop/Midl/user-marshal)
</dt> </dl>

 

 