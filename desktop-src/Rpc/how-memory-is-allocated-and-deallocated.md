---
title: Как выделяются и освобождаются память
description: По умолчанию код-заглушка, созданный компилятором MIDL, вызывает предоставляемые пользователем функции для выделения и освобождения памяти. Эти функции, пользовательское \_ \_ выделение MIDL и пользовательский класс MIDL \_ \_ , должны предоставляться разработчиком и связываться с приложением.
ms.assetid: 65af7a6d-4cfa-4175-9085-560d97cab41d
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d1e7b4a0fd9a765593fc6f44365e17bc45c10b1244c226abc09ff302e81ec107
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118929521"
---
# <a name="how-memory-is-allocated-and-deallocated"></a>Как выделяются и освобождаются память

По умолчанию код-заглушка, созданный компилятором MIDL, вызывает предоставляемые пользователем функции для выделения и освобождения памяти. Эти функции, пользовательское [**\_ \_ выделение MIDL**](/windows/desktop/Midl/midl-user-allocate-1) и [**Пользовательский класс MIDL \_ \_**](/windows/desktop/Midl/midl-user-free-1), должны предоставляться разработчиком и связываться с приложением.

Все приложения должны предоставлять реализации пользовательского [**\_ \_ выделения MIDL**](/windows/desktop/Midl/midl-user-allocate-1) и [**\_ пользователя MIDL \_ бесплатно**](/windows/desktop/Midl/midl-user-free-1), даже если имена этих функций могут не отображаться явным образом в заглушках. Единственным исключением является компиляция в режиме использование-Compatibility (/ОСФ). Эти функции, предоставляемые пользователем, должны соответствовать определенному прототипу функции, но в противном случае могут быть реализованы любым способом, удобным или удобным для приложения. Кроме того, приложения могут использовать пакет управления памятью RPCSS. Эта группа функций предоставляется библиотекой времени выполнения Microsoft RPC.

В следующих разделах описываются функции управления памятью RPC.

-   [**\_пользовательское \_ выделение MIDL**](/windows/desktop/Midl/midl-user-allocate-1)
-   [**\_бесплатный пользователь \_ MIDL**](/windows/desktop/Midl/midl-user-free-1)
-   [Пакет управления памятью RPCSS](rpcss-memory-management-package.md)

 

 