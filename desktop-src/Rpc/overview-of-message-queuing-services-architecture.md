---
title: Обзор архитектуры служб очереди сообщений
description: Службы очередей сообщений (MSMQ) используют модель сайта или предприятия. Как правило, сайт — это физическое расположение, например сборка. Предприятие состоит из одного или нескольких сайтов и представляет собой организацию.
ms.assetid: f5c54c58-8ec5-49b7-a184-aed9a8100960
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8bae7eb93ab7d12ab245b905e83bc129ea656d10d70602d2235304a02966020f
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "120019323"
---
# <a name="overview-of-message-queuing-services-architecture"></a>Обзор архитектуры служб очереди сообщений

Службы очередей сообщений (MSMQ) используют модель сайта или предприятия. Как правило, сайт — это физическое расположение, например сборка. Предприятие состоит из одного или нескольких сайтов и представляет собой организацию.

На следующей схеме показана архитектура службы MSMQ.

![Архитектура MSMQ](images/msmq.png)

В основе MSMQ лежит база данных службы очередей сообщений (MQIS), которая работает поверх SQL Server. на предприятии имеется единая главная MQIS, которая называется основным контроллером Enterprise. Каждый сайт имеет собственную MQIS, называемую *первичным контроллером сайта* и нулевым или более *резервным контроллером сайта*. Наконец, существуют отдельные клиентские компьютеры, каждый из которых имеет собственный диспетчер очередей, реализованный как услуга. основной контроллер Enterprise также может быть основным контроллером сайта, а любой контроллер также может быть клиентом.

Очереди сообщений могут быть либо открытыми, либо закрытыми. Общие очереди регистрируются в Active Directory и доступны по сети. Сообщения в общей очереди направляются по всему предприятию под управлением MSMQ. Сообщения клиентских приложений перемещаются из диспетчера очередей клиента в очередь назначения путем перемещения между диспетчерами очереди контроллеров сайта.

Частные очереди обслуживаются диспетчером локальных очередей и не регистрируются в Active Directory. Область сообщений частной очереди ограничена компьютером, на котором они находятся.

 

 




