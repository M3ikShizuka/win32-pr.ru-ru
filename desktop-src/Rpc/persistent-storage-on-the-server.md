---
title: постоянное служба хранилища на сервере
description: Вы можете оптимизировать приложение, чтобы заглушка сервера не вымогла освободить память на сервере при завершении удаленного вызова процедуры.
ms.assetid: 340334e2-94ac-4be2-a16d-38bc4c64e7db
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 998a8daa9883582d110545bcee60714f1bb9129b1bab48b99407f3a4d6898d5e
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "120019254"
---
# <a name="persistent-storage-on-the-server"></a>постоянное служба хранилища на сервере

Вы можете оптимизировать приложение, чтобы заглушка сервера не вымогла освободить память на сервере при завершении удаленного вызова процедуры. Например, если обработчик контекста будет управляться несколькими удаленными процедурами, можно использовать атрибут ACF, **\[ выделяющий (не \_ освобождая) \]** , чтобы хранить выделенную память на сервере.

Атрибут **\[ выделения (не \_ Free) \]** добавляется в объявление **typedef** ACF в ACF. Например:

``` syntax
/* ACF file fragment */
typedef [allocate(all_nodes, dont_free)] P_TREE_TYPE;
```

Если задан атрибут **\[ выделения (не \_ свободен) \]** , то в качестве серверной заглушки выделяется структура данных дерева, но не освобождается. При внесении указателей на такие постоянные области данных, которые доступны для других подпрограмм, например путем копирования указателей на глобальные переменные, сохраненные данные доступны другим серверным функциям. Атрибут **\[ выделения (не \_ Free) \]** особенно полезен для поддержания постоянных структур указателей в составе сведений о состоянии сервера, связанных с типом обработчика контекста.

 

 




