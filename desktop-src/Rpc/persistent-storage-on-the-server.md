---
title: Постоянное хранилище на сервере
description: Вы можете оптимизировать приложение, чтобы заглушка сервера не вымогла освободить память на сервере при завершении удаленного вызова процедуры.
ms.assetid: 340334e2-94ac-4be2-a16d-38bc4c64e7db
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e7237fe6136918e5495ee1f22bac0991d71c5dbf
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "103986657"
---
# <a name="persistent-storage-on-the-server"></a>Постоянное хранилище на сервере

Вы можете оптимизировать приложение, чтобы заглушка сервера не вымогла освободить память на сервере при завершении удаленного вызова процедуры. Например, если обработчик контекста будет управляться несколькими удаленными процедурами, можно использовать атрибут ACF, **\[ выделяющий (не \_ освобождая) \]** , чтобы хранить выделенную память на сервере.

Атрибут **\[ выделения (не \_ Free) \]** добавляется в объявление **typedef** ACF в ACF. Пример:

``` syntax
/* ACF file fragment */
typedef [allocate(all_nodes, dont_free)] P_TREE_TYPE;
```

Если задан атрибут **\[ выделения (не \_ свободен) \]** , то в качестве серверной заглушки выделяется структура данных дерева, но не освобождается. При внесении указателей на такие постоянные области данных, которые доступны для других подпрограмм, например путем копирования указателей на глобальные переменные, сохраненные данные доступны другим серверным функциям. Атрибут **\[ выделения (не \_ Free) \]** особенно полезен для поддержания постоянных структур указателей в составе сведений о состоянии сервера, связанных с типом обработчика контекста.

 

 




