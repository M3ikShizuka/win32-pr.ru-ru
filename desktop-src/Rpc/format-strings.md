---
title: Строки формата
description: Строка формата — это интерпретируемый токен, распознаваемый подсистемой NDR. Строки формата часто называются MOPs; в этой документации используется строка формата термина в пределах.
ms.assetid: 548283bd-023a-41dd-b1d0-661305d019e9
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 563dd9e4145a7d83b2e49f180329c05c1d55155d
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "103776964"
---
# <a name="format-strings"></a>Строки формата

Строка формата — это интерпретируемый токен, распознаваемый подсистемой NDR. Строки формата часто называются MOPs; в этой документации используется строка формата термина в пределах.

Чтобы быть более точным, символ форматирования является отдельным (атомарным) интерпретируемым маркером. Каждый символ формата имеет размер в один байт. Строка форматирования представляет собой последовательность символов формата или символов форматирования и числовых данных. Дескриптор термина также используется для именования общих последовательностей. Например, строка формата параметра или дескриптор параметра — это строка формата, используемая для описания параметра подпрограммы.

Символы формата имеют предполагающее определенную символьные имена, такие как FC \_ длинная или FC \_ . Все символы строки формата, используемые MIDL и подсистема NDR, определяются в файле Ндртипес. h.

## <a name="format-string-tables"></a>Форматирование таблиц строк

Обработчик использует две первичные таблицы строк формата: таблицу строк формата процедур, **\_ \_ MIDL \_ прокформатстринг**, которая сохраняет дескрипторы процедур; и таблицу строкового формата, **\_ \_ MIDL \_ типеформатстринг**, которая хранит дескрипторы типов данных. Компилятор создает и в основные файлы заглушки ( \* \_ c. c, \* \_ s. c, \* \_ p. c). Таблица строкового формата используется в основном для различных интерпретаторов, но она также используется для преобразования буфера независимо от режима компилятора. Таблица строкового формата используется при вызове основного механизма NDR для указания конкретных типов данных, с которыми необходимо работать.

## <a name="format-string-notation"></a>Нотация строки формата

Нотация, используемая в этом документе, соответствует стандартным рекомендациям по созданию описания программирования, а строка ( \| ) используется для обозначения альтернативных конструкций и квадратных скобок ( \[ \] ), используемых для указания необязательных элементов. Строки формата часто размещаются в стеке для удобства чтения (отчетности). В этом документе FC обозначает один символ формата. Символы формата представляются во всех ПРОПИСных буквах с использованием их фактических символьных имен. Другие произвольные поля представлены именем и размером.

Угловые скобки ( <> ) используются для обозначения размеров дескрипторов. Соглашения, приведенные в следующей таблице, используются.



| Notation     | Значение                                                   |
|--------------|-----------------------------------------------------------|
| <*\n*>  | Размер дескриптора составляет n байт.                        |
| <>     | Размер дескриптора меняется.                            |
| {<>}\* | Дескриптор повторяется любое количество раз (0, 1, 2...). |



 

Следующие символы формата имеют специальное значение.



| Знак | Значение                                   |
|-----------|-------------------------------------------|
| \_Завершение FC   | Указывает конец некоторых строк формата. |
| \_Клавиатура FC   | Неинтерпретируемый символ панели.              |



 

 

 




