---
title: Строгое и строго типизированные дескрипторы контекста
description: '\_ \_ Для всех дескрипторов контекста следует использовать атрибут дескриптора с четким контекстом.'
ms.assetid: 2483aa76-0814-4f63-9c38-0aa050d73772
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 91c266fb70b540e08d066e51f61a921b8f88819456e83b909e3be31bb1f518c0
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "120017514"
---
# <a name="strict-and-type-strict-context-handles"></a>Строгое и строго типизированные дескрипторы контекста

Для всех дескрипторов контекста следует использовать атрибут [**\_ \_ дескриптора с четким контекстом**](/windows/desktop/Midl/strict-context-handle) . По умолчанию маркер контекста не связан с интерфейсом, что означает, что контекстный обработчик может быть создан на одном интерфейсе, а затем передан другому. Это простая атака, и многие серверы RPC не могут их предотвратить.

Если два интерфейса соблюдаются в одном процессе, злоумышленник может открыть обработчик контекста на одном интерфейсе и передать его другому, который может переключиться на непредвиденные данные. Многие разработчики считают, что их программное обеспечение является единственным интерфейсом в процессе, но часто это не так, поскольку как система, так и многие сторонние компоненты используют RPC внутренне, и эти интерфейсы могут создавать дескрипторы контекста. Когда используется атрибут [**ограниченного \_ контекста \_**](/windows/desktop/Midl/strict-context-handle) , время выполнения RPC гарантирует, что контекст, созданный в одном интерфейсе, может быть передан в качестве аргумента только методам этого интерфейса.

в ситуациях, когда приложение разрабатывается для Windows Vista, рекомендуется использовать [**тип \_ строгого \_ \_ маркера контекста**](/windows/desktop/Midl/type-strict-context-handle) . Дескрипторы контекста по умолчанию не связаны с конкретным типом. Если в одном процессе используется несколько типов дескрипторов контекста, вредоносный клиент может передать дескриптор контекста вместо другого для получения нежелательных результатов. Использование **\_ строгого \_ \_ маркера контекста** позволяет приложениям применять согласованность типов контекстного контекста и предотвращать несовпадение использования типа обрабатываемого контекста.

 

 