---
title: Рекомендации по именам приложений службы
description: При разработке распределенного приложения необходимо предоставить пользователям приложения метод для указания имени, по которому они могут зарегистрировать приложение в базе данных службы имен.
ms.assetid: cda997b3-6031-4c0f-affc-c766ba4b7fd5
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c67af441da7a51917ae92751345e860e6b0fc92b
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "103986660"
---
# <a name="name-service-application-guidelines"></a>Рекомендации по именам приложений службы

При разработке распределенного приложения необходимо предоставить пользователям приложения метод для указания имени, по которому они могут зарегистрировать приложение в базе данных службы имен. Этот метод может состоять из файла данных, ввода командной строки или диалогового окна.

Хотя архитектура службы имен RPC поддерживает различные методы организации записей сервера приложения, она оптимизирована для поиска. В результате частое обновление может снизить производительность службы имен и приложения. Чтобы избежать необязательного экспорта информации, выберите проект, позволяющий серверу определить, находится ли информация в базе данных службы имен. Кроме того, каждый экземпляр сервера должен экспортироваться в собственное имя записи. В противном случае экземпляру будет сложно изменить свои идентификаторы UUID объекта или последовательностей протоколов, не затрагивая данные другого экземпляра.

Следующий метод позволяет избежать этих ловушек и обеспечивает хорошую производительность независимо от того, какая служба имен используется в вашей сети.

Для начала разработайте приложение таким образом, чтобы при первом запуске конкретного экземпляра сервера он выберет уникальное имя записи сервера и сохранит это имя в реестре вместе с другими сведениями о конфигурации приложения. Затем попытайтесь экспортировать свои дескрипторы привязки и ИДЕНТИФИКАТОРы объектов (если таковые имеются) в запись службы имен.

При последующих вызовах экземпляра сервера необходимо убедиться, что запись службы имен имеется и содержит правильный набор идентификаторов UUID объекта и дескрипторов привязки. Отсутствующие записи могут означать, что администратор удалил ее или что отключение питания привело к потере данных службы имен. Важно убедиться, что дескрипторы привязки в записи верны; Если администратор добавляет в компьютер поддержку TCP/IP, например, серверы RPC будут прослушивать эту последовательность протокола при вызове [**рпксерверусеаллпротсекс**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserveruseallprotseqs). Однако если сервер не обновляет запись службы имен, клиенты не будут уведомлены о поддержке протокола TCP.

При импорте клиента в качестве имени записи должно быть указано **значение NULL** . Указание **значения NULL** приводит к тому, что функции библиотеки Microsoft RPC выполняют поиск интерфейса во всех записях службы имен в домене или рабочей группе клиентского компьютера, тем самым находим сведения для каждого экземпляра.

Если для представления хорошо известных объектов, таких как принтеры, используются ИДЕНТИФИКАТОРы объектов, можно использовать разновидность этого метода. Вместо экспорта привязок в одну запись, разработайте приложение таким образом, чтобы каждый экземпляр создавал запись для каждого поддерживаемого объекта, например "/.:/ Printers/Laser1 "и"/.:/ Printers/Laser2». Затем необходимо, чтобы сервер выполнил экспорт своих привязок для каждой записи сервера вместе с UUID объекта, относящимся к этой записи.

В этом случае клиент может найти ресурс по имени, импортировав его из соответствующей записи сервера. Он не требует UUID объекта ресурса. Если он имеет UUID ресурса, но не имеет имени, он может импортировать из записи **null** .

 

 




