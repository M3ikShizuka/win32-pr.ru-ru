---
title: Управление проверкой подлинности клиента
description: Лучшим методом проверки подлинности клиента является установка функции обратного вызова безопасности с помощью функции RpcServerRegisterIf2 или Рпксерверрегистерифекс. либо принимает функцию обратного вызова безопасности в качестве аргумента.
ms.assetid: 3e858a71-9190-44a3-bc63-08cfbd02d443
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bb00a03740d99b137f97b085525e4c7232483dc15db487daf486ad51560b4427
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118931241"
---
# <a name="controlling-client-authentication"></a>Управление проверкой подлинности клиента

Лучшим методом проверки подлинности клиента является установка функции обратного вызова безопасности с помощью функции [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2) или [**рпксерверрегистерифекс**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex) . либо принимает функцию обратного вызова безопасности в качестве аргумента. При вызове функции обратного вызова безопасности выполните необходимые проверки. Можно проверить атрибуты соединения, удостоверения вызывающего объекта или и того, и другого. Чтобы проверить атрибуты соединения, вызовите функцию [**рпксерверинккаллаттрибутес**](/windows/desktop/api/Rpcasync/nf-rpcasync-rpcserverinqcallattributesa) или [**рпкбиндингинкаусклиент**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcbindinginqauthclient) . Это обеспечивает фильтрацию клиентов, не прошедших проверку подлинности, клиентов, использующих конкретный поставщик безопасности, или клиентов, которые не используют надежную защиту (например, конфиденциальность).

Чтобы разрешить доступ к подмножеству пользователей, прошедших проверку подлинности, используйте [**рпкжетаусоризатионконтекстфорклиент**](/windows/desktop/api/Rpcasync/nf-rpcasync-rpcgetauthorizationcontextforclient). Эта функция возвращает контекст клиента authz, который можно использовать для выполнения очень сложных проверок доступа. Например, этот метод можно использовать, чтобы разрешить доступ только к вице президентов в Организации в течение рабочего времени, а также к Генеральному директору в течение любого часа с помощью Active Directory Services, чтобы связать имя пользователя с его названием. Пользователь может быть олицетворенным и полученным именем. После того как удостоверение известно, можно выполнить все необходимые проверки.

 

 




