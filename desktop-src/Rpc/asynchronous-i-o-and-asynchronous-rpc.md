---
title: Асинхронный ввод-вывод и асинхронный RPC
description: Асинхронный ввод-вывод является эффективным средством для одного потока, выполняющего одновременное управление несколькими запросами ввода-вывода.
ms.assetid: a9105518-4130-4119-b8d1-e73064b077e9
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e932e85283eb67ff6675a646e791bbce5fe15d65
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "104413540"
---
# <a name="asynchronous-io-and-asynchronous-rpc"></a>Асинхронный ввод-вывод и асинхронный RPC

Асинхронный ввод-вывод является эффективным средством для одного потока, выполняющего одновременное управление несколькими запросами ввода-вывода. Асинхронный RPC на сервере выполняет аналогичные задачи для запросов RPC. В версиях Windows, предшествовавших Windows Vista, не рекомендуется отправлять асинхронные запросы ввода-вывода из процедур сервера с помощью асинхронного вызова RPC. Однако в Windows Vista и более поздних версиях Windows запросы асинхронного ввода-вывода, связанные с портом завершения ввода-вывода, поддерживаются асинхронным RPC.

До выхода Windows Vista асинхронный удаленный вызов процедур может завершиться до завершения асинхронного запроса ввода-вывода. По завершении асинхронного вызова его поток может завершиться, если среда выполнения RPC решает, что в нем достаточно потоков для обслуживания ожидаемой рабочей нагрузки. Система привязывает все запросы ввода-вывода к потоку, который их инициирует. Если поток завершается, все запросы ввода-вывода, ожидающие в этом потоке, прерываются. Ожидающие выполнения запросы на ввод-вывод не могут быть перемещены в другой поток.

Таким образом, разработчики приложений, предназначенные для версий Windows до Windows Vista, могут использовать синхронные операции ввода-вывода в серверных процедурах или пересылать все запросы, затрагивающие асинхронные операции ввода-вывода, в процедуры, выполняющиеся в пуле потоков, управляемом приложением. Windows API предоставляет функции для управления пулом потоков. См. раздел [функции процессов и потоков](/windows/desktop/ProcThread/process-and-thread-functions).

 

 