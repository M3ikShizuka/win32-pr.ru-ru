---
title: Разработка интерфейса
description: Интерфейс RPC описывает удаленные функции, реализуемые серверной программой.
ms.assetid: f0dfe9d1-fe84-461c-8684-147fbd0bdefe
keywords:
- Удаленный вызов процедур RPC, задачи, разработка интерфейса
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 68b6f720bcd492e784ad07fe20e221ac54951680
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "104134334"
---
# <a name="developing-the-interface"></a>Разработка интерфейса

Интерфейс RPC описывает удаленные функции, реализуемые серверной программой. Интерфейс обеспечивает обмен данными между клиентом и сервером, используя те же правила, когда клиент вызывает удаленную процедуру, предлагаемую сервером. Интерфейс состоит из имени интерфейса, некоторых атрибутов, определений необязательного типа или константы, а также набора объявлений процедур. Каждое объявление процедуры должно содержать имя процедуры, возвращаемый тип и список параметров.

Интерфейсы определяются в язык MIDL (MIDL). Если вы знакомы с C или C++, то определения интерфейсов MIDL покажутся довольно простыми. MIDL напоминает C и C++ различными способами.

При разработке приложения RPC текстовый редактор используется для определения интерфейса и сохранения его в текстовом файле с расширением IDL. Дополнительные сведения см. [в файлах IDL и ACF](the-idl-and-acf-files.md). Компилятор MIDL создает файл заголовка, который программа включает в исходные файлы клиента и сервера. Компилятор MIDL также создает два исходных файла на языке C. Один из них компилируется и связывается с клиентской программой, а другой — с серверной программой. Эти два исходных файла на языке C являются заглушками клиента и сервера. Общие сведения о заглушках клиента и сервера см. в разделе [как работает RPC](how-rpc-works.md). Общие сведения о компиляторе MIDL см. в разделе [Компиляция файла MIDL](using-midl.md).

По умолчанию заглушка клиента и сервера имеет одно и то же имя, что может вызвать проблемы, если клиент связывается с заглушкой сервера или наоборот. Использование параметра MIDL [**/префикс**](/windows/desktop/Midl/-prefix) предотвращает возникновение этой распространенной ошибки.

На следующем рисунке показан процесс создания интерфейса.

![создание заглушек клиента и сервера с помощью параметра/префикс предотвращает случайные проблемы компиляции](images/idldev.png)

Также может потребоваться указать файл конфигурации приложения (ACF) для входа в компилятор MIDL. Дополнительные сведения о файлах конфигурации приложений см. [в файлах IDL и ACF](the-idl-and-acf-files.md).

В дополнение к компилятору MIDL, как правило, необходимо использовать служебную программу uuidgen для создания универсального уникального идентификатора (UUID, взаимозаменяемого с термином GUID). В этом разделе представлены сведения об этих средствах, разделенные на следующие разделы:

-   [Создание идентификаторов UUID интерфейса](generating-interface-uuids.md)
-   [Использование MIDL](using-midl.md)

 

 