---
title: Ожидание вызовов клиента
description: После того как серверное приложение зарегистрировало интерфейсы, создало необходимые сведения о привязке и зарегистрировало свои конечные точки, он готов начать прослушивание удаленных вызовов процедур из клиентских программ.
ms.assetid: ca9d24ed-0acc-45de-bbb2-761c56745a58
keywords:
- Удаленный вызов процедур RPC, задачи, прослушивание вызовов клиента
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7f375a4620e301f59d168bf5f7a4dbeedc0fb89f
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "103888979"
---
# <a name="listening-for-client-calls"></a>Ожидание вызовов клиента

После того как серверное приложение зарегистрировало интерфейсы, создало необходимые сведения о привязке и зарегистрировало свои конечные точки, он готов начать прослушивание удаленных вызовов процедур из клиентских программ.

Чтобы прослушивать удаленные вызовы процедур, серверная программа должна вызвать [**рпксерверлистен**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverlisten), как показано в следующем фрагменте кода:


```C++
RPC_STATUS status;
status = RpcServerListen(
    1,
    RPC_C_LISTEN_MAX_CALLS_DEFAULT,
    0);
```



Сервер RPC имеет один или несколько потоков, которые выбирают клиентские вызовы и доставляют их в процедуры в зарегистрированных интерфейсах. Первым параметром функции [**рпксерверлистен**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverlisten) является минимальное число создаваемых потоков. Параметр является только подсказкой; время выполнения RPC может игнорироваться.

Вторым параметром для [**рпксерверлистен**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverlisten) является максимальное число одновременных вызовов удаленных процедур для обработки. Если вы хотите, чтобы в приложении использовалось максимальное значение по умолчанию, передайте \_ \_ \_ \_ \_ для этого параметра значение по умолчанию, равное Max RPC C Listening.

Спецификация DCE вызывает функцию [**рпксерверлистен**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverlisten) , чтобы она продолжала работать, пока не получит сигнал на завершение. Одной из расширений Майкрософт для этой функции является обеспечение немедленного запуска прослушивания и возврата. Если вы хотите, чтобы приложение использовало поведение DCE по умолчанию, задайте для третьего параметра значение 0. Дополнительные сведения см. в разделе [**рпксерверлистен**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverlisten), [**рпкмгмтстопсерверлистенинг**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcmgmtstopserverlistening)и [**рпкмгмтваитсерверлистен**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcmgmtwaitserverlisten) .

 

 




