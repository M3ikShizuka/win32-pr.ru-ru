---
title: Атрибут wire_marshal
description: Атрибут \ проводное \_ маршалирование \ является атрибутом IDL-типа, аналогичным синтаксису \ "передать \_ как \", но предоставляя более эффективный способ маршалирования данных по сети.
ms.assetid: b764ca2b-7bbc-4266-836c-0d70033e9c62
keywords:
- Удаленный вызов процедур RPC, атрибуты, wire_marshal
- wire_marshal
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 424fb73597482030adb2e7147d0ba8c05b034475
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "104413357"
---
# <a name="the-wire_marshal-attribute"></a>Атрибут Wired \_ Marshal

Атрибут \[ [Wired \_ Marshal](/windows/desktop/Midl/wire-marshal) \] — это атрибут IDL-типа, аналогичный синтаксису для \[ [передачи в \_ виде](/windows/desktop/Midl/transmit-as) \] , но предоставляющий более эффективный способ маршалирования данных по сети.

Используйте \[ атрибут **Wired \_ Marshal** \] , чтобы указать тип данных, который будет передаваться вместо типа данных конкретного приложения. Каждый тип конкретного приложения имеет соответствующий переданный тип, который определяет представление подключения (представление, используемое в сети). Тип, зависящий от приложения, не должен быть передающимся, но должен быть типом, распознаваемым MIDL. Чтобы маршалировать тип, неизвестный для MIDL, используйте \[ [пользовательское \_ маршалирование](/windows/desktop/Midl/user-marshal)атрибута ACF \] .

Тип конкретного приложения может быть простым, составным или иметь тип указателя. Основное ограничение заключается в том, что экземпляр типа должен иметь фиксированный, четко определенный объем памяти. Если размер экземпляра типа необходимо изменить, используйте поле указателя вместо согласованного массива. Кроме того, можно определить указатель на изменяемый тип.

Необходимо предоставить подпрограммы для изменения размера, маршалирования и распаковки данных, а также для освобождения связанной памяти. В следующей таблице описаны четыре имени подпрограммы, предоставляемые пользователем. <type>— Это тип усерм, заданный в \[ определении типа **проводного \_ маршалирования** \] .



| Подпрограмма                                                            | Описание                                                               |
|--------------------------------------------------------------------|---------------------------------------------------------------------------|
| [<type>\_усерсизе](the-type-usersize-function.md)           | Изменяет размер буфера данных RPC перед упаковкой на стороне клиента или сервера. |
| [<type>\_усермаршал](the-type-usermarshal-function.md)     | Маршалирует данные на стороне клиента или сервера.                           |
| [<type>\_усерунмаршал](the-type-userunmarshal-function.md) | Распаковать данные на стороне клиента или сервера.                         |
| [<type>\_усерфри](the-type-userfree-function.md)           | Освобождает данные на стороне сервера.                                        |



 

Эти подпрограммы, предоставляемые программистом, предоставляются как клиентом, так и серверным приложением на основе атрибутов направления.

Если параметр доступен только \[ [в](/windows/desktop/Midl/in) \] , клиент передает на сервер. Клиенту требуются функции **<type> \_ усерсизе** и **<type> \_ усермаршал** . Серверу требуются функции **<type> \_ усерунмаршал** и **<type> \_ усерфри** .

Для \[ [](/windows/desktop/Midl/out-idl) \] параметра только для выхода сервер передает клиенту. Серверу требуются функции **<type> \_ усерсизе** и **<type> \_ усермаршал** , тогда как клиенту требуется функция **<type> \_ усермаршал** .

## <a name="related-topics"></a>См. также

<dl> <dt>

[Атрибут пользовательской \_ маршалирования](the-user-marshal-attribute.md)
</dt> <dt>

[Правила маршалирования для пользовательского \_ маршалирования и передачи проводного \_ маршалирования](marshaling-rules-for-user-marshal-and-wire-marshal.md)
</dt> <dt>

[проводное \_ маршалирование](/windows/desktop/Midl/wire-marshal)
</dt> <dt>

[Пользовательская \_ Упаковка](/windows/desktop/Midl/user-marshal)
</dt> <dt>

[**ндржетусермаршалинфо**](/windows/desktop/api/Rpcndr/nf-rpcndr-ndrgetusermarshalinfo)
</dt> </dl>

 

 