---
description: Операционная система Windows 7 предоставляет встроенную поддержку устройств датчиков.
ms.assetid: 751ba2fc-fbff-4418-82ac-eebc8a145b14
title: Обзор платформы датчиков и расположения Windows
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b01b6d3132ad6e1bc299895bc39668edbe19b91c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103991011"
---
# <a name="overview-of-the-windows-sensor-and-location-platform"></a>Обзор платформы датчиков и расположения Windows

Операционная система Windows 7 предоставляет встроенную поддержку устройств датчиков. Сюда входит поддержка датчиков расположения, например устройств GPS. В рамках этой поддержки платформа датчиков и расположений Windows обеспечивает стандартный способ предоставления производителям устройств датчиков для разработчиков и потребителей программного обеспечения. В то же время платформа предоставляет разработчикам стандартизированный API и интерфейс драйвера устройства (DDI) для работы с датчиками и данными датчиков.

## <a name="about-sensor-devices"></a>Сведения о сенсорных устройствах

Датчики имеют много конфигураций, и с определенной точки зрения почти все, что предоставляет данные о физических явленийах, может называться датчиком. Несмотря на то, что обычно используются датчики как аппаратные устройства, логические датчики также могут предоставлять информацию посредством эмуляции функций датчика в программном обеспечении или микропрограмме. Кроме того, одно аппаратное устройство может содержать несколько датчиков.

Платформа датчиков и расположения Windows упорядочивает датчики по *категориям*, которые представляют широкие классы устройств датчиков, и *типы*, представляющие определенные виды датчиков. Например, датчик в видеоигровом видеоконтроллере, который определяет положение и движение руки игрока (например, для игры видео боулинг), будет классифицироваться как датчик ориентации, но его тип будет 3-D акселерометр. В коде Windows представляет категории и типы с помощью глобально уникальных идентификаторов (GUID), многие из которых являются предопределенными. Производители устройств могут создавать новые категории и типы, определяя и публикуя новые идентификаторы GUID, когда это необходимо.

Расположение устройств состоит из одной особенно интересной категории. На данный момент большинство пользователей знакомы с глобальными системами позиционирования (GPS). В Windows датчик GPS является частью категории "расположение". Категория расположения может включать другие типы датчиков. Некоторые из этих типов датчиков основаны на программном обеспечении, например сопоставитель IP-адресов, который предоставляет сведения о расположении на основе адреса в Интернете, средства триангуляции для мобильного телефона, определяющего расположение на основе ближайших Towers, или поставщика сетевых расположений Wi-Fi, считывающего сведения о расположении из подключенного концентратора беспроводной сети.

## <a name="about-the-platform"></a>Сведения о платформе

Платформа датчиков и расположения Windows состоит из следующих компонентов разработчика и пользователя:

-   DDI позволяет Windows предоставлять стандартный способ подключения устройств датчиков к компьютеру и предоставления данных другим подсистемам.
-   API датчика Windows предоставляет набор методов, свойств и событий для работы с подключенными датчиками и данными датчиков.
-   API расположения Windows, созданный на основе API датчика Windows, предоставляет набор программных объектов, включая объекты сценариев, для работы со сведениями о расположении.
-   Панель управления "расположение и другие датчики" позволяет администраторам компьютеров устанавливать датчики, включая датчики расположения, для каждого пользователя.

В следующих разделах описываются все эти компоненты.

## <a name="architecture-diagram"></a>Схема архитектуры

На следующей схеме показана связь между компонентами.

![схема платформы датчика и расположения](images/platformarchitecture.png)

## <a name="device-driver-interface"></a>Интерфейс драйвера устройства

Производители датчиков могут создавать драйверы устройств для подключения датчиков к Windows 7. Драйверы устройств датчиков реализуются с помощью модели драйверов для портативных устройств Windows (WPD), основанной на платформе драйверов Windows User Mode (UMDF). Многие драйверы устройств были написаны с помощью этих платформ. Так как эти технологии установлены, опытные программисты по драйверам устройств найдут драйвер датчика как привычную задачу. DDI датчика использует определенные типы данных и интерфейсы UMDF и WPD, а также определяет конкретные команды и параметры WPD, где это необходимо. Дополнительные сведения о создании драйверов датчиков устройств см. в подразделе комплект драйверов для Windows.

## <a name="sensor-api"></a>API датчика

API датчика позволяет разработчикам C++ создавать программы на основе датчиков с помощью набора COM-интерфейсов. API определяет интерфейсы для выполнения стандартных задач программирования датчика, включающих управление датчиками по категориям, типам или ИДЕНТИФИКАТОРам, управление событиями датчика, работу с отдельными датчиками и коллекциями датчиков, а также работу с данными датчика. Windows SDK включает файлы заголовков, документацию, примеры и средства, помогающие разработчикам программного обеспечения использовать датчики в программах Windows. В этой документации описывается API датчика.

## <a name="location-api"></a>API расположения

API расположения, основанный на API датчика, предоставляет простой способ получения данных о географическом расположении и защите конфиденциальности пользователей. API расположения предоставляет свои функциональные возможности через набор COM-интерфейсов, представляющих объекты. Эти объекты могут использоваться программистами, которые понимают, как использовать COM через язык программирования C++ или в языках сценариев, таких как JScript. Поддержка сценариев обеспечивает простой доступ к данным о расположении для проектов, которые выполняются в зоне локального компьютера, например мини-приложения. Windows SDK включает файлы заголовков, документацию (включая справочную документацию по сценариям), образцы и средства, помогающие разработчикам веб-приложений и программных продуктов использовать сведения о расположении в своих программах.

## <a name="location-and-other-sensors-control-panel"></a>Панель управления "расположение и другие датчики"

В состав Windows 7 входит панель управления, позволяющая администраторам компьютеров включать или отключать датчики для всей системы или для каждого пользователя. Поскольку некоторые датчики могут предоставлять конфиденциальные данные, этот пользовательский интерфейс предоставляет администраторам контроль над тем, имеют ли все программы доступ к каждому датчику для каждого пользователя. Пользователи также могут просматривать свойства датчика и изменять описание датчика, отображаемое в пользовательском интерфейсе.

Панель управления также предоставляет страницу расположения по умолчанию, с помощью которой пользователи могут указать свое расположение. Если датчик недоступен, платформа будет использовать указанное пользователем расположение. Пользователи могут предоставлять поля с административным адресом, включая улица, город, штат, район, страну или регион.

## <a name="related-topics"></a>См. также

[Сведения об API датчика](about-the-sensor-api.md)

[Веб-сайт центра разработчиков оборудования для Windows](https://www.microsoft.com/whdc/device/sensors/default.mspx)

[Центр разработчиков для Windows](https://msdn.microsoft.com/windows/default.aspx?wt.svl=client)
