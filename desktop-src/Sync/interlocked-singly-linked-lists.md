---
description: Взаимозаблокированный однонаправленный список (Слист) упрощает задачу вставки и удаления из связанного списка.
ms.assetid: 35463ace-33ab-4eb9-9901-2504a92456e2
title: Взаимозаблокированные однонаправленные списки
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9af39847fa2fd1b1873c661d6ec904783e0139b9
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105663884"
---
# <a name="interlocked-singly-linked-lists"></a>Взаимозаблокированные однонаправленные списки

*Взаимозаблокированный однонаправленный список* (слист) упрощает задачу вставки и удаления из связанного списка. Слистс реализуются с помощью неблочного алгоритма для обеспечения атомарной синхронизации, повышения производительности системы и предотвращения таких проблем, как инверсия приоритетов и блокировка колонны.

Слистс легко реализовать и использовать в 32-разрядном коде. Однако их сложно реализовать в 64-разрядном коде, поскольку объем данных, которыми обмениваются собственные примитивы обмена, не удваивается, так как он находится в 32-разрядном коде. Таким образом, Слистс обеспечивают перенос высокомасштабируемых высококачественных алгоритмов в Windows.

**Windows 8:** Начиная с Windows 8, для 64-разрядного кода доступны соответствующие собственные примитивы обмена с взаимоблокировкой, например [**InterlockedCompare64Exchange128**](/previous-versions/windows/desktop/legacy/ms683553(v=vs.85)).

Приложения могут использовать Слистс, вызывая функцию [**инитиализеслиссеад**](/windows/win32/api/interlockedapi/nf-interlockedapi-initializeslisthead) для инициализации заголовка списка. Чтобы вставить элементы в список, используйте функцию [**интерлоккедпушентрислист**](/windows/win32/api/interlockedapi/nf-interlockedapi-interlockedpushentryslist) . Чтобы удалить элементы из списка, используйте функцию [**интерлоккедпопентрислист**](/windows/win32/api/interlockedapi/nf-interlockedapi-interlockedpopentryslist) .

Все элементы списка должны быть выровнены по границе **\_ \_ выравнивания выделения памяти** . Несогласованные элементы могут привести к непредсказуемым результатам. См. раздел **\_ выравниваемая \_ malloc**.

Пример см. в разделе [Использование однонаправленных списков](using-singly-linked-lists.md).

В следующей таблице перечислены функции Слист.



| Функция                                                         | Описание                                                                                                                                               |
|------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**инитиализеслиссеад**](/windows/win32/api/interlockedapi/nf-interlockedapi-initializeslisthead)               | Инициализирует заголовок однонаправленного списка.                                                                                                             |
| [**интерлоккедфлушслист**](/windows/win32/api/interlockedapi/nf-interlockedapi-interlockedflushslist)           | Очищает весь список элементов в однонаправленном списке.                                                                                                 |
| [**интерлоккедпопентрислист**](/windows/win32/api/interlockedapi/nf-interlockedapi-interlockedpopentryslist)     | Удаляет элемент, расположенный перед однонаправленным списком.                                                                                                   |
| [**интерлоккедпушентрислист**](/windows/win32/api/interlockedapi/nf-interlockedapi-interlockedpushentryslist)   | Вставляет элемент в начало однонаправленного списка.                                                                                                     |
| [**интерлоккедпушлистслист**](/previous-versions/windows/desktop/legacy/hh448545(v=vs.85))     | Вставляет однонаправленный список в начале другого однонаправленного списка.                                                                                  |
| [**интерлоккедпушлистслистекс**](/windows/desktop/api/interlockedapi/nf-interlockedapi-interlockedpushlistslistex) | Вставляет однонаправленный список в начале другого однонаправленного списка. В этой версии метода не используется соглашение о вызовах **\_ \_ fastcall** . |
| [**ртлфирстентрислист**](/windows/desktop/api/WinNT/nf-winnt-rtlfirstentryslist)                 | Извлекает первую запись в однонаправленном списке.                                                                                                        |
| [**куеридепсслист**](/windows/win32/api/interlockedapi/nf-interlockedapi-querydepthslist)                       | Возвращает количество записей в указанном однонаправленном списке.                                                                                      |



 

 

 
