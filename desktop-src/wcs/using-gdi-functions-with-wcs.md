---
title: Использование функций GDI в WCS
description: В интерфейсе графических устройств (GDI) есть различные функции, которые используют данные цвета или работают с ними.
ms.assetid: a19ec8b9-11c9-4fde-a99a-7f4a112b49e7
keywords:
- Windows Система цветовой системы (WCS), интерфейс графических устройств (GDI)
- WCS (Windows цветовая система), интерфейс графических устройств (GDI)
- Управление цветом изображений, интерфейс графических устройств (GDI)
- Управление цветом, интерфейс графических устройств (GDI)
- цвета, интерфейс графических устройств (GDI)
- интерфейс графических устройств (GDI)
- GDI (интерфейс графических устройств)
ms.localizationpriority: high
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8a104378ae46e6b9519d6f795d280d45c28c8fa3fdc7d1e34aae609bcdbd195d
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118444681"
---
# <a name="using-gdi-functions-with-wcs"></a>Использование функций GDI в WCS

В интерфейсе графических устройств (GDI) есть различные функции, которые используют данные цвета или работают с ними. Некоторые из них включены для использования с WCS, а другие — нет. Следующие функции GDI относятся к ICM:

-   [Функции контекста устройства с WCS](#device-context-functions-with-wcs)
-   [Функции пера и кисти с WCS](#pen-and-brush-functions-with-wcs)
-   [Функции вывода текста с помощью WCS](#text-output-functions-with-wcs)
-   [Функции точечного рисунка с WCS](#bitmap-functions-with-wcs)

## <a name="device-context-functions-with-wcs"></a>Функции контекста устройства с WCS



|    Функция                |   Описание                                                                                                                                                                                                                              |
|--------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| креатекомпатибледк | Если контекст устройства (DC), переданный этой функции через параметр hdc, включен для ICM, то контроллер домена, создаваемый функцией, также поддерживает ICM. Исходные и целевые цветовые пространства указываются в контроллере домена. |
| креатедк           | ICM можно включить, задав для элемента Дмикммесод структуры DEVMODE, на которую указывает параметр Пинитдата, соответствующее значение. Дополнительные сведения см. в документации по Platform SDK в структуре DEVMODE.  |
| ресетдк            | Цветовой профиль контекста устройства, заданного параметром hdc, будет сброшен на основе сведений в структуре DEVMODE, заданной параметром Лпинитдата.                                                   |



 

## <a name="pen-and-brush-functions-with-wcs"></a>Функции пера и кисти с WCS



|    Функция                |   Описание                                                                                                                                                                                                                              |
|-----------------|-----------------------------------------------------------------------------------------------------------------------------------------------|
| Функции кисти | Управление цветом не выполняется при создании кисти. Однако Управление цветом будет выполняться при выборе кисти в контроллере домена с поддержкой ICM. |
| креатепен       | Управление цветом не выполняется при создании пера. Однако Управление цветом будет выполняться при выборе кисти в контроллере домена с поддержкой ICM.   |
| ексткреатепен    | Управление цветом не выполняется при создании пера. Однако Управление цветом будет выполняться при выборе кисти в контроллере домена с поддержкой ICM.   |
| SelectObject    | Если выбранный объект является кистью или пером, выполняется управление цветом.                                                              |
| сетдкбрушколор | Управление цветом выполняется, если включен WCS.                                                                                              |
| сетдкпенколор   | Управление цветом выполняется, если включен WCS.                                                                                              |



 

## <a name="text-output-functions-with-wcs"></a>Функции вывода текста с помощью WCS



|    Функция                |   Описание                                                                                                                                                                                                                              |
|--------------|--------------------------------------------------|
| сетбкколор   | Управление цветом выполняется, если включен WCS. |
| сеттекстколор | Управление цветом выполняется, если включен WCS. |



 

## <a name="bitmap-functions-with-wcs"></a>Функции точечного рисунка с WCS



|    Функция                |   Описание                                                                                                                                                                                                                              |
|-------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| BitBlt            | При возникновении блитс управление цветом не выполняется.                                                                                                                                                                                                                                                                                                                                                                                             |
| креатедибитмап    | Параметр Фуусаже указывает, что элемент Бмиколорс структуры БИТМАПИНФО, на который указывает параметр лпбми, не содержит сведений о цвете. Если это не так, для этого точечного рисунка не выполняется управление цветом. Для включения управления цветом точечный рисунок должен использовать структуру БИТМАПИНФО версии 4 или 5. После создания растрового изображения содержимое полученного точечного рисунка не соответствует цвету. |
| креатедибсектион  | Если структура БИТМАПИНФО, передаваемая через параметр пбми, отличается от версии 4 или версии 5, управление цветом не выполняется. Если он имеет версию 4 или 5, управление цветом включено, а указанное цветовое пространство связано с точечным рисунком.                                                                                                                                                                                                   |
| маскблт           | При возникновении блитс управление цветом не выполняется.                                                                                                                                                                                                                                                                                                                                                                                             |
| SelectObject      | Если объект является точечным рисунком, созданным с помощью Креатедибсектион, выполняется управление цветом. Цветовое пространство точечного рисунка используется в качестве цветового пространства назначения.                                                                                                                                                                                                                                                                                       |
| сетдибитс         | Выполняется управление цветом. Если указанная структура БИТМАПИНФО не имеет версию 4 или 5, цветовой профиль текущего контроллера домена используется в качестве исходного профиля цветового пространства. Если он отсутствует, используется пространство sRGB. Если указанная структура БИТМАПИНФО имеет версию 4 или 5, профиль цветового пространства, указанный в заголовке Bitmap, используется в качестве исходного профиля цветового пространства.                                         |
| сетдибитстодевице | Выполняется управление цветом. Если указанная структура БИТМАПИНФО не имеет версию 4 или 5, цветовой профиль текущего контекста устройства используется в качестве исходного профиля цветового пространства. Если у него нет такого пространства, используется цветовое пространство sRGB. Если указанная структура БИТМАПИНФО имеет версию 4 или 5, профиль цветового пространства, связанный с точечным рисунком, используется в качестве исходного цветового пространства.                                    |
| сетдибколортабле  | Управление цветом не выполняется.                                                                                                                                                                                                                                                                                                                                                                                                              |
| стретчблт        | При возникновении блитс управление цветом не выполняется.                                                                                                                                                                                                                                                                                                                                                                                             |
| стретчдибитс     | Выполняется управление цветом. Если указанная структура БИТМАПИНФО не имеет версию 4 или 5, цветовой профиль текущего контроллера домена используется в качестве исходного профиля цветового пространства. Если он отсутствует, используется пространство sRGB. Если указанная структура БИТМАПИНФО имеет версию 4 или 5, профиль цветового пространства, указанный в заголовке Bitmap, используется в качестве исходного профиля цветового пространства.                                         |



 

 

 




