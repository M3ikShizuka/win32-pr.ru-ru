---
description: Инверсия приоритетов возникает, когда для запланированных конфликтов между двумя или более потоками с разными приоритетами.
ms.assetid: 1cb2f3c9-4641-40d8-892c-768abaf6affb
title: Инверсия приоритета
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 09a891655196b8f7e81c118d39fb8516a244411f1f4f6d9505e2fb40818d71f7
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "120031934"
---
# <a name="priority-inversion"></a>Инверсия приоритета

Инверсия приоритетов возникает, когда для запланированных конфликтов между двумя или более потоками с разными приоритетами. Рассмотрим простой случай с тремя потоками: поток 1, поток 2 и поток 3. Поток 1 имеет высокий приоритет и становится готовым к планированию. Поток 2, поток с низким приоритетом, исполняет код в критической секции. Поток 1, поток с высоким приоритетом, начинает ожидание общего ресурса из потока 2. Поток 3 имеет средний приоритет. Поток 3 получает все процессорное время, так как поток с высоким приоритетом (поток 1) ожидает общие ресурсы от потока с низким приоритетом (поток 2). Поток 2 не оставляет критический раздел, так как он не имеет наивысшего приоритета и не будет планироваться.

Планировщик решает эту проблему путем случайного увеличения приоритета готовых потоков (в данном случае блокировки с низким приоритетом). Потоки с низким приоритетом выполняются достаточно долго для выхода из критической секции, и поток с высоким приоритетом может войти в критическую секцию. Если поток с низким приоритетом не получит достаточно времени ЦП для выхода из критического раздела, он получит еще одну шанс в ходе следующего цикла планирования.

 

 



