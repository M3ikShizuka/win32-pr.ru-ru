---
description: 'Существует два способа реализации многозадачности: как один процесс с несколькими потоками или как несколько процессов, каждый из которых имеет один или несколько потоков.'
ms.assetid: ac0a8163-1498-4274-acfc-6a36b4c02a27
title: Когда следует использовать многозадачность
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b17e52f39a08120d3038663a95307ad72f228cfc
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105673888"
---
# <a name="when-to-use-multitasking"></a>Когда следует использовать многозадачность

Существует два способа реализации многозадачности: как один процесс с несколькими потоками или как несколько процессов, каждый из которых имеет один или несколько потоков. Приложение может разместить каждый поток, которому требуется закрытое адресное пространство и частные ресурсы, в собственный процесс, чтобы защитить его от действий других потоков процесса.

Многопоточный процесс может управлять взаимоисключающими задачами с помощью потоков, таких как предоставление пользовательского интерфейса и выполнение фоновых вычислений. Создание многопоточного процесса также может быть удобным способом структурировать программу, выполняющую несколько аналогичных или одинаковых задач одновременно. Например, сервер именованных каналов может создать поток для каждого клиентского процесса, который подключается к каналу. Этот поток управляет обменом данными между сервером и клиентом. Процесс может использовать несколько потоков для выполнения следующих задач:

-   Управление входными данными для нескольких окон.
-   Управление входными данными с нескольких устройств связи.
-   Распределение задач по приоритетам. Например, можно создать поток с высоким приоритетом для управления срочными задачами, а остальную работу переложить на поток с низким приоритетом.
-   Сохранение скорости реагирования пользовательского интерфейса при выделении процессорного времени для фоновых задач.

Как правило, более эффективно реализовать многозадачность в приложении, создав единый многопоточный процесс вместо создания нескольких процессов по следующим причинам.

-   Система может быстрее переключаться между потоками, чем процессами, так как процесс имеет больше ресурсов, чем в потоке (контекст процесса больше, чем контекст потока).
-   Все потоки процесса совместно используют одно и то же адресное пространство и имеют доступ к глобальным переменным процесса, что может упростить обмен данными между потоками.
-   Все потоки процесса могут совместно использовать открытые дескрипторы с ресурсами, такими как файлы и каналы.

Существуют и другие методы, которые можно использовать вместо многопоточности. Наиболее значимыми являются следующие: асинхронный ввод и вывод (ввод-вывод), порты завершения ввода-вывода, асинхронные вызовы процедур (APC) и возможность ожидания нескольких событий.

Один поток может инициировать несколько ресурсоемких запросов ввода-вывода, которые могут выполняться параллельно с использованием асинхронных операций ввода-вывода. Асинхронный ввод-вывод может выполняться для файлов, каналов и устройств с последовательным подключением. Дополнительные сведения см. в разделе [Синхронизация и перекрывающиеся входные и выходные данные](../sync/synchronization-and-overlapped-input-and-output.md).

Один поток может блокировать свое выполнение при ожидании какого-либо из нескольких событий. Это более эффективно, чем использование нескольких потоков, каждое из которых ожидает одно событие и более эффективно, чем использование одного потока, который потребляет время процессора, постоянно проверяя наличие событий. Дополнительные сведения см. в разделе [функции Wait](../sync/wait-functions.md).

 

 
