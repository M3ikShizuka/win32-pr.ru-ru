---
description: Все пользователи имеют доступ на чтение к списку процессов в системе, и существует ряд различных функций, выполняющих перечисление активных процессов. Функция, которую следует использовать, зависит от таких факторов, как поддержка требуемой платформы.
ms.assetid: 4c73fb10-7ee8-4d8a-9cdb-a2ae59aef5bd
title: Перечисление процессов
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a05caa13d0f53fc87828669b2e19eba126c62c28f492b2f41d09caf2377321a3
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "120081324"
---
# <a name="process-enumeration"></a>Перечисление процессов

Все пользователи имеют доступ на чтение к списку процессов в системе, и существует ряд различных функций, выполняющих перечисление активных процессов. Функция, которую следует использовать, зависит от таких факторов, как поддержка требуемой платформы.

Для перечисления процессов используются следующие функции.



| Функция                                                    | Описание                                                                        |
|-------------------------------------------------------------|------------------------------------------------------------------------------------|
| [**EnumProcesses**](/windows/win32/api/psapi/nf-psapi-enumprocesses)                     | Получает идентификатор процесса для каждого объекта процесса в системе.            |
| [**Process32First**](/windows/win32/api/tlhelp32/nf-tlhelp32-process32first)                   | Извлекает сведения о первом процессе, обнаруженном в системном снимке.    |
| [**Process32Next**](/windows/win32/api/tlhelp32/nf-tlhelp32-process32next)                     | Извлекает сведения о следующем процессе, записанном в системном снимке.        |
| [**втсенумератепроцессес**](/windows/win32/api/wtsapi32/nf-wtsapi32-wtsenumerateprocessesa) | Извлекает сведения об активных процессах на указанном сервере терминалов. |



 

Функции тулхелп и [**EnumProcesses**](/windows/win32/api/psapi/nf-psapi-enumprocesses) перечисляют весь процесс. Чтобы получить список процессов, выполняемых в определенной учетной записи пользователя, используйте [**втсенумератепроцессес**](/windows/win32/api/wtsapi32/nf-wtsapi32-wtsenumerateprocessesa) и выполните фильтрацию по идентификатору безопасности пользователя. Можно выполнить фильтрацию по ИДЕНТИФИКАТОРу сеанса, чтобы скрыть процессы, выполняющиеся в других сеансах сервера терминалов.

Можно также фильтровать процессы по учетной записи пользователя независимо от функции перечисления, вызывая [**OpenProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocess), [**OpenProcessToken**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocesstoken)и [**GetTokenInformation**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-gettokeninformation) с **токенусер**. Однако нельзя открыть процесс, защищенный дескриптором безопасности, если вы не предоставили доступ.

 

 
