---
description: Качество обслуживания указывает на производительность и энергопотребление потока, что может повлиять на планирование потоков и управление питанием процессора.
title: Качество обслуживания
ms.topic: article
ms.date: 07/09/2021
ms.openlocfilehash: ec4e92360d23a427d526a36a81bfdb0667c1cb6fb5f60ddcefd578c4918ba5d2
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "117793468"
---
# <a name="quality-of-service"></a>Качество обслуживания

Качество обслуживания (QoS), связанное с потоком, используется для указания требуемой производительности и эффективности питания. Каждый поток назначается уровню качества обслуживания. Хотя приоритет планирования остается основным показателем, на основе которого система определяет, какой поток следует запланировать далее, качество обслуживания может повлиять на выбор ядра и управление питанием процессора. На платформах с разнородными процессорами качество обслуживания потока может ограничить планирование до подмножества процессоров или указать предпочтения для конкретного класса процессора.

Разработчики уже могут использовать другие средства для управления временем выполнения, например, если пользователь отсутствует, только для AC/зарядки или в зависимости от уровня аккумулятора. Качество обслуживания позволяет повлиять на выполнение. Это позволяет повысить эффективность работы ЦП и тем самым продлить время работы от аккумулятора. Кроме того, этот процесс может способствовать снижению энергопотребления ресурсов ЦП при питании от сети переменного тока для уменьшения температуры, что может привести к высокой помехе вентилятора или даже регулированию температуры.

## <a name="quality-of-service-levels"></a>Уровни качества обслуживания

Система поддерживает несколько уровней качества обслуживания, каждый из которых имеет дифференцированную производительность и эффективность энергопотребления. Windows предоставляет стандартные параметры по умолчанию для планирования и управления питанием процессора для каждого уровня качества обслуживания. точная настройка каждого уровня качества обслуживания для управления питанием процессора и разнородного планирования можно изменить с помощью Windows подготовки. Дополнительные сведения о настройке производительности и подготовке см. в статье [возможности управления питанием процессора](/windows-hardware/customize/power-settings/configure-processor-power-management-options).

| Уровень качества обслуживания | Описание|Производительность и мощность | Release |
| --- | --- | --- | --- |
| Высокий | Оконные приложения, наявляющиеся на переднем плане, в фокусе или в звуковой форме, а также явно размечать процессы с [сетпроцессинформатион](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-setprocessinformation) или потоками с помощью [сетсреадинформатион](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadinformation) | Стандартная высокая производительность. |1709 |
| Средний | Оконные приложения, которые могут быть видимыми для конечного пользователя, но не в фокусе. | Зависит от платформы, от высокой до низкой. | 1709 |
| Низкий | Оконные приложения, которые не являются видимыми или незвуковыми для конечного пользователя. | При питании от аккумулятора выбирает наиболее эффективную частоту ЦП и расписаний для эффективного ядра. | 1709 |
| Выигрыше | Приложения, которые явным образом размечают процессы с помощью [сетпроцессинформатион](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-setprocessinformation) или потоков с помощью [сетсреадинформатион](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadinformation). | Всегда выбирает наиболее эффективные частоты ЦП и расписания для эффективных ядер. | Windows 11 |
| Мультимедиа | Потоки, явно помеченные [службой "Планировщик классов мультимедиа](/windows/desktop/procthread/multimedia-class-scheduler-service) ", обозначают буферизацию пакетной обработки мультимедиа. | Частота ЦП снижена для эффективной пакетной обработки. | 2004 |
| Крайний срок | Потоки, явно помеченные [службой "Планировщик классов мультимедиа](/windows/desktop/procthread/multimedia-class-scheduler-service) ", обозначают, что потокам аудио требуется производительность для удовлетворения крайних сроков. | Высокая производительность для соответствия крайним срокам носителей. | 2004 |

## <a name="quality-of-service-classification"></a>Классификация качества обслуживания

В следующей таблице показаны поддерживаемые классификации QoS.

| Источник | Описание |
| --- | --- |
| Мультимедийный фундамент | [Служба планировщика классов мультимедиа](/windows/desktop/procthread/multimedia-class-scheduler-service) определяет приоритеты ресурсов ЦП для сценариев мультимедиа. Служба помечает конкретные потоки, отвечающие за обработку мультимедийных файлов, с использованием носителей и крайних сроков, чтобы обеспечить эффективность, а также сроки их выполнения.  |
| API | [Сетпроцессинформатион](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-setprocessinformation) позволяет разработчикам явным образом пометить процесс как Хигхкос или екокос, переключив эту `PROCESS_POWER_THROTTLING_EXECUTION_SPEED` функцию в **процессповерсроттлинг**.</br>[Сетсреадинформатион](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-setprocessinformation) позволяет разработчикам явным образом пометить поток как Хигхкос или екокос, переключив эту `THREAD_POWER_THROTTLING_EXECUTION_SPEED` функцию в **среадповерсроттлинг** .  |
| Звуковой | Процессы, которые определены для воспроизведения аудио, являются Хигхкос. |
| Видимый | Процессы, которые непосредственно владеют окном (или являются потомками процессов-владельцев окна), получают уровень качества обслуживания в соответствии с их видимостью и состоянием фокусировки:</br></br><table><tr><th>Состояние окна</th><th>Качество обслуживания</th></tr><tr><td>В фокусе</td><td>Высокий</td></tr><tr><td>Видимый</td><td>Средний</td></tr><tr><td>С минимальным или полностью перекрыто</td><td>Низкий</td></tr></table> |
| Эвристический метод | Потоки, не классифицированные приведенными выше источниками, автоматически назначаются по уровню качества обслуживания системой. Эти эвристики включают (но не ограничиваются) приоритет потока, где потоки, работающие с меньшим приоритетом потоков, могут привести к более низкому уровню качества обслуживания. |
