---
description: Качество обслуживания указывает на производительность и энергопотребление потока, что может повлиять на планирование потоков и управление питанием процессора.
title: Качество обслуживания
ms.topic: article
ms.date: 07/09/2021
ms.openlocfilehash: c506e810bafad41e9a5f14112c1398b0d6fb3ffc
ms.sourcegitcommit: 2805e19a2738a408d3c5ab69a8d84ec92ca25e36
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/14/2021
ms.locfileid: "113989799"
---
# <a name="quality-of-service"></a><span data-ttu-id="f05ae-103">Качество обслуживания</span><span class="sxs-lookup"><span data-stu-id="f05ae-103">Quality of Service</span></span>

<span data-ttu-id="f05ae-104">Качество обслуживания (QoS), связанное с потоком, используется для указания требуемой производительности и эффективности питания.</span><span class="sxs-lookup"><span data-stu-id="f05ae-104">The Quality of Service (QoS) associated with a thread is used to indicate the desired performance and power efficiency.</span></span> <span data-ttu-id="f05ae-105">Каждый поток назначается уровню качества обслуживания.</span><span class="sxs-lookup"><span data-stu-id="f05ae-105">Each thread is assigned to a QoS level.</span></span> <span data-ttu-id="f05ae-106">Хотя приоритет планирования остается основным показателем, на основе которого система определяет, какой поток следует запланировать далее, качество обслуживания может повлиять на выбор ядра и управление питанием процессора.</span><span class="sxs-lookup"><span data-stu-id="f05ae-106">While scheduling priority remains the main metric by which the system determines which thread to schedule next, QoS can influence core selection and processor power management.</span></span> <span data-ttu-id="f05ae-107">На платформах с разнородными процессорами качество обслуживания потока может ограничить планирование до подмножества процессоров или указать предпочтения для конкретного класса процессора.</span><span class="sxs-lookup"><span data-stu-id="f05ae-107">On platforms with heterogeneous processors, the QoS of a thread may restrict scheduling to a subset of processors, or indicate a preference for a particular class of processor.</span></span>

<span data-ttu-id="f05ae-108">Разработчики уже могут использовать другие средства для управления временем выполнения, например, если пользователь отсутствует, только для AC/зарядки или в зависимости от уровня аккумулятора.</span><span class="sxs-lookup"><span data-stu-id="f05ae-108">Developers may already be employing other facilities to control when to execute, such as when the user is not present, only on AC/charging, or depending on the battery level.</span></span> <span data-ttu-id="f05ae-109">Качество обслуживания позволяет повлиять на выполнение.</span><span class="sxs-lookup"><span data-stu-id="f05ae-109">QoS provides a facility to influence how to execute.</span></span> <span data-ttu-id="f05ae-110">Это позволяет повысить эффективность работы ЦП и тем самым продлить время работы от аккумулятора.</span><span class="sxs-lookup"><span data-stu-id="f05ae-110">This facility can help to improve CPU efficiency and thus extend battery life.</span></span> <span data-ttu-id="f05ae-111">Кроме того, этот процесс может способствовать снижению энергопотребления ресурсов ЦП при питании от сети переменного тока для уменьшения температуры, что может привести к высокой помехе вентилятора или даже регулированию температуры.</span><span class="sxs-lookup"><span data-stu-id="f05ae-111">In addition, this process can assist in reducing CPU power consumption while operating on AC power to reduce thermal output which can lead to high fan noise, or even thermal throttling.</span></span>

## <a name="quality-of-service-levels"></a><span data-ttu-id="f05ae-112">Уровни качества обслуживания</span><span class="sxs-lookup"><span data-stu-id="f05ae-112">Quality of Service levels</span></span>

<span data-ttu-id="f05ae-113">Система поддерживает несколько уровней качества обслуживания, каждый из которых имеет дифференцированную производительность и эффективность энергопотребления.</span><span class="sxs-lookup"><span data-stu-id="f05ae-113">The system maintains multiple QoS levels, each with differentiated performance and power efficiency.</span></span> <span data-ttu-id="f05ae-114">Windows предоставляет стандартные параметры по умолчанию для планирования и управления питанием процессора для каждого уровня качества обслуживания.</span><span class="sxs-lookup"><span data-stu-id="f05ae-114">Windows provides standard default settings for scheduling and processor power management for each QoS level.</span></span> <span data-ttu-id="f05ae-115">точная настройка каждого уровня качества обслуживания для управления питанием процессора и разнородного планирования можно изменить с помощью Windows подготовки.</span><span class="sxs-lookup"><span data-stu-id="f05ae-115">The precise tuning of each QoS level for processor power management and heterogeneous scheduling can be modified through Windows Provisioning.</span></span> <span data-ttu-id="f05ae-116">Дополнительные сведения о настройке производительности и подготовке см. в статье [возможности управления питанием процессора](/windows-hardware/customize/power-settings/configure-processor-power-management-options).</span><span class="sxs-lookup"><span data-stu-id="f05ae-116">For more information on performance tuning and provisioning, see [Processor power management options](/windows-hardware/customize/power-settings/configure-processor-power-management-options).</span></span>

| <span data-ttu-id="f05ae-117">Уровень качества обслуживания</span><span class="sxs-lookup"><span data-stu-id="f05ae-117">QoS level</span></span> | <span data-ttu-id="f05ae-118">Описание</span><span class="sxs-lookup"><span data-stu-id="f05ae-118">Description</span></span>|<span data-ttu-id="f05ae-119">Производительность и мощность</span><span class="sxs-lookup"><span data-stu-id="f05ae-119">Performance and power</span></span> | <span data-ttu-id="f05ae-120">Release</span><span class="sxs-lookup"><span data-stu-id="f05ae-120">Release</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="f05ae-121">Высокий</span><span class="sxs-lookup"><span data-stu-id="f05ae-121">High</span></span> | <span data-ttu-id="f05ae-122">Оконные приложения, наявляющиеся на переднем плане, в фокусе или в звуковой</span><span class="sxs-lookup"><span data-stu-id="f05ae-122">Windowed applications that are in the foreground and in focus, or audible</span></span> | <span data-ttu-id="f05ae-123">Стандартная высокая производительность</span><span class="sxs-lookup"><span data-stu-id="f05ae-123">Standard high performance</span></span> |<span data-ttu-id="f05ae-124">1709</span><span class="sxs-lookup"><span data-stu-id="f05ae-124">1709</span></span> |
| <span data-ttu-id="f05ae-125">Средний</span><span class="sxs-lookup"><span data-stu-id="f05ae-125">Medium</span></span> | <span data-ttu-id="f05ae-126">Оконные приложения, которые могут быть видимыми для конечного пользователя, но не включены в фокус</span><span class="sxs-lookup"><span data-stu-id="f05ae-126">Windowed applications that may be visible to the end user but are not in focus</span></span> | <span data-ttu-id="f05ae-127">Зависит от платформы, от высокой до низкой</span><span class="sxs-lookup"><span data-stu-id="f05ae-127">Varies by platform, between High and Low</span></span> | <span data-ttu-id="f05ae-128">1709</span><span class="sxs-lookup"><span data-stu-id="f05ae-128">1709</span></span> |
| <span data-ttu-id="f05ae-129">Низкий</span><span class="sxs-lookup"><span data-stu-id="f05ae-129">Low</span></span> | <span data-ttu-id="f05ae-130">Оконные приложения, которые не отображаются или не являются звуковыми для конечного пользователя</span><span class="sxs-lookup"><span data-stu-id="f05ae-130">Windowed applications that are not visible or audible to the end user</span></span> | <span data-ttu-id="f05ae-131">В зависимости от батареи выбирает наиболее эффективную частоту ЦП и расписания для эффективных ядер</span><span class="sxs-lookup"><span data-stu-id="f05ae-131">On battery, selects most efficient CPU frequency and schedules to efficient cores</span></span> | <span data-ttu-id="f05ae-132">1709</span><span class="sxs-lookup"><span data-stu-id="f05ae-132">1709</span></span> |
| <span data-ttu-id="f05ae-133">Выигрыше</span><span class="sxs-lookup"><span data-stu-id="f05ae-133">Eco</span></span> | <span data-ttu-id="f05ae-134">Приложения, которые явно размечают процессы с [сетпроцессинформатион](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-setprocessinformation) или потоками с помощью [сетсреадинформатион](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-setprocessinformation)</span><span class="sxs-lookup"><span data-stu-id="f05ae-134">Applications which explicitly tag processes with [SetProcessInformation](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-setprocessinformation) or threads with [SetThreadInformation](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-setprocessinformation)</span></span> | <span data-ttu-id="f05ae-135">Всегда выбирает наиболее эффективную частоту ЦП и расписания для эффективных ядер</span><span class="sxs-lookup"><span data-stu-id="f05ae-135">Always selects most efficient CPU frequency and schedules to efficient cores</span></span> | <span data-ttu-id="f05ae-136">Windows 11</span><span class="sxs-lookup"><span data-stu-id="f05ae-136">Windows 11</span></span> |
| <span data-ttu-id="f05ae-137">Служба мультимедиа</span><span class="sxs-lookup"><span data-stu-id="f05ae-137">Media</span></span> | <span data-ttu-id="f05ae-138">Потоки, явно помеченные [службой "Планировщик классов мультимедиа](/windows/desktop/procthread/multimedia-class-scheduler-service) ", обозначающие буферизацию пакетной обработки мультимедиа</span><span class="sxs-lookup"><span data-stu-id="f05ae-138">Threads explicitly tagged by the [Multimedia Class Scheduler Service](/windows/desktop/procthread/multimedia-class-scheduler-service) to denote multimedia batch buffering</span></span> | <span data-ttu-id="f05ae-139">Частота ЦП снижена для эффективной пакетной обработки</span><span class="sxs-lookup"><span data-stu-id="f05ae-139">CPU frequency reduced for efficient batch processing</span></span> | <span data-ttu-id="f05ae-140">2004</span><span class="sxs-lookup"><span data-stu-id="f05ae-140">2004</span></span> |
| <span data-ttu-id="f05ae-141">Крайний срок</span><span class="sxs-lookup"><span data-stu-id="f05ae-141">Deadline</span></span> | <span data-ttu-id="f05ae-142">Потоки, явно помеченные [службой "Планировщик классов мультимедиа](/windows/desktop/procthread/multimedia-class-scheduler-service) ", обозначают, что потокам аудио требуется производительность для удовлетворения крайних сроков</span><span class="sxs-lookup"><span data-stu-id="f05ae-142">Threads explicitly tagged by [Multimedia Class Scheduler Service](/windows/desktop/procthread/multimedia-class-scheduler-service) to denote that audio threads require performance to meet deadlines</span></span> | <span data-ttu-id="f05ae-143">Высокая производительность для соответствия крайним срокам носителей</span><span class="sxs-lookup"><span data-stu-id="f05ae-143">High performance to meet media deadlines</span></span> | <span data-ttu-id="f05ae-144">2004</span><span class="sxs-lookup"><span data-stu-id="f05ae-144">2004</span></span> |

## <a name="quality-of-service-classification"></a><span data-ttu-id="f05ae-145">Классификация качества обслуживания</span><span class="sxs-lookup"><span data-stu-id="f05ae-145">Quality of Service classification</span></span>

<span data-ttu-id="f05ae-146">В следующей таблице показаны поддерживаемые классификации QoS.</span><span class="sxs-lookup"><span data-stu-id="f05ae-146">The following table shows the supported QoS classifications.</span></span>

| <span data-ttu-id="f05ae-147">Источник</span><span class="sxs-lookup"><span data-stu-id="f05ae-147">Source</span></span> | <span data-ttu-id="f05ae-148">Описание</span><span class="sxs-lookup"><span data-stu-id="f05ae-148">Description</span></span> |
| --- | --- |
| <span data-ttu-id="f05ae-149">Мультимедийный фундамент</span><span class="sxs-lookup"><span data-stu-id="f05ae-149">Multimedia Foundation</span></span> | <span data-ttu-id="f05ae-150">[Служба планировщика классов мультимедиа](/windows/desktop/procthread/multimedia-class-scheduler-service) определяет приоритеты ресурсов ЦП для сценариев мультимедиа.</span><span class="sxs-lookup"><span data-stu-id="f05ae-150">The [Multimedia Class Scheduler Service](/windows/desktop/procthread/multimedia-class-scheduler-service) prioritizes CPU resources for multimedia scenarios.</span></span> <span data-ttu-id="f05ae-151">Служба помечает конкретные потоки, отвечающие за обработку мультимедийных файлов, с использованием носителей и крайних сроков, чтобы обеспечить эффективность, а также сроки их выполнения.</span><span class="sxs-lookup"><span data-stu-id="f05ae-151">The service tags specific threads responsible for multimedia processing using the Media and Deadline QoS levels to provide power efficiency while meeting performance deadlines.</span></span>  |
| <span data-ttu-id="f05ae-152">API</span><span class="sxs-lookup"><span data-stu-id="f05ae-152">API</span></span> | <span data-ttu-id="f05ae-153">[Сетпроцессинформатион](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-setprocessinformation) позволяет разработчикам явным образом пометить процесс как Хигхкос или екокос, переключив эту `PROCESS_POWER_THROTTLING_EXECUTION_SPEED` функцию в **процессповерсроттлинг**.</span><span class="sxs-lookup"><span data-stu-id="f05ae-153">[SetProcessInformation](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-setprocessinformation) lets developers explicitly tag a process as HighQoS or EcoQoS by toggling the `PROCESS_POWER_THROTTLING_EXECUTION_SPEED` feature in **ProcessPowerThrottling**.</span></span></br><span data-ttu-id="f05ae-154">[Сетсреадинформатион](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-setprocessinformation) позволяет разработчикам явным образом пометить поток как Хигхкос или екокос, переключив эту `THREAD_POWER_THROTTLING_EXECUTION_SPEED` функцию в **среадповерсроттлинг** .</span><span class="sxs-lookup"><span data-stu-id="f05ae-154">[SetThreadInformation](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-setprocessinformation) lets developers explicitly tag a thread as HighQoS or EcoQoS by toggling the `THREAD_POWER_THROTTLING_EXECUTION_SPEED` feature in **ThreadPowerThrottling** .</span></span>  |
| <span data-ttu-id="f05ae-155">Звуковой</span><span class="sxs-lookup"><span data-stu-id="f05ae-155">Audible</span></span> | <span data-ttu-id="f05ae-156">Процессы, которые определены для воспроизведения аудио, являются Хигхкос.</span><span class="sxs-lookup"><span data-stu-id="f05ae-156">Processes which are determined to be playing audio are HighQoS.</span></span> |
| <span data-ttu-id="f05ae-157">Видимый</span><span class="sxs-lookup"><span data-stu-id="f05ae-157">Visible</span></span> | <span data-ttu-id="f05ae-158">Процессы, которые непосредственно владеют окном (или являются потомками процессов-владельцев окна), получают уровень качества обслуживания в соответствии с их видимостью и состоянием фокусировки:</span><span class="sxs-lookup"><span data-stu-id="f05ae-158">Processes which directly own a window (or are descendants of window owning processes) are assigned a QoS level according to their visibility and focus state:</span></span></br></br><table><tr><th><span data-ttu-id="f05ae-159">Состояние окна</span><span class="sxs-lookup"><span data-stu-id="f05ae-159">Window State</span></span></th><th><span data-ttu-id="f05ae-160">Качество обслуживания</span><span class="sxs-lookup"><span data-stu-id="f05ae-160">Quality of Service</span></span></th></tr><tr><td><span data-ttu-id="f05ae-161">В фокусе</span><span class="sxs-lookup"><span data-stu-id="f05ae-161">In Focus</span></span></td><td><span data-ttu-id="f05ae-162">Высокий</span><span class="sxs-lookup"><span data-stu-id="f05ae-162">High</span></span></td></tr><tr><td><span data-ttu-id="f05ae-163">Видимый</span><span class="sxs-lookup"><span data-stu-id="f05ae-163">Visible</span></span></td><td><span data-ttu-id="f05ae-164">Средний</span><span class="sxs-lookup"><span data-stu-id="f05ae-164">Medium</span></span></td></tr><tr><td><span data-ttu-id="f05ae-165">С минимальным или полностью перекрыто</span><span class="sxs-lookup"><span data-stu-id="f05ae-165">Minimized, or Fully Occluded</span></span></td><td><span data-ttu-id="f05ae-166">Низкий</span><span class="sxs-lookup"><span data-stu-id="f05ae-166">Low</span></span></td></tr></table> |
| <span data-ttu-id="f05ae-167">Эвристический метод</span><span class="sxs-lookup"><span data-stu-id="f05ae-167">Heuristic</span></span> | <span data-ttu-id="f05ae-168">Потоки, не классифицированные приведенными выше источниками, автоматически назначаются по уровню качества обслуживания системой.</span><span class="sxs-lookup"><span data-stu-id="f05ae-168">Threads which are not classified by the above sources are automatically assigned a QoS level by the system.</span></span> <span data-ttu-id="f05ae-169">Эти эвристики включают (но не ограничиваются) приоритет потока, где потоки, работающие с меньшим приоритетом потоков, могут привести к более низкому уровню качества обслуживания.</span><span class="sxs-lookup"><span data-stu-id="f05ae-169">These heuristics include (but are not limited to) thread priority, where threads running with reduced thread priority can imply a lower QoS level.</span></span> |
