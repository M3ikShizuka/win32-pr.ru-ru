---
description: Этот раздел не является актуальным. Самые актуальные сведения см. в спецификации печати схемы.
ms.assetid: e81068db-ab8e-420c-a0be-93bc92f3df6f
title: Определения параметров
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 10016b295cc2da7ede4e6a4f8944f279a25f6f9b
ms.sourcegitcommit: de72a1294df274b0a71dc0fdc42d757e5f6df0f3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/05/2021
ms.locfileid: "104273345"
---
# <a name="option-definitions"></a>Определения параметров

Этот раздел не является актуальным. Самые актуальные сведения см. в [спецификации печати схемы](https://download.microsoft.com/download/D/E/C/DECA6E6B-3E81-48E7-B7EF-6D92A547D03C/print-schema-spec-2-0.zip).

Ключевым моментом, который следует учесть при определении параметра, является то, что это может быть осмысленным по сравнению с другими экземплярами параметров, содержащимися в той же функции. Сравнение должно быть осмысленным, поскольку экземпляр параметра используется для определения конфигурации не только для устройства, но и для задания независимо от устройства или PrintCapabilities, которые использовались для создания конфигурации. Другие экземпляры параметров в этой функции могут отображаться либо в одном документе PrintCapabilities, либо в другом документе PrintCapabilities, представляющем другое устройство, а документ PrintCapabilities, который определен другой стороной, работает независимо. После того как клиент выберет конфигурацию устройства для отображения задания или документа, эта конфигурация, как правило, сохраняется вместе с заданием или документом в форме PrintTicket. PrintTicket содержит набор экземпляров параметров, обычно по одному для каждого компонента, определенного в документе PrintCapabilities. Экземпляры параметров должны быть переносимыми и должны сохранять намерения печати, чтобы их можно было передавать, когда данный PrintTicket передается другому устройству, даже если он имеет другой документ PrintCapabilities, написанный другим автором. Основное преимущество этой переносимости заключается в том, что если другое устройство не поддерживает параметр, содержащийся в PrintTicket, драйвер устройства или подсистема может вычислить и выбрать наиболее близкий к функциональности параметр.

Одной из основных функций PrintTicket драйвера является указание параметра устройства в документе PrintCapabilities, который наиболее точно соответствует определенному параметру, указанному в PrintTicket. В ходе этого сопоставления или процесса оценки, определенного драйвером устройства, параметр в PrintTicket называется параметром *ссылки* , а параметр в документе PrintCapabilities называется вариантом- *кандидатом* . Общая метрика сопоставления — это количество совпадающих экземпляров Скоредпроперти в экземплярах параметров-кандидатов и ссылок; большее число совпадений обычно указывает на лучшее сохранение намерения печати. В процессе оценки можно выбрать больший вес для некоторых элементов Скоредпроперти, чем для других.

Экземпляры параметров можно сделать переносимыми, гарантируя, что все экземпляры параметров, принадлежащие к одной и той же функции, имеют один или несколько *элементов скоредпроперти в общем*. Это означает, что существует набор элементов Скоредпроперти, которые отображаются в каждом экземпляре параметра (входящем в одну и ту же функцию). Например, экземпляры параметров для функции Пажемедиасизе могут быть переносимыми, если каждый экземпляр параметра содержит элементы Скоредпроперти, определяющие внутренние свойства Пажемедиасизе: Медиасизевидс и Медиасизехеигхт. Затем в драйвере устройства или подсистеме кода можно определить, насколько близко два экземпляра параметров согласуются путем сравнения различий в этих значениях Скоредпроперти. Если в документе PrintCapabilities нет параметра, точно соответствующего тому, что содержится в PrintTicket, драйвер устройства может легко определить и выбрать параметр с ближайшими соответствующими размерами носителей.

Два объекта (экземпляры параметров в этом случае) говорят, что *элементы, общие* или эквивалентные, имеют *соответствующие элементы*, если удовлетворяются следующие три условия.

1.  Два элемента имеют один и тот же тип элементов.

2.  Атрибуты имени двух элементов идентичны (или ни один из элементов не содержит атрибута Name).

3.  Цепочка родителей элементов, сравниваемых по сравнению с двумя рассматриваемыми объектами, должна соответствовать условиям 1 и 2.

Например, рассмотрим ситуацию, в которой есть два экземпляра параметров, где каждый из них содержит экземпляр Скоредпроперти и что каждый из этих экземпляров Скоредпроперти содержит экземпляр свойства. Очевидно, что первое условие удовлетворено (два экземпляра свойств имеют один и тот же тип), и часть третьего условия удовлетворена (родители экземпляров свойств имеют тот же тип, Скоредпроперти, а родители этих элементов — это экземпляры параметров, которые также относятся к одному и тому же типу). Если атрибуты Name соответственно, экземпляры свойств, экземпляры Скоредпроперти и экземпляры параметров идентичны или не указаны, то два экземпляра параметров имеют общие элементы.

С вышеизложенного, первым шагом в создании экземпляров параметров является определение набора элементов Скоредпроперти, которые находятся в большинстве или всех экземплярах параметров. Если атрибут конфигурации устройства может быть представлен стандартным компонентом (который указан в ключевых словах для схемы печати), обратите внимание на элементы Скоредпроперти, общие в стандартных экземплярах параметров. Следует убедиться, что все новые экземпляры параметров, которые вы вносите, также содержат эти элементы Скоредпроперти. При необходимости вы всегда можете добавлять дополнительные элементы Скоредпроперти, чтобы отличать экземпляры параметров от стандартных экземпляров параметров. Можно даже удалить один или несколько элементов Скоредпроперти в общем случае, если есть веская причина, хотя это сокращает переносимость такого варианта. Конечно, в вопросах переносимости рекомендуется использовать неизмененные экземпляры стандартных параметров, если между параметром и экземпляром стандартного параметра, которые должны быть отражены в новом экземпляре параметра, не существует какого-либо внутреннего различия.

В следующем примере показана ситуация, в которой может потребоваться добавить элемент Скоредпроперти в экземпляр параметра. Все стандартные экземпляры параметров для функции Пажемедиасизе имеют общие элементы Медиасизевидс и Медиасизехеигхт Скоредпроперти. Предположим, что устройство может поддерживать один из стандартных размеров носителей с письмом: обратно (Лонжеджефирст) или лонгитудиналли (Шортеджефирст). Если вы не хотите использовать новую функцию направления веб-канала для предоставления такой степени свободы, вместо этого можно изменить два экземпляра параметра Пажемедиасизе для Letter, чтобы включить ориентацию подачи бумаги. Для этих двух экземпляров параметров букв Начните с экземпляра стандартного параметра Пажемедиасизе и добавьте новый элемент Скоредпроперти для представления Фиддиректион. В одном экземпляре параметра задайте для параметра Фиддиректион Скоредпроперти значение Лонжеджефирст. в другом экземпляре параметра задайте для Фиддиректион значение Шортеджефирст. Обратите внимание, что эти новые экземпляры параметров поддерживают их переносимость. Если параметр представляет букву, Шортеджефирст сохраняется в PrintTicket, а для отображения задания выбрано другое устройство, поддерживающее только стандарт Letter, код сопоставления параметров может быстро определить, что стандартная буква параметра лучше всего соответствует букве параметра, Шортеджефирст. Причина, по которой это лучшее соответствие, заключается в том, что все экземпляры Скоредпроперти согласуются с исключением Фиддиректион Скоредпроперти, которое не существует в стандарте Letter.

Вы также можете столкнуться с ситуациями, когда изменения в параметре фактически изменяют значение настолько, что измененный параметр больше не может рассматриваться как специализированный случай исходного. В таких случаях следует изменить имя параметра, чтобы отразить разницу между измененным экземпляром параметра и неизмененным. Только автор документа PrintCapabilities для конкретного устройства может определить, отличается ли параметр, предлагаемый устройством, от стандартного экземпляра параметра, чтобы гарантировать несовместимое определение.

Теперь рассмотрим случай, когда устройство имеет атрибут конфигурации устройства, который не соответствует ни одному из стандартных экземпляров компонента. В этом случае нельзя использовать стандартные экземпляры параметров для предоставления списка общих элементов Скоредпроперти. При создании экземпляра Скоредпроперти основная цель состоит в том, чтобы отличить каждый вариант от других в функции и описать, почему пользователь выбирает один вариант для другого. Базовая оценка заключается в определении каждого параметра с уникальным атрибутом имени, а Скоредпроперти, содержащий атрибут Name, становится тем, который используется для определения элементов в общем.

После того как был установлен набор элементов Скоредпроперти, достаточно просто назначить соответствующие значения каждому Скоредпроперти для создания каждого параметра. Как и в предыдущем примере, для некоторых экземпляров параметров может потребоваться добавить дополнительные экземпляры Скоредпроперти или удалить некоторые из общих элементов, чтобы создать соответствующий экземпляр параметра.

Следует отметить, что схема печати требует, чтобы набор экземпляров Скоредпроперти, их расположения и значения, назначенные каждому Скоредпроперти в параметре, оставались постоянными независимо от конфигурации. Вся концепция схемы печати зависит от экземпляров параметров, имеющих фиксированные, идентифицируемые свойства и экземпляры Скоредпроперти, которые являются общими для многих устройств.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Печать спецификации схемы](https://download.microsoft.com/download/D/E/C/DECA6E6B-3E81-48E7-B7EF-6D92A547D03C/print-schema-spec-2-0.zip)
</dt> </dl>

 

 



