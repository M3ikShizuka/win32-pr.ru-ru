---
description: В этом разделе описывается, как отобразить ход выполнения задания печати пользователю и дать ему возможность отменить задание печати, которое в данный момент выполняется.
ms.assetid: 2b7a0ab7-bf7e-473d-ab43-8b79478d4453
title: Как отобразить ход выполнения задания печати
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ec61c07844262b258fb052d08d8d20e9285a8f7e9bb83808ea61eddaf32f3a88
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119950614"
---
# <a name="how-to-display-the-print-job-progress"></a>Как отобразить ход выполнения задания печати

В этом разделе описывается, как отобразить ход выполнения задания печати пользователю и дать ему возможность отменить задание печати, которое в данный момент выполняется.

## <a name="overview"></a>Обзор

Процедура диалогового окна «ход печати» обычно выполняет следующие функции.

-   Отображение хода выполнения задания печати для пользователя.
-   Запустите поток обработки печати.
-   Отобразить кнопку **Отмена** , чтобы пользователь мог остановить задание печати до его завершения.

Строго говоря, единственным действием, выполняемым в диалоговом окне «ход печати», является отображение хода выполнения задания печати пользователю. Однако, поскольку две другие функции в приведенном выше списке тесно связаны друг с другом, они также включены в этот модуль.

## <a name="displaying-print-job-progress"></a>Отображение хода выполнения задания печати

Процедура диалогового окна «ход печати» обрабатывает следующие сообщения окна.

-   **WM \_ инитдиалог**

    Инициализирует элементы управления, используемые диалоговым окном.

-   **WM \_ сеткурсор**

    Устанавливает курсор в указатель, когда пользователь может отменить задание печати и курсор ожидания, когда задание печати находится в точке, где его нельзя отменить.

-   **Печать \_ \_ начала \_ печати**

    Задает параметры индикатора выполнения для задания печати и создает поток печати для начала обработки задания печати.

    Это сообщение окна для конкретного приложения.

-   **\_команда WM-идканцел**

    Устанавливает событие Cancel, чтобы сообщить потоку обработки печати отменить задание печати.

-   **\_ \_ Обновление состояния печати \_ пользователя**

    Обновляет индикатор выполнения и текст состояния, чтобы отобразить текущее состояние задания печати.

    Это сообщение окна для конкретного приложения.

-   **\_закрытие пользователем печати \_**

    Задает текст состояния закрытия в диалоговом окне Ход выполнения, чтобы указать, что задание печати закрывается.

    Это сообщение окна для конкретного приложения.

-   **\_Печать пользователем \_ завершена**

    Отображает сообщение о завершении задания печати для пользователя и освобождает дескрипторы и события, которые использовались в этом задании печати.

    Это сообщение окна для конкретного приложения.

 

 



