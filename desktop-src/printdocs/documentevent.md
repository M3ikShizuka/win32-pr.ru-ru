---
description: Функция Документевент является обработчиком событий, связанных с печатью документа.
ms.assetid: 1250116e-55c7-470f-97f6-36f27a31a841
title: Функция Документевент (Винспул. h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- DocumentEvent
- DocumentEventA
- DocumentEventW
api_type:
- HeaderDef
api_location:
- Winspool.h
ms.openlocfilehash: aa80e5fe17047eceacdc30e2a40a4a629088d89f
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127579751"
---
# <a name="documentevent-function"></a>Функция Документевент

Функция **документевент** является обработчиком событий, связанных с печатью документа.

## <a name="syntax"></a>Синтаксис


```C++
HRESULT DocumentEvent(
  _In_  HANDLE hPrinter,
  _In_  HDC    hdc,
        INT    iEsc,
        ULONG  cbIn,
  _In_  PVOID  pvIn,
        ULONG  cbOut,
  _Out_ PVOID  pvOut
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*хпринтер* \[ окне\]
</dt> <dd>

Маркер объекта принтера. Используйте функцию [**опенпринтер**](openprinter.md) или [**аддпринтер**](addprinter.md) для получения маркера принтера.

</dd> <dt>

*HDC* \[ окне\]
</dt> <dd>

Маркер контекста устройства, созданный вызовом [**креатедк**](/windows/desktop/api/wingdi/nf-wingdi-createdca). Если для *иеск* задано значение документевент креатедкпре, это значение равно нулю \_ . ограничения на печать из 32-разрядного приложения в 64-разрядной версии Windows см. в разделе примечания.

</dd> <dt>

*иеск* 
</dt> <dd>

Escape-код, определяющий обрабатываемое событие. Этот параметр может быть одной из следующих целочисленных констант.



| Константа                                                                                                                                                                                                                                                                                                                                               | Событие                                                                                                                                                                                                                                                                                                           |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="DOCUMENTEVENT_ABORTDOC"></span><span id="documentevent_abortdoc"></span><dl> <dt>**ДОКУМЕНТЕВЕНТ \_ абортдок**</dt> </dl>                                                                                                                                                               | GDI собирается обработать вызов своей функции [**абортдок**](/windows/desktop/api/Wingdi/nf-wingdi-abortdoc) .<br/>                                                                                                                                                                                                                         |
| <span id="DOCUMENTEVENT_CREATEDCPOST"></span><span id="documentevent_createdcpost"></span><dl> <dt>**ДОКУМЕНТЕВЕНТ \_ креатедкпост**</dt> </dl>                                                                                                                                                   | GDI только что обработал вызов его [**креатедк**](/windows/desktop/api/wingdi/nf-wingdi-createdca) или [**созданной**](/windows/desktop/api/wingdi/nf-wingdi-createica) функции.<br/> Этот escape-код не следует использовать, если не был выполнен предыдущий вызов **документевент** с *иеск* , для которого задано значение документевент \_ креатедкпре.<br/>                                 |
| <span id="DOCUMENTEVENT_CREATEDCPRE"></span><span id="documentevent_createdcpre"></span><dl> <dt>**ДОКУМЕНТЕВЕНТ \_ креатедкпре**</dt> </dl>                                                                                                                                                      | GDI собирается обработать вызов его [**креатедк**](/windows/desktop/api/wingdi/nf-wingdi-createdca) или [**создания**](/windows/desktop/api/wingdi/nf-wingdi-createica) функции.<br/>                                                                                                                                                                                         |
| <span id="DOCUMENTEVENT_DELETEDC"></span><span id="documentevent_deletedc"></span><dl> <dt>**ДОКУМЕНТЕВЕНТ \_ делетедк**</dt> </dl>                                                                                                                                                               | GDI собирается обработать вызов своей функции [**делетедк**](/windows/desktop/api/wingdi/nf-wingdi-deletedc) .<br/>                                                                                                                                                                                                                         |
| <span id="DOCUMENTEVENT_ENDDOCPOST"></span><span id="documentevent_enddocpost"></span><dl> <dt>**ДОКУМЕНТЕВЕНТ \_ енддокпост**</dt> </dl>                                                                                                                                                         | GDI только что обработал вызов своей функции [**енддок**](/windows/desktop/api/Wingdi/nf-wingdi-enddoc) .<br/>                                                                                                                                                                                                                              |
| <span id="DOCUMENTEVENT_ENDDOCPRE_or_DOCUMENTEVENT_ENDDOC"></span><span id="documentevent_enddocpre_or_documentevent_enddoc"></span><span id="DOCUMENTEVENT_ENDDOCPRE_OR_DOCUMENTEVENT_ENDDOC"></span><dl> <dt>**ДОКУМЕНТЕВЕНТ \_ енддокпре или документевент \_ енддок**</dt> </dl>                 | GDI собирается обработать вызов своей функции [**енддок**](/windows/desktop/api/Wingdi/nf-wingdi-enddoc) .<br/>                                                                                                                                                                                                                             |
| <span id="DOCUMENTEVENT_ENDPAGE"></span><span id="documentevent_endpage"></span><dl> <dt>**ДОКУМЕНТЕВЕНТ \_ ENDPAGE**</dt> </dl>                                                                                                                                                                  | GDI собирается обработать вызов своей функции [**EndPage**](/windows/desktop/api/Wingdi/nf-wingdi-endpage) .<br/>                                                                                                                                                                                                                           |
| <span id="DOCUMENTEVENT_ESCAPE"></span><span id="documentevent_escape"></span><dl> <dt>**Escape-ДОКУМЕНТЕВЕНТ \_**</dt> </dl>                                                                                                                                                                     | GDI собирается обработать вызов своей функции [**екстескапе**](/windows/desktop/api/Wingdi/nf-wingdi-extescape) .<br/>                                                                                                                                                                                                                       |
| <span id="DOCUMENTEVENT_QUERYFILTER"></span><span id="documentevent_queryfilter"></span><dl> <dt>**ДОКУМЕНТЕВЕНТ \_ PrincipalSearcher**</dt> </dl>                                                                                                                                                      | Событие ДОКУМЕНТЕВЕНТ \_ PrincipalSearcher позволяет диспетчеру очереди запросов к драйверу получить список событий документевент \_ *xxx* , на которые будет отвечать драйвер. Это событие выдается непосредственно перед вызовом **документевент** , который передает \_ событие креатедкпре документевент.<br/> |
| <span id="DOCUMENTEVENT_RESETDCPOST"></span><span id="documentevent_resetdcpost"></span><dl> <dt>**ДОКУМЕНТЕВЕНТ \_ ресетдкпост**</dt> </dl>                                                                                                                                                      | GDI только что обработал вызов своей функции [**ресетдк**](/windows/desktop/api/wingdi/nf-wingdi-resetdca) .<br/> Этот escape-код не следует использовать, если не был выполнен предыдущий вызов **документевент** с *иеск* , для которого задано значение документевент \_ ресетдкпре.<br/>                                                                    |
| <span id="DOCUMENTEVENT_RESETDCPRE"></span><span id="documentevent_resetdcpre"></span><dl> <dt>**ДОКУМЕНТЕВЕНТ \_ ресетдкпре**</dt> </dl>                                                                                                                                                         | GDI собирается обработать вызов своей функции [**ресетдк**](/windows/desktop/api/wingdi/nf-wingdi-resetdca) .<br/>                                                                                                                                                                                                                           |
| <span id="DOCUMENTEVENT_STARTDOCPOST"></span><span id="documentevent_startdocpost"></span><dl> <dt>**ДОКУМЕНТЕВЕНТ \_ стартдокпост**</dt> </dl>                                                                                                                                                   | GDI только что обработал вызов своей функции [**стартдок**](/windows/desktop/api/Wingdi/nf-wingdi-startdoca) .<br/>                                                                                                                                                                                                                          |
| <span id="DOCUMENTEVENT_STARTDOCPRE_or_DOCUMENTEVENT_STARTDOC"></span><span id="documentevent_startdocpre_or_documentevent_startdoc"></span><span id="DOCUMENTEVENT_STARTDOCPRE_OR_DOCUMENTEVENT_STARTDOC"></span><dl> <dt>**ДОКУМЕНТЕВЕНТ \_ стартдокпре или документевент \_ стартдок**</dt> </dl> | GDI собирается обработать вызов своей функции [**стартдок**](/windows/desktop/api/Wingdi/nf-wingdi-startdoca) .<br/>                                                                                                                                                                                                                         |
| <span id="DOCUMENTEVENT_STARTPAGE"></span><span id="documentevent_startpage"></span><dl> <dt>**ДОКУМЕНТЕВЕНТ \_ STARTPAGE**</dt> </dl>                                                                                                                                                            | GDI собирается обработать вызов функции [**StartPage**](/windows/desktop/api/Wingdi/nf-wingdi-startpage) .<br/>                                                                                                                                                                                                                       |



 

</dd> <dt>

*кбин* 
</dt> <dd>

Размер (в байтах) буфера, на который указывает *пвин*.

</dd> <dt>

*пвин* \[ окне\]
</dt> <dd>

Указатель на буфер. Содержимое, которое содержит буфер, зависит от значения *иеск*, как показано в следующей таблице.



| Константа                                                                                                                                                                                                                                                                                                                                               | Содержимое пвин                                                                                                                                                                                                                                 |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="DOCUMENTEVENT_ABORTDOC"></span><span id="documentevent_abortdoc"></span><dl> <dt>**ДОКУМЕНТЕВЕНТ \_ абортдок**</dt> </dl>                                                                                                                                                               | Не используется.<br/>                                                                                                                                                                                                                          |
| <span id="DOCUMENTEVENT_CREATEDCPOST"></span><span id="documentevent_createdcpost"></span><dl> <dt>**ДОКУМЕНТЕВЕНТ \_ креатедкпост**</dt> </dl>                                                                                                                                                   | *пвин* содержит адрес указателя на структуру [**DEVMODE**](/windows/win32/api/wingdi/ns-wingdi-devmodea) , указанную в параметре *пваут* в предыдущем вызове функции, для которой параметр *иеск* был установлен в документевент \_ креатедкпре.<br/> |
| <span id="DOCUMENTEVENT_CREATEDCPRE"></span><span id="documentevent_createdcpre"></span><dl> <dt>**ДОКУМЕНТЕВЕНТ \_ креатедкпре**</dt> </dl>                                                                                                                                                      | *пвин* указывает на структуру доцевент \_ креатедкпре, которая описана в [пакете средств разработки драйверов Windows](https://msdn.microsoft.com/windows/hardware/gg487428).<br/>                                                                   |
| <span id="DOCUMENTEVENT_DELETEDC"></span><span id="documentevent_deletedc"></span><dl> <dt>**ДОКУМЕНТЕВЕНТ \_ делетедк**</dt> </dl>                                                                                                                                                               | Не используется.<br/>                                                                                                                                                                                                                          |
| <span id="DOCUMENTEVENT_ENDDOCPOST"></span><span id="documentevent_enddocpost"></span><dl> <dt>**ДОКУМЕНТЕВЕНТ \_ енддокпост**</dt> </dl>                                                                                                                                                         | Не используется.<br/>                                                                                                                                                                                                                          |
| <span id="DOCUMENTEVENT_ENDDOCPRE_or_DOCUMENTEVENT_ENDDOC"></span><span id="documentevent_enddocpre_or_documentevent_enddoc"></span><span id="DOCUMENTEVENT_ENDDOCPRE_OR_DOCUMENTEVENT_ENDDOC"></span><dl> <dt>**ДОКУМЕНТЕВЕНТ \_ енддокпре или документевент \_ енддок**</dt> </dl>                 | Не используется.<br/>                                                                                                                                                                                                                          |
| <span id="DOCUMENTEVENT_ENDPAGE"></span><span id="documentevent_endpage"></span><dl> <dt>**ДОКУМЕНТЕВЕНТ \_ ENDPAGE**</dt> </dl>                                                                                                                                                                  | Не используется.<br/>                                                                                                                                                                                                                          |
| <span id="DOCUMENTEVENT_ESCAPE"></span><span id="documentevent_escape"></span><dl> <dt>**Escape-ДОКУМЕНТЕВЕНТ \_**</dt> </dl>                                                                                                                                                                     | *пвин* указывает на \_ структуру ESCAPE-доцевент, которая описана в [пакете средств разработки драйверов Windows](https://msdn.microsoft.com/windows/hardware/gg487428).<br/>                                                                        |
| <span id="DOCUMENTEVENT_QUERYFILTER"></span><span id="documentevent_queryfilter"></span><dl> <dt>**ДОКУМЕНТЕВЕНТ \_ PrincipalSearcher**</dt> </dl>                                                                                                                                                      | То же, что и для ДОКУМЕНТЕВЕНТ \_ креатедкпре.<br/>                                                                                                                                                                                            |
| <span id="DOCUMENTEVENT_RESETDCPOST"></span><span id="documentevent_resetdcpost"></span><dl> <dt>**ДОКУМЕНТЕВЕНТ \_ ресетдкпост**</dt> </dl>                                                                                                                                                      | *пвин* содержит адрес указателя на структуру [**DEVMODE**](/windows/win32/api/wingdi/ns-wingdi-devmodea) , указанную в параметре *пваут* в предыдущем вызове функции, для которой параметр *иеск* был установлен в документевент \_ ресетдкпре.<br/>  |
| <span id="DOCUMENTEVENT_RESETDCPRE"></span><span id="documentevent_resetdcpre"></span><dl> <dt>**ДОКУМЕНТЕВЕНТ \_ ресетдкпре**</dt> </dl>                                                                                                                                                         | *пвин* содержит адрес указателя на структуру [**DEVMODE**](/windows/win32/api/wingdi/ns-wingdi-devmodea) , предоставленную вызывающим объектом [**ресетдк**](/windows/desktop/api/wingdi/nf-wingdi-resetdca).<br/>                                                                                         |
| <span id="DOCUMENTEVENT_STARTDOCPOST"></span><span id="documentevent_startdocpost"></span><dl> <dt>**ДОКУМЕНТЕВЕНТ \_ стартдокпост**</dt> </dl>                                                                                                                                                   | *пвин* указывает на значение типа Long, указывающее идентификатор задания печати, возвращенный [**стартдок**](/windows/desktop/api/Wingdi/nf-wingdi-startdoca).<br/>                                                                                                                          |
| <span id="DOCUMENTEVENT_STARTDOCPRE_or_DOCUMENTEVENT_STARTDOC"></span><span id="documentevent_startdocpre_or_documentevent_startdoc"></span><span id="DOCUMENTEVENT_STARTDOCPRE_OR_DOCUMENTEVENT_STARTDOC"></span><dl> <dt>**ДОКУМЕНТЕВЕНТ \_ стартдокпре или документевент \_ стартдок**</dt> </dl> | *пвин* содержит адрес указателя на структуру [**доЦинфо**](/windows/desktop/api/Wingdi/ns-wingdi-docinfoa) , предоставленную вызывающей стороной [**стартдок**](/windows/desktop/api/Wingdi/nf-wingdi-startdoca).<br/>                                                                                         |
| <span id="DOCUMENTEVENT_STARTPAGE"></span><span id="documentevent_startpage"></span><dl> <dt>**ДОКУМЕНТЕВЕНТ \_ STARTPAGE**</dt> </dl>                                                                                                                                                            | Не используется.<br/>                                                                                                                                                                                                                          |



 

</dd> <dt>*кбаут*</dt> <dd> 

| Значение                       | Значение                                                                              |
|-----------------------------|--------------------------------------------------------------------------------------|
| ИДОКУМЕНТЕВЕНТ \_ PrincipalSearcher | Размер (в байтах) указателя буфера, на который *пваут*.                             |
| Escape-ДОКУМЕНТЕВЕНТ \_       | Значение, которое используется в качестве параметра *кбаутпут* для [**екстескапе**](/windows/desktop/api/Wingdi/nf-wingdi-extescape). |
| Для всех остальных значений        | *иеск* не используется.                                                                  |



 

</dd> <dt>

*пваут* \[ заполняет\]
</dt> <dd>

Указатель на буфер. Содержимое буфера зависит от значения, указанного для *иеск*, как показано в следующей таблице.



| Константа                                                                                                                                                                                          | Содержимое Пваут                                                                                                                                                                                                                |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="DOCUMENTEVENT_CREATEDCPRE"></span><span id="documentevent_createdcpre"></span><dl> <dt>**ДОКУМЕНТЕВЕНТ \_ креатедкпре**</dt> </dl> | Указатель на структуру [**DEVMODE**](/windows/win32/api/wingdi/ns-wingdi-devmodea) , предоставленную драйвером, которая использует GDI вместо той, которая предоставлена вызывающим объектом [**креатедк**](/windows/desktop/api/wingdi/nf-wingdi-createdca) . (Если **значение равно NULL**, GDI использует структуру, предоставляемую вызывающей стороной.)<br/> |
| <span id="DOCUMENTEVENT_ESCAPE"></span><span id="documentevent_escape"></span><dl> <dt>**Escape-ДОКУМЕНТЕВЕНТ \_**</dt> </dl>                | Указатель на буфер, используемый в качестве параметра *лпсзаутдата* для [**екстескапе**](/windows/desktop/api/Wingdi/nf-wingdi-extescape).<br/>                                                                                                              |
| <span id="DOCUMENTEVENT_QUERYFILTER"></span><span id="documentevent_queryfilter"></span><dl> <dt>**ДОКУМЕНТЕВЕНТ \_ PrincipalSearcher**</dt> </dl> | указатель на буфер, содержащий \_ структуру фильтра доцевент, которая описана в [пакете средств разработки драйверов Windows](https://msdn.microsoft.com/windows/hardware/gg487428).<br/>                                          |
| <span id="DOCUMENTEVENT_RESETDCPRE"></span><span id="documentevent_resetdcpre"></span><dl> <dt>**ДОКУМЕНТЕВЕНТ \_ ресетдкпре**</dt> </dl>    | Указатель на структуру [**DEVMODE**](/windows/win32/api/wingdi/ns-wingdi-devmodea) , предоставленную драйвером, которая использует GDI вместо той, которая предоставлена вызывающим объектом [**ресетдк**](/windows/desktop/api/wingdi/nf-wingdi-resetdca) . (Если **значение равно NULL**, GDI использует структуру, предоставляемую вызывающей стороной.)<br/>   |



 

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Возвращаемое значение функции зависит от escape-последовательности, указанной для *иеск*. Для некоторых Escape-кодов возвращаемое значение не используется (см. ниже). Если функция предоставляет возвращаемое значение, она должна иметь одно из следующих значений.



| Возвращаемое значение               | Значение                                                                           |
|----------------------------|-----------------------------------------------------------------------------------|
| \_сбой документевент     | Драйвер поддерживает escape-код, определенный параметром *иеск*, но произошла ошибка. |
| ДОКУМЕНТЕВЕНТ \_ успешно     | Драйвер успешно обработал escape-код, определенный параметром *иеск*.             |
| ДОКУМЕНТЕВЕНТ \_ не поддерживается | Драйвер не поддерживает escape-код, идентифицируемый *иеск*.                 |



 

В следующем списке указываются Escape-коды, для которых требуется возвращаемое значение, а также указано, что это не так, и объясняется значение ДОКУМЕНТЕВЕНТ \_ Success, документевент \_ Failure и ДОКУМЕНТЕВЕНТ \_ неподдерживаемые коды возврата.



| Возвращаемое значение                                          | Значение                                                                                                                                                                                    |
|-------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ДОКУМЕНТЕВЕНТ \_ абортдок                               | Возвращаемое значение не используется и не может быть прочитано.                                                                                                                                       |
| ДОКУМЕНТЕВЕНТ \_ креатедкпост                           | Возвращаемое значение не используется и не может быть прочитано.                                                                                                                                       |
| ДОКУМЕНТЕВЕНТ \_ креатедкпре                            | \_Сбой документевент — GDI не создает контекст контекста устройства или сведения и предоставляет возвращаемое значение 0 для [**Креатедк**](/windows/desktop/api/wingdi/nf-wingdi-createdca) или [**CREATE**](/windows/desktop/api/wingdi/nf-wingdi-createica). |
| ДОКУМЕНТЕВЕНТ \_ делетедк                               | Возвращаемое значение не используется и не может быть прочитано.                                                                                                                                       |
| ДОКУМЕНТЕВЕНТ \_ енддокпост                             | Возвращаемое значение не используется и не может быть прочитано.                                                                                                                                       |
| ДОКУМЕНТЕВЕНТ \_ енддокпре или документевент \_ енддок     | Возвращаемое значение не используется и не может быть прочитано.                                                                                                                                       |
| ДОКУМЕНТЕВЕНТ \_ ENDPAGE                                | Возвращаемое значение не используется и не может быть прочитано.                                                                                                                                       |
| Escape-ДОКУМЕНТЕВЕНТ \_                                 | Возвращаемое значение не используется и не может быть прочитано.                                                                                                                                       |
| ДОКУМЕНТЕВЕНТ \_ PrincipalSearcher                            | См. заметки.                                                                                                                                                                               |
| ДОКУМЕНТЕВЕНТ \_ ресетдкпост                            | Возвращаемое значение не используется и не может быть прочитано.                                                                                                                                       |
| ДОКУМЕНТЕВЕНТ \_ ресетдкпре                             | Сбой ДОКУМЕНТЕВЕНТ. \_ GDI не сбрасывает контекст устройства и предоставляет возвращаемое значение 0 для [**ресетдк**](/windows/desktop/api/wingdi/nf-wingdi-resetdca).                                                           |
| ДОКУМЕНТЕВЕНТ \_ стартдокпост                           | ДОКУМЕНТЕВЕНТ \_ Failure-GDI вызывает [**абортдок**](/windows/desktop/api/Wingdi/nf-wingdi-abortdoc) для завершения документа, а затем предоставляет возвращаемое значение \_ ошибки SP для [**стартдок**](/windows/desktop/api/Wingdi/nf-wingdi-startdoca).                      |
| ДОКУМЕНТЕВЕНТ \_ стартдокпре или документевент \_ стартдок | \_Сбой документевент — GDI не запускает документ и предоставляет возвращаемое значение \_ ошибки SP для [**стартдок**](/windows/desktop/api/Wingdi/nf-wingdi-startdoca).                                                       |
| ДОКУМЕНТЕВЕНТ \_ STARTPAGE                              | \_Сбой документевент — GDI не запускает страницу и предоставляет возвращаемое значение \_ ошибки SP для [**StartPage**](/windows/desktop/api/Wingdi/nf-wingdi-startpage).                                                         |



 

## <a name="remarks"></a>Remarks

для значения *иеск* документевент \_ principalsearcher диспетчер очереди печати может интерпретировать \_ значение успешного выполнения документевент, возвращенное **документевент** , двумя способами в зависимости от того, изменил ли драйвер определенные члены \_ структуры фильтра доцевент (который описан в [пакете средств разработки драйверов Windows](https://msdn.microsoft.com/windows/hardware/gg487428) ). (Параметр *пваут* указывает на эту структуру.) Когда диспетчер очереди выделяет память для структуры этого типа, он инициализирует два члена этой структуры, **целементсретурнед** и **целементснидед**, до известных значений. После возврата **документевент** Диспетчер очереди печати определяет, изменились ли значения этих элементов, и использует эти сведения для интерпретации возвращаемого значения **документевент** . В следующей таблице приведена сводка этой ситуации.



| Возвращаемое значение                          | Состояние Целементсретурнед и Целементснидед    | Значение                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|---------------------------------------|----------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ДОКУМЕНТЕВЕНТ \_ успешно<br/>     | Драйвер не внес изменений ни в один из элементов.<br/> | Диспетчер очереди интерпретирует это возвращаемое значение как эквивалентное \_ НЕподдерживаемому документевент. Диспетчеру очереди не удается получить фильтр событий от драйвера, поэтому он сохраняется в вызове **документевент** для всех событий.<br/>                                                                                                                                                                                                                         |
| ДОКУМЕНТЕВЕНТ \_ успешно<br/>     | Драйвер записан в один или оба члена.<br/>    | Диспетчер очереди принимает это возвращаемое значение без интерпретации. Если драйвер написал только один из **целементснидед** и **целементсретурнед**, диспетчер очереди считает неизмененный элемент нулевым значением.<br/> диспетчер очереди печати отфильтровывает все события, перечисленные в элементе **адоцевенткалл** фильтра доцевент \_ (который описан в [пакете средств разработки драйверов Windows](https://msdn.microsoft.com/windows/hardware/gg487428) ).<br/> |
| ДОКУМЕНТЕВЕНТ \_ не поддерживается<br/> | Неприменимо<br/>                          | Драйвер не поддерживает ДОКУМЕНТЕВЕНТ \_ PrincipalSearcher.<br/> Диспетчеру очереди не удается получить фильтр событий от драйвера, поэтому он сохраняется в вызове **документевент** для всех событий.<br/>                                                                                                                                                                                                                                            |
| \_сбой документевент<br/>     | Неприменимо<br/>                          | Драйвер поддерживает ДОКУМЕНТЕВЕНТ \_ PrincipalSearcher, но произошла внутренняя ошибка.<br/> Диспетчеру очереди не удается получить фильтр событий от драйвера, поэтому он сохраняется в вызове **документевент** для всех событий.<br/>                                                                                                                                                                                                                 |



 

Если escape-код, указанный в параметре *иеск* , имеет значение документевент \_ креатедкпре, применяются следующие правила.

-   Если задание отправляется непосредственно на принтер без буферизации, Пвин->Псздевице указывает на имя принтера. (Дополнительные сведения см. в документации по ДОЦЕВЕНТ \_ . структура креатедкпре в [пакете средств разработки драйверов Windows](https://msdn.microsoft.com/windows/hardware/gg487428).)
-   Если задание находится в очереди, Пвин->Псздевице указывает на имя порта принтера.

> [!Note]  
> При запуске 32-разрядного приложения на 64-разрядной версии Windows применяются следующие ограничения. Единственной функцией GDI, которую **документевент** должен вызвать, является [**екстескапе**](/windows/desktop/api/Wingdi/nf-wingdi-extescape), и следует использовать только закрытые escape-символы. Вызовы **документевент** к другим функциям GDI могут привести к неопределенному поведению.

 

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|-----------------------------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows \[Только классические приложения Vista\]<br/>                                                            |
| Минимальная версия сервера<br/> | Windows Только для \[ настольных приложений сервера 2008\]<br/>                                                      |
| Заголовок<br/>                   | <dl> <dt>винспул. h (включает Windows. h)</dt> </dl> |
| Имя в кодировке Юникод и ANSI<br/>   | **Документевентв** (Юникод) и **документевента** (ANSI)<br/>                                     |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[Вывод на печать](printdocs-printing.md)
</dt> <dt>

[Функции API очереди печати принтера](printing-and-print-spooler-functions.md)
</dt> <dt>

[Windows Пакет средств разработки драйверов](https://msdn.microsoft.com/windows/hardware/gg487428)
</dt> </dl>

 

