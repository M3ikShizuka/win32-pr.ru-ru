---
description: '\_Структура данных об уведомлении принтера \_ \_ определяет поле со сведениями о задании или принтере и предоставляет текущие данные для этого поля.'
ms.assetid: 7a7b9e01-32e0-47f8-a5b1-5f7e6a663714
title: Структура PRINTER_NOTIFY_INFO_DATA (Винспул. h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- PRINTER_NOTIFY_INFO_DATA,
api_type:
- HeaderDef
api_location:
- Winspool.h
ms.openlocfilehash: e26f7ed7f002801d3bbdf60708d83234231fe3333675a1c211488431868a4236
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118731198"
---
# <a name="printer_notify_info_data-structure"></a>\_ \_ Структура данных об УВЕДОМЛЕНии принтера \_

Структура **\_ \_ \_ данных об уведомлении принтера** определяет поле со сведениями о задании или принтере и предоставляет текущие данные для этого поля.

Функция [**финднекстпринтерчанженотификатион**](findnextprinterchangenotification.md) возвращает структуру [**уведомления принтера \_ \_**](printer-notify-info.md) , которая содержит массив **информационных структур \_ \_ \_ данных принтера** .

## <a name="syntax"></a>Синтаксис


```C++
typedef struct _PRINTER_NOTIFY_INFO_DATA {
  WORD  Type;
  WORD  Field;
  DWORD Reserved;
  DWORD Id;
  union {
    DWORD  adwData[2];
    struct {
      DWORD  cbBuf;
      LPVOID pBuf;
    } Data;
  } NotifyData;
} PRINTER_NOTIFY_INFO_DATA, *PPRINTER_NOTIFY_INFO_DATA; ;
```



## <a name="members"></a>Члены

<dl> <dt>

**Тип**
</dt> <dd>

Указывает тип предоставленных сведений. Этот элемент может принимать одно из следующих значений.



| Значение                                                                                                                                                                                                                                      | Значение                                                                                         |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------|
| <span id="JOB_NOTIFY_TYPE"></span><span id="job_notify_type"></span><dl> <dt>**Задание \_ УВЕДОМЛЕНИЕ \_ типа**</dt> <dt>0x01</dt> </dl>             | Указывает, что член **поля** указывает \_ \_ \_ \* константу поля уведомления задания.<br/>     |
| <span id="PRINTER_NOTIFY_TYPE"></span><span id="printer_notify_type"></span><dl> <dt>**Принтер \_ УВЕДОМЛЕНИЕ \_ типа**</dt> <dt>0x00</dt> </dl> | Указывает, что член **поля** указывает \_ \_ \_ \* константу поля для уведомления принтера.<br/> |



 

</dd> <dt>

**Поле**
</dt> <dd>

Указывает измененное поле. Список возможных значений см. в разделе "Примечания".

</dd> <dt>

**Reserved**
</dt> <dd>

Зарезервировано.

</dd> <dt>

**Id**
</dt> <dd>

Указывает идентификатор задания, если член **типа** указывает \_ тип уведомления задания \_ . Если член **типа** указывает \_ тип уведомления принтера \_ , этот член не определен.

</dd> <dt>

**нотифидата**
</dt> <dd>

Объединение сведений о данных на основе **типа** и членов **поля** . Описание типа данных, связанных с каждым полем, см. в разделе "Примечания".

<dl> <dt>

**Адвдата \[ 2\]**
</dt> <dd>

Массив из двух значений **типа DWORD** . Для информационных полей, использующих только один **DWORD**, данные находятся в **адвдата** \[ 0 \] .

</dd> <dt>

**Данные**
</dt> <dd> <dl> <dt>

**кббуф**
</dt> <dd>

Указывает размер (в байтах) буфера, на который указывает **пбуф**.

</dd> <dt>

**пбуф**
</dt> <dd>

Указатель на буфер, содержащий текущие данные поля.

</dd> </dl> </dd> </dl> </dd> </dl>

## <a name="remarks"></a>Remarks

Если член **типа** указывает \_ тип уведомления принтера \_ , элемент **field** может иметь одно из следующих значений.



<table>
<thead>
<tr class="header">
<th>Поле</th>
<th>Тип данных</th>
<th>Значение</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>PRINTER_NOTIFY_FIELD_SERVER_NAME</td>
<td>Не поддерживается.</td>
<td>0x00</td>
</tr>
<tr class="even">
<td>PRINTER_NOTIFY_FIELD_PRINTER_NAME</td>
<td><strong>пбуф</strong> — это указатель на строку, завершающуюся нулем, которая содержит имя принтера.</td>
<td>0x01</td>
</tr>
<tr class="odd">
<td>PRINTER_NOTIFY_FIELD_SHARE_NAME</td>
<td><strong>пбуф</strong> — это указатель на строку, завершающуюся нулем, которая определяет общую точку печати для принтера.</td>
<td>0x02</td>
</tr>
<tr class="even">
<td>PRINTER_NOTIFY_FIELD_PORT_NAME</td>
<td><strong>пбуф</strong> — это указатель на строку с завершающим нулем, содержащую имя порта, в который будут печататься задания печати. Если &quot; выбрана группировка принтеров &quot; , это список портов, разделенных запятыми.</td>
<td>0x03</td>
</tr>
<tr class="odd">
<td>PRINTER_NOTIFY_FIELD_DRIVER_NAME</td>
<td><strong>пбуф</strong> — это указатель на строку, завершающуюся нулем, которая содержит имя драйвера принтера.</td>
<td>0x04</td>
</tr>
<tr class="even">
<td>PRINTER_NOTIFY_FIELD_COMMENT</td>
<td><strong>пбуф</strong> — это указатель на строку, завершающуюся нулем, содержащую новую строку комментария, которая обычно является кратким описанием принтера.</td>
<td>0x05</td>
</tr>
<tr class="odd">
<td>PRINTER_NOTIFY_FIELD_LOCATION</td>
<td><strong>пбуф</strong> — это указатель на строку, завершающуюся нулем, которая содержит новое физическое расположение принтера (например, &quot; Блдг. 38, комната 1164 &quot; ).</td>
<td>0x06</td>
</tr>
<tr class="even">
<td>PRINTER_NOTIFY_FIELD_DEVMODE</td>
<td><strong>пбуф</strong> — это указатель на структуру <a href="/windows/win32/api/wingdi/ns-wingdi-devmodea"><strong>DEVMODE</strong></a> , которая определяет данные принтера по умолчанию, такие как ориентация бумаги и разрешение.</td>
<td>0x07</td>
</tr>
<tr class="odd">
<td>PRINTER_NOTIFY_FIELD_SEPFILE</td>
<td><strong>пбуф</strong> — это указатель на строку, завершающуюся нулем, которая указывает имя файла, используемого для создания страницы-разделителя. Эта страница используется для разделения заданий печати, отправленных на принтер.</td>
<td>0x08</td>
</tr>
<tr class="even">
<td>PRINTER_NOTIFY_FIELD_PRINT_PROCESSOR</td>
<td><strong>пбуф</strong> — это указатель на строку, завершающуюся нулем, которая указывает имя обработчика печати, используемого принтером.</td>
<td>0x09</td>
</tr>
<tr class="odd">
<td>PRINTER_NOTIFY_FIELD_PARAMETERS</td>
<td><strong>пбуф</strong> — это указатель на строку, завершающуюся нулем, которая указывает параметры по умолчанию для обработчика печати.</td>
<td>0x0A</td>
</tr>
<tr class="even">
<td>PRINTER_NOTIFY_FIELD_DATATYPE</td>
<td><strong>пбуф</strong> — это указатель на строку, завершающуюся нулем, которая указывает тип данных, используемый для записи задания печати.</td>
<td>0x0B</td>
</tr>
<tr class="odd">
<td>PRINTER_NOTIFY_FIELD_SECURITY_DESCRIPTOR</td>
<td><strong>пбуф</strong> — это указатель на структуру <a href="/windows/desktop/api/winnt/ns-winnt-security_descriptor"><strong>SECURITY_DESCRIPTOR</strong></a> для принтера. Указатель может иметь <strong>значение NULL</strong> , если дескриптор безопасности отсутствует.</td>
<td>0x0C</td>
</tr>
<tr class="even">
<td>PRINTER_NOTIFY_FIELD_ATTRIBUTES</td>
<td><strong>адвдата</strong> [0] задает атрибуты принтера, которые могут принимать одно из следующих значений:<dl> PRINTER_ATTRIBUTE_QUEUED<br />
PRINTER_ATTRIBUTE_DIRECT<br />
PRINTER_ATTRIBUTE_DEFAULT<br />
PRINTER_ATTRIBUTE_SHARED<br />
</dl></td>
<td>0x0D</td>
</tr>
<tr class="odd">
<td>PRINTER_NOTIFY_FIELD_PRIORITY</td>
<td><strong>адвдата</strong> [0] указывает значение приоритета, используемое диспетчером очереди для маршрутизации заданий печати.</td>
<td>0x0E</td>
</tr>
<tr class="even">
<td>PRINTER_NOTIFY_FIELD_DEFAULT_PRIORITY</td>
<td><strong>адвдата</strong> [0] указывает значение приоритета по умолчанию, назначенное каждому заданию печати.</td>
<td>0x0F</td>
</tr>
<tr class="odd">
<td>PRINTER_NOTIFY_FIELD_START_TIME</td>
<td><strong>адвдата</strong> [0] указывает самое раннее время, когда принтер будет печатать задание. (Это значение указывается в минутах, истекшем с 12:00 утра)</td>
<td>0x10</td>
</tr>
<tr class="even">
<td>PRINTER_NOTIFY_FIELD_UNTIL_TIME</td>
<td><strong>адвдата</strong> [0] указывает последнее время, когда принтер будет печатать задание. (Это значение указывается в минутах, истекшем с 12:00 утра)</td>
<td>0x11</td>
</tr>
<tr class="odd">
<td>PRINTER_NOTIFY_FIELD_STATUS</td>
<td><strong>адвдата</strong> [0] указывает состояние принтера. Список возможных значений см. в разделе Структура <a href="printer-info-2.md"><strong>PRINTER_INFO_2</strong></a> .</td>
<td>0x12</td>
</tr>
<tr class="even">
<td>PRINTER_NOTIFY_FIELD_STATUS_STRING</td>
<td>Не поддерживается.</td>
<td>0x13</td>
</tr>
<tr class="odd">
<td>PRINTER_NOTIFY_FIELD_CJOBS</td>
<td><strong>адвдата</strong> [0] указывает количество заданий печати, поставленных в очередь для принтера.</td>
<td>0x14</td>
</tr>
<tr class="even">
<td>PRINTER_NOTIFY_FIELD_AVERAGE_PPM</td>
<td><strong>адвдата</strong> [0] указывает среднее число страниц в минуту, напечатанных на принтере.</td>
<td>0x15</td>
</tr>
<tr class="odd">
<td>PRINTER_NOTIFY_FIELD_TOTAL_PAGES</td>
<td>Не поддерживается.</td>
<td>0x16</td>
</tr>
<tr class="even">
<td>PRINTER_NOTIFY_FIELD_PAGES_PRINTED</td>
<td>Не поддерживается.</td>
<td>0x17</td>
</tr>
<tr class="odd">
<td>PRINTER_NOTIFY_FIELD_TOTAL_BYTES</td>
<td>Не поддерживается.</td>
<td>0x18</td>
</tr>
<tr class="even">
<td>PRINTER_NOTIFY_FIELD_BYTES_PRINTED</td>
<td>Не поддерживается.</td>
<td>0x19</td>
</tr>
<tr class="odd">
<td>PRINTER_NOTIFY_FIELD_OBJECT_GUID</td>
<td>Это значение задается при изменении идентификатора GUID объекта.</td>
<td>0x1A</td>
</tr>
<tr class="even">
<td>PRINTER_NOTIFY_FIELD_FRIENDLY_NAME</td>
<td>Это значение задается при переименовании подключения к принтеру.</td>
<td>0x1B</td>
</tr>
</tbody>
</table>



 

Если член **типа** указывает \_ тип уведомления задания \_ , элемент **field** может иметь одно из следующих значений.



| Поле                                    | Тип данных                                                                                                                                                                                                                                            | Значение |
|------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------|
| \_ \_ имя принтера для поля уведомления о \_ задании \_        | **пбуф** — это указатель на строку с завершающим нулем, содержащую имя принтера, для которого задано постановка в очередь.                                                                                                                                      | 0x00  |
| \_ \_ \_ имя компьютера поля уведомления о задании \_        | **пбуф** — это указатель на строку, завершающуюся нулем, которая указывает имя компьютера, создавшего задание печати.                                                                                                                                    | 0x01  |
| \_ \_ \_ имя порта поля уведомления о задании \_           | **пбуф** — это указатель на строку, завершающуюся нулем, которая определяет порты, используемые для передачи данных на принтер. Если принтер подключен к нескольким портам, имена портов разделяются запятыми (например, "LPT1:, LPT2:, LPT3:"). | 0x02  |
| \_ \_ \_ имя пользователя поля уведомления о задании \_           | **пбуф** — это указатель на строку, завершающуюся нулем, которая указывает имя пользователя, отправившего задание печати.                                                                                                                                           | 0x03  |
| \_ \_ \_ имя уведомления поля уведомления \_ о задании         | **пбуф** — это указатель на строку, завершающуюся нулем, которая указывает имя пользователя, который должен получать уведомления при печати задания или при возникновении ошибки во время печати задания.                                                              | 0x04  |
| \_ \_ тип данных поля уведомления о задании \_             | **пбуф** — это указатель на строку, завершающуюся нулем, которая указывает тип данных, используемых для записи задания печати.                                                                                                                                         | 0x05  |
| \_ \_ \_ обработчик печати поля уведомления о задании \_     | **пбуф** — это указатель на строку, завершающуюся нулем, которая указывает имя обработчика печати, который будет использоваться для печати задания.                                                                                                                           | 0x06  |
| \_Параметры поля уведомления о задании \_ \_           | **пбуф** — это указатель на строку, завершающуюся нулем, которая указывает параметры печати-обработчика.                                                                                                                                                            | 0x07  |
| \_ \_ \_ имя драйвера поля уведомления о задании \_         | **пбуф** — это указатель на строку, завершающуюся нулем, которая указывает имя драйвера принтера, который должен использоваться для обработки задания печати.                                                                                                           | 0x08  |
| \_поле уведомления о задании \_ \_ DEVMODE              | **пбуф** — это указатель на структуру [**DEVMODE**](/windows/win32/api/wingdi/ns-wingdi-devmodea) , которая содержит данные об инициализации устройства и среде для драйвера принтера.                                                                                                        | 0x09  |
| \_состояние поля уведомления о задании \_ \_               | **адвдата** \[ 0 \] указывает состояние задания. Список возможных значений см. в разделе Структура [**\_ сведений о задании \_ 2**](job-info-2.md) .                                                                                                                        | 0x0A  |
| \_ \_ \_ строка состояния поля уведомления о задании \_       | **пбуф** — это указатель на строку, завершающуюся нулем, которая указывает состояние задания печати.                                                                                                                                                           | 0x0B  |
| \_ \_ \_ дескриптор безопасности поля уведомления о задании \_ | Не поддерживается.                                                                                                                                                                                                                                          | 0x0C  |
| \_документ поля уведомления о задании \_ \_             | **пбуф** — это указатель на строку, завершающуюся нулем, которая указывает имя задания печати (например, MS-WORD: Review.doc).                                                                                                                        | 0x0D  |
| \_приоритет поля уведомления о задании \_ \_             | **адвдата** \[ 0 \] указывает приоритет задания.                                                                                                                                                                                                           | 0x0E  |
| \_должность поля уведомления о задании \_ \_             | **адвдата** \[ 0 \] указывает расположение задания в очереди печати.                                                                                                                                                                                      | 0x0F  |
| \_ \_ отправленное поле уведомления о задании \_            | **пбуф** — это указатель на структуру [**SYSTEMTIME**](/windows/desktop/api/minwinbase/ns-minwinbase-systemtime) , указывающий время отправки задания.                                                                                                                          | 0x10  |
| \_ \_ \_ время начала поля уведомления о задании \_          | **адвдата** \[ 0 \] указывает самое раннее время, когда задание может быть напечатано. (Это значение указывается в минутах, истекшем с 12:00 утра)                                                                                                                | 0x11  |
| \_поле уведомления о задании \_ \_ до \_ времени          | **адвдата** \[ 0 \] указывает последнее время, когда задание может быть напечатано. (Это значение указывается в минутах, истекшем с 12:00 утра)                                                                                                                  | 0x12  |
| \_время поля уведомления о задании \_ \_                 | **адвдата** \[ 0 \] указывает общее время в секундах, прошедшее с момента начала печати задания.                                                                                                                                                  | 0x13  |
| \_ \_ \_ Общее число страниц в поле уведомления о задании \_         | **адвдата** \[ 0 \] задает размер задания на страницах.                                                                                                                                                                                             | 0x14  |
| \_ \_ \_ напечатанные страницы полей уведомления о заданиях \_       | **адвдата** \[ 0 \] указывает число напечатанных страниц.                                                                                                                                                                                      | 0x15  |
| \_Общее число \_ байт для поля уведомления о задании \_ \_         | **адвдата** \[ 0 \] задает размер задания (в байтах).                                                                                                                                                                                             | 0x16  |
| \_ \_ \_ число напечатанных байтов для поля уведомления о задании \_       | **адвдата** \[ 0 \] указывает число байтов, которые были распечатаны в этом задании. Для этого поля объект уведомления об изменении получает сигнал при отправке байтов на принтер.                                                                      | 0x17  |



 

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|-----------------------------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows 2000 Professional \[только классические приложения\]<br/>                                                |
| Минимальная версия сервера<br/> | Windows 2000 Server \[только классические приложения\]<br/>                                                      |
| Заголовок<br/>                   | <dl> <dt>винспул. h (включает Windows. h)</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[Вывод на печать](printdocs-printing.md)
</dt> <dt>

[Структуры API диспетчера очереди печати](printing-and-print-spooler-structures.md)
</dt> <dt>

[**DEVMODE**](/windows/win32/api/wingdi/ns-wingdi-devmodea)
</dt> <dt>

[**финднекстпринтерчанженотификатион**](findnextprinterchangenotification.md)
</dt> <dt>

[**\_Сведения о задании \_ 2**](job-info-2.md)
</dt> <dt>

[**\_Сведения о принтере \_ 2**](printer-info-2.md)
</dt> <dt>

[**\_сведения об уведомлении принтера \_**](printer-notify-info.md)
</dt> <dt>

[**\_дескриптор безопасности**](/windows/desktop/api/winnt/ns-winnt-security_descriptor)
</dt> <dt>

[**SYSTEMTIME**](/windows/desktop/api/minwinbase/ns-minwinbase-systemtime)
</dt> </dl>

