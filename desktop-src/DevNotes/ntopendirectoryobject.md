---
description: Открывает существующий объект каталога.
ms.assetid: 7313fb32-976b-4c73-b9ba-09fb8ad7faf1
title: Функция Нтопендиректорйобжект
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- NtOpenDirectoryObject
api_type:
- DllExport
api_location:
- Ntdll.dll
ms.openlocfilehash: ceea03c36e0617e2f48887275e7867e3589c87ae
ms.sourcegitcommit: c8ec1ded1ffffc364d3c4f560bb2171da0dc5040
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/22/2021
ms.locfileid: "105648019"
---
# <a name="ntopendirectoryobject-function"></a>Функция Нтопендиректорйобжект

\[Эта функция может быть изменена или недоступна в будущем.\]

Открывает существующий объект каталога.

## <a name="syntax"></a>Синтаксис


```C++
NTSTATUS WINAPI NtOpenDirectoryObject(
  _Out_ PHANDLE            DirectoryHandle,
  _In_  ACCESS_MASK        DesiredAccess,
  _In_  POBJECT_ATTRIBUTES ObjectAttributes
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*Директорихандле* \[ заполняет\]
</dt> <dd>

Маркер для вновь открытого объекта каталога.

</dd> <dt>

*Десиредакцесс* \[ окне\]
</dt> <dd>

[**\_ Маска доступа**](../secauthz/access-mask.md) , указывающая запрошенный доступ к объекту каталога. Этот параметр может принимать одно или несколько следующих значений.



| Значение                                                                                                                                                                                                                                                                      | Значение                                                                     |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------|
| <span id="DIRECTORY_QUERY"></span><span id="directory_query"></span><dl> <dt>**Каталог \_**</dt> <dt>0x0001</dt> запросов </dl>                                            | Запрос доступа к объекту каталога.<br/>                            |
| <span id="DIRECTORY_TRAVERSE"></span><span id="directory_traverse"></span><dl> <dt>**Каталог \_ ОБХОД**</dt> <dt>0x0002</dt> </dl>                                   | Имя — Поиск доступа к объекту каталога.<br/>                      |
| <span id="DIRECTORY_CREATE_OBJECT"></span><span id="directory_create_object"></span><dl> <dt>**Каталог \_ СОЗДАТЬ \_ объект**</dt> <dt>0x0004</dt> </dl>                   | Имя — создание доступа к объекту каталога.<br/>                    |
| <span id="DIRECTORY_CREATE_SUBDIRECTORY"></span><span id="directory_create_subdirectory"></span><dl> <dt>**Каталог \_ СОЗДАТЬ \_ подкаталог**</dt> <dt>0x0008</dt> </dl> | Подкаталог — доступ на создание объекта каталога.<br/>            |
| <span id="DIRECTORY_ALL_ACCESS"></span><span id="directory_all_access"></span><dl> <dt>**Каталог \_ \_**</dt> <dt> \_ Требуются права доступа Standard \_ \| 0xF</dt> </dl> | Все предыдущие права, а также **стандартные \_ права, \_ необходимы**.<br/> |



 

</dd> <dt>

*Обжектаттрибутес* \[ окне\]
</dt> <dd>

Атрибуты для объекта каталога. Чтобы инициализировать структуру **\_ атрибутов объекта** , используйте макрос **инитиализеобжектаттрибутес** . Дополнительные сведения см. в документации по этим элементам в документации по WDK.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Функция возвращает состояние \_ Success или Error. Возможные коды состояния включают следующее.



| Код возврата                                                                                                       | Описание                                                                                                                                                                                                                                                                                               |
|-------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <dl> <dt>**СОСТОЯНИЕ " \_ недостаточно \_ ресурсов"**</dt> </dl>    | Не удалось выделить временный буфер, необходимый для этой функции.<br/>                                                                                                                                                                                                                           |
| <dl> <dt>**\_Недопустимый \_ параметр Status**</dt> </dl>         | Указанный параметр Обжектаттрибутес был **пустым** указателем, не является допустимым указателем на **структуру \_ атрибутов объекта** или некоторые из элементов, указанных в структуре **\_ атрибутов объекта** , недопустимы.<br/>                                                                          |
| <dl> <dt>**\_ \_ недопустимое имя объекта состояния \_**</dt> </dl>      | Параметр *обжектаттрибутес* содержал элемент **objectname** в структуре **\_ атрибутов объекта** , который является недопустимым, поскольку после символа **\_ \_ \_ разделителя пути к имени объекта** обнаружена пустая строка.<br/>                                                                        |
| <dl> <dt>**\_ \_ \_ не \_ найдено имя объекта состояния**</dt> </dl>   | Параметр *обжектаттрибутес* содержал элемент **objectname** в структуре **\_ атрибутов объекта** , который не удалось найти.<br/>                                                                                                                                                           |
| <dl> <dt>**\_ \_ путь к объекту состояния \_ не \_ найден**</dt> </dl>   | Параметр *обжектаттрибутес* содержал элемент **objectname** в структуре **\_ атрибутов объекта** с путем к объекту, который не удалось найти. <br/>                                                                                                                                      |
| <dl> <dt>**Состояние \_ \_ \_ \_ неправильный синтаксис пути к объекту**</dt> </dl> | Параметр *обжектаттрибутес* не содержит элемент **RootDirectory** , но элемент **objectname** в структуре **\_ атрибутов объекта** был пустой строкой или не содержит символ **\_ \_ \_ разделителя пути к имени объекта** . Указывает неверный синтаксис пути к объекту.<br/> |



 

## <a name="remarks"></a>Комментарии

Эта функция не имеет связанной библиотеки импорта или файла заголовка. его необходимо вызвать с помощью функций [**LoadLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) и [**GetProcAddress**](/windows/win32/api/libloaderapi/nf-libloaderapi-getprocaddress) .

## <a name="requirements"></a>Требования



| Требование | Значение |
|----------------|--------------------------------------------------------------------------------------|
| DLL<br/> | <dl> <dt>Ntdll.dll</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[**нткуеридиректорйобжект**](ntquerydirectoryobject.md)
</dt> </dl>

 

 
