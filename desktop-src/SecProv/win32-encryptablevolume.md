---
description: для шифрования диска или создания программного обеспечения безопасности шифрования можно использовать Windowsное программное обеспечение для шифрования, шифрование диска BitLocker, API шифрования, который можно использовать с помощью \_ класса поставщика енкриптаблеволуме WMI Win32.
ms.assetid: 464fa664-4330-43fa-a5e0-144d1e73cf58
title: Класс Win32_EncryptableVolume
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- Win32_EncryptableVolume
- Win32_EncryptableVolume.DeviceID
- Win32_EncryptableVolume.PersistentVolumeID
- Win32_EncryptableVolume.DriveLetter
- Win32_EncryptableVolume.ProtectionStatus
api_type:
- Schema
api_location:
- Root\CIMV2\Security\MicrosoftVolumeEncryption
ms.openlocfilehash: 3beb3498cf9e3d2873ea7dcfe3a108618eeddb513bc8207d1e819cce2fe976d4
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118891007"
---
# <a name="win32_encryptablevolume-class"></a>\_Класс Win32 енкриптаблеволуме

Класс поставщика WMI **\_ Енкриптаблеволуме для Win32** представляет область хранения на жестком диске, которую можно защитить с помощью шифрование диска BitLocker. Шифровать можно только тома NTFS. Это может быть том, который содержит операционную систему, или том данных на локальном диске. Он не может быть сетевым диском.

Чтобы реализовать преимущества BitLocker, необходимо указать метод защиты для ключа шифрования тома, а затем полностью зашифровать том.

Чтобы защитить ключ шифрования тома, добавьте предохранители ключа с помощью следующих методов:

-   [**протекткэйвисцертификатефиле**](protectkeywithcertificatefile-win32-encryptablevolume.md)
-   [**протекткэйвисцертификатесумбпринт**](protectkeywithcertificatethumbprint-win32-encryptablevolume.md)
-   [**протекткэйвисекстерналкэй**](protectkeywithexternalkey-win32-encryptablevolume.md)
-   [**протекткэйвиснумерикалпассворд**](protectkeywithnumericalpassword-win32-encryptablevolume.md)
-   [**протекткэйвиспассфрасе**](protectkeywithpassphrase-win32-encryptablevolume.md)
-   [**протекткэйвистпм**](protectkeywithtpm-win32-encryptablevolume.md)
-   [**протекткэйвистпмандпин**](protectkeywithtpmandpin-win32-encryptablevolume.md)
-   [**протекткэйвистпмандпинандстартупкэй**](protectkeywithtpmandpinandstartupkey-win32-encryptablevolume.md)
-   [**протекткэйвистпмандстартупкэй**](protectkeywithtpmandstartupkey-win32-encryptablevolume.md)

Каждый тип предохранителя ключа предоставляет разные возможности проверки подлинности для разблокировки доступа к зашифрованным данным. Внешние ключи и числовые пароли могут обеспечить проверку подлинности во время сценариев восстановления. Для защиты ключей на основе доверенного платформенного модуля, возможно, сначала потребуется инициализировать доверенный платформенный модуль. Дополнительные сведения см. в разделе класс поставщика WMI [**\_ TPM Win32**](win32-tpm.md) .

Используйте метод [**Encrypt**](encrypt-win32-encryptablevolume.md) или [**енкриптафтерхардваретест**](encryptafterhardwaretest-win32-encryptablevolume.md) , чтобы начать шифрование. Перед началом шифрования необходимо добавить предохранители ключа, или же необходимо использовать метод [**дисаблекэйпротекторс**](disablekeyprotectors-win32-encryptablevolume.md) для предоставления незащищенного открытого ключа. Если компьютер выключится во время шифрования, шифрование будет автоматически возобновлено после перезагрузки компьютера.

Для проверки состояния доступного тома можно использовать методы [**жетконверсионстатус**](getconversionstatus-win32-encryptablevolume.md) и [**жетпротектионстатус**](getprotectionstatus-win32-encryptablevolume.md) .

## <a name="syntax"></a>Синтаксис

``` syntax
class Win32_EncryptableVolume
{
  string DeviceID;
  string PersistentVolumeID;
  string DriveLetter;
  uint32 ProtectionStatus;
};
```

## <a name="members"></a>Члены

Класс **Win32 \_ енкриптаблеволуме** имеет следующие типы членов:

-   [Методы](#methods)
-   [Свойства](#properties)

### <a name="methods"></a>Методы

Класс **Win32 \_ енкриптаблеволуме** содержит следующие методы.



| Метод                                                                                                                   | Описание                                                                                                                                                                                                                                                                           |
|:-------------------------------------------------------------------------------------------------------------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**баккупрековеринформатионтоактиведиректори**](backuprecoveryinformationtoactivedirectory-win32-encryptablevolume.md) | Сохраняет все внешние ключи и связанные сведения, необходимые для восстановления в Active Directory.<br/>                                                                                                                                                                       |
| [**чанжеекстерналкэй**](changeexternalkey-win32-encryptablevolume.md)                                                   | Изменяет внешний ключ, связанный с зашифрованным томом.<br/>                                                                                                                                                                                                              |
| [**чанжепассфрасе**](changepassphrase-win32-encryptablevolume.md)                                                     | Использует новую парольную фразу для получения нового производного ключа.<br/>                                                                                                                                                                                                                       |
| [**чанжепин**](changepin-win32-encryptablevolume.md)                                                                   | Изменяет ПИН-код, связанный с зашифрованным томом.<br/>                                                                                                                                                                                                                         |
| [**клеараллаутаунлокккэйс**](clearallautounlockkeys-win32-encryptablevolume.md)                                         | Удаляет все внешние ключи и связанные сведения, сохраненные в текущем томе операционной системы, которые используются для автоматической разблокировки томов данных.<br/>                                                                                                             |
| [**расшифровка;**](decrypt-win32-encryptablevolume.md)                                                                       | Начинает расшифровку полностью зашифрованного тома или возобновляет расшифровку частично зашифрованного тома.<br/>                                                                                                                                                                       |
| [**делетекэйпротектор**](deletekeyprotector-win32-encryptablevolume.md)                                                 | Удаляет данный предохранитель ключа для тома.<br/>                                                                                                                                                                                                                              |
| [**делетекэйпротекторс**](deletekeyprotectors-win32-encryptablevolume.md)                                               | Удаляет все предохранители ключа для тома.<br/>                                                                                                                                                                                                                                 |
| [**дисаблеаутаунлокк**](disableautounlock-win32-encryptablevolume.md)                                                   | Удаляет внешний ключ, сохраненный в текущем томе операционной системы, чтобы том не был автоматически разблокирован при подключении.<br/>                                                                                                                       |
| [**дисаблекэйпротекторс**](disablekeyprotectors-win32-encryptablevolume.md)                                             | Отключает все предохранители ключа, связанные с этим томом.<br/>                                                                                                                                                                                                                   |
| [**енаблеаутаунлокк**](enableautounlock-win32-encryptablevolume.md)                                                     | Позволяет автоматически разблокировать том данных при подключении тома.<br/>                                                                                                                                                                                              |
| [**енаблекэйпротекторс**](enablekeyprotectors-win32-encryptablevolume.md)                                               | Включает все отключенные предохранители ключа.<br/>                                                                                                                                                                                                                                       |
| [**Шифрование**](encrypt-win32-encryptablevolume.md)                                                                       | Начинает шифрование полностью расшифрованного тома или возобновляет шифрование частично зашифрованного тома.<br/>                                                                                                                                                                       |
| [**енкриптафтерхардваретест**](encryptafterhardwaretest-win32-encryptablevolume.md)                                     | Начинает шифрование полностью расшифрованного тома после проверки оборудования.<br/>                                                                                                                                                                                                       |
| [**финдвалидцертификатес**](findvalidcertificates-win32-encryptablevolume.md)                                           | Перечисляет все сертификаты в системе, соответствующие указанным критериям, и возвращает список отпечатков.<br/>                                                                                                                                                             |
| [**жетконверсионстатус**](getconversionstatus-win32-encryptablevolume.md)                                               | Указывает состояние шифрования или расшифровки тома.<br/>                                                                                                                                                                                                        |
| [**жетенкриптионмесод**](getencryptionmethod-win32-encryptablevolume.md)                                               | Указывает алгоритм шифрования и размер ключа, используемые в томе.<br/>                                                                                                                                                                                                        |
| [**жетекстерналкэйфиленаме**](getexternalkeyfilename-win32-encryptablevolume.md)                                         | Возвращает имя файла, содержащего внешний ключ.<br/>                                                                                                                                                                                                               |
| [**жетекстерналкэйфромфиле**](getexternalkeyfromfile-win32-encryptablevolume.md)                                         | Возвращает внешний ключ из файла.<br/>                                                                                                                                                                                                                                      |
| [**жесардваретестстатус**](gethardwareteststatus-win32-encryptablevolume.md)                                           | Возвращает сведения о состоянии проверки оборудования.<br/>                                                                                                                                                                                                                             |
| [**жетидентификатионфиелд**](getidentificationfield-win32-encryptablevolume.md)                                         | Возвращает строку идентификатора, которая доступна в метаданных тома.<br/>                                                                                                                                                                                                  |
| [**жеткэйпаккаже**](getkeypackage-win32-encryptablevolume.md)                                                           | Возвращает сведения, которые помогают сохранить зашифрованные данные, если диск сильно поврежден.<br/>                                                                                                                                                                              |
| [**жеткэйпротекторцертификате**](getkeyprotectorcertificate-win32-encryptablevolume.md)                                 | Извлекает открытый ключ и отпечаток сертификата для предохранителя открытого ключа.<br/>                                                                                                                                                                                            |
| [**жеткэйпротекторекстерналкэй**](getkeyprotectorexternalkey-win32-encryptablevolume.md)                                 | Извлекает внешний ключ для данного предохранителя ключа соответствующего типа.<br/>                                                                                                                                                                                              |
| [**жеткэйпротекторфриендлинаме**](getkeyprotectorfriendlyname-win32-encryptablevolume.md)                               | Извлекает отображаемое имя, используемое для распознавания данного предохранителя ключа.<br/>                                                                                                                                                                                                         |
| [**жеткэйпротекторнумерикалпассворд**](getkeyprotectornumericalpassword-win32-encryptablevolume.md)                     | Возвращает числовой пароль для данного предохранителя ключа соответствующего типа.<br/>                                                                                                                                                                                        |
| [**жеткэйпротекторплатформвалидатионпрофиле**](getkeyprotectorplatformvalidationprofile-win32-encryptablevolume.md)     | Извлекает профиль проверки платформы для данного предохранителя ключа соответствующего типа.<br/>                                                                                                                                                                               |
| [**жеткэйпротекторс**](getkeyprotectors-win32-encryptablevolume.md)                                                     | Список предохранителей, используемых для защиты ключа шифрования тома.<br/>                                                                                                                                                                                                           |
| [**жеткэйпротектортипе**](getkeyprotectortype-win32-encryptablevolume.md)                                               | Указывает тип предохранителя ключа.<br/>                                                                                                                                                                                                                               |
| [**жетлоккстатус**](getlockstatus-win32-encryptablevolume.md)                                                           | Указывает, доступны ли содержимое тома из текущей операционной системы.<br/>                                                                                                                                                                   |
| [**жетпротектионстатус**](getprotectionstatus-win32-encryptablevolume.md)                                               | Указывает, защищен ли том и его ключ шифрования (если он есть).<br/>                                                                                                                                                                                                  |
| [**GetVersion**](getversion-win32-encryptablevolume.md)                                                                 | Указывает версию метаданных ФВЕ для тома.<br/>                                                                                                                                                                                                                          |
| [**исаутаунлоккенаблед**](isautounlockenabled-win32-encryptablevolume.md)                                               | Указывает, разблокируется ли том автоматически при подключении.<br/>                                                                                                                                                                                                       |
| [**исаутаунлокккэйсторед**](isautounlockkeystored-win32-encryptablevolume.md)                                           | Указывает, существует ли в текущем томе операционной системы все внешние ключи и связанные сведения, которые могут использоваться для автоматической разблокировки томов данных.<br/>                                                                                           |
| [**искэйпротектораваилабле**](iskeyprotectoravailable-win32-encryptablevolume.md)                                       | Указывает, доступны ли для тома предохранители.<br/>                                                                                                                                                                                                                 |
| [**иснумерикалпассвордвалид**](isnumericalpasswordvalid-win32-encryptablevolume.md)                                     | Указывает, соответствует ли числовой пароль специальным требованиям к формату.<br/>                                                                                                                                                                                            |
| [**Блокировка**](lock-win32-encryptablevolume.md)                                                                             | Отключает том и удаляет ключ шифрования тома из системной памяти.<br/>                                                                                                                                                                                           |
| [**паусеконверсион**](pauseconversion-win32-encryptablevolume.md)                                                       | Приостанавливает шифрование или расшифровку тома.<br/>                                                                                                                                                                                                                           |
| [**препареволуме**](preparevolume-win32-encryptablevolume.md)                                                           | Создает том BitLocker с указанным типом файловой системы тома обнаружения.<br/>                                                                                                                                                                                    |
| [**протекткэйвисцертификатефиле**](protectkeywithcertificatefile-win32-encryptablevolume.md)                           | Проверяет идентификатор объекта (OID) расширенного использования ключа (EKU) предоставленного файла сертификата.<br/>                                                                                                                                                                           |
| [**протекткэйвисцертификатесумбпринт**](protectkeywithcertificatethumbprint-win32-encryptablevolume.md)               | Проверяет идентификатор объекта (OID) расширенного использования ключа (EKU) предоставленного отпечатка сертификата.<br/>                                                                                                                                                                     |
| [**протекткэйвисекстерналкэй**](protectkeywithexternalkey-win32-encryptablevolume.md)                                   | Защищает ключ шифрования тома с помощью 256-разрядного внешнего ключа.<br/>                                                                                                                                                                                                           |
| [**протекткэйвиснумерикалпассворд**](protectkeywithnumericalpassword-win32-encryptablevolume.md)                       | Защищает ключ шифрования тома с помощью специального отформатированного пароля с 48 цифрами.<br/>                                                                                                                                                                                          |
| [**протекткэйвиспассфрасе**](protectkeywithpassphrase-win32-encryptablevolume.md)                                     | Использует парольную фразу для получения производного ключа.<br/>                                                                                                                                                                                                                             |
| [**протекткэйвистпм**](protectkeywithtpm-win32-encryptablevolume.md)                                                   | Защищает ключ шифрования тома с помощью оборудования безопасности доверенный платформенный модуль (TPM) (доверенного платформенного модуля) на компьютере, если оно доступно.<br/>                                                                                                                                            |
| [**протекткэйвистпмандпин**](protectkeywithtpmandpin-win32-encryptablevolume.md)                                       | Защищает ключ шифрования тома с помощью оборудования безопасности доверенный платформенный модуль (TPM) (доверенного платформенного модуля) на компьютере (при его наличии), дополненного пользовательским идентификационным номером (PIN), который должен быть предоставлен компьютеру при запуске.<br/>                        |
| [**протекткэйвистпмандпинандстартупкэй**](protectkeywithtpmandpinandstartupkey-win32-encryptablevolume.md)             | Защищает ключ шифрования тома с помощью оборудования безопасности доверенный платформенный модуль (TPM) (доверенного платформенного модуля) на компьютере (при его наличии), дополненного пользовательским идентификационным номером (ПИН-кодом) и внешним ключом, который должен быть предоставлен компьютеру при запуске.<br/> |
| [**протекткэйвистпмандстартупкэй**](protectkeywithtpmandstartupkey-win32-encryptablevolume.md)                         | Защищает ключ шифрования тома с помощью оборудования безопасности доверенный платформенный модуль (TPM) (доверенного платформенного модуля) на компьютере (при его наличии), дополненного внешним ключом, который должен быть предоставлен компьютеру при запуске.<br/>                                                              |
| [**ресумеконверсион**](resumeconversion-win32-encryptablevolume.md)                                                     | Возобновляет шифрование или расшифровку тома.<br/>                                                                                                                                                                                                                          |
| [**савикстерналкэйтофиле**](saveexternalkeytofile-win32-encryptablevolume.md)                                           | Записывает внешний ключ, связанный с указанным предохранителем ключа тома, в указанное расположение файла.<br/>                                                                                                                                                                   |
| [**сетидентификатионфиелд**](setidentificationfield-win32-encryptablevolume.md)                                         | Задает указанную строку идентификатора в метаданных тома.<br/>                                                                                                                                                                                                             |
| [**унлокквисцертификатефиле**](unlockwithcertificatefile-win32-encryptablevolume.md)                                   | Использует предоставленный файл сертификата для получения производного ключа и разблокировки зашифрованного тома.<br/>                                                                                                                                                                              |
| [**унлокквисцертификатесумбпринт**](unlockwithcertificatethumbprint-win32-encryptablevolume.md)                       | Использует предоставленный отпечаток сертификата для получения производного ключа и разблокировки зашифрованного тома.<br/>                                                                                                                                                                        |
| [**унлокквисекстерналкэй**](unlockwithexternalkey-win32-encryptablevolume.md)                                           | Использует предоставленный внешний ключ для доступа к содержимому тома данных.<br/>                                                                                                                                                                                                      |
| [**унлокквиснумерикалпассворд**](unlockwithnumericalpassword-win32-encryptablevolume.md)                               | Использует предоставленный числовой пароль для доступа к содержимому тома данных.<br/>                                                                                                                                                                                                |
| [**унлокквиспассфрасе**](unlockwithpassphrase-win32-encryptablevolume.md)                                             | Использует парольную фразу для получения производного ключа. После вычисления производного ключа используется производный ключ для разблокировки главного ключа зашифрованного тома.<br/>                                                                                                                   |
| [**упградеволуме**](upgradevolume-win32-encryptablevolume.md)                                                           | обновляет том из формата Windows Vista до формата Windows 7.<br/>                                                                                                                                                                                                   |



 

### <a name="properties"></a>Свойства

Класс **Win32 \_ енкриптаблеволуме** имеет следующие свойства.

<dl> <dt>

**DeviceID**
</dt> <dd> <dl> <dt>

Тип данных: **строка**
</dt> <dt>

Тип доступа: только для чтения
</dt> <dt>

Квалификаторы: **ключ**
</dt> </dl>

Уникальный идентификатор тома в этой системе. Используйте этот параметр, чтобы связать том с другими классами поставщика WMI, например **с \_ томом Win32**.

</dd> <dt>

**DriveLetter**
</dt> <dd> <dl> <dt>

Тип данных: **строка**
</dt> <dt>

Тип доступа: только для чтения
</dt> </dl>

Буква диска для тома. Этот идентификатор можно использовать для связывания тома с другими классами поставщика WMI, например [**\_ тома Win32**](/previous-versions/windows/desktop/legacy/aa394515(v=vs.85)).

Для томов без букв диска это значение равно **null**.

</dd> <dt>

**персистентволумеид**
</dt> <dd> <dl> <dt>

Тип данных: **строка**
</dt> <dt>

Тип доступа: только для чтения
</dt> </dl>

Постоянный идентификатор для тома в этой системе. Этот идентификатор является эксклюзивным для **Win32 \_ енкриптаблеволуме**.

Этот идентификатор представляет собой пустую строку, если том является стандартным полностью расшифрованным томом NTFS; в противном случае он имеет уникальное значение.

</dd> <dt>

**ProtectionStatus**
</dt> <dd> <dl> <dt>

Тип данных: **UInt32**
</dt> <dt>

Тип доступа: только для чтения
</dt> </dl>

Состояние тома, независимо от того, защищает ли BitLocker том. Это значение сохраняется при создании экземпляра класса. Состояние защиты может изменить состояние между созданием экземпляра и при проверке значения. Чтобы проверить значение свойства **состояние защиты** в режиме реального времени, используйте метод [**жетпротектионстатус**](getprotectionstatus-win32-encryptablevolume.md) .



| Значение                                                                        | Значение                                                                                                                                                                           |
|------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <dl> <dt>0</dt> </dl> | ЗАЩИТА ОТКЛЮЧЕНА<br/> Том не зашифрован, частично зашифрован, или ключ шифрования тома для тома доступен в очистить на жестком диске. <br/> |
| <dl> <dt>1</dt> </dl> | ЗАЩИТА ВКЛЮЧЕНА<br/> Том полностью зашифрован, а ключ шифрования для тома недоступен на жестком диске. <br/>                          |
| <dl> <dt>2</dt> </dl> | НЕИЗВЕСТНАЯ ЗАЩИТА<br/> Невозможно определить состояние защиты тома. Одна из возможных причин заключается в том, что том находится в заблокированном состоянии.<br/>                          |



 

</dd> </dl>

## <a name="security-considerations"></a>Соображения безопасности

Класс поставщика инструментария WMI **\_ Енкриптаблеволуме для Win32** использует безопасность пространства имен WMI и в подсистеме шифрование диска BitLocker для контроля доступа.

Для использования методов **Win32 \_ енкриптаблеволуме** должны выполняться следующие условия.

-   Необходимо иметь права администратора.
-   Шифрование подключения должно иметь возможность подключения к поставщику.

    Дополнительные сведения о создании зашифрованного соединения см. [в разделе запрос зашифрованного соединения с пространством имен](../wmisdk/requiring-an-encrypted-connection-to-a-namespace.md).

Чтобы включить удаленные подключения, необходимо разрешить удаленный трафик WMI. Дополнительные сведения о включении трафика WMI см. [в статье удаленное подключение к WMI, начиная с ОС Vista](../wmisdk/connecting-to-wmi-remotely-starting-with-vista.md).

По умолчанию параметр безопасности пространства имен включает запись, которая разрешает редактирование по умолчанию. Дополнительные сведения об аудите пространства имен WMI см. [в разделе доступ к пространствам имен WMI](../wmisdk/access-to-wmi-namespaces.md).

## <a name="remarks"></a>Remarks

файлы MOF-файл (MOF) содержат определения для классов инструментарий управления Windows (WMI) (WMI). MOF-файлы не устанавливаются в составе Windows SDK. Они устанавливаются на сервере при добавлении связанной роли с помощью диспетчер сервера. Дополнительные сведения о файлах MOF см. в разделе [MOF-файл (MOF)](../wmisdk/managed-object-format--mof-.md).

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|---------------------------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows vista Enterprise, \[ только для настольных приложений Windows vista Ultimate\]<br/>                       |
| Минимальная версия сервера<br/> | Windows Только для \[ настольных приложений сервера 2008\]<br/>                                                    |
| Пространство имен<br/>                | Корневой \\ CIMV2 \\ безопасности \\ микрософтволуминкриптион<br/>                                             |
| MOF<br/>                      | <dl> <dt>Win32 \_ енкриптаблеволуме. mof</dt> </dl> |



 

 
