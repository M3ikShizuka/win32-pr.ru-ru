---
description: Метод Протекткэйвиспассфрасе класса Win32_EncryptableVolume — использует парольную фразу для получения производного ключа.
ms.assetid: 62b070ec-4788-47cc-bfa4-6811a712ddbd
title: Метод Протекткэйвиспассфрасе класса Win32_EncryptableVolume
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- Win32_EncryptableVolume.ProtectKeyWithPassphrase
api_type:
- COM
api_location:
- Root\CIMV2\Security\MicrosoftVolumeEncryption
ms.openlocfilehash: 2a7772b1b65890fedbdbb8dcced1ad851f3845b3
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127056941"
---
# <a name="protectkeywithpassphrase-method-of-the-win32_encryptablevolume-class"></a>Метод Протекткэйвиспассфрасе \_ класса Win32 енкриптаблеволуме

Метод **протекткэйвиспассфрасе** класса [**Win32 \_ енкриптаблеволуме**](win32-encryptablevolume.md) использует парольную фразу для получения производного ключа. После вычисления производного ключа используется производный ключ для защиты главного ключа зашифрованного тома.

## <a name="syntax"></a>Синтаксис


```mof
uint32 ProtectKeyWithPassphrase(
  [in, optional] string FriendlyName,
  [in]           string Passphrase,
  [out]          string VolumeKeyProtectorID
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*FriendlyName* \[ в необязательное\]
</dt> <dd>

Тип: **строка**

Строка, указывающая назначенный пользователем строковый идентификатор для предохранителя ключа. Если этот параметр не указан, используется пустое значение.

</dd> <dt>

*Парольная фраза* \[ окне\]
</dt> <dd>

Тип: **строка**

Строка, указывающая парольную фразу.

</dd> <dt>

*Волумекэйпротекторид* \[ заполняет\]
</dt> <dd>

Тип: **строка**

Строка, однозначно определяющая созданный предохранитель ключа.

Если диск поддерживает аппаратное шифрование, а BitLocker не использует нестандартное владение, для строки идентификатора задается значение "BitLocker", а предохранитель ключа записывается в метаданные диапазона.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Тип: **UInt32**

При сбое этот метод возвращает один из следующих кодов или другой код ошибки.



| Возвращаемый код и значение                                                                                                                                                                                        | Описание                                                                                                              |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------|
| <dl> <dt>**С \_ ОК**</dt> <dt>0 (0x0)</dt> </dl>                                                        | Метод успешно выполнен.<br/>                                                                                    |
| <dl> <dt>**ФВЕ \_ E \_ не \_ разрешено \_ в \_ защищенном \_ режиме**</dt> <dt>2150694976 (0x80310040)</dt> </dl>         | шифрование диска BitLocker можно использовать только в целях восстановления при использовании в режиме Сейф.<br/>                     |
| <dl> <dt>**ФВЕ \_ \_ \_ \_ Не \_ разрешена парольная фраза для политики**</dt> <dt>2150695018 (0x8031006A)</dt> </dl>     | Групповая политика не позволяет создать парольную фразу.<br/>                                                    |
| <dl> <dt>**ФВЕ \_ E \_ FIPS \_ не защищает \_ парольную фразу**</dt> <dt>2150695020 (0x8031006C)</dt> </dl>           | Параметр групповой политики, требующий соответствия FIPS, не позволил создать или использовать парольную фразу.<br/> |
| <dl> <dt>**ФВЕ \_ E \_ Policy \_ Недопустимая \_ \_ Длина парольной фразы**</dt> <dt>2150695040 (0x80310080)</dt> </dl>  | Указанная парольная фраза не соответствует требованиям к минимальной или максимальной длине.<br/>                             |
| <dl> <dt>**ФВЕ \_ \_ \_ \_ Слишком \_ простая парольная фраза для политики**</dt> <dt>2150695041 (0x80310081)</dt> </dl>      | Парольная фраза не соответствует требованиям сложности, заданным администратором в групповой политике.<br/>            |
| <dl> <dt>**ФВЕ \_ E с \_ заблокированным \_ томом**</dt> <dt>2150694912 (0x80310000)</dt> </dl>                       | Том уже заблокирован шифрование диска BitLocker. Необходимо разблокировать диск с помощью панели управления.<br/>     |
| <dl> <dt>**ФВЕ \_ \_ПЕРЕкрытое \_ Обновление**</dt> <dt>2150694948 (0x80310024)</dt> </dl>                   | Блок управления для зашифрованного тома обновлен другим потоком.<br/>                                     |
| <dl> <dt>**ФВЕ \_ \_Предохранитель ключа \_ E \_ не \_ поддерживается**</dt> <dt>2150695017 (0x80310069)</dt> </dl>       | Предохранитель ключа не поддерживается версией шифрование диска BitLocker в данный момент на томе.<br/>      |
| <dl> <dt>**ФВЕ \_ \_ \_ \_ Парольная фраза тома E OS \_ не \_ разрешена**</dt> <dt>2150695021 (0x8031006D)</dt> </dl> | Парольную фразу нельзя добавить на том операционной системы. <br/>                                               |
| <dl> <dt>**ФВЕ \_ Средство \_ защиты E \_ существует**</dt> <dt>2150694960 (0x80310030)</dt> </dl>                    | Указанный предохранитель ключа уже существует на этом томе.<br/>                                                     |



 

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|---------------------------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows 7 Корпоративная, только Windows 7 Максимальная классические \[ приложения\]<br/>                               |
| Минимальная версия сервера<br/> | Windows \[Только для настольных приложений сервера 2008 R2\]<br/>                                                 |
| Пространство имен<br/>                | Корневой \\ CIMV2 \\ безопасности \\ микрософтволуминкриптион<br/>                                             |
| MOF<br/>                      | <dl> <dt>Win32 \_ енкриптаблеволуме. mof</dt> </dl> |



## <a name="see-also"></a>См. также:

<dl> <dt>

[**\_Енкриптаблеволуме Win32**](win32-encryptablevolume.md)
</dt> </dl>

 

 




