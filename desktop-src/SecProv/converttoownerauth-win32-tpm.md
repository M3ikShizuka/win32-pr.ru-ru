---
description: Преобразует введенную пользователем парольную фразу в 20-байтную авторизацию владельца, которая может использоваться для взаимодействия с доверенным платформенным модулем. Для таких методов, как Такеовнершип и Ресетауслоккаут, требуется значение авторизации, полученное владельцем.
ms.assetid: 69eed934-1668-495a-b5b7-cd4a87df1ab3
title: Метод Конверттувнераус класса Win32_Tpm
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- Win32_Tpm.ConvertToOwnerAuth
api_type:
- COM
api_location:
- Win32_tpm.dll
ms.openlocfilehash: 88d1b0f2056d6a10ac623421a7fe261acb832657d08c030ab3247f0acf1a0629
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119004652"
---
# <a name="converttoownerauth-method-of-the-win32_tpm-class"></a>Метод Конверттувнераус \_ класса TPM Win32

Метод **конверттувнераус** класса [**\_ TPM Win32**](win32-tpm.md) преобразует предоставленный пользователем ввод парольной фразы в 20-байтную авторизацию владельца, которая может использоваться для взаимодействия с доверенным платформенным модулем. Для таких методов, как [**такеовнершип**](takeownership-win32-tpm.md) и [**ресетауслоккаут**](resetauthlockout-win32-tpm.md) , требуется значение авторизации, полученное владельцем.

Процесс преобразования соответствует спецификациям из [Организация TCG](https://www.trustedcomputinggroup.org/).

## <a name="syntax"></a>Синтаксис


```mof
uint32 ConvertToOwnerAuth(
  [in]  string OwnerPassPhrase,
  [out] string OwnerAuth
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*Овнерпассфрасе* \[ окне\]
</dt> <dd>

Тип: **строка**

Строка для преобразования в значение авторизации владельца. Строка может содержать любое количество буквенно-цифровых символов.

</dd> <dt>

*Овнераус* \[ заполняет\]
</dt> <dd>

Тип: **строка**

Строка, производная от параметра *овнерпассфрасе* . Это значение является 20-байтовым двоичным значением, закодированным в 28-байтовую строку в кодировке **Base64, завершающуюся нулем.**

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Тип: **UInt32**

Могут возвращаться все ошибки доверенного платформенного модуля, а также ошибки, относящиеся к базовым службам TPM.

В следующих таблицах перечислены некоторые распространенные коды возврата.



| Возвращаемый код и значение                                                                                                                                 | Описание                           |
|---------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|
| <dl> <dt>**С \_ ОК**</dt> <dt>0 (0x0)</dt> </dl> | Метод успешно выполнен.<br/> |



 

## <a name="remarks"></a>Remarks

Строка в кодировке Юникод UTF-16LE преобразуется в значение авторизации владельца доверенного платформенного модуля размером 20 байт, принимая хэш SHA-1 двоичного представления строки. **Нулевое** завершение строки Юникода не включено в хэш. В хэш SHA-1 не используется соль.

Например, чтобы преобразовать парольную фразу владельца TPM "1Sample" в значение авторизации владельца доверенного платформенного модуля, хэш SHA-1 берется из следующего байтового потока:

`0x31 0x00 0x53 0x00 0x61 0x00 0x6D 0x00 0x70 0x00 0x6C 0x00 0x65 0x00`

Чтобы преобразовать парольную фразу нулевой длины в значение авторизации владельца, хэш SHA-1 берется из потока байтов **null** .

файлы MOF-файл (MOF) содержат определения для классов инструментарий управления Windows (WMI) (WMI). MOF-файлы не устанавливаются в составе Windows SDK. Они устанавливаются на сервере при добавлении связанной роли с помощью диспетчер сервера. Дополнительные сведения о файлах MOF см. в разделе [MOF-файл (MOF)](../wmisdk/managed-object-format--mof-.md).

## <a name="requirements"></a>Requirements (Требования)



| Требование | Значение |
|-------------------------------------|-------------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows \[Только классические приложения Vista\]<br/>                                            |
| Минимальная версия сервера<br/> | Windows Только для \[ настольных приложений сервера 2008\]<br/>                                      |
| Пространство имен<br/>                | Корневой \\ CIMV2 \\ безопасности \\ микрософттпм<br/>                                            |
| MOF<br/>                      | <dl> <dt>Win32 \_ TPM. mof</dt> </dl> |
| DLL<br/>                      | <dl> <dt>\_tpm.dllWin32</dt> </dl> |



## <a name="see-also"></a>См. также

<dl> <dt>

[**\_TPM Win32**](win32-tpm.md)
</dt> <dt>

[**TakeOwnership**](takeownership-win32-tpm.md)
</dt> </dl>

 

 
