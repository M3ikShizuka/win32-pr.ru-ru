---
description: Чтобы эффективно использовать ресурсы операционной системы, приложение должно закрыть файлы, если они больше не нужны с помощью функции CloseHandle. Если файл открыт после завершения работы приложения, система закрывает его автоматически.
ms.assetid: 6cf9694a-00c4-4750-8822-c25a1a102fd4
title: Закрытие и удаление файлов
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b3da31fe7ff38a1bbd1555e2685ceab9ae432574
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105664437"
---
# <a name="closing-and-deleting-files"></a>Закрытие и удаление файлов

Чтобы эффективно использовать ресурсы операционной системы, приложение должно закрыть файлы, если они больше не нужны с помощью функции [**CloseHandle**](/windows/desktop/api/handleapi/nf-handleapi-closehandle) . Если файл открыт после завершения работы приложения, система закрывает его автоматически.

Функцию [**DeleteFile**](/windows/desktop/api/FileAPI/nf-fileapi-deletefilea) можно использовать для удаления файла при закрытии. Файл нельзя удалить, пока все его дескрипторы не будут закрыты. Если файл не может быть удален, его имя нельзя использовать повторно. Для немедленного повторного использования имени файла переименуйте существующий файл.

Если вы удаляете открытый файл или каталог на удаленном компьютере, который уже открыт на удаленном компьютере без набора разрешений на чтение, не вызывайте [**CreateFile**](/windows/desktop/api/FileAPI/nf-fileapi-createfilea) или [**OpenFile**](/windows/desktop/api/WinBase/nf-winbase-openfile) , чтобы сначала открыть файл или каталог для удаления. Это приведет к нарушению общего доступа.

 

 
