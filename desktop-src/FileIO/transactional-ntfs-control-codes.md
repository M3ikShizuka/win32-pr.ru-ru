---
description: Управляющие коды транзакционной NTFS (TxF).
ms.assetid: b66d322a-a971-4219-bb5b-dc69b10b2581
title: Управляющие коды TxF
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8ef99a111a32aa5d2a7fd5997a855ce08e595ad6
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105662381"
---
# <a name="txf-control-codes"></a>Управляющие коды TxF

\[Корпорация Майкрософт настоятельно рекомендует разработчикам использовать альтернативные средства для достижения потребностей вашего приложения. Многие сценарии, в которых была разработана система TxF, можно получить с помощью более простых и более быстро доступных методов. Кроме того, TxF может быть недоступен в будущих версиях Microsoft Windows. Дополнительные сведения и альтернативы TxF см. [в разделе альтернативы использованию транзакционной NTFS](deprecation-of-txf.md).\]

Транзакционная NTFS (TxF) предоставляет следующие управляющие коды.

## <a name="in-this-section"></a>Содержание раздела



| Контрольный код                                                                                                 | Описание                                                                                                                                                                                                                                                                                                                                                                                                                             |
|--------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**ФСКТЛ \_ тксфс \_ Create ( \_ мини)**](/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_create_miniversion)<br/>                         | Создает новую [мини](glossary.md) -версию для указанного файла. <br/> Миниверсионс позволяют обращаться к моментальному снимку файла во время транзакции. Миниверсионс отбрасываются при фиксации или откате транзакции.<br/>                                                                                                                                                                      |
| [**ФСКТЛ \_ тксфс \_ получить \_ \_ сведения о метаданных**](/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_get_metadata_info)<br/>                          | Извлекает метаданные транзакционной NTFS (TxF) для файла и **идентификатор GUID** транзакции, которая заблокировала указанный файл (если файл заблокирован). <br/>                                                                                                                                                                                                                                                                         |
| [**ФСКТЛ \_ тксфс \_ получить \_ версию транзакционной транзакции \_**](/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_get_transacted_version)<br/>                | Возвращает структуру [**тксфс \_ получения \_ транзакционной \_ версии**](/windows/desktop/api/WinIoCtl/ns-winioctl-txfs_get_transacted_version) . Структура определяет последнюю зафиксированную версию указанного файла, номер версии маркера. <br/>                                                                                                                                                                                                            |
| [**ФСКТЛ \_ тксфс \_ список \_ \_ заблокированных \_ файлов транзакций**](/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_list_transaction_locked_files)<br/> | Возвращает список всех файлов, заблокированных указанной транзакцией в данный момент. Если возвращаемое значение содержит **\_ больше \_ данных**, возвращается длина буфера, необходимая для хранения полного списка файлов во время этого вызова.<br/>                                                                                                                                                                                           |
| [**ФСКТЛ \_ тксфс \_ список \_ транзакций**](/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_list_transactions)<br/>                           | Возвращает список всех транзакций, задействованных в указанном диспетчере ресурсов.<br/>                                                                                                                                                                                                                                                                                                                                 |
| [**ФСКТЛ \_ тксфс \_ изменить \_ RM**](/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_modify_rm)<br/>                                           | Задает режим ведения журнала и сведения о параметрах журнала для дополнительного диспетчера ресурсов (RM).<br/>                                                                                                                                                                                                                                                                                                                                       |
| [**ФСКТЛ \_ тксфс \_ запрос \_ \_ сведений об RM**](/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_query_rm_information)<br/>                    | Извлекает сведения для диспетчера ресурсов (RM).<br/>                                                                                                                                                                                                                                                                                                                                                                           |
| [**ФСКТЛ \_ тксфс \_ Чтение \_ сведений о резервной копии \_**](/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_read_backup_information)<br/>              | Возвращает сведения о транзакционной NTFS (TxF) для указанного файла.<br/>                                                                                                                                                                                                                                                                                                                                                |
| [**\_ \_ сведения о фсктл тксфс точки сохранения \_**](/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_savepoint_information)<br/>                   | Контрольный код [**фсктл \_ тксфс \_ точка сохранения \_ данных**](/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_savepoint_information) управляет установкой, очисткой и откатом к указанной точке сохранения.<br/> Чтобы выполнить эту операцию, вызовите функцию [**DeviceIoControl**](/windows/desktop/api/ioapiset/nf-ioapiset-deviceiocontrol) со следующими параметрами.<br/>                                                                                                                 |
| [**\_ \_ активная транзакция фсктл \_ тксфс**](/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_transaction_active)<br/>                         | Возвращает логическое значение, указывающее, были ли активные транзакции на связанном томе при создании моментального снимка. Этот вызов допустим только для томов моментальных снимков только для чтения.<br/>                                                                                                                                                                                                                                   |
| [**ФСКТЛ \_ тксфс \_ запись \_ сведений о резервной копии \_**](/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_write_backup_information)<br/>            | Записывает сведения о транзакционной NTFS (TxF) в указанный файл. Элемент **buffer** в структуре [**\_ \_ \_ сведений о резервном копировании тксфс**](/windows/desktop/api/WinIoCtl/ns-winioctl-txfs_write_backup_information) должен быть членом **buffer** из [**тксфс \_ Read \_ резервной копии \_ сведения о структуре \_ out**](/windows/desktop/api/WinIoCtl/ns-winioctl-txfs_read_backup_information_out) , возвращаемой [**фсктл \_ тксфс \_ Чтение \_ \_ данных резервной копии**](/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_read_backup_information).<br/> |



 

 

