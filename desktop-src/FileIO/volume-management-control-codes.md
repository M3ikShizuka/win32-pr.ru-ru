---
description: Управляющие коды, используемые в управлении томами.
ms.assetid: 87f39e1c-3ebf-4c6f-a842-699ec3c45e76
title: Управляющие коды для управления томами
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5cccb73559826b8b0b3001588458a4cf34863f7d
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127057763"
---
# <a name="volume-management-control-codes"></a>Управляющие коды для управления томами

Управляющие коды, используемые в управлении томами.

## <a name="in-this-section"></a>В этом разделе



| Раздел                                                                                                                                      | Описание                                                                                                                                                                                                                                                               |
|--------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**ФСКТЛ \_ создать \_ \_ журнал USN**](/windows/win32/api/winioctl/ni-winioctl-fsctl_create_usn_journal)<br/>                                                                 | Создает поток журнала изменений с порядковым номером обновления (USN) на целевом томе или изменяет существующий поток журнала изменений.<br/>                                                                                                                               |
| [**\_ \_ \_ \_ \_ \_ характеристики файловой системы \_ нижнего уровня фсктл CSV-запросов**](/windows/win32/api/winioctl/ni-winioctl-fsctl_csv_query_down_level_file_system_characteristics)<br/> | Извлекает сведения о файловой системе, для которой в качестве сервера CSVFS используется прокси-сервер.<br/>                                                                                                                                                                                          |
| [**ФСКТЛ \_ удалить \_ \_ журнал USN**](/windows/win32/api/winioctl/ni-winioctl-fsctl_delete_usn_journal)<br/>                                                                 | Удаляет журнал изменений номера последовательного обновления (USN) в томе или ожидает уведомления об удалении журнала изменений.<br/>                                                                                                                                     |
| [**\_том отключения \_ фсктл**](/windows/win32/api/winioctl/ni-winioctl-fsctl_dismount_volume)<br/>                                                                        | Отключает том независимо от того, используется ли в данный момент том. Дополнительные сведения см. в разделе "Замечания".<br/>                                                                                                                                 |
| [**\_Перечисление \_ данных USN фсктл \_**](/windows/win32/api/winioctl/ni-winioctl-fsctl_enum_usn_data)<br/>                                                                           | Перечисляет данные номера последовательности обновления (USN) между двумя заданными границами для получения записей основной таблицы файлов (MFT).<br/>                                                                                                                                   |
| [**\_расширение \_ тома фсктл**](/windows/win32/api/winioctl/ni-winioctl-fsctl_extend_volume)<br/>                                                                            | Увеличивает размер подключенного тома.<br/>                                                                                                                                                                                                                        |
| [**ФСКТЛ \_ получить \_ \_ \_ сведения о загрузочной области**](/windows/win32/api/winioctl/ni-winioctl-fsctl_get_boot_area_info)<br/>                                                                | Извлекает расположения загрузочных секторов для тома. <br/> Чтобы выполнить эту операцию, вызовите функцию [**DeviceIoControl**](/windows/desktop/api/ioapiset/nf-ioapiset-deviceiocontrol) со следующими параметрами.<br/>                                                                      |
| [**ФСКТЛ \_ получить \_ \_ сведения о целостности**](/windows/win32/api/winioctl/ni-winioctl-fsctl_get_integrity_information)<br/>                                                   | Получает состояние целостности файла или каталога на томе ReFS.<br/>                                                                                                                                                                                        |
| [**ФСКТЛ \_ Получение \_ \_ данных тома \_ NTFS**](/windows/win32/api/winioctl/ni-winioctl-fsctl_get_ntfs_volume_data)<br/>                                                            | Извлекает сведения об указанном томе файловой системы NTFS.<br/>                                                                                                                                                                                             |
| [**\_база получения \_ \_ указателя \_ для получения фсктл**](/windows/win32/api/winioctl/ni-winioctl-fsctl_get_retrieval_pointer_base)<br/>                                                | Возвращает смещение сектора к первому номеру логического кластера (LCN) файловой системы относительно начала тома.<br/> Чтобы выполнить эту операцию, вызовите функцию [**DeviceIoControl**](/windows/desktop/api/ioapiset/nf-ioapiset-deviceiocontrol) со следующими параметрами.<br/> |
| [**ФСКТЛ \_ Получение \_ \_ указателей**](/windows/win32/api/winioctl/ni-winioctl-fsctl_get_retrieval_pointers)<br/>                                                         | При наличии маркера файла извлекает структуру данных, описывающую размещение и расположение на диске определенного файла, или, при наличии маркера тома, расположение поврежденных кластеров на томе.<br/>                                                                   |
| [**ФСКТЛ \_ получить \_ \_ битовую карту тома**](/windows/win32/api/winioctl/ni-winioctl-fsctl_get_volume_bitmap)<br/>                                                                   | Извлекает точечный рисунок для занятых и доступных кластеров на томе.<br/>                                                                                                                                                                                             |
| [**ФСКТЛ \_ — \_ CSV- \_ файл**](/windows/win32/api/winioctl/ni-winioctl-fsctl_is_csv_file)<br/>                                                                               | Определяет, хранится ли файл на CSVFS-томе, или получает сведения о пространстве имен.<br/>                                                                                                                                                                     |
| [**ФСКТЛ \_ — \_ файл \_ на \_ \_ томе CSV**](/windows/win32/api/winioctl/ni-winioctl-fsctl_is_file_on_csv_volume)<br/>                                                         | Определяет, хранится ли файл на CSVFS-томе, или получает сведения о пространстве имен.<br/>                                                                                                                                                                     |
| [**ФСКТЛ \_ — \_ том \_ подключен**](/windows/win32/api/winioctl/ni-winioctl-fsctl_is_volume_mounted)<br/>                                                                   | Определяет, подключен ли указанный том, или если указанный файл или каталог находится на подключенном томе.<br/>                                                                                                                                              |
| [**ФСКТЛ \_ является \_ \_ владельцем тома \_ биксвфс**](/windows/win32/api/winioctl/ni-winioctl-fsctl_is_volume_owned_bycsvfs)<br/>                                                      | Определяет, заблокирован ли том в CSVFS.<br/>                                                                                                                                                                                                                |
| [**ФСКТЛ \_ заблокировать \_ том**](/windows/win32/api/winioctl/ni-winioctl-fsctl_lock_volume)<br/>                                                                                | Блокирует том, если он не используется.<br/>                                                                                                                                                                                                                            |
| [**\_поток подстановки фсктл \_ \_ из \_ кластера**](/windows/win32/api/winioctl/ni-winioctl-fsctl_lookup_stream_from_cluster)<br/>                                                | При наличии маркера тома NTFS или файла на томе NTFS возвращает цепочку структур данных, которая описывает потоки, занимающие указанные кластеры.<br/>                                                                                                      |
| [**\_маркер фсктл Mark \_**](/windows/win32/api/winioctl/ni-winioctl-fsctl_mark_handle)<br/>                                                                                | Помечает указанный файл или каталог и его запись журнала изменений сведениями об изменениях в этом файле или каталоге.<br/>                                                                                                                                    |
| [**ФСКТЛ \_ Переместить \_ файл**](/windows/win32/api/winioctl/ni-winioctl-fsctl_move_file)<br/>                                                                                    | Перемещение одного или нескольких виртуальных кластеров файла из одного логического кластера в другой в пределах одного тома. Эта операция используется во время [дефрагментации](defragmenting-files.md).<br/>                                                                         |
| [**\_ \_ \_ Распознавание файловых систем запросов \_ фсктл**](/windows/win32/api/winioctl/ni-winioctl-fsctl_query_file_system_recognition)<br/>                                          | Запрашивает сведения о распознавании файловой системы на томе.<br/> Чтобы выполнить эту операцию, вызовите функцию [**DeviceIoControl**](/windows/desktop/api/ioapiset/nf-ioapiset-deviceiocontrol) со следующими параметрами.<br/>                                                                |
| [**\_ \_ сведения о области запроса фсктл \_**](/windows/win32/api/winioctl/ni-winioctl-fsctl_query_region_info)<br/>                                                                   | Извлекает регионы уровня хранилища, определенные для тома, поддерживающего распределение по уровням данных.<br/> Чтобы выполнить эту операцию, вызовите функцию [**DeviceIoControl**](/windows/desktop/api/ioapiset/nf-ioapiset-deviceiocontrol) со следующими параметрами.<br/>                                         |
| [**\_ \_ классы хранилища запросов \_ фсктл**](/windows/win32/api/winioctl/ni-winioctl-fsctl_query_storage_classes)<br/>                                                           | Извлекает уровни хранилища, определенные для тома, поддерживающего распределение по уровням данных.<br/> Чтобы выполнить эту операцию, вызовите функцию [**DeviceIoControl**](/windows/desktop/api/ioapiset/nf-ioapiset-deviceiocontrol) со следующими параметрами.<br/>                                                |
| [**ФСКТЛ \_ запрос \_ \_ журнала USN**](/windows/win32/api/winioctl/ni-winioctl-fsctl_query_usn_journal)<br/>                                                                   | Запрашивает сведения о текущем журнале изменений (USN), его записях и емкости.<br/>                                                                                                                                             |
| [**ФСКТЛ \_ Чтение \_ \_ данных USN \_ файла**](/windows/win32/api/winioctl/ni-winioctl-fsctl_read_file_usn_data)<br/>                                                                | Получает сведения о журнале изменений номеров последовательных обновлений (USN) для указанного файла или каталога.<br/>                                                                                                                                                     |
| [**ФСКТЛ \_ Чтение \_ из \_ плекса**](/windows/win32/api/winioctl/ni-winioctl-fsctl_read_from_plex)<br/>                                                                         | Считывает из указанного плекса.<br/>                                                                                                                                                                                                                                 |
| [**ФСКТЛ \_ Чтение \_ \_ журнала USN**](/windows/win32/api/winioctl/ni-winioctl-fsctl_read_usn_journal)<br/>                                                                     | Извлекает набор записей журнала изменений номеров последовательных обновлений (USN) между двумя указанными значениями USN.<br/>                                                                                                                                                     |
| [**ФСКТЛ \_ восстановить \_ копии**](/windows/win32/api/winioctl/ni-winioctl-fsctl_repair_copies)<br/>                                                                            | Устраните повреждение данных, выбрав соответствующую копию для использования.<br/>                                                                                                                                                                                                    |
| [**ФСКТЛ \_ задать \_ \_ сведения о целостности**](/windows/win32/api/winioctl/ni-winioctl-fsctl_set_integrity_information)<br/>                                                   | Получает состояние целостности файла или каталога на томе ReFS.<br/>                                                                                                                                                                                        |
| [**\_том СЖАТИЯ \_ фсктл**](/windows/win32/api/winioctl/ni-winioctl-fsctl_shrink_volume)<br/>                                                                            | Сообщает, что том должен быть подготовлен к выполнению операции сжатия, операция сжатия будет зафиксирована, или операция сжатия будет прервана.<br/>                                                                                               |
| [**ФСКТЛ \_ разблокировать \_ том**](/windows/win32/api/winioctl/ni-winioctl-fsctl_unlock_volume)<br/>                                                                            | Разблокирует том.<br/>                                                                                                                                                                                                                                              |
| [**ФСКТЛ \_ USN \_ , \_ измененные \_ диапазоны**](/windows/win32/api/winioctl/ni-winioctl-fsctl_usn_track_modified_ranges)<br/>                                                  | Включает функцию отслеживания диапазона для потока журнала изменений номера последовательного обновления (USN) на целевом томе или изменяет уже включенные параметры отслеживания диапазонов.<br/>                                                                                               |
| [**ФСКТЛ \_ запись \_ \_ закрытия USN \_**](/windows/win32/api/winioctl/ni-winioctl-fsctl_write_usn_close_record)<br/>                                                        | Создает запись в потоке журнала изменений с порядковым номером обновления (USN) для входного файла.<br/>                                                                                                                                                               |
| [**\_ \_ Получение \_ атрибутов GPT для тома ioctl \_**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_volume_get_gpt_attributes)<br/>                                                  | Извлекает атрибуты для тома.<br/> Чтобы выполнить эту операцию, вызовите функцию [**DeviceIoControl**](/windows/desktop/api/ioapiset/nf-ioapiset-deviceiocontrol) со следующими параметрами.<br/>                                                                                      |
| [**на подзапросе IOCTL \_ тома \_ получится объем \_ \_ дисковых \_ областей**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_volume_get_volume_disk_extents)<br/>                                       | Извлекает физическое расположение указанного тома на одном или нескольких дисках.<br/>                                                                                                                                                                                    |
| [**\_том ioctl \_ \_ кластеризован**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_volume_is_clustered)<br/>                                                               | Определяет, является ли указанный том кластеризованным.<br/>                                                                                                                                                                                                          |
| [**\_том ioctl \_ имеет \_ Формат CSV**](ioctl-volume-is-csv.md)<br/>                                                                           | Определяет, является ли том томом CSV.<br/>                                                                                                                                                                                                                   |
| [**\_Отключение ioctl тома \_**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_volume_offline)<br/>                                                                          | Переводит том в режим «вне сети».<br/>                                                                                                                                                                                                                                        |
| [**Подключение IOCTL к \_ \_ сети**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_volume_online)<br/>                                                                            | Переводит том в режим «в сети».<br/>                                                                                                                                                                                                                                        |



 

В [журналах изменений](change-journals.md)используются следующие управляющие коды.

-   [**ФСКТЛ \_ создать \_ \_ журнал USN**](/windows/win32/api/winioctl/ni-winioctl-fsctl_create_usn_journal)
-   [**ФСКТЛ \_ удалить \_ \_ журнал USN**](/windows/win32/api/winioctl/ni-winioctl-fsctl_delete_usn_journal)
-   [**\_Перечисление \_ данных USN фсктл \_**](/windows/win32/api/winioctl/ni-winioctl-fsctl_enum_usn_data)
-   [**\_маркер фсктл Mark \_**](/windows/win32/api/winioctl/ni-winioctl-fsctl_mark_handle)
-   [**ФСКТЛ \_ запрос \_ \_ журнала USN**](/windows/win32/api/winioctl/ni-winioctl-fsctl_query_usn_journal)
-   [**ФСКТЛ \_ Чтение \_ \_ данных USN \_ файла**](/windows/win32/api/winioctl/ni-winioctl-fsctl_read_file_usn_data)
-   [**ФСКТЛ \_ Чтение \_ \_ журнала USN**](/windows/win32/api/winioctl/ni-winioctl-fsctl_read_usn_journal)
-   [**ФСКТЛ \_ запись \_ \_ закрытия USN \_**](/windows/win32/api/winioctl/ni-winioctl-fsctl_write_usn_close_record)

Ниже приведены коды управления [дефрагментацией](defragmenting-files.md) .

-   [**\_база получения \_ \_ указателя \_ для получения фсктл**](/windows/win32/api/winioctl/ni-winioctl-fsctl_get_retrieval_pointer_base)
-   [**ФСКТЛ \_ Получение \_ \_ указателей**](/windows/win32/api/winioctl/ni-winioctl-fsctl_get_retrieval_pointers)
-   [**ФСКТЛ \_ получить \_ \_ битовую карту тома**](/windows/win32/api/winioctl/ni-winioctl-fsctl_get_volume_bitmap)
-   [**\_поток подстановки фсктл \_ \_ из \_ кластера**](/windows/win32/api/winioctl/ni-winioctl-fsctl_lookup_stream_from_cluster)
-   [**ФСКТЛ \_ Переместить \_ файл**](/windows/win32/api/winioctl/ni-winioctl-fsctl_move_file)
-   [**\_ \_ сведения о области запроса фсктл \_**](/windows/win32/api/winioctl/ni-winioctl-fsctl_query_region_info)
-   [**ФСКТЛ \_ запрос \_ \_ журнала USN**](/windows/win32/api/winioctl/ni-winioctl-fsctl_query_usn_journal)

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Управляющие коды управления каталогами](directory-management-control-codes.md)
</dt> <dt>

[Управляющие коды для управления файлами](file-management-control-codes.md)
</dt> </dl>

 

