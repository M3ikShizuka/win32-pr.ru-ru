---
description: Файловая система NTFS использует сжатие Lempel-Ziv, которое представляет собой алгоритм сжатия без потерь.
ms.assetid: 35a9fb47-5a73-479c-8fe0-5a2b07705536
title: Сжатие и распаковка файлов
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 73d1aa9d8d3540eff85413c03358fd1ba7e21300
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105684376"
---
# <a name="file-compression-and-decompression"></a>Сжатие и распаковка файлов

Тома файловой системы NTFS поддерживают сжатие файлов отдельно для отдельных файлов. Алгоритм сжатия файлов, используемый файловой системой NTFS, Lempel-Ziv сжатия. Это алгоритм сжатия *без потерь* , который означает, что при сжатии и распаковке файла данные не теряются, в отличие от таких алгоритмов *СЖАТИЯ,* как JPEG, при каждом потере данных при каждом сжатии и распаковке данных.

Сжатие данных сокращает размер файла за счет минимизации избыточных данных. В текстовом файле избыточные данные могут часто возникать в таких символах, как символ пробела или обычные гласные, например буквы e и a; Она также может часто возникать в символьных строках. Сжатие данных создает сжатую версию файла путем минимизации избыточных данных.

Каждый тип алгоритма сжатия данных уменьшает избыточные данные уникальным образом. Например, *алгоритм шифрования Хаффмана* назначает код символам в файле в зависимости от того, как часто встречаются эти символы. Другой алгоритм сжатия, называемый *кодированием длины выполнения*, формирует значение из двух частей для повторяющихся символов: первая часть указывает количество повторов символа, а вторая часть определяет символ. Другой алгоритм сжатия, известный как *Алгоритм Лемпеля-Зив*, преобразует строки переменной длины в коды фиксированной длины, которые потребляют меньше пространства, чем исходные строки.

## <a name="the-ntfs-file-system-file-compression"></a>Сжатие файлов файловой системы NTFS

В файловой системе NTFS сжатие выполняется прозрачно. Это означает, что его можно использовать без внесения изменений в существующие приложения. Сжатые байты файла недоступны для приложений; они видят только несжатые данные. Таким образом, приложения, которые открывают сжатый файл, могут обрабатываться так, как будто они не были сжаты. Однако эти файлы не могут быть скопированы в другую файловую систему.

При сжатии файла, размер которого превышает 30 гигабайт, сжатие может не выполняться.

В следующих разделах определяется сжатие файлов файловой системы NTFS.

-   [Атрибут Compression](compression-attribute.md)
-   [Состояние сжатия](compression-state.md)
-   [Получение размера сжатого файла](obtaining-the-size-of-a-compressed-file.md)

## <a name="file-compression-and-decompression-libraries"></a>Библиотеки сжатия и распаковки файлов

Библиотеки сжатия и распаковки файлов принимают существующий файл или файлы и создают файл или файлы, которые являются сжатыми версиями исходных файлов. Сжатие также осуществляется без потерь, но сжатие не прозрачно для приложений. Приложение может обрабатываться только для таких файлов с помощью библиотеки сжатия файлов. Кроме того, единственные операции, которые можно выполнять с такими файлами, — это создание сжатого файла из оригинала и восстановление исходных данных из распакованной версии. Редактирование обычно не поддерживается, и поиск ограничен, если он поддерживается.

Как правило, приложение вызывает функции в Lz32.dll для распаковки данных, сжатых с помощью Compress.exe. Функции также могут обрабатывать файлы без попытки их распаковки.

Функции в Lz32.dll можно использовать для распаковки одного или нескольких файлов. Их также можно использовать для распаковки сжатых файлов в части за раз.

В следующих разделах определяется распаковка файлов, предоставляемых функциями в Lz32.dll:

-   [Распаковка одного файла](decompressing-a-single-file.md)
-   [Распаковка нескольких файлов](decompressing-multiple-files.md)
-   [Чтение из сжатых файлов](reading-from-compressed-files.md)

## <a name="cabinets"></a>Ящик

Ящики создаются библиотекой сжатия, которая поддерживает такие функции, как объединение дисков и сжатие нескольких файлов. Дополнительные сведения см. в пакете CAB-программного пакета SDK: [https://msdn.microsoft.com/library/dncabsdk/html/cabdl.asp](/previous-versions/ms974336(v=msdn.10)) .

## <a name="in-this-section"></a>В этом разделе



| Раздел                                                                                             | Описание                                                                                                                              |
|---------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------|
| [Атрибут Compression](compression-attribute.md)<br/>                                     | На томе файловой системы NTFS каждый файл и каталог имеет *атрибут сжатия*.<br/>                                         |
| [Состояние сжатия](compression-state.md)<br/>                                             | Каждый файл и каталог на томе, который поддерживает сжатие для отдельных файлов и каталогов, имеет *состояние сжатия*.<br/> |
| [Получение размера сжатого файла](obtaining-the-size-of-a-compressed-file.md)<br/> | Чтобы получить сжатый размер файла, используйте функцию Жеткомпресседфилесизе.<br/>                                               |
| [Распаковка одного файла](decompressing-a-single-file.md)<br/>                         | Приложение может распаковать один сжатый файл с помощью функций Лзопенфиле, Лзкопи и Лзклосе.<br/>                |
| [Распаковка нескольких файлов](decompressing-multiple-files.md)<br/>                       | Приложение может распаковать несколько файлов с помощью функций Лзопенфиле, Лзкопи и Лзклосе.<br/>                          |
| [Чтение из сжатых файлов](reading-from-compressed-files.md)<br/>                     | Приложение может распаковать сжатый файл в части за раз с помощью функций Лзсик и Лзреад.<br/>                 |



 

 

