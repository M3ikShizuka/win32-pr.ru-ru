---
description: Windows сохраняет данные в операциях чтения и записи файлов в системных буферах данных для оптимизации производительности диска.
ms.assetid: e8c12a1d-f6a4-4850-814d-6f0a712f8f9a
title: Сброс System-Buffered данных ввода-вывода на диск
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 44740158ce1a5a2c3449a0fc5b90bc04bb0da525709cf7ee05c8768d10c39460
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119068704"
---
# <a name="flushing-system-buffered-io-data-to-disk"></a>Сброс System-Buffered данных ввода-вывода на диск

Windows сохраняет данные в операциях чтения и записи файлов в системных буферах данных для оптимизации производительности диска. Когда приложение записывает в файл, система обычно помещает данные в буфер и регулярно записывает их на диск. Приложение может заставить операционную систему записывать содержимое этих буферов данных на диск с помощью функции [**FlushFileBuffers**](/windows/desktop/api/FileAPI/nf-fileapi-flushfilebuffers) . Кроме того, приложение может указать, что операции записи обходят буфер данных и записываются непосредственно на диск, устанавливая **флаг файла без флага \_ \_ \_ буферизации** при создании или открытии файла с помощью функции [**CreateFile**](/windows/desktop/api/FileAPI/nf-fileapi-createfilea) .

Если при закрытии файла в внутреннем буфере имеются данные, операционная система не будет автоматически записывать содержимое буфера на диск перед закрытием файла. Если приложение не заставляет операционную систему записывать буфер на диск перед закрытием файла, алгоритм кэширования определяет время записи буфера.

> [!Note]  
> Доступ к буферу данных во время использования операции чтения или записи может привести к повреждению буфера. Приложения не должны считывать, записывать, перераспределять или освобождать буфер данных, который используется операцией чтения или записи до завершения операции.

 

 

 



