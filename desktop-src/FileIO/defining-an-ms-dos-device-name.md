---
description: Имя устройства MS-DOS — это соединение, которое указывает на путь к устройству MS-DOS. Эти соединения составляют пространство имен устройств MS-DOS.
ms.assetid: 7d802e9f-dc09-4e3d-b064-e9b57af396e2
title: Определение имени устройства MS-DOS
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7ed89e1d9938e320ecce3ff0b35b8ae0792fe219
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105683185"
---
# <a name="defining-an-ms-dos-device-name"></a>Определение имени устройства MS-DOS

Имя устройства MS-DOS — это соединение, которое указывает на путь к устройству MS-DOS. Эти соединения составляют пространство имен устройств MS-DOS. Вызовите функции [**дефинедосдевице**](/windows/desktop/api/FileAPI/nf-fileapi-definedosdevicew) и [**сетволумемаунтпоинт**](/windows/desktop/api/WinBase/nf-winbase-setvolumemountpointa) , чтобы создать и изменить эти соединения. [**Делетеволумемаунтпоинт**](/windows/desktop/api/FileAPI/nf-fileapi-deletevolumemountpointw) удаляет соединение, созданное **Сетволумемаунтпоинт**, а **дефинедосдевице** удаляет точки соединения, которые он создает.

После определения имени устройства MS-DOS оно остается видимым для всех процессов.

-   Все устройства MS-DOS идентифицируются Windows по ИДЕНТИФИКАТОРу проверки подлинности. Идентификатор проверки подлинности — это LUID (локально уникальный идентификатор), связанный с каждым сеансом входа при создании.
-   Видимость имени устройства MS-DOS классифицируется как глобальная или локальная, и она определяется в соответствии с его включением в глобальные пространства имен MS-DOS и локальных устройств MS-DOS. Доступ к содержимому устройств MS-DOS в глобальном пространстве имен может осуществляться всеми пользователями, а содержимое устройств MS-DOS в локальном пространстве имен доступно только пользователю, маркер доступа которого содержит Аусентикатионид, связанный с локальным пространством имен MS-DOS.

Несколько пространств имен локальных устройств MS-DOS и только одно глобальное пространство имен устройств MS-DOS могут существовать одновременно и на одном компьютере.

Обратите внимание, что только процессы, выполняемые в контексте LocalSystem, могут вызывать [**дефинедосдевице**](/windows/desktop/api/FileAPI/nf-fileapi-definedosdevicew) для создания устройства MS-DOS в глобальном пространстве имен MS-DOS. Кроме того, при удалении последней ссылки на этот Аусентикатионид будет удалено пространство имен локального устройства MS-DOS, соответствующее определенному Аусентикатионид.

Когда код запрашивает существующее имя устройства MS-DOS, вызывая [**куеридосдевице**](/windows/desktop/api/FileAPI/nf-fileapi-querydosdevicew), он сначала ищет локальное пространство имен MS-DOS. Если он не найден, функция будет искать глобальное пространство имен устройств MS-DOS. Когда код запрашивает все существующие имена устройств MS-DOS с помощью этой функции, список возвращаемых имен зависит от того, выполняется ли он в контексте LocalSystem. Если да, то будут возвращены только имена устройств MS-DOS, входящие в глобальное пространство имен устройств MS-DOS. В противном случае будет возвращено объединение имен устройств в пространствах имен глобальных и локальных устройств MS-DOS. Если имя устройства существует в обоих пространствах имен, **куеридосдевице** будет возвращать запись в локальном пространстве имен MS-DOS. Это также относится к списку всех имен устройств MS-DOS, возвращенных [**жетлогикалдривес**](/windows/desktop/api/FileAPI/nf-fileapi-getlogicaldrives) и [**жетлогикалдривестрингс**](/windows/desktop/api/FileAPI/nf-fileapi-getlogicaldrivestringsw).

Обратите внимание, что может возникнуть следующий сценарий:

1.  Пользователь а, который не работает в контексте LocalSystem, создает имя устройства в соответствующем локальном пространстве имен MS-DOS, а имя этого устройства не существует в глобальном пространстве имен MS-DOS.
2.  Пользователь б, работающий в контексте LocalSystem, создает то же имя устройства в глобальном пространстве имен MS-DOS.

В этом случае пользователь A не будет иметь доступа к имени устройства в глобальном пространстве имен MS-DOS, пока он не удалит или не переименует имя устройства в свое локальное пространство имен MS-DOS. Чтобы уменьшить вероятность возникновения этого сценария, следует выделить буквы диска MS-DOS в глобальном пространстве имен MS-DOS, начиная с C: и заканчивая Z:. Эта последовательность должна быть отменена для выделения букв диска MS-DOS в локальном пространстве имен MS-DOS.

Если вы не работаете в контексте LocalSystem, [**дефинедосдевице**](/windows/desktop/api/FileAPI/nf-fileapi-definedosdevicew) не позволит вам определить имя устройства в локальном пространстве имен MS-DOS, если такое имя устройства уже существует в локальном или глобальном пространстве имен MS-DOS. Вызовите метод [**куеридосдевице**](/windows/desktop/api/FileAPI/nf-fileapi-querydosdevicew) перед вызовом **дефинедосдевице** , чтобы определить, существует ли имя устройства, которое вы хотите определить, в пространствах имен устройства MS-DOS.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Именование файлов, путей и пространств имен](naming-a-file.md)
</dt> </dl>

 

 



