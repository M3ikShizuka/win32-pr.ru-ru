---
description: Спецификация файловой системы exFat.
title: Спецификация файловой системы exFAT
ms.topic: article
ms.date: 08/27/2019
ms.openlocfilehash: 94b5bcdc69201573bc92290c148a7d3ce8304868
ms.sourcegitcommit: b32433cc0394159c7263809ae67615ab5792d40d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/30/2021
ms.locfileid: "113119019"
---
# <a name="exfat-file-system-specification"></a>Спецификация файловой системы exFAT

## <a name="1-introduction"></a>1. Введение

Файловая система exFAT является преемником файловой системы FAT32 в семействе файловых систем FAT. Эта спецификация описывает файловую систему exFAT и предоставляет всю информацию, необходимую для реализации файловой системы exFAT.

### <a name="11-design-goals"></a>1,1. цели проектирования

Файловая система exFAT имеет три основных цели проектирования (см. список ниже).

1. *Сохраняйте простоту файловых систем на базе FAT.*

   > Две преимущества файловых систем FAT — это относительная простота и простота реализации. В конце его предшественников разработчики должны найти exFAT относительно просто и легко реализовать.

2. *Включите очень большие файлы и запоминающие устройства.*

   > Файловая система exFAT использует 64 бит для описания размера файла, тем самым позволяя приложениям, которые зависят от очень больших файлов. Файловая система exFAT также позволяет использовать кластеры размером 32 МБ, эффективно обеспечивая очень большие запоминающие устройства.

3. *Внедрение расширяемости для будущих инноваций.*

   > Файловая система exFAT включает в себя расширяемость, позволяя файловой системе непрерывно создавать нововведения в хранилище и изменять их использование.

### <a name="12-specific-terminology"></a>1,2. Особая терминология

В контексте этой спецификации определенные термины (см. [таблицу 1](#table-1-definition-of-terms-which-carry-very-specific-meaning)) имеют определенное значение для проектирования и реализации файловой системы exFAT.

<div id="table-1-definition-of-terms-which-carry-very-specific-meaning" />

**Таблица 1 определение терминов, которые имеют очень специфичное значение**

<table>
<thead>
<tr class="header">
<th><strong>Термин</strong></th>
<th><strong>Определение</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Лицензия</td>
<td>В этой спецификации для описания поведения, которое является обязательным, используется термин "должно быть".</td>
</tr>
<tr class="even">
<td>Следует</td>
<td>В этой спецификации используется термин "должен" для описания поведения, которое он настоятельно рекомендует, но не является обязательным.</td>
</tr>
<tr class="odd">
<td>Май</td>
<td>В этой спецификации используется термин "Май" для описания поведения, которое является необязательным.</td>
</tr>
<tr class="even">
<td>Обязательный</td>
<td>В этом термине описывается поле или структура, которые должна изменить реализация, и они будут интерпретироваться, как описано в этой спецификации.</td>
</tr>
<tr class="odd">
<td>Необязательный</td>
<td>В этом термине описывается поле или структура, которые могут быть не поддерживаются в реализации. Если реализация поддерживает заданное необязательное поле или структуру, он должен изменить и интерпретировать поле или структуру, как описано в этой спецификации.</td>
</tr>
<tr class="even">
<td>Не определено.</td>
<td>В этом термине описывается содержимое поля или структуры, которое может быть изменено при необходимости (т. е. при установке окружающих полей или структур в нулевом виде) и не может интерпретироваться как какое-либо конкретное значение.</td>
</tr>
<tr class="odd">
<td>Зарезервировано</td>
<td><p>В этом термине описывается содержимое поля или структуры, в котором реализованы следующие реализации:</p>
<ol type="1">
<li><p>Инициализация до нуля и не должна использоваться для любых целей</p></li>
<li><p>Не следует интерпретировать, за исключением случаев вычисления контрольных сумм</p></li>
<li><p>Сохранение между операциями, которые изменяют окружающие поля или структуры</p></li>
</ol></td>
</tr>
</tbody>
</table>

### <a name="13-full-text-of-common-acronyms"></a>1,3. полный текст стандартных акронимов

В этой спецификации используются акронимы, используемые в отрасли персональных компьютеров (см. [таблицу 2](#table-2-full-text-of-common-acronyms)).

<div id="table-2-full-text-of-common-acronyms" />

**Таблица 2. полный текст стандартных акронимов**

| **Сокращение** | **Полнотекстовый**                                      |
|-------------|----------------------------------------------------|
| ASCII       | ASCII |
| BIOS        | Базовая входная система вывода                          |
| ЦП         | Центральная единица обработки                            |
| exFAT       | Расширяемая таблица распределения файлов                   |
| FAT         | Таблица распределения файлов                              |
| FAT12       | Таблица распределения файлов, 12-разрядные индексы кластера      |
| FAT16       | Таблица распределения файлов, 16-разрядные индексы кластера      |
| FAT32       | Таблица размещения файлов, 32-разрядные индексы кластера      |
| GPT         | таблица разделов GUID.                               |
| Код GUID        | Глобальный уникальный идентификатор (см. [раздел 10,1](#101-globally-unique-identifiers-guids))      |
| INT         | Прервать                                          |
| MBR-         | основная загрузочная запись (MBR).                                 |
| тексфат      | Защищенная с транзакциями exFAT                             |
| Формат UTC.         | Время в формате UTC                         |

### <a name="14-default-field-and-structure-qualifiers"></a>1,4 квалификаторы полей и структур по умолчанию

Поля и структуры в этой спецификации имеют следующие квалификаторы (см. список ниже), если только заметки о спецификации в противном случае отсутствуют.

1. Не подписаны

2. Используйте десятичную нотацию для описания значений, где не указано иное. в этой спецификации используется буква "h" после исправления, чтобы обозначить шестнадцатеричные числа и заключать идентификаторы GUID в фигурные скобки

3. Имеют формат с прямым порядком байтов

4. Не требуется завершающий символ NULL для строк

### <a name="15-windows-ce-and-texfat"></a>1,5 Windows CE и Тексфат

Тексфат — это расширение exFAT, добавляющее операционную семантику, защищенную с помощью транзакций, поверх базовой файловой системы. Тексфат используется Windows CE.
Тексфат требует использования двух битов Фатс и точечных рисунков выделения для использования в транзакциях. Он также определяет несколько дополнительных структур, включая дескрипторы заполнения и дескрипторы безопасности.

## <a name="2-volume-structure"></a>2 Структура тома

Том — это набор всех структур файловой системы и пространства данных, необходимых для хранения и извлечения данных пользователя. Все тома exFAT содержат четыре региона (см. [таблицу 3](#table-3-volume-structure)).

<div id="table-3-volume-structure" />

**Структура тома таблицы 3**

<table>
<thead>
<tr class="header">
<th><strong>Имя вспомогательной области</strong></th>
<th><p><strong>Offset</strong></p>
<p><strong>поставлен</strong></p></th>
<th><p><strong>Размер</strong></p>
<p><strong>плотность</strong></p></th>
<th><strong>Комментарии</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Основной регион загрузки</strong></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>Основной загрузочный сектор</td>
<td>0</td>
<td>1</td>
<td>Эта подобласть является обязательной, а <a href="#31-main-and-backup-boot-sector-sub-regions">раздел 3,1</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>Основные расширенные загрузочные секторы</td>
<td>1</td>
<td>8</td>
<td>Этот подраздел является обязательным, и <a href="#32-main-and-backup-extended-boot-sectors-sub-regions">раздел 3,2</a>) определяет его содержимое.</td>
</tr>
<tr class="even">
<td>Основные параметры OEM</td>
<td>9</td>
<td>1</td>
<td>Эта подобласть является обязательной, а <a href="#33-main-and-backup-oem-parameters-sub-regions">раздел 3,3</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>Основной зарезервированный</td>
<td>10</td>
<td>1</td>
<td>Эта вложенная область является обязательной и ее содержимое зарезервировано.</td>
</tr>
<tr class="even">
<td>Основная контрольная сумма загрузки</td>
<td>11</td>
<td>1</td>
<td>Эта подобласть является обязательной, а <a href="#34-main-and-backup-boot-checksum-sub-regions">раздел 3,4</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td><strong>Резервный регион загрузки</strong></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>Резервный загрузочный сектор</td>
<td>12</td>
<td>1</td>
<td>Эта подобласть является обязательной, а <a href="#31-main-and-backup-boot-sector-sub-regions">раздел 3,1</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>Резервное копирование расширенных загрузочных секторов</td>
<td>13</td>
<td>8</td>
<td>Эта подобласть является обязательной, а <a href="#32-main-and-backup-extended-boot-sectors-sub-regions">раздел 3,2</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>Параметры OEM для резервного копирования</td>
<td>21</td>
<td>1</td>
<td>Эта подобласть является обязательной, а <a href="#33-main-and-backup-oem-parameters-sub-regions">раздел 3,3</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>Резервная копия зарезервирована</td>
<td>22</td>
<td>1</td>
<td>Эта вложенная область является обязательной и ее содержимое зарезервировано.</td>
</tr>
<tr class="even">
<td>Контрольная сумма загрузки резервной копии</td>
<td>23</td>
<td>1</td>
<td>Эта подобласть является обязательной, а <a href="#34-main-and-backup-boot-checksum-sub-regions">раздел 3,4</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td><strong>Регион FAT</strong></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>Выравнивание в FAT</td>
<td>24</td>
<td>Фатоффсет – 24</td>
<td><p>Эта вложенная область является обязательной и ее содержимое (если таковое имеется) не определено.</p>
<p>Примечание. в основной и резервной загрузочных секторах содержится поле Фатоффсет.</p></td>
</tr>
<tr class="odd">
<td>Первая FAT</td>
<td>фатоффсет</td>
<td>фатленгс</td>
<td><p>Эта подобласть является обязательной, а <a href="#41-first-and-second-fat-sub-regions">раздел 4,1</a> определяет его содержимое.</p>
<p>Примечание. в основной и резервной загрузочных секторах содержатся поля Фатоффсет и Фатленгс.</p></td>
</tr>
<tr class="even">
<td>Вторая FAT</td>
<td>Фатоффсет + Фатленгс</td>
<td>Фатленгс * (Нумбероффатс – 1)</td>
<td><p>Эта вложенная область является обязательной, а <a href="#41-first-and-second-fat-sub-regions">раздел 4,1</a> определяет его содержимое, если оно есть.</p>
<p>Примечание. в основной и резервной загрузочных секторах содержатся поля Фатоффсет, Фатленгс и Нумбероффатс. Поле Нумбероффатс может содержать только значения 1 и 2.</p></td>
</tr>
<tr class="odd">
<td><strong>Область данных</strong></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>Выравнивание кучи кластера</td>
<td>Фатоффсет + Фатленгс * Нумбероффатс</td>
<td>Клустерхеапоффсет — (Фатоффсет + Фатленгс * Нумбероффатс)</td>
<td><p>Эта вложенная область является обязательной и ее содержимое (если таковое имеется) не определено.</p>
<p>Примечание. в основной и резервной загрузочных секторах содержатся поля Фатоффсет, Фатленгс, Нумбероффатс и Клустерхеапоффсет. Допустимые значения поля Нумбероффатс: 1 и 2.</p></td>
</tr>
<tr class="odd">
<td>Куча кластера</td>
<td>клустерхеапоффсет</td>
<td>Клустеркаунт * 2<sup>секторсперклустершифт</sup></td>
<td><p>Эта подобласть является обязательной, а <a href="#51-cluster-heap-sub-region">раздел 5,1</a> определяет его содержимое.</p>
<p>Примечание. в основной и резервной загрузочных секторах содержатся поля Клустерхеапоффсет, Клустеркаунт и Секторсперклустершифт.</p></td>
</tr>
<tr class="even">
<td>Лишнее пространство</td>
<td>Клустерхеапоффсет + Клустеркаунт * 2<sup>секторсперклустершифт</sup></td>
<td>Волумеленгс — (Клустерхеапоффсет + Клустеркаунт * 2<sup>секторсперклустершифт</sup>)</td>
<td><p>Эта вложенная область является обязательной и ее содержимое (если таковое имеется) не определено.</p>
<p>Примечание. в основной и резервной загрузочных секторах содержатся поля Клустерхеапоффсет, Клустеркаунт, Секторсперклустершифт и Волумеленгс.</p></td>
</tr>
</tbody>
</table>

## <a name="3-main-and-backup-boot-regions"></a>3 основные и резервные регионы загрузки

Основной регион загрузки содержит все необходимые инструкции Boot-Страппинг, идентифицирующие сведения и параметры файловой системы, позволяющие реализации выполнять следующие действия.

1. Загрузочная система компьютера с тома exFAT.

2. Найдите файловую систему на томе в качестве exFAT.

3. Найдите расположение структур файловой системы exFAT.

Загрузочный регион резервного копирования — это резервная копия основного региона загрузки. Она помогает восстановить том exFAT в случае, если основной регион загрузки находится в нестабильном состоянии. За исключением редких случаев, таких как обновление инструкций загрузки Страппинг, реализации не должны изменять содержимое загрузочного региона резервного копирования.

### <a name="31-main-and-backup-boot-sector-sub-regions"></a>3,1. подобласти главного и резервного загрузочного секторов

Основной загрузочный сектор содержит код для Boot-Страппинг из тома exFAT и основные параметры exFAT, описывающие структуру тома (см. [табл. 4](#table-4-main-and-backup-boot-sector-structure)). BIOS, MBR или другие агенты Boot-Страппинг могут проверить этот сектор, а также загрузить и выполнить все содержащиеся в нем инструкции загрузки.

Резервный загрузочный сектор является резервной копией основного загрузочного сектора и имеет ту же структуру (см. [табл. 4](#table-4-main-and-backup-boot-sector-structure)). Загрузочный сектор резервного копирования может способствовать операциям восстановления. Однако реализации должны рассматривать содержимое полей Волумефлагс и Перцентинусе как устаревшие.

Перед использованием содержимого основного или резервного загрузочного сектора реализации должны проверить их содержимое, проверив соответствующую контрольную сумму загрузки и убедившись, что все их поля находятся в пределах допустимого диапазона значений.

Хотя начальная операция форматирования инициализирует содержимое основного и резервного загрузочного сектора, реализации могут обновлять эти сектора (а также обновлять соответствующую контрольную сумму загрузки) по мере необходимости. Однако реализации могут обновлять поля Волумефлагс или Перцентинусе без обновления соответствующей контрольной суммы загрузки (в частности, контрольная сумма исключает эти два поля).

<div id="table-4-main-and-backup-boot-sector-structure" />

**Таблица 4 Основная и резервная структура загрузочного сектора**

<table>
<thead>
<tr class="header">
<th><strong>Имя поля</strong></th>
<th><p><strong>Offset</strong></p>
<p><strong>двухбайтовых</strong></p></th>
<th><p><strong>Размер</strong></p>
<p><strong>байт</strong></p></th>
<th><strong>Комментарии</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>жумпбут</td>
<td>0</td>
<td>3</td>
<td>Это поле является обязательным, а <a href="#311-jumpboot-field">раздел 3.1.1</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>филесистемнаме</td>
<td>3</td>
<td>8</td>
<td>Это поле является обязательным, а <a href="#312-filesystemname-field">раздел 3.1.2</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>мустбезеро</td>
<td>11</td>
<td>53</td>
<td>Это поле является обязательным, а <a href="#313-mustbezero-field">раздел 3.1.3</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>партитионоффсет</td>
<td>64</td>
<td>8</td>
<td>Это поле является обязательным, а <a href="#314-partitionoffset-field">раздел 3.1.4</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>волумеленгс</td>
<td>72</td>
<td>8</td>
<td>Это поле является обязательным, а <a href="#315-volumelength-field">раздел 3.1.5.</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>фатоффсет</td>
<td>80</td>
<td>4</td>
<td>Это поле является обязательным, а <a href="#316-fatoffset-field">раздел 3.1.6</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>фатленгс</td>
<td>84</td>
<td>4</td>
<td>Это поле является обязательным, а <a href="#317-fatlength-field">раздел 3.1.7</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>клустерхеапоффсет</td>
<td>88</td>
<td>4</td>
<td>Это поле является обязательным, а <a href="#318-clusterheapoffset-field">раздел 3.1.8</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>клустеркаунт</td>
<td>92</td>
<td>4</td>
<td>Это поле является обязательным, а <a href="#319-clustercount-field">раздел 3.1.9</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>фирстклустерофрутдиректори</td>
<td>96</td>
<td>4</td>
<td>Это поле является обязательным, а <a href="#3110-firstclusterofrootdirectory-field">раздел 3.1.10</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>волумесериалнумбер</td>
<td>100</td>
<td>4</td>
<td>Это поле является обязательным, а <a href="#3111-volumeserialnumber-field">раздел 3.1.11</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>филесистемревисион</td>
<td>104</td>
<td>2</td>
<td>Это поле является обязательным, а <a href="#3112-filesystemrevision-field">раздел 3.1.12</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>волумефлагс</td>
<td>106</td>
<td>2</td>
<td>Это поле является обязательным, а <a href="#3113-volumeflags-field">раздел 3.1.13</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>битесперсекторшифт</td>
<td>108</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#3114-bytespersectorshift-field">раздел 3.1.14</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>секторсперклустершифт</td>
<td>109</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#3115-sectorsperclustershift-field">раздел 3.1.15</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>нумбероффатс</td>
<td>110</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#3116-numberoffats-field">раздел 3.1.16</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>дривеселект</td>
<td>111</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#3117-driveselect-field">раздел 3.1.17</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>перцентинусе</td>
<td>112</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#3118-percentinuse-field">раздел 3.1.18</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>Зарезервировано</td>
<td>113</td>
<td>7</td>
<td>Это поле является обязательным и его содержимое зарезервировано.</td>
</tr>
<tr class="even">
<td>Загрузоч</td>
<td>120</td>
<td>390</td>
<td>Это поле является обязательным, а <a href="#3119-bootcode-field">раздел 3.1.19</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>бутсигнатуре</td>
<td>510</td>
<td>2</td>
<td>Это поле является обязательным, а <a href="#3120-bootsignature-field">раздел 3.1.20</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>ексцессспаце</td>
<td>512</td>
<td>2<sup>битесперсекторшифт</sup> — 512</td>
<td><p>Это поле является обязательным и его содержимое (если таковое имеется) не определено.</p>
<p>Примечание. в основной и резервной загрузочных секторах содержится поле Битесперсекторшифт.</p></td>
</tr>
</tbody>
</table>

#### <a name="311-jumpboot-field"></a>Поле 3.1.1 Жумпбут

Поле Жумпбут должно содержать инструкцию перехода для ЦП, общих для персональных компьютеров, которые при исполнении "переходят" ЦП для выполнения инструкций Boot-Страппинг в поле загрузочный код.

Для этого поля допустимо значение (в порядке байтов с низким порядковым порядком до байта) Ебх 76h 90h.

#### <a name="312-filesystemname-field"></a>Поле 3.1.2 Филесистемнаме

Поле Филесистемнаме должно содержать имя файловой системы на томе.

Допустимое значение для этого поля — в символах ASCII — EXFAT, который включает три конечных пробела.

#### <a name="313-mustbezero-field"></a>Поле 3.1.3 Мустбезеро

Поле Мустбезеро должно соответствовать диапазону байтов, используемому упакованным блоком параметров BIOS на томах FAT12/16/32.

Допустимое значение для этого поля — 0, что помогает предотвратить неправильное подключение тома exFAT к реализациям FAT12/16/32.

#### <a name="314-partitionoffset-field"></a>Поле 3.1.4 Партитионоффсет

Поле Партитионоффсет должно описывать смещение сектора относительно носителя для раздела, на котором размещается указанный том exFAT. Это поле помогает загрузить Страппинг с тома с помощью расширенного INT 13h на персональных компьютерах.

Все возможные значения для этого поля допустимы; Однако значение 0 указывает, что реализации не будут учитывать это поле.

#### <a name="315-volumelength-field"></a>Поле 3.1.5. Волумеленгс

Поле Волумеленгс должно описывать размер данного тома exFAT в секторах.

Допустимый диапазон значений для этого поля:

- Не менее 2<sup>20</sup>/2<sup>битесперсекторшифт</sup>, что гарантирует, что минимальный том не будет превышать 1 МБ.

- Не более 2<sup>64</sup>– 1 — наибольшее значение, которое может описывать это поле

Однако если размер лишнего пробела в подобласти равен 0, то значение этого поля будет равно Клустерхеапоффсет + (2<sup>32</sup>-11) \* 2<sup>секторсперклустершифт</sup>.

#### <a name="316-fatoffset-field"></a>Поле 3.1.6 Фатоффсет

Поле Фатоффсет должно описывать смещение секторов, относящихся к тому или иначе, для первой файловой системы FAT. Это поле позволяет реализациям согласовать первую систему FAT с характеристиками базового носителя хранилища.

Допустимый диапазон значений для этого поля:

- По меньшей мере 24 учетные записи для секторов, используемых основными загрузочными и резервными регионами загрузки.

- Не более Клустерхеапоффсет (Фатленгс \* нумбероффатс). учетные записи для секторов, потребляемых кучей кластера

#### <a name="317-fatlength-field"></a>Поле 3.1.7 Фатленгс

Поле Фатленгс должно описывать длину в секторах каждой таблицы FAT (том может содержать до двух Фатс).

Допустимый диапазон значений для этого поля:

- По меньшей мере (Клустеркаунт + 2) \* 2<sup>2</sup>/2<sup>битесперсекторшифт</sup>округляется до ближайшего целого числа, что гарантирует, что каждой файловой системе FAT достаточно места для описания всех кластеров в куче кластера.

- Не более (Клустерхеапоффсет-Фатоффсет)/Нумбероффатс округляется вниз до ближайшего целого числа, что гарантирует, что Фатс существовал до кучи кластера.

Это поле может содержать значение, превышающее нижнюю границу (как описано выше) для включения второй файловой системы FAT, если она есть, а также для соответствия характеристикам базового носителя хранилища. Содержимое пространства, которое превышает размер самой файловой системы FAT, если таковые имеются, не определены.

#### <a name="318-clusterheapoffset-field"></a>Поле 3.1.8 Клустерхеапоффсет

Поле Клустерхеапоффсет должно описывать смещение секторов, относительных для тома, в куче кластера. Это поле позволяет реализациям согласовать кучу кластера с характеристиками базового носителя хранилища.

Допустимый диапазон значений для этого поля:

- По крайней мере Фатоффсет + Фатленгс \* нумбероффатс, чтобы учитывать секторы, использованные в предыдущих регионах

- Не более 2<sup>32</sup>-1 или волумеленгс-(Клустеркаунт \* 2<sup>секторсперклустершифт</sup>), в зависимости от того, какое из вычислений меньше

#### <a name="319-clustercount-field"></a>Поле 3.1.9 Клустеркаунт

Поле Клустеркаунт должно описывать количество кластеров, содержащихся в куче кластера.

Допустимое значение для этого поля должно быть меньше следующего:

- (Волумеленгс-Клустерхеапоффсет)/2<sup>секторсперклустершифт</sup>округляются вниз до ближайшего целого числа, которое точно соответствует количеству кластеров, которые могут подгоняться между началом кучи кластера и концом тома.

- 2<sup>32</sup>-11 — максимальное число кластеров, которое может описывать FAT

Значение поля Клустеркаунт определяет минимальный размер файловой системы FAT. Чтобы избежать очень больших Фатс, реализации могут управлять количеством кластеров в куче кластера, увеличивая размер кластера (через поле Секторсперклустершифт). Эта спецификация рекомендует не более 2<sup>24</sup>-2 кластеров в куче кластера. Однако реализации должны иметь возможность обрабатывать тома с размером до 2<sup>32</sup>в кластерной куче.

#### <a name="3110-firstclusterofrootdirectory-field"></a>Поле 3.1.10 Фирстклустерофрутдиректори

Поле Фирстклустерофрутдиректори должно содержать индекс кластера для первого кластера корневого каталога. Реализации должны выполнять все усилия для размещения первого кластера корневого каталога в первом неповрежденном кластере после кластеров, используемых точечным рисунком выделения и таблицей вариантов.

Допустимый диапазон значений для этого поля:

- По крайней мере 2 индекс первого кластера в куче кластера

- Не более Клустеркаунт + 1 — индекс последнего кластера в куче кластера.

#### <a name="3111-volumeserialnumber-field"></a>Поле 3.1.11 Волумесериалнумбер

Поле Волумесериалнумбер должно содержать уникальный серийный номер. Это помогает реализовать различия между различными томами exFAT.
Реализации должны создать серийный номер, объединив дату и время форматирования тома exFAT. Механизм объединения даты и времени для формирования серийного номера зависит от конкретной реализации.

Все возможные значения для этого поля являются допустимыми.

#### <a name="3112-filesystemrevision-field"></a>Поле 3.1.12 Филесистемревисион

Поле Филесистемревисион должно описывать основной и дополнительный номера редакции для структур exFAT на заданном томе.

Старший байт — старший номер редакции, а младший байт — дополнительный номер редакции. Например, если старший байт содержит значение 01H, а младший байт содержит значение 05h, то поле Филесистемревисион описывает номер редакции 1,05.
Аналогично, если старший байт содержит значение 0Ah, а младший байт содержит значение 0Fh, то поле Филесистемревисион описывает номер редакции 10,15.

Допустимый диапазон значений для этого поля:

- По крайней мере 0 для байта нижнего порядка и 1 для байта высокого порядка

- Не более 99 для байта низкого порядка и 99 для байта высокого порядка

Номер редакции exFAT, описанный в этой спецификации, — 1,00.
Реализации этой спецификации должны подключить любой том exFAT с номером основной редакции 1 и не подключать любой том exFAT с любым другим старшим номером редакции. Реализации должны учитывать дополнительный номер редакции и не выполнять операции или создавать любые структуры файловой системы, не описанные в соответствующей спецификации соответствующего номера редакции.

#### <a name="3113-volumeflags-field"></a>Поле 3.1.13 Волумефлагс

Поле Волумефлагс должно содержать флаги, указывающие состояние различных структур файловой системы на томе exFAT (см. [табл. 5](#table-5-volumeflags-field-structure)).

Реализации не должны включать это поле при вычислении соответствующей контрольной суммы для начальной загрузки или резервной копии в загрузочном регионе. При ссылке на загрузочный сектор резервного копирования реализации должны считать это поле устаревшим.

<div id="table-5-volumeflags-field-structure" />

**Таблица 5 структура поля Волумефлагс**

<table>
<thead>
<tr class="header">
<th><strong>Имя поля</strong></th>
<th><p><strong>Offset</strong></p>
<p><strong>версий</strong></p></th>
<th><p><strong>Размер</strong></p>
<p><strong>числа</strong></p></th>
<th><strong>Комментарии</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>активефат</td>
<td>0</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#31131-activefat-field">раздел 3.1.13.1</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>волумедирти</td>
<td>1</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#31132-volumedirty-field">раздел 3.1.13.2</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>медиафаилуре</td>
<td>2</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#31133-mediafailure-field">раздел 3.1.13.3</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>клеартозеро</td>
<td>3</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#31134-cleartozero-field">раздел 3.1.13.4</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>Зарезервировано</td>
<td>4</td>
<td>12</td>
<td>Это поле является обязательным и его содержимое зарезервировано.</td>
</tr>
</tbody>
</table>

##### <a name="31131-activefat-field"></a>Поле 3.1.13.1 Активефат

Поле Активефат описывает, какие активные FAT и точечный рисунок выделения активны (и используются реализации) следующим образом.

- 0, что означает, что первая файловая система FAT и рисунок первого размещения активны

- 1, что означает, что вторая файловая система FAT и вторая точечная карта памяти активны и доступны только в том случае, если поле Нумбероффатс содержит значение 2.

Реализации должны рассматривать неактивную систему FAT и точечный рисунок выделения как устаревшие. Только реализации, поддерживающие Тексфат, будут переключать активные FAT и точечные рисунки выделения (см. [раздел 7,1](#71-allocation-bitmap-directory-entry)).

##### <a name="31132-volumedirty-field"></a>Поле 3.1.13.2 Волумедирти

Поле Волумедирти должно описывать, является ли том "грязным", следующим образом:

- 0 — это означает, что том, вероятно, находится в стабильном состоянии.

- 1, что означает, что том может находиться в нестабильном состоянии

Реализации должны установить значение этого поля равным 1 при обнаружении несоответствий метаданных файловой системы, которые они не разрешают. Если при подключении тома значение этого поля равно 1, только реализации, которые разрешают несоответствия метаданных файловой системы, могут очистить значение этого поля до 0. В таких реализациях только значение этого поля сбрасывается в 0 только после обеспечения того, что файловая система находится в стабильном состоянии.

Если при подключении тома значение этого поля равно 0, реализации должны установить это поле равным 1 перед обновлением метаданных файловой системы, а затем очистить это поле до 0, как показано в [разделе 8,1](#81-recommended-write-ordering).

##### <a name="31133-mediafailure-field"></a>Поле 3.1.13.3 Медиафаилуре

В поле Медиафаилуре должно быть указано, обнаружены ли в реализации сбои носителя или нет.

- 0 — это означает, что на носителе, на котором размещен носитель, не обнаружены сбои, или все известные ошибки уже записаны в FAT как "плохие" кластеры.

- 1, что означает, что на размещенном носителе обнаружены ошибки (т. е. произошел сбой операций чтения или записи).

Реализация должна присвоить этому полю значение 1, если:

1. Носитель с размещенным носителем не удается получить доступ к любому региону в томе

2. Реализация имеет исчерпанные алгоритмы повтора доступа, если таковые имеются

Если при подключении тома значение этого поля равно 1, то реализации, которые проверяют весь том на предмет сбоев носителя и регистрируют все сбои как "плохие" кластеры в файловой системе FAT (или иным образом устраняют сбои носителя), могут очистить значение этого поля до 0.

##### <a name="31134-cleartozero-field"></a>Поле 3.1.13.4 Клеартозеро

Поле Клеартозеро не имеет существенного значения в этой спецификации.

Допустимые значения для этого поля:

- 0, у которого нет определенного значения

- 1. Это означает, что реализации должны очистить это поле до 0 перед изменением структур, каталогов или файлов файловой системы.

#### <a name="3114-bytespersectorshift-field"></a>Поле 3.1.14 Битесперсекторшифт

Поле Битесперсекторшифт должно описывать байты на сектор в виде журнала<sub>2</sub>(n), где N — число байт на сектор. Например, для 512 байт на сектор значение этого поля равно 9.

Допустимый диапазон значений для этого поля:

- Не менее 9 (размер сектора 512 байт), что является наименьшим сектором, возможным для тома exFAT

- Не более 12 (размер сектора в 4096 байт) — это размер страницы памяти для ЦП, общих для персональных компьютеров

#### <a name="3115-sectorsperclustershift-field"></a>Поле 3.1.15 Секторсперклустершифт

Поле Секторсперклустершифт должно описывать секторы на кластере в виде журнала<sub>2</sub>(n), где N — число секторов на кластер. Например, для 8 секторов на один кластер значение этого поля равно 3.

Допустимый диапазон значений для этого поля:

- По крайней мере 0 (1 сектор на кластер), который может быть наименьшим кластером

- Не более 25-Битесперсекторшифт, результатом вычисления которого является размер кластера 32 МБ

#### <a name="3116-numberoffats-field"></a>Поле 3.1.16 Нумбероффатс

В поле Нумбероффатс должно быть указано количество Фатс и точечных рисунков, содержащихся в томе.

Допустимый диапазон значений для этого поля:

- 1, что означает, что том содержит только первую файловую систему FAT и точечный рисунок первого выделения.

- 2, что означает, что том содержит первую систему FAT, вторую FAT, битовую карту размещения и второе растровое изображение выделения. Это значение допустимо только для томов Тексфат

#### <a name="3117-driveselect-field"></a>Поле 3.1.17 Дривеселект

Поле Дривеселект должно содержать номер диска Extended INT 13h, который помогает загружать Страппинг с этого тома с помощью расширенного INT 13h на персональных компьютерах.

Все возможные значения для этого поля являются допустимыми. Аналогичные поля в предыдущих файловых системах на базе FAT часто содержали значение 80h.

#### <a name="3118-percentinuse-field"></a>Поле 3.1.18 Перцентинусе

Поле Перцентинусе должно описывать процент кластеров в куче кластера, которые выделены.

Допустимый диапазон значений для этого поля:

- От 0 до 100 включительно, то есть процент выделенных кластеров в куче кластера, округляется вниз до ближайшего целого числа

- Точно ФФХ, что указывает, что процент выделенных кластеров в куче кластера недоступен.

Реализации должны изменить значение этого поля в соответствии с изменениями в выделении кластеров в куче кластера или изменить его на ФФХ.

Реализации не должны включать это поле при вычислении соответствующей контрольной суммы для начальной загрузки или резервной копии в загрузочном регионе. При ссылке на загрузочный сектор резервного копирования реализации должны считать это поле устаревшим.

#### <a name="3119-bootcode-field"></a>Поле загрузочного поля 3.1.19

Поле загрузочного поля содержит инструкции Boot-Страппинг.
Реализации могут заполнить это поле инструкциями ЦП, необходимыми для загрузки компьютера, Страппинг систему. Реализации, которые не предоставляют инструкции Boot-Страппинг, загружают каждый байт в этом поле в F4h (инструкция halt для ЦП, общих для персональных компьютеров) в рамках операции форматирования.

#### <a name="3120-bootsignature-field"></a>Поле 3.1.20 Бутсигнатуре

В поле Бутсигнатуре необходимо указать, будет ли цель данного сектора использоваться в качестве загрузочного сектора.

Для этого поля допустимо значение AA55h. Любое другое значение в этом поле сделает соответствующий загрузочный сектор недействительным. Реализации должны проверять содержимое этого поля до зависимости от любого другого поля в соответствующем загрузочном секторе.

### <a name="32-main-and-backup-extended-boot-sectors-sub-regions"></a>3,2. Основные и резервные регионы расширенных загрузочных секторов

Каждый сектор основных расширенных загрузочных секторов имеет одинаковую структуру. Однако каждый сектор может содержать отдельные инструкции Boot-Страппинг (см. табл. 6). Агенты Boot-Страппинг, такие как инструкции Boot-Страппинг в главном загрузочном секторе, альтернативные реализации BIOS или встроенное по встроенной системы, могут загрузить эти сектора и выполнить содержащиеся в них инструкции.

Резервная копия расширенных загрузочных секторов — это резервная копия основных загрузочных секторов с такой же структурой (см. [табл. 6](#table-6-extended-boot-sector-structure)).

Перед выполнением инструкций основного или резервного копирования дополнительных загрузочных секторов реализации должны проверить их содержимое, убедившись в том, что каждое поле Екстендедбутсигнатуре сектора содержит предписанное значение.

Хотя начальная операция форматирования инициализирует содержимое основных и резервных дополнительных загрузочных секторов, реализации могут обновлять эти сектора (а также обновлять соответствующую контрольную сумму загрузки) по мере необходимости.

<div id="table-6-extended-boot-sector-structure" />

**Таблица 6. Расширенная структура загрузочного сектора**

<table>
<thead>
<tr class="header">
<th><strong>Имя поля</strong></th>
<th><p><strong>Offset</strong></p>
<p><strong>двухбайтовых</strong></p></th>
<th><p><strong>Размер</strong></p>
<p><strong>байт</strong></p></th>
<th><strong>Комментарии</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>екстендедбуткоде</td>
<td>0</td>
<td>2<sup>битесперсекторшифт</sup> – 4</td>
<td><p>Это поле является обязательным, а <a href="#321-extendedbootcode-field">раздел 3.2.1</a> определяет его содержимое.</p>
<p>Примечание. в основной и резервной загрузочных секторах содержится поле Битесперсекторшифт.</p></td>
</tr>
<tr class="even">
<td>екстендедбутсигнатуре</td>
<td>2<sup>битесперсекторшифт</sup> – 4</td>
<td>4</td>
<td><p>Это поле является обязательным, а <a href="#322-extendedbootsignature-field">раздел 3.2.2</a> определяет его содержимое.</p>
<p>Примечание. в основной и резервной загрузочных секторах содержится поле Битесперсекторшифт.</p></td>
</tr>
</tbody>
</table>

#### <a name="321-extendedbootcode-field"></a>Поле Екстендедбуткоде 3.2.1

Поле Екстендедбуткоде должно содержать инструкции Boot-Страппинг.
Реализации могут заполнить это поле инструкциями ЦП, необходимыми для загрузки компьютера, Страппинг систему. Реализации, которые не предоставляют инструкции Boot-Страппинг, инициализируют каждый байт в этом поле в 17:00 в рамках их операции форматирования.

#### <a name="322-extendedbootsignature-field"></a>Поле 3.2.2 Екстендедбутсигнатуре

В поле Екстендедбутсигнатуре должно быть указано, будет ли цель данного сектора быть расширенным загрузочным сектором.

Для этого поля допустимо значение AA550000h. Любое другое значение в этом поле делает недействительным соответствующий основной или резервный расширенный загрузочный сектор.
Реализации должны проверять содержимое этого поля до зависимости от любого другого поля в соответствующем расширенном загрузочном секторе.

### <a name="33-main-and-backup-oem-parameters-sub-regions"></a>3,3. подобласти параметров Main и Backup OEM

Основная часть параметров изготовителя оборудования содержит десять структур параметров, которые могут содержать сведения, относящиеся к изготовителю (см. [таблицу 7](#table-7-oem-parameters-structure)). Каждая из десяти структур параметров является производной от шаблона универсальных параметров (см. [раздел 3.3.2](#332-generic-parameters-template)). Производители могут создавать собственные структуры пользовательских параметров из шаблона универсальных параметров. Сама спецификация определяет две структуры параметров: параметры null (см. [раздел 3.3.3](#333-null-parameters)) и параметры Flash (см. [раздел 3.3.4](#334-flash-parameters)).

Параметры OEM Backup — это резервная копия основных параметров OEM с такой же структурой (см. [табл. 7](#table-7-oem-parameters-structure)).

Прежде чем использовать содержимое основного или резервного OEM-параметров, реализации должны проверить их содержимое, проверив соответствующую контрольную сумму загрузки.

Изготовители должны заполнить основные и резервные параметры OEM, используя собственные структуры пользовательских параметров, если таковые имеются, и любые другие структуры параметров. Последующие операции форматирования сохраняют содержимое основного и резервного OEM-параметров.

При необходимости реализации могут обновлять основные и резервные параметры OEM, а также обновлять соответствующую контрольную сумму загрузки.

<div id="table-7-oem-parameters-structure" />

**Таблица 7 параметры OEM-структуры**

<table>
<thead>
<tr class="header">
<th><strong>Имя поля</strong></th>
<th><p><strong>Offset</strong></p>
<p><strong>двухбайтовых</strong></p></th>
<th><p><strong>Размер</strong></p>
<p><strong>байт</strong></p></th>
<th><strong>Комментарии</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Параметры [0]</td>
<td>0</td>
<td>48</td>
<td>Это поле является обязательным, а <a href="#331-parameters0--parameters9">раздел 3.3.1</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td><p>.</p>
<p>.</p>
<p>.</p></td>
<td><p>.</p>
<p>.</p>
<p>.</p></td>
<td><p>.</p>
<p>.</p>
<p>.</p></td>
<td><p>.</p>
<p>.</p>
<p>.</p></td>
</tr>
<tr class="odd">
<td>Параметры [9]</td>
<td>432</td>
<td>48</td>
<td>Это поле является обязательным, а <a href="#331-parameters0--parameters9">раздел 3.3.1</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>Зарезервировано</td>
<td>480</td>
<td>2<sup>битесперсекторшифт</sup> — 480</td>
<td><p>Это поле является обязательным и его содержимое зарезервировано.</p>
<p>Примечание. в основной и резервной загрузочных секторах содержится поле Битесперсекторшифт.</p></td>
</tr>
</tbody>
</table>

#### <a name="331-parameters0--parameters9"></a>параметры 3.3.1 \[ 0 \] ... Параметры \[ 9\]

Каждое поле параметров в этом массиве содержит структуру параметров, которая является производной от шаблона универсальных параметров (см. [раздел 3.3.2](#332-generic-parameters-template)).
Любое неиспользуемое поле параметров должно описываться как содержащее структуру параметров NULL (см. [раздел 3.3.3](#333-null-parameters)).

#### <a name="332-generic-parameters-template"></a>Шаблон универсальных параметров 3.3.2

Шаблон универсальных параметров предоставляет базовое определение структуры параметров (см. [таблицу 8](#table-8-generic-parameters-template)). Все структуры параметров являются производными от этого шаблона. Поддержка этого шаблона универсальных параметров является обязательной.

<div id="table-8-generic-parameters-template" />

**Шаблон таблицы 8 универсальных параметров**

<table>
<thead>
<tr class="header">
<th><strong>Имя поля</strong></th>
<th><p><strong>Offset</strong></p>
<p><strong>двухбайтовых</strong></p></th>
<th><p><strong>Размер</strong></p>
<p><strong>байт</strong></p></th>
<th><strong>Комментарии</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>параметерсгуид</td>
<td>0</td>
<td>16</td>
<td>Это поле является обязательным, а <a href="#3321-parametersguid-field">раздел 3.3.2.1</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>кустомдефинед</td>
<td>16</td>
<td>32</td>
<td>Это поле является обязательным, и структуры, производные от этого шаблона, определяют его содержимое.</td>
</tr>
</tbody>
</table>

##### <a name="3321-parametersguid-field"></a>Поле 3.3.2.1 Параметерсгуид

Поле Параметерсгуид должно описывать идентификатор GUID, который определяет макет оставшейся части данной структуры параметров.

Все возможные значения для этого поля допустимы; Однако производители должны использовать средство создания GUID, например GuidGen.exe, для выбора идентификатора GUID при создании структур пользовательских параметров из этого шаблона.

#### <a name="333-null-parameters"></a>3.3.3 параметры null

Структура параметров со значением NULL является производной от шаблона универсальных параметров (см. [раздел 3.3.2](#332-generic-parameters-template)) и описывает неиспользуемое поле параметров (см. [таблицу 9](#table-9-null-parameters-structure)). При создании или обновлении структуры параметров OEM реализации должны заполнять неиспользуемые поля параметров структурой параметров NULL. Кроме того, при создании или обновлении структуры параметров OEM реализации должны консолидировать структуры параметров NULL в конце массива, тем самым оставив все остальные параметры в начале структуры параметров OEM.

Поддержка структуры параметров NULL является обязательной.

<div id="table-9-null-parameters-structure" />

**Структура параметров в таблице 9 null**

<table>
<thead>
<tr class="header">
<th><strong>Имя поля</strong></th>
<th><p><strong>Offset</strong></p>
<p><strong>двухбайтовых</strong></p></th>
<th><p><strong>Размер</strong></p>
<p><strong>байт</strong></p></th>
<th><strong>Комментарии</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>параметерсгуид</td>
<td>0</td>
<td>16</td>
<td>Это поле является обязательным, а <a href="#3331-parametersguid-field">раздел 3.3.3.1</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>Зарезервировано</td>
<td>16</td>
<td>32</td>
<td>Это поле является обязательным и его содержимое зарезервировано.</td>
</tr>
</tbody>
</table>

##### <a name="3331-parametersguid-field"></a>Поле 3.3.3.1 Параметерсгуид

Поле Параметерсгуид должно соответствовать определению, предоставленному шаблоном универсальных параметров (см. [раздел 3.3.2.1](#3321-parametersguid-field)).

Допустимым значением для этого поля в нотации GUID является {00000000-0000-0000-0000-000000000000} .

#### <a name="334-flash-parameters"></a>Параметры Flash 3.3.4

Структура параметров Flash является производной от шаблона универсальных параметров (см. [раздел 3.3.2](#332-generic-parameters-template)) и содержит параметры для Flash Media (см. [таблицу 10](#table-10-flash-parameters-structure)). Производители устройств хранения данных на базе Flash могут заполнить поле параметров (желательно \[ поле параметров 0 \] ) с помощью этой структуры параметров. Реализации могут использовать сведения в структуре параметров Flash для оптимизации операций доступа во время операций чтения/записи и для выравнивания структур файловой системы, дурнинг форматирование носителя.

Поддержка структуры параметров Flash является необязательной.

<div id="table-10-flash-parameters-structure" />

**Структура параметров Flash таблицы 10**

<table>
<thead>
<tr class="header">
<th><strong>Имя поля</strong></th>
<th><p><strong>Offset</strong></p>
<p><strong>двухбайтовых</strong></p></th>
<th><p><strong>Размер</strong></p>
<p><strong>байт</strong></p></th>
<th><strong>Комментарии</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>параметерсгуид</td>
<td>0</td>
<td>16</td>
<td>Это поле является обязательным, а <a href="#3341-parametersguid-field">раздел 3.3.4.1</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>ерасеблокксизе</td>
<td>16</td>
<td>4</td>
<td>Это поле является обязательным, а <a href="#3342-eraseblocksize-field">раздел 3.3.4.2</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>PageSize</td>
<td>20</td>
<td>4</td>
<td>Это поле является обязательным, а <a href="#3343-pagesize-field">раздел 3.3.4.3</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>спаресекторс</td>
<td>24</td>
<td>4</td>
<td>Это поле является обязательным, а <a href="#3344-sparesectors-field">раздел 3.3.4.4</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>рандомакцесстиме</td>
<td>28</td>
<td>4</td>
<td>Это поле является обязательным, а <a href="#3345-randomaccesstime-field">раздел 3.3.4.5</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>программингтиме</td>
<td>32</td>
<td>4</td>
<td>Это поле является обязательным, а <a href="#3346-programmingtime-field">раздел 3.3.4.6</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>реадцикле</td>
<td>36</td>
<td>4</td>
<td>Это поле является обязательным, а <a href="#3347-readcycle-field">раздел 3.3.4.7</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>вритецикле</td>
<td>40</td>
<td>4</td>
<td>Это поле является обязательным, а <a href="#3348-writecycle-field">раздел 3.3.4.8</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>Зарезервировано</td>
<td>44</td>
<td>4</td>
<td>Это поле является обязательным и его содержимое зарезервировано.</td>
</tr>
</tbody>
</table>

Все возможные значения для всех полей параметров Flash, кроме поля Параметерсгуид, являются допустимыми. Однако значение 0 указывает на то, что поле на самом деле не имеет смысла (реализации должны игнорировать заданное поле).

##### <a name="3341-parametersguid-field"></a>Поле 3.3.4.1 Параметерсгуид

Поле Параметерсгуид должно соответствовать определению, указанному в шаблоне универсальных параметров (см. [раздел 3.3.2.1](#3321-parametersguid-field)).

Допустимым значением для этого поля в нотации GUID является {0A0C7E46-3399-4021-90C8-FA6D389C4BA2}.

##### <a name="3342-eraseblocksize-field"></a>Поле 3.3.4.2 Ерасеблокксизе

Поле Ерасеблокксизе должно описывать размер блока стирания флэш-памяти (в байтах).

##### <a name="3343-pagesize-field"></a>Поле PageSize 3.3.4.3

Поле PageSize должно описывать размер (в байтах) страницы Flash-носителя.

##### <a name="3344-sparesectors-field"></a>Поле 3.3.4.4 Спаресекторс

Поле Спаресекторс должно описывать количество секторов, доступных для внутренних операций резервирования на носителе Flash.

##### <a name="3345-randomaccesstime-field"></a>Поле 3.3.4.5 Рандомакцесстиме

Поле Рандомакцесстиме должно описывать среднее время случайного доступа к носителю Flash в наносекундах.

##### <a name="3346-programmingtime-field"></a>Поле 3.3.4.6 Программингтиме

Поле Программингтиме должно описывать среднее время программирования Flash-носителя в наносекундах.

##### <a name="3347-readcycle-field"></a>Поле 3.3.4.7 Реадцикле

Поле Реадцикле должно описывать среднее время цикла чтения Flash Media в наносекундах.

##### <a name="3348-writecycle-field"></a>Поле 3.3.4.8 Вритецикле

Поле Вритецикле должно описывать среднее время цикла записи в наносекундах.

### <a name="34-main-and-backup-boot-checksum-sub-regions"></a>3,4. Главная и резервная контрольная сумма загрузочных областей

Главная и резервная контрольные суммы загрузки каждой из них содержат Повторяющийся шаблон из 4-байтовой контрольной суммы содержимого всех других подрегионов в соответствующих регионах загрузки. Вычисление контрольной суммы не должно включать поля Волумефлагс и Перцентинусе в соответствующий загрузочный сектор (см. [рис. 1](#figure-1-boot-checksum-computation)). Повторяющийся шаблон для 4-байтовой контрольной суммы заполняет соответствующую вложенную контрольную сумму загрузки с начала до конца вложенной области.

Перед использованием содержимого любых других подрегионов в основном или резервном регионах, реализации должны проверить их содержимое, проверив соответствующую контрольную сумму загрузки.

Хотя начальная операция форматирования будет заполнять как основную, так и резервную контрольную сумму с помощью повторяющейся схемы контрольной суммы, реализации будут обновлять эти секторы по мере изменения содержимого других секторов в соответствующих регионах загрузки.

<div id="figure-1-boot-checksum-computation" />

**Рис. 1 Вычисление контрольной суммы загрузки**

```c
UInt32 BootChecksum
(
    UCHAR  * Sectors,        // points to an in-memory copy of the 11 sectors
    USHORT   BytesPerSector
)
{
    UInt32 NumberOfBytes = (UInt32)BytesPerSector * 11;
    UInt32 Checksum = 0;
    UInt32 Index;

    for (Index = 0; Index < NumberOfBytes; Index++)
    {
        if ((Index == 106) || (Index == 107) || (Index == 112))
        {
            continue;
        }
        Checksum = ((Checksum&1) ? 0x80000000 : 0) + (Checksum>>1) + (UInt32)Sectors[Index];
    }

    return Checksum;
}
```

## <a name="4-file-allocation-table-region"></a>4 область таблицы выделения файлов

В области таблицы размещения файлов (FAT) может содержаться до двух Фатс, одна в первой подобласти FAT, а другая — во второй.
Поле Нумбероффатс описывает количество Фатс, которое содержит этот регион. Допустимые значения для поля Нумбероффатс: 1 и 2. Таким образом, первая часть области FAT всегда содержит файловую систему FAT. Если поле Нумбероффатс равно двум, то Вторая часть области файловой системы FAT также содержит файловую систему FAT.

Поле Активефат в поле Волумефлагс описывает активную систему FAT. Только поле Волумефлагс в основном загрузочном секторе является актуальным.
Реализации должны рассматривать файловую систему FAT, которая неактивна как устаревшая. Использование неактивной файловой системы FAT и переключение между Фатс зависит от конкретной реализации.

### <a name="41-first-and-second-fat-sub-regions"></a>4,1 первый и второй подобласти FAT

FAT должен описывать цепочки кластеров в куче кластера (см. [таблицу 11](#table-11-file-allocation-table-structure)).
Цепочка кластеров — это серия кластеров, которая предоставляет пространство для записи содержимого файлов, каталогов и других структур файловой системы. FAT представляет цепочку кластеров в виде однонаправленного списка индексов кластера. За исключением первых двух записей, каждая запись в файловой системе FAT представляет ровно один кластер.

<div id="table-11-file-allocation-table-structure" />

**Таблица 11. Структура таблицы размещения файлов**

<table>
<thead>
<tr class="header">
<th><strong>Имя поля</strong></th>
<th><p><strong>Offset</strong></p>
<p><strong>двухбайтовых</strong></p></th>
<th><p><strong>Размер</strong></p>
<p><strong>байт</strong></p></th>
<th><strong>Комментарии</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Фатентри [0]</td>
<td>0</td>
<td>4</td>
<td>Это поле является обязательным, а <a href="#412-fatentry1-field">раздел 4.1.2</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>Фатентри [1]</td>
<td>4</td>
<td>4</td>
<td>Это поле является обязательным, а <a href="#412-fatentry1-field">раздел 4.1.2</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>Фатентри [2]</td>
<td>8</td>
<td>4</td>
<td>Это поле является обязательным, а <a href="#413-fatentry2--fatentryclustercount1-fields">раздел 4.1.3</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td><p>.</p>
<p>.</p>
<p>.</p></td>
<td><p>.</p>
<p>.</p>
<p>.</p></td>
<td><p>.</p>
<p>.</p>
<p>.</p></td>
<td><p>.</p>
<p>.</p>
<p>.</p></td>
</tr>
<tr class="odd">
<td>Фатентри [Клустеркаунт + 1]</td>
<td>(Клустеркаунт + 1) * 4</td>
<td>4</td>
<td><p>Это поле является обязательным, а <a href="#413-fatentry2--fatentryclustercount1-fields">раздел 4.1.3</a> определяет его содержимое.</p>
<p>Клустеркаунт + 1 никогда не может превышать FFFFFFF6h.</p>
<p>Примечание. в основной и резервной загрузочных секторах содержится поле Клустеркаунт.</p></td>
</tr>
<tr class="even">
<td>ексцессспаце</td>
<td>(Клустеркаунт + 2) * 4</td>
<td>(Фатленгс * 2<sup>битесперсекторшифт</sup>) — ((клустеркаунт + 2) * 4)</td>
<td><p>Это поле является обязательным и его содержимое (если таковое имеется) не определено.</p>
<p>Примечание. в основной и резервной загрузочных секторах содержатся поля Клустеркаунт, Фатленгс и Битесперсекторшифт.</p></td>
</tr>
</tbody>
</table>

#### <a name="411-fatentry0-field"></a>поле 4.1.1 Фатентри \[ 0 \]

В \[ поле фатентри 0 \] должен быть указан тип носителя в первом байте (минимальный байт заказа), который должен содержать ФФХ в оставшихся трех байтах.

Тип носителя (первый байт) должен быть F8h.

#### <a name="412-fatentry1-field"></a>поле 4.1.2 Фатентри \[ 1 \]

Поле Фатентри \[ 1 \] существует только в соответствии с приоритетом с предысторией и не описывает что-то, что интересно.

Для этого поля допустимо значение Ффффффффх. Реализации должны инициализировать это поле до предписанного значения и не использовать это поле для любых целей. Реализации не должны интерпретировать это поле и сохранять его содержимое во всех операциях, изменяющих окружающие поля.

#### <a name="413-fatentry2--fatentryclustercount1-fields"></a>4.1.3 Фатентри \[ 2 \] ... Фатентри \[ клустеркаунт + 1 \] поля

Каждое поле Фатентри в этом массиве должно представлять кластер в куче кластера. Фатентри \[ 2 \] представляет первый кластер в куче кластера, а фатентри \[ клустеркаунт + 1 \] — последний кластер в куче кластера.

Диапазон допустимых значений для этих полей должен быть следующим:

- От 2 до Клустеркаунт + 1 включительно, что указывает на следующее Фатентри в данной цепочке кластеров; заданный Фатентри не должен указывать на любые Фатентри, которые предшествуют ему в данной цепочке кластеров.

- Точно FFFFFFF7h, помечающая соответствующий кластер Фатентри как "плохой"

- Точно Ффффффффх, который помечает соответствующий кластер Фатентри как последний кластер цепочки кластеров; Это единственное допустимое значение для последней Фатентри любой заданной цепочки кластеров

## <a name="5-data-region"></a>5 область данных

Область данных содержит кучу кластера, которая обеспечивает управляемое пространство для структур, каталогов и файлов файловой системы.

### <a name="51-cluster-heap-sub-region"></a>подобласть кучи кластера 5,1

Структура кучи кластера очень проста (см. [таблицу 12](#table-12-cluster-heap-structure)); Каждый последовательный ряд секторов описывает один кластер, как определено в поле Секторсперклустершифт. Что важнее, в первом кластере кучи кластера есть два индекса, которые непосредственно соответствуют индексу Фатентри \[ 2 \] .

В томе exFAT битовая карта выделения (см. [раздел 7.1.5](#715-allocation-bitmap)) поддерживает запись состояния выделения всех кластеров. Это существенное отличие от предшественников exFAT (FAT12, FAT16 и FAT32), в которых файловая система FAT поддерживает запись состояния выделения всех кластеров в куче кластера.

<div id="table-12-cluster-heap-structure" />

**Структура кучи кластера таблицы 12**

<table>
<thead>
<tr class="header">
<th><strong>Имя поля</strong></th>
<th><p><strong>Offset</strong></p>
<p><strong>поставлен</strong></p></th>
<th><p><strong>Размер</strong></p>
<p><strong>плотность</strong></p></th>
<th><strong>Комментарии</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Кластер [2]</td>
<td>клустерхеапоффсет</td>
<td>2<sup>секторсперклустершифт</sup></td>
<td><p>Это поле является обязательным, а <a href="#511-cluster2--clusterclustercount1-fields">раздел 5.1.1</a> определяет его содержимое.</p>
<p>Примечание. в основной и резервной загрузочных секторах содержатся поля Клустерхеапоффсет и Секторсперклустершифт.</p></td>
</tr>
<tr class="even">
<td><p>.</p>
<p>.</p>
<p>.</p></td>
<td><p>.</p>
<p>.</p>
<p>.</p></td>
<td><p>.</p>
<p>.</p>
<p>.</p></td>
<td><p>.</p>
<p>.</p>
<p>.</p></td>
</tr>
<tr class="odd">
<td>Кластер [Клустеркаунт + 1]</td>
<td>Клустерхеапоффсет + (Клустеркаунт – 1) * 2<sup>секторсперклустершифт</sup></td>
<td>2<sup>секторсперклустершифт</sup></td>
<td><p>Это поле является обязательным, а <a href="#511-cluster2--clusterclustercount1-fields">раздел 5.1.1</a> определяет его содержимое.</p>
<p>Примечание. в основной и резервной загрузочных секторах содержатся поля Клустеркаунт, Клустерхеапоффсет и Секторсперклустершифт.</p></td>
</tr>
</tbody>
</table>

#### <a name="511-cluster2--clusterclustercount1-fields"></a>5.1.1 кластер \[ 2 \] ... Cluster \[ клустеркаунт + 1 \] Fields

Каждое поле кластера в этом массиве представляет собой последовательность смежных секторов, размер которых определяется полем Секторсперклустершифт.

## <a name="6-directory-structure"></a>6 Структура каталогов

В файловой системе exFAT используется подход дерева каталогов для управления структурами файловой системы и файлами, которые существуют в куче кластера. Каталоги имеют связь «один ко многим» между родительским и дочерним элементами дерева каталогов.

Каталог, на который ссылается поле Фирстклустерофрутдиректори, является корнем дерева каталогов. Все остальные каталоги в порядке убывания из корневого каталога.

Каждый каталог состоит из ряда записей каталога (см. [табл. 13](#table-13-directory-structure)).

Одна или несколько записей каталога объединяются в набор записей каталога, который описывает интересующий вас объект, например структуру файловой системы, вложенный каталог или файл.

<div id="table-13-directory-structure" />

**Таблица 13. Структура каталогов**

<table>
<thead>
<tr class="header">
<th><strong>Имя поля</strong></th>
<th><p><strong>Offset</strong></p>
<p><strong>двухбайтовых</strong></p></th>
<th><p><strong>Размер</strong></p>
<p><strong>двухбайтовых</strong></p></th>
<th><strong>Комментарии</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>DirectoryEntry [0]</td>
<td>0</td>
<td>32</td>
<td>Это поле является обязательным, а <a href="#61-directoryentry0--directoryentryn--1">раздел 6,1</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td><p>.</p>
<p>.</p>
<p>.</p></td>
<td><p>.</p>
<p>.</p>
<p>.</p></td>
<td><p>.</p>
<p>.</p>
<p>.</p></td>
<td><p>.</p>
<p>.</p>
<p>.</p></td>
</tr>
<tr class="odd">
<td>DirectoryEntry [N – 1]</td>
<td>(N – 1) * 32</td>
<td>32</td>
<td><p>Это поле является обязательным, а <a href="#61-directoryentry0--directoryentryn--1">раздел 6,1</a> определяет его содержимое.</p>
<p>N, количество полей DirectoryEntry, — это размер (в байтах) цепочки кластеров, которая содержит заданный каталог, деленная на размер поля DirectoryEntry 32 байт.</p></td>
</tr>
</tbody>
</table>

### <a name="61-directoryentry0--directoryentryn--1"></a>6,1 DirectoryEntry \[ 0 \] ... DirectoryEntry \[ N--1\]

Каждое поле DirectoryEntry в этом массиве является производным от универсального шаблона DirectoryEntry (см. [раздел 6,2](#62-generic-directoryentry-template)).

### <a name="62-generic-directoryentry-template"></a>6,2 универсальный шаблон DirectoryEntry

Универсальный шаблон DirectoryEntry предоставляет базовое определение для записей каталога (см. [таблицу 14](#table-14-generic-directoryentry-template)). Все структуры записи каталога являются производными от этого шаблона, и только структуры записи каталога, определенные корпорацией Майкрософт, являются допустимыми (exFAT не имеет подположений для определенных производителем структур записи каталога, за исключением случаев, определенных в [разделе 7,8](#78-vendor-extension-directory-entry) и [разделе 7,9](#79-vendor-allocation-directory-entry)). Возможность интерпретировать универсальный шаблон DirectoryEntry является обязательной.

<div id="table-14-generic-directoryentry-template" />

**Таблица 14 универсальный шаблон DirectoryEntry**

<table>
<thead>
<tr class="header">
<th><strong>Имя поля</strong></th>
<th><p><strong>Offset</strong></p>
<p><strong>двухбайтовых</strong></p></th>
<th><p><strong>Размер</strong></p>
<p><strong>двухбайтовых</strong></p></th>
<th><strong>Комментарии</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>EntryType</td>
<td>0</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#621-entrytype-field">раздел 6.2.1</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>кустомдефинед</td>
<td>1</td>
<td>19</td>
<td>Это поле является обязательным, и структуры, производные от этого шаблона, могут определять его содержимое.</td>
</tr>
<tr class="odd">
<td>фирстклустер</td>
<td>20</td>
<td>4</td>
<td>Это поле является обязательным, а <a href="#622-firstcluster-field">раздел 6.2.2</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>DataLength</td>
<td>24</td>
<td>8</td>
<td>Это поле является обязательным, а <a href="#623-datalength-field">раздел 6.2.3</a> определяет его содержимое.</td>
</tr>
</tbody>
</table>

#### <a name="621-entrytype-field"></a>Поле 6.2.1 EntryType

Поле EntryType имеет три режима использования, которые определяет значение поля (см. список ниже).

- 17:00, который является маркером конца каталога и относится к следующим условиям.

  - Все остальные поля в данной DirectoryEntry на самом деле зарезервированы

  - Все последующие записи каталога в указанном каталоге также являются маркерами конца каталога

  - Маркеры конца каталога допустимы только вне набора записей каталога

  - При необходимости реализации могут перезаписывать маркеры конца каталога

- Между 01H и 7Fh включительно, который является маркером неиспользуемой записи и имеет следующие условия:

  - Все остальные поля в заданном DirectoryEntry на самом деле не определены

  - Неиспользуемые записи каталога допустимы только за пределами наборов записей каталога

  - Реализации могут перезаписывать неиспользуемые записи каталога по мере необходимости

  - Этот диапазон значений соответствует полю InUse (см. [раздел 6.2.1.4](#6214-inuse-field)), содержащему значение 0.

- Между 81h и ФФХ включительно, что является обычной записью каталога и применимы следующие условия:

  - Содержимое поля EntryType (см. [таблицу 15](#table-15-generic-entrytype-field-structure)) определяет макет оставшейся части структуры DirectoryEntry

  - Этот диапазон значений и только этот диапазон значений являются допустимыми в наборе записей каталога.

  - Этот диапазон значений непосредственно соответствует полю InUse (см. [раздел 6.2.1.4](#6214-inuse-field)), содержащему значение 1

Чтобы предотвратить изменения в поле InUse (см. [раздел 6.2.1.4](#6214-inuse-field)), ошибочно приводящие к маркеру конца каталога, значение 80h недопустимо.

<div id="table-15-generic-entrytype-field-structure" />

**Таблица 15 Универсальная структура поля EntryType**

<table>
<thead>
<tr class="header">
<th><strong>Имя поля</strong></th>
<th><p><strong>Offset</strong></p>
<p><strong>версий</strong></p></th>
<th><p><strong>Размер</strong></p>
<p><strong>числа</strong></p></th>
<th><strong>Комментарии</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Код типа</td>
<td>0</td>
<td>5</td>
<td>Это поле является обязательным, а <a href="#6211-typecode-field">раздел 6.2.1.1</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>типеимпортанце</td>
<td>5</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#6212-typeimportance-field">раздел раздела 6.2.1.2</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>типекатегори</td>
<td>6</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#6213-typecategory-field">раздел 6.2.1.3</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>InUse</td>
<td>7</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#6214-inuse-field">раздел 6.2.1.4</a> определяет его содержимое.</td>
</tr>
</tbody>
</table>

##### <a name="6211-typecode-field"></a>Поле TypeCode 6.2.1.1

Поле TypeCode частично описывает конкретный тип заданной записи каталога. Это поле, а также поля Типеимпортанце и Типекатегори (см. [раздел 6.2.1.2](#6212-typeimportance-field) and [Section 6.2.1.3](#6213-typecategory-field)соответственно) уникально идентифицируют тип данной записи каталога.

Все возможные значения этого поля допустимы, если оба поля Типеимпортанце и Типекатегори не содержат значение 0; в этом случае значение 0 недопустимо для этого поля.

##### <a name="6212-typeimportance-field"></a>Поле 6.2.1.2 Типеимпортанце

Поле Типеимпортанце должно описывать важность данной записи каталога.

Допустимые значения для этого поля:

- 0, что означает, что заданная запись каталога является критической (см. [раздел 6.3.1.2.1](#63121-critical-primary-directory-entries) и [раздел 6.4.1.2.1](#64121-critical-secondary-directory-entries) для критических первичных и критических записей вторичного каталога соответственно).

- 1, что означает, что данная запись каталога является критической (см. [раздел 6.3.1.2.2](#63122-benign-primary-directory-entries) и [раздел 6.4.1.2.2](#64122-benign-secondary-directory-entries) для неблагоприятных основных и неблагоприятных записей вторичного каталога соответственно).

##### <a name="6213-typecategory-field"></a>Поле 6.2.1.3 Типекатегори

Поле Типекатегори должно описывать категорию заданной записи каталога.

Допустимые значения для этого поля:

- 0, что означает, что данная запись каталога является первичной (см. [раздел 6,3](#63-generic-primary-directoryentry-template)).

- 1, что означает, что данная запись каталога является вторичной (см. [раздел 6,4](#64-generic-secondary-directoryentry-template)).

##### <a name="6214-inuse-field"></a>Поле InUse 6.2.1.4

Поле InUse должно описывать, используется ли данная запись каталога.

Допустимые значения для этого поля:

- 0, что означает, что данная запись каталога не используется; Это означает, что данная структура на самом деле является неиспользуемой записью каталога

- 1, что означает, что данная запись каталога используется; Это означает, что данная структура является обычной записью каталога

#### <a name="622-firstcluster-field"></a>Поле 6.2.2 Фирстклустер

Поле Фирстклустер должно содержать индекс первого кластера размещения в куче кластера, связанной с заданной записью каталога.

Допустимый диапазон значений для этого поля:

- Точно 0. Это означает, что распределение кластеров не существует

- Между 2 и Клустеркаунт + 1, который является диапазоном допустимых индексов кластера.

Структуры, производные от этого шаблона, могут переопределять поля Фирстклустер и DATALENGTH, если выделение кластера несовместимо с производной структурой.

#### <a name="623-datalength-field"></a>Поле 6.2.3 DATALENGTH

Поле DATALENGTH описывает размер данных в байтах, содержащихся в связанном распределении кластера.

Допустимый диапазон значений для этого поля:

- Не менее 0; Если поле Фирстклустер содержит значение 0, единственное допустимое значение этого поля — 0.

- Не более Клустеркаунт \* 2<sup>секторсперклустершифт</sup> \* 2<sup>битесперсекторшифт</sup>

Структуры, производные от этого шаблона, могут переопределять поля Фирстклустер и DATALENGTH, если распределение кластеров невозможно для производной структуры.

### <a name="63-generic-primary-directoryentry-template"></a>6,3 универсальный шаблон основной DirectoryEntry

Первая запись каталога в наборе записей каталога должна быть записью основного каталога. Все последующие записи каталога (если они есть) в наборе записей каталога должны быть записями вторичного каталога (см. [раздел 6,4](#64-generic-secondary-directoryentry-template)).

Возможность интерпретировать универсальный основной шаблон DirectoryEntry является обязательной.

Все структуры записи первичного каталога являются производными от универсального основного шаблона DirectoryEntry (см. [таблицу 16](#table-16-generic-primary-directoryentry-template)), который является производным от универсального шаблона DirectoryEntry (см. [раздел 6,2](#62-generic-directoryentry-template)).

<div id="table-16-generic-primary-directoryentry-template" />

**Таблица 16 универсальный основной шаблон DirectoryEntry**

<table>
<thead>
<tr class="header">
<th><strong>Имя поля</strong></th>
<th><p><strong>Offset</strong></p>
<p><strong>двухбайтовых</strong></p></th>
<th><p><strong>Размер</strong></p>
<p><strong>двухбайтовых</strong></p></th>
<th><strong>Комментарии</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>EntryType</td>
<td>0</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#631-entrytype-field">раздел 6.3.1</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>секондарикаунт</td>
<td>1</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#632-secondarycount-field">раздел 6.3.2</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>SetChecksum</td>
<td>2</td>
<td>2</td>
<td>Это поле является обязательным, а <a href="#633-setchecksum-field">раздел 6.3.3</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>женералпримарифлагс</td>
<td>4</td>
<td>2</td>
<td>Это поле является обязательным, а <a href="#634-generalprimaryflags-field">раздел 6.3.4</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>кустомдефинед</td>
<td>6</td>
<td>14</td>
<td>Это поле является обязательным, и структуры, производные от этого шаблона, определяют его содержимое.</td>
</tr>
<tr class="even">
<td>фирстклустер</td>
<td>20</td>
<td>4</td>
<td>Это поле является обязательным, а <a href="#635-firstcluster-field">раздел 6.3.5</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>DataLength</td>
<td>24</td>
<td>8</td>
<td>Это поле является обязательным, а <a href="#636-datalength-field">раздел 6.3.6</a> определяет его содержимое.</td>
</tr>
</tbody>
</table>

#### <a name="631-entrytype-field"></a>Поле 6.3.1 EntryType

Поле EntryType должно соответствовать определению, указанному в универсальном шаблоне DirectoryEntry (см. [раздел 6.2.1](#621-entrytype-field)).

##### <a name="6311-typecode-field"></a>Поле TypeCode 6.3.1.1

Поле TypeCode должно соответствовать определению, указанному в универсальном шаблоне DirectoryEntry (см. [раздел 6.2.1.1](#6211-typecode-field)).

##### <a name="6312-typeimportance-field"></a>Поле 6.3.1.2 Типеимпортанце

Поле Типеимпортанце должно соответствовать определению, указанному в универсальном шаблоне DirectoryEntry (см. [раздел 6.2.1.2](#6212-typeimportance-field)).

###### <a name="63121-critical-primary-directory-entries"></a>Записи критического первичного каталога 6.3.1.2.1

Критические записи первичного каталога содержат сведения, которые важны для правильного управления томом exFAT. Только корневой каталог содержит критически важные записи первичного каталога (это исключение см. в [разделе 7,4](#74-file-directory-entry)).

Определение критических записей первичного каталога соответствует основному номеру редакции exFAT. Реализации должны поддерживать все важные записи первичного каталога и записывать только критически важные структуры входа первичного каталога, определяемые спецификацией.

###### <a name="63122-benign-primary-directory-entries"></a>Записи 6.3.1.2.2 неблагоприятных первичных каталогов

Небезопасные записи основного каталога содержат дополнительные сведения, которые могут быть полезны для управления томом exFAT. Любой каталог может содержать небезопасные записи первичного каталога.

Определение немягких записей первичного каталога соотносится с номером дополнительной редакции exFAT. Поддержка любой некритической записи первичного каталога, заданной спецификацией, или любой последующей спецификации, определяется необязательно. Нераспознанная Неизвестная запись первичного каталога визуализирует весь набор записей каталога как нераспознанный (за пределами определения соответствующих шаблонов записи каталога).

##### <a name="6313-typecategory-field"></a>Поле 6.3.1.3 Типекатегори

Поле Типекатегори должно соответствовать определению, указанному в универсальном шаблоне DirectoryEntry (см. [раздел 6.2.1.3](#6213-typecategory-field)).

Для этого шаблона допустимое значение для этого поля должно быть равно 0.

##### <a name="6314-inuse-field"></a>Поле InUse 6.3.1.4

Поле InUse должно соответствовать определению, указанному в универсальном шаблоне DirectoryEntry (см. [раздел 6.2.1.4](#6214-inuse-field)).

#### <a name="632-secondarycount-field"></a>Поле 6.3.2 Секондарикаунт

Поле Секондарикаунт должно описывать количество записей вторичного каталога, которые сразу следуют за заданной записью основного каталога. Эти записи вторичного каталога вместе с заданной записью основного каталога составляют набор записей каталога.

Допустимый диапазон значений для этого поля:

- По крайней мере 0 — Эта запись первичного каталога является единственной записью в наборе записей каталога

- Не более 255. Это означает, что следующие 255 записей каталогов и эта запись первичного каталога составляют набор записей каталога.

Критические структуры записи первичного каталога, производные от этого шаблона, могут переопределять поля Секондарикаунт и Сетчекксум.

#### <a name="633-setchecksum-field"></a>Поле 6.3.3 Сетчекксум

Поле Сетчекксум должно содержать контрольную сумму всех записей каталога в заданном наборе записей каталога. Однако контрольная сумма исключает это поле (см. [рис. 2](#figure-2-entrysetchecksum-computation)). Реализации должны проверить допустимость содержимого этого поля до использования любой другой записи каталога в заданном наборе записей каталога.

Критические структуры записи первичного каталога, производные от этого шаблона, могут переопределять поля Секондарикаунт и Сетчекксум.

<div id="figure-2-entrysetchecksum-computation" />

**Рис. 2. Вычисление Ентрисетчекксум**

```C
UInt16 EntrySetChecksum
(
    UCHAR * Entries,       // points to an in-memory copy of the directory entry set
    UCHAR   SecondaryCount
)
{
    UInt16 NumberOfBytes = ((UInt16)SecondaryCount + 1) * 32;
    UInt16 Checksum = 0;
    UInt16 Index;

    for (Index = 0; Index < NumberOfBytes; Index++)
    {
        if ((Index == 2) || (Index == 3))
        {
            continue;
        }
        Checksum = ((Checksum&1) ? 0x8000 : 0) + (Checksum>>1) +  (UInt16)Entries[Index];
    }
    return Checksum;
}
```

#### <a name="634-generalprimaryflags-field"></a>Поле 6.3.4 Женералпримарифлагс

Поле Женералпримарифлагс содержит флаги (см. [таблицу 17](#table-17-generic-generalprimaryflags-field-structure)).

Основные структуры записи первичного каталога, производные от этого шаблона, могут переопределить это поле.

<div id="table-17-generic-generalprimaryflags-field-structure" />

**Таблица 17 Универсальная структура поля Женералпримарифлагс**

<table>
<thead>
<tr class="header">
<th><strong>Имя поля</strong></th>
<th><p><strong>Offset</strong></p>
<p><strong>версий</strong></p></th>
<th><p><strong>Размер</strong></p>
<p><strong>числа</strong></p></th>
<th><strong>Комментарии</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>аллокатионпоссибле</td>
<td>0</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#6341-allocationpossible-field">раздел 6.3.4.1</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>нофатчаин</td>
<td>1</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#6342-nofatchain-field">раздел 6.3.4.2</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>кустомдефинед</td>
<td>2</td>
<td>14</td>
<td>Это поле является обязательным, и структуры, производные от этого шаблона, могут определить это поле.</td>
</tr>
</tbody>
</table>

##### <a name="6341-allocationpossible-field"></a>Поле 6.3.4.1 Аллокатионпоссибле

Поле Аллокатионпоссибле описывает, возможно ли для данной записи каталога выделение памяти в куче кластера.

Допустимые значения для этого поля:

- 0 — это означает, что связанное выделение кластеров невозможно, а поля Фирстклустер и DATALENGTH фактически не определены (структуры, производные от этого шаблона, могут переопределять эти поля).

- 1, это означает, что возможно связанное выделение кластеров, а поля Фирстклустер и DATALENGTH определены как определенные.

##### <a name="6342-nofatchain-field"></a>Поле 6.3.4.2 Нофатчаин

Поле Нофатчаин должно указывать, описывает ли активная система FAT цепочку кластеров данного выделения.

Допустимые значения для этого поля:

- 0 — это означает, что соответствующие записи в файловой системе FAT для цепочки кластеров выделения действительны, и реализации должны их интерпретировать. Если поле Аллокатионпоссибле содержит значение 0 или если поле Аллокатионпоссибле содержит значение 1, а поле Фирстклустер содержит значение 0, то это поле действительно только значение 0.

- 1, то есть связанное выделение — это один непрерывный ряд кластеров; соответствующие записи FAT для кластеров недопустимы, и реализации не должны их интерпретировать. реализации могут использовать следующее уравнение для вычисления размера связанного выделения: DATALENGTH/(2<sup>секторсперклустершифт</sup> \* 2<sup>битесперсекторшифт</sup>), округленное до ближайшего целого числа

Если важные структуры записи первичного каталога, производные от этого шаблона, переопределяют поле Женералпримарифлагс, то соответствующие записи FAT для цепочки кластеров связанного выделения являются допустимыми.

#### <a name="635-firstcluster-field"></a>Поле 6.3.5 Фирстклустер

Поле Фирстклустер должно соответствовать определению, указанному в универсальном шаблоне DirectoryEntry (см. [раздел 6.2.2](#622-firstcluster-field)).

Если бит Нофатчаин равен 1, Фирстклустер должен указывать на допустимый кластер в куче кластера.

Критические структуры записи первичного каталога, производные от этого шаблона, могут переопределять поля Фирстклустер и DATALENGTH. Другие структуры, производные от этого шаблона, могут переопределять поля Фирстклустер и DATALENGTH только в том случае, если поле Аллокатионпоссибле содержит значение 0.

#### <a name="636-datalength-field"></a>Поле 6.3.6 DATALENGTH

Поле DATALENGTH должно соответствовать определению, указанному в универсальном шаблоне DirectoryEntry (см. [раздел 6.2.3](#623-datalength-field)).

Если бит Нофатчаин равен 1, то длина не должна равняться нулю. Если поле Фирстклустер равно нулю, то параметр DATALENGTH также должен быть равен нулю.

Критические структуры записи первичного каталога, производные от этого шаблона, могут переопределять поля Фирстклустер и DATALENGTH. Другие структуры, производные от этого шаблона, могут переопределять поля Фирстклустер и DATALENGTH только в том случае, если поле Аллокатионпоссибле содержит значение 0.

### <a name="64-generic-secondary-directoryentry-template"></a>6,4 шаблон общего вторичного DirectoryEntry

Основное назначение записей вторичного каталога заключается в предоставлении дополнительных сведений о наборе записей каталога. Возможность интерпретировать универсальный вторичный шаблон DirectoryEntry является обязательной.

Определение критически важных и безопасных записей вторичного каталога соответствует дополнительному номеру редакции exFAT. Поддержка любых критических или неблагоприятных вторичных записей каталога. Эта спецификация или последующие спецификации определяются необязательно.

Все структуры записи вторичного каталога являются производными от универсального вторичного шаблона DirectoryEntry (см. [таблицу 18](#table-18-generic-secondary-directoryentry-template)), который является производным от универсального шаблона DirectoryEntry (см. [раздел 6,2](#62-generic-directoryentry-template)).

<div id="table-18-generic-secondary-directoryentry-template" />

**Таблица 18. универсальный шаблон вспомогательной DirectoryEntry**

<table>
<thead>
<tr class="header">
<th><strong>Имя поля</strong></th>
<th><p><strong>Offset</strong></p>
<p><strong>двухбайтовых</strong></p></th>
<th><p><strong>Размер</strong></p>
<p><strong>двухбайтовых</strong></p></th>
<th><strong>Комментарии</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>EntryType</td>
<td>0</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#641-entrytype-field">раздел раздела 6.4.1</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>женералсекондарифлагс</td>
<td>1</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#642-generalsecondaryflags-field">раздел 6.4.2</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>кустомдефинед</td>
<td>2</td>
<td>18</td>
<td>Это поле является обязательным, и структуры, производные от этого шаблона, определяют его содержимое.</td>
</tr>
<tr class="even">
<td>фирстклустер</td>
<td>20</td>
<td>4</td>
<td>Это поле является обязательным, а <a href="#643-firstcluster-field">раздел 6.4.3</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>DataLength</td>
<td>24</td>
<td>8</td>
<td>Это поле является обязательным, а <a href="#644-datalength-field">раздел 6.4.4</a> определяет его содержимое.</td>
</tr>
</tbody>
</table>

#### <a name="641-entrytype-field"></a>6.4.1 поле EntryType

Поле EntryType должно соответствовать определению, указанному в универсальном шаблоне DirectoryEntry (см. [раздел 6.2.1](#621-entrytype-field)).

##### <a name="6411-typecode-field"></a>Поле TypeCode 6.4.1.1

Поле TypeCode должно соответствовать определению, указанному в универсальном шаблоне DirectoryEntry (см. [раздел 6.2.1.1](#6211-typecode-field)).

##### <a name="6412-typeimportance-field"></a>Поле 6.4.1.2 Типеимпортанце

Поле Типеимпортанце должно соответствовать определению, указанному в универсальном шаблоне DirectoryEntry (см. [раздел 6.2.1.2](#6212-typeimportance-field)).

###### <a name="64121-critical-secondary-directory-entries"></a>6.4.1.2.1 критические записи вторичного каталога

Критические записи вторичного каталога содержат сведения, которые важны для правильного управления содержащим его набором записей каталога.
Хотя поддержка какой-либо конкретной критической записи вторичного каталога необязательна, неизвестная критическая запись каталога визуализирует весь набор записей каталога как нераспознанный (помимо определения применимых шаблонов записи каталога).

Однако если набор записей каталога содержит по крайней мере одну критическую запись вторичного каталога, которая не распознается реализацией, то реализация должна в большей мере интерпретировать шаблоны записей каталога в наборе записей каталога, а не данные, связанные с любой записью каталога в наборе записей каталога (это исключение см. в [разделе 7,4](#74-file-directory-entry)).

###### <a name="64122-benign-secondary-directory-entries"></a>Записи 6.4.1.2.2 некритического вторичного каталога

Небезопасные записи вторичного каталога содержат дополнительные сведения, которые могут быть полезны для управления содержащимся в нем набором записей каталога. Поддержка любой конкретной записи дополнительного вторичного каталога необязательна.
Нераспознанные небезопасные записи вторичного каталога не отображают весь набор записей каталога как нераспознанный.

Реализации могут игнорировать любую неопасную вторичную запись, которая не распознается.

##### <a name="6413-typecategory-field"></a>Поле 6.4.1.3 Типекатегори

Поле Типекатегори должно соответствовать определению, указанному в универсальном шаблоне DirectoryEntry (см. [раздел 6.2.1.3](#6213-typecategory-field)).

Для этого шаблона допустимым значением для этого поля является 1.

##### <a name="6414-inuse-field"></a>Поле InUse 6.4.1.4

Поле InUse должно соответствовать определению, указанному в универсальном шаблоне DirectoryEntry (см. [раздел 6.2.1.4](#6214-inuse-field)).

#### <a name="642-generalsecondaryflags-field"></a>Поле 6.4.2 Женералсекондарифлагс

Поле Женералсекондарифлагс содержит флаги (см. [табл. 19](#table-19-generic-generalsecondaryflags-field-structure)).

<div id="table-19-generic-generalsecondaryflags-field-structure" />

**Таблица 19. Общая структура поля Женералсекондарифлагс**

<table>
<thead>
<tr class="header">
<th><strong>Имя поля</strong></th>
<th><p><strong>Offset</strong></p>
<p><strong>версий</strong></p></th>
<th><p><strong>Размер</strong></p>
<p><strong>числа</strong></p></th>
<th><strong>Комментарии</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>аллокатионпоссибле</td>
<td>0</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#6421-allocationpossible-field">раздел 6.4.2.1</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>нофатчаин</td>
<td>1</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#6422-nofatchain-field">раздел 6.4.2.2</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>кустомдефинед</td>
<td>2</td>
<td>6</td>
<td>Это поле является обязательным, и структуры, производные от этого шаблона, могут определить это поле.</td>
</tr>
</tbody>
</table>

##### <a name="6421-allocationpossible-field"></a>Поле 6.4.2.1 Аллокатионпоссибле

Поле Аллокатионпоссибле должно иметь такое же определение, как и поле с тем же именем в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.4.1](#6341-allocationpossible-field)).

##### <a name="6422-nofatchain-field"></a>Поле 6.4.2.2 Нофатчаин

Поле Нофатчаин должно иметь такое же определение, как и поле с тем же именем в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.4.2](#6342-nofatchain-field)).

#### <a name="643-firstcluster-field"></a>Поле 6.4.3 Фирстклустер

Поле Фирстклустер должно соответствовать определению, указанному в универсальном шаблоне DirectoryEntry (см. [раздел 6.2.2](#622-firstcluster-field)).

Если бит Нофатчаин равен 1, Фирстклустер должен указывать на допустимый кластер в куче кластера.

#### <a name="644-datalength-field"></a>Поле 6.4.4 DATALENGTH

Поле DATALENGTH должно соответствовать определению, указанному в универсальном шаблоне DirectoryEntry (см. [раздел 6.2.3](#623-datalength-field)).

Если бит Нофатчаин равен 1, то длина не должна равняться нулю. Если поле Фирстклустер равно нулю, то параметр DATALENGTH также должен быть равен нулю.

## <a name="7-directory-entry-definitions"></a>7 определений записей каталога

Редакция 1,00 файловой системы exFAT определяет следующие записи каталога:

- Критическая первичная

  - Битовая карта выделения ([раздел 7,1](#71-allocation-bitmap-directory-entry))

  - Таблица вариантов вверх ([раздел 7,2](#72-up-case-table-directory-entry))

  - Метка тома ([раздел 7,3](#73-volume-label-directory-entry))

  - Файл ([раздел 7,4](#74-file-directory-entry))

- Мягкое основное

  - GUID тома ([раздел 7,5](#75-volume-guid-directory-entry))

  - Заполнение Тексфат ([раздел 7,10](#710-texfat-padding-directory-entry))

<!-- -->

- Критическая вторичная

  - Расширение Stream ([раздел 7,6](#76-stream-extension-directory-entry))

  - Имя файла ([раздел 7,7](#77-file-name-directory-entry))

- Некритическое вторичное

  - Расширение поставщика ([раздел 7,8](#78-vendor-extension-directory-entry))

  - Распределение поставщиков ([раздел 7,9](#79-vendor-allocation-directory-entry))

### <a name="71-allocation-bitmap-directory-entry"></a>7,1 запись каталога битовой карты выделения

В файловой системе exFAT FAT не описывает состояние выделения кластеров. Вместо этого точечный рисунок размещения выполняет. В куче кластера существуют точечные рисунки размещения (см. [раздел 7.1.5](#715-allocation-bitmap)) и имеются соответствующие важные записи первичного каталога в корневом каталоге (см. [таблицу 20](#table-20-allocation-bitmap-directoryentry-structure)).

Поле Нумбероффатс определяет количество допустимых записей каталога битовой карты размещения в корневом каталоге. Если поле Нумбероффатс содержит значение 1, то единственным допустимым числом записей каталога битовой карты выделения будет 1. Кроме того, запись каталога точечных рисунков с одним размещением допустима только в том случае, если она описывает первое битовое изображение выделения (см. [раздел 7.1.2.1](#7121-bitmapidentifier-field)). Если поле Нумбероффатс содержит значение 2, то единственным допустимым числом записей каталога битовой карты размещения является 2.
Кроме того, две записи каталога битовой карты размещения допустимы только в том случае, если один из них описывает первый точечный рисунок размещения, а другой — второй точечный рисунок выделения.

<div id="table-20-allocation-bitmap-directoryentry-structure" />

**Таблица 20 точечная карта размещения, структура DirectoryEntry**

<table>
<thead>
<tr class="header">
<th><strong>Имя поля</strong></th>
<th><p><strong>Offset</strong></p>
<p><strong>двухбайтовых</strong></p></th>
<th><p><strong>Размер</strong></p>
<p><strong>двухбайтовых</strong></p></th>
<th><strong>Комментарии</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>EntryType</td>
<td>0</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#711-entrytype-field">раздел 7.1.1</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>битмапфлагс</td>
<td>1</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#712-bitmapflags-field">раздел 7.1.2</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>Зарезервировано</td>
<td>2</td>
<td>18</td>
<td>Это поле является обязательным и его содержимое зарезервировано.</td>
</tr>
<tr class="even">
<td>фирстклустер</td>
<td>20</td>
<td>4</td>
<td>Это поле является обязательным, а <a href="#713-firstcluster-field">раздел 7.1.3</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>DataLength</td>
<td>24</td>
<td>8</td>
<td>Это поле является обязательным, а <a href="#714-datalength-field">раздел 7.1.4</a> определяет его содержимое.</td>
</tr>
</tbody>
</table>

#### <a name="711-entrytype-field"></a>Поле 7.1.1 EntryType

Поле EntryType должно соответствовать определению, указанному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.1](#631-entrytype-field)).

##### <a name="7111-typecode-field"></a>Поле TypeCode 7.1.1.1

Поле TypeCode должно соответствовать определению, предоставленному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.1.1](#6311-typecode-field)).

Для записи каталога битовой карты размещения допустимое значение для этого поля равно 1.

##### <a name="7112-typeimportance-field"></a>Поле 7.1.1.2 Типеимпортанце

Поле Типеимпортанце должно соответствовать определению, указанному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.1.2](#6312-typeimportance-field)).

Для записи каталога битовой карты размещения допустимое значение для этого поля равно 0.

##### <a name="7113-typecategory-field"></a>Поле 7.1.1.3 Типекатегори

Поле Типекатегори должно соответствовать определению, указанному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.1.3](#6313-typecategory-field)).

##### <a name="7114-inuse-field"></a>Поле InUse 7.1.1.4

Поле InUse должно соответствовать определению, предоставленному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.1.4](#6314-inuse-field)).

#### <a name="712-bitmapflags-field"></a>Поле 7.1.2 Битмапфлагс

Поле Битмапфлагс содержит флаги (см. [таблицу 21](#table-21-bitmapflags-field-structure)).

<div id="table-21-bitmapflags-field-structure" />

**Таблица 21 Битмапфлагс структура поля**

<table>
<thead>
<tr class="header">
<th><strong>Имя поля</strong></th>
<th><p><strong>Offset</strong></p>
<p><strong>версий</strong></p></th>
<th><p><strong>Размер</strong></p>
<p><strong>числа</strong></p></th>
<th><strong>Комментарии</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>битмапидентифиер</td>
<td>0</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#7121-bitmapidentifier-field">раздел 7.1.2.1</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>Зарезервировано</td>
<td>1</td>
<td>7</td>
<td>Это поле является обязательным и его содержимое зарезервировано.</td>
</tr>
</tbody>
</table>

##### <a name="7121-bitmapidentifier-field"></a>Поле 7.1.2.1 Битмапидентифиер

В поле Битмапидентифиер должно быть указано, какие битовые карты выделения будут описаны в данной записи каталога. Реализации должны использовать первое битовое изображение выделения в сочетании с первой файловой системой FAT и использовать второй точечный рисунок в сочетании со вторым блоком FAT. Поле Активефат описывает, какие ресурсы FAT и точечный рисунок будут активны.

Допустимые значения для этого поля:

- 0, что означает, что данная запись каталога описывает первый точечный рисунок выделения.

- 1, что означает, что данная запись каталога описывает второй точечный рисунок размещения и может быть доступна, только если Нумбероффатс содержит значение 2

#### <a name="713-firstcluster-field"></a>Поле 7.1.3 Фирстклустер

Поле Фирстклустер должно соответствовать определению, указанному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.5](#635-firstcluster-field)).

Это поле содержит индекс первого кластера цепочки кластеров, как описано в разделе FAT, где размещается точечный рисунок выделения.

#### <a name="714-datalength-field"></a>Поле 7.1.4 DATALENGTH

Поле "Cluster" (кластер данных) должно соответствовать определению, указанному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.6](#636-datalength-field)).

#### <a name="715-allocation-bitmap"></a>Точечный рисунок выделения 7.1.5

Точечный рисунок размещения записывает состояние выделения кластеров в куче кластера. Каждый бит в битовой карте выделения указывает, доступен ли соответствующий кластер для выделения.

Точечный рисунок размещения представляет кластеры от нижнего до высшего индекса (см. [таблицу 22](#table-22-allocation-bitmap-structure)). По историческим причинам первый кластер имеет индекс 2.
Примечание. первый бит точечного рисунка — это бит наименьшего порядка первого байта.

<div id="table-22-allocation-bitmap-structure" />

**Таблица 22. Структура битовой карты выделения**

<table>
<thead>
<tr class="header">
<th><strong>Имя поля</strong></th>
<th><p><strong>Offset</strong></p>
<p><strong>версий</strong></p></th>
<th><p><strong>Размер</strong></p>
<p><strong>числа</strong></p></th>
<th><strong>Комментарии</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Битмапентри [2]</td>
<td>0</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#7151-bitmapentry2--bitmapentryclustercount1-fields">раздел раздела 7.1.5.1</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td><p>.</p>
<p>.</p>
<p>.</p></td>
<td><p>.</p>
<p>.</p>
<p>.</p></td>
<td><p>.</p>
<p>.</p>
<p>.</p></td>
<td><p>.</p>
<p>.</p>
<p>.</p></td>
</tr>
<tr class="odd">
<td>Битмапентри [Клустеркаунт + 1]</td>
<td>Клустеркаунт-1</td>
<td>1</td>
<td><p>Это поле является обязательным, а <a href="#7151-bitmapentry2--bitmapentryclustercount1-fields">раздел 7.1.5.1</a> определяет его содержимое.</p>
<p>Примечание. в основной и резервной загрузочных секторах содержится поле Клустеркаунт.</p></td>
</tr>
<tr class="even">
<td>Зарезервировано</td>
<td>клустеркаунт</td>
<td>(DATALENGTH * 8) — Клустеркаунт</td>
<td><p>Это поле является обязательным и его содержимое зарезервировано.</p>
<p>Примечание. в основной и резервной загрузочных секторах содержится поле Клустеркаунт.</p></td>
</tr>
</tbody>
</table>

##### <a name="7151-bitmapentry2--bitmapentryclustercount1-fields"></a>7.1.5.1 Битмапентри \[ 2 \] ... Битмапентри \[ клустеркаунт + 1 \] поля

Каждое поле Битмапентри в этом массиве представляет кластер в куче кластера. Битмапентри \[ 2 \] представляет первый кластер в куче кластера, а битмапентри \[ клустеркаунт + 1 \] — последний кластер в куче кластера.

Допустимые значения для этих полей:

- 0, которое описывает соответствующий кластер как доступный для выделения.

- 1, описывающий соответствующий кластер как недоступный для выделения (выделение кластера может уже использовать соответствующий кластер, или активная система FAT может описать соответствующий кластер как неисправный)

### <a name="72-up-case-table-directory-entry"></a>7,2. запись в каталоге таблицы вариантов

Таблица вариантов вверх определяет преобразование в прописные и строчные буквы. Это важно, поскольку запись каталога имени файла (см. раздел 7,7) использует символы Юникода, а файловая система exFAT не учитывает регистр и сохраняет регистр. Таблица актуальных данных существует в куче кластера (см. [раздел 7.2.5](#725-up-case-table)) и имеет соответствующую запись критического первичного каталога в корневом каталоге (см. [таблицу 23](#table-23-up-case-table-directoryentry-structure)). Допустимое число записей в каталоге для таблицы вариантов использования — 1.

Из-за связи между таблицей вариантов и именами файлов, реализации не должны изменять таблицу «Up», за исключением результатов операций форматирования.

<div id="table-23-up-case-table-directoryentry-structure" />

**Таблица 23. Структура DirectoryEntry таблицы вариантов**

<table>
<thead>
<tr class="header">
<th><strong>Имя поля</strong></th>
<th><p><strong>Offset</strong></p>
<p><strong>двухбайтовых</strong></p></th>
<th><p><strong>Размер</strong></p>
<p><strong>двухбайтовых</strong></p></th>
<th><strong>Комментарии</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>EntryType</td>
<td>0</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#721-entrytype-field">раздел 7.2.1</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>Reserved1</td>
<td>1</td>
<td>3</td>
<td>Это поле является обязательным и его содержимое зарезервировано.</td>
</tr>
<tr class="odd">
<td>таблечекксум</td>
<td>4</td>
<td>4</td>
<td>Это поле является обязательным, а <a href="#722-tablechecksum-field">раздел 7.2.2</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>Reserved2</td>
<td>8</td>
<td>12</td>
<td>Это поле является обязательным и его содержимое зарезервировано.</td>
</tr>
<tr class="odd">
<td>фирстклустер</td>
<td>20</td>
<td>4</td>
<td>Это поле является обязательным, а <a href="#723-firstcluster-field">раздел 7.2.3</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>DataLength</td>
<td>24</td>
<td>8</td>
<td>Это поле является обязательным, а <a href="#724-datalength-field">раздел 7.2.4</a> определяет его содержимое.</td>
</tr>
</tbody>
</table>

#### <a name="721-entrytype-field"></a>Поле 7.2.1 EntryType

Поле EntryType должно соответствовать определению, указанному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.1](#631-entrytype-field)).

##### <a name="7211-typecode-field"></a>Поле TypeCode 7.2.1.1

Поле TypeCode должно соответствовать определению, предоставленному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.1.1](#6311-typecode-field)).

Для записи в каталоге таблицы вариантов актуальности для этого поля допустимо значение
2.

##### <a name="7212-typeimportance-field"></a>Поле 7.2.1.2 Типеимпортанце

Поле Типеимпортанце должно соответствовать определению, указанному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.1.2](#6312-typeimportance-field)).

Для записи в каталоге таблицы вариантов актуальности для этого поля допустимо значение
0.

##### <a name="7213-typecategory-field"></a>Поле 7.2.1.3 Типекатегори

Поле Типекатегори должно соответствовать определению, указанному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.1.3](#6313-typecategory-field)).

##### <a name="7214-inuse-field"></a>Поле InUse 7.2.1.4

Поле InUse должно соответствовать определению, предоставленному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.1.4](#6314-inuse-field)).

#### <a name="722-tablechecksum-field"></a>Поле 7.2.2 Таблечекксум

Поле Таблечекксум содержит контрольную сумму таблицы с обновленными вариантами (которая описывает поля Фирстклустер и DATALENGTH). Реализации должны проверить допустимость содержимого этого поля до использования таблицы с более ранними вариантами.

<div id="figure-3-tablechecksum-computation" />

**Рис. 3 вычисление Таблечекксум**

```C
UInt32 TableChecksum
(
    UCHAR  * Table,    // points to an in-memory copy of the up-case table
    UInt64   DataLength
)
{
    UInt32 Checksum = 0;
    UInt64 Index;

    for (Index = 0; Index < DataLength; Index++)
    {
        Checksum = ((Checksum&1) ? 0x80000000 : 0) + (Checksum>>1) + (UInt32)Table[Index];
    }

    return Checksum;
}
```

#### <a name="723-firstcluster-field"></a>Поле 7.2.3 Фирстклустер

Поле Фирстклустер должно соответствовать определению, указанному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.5](#635-firstcluster-field)).

Это поле содержит индекс первого кластера цепочки кластеров, как описано в разделе FAT, где размещается таблица вариантов.

#### <a name="724-datalength-field"></a>Поле 7.2.4 DATALENGTH

Поле "Cluster" (кластер данных) должно соответствовать определению, указанному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.6](#636-datalength-field)).

#### <a name="725-up-case-table"></a>7.2.5, таблица вариантов

Таблица с любыми вариантами — это последовательность сопоставлений символов Юникода. Сопоставление символов состоит из 2-байтового поля с индексом поля в таблице, представляющим собой символ Юникода, и с 2-байтовым полем, представляющим символ Юникода в формате с учетом регистра.

Первые 128 символов Юникода имеют обязательные сопоставления (см. [таблицу 24](#table-24-mandatory-first-128-up-case-table-entries)).
Таблица наиболее подстановки с любым другим сопоставлением символов для любого из первых 128 символов Юникода является недопустимой.

Реализации, которые поддерживают только символы из обязательного диапазона сопоставления, могут игнорировать сопоставления остальной таблицы вариантов. Такие реализации должны использовать только символы из обязательного диапазона сопоставления при создании или переименовании файлов (с помощью записи каталога имен файлов см. в [разделе 7,7](#77-file-name-directory-entry)). При использовании существующих имен файлов с прописными буквами такие реализации не должны иметь символов из необязательного диапазона сопоставления, но оставить их без изменений в результирующем имени файла (это частичная Подстрочная буква). При сравнении имен файлов такие реализации должны рассматривать имена файлов, которые отличаются от имен в сравнении с необязательными диапазонами сопоставления, как эквивалентные. Хотя такие имена файлов потенциально эквивалентны, такие реализации не могут гарантировать, что полное имя файла не будет конфликтовать с именем при сравнении.

<div id="table-24-mandatory-first-128-up-case-table-entries" />

**Таблица 24 обязательная первая 128. записи в таблице вариантов**

| Индекс таблицы | + 0 | + 1 | + 2 | + 3 | + 4 | + 5 | + 6 | + 7 |
|-----------------|-------------------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|
| **0000h**       | 0000h             | 0001h     | 0002h     | 0003h     | 0004h     | 0005h     | 0006h     | 0007h     |
| **0008h**       | 0008h             | 0009h     | 000Ah     | 000Bh     | 000Ch     | 000Dh     | 000Eh     | 000Fh     |
| **0010h**       | 0010h             | 0011h     | 0012h     | 0013h     | 0014h     | 0015h     | 0016h     | 0017h     |
| **0018h**       | 0018h             | 0019h     | 001Ah     | 001Bh     | 001Ch     | 001Dh     | 001Eh     | 001Fh     |
| **0020h**       | 0020h             | 0021h     | 0022h     | 0023h     | 0024h     | 0025h     | 0026h     | 0027h     |
| **0028h**       | 0028h             | 0029h     | 002Ah     | 002Bh     | 002Ch     | 002Dh     | 002Eh     | 002Fh     |
| **0030h**       | 0030h             | 0031h     | 0032h     | 0033h     | 0034h     | 0035h     | 0036h     | 0037h     |
| **0038h**       | 0038h             | 0039h     | 003Ah     | 003Bh     | 003Ch     | 003Dh     | 003Eh     | 003Fh     |
| **0040h**       | 0040h             | 0041h     | 0042h     | 0043h     | 0044h     | 0045h     | 0046h     | 0047h     |
| **0048h**       | 0048h             | 0049h     | 004Ah     | 004Bh     | 004Ch     | 004Dh     | 004Eh     | 004Fh     |
| **0050h**       | 0050h             | 0051h     | 0052h     | 0053h     | 0054h     | 0055h     | 0056h     | 0057h     |
| **0058h**       | 0058h             | 0059h     | 005Ah     | 005Bh     | 005Ch     | 005Dh     | 005Eh     | 005Fh     |
| **0060h**       | 0060h             | **0041h** | **0042h** | **0043h** | **0044h** | **0045h** | **0046h** | **0047h** |
| **0068h**       | **0048h**         | **0049h** | **004Ah** | **004Bh** | **004Ch** | **004Dh** | **004Eh** | **004Fh** |
| **0070h**       | **0050h**         | **0051h** | **0052h** | **0053h** | **0054h** | **0055h** | **0056h** | **0057h** |
| **0078h**       | **0058h**         | **0059h** | **005Ah** | 007Bh     | 007Ch     | 007Dh     | 007Eh     | 007Fh     |

**(Примечание. записи с сопоставлениями неудостоверений в случае неоднозначности выделены жирным шрифтом)**

При форматировании тома реализации могут создавать таблицы в сжатом формате с помощью сжатия сопоставления удостоверений, так как большая часть пространства символов Юникода не имеет понятия Case (это означает, что символы "нижний регистр" и "верхний регистр" эквивалентны).
Реализации сжимают таблицу Up, представляя ряд сопоставлений идентификаторов со значением Ффффх, за которым следует число сопоставлений идентификаторов.

Например, реализация может представлять первые 100 (64h) сопоставлений символов со следующими восемью записями сжатой таблицы вариантов.

> Ффффх, 0061h, 0041h, 0042h, 0043h

Первые две записи указывают первые 97 (61h) символов (от 0000h к 0060h) с сопоставлениями удостоверений. Последующие символы, 0061h через 0063h, сопоставляются с символами 0041h через 0043h соответственно.

Возможность предоставления сжатой таблицы вариантов сжатия при форматировании тома необязательна. Однако возможность интерпретировать как несжатую, так и сжатую таблицу с учетом регистра является обязательной. Значение поля Таблечекксум всегда соответствует тому, как таблица с наиболее подделами находится на томе, что может быть в сжатом или несжатом формате.

##### <a name="7251-recommended-up-case-table"></a>7.2.5.1 Рекомендуемая таблица вариантов

При форматировании тома реализации должны записать рекомендуемую таблицу вариантов в сжатом формате (см. [таблицу 25](#table-25-recommended-up-case-table-in-compressed-format)), для которой значение поля Таблечекксум равно E619D30Dh.

Если в реализации определена собственная таблица Up, сжатая или несжатая, то эта таблица должна охватывать весь диапазон символов Юникода (от кодов символов 0000h до Ффффх включительно).

<div id="table-25-recommended-up-case-table-in-compressed-format" />

**Таблица 25 Рекомендуемая таблица наиболее поддела в сжатом формате**

| Необработанное смещение | + 0 |  + 1       |  + 2       |  + 3       |  + 4       | + 5        |  + 6       | + 7        |
|----------------|------------------------------|---------|---------|---------|---------|---------|---------|---------|
| **0000h**      | 0000h                        | 0001h   | 0002h   | 0003h   | 0004h   | 0005h   | 0006h   | 0007h   |
| **0008h**      | 0008h                        | 0009h   | 000Ah   | 000Bh   | 000Ch   | 000Dh   | 000Eh   | 000Fh   |
| **0010h**      | 0010h                        | 0011h   | 0012h   | 0013h   | 0014h   | 0015h   | 0016h   | 0017h   |
| **0018h**      | 0018h                        | 0019h   | 001Ah   | 001Bh   | 001Ch   | 001Dh   | 001Eh   | 001Fh   |
| **0020h**      | 0020h                        | 0021h   | 0022h   | 0023h   | 0024h   | 0025h   | 0026h   | 0027h   |
| **0028h**      | 0028h                        | 0029h   | 002Ah   | 002Bh   | 002Ch   | 002Dh   | 002Eh   | 002Fh   |
| **0030h**      | 0030h                        | 0031h   | 0032h   | 0033h   | 0034h   | 0035h   | 0036h   | 0037h   |
| **0038h**      | 0038h                        | 0039h   | 003Ah   | 003Bh   | 003Ch   | 003Dh   | 003Eh   | 003Fh   |
| **0040h**      | 0040h                        | 0041h   | 0042h   | 0043h   | 0044h   | 0045h   | 0046h   | 0047h   |
| **0048h**      | 0048h                        | 0049h   | 004Ah   | 004Bh   | 004Ch   | 004Dh   | 004Eh   | 004Fh   |
| **0050h**      | 0050h                        | 0051h   | 0052h   | 0053h   | 0054h   | 0055h   | 0056h   | 0057h   |
| **0058h**      | 0058h                        | 0059h   | 005Ah   | 005Bh   | 005Ch   | 005Dh   | 005Eh   | 005Fh   |
| **0060h**      | 0060h                        | 0041h   | 0042h   | 0043h   | 0044h   | 0045h   | 0046h   | 0047h   |
| **0068h**      | 0048h                        | 0049h   | 004Ah   | 004Bh   | 004Ch   | 004Dh   | 004Eh   | 004Fh   |
| **0070h**      | 0050h                        | 0051h   | 0052h   | 0053h   | 0054h   | 0055h   | 0056h   | 0057h   |
| **0078h**      | 0058h                        | 0059h   | 005Ah   | 007Bh   | 007Ch   | 007Dh   | 007Eh   | 007Fh   |
| **0080h**      | 0080h                        | 0081h   | 0082h   | 0083h   | 0084h   | 0085h   | 0086h   | 0087h   |
| **0088h**      | 0088h                        | 0089h   | 008Ah   | 008Bh   | 008Ch   | 008Dh   | 008Eh   | 008Fh   |
| **0090h**      | 0090h                        | 0091h   | 0092h   | 0093h   | 0094h   | 0095h   | 0096h   | 0097h   |
| **0098h**      | 0098h                        | 0099h   | 009Ah   | 009Bh   | 009Ch   | 009Dh   | 009Eh   | 009Fh   |
| **00A0h**      | 00A0h                        | 00A1h   | 00A2h   | 00A3h   | 00A4h   | 00A5h   | 00A6h   | 00A7h   |
| **00A8h**      | 00A8h                        | 00A9h   | 00AAh   | 00ABh   | 00ACh   | 00ADh   | 00AEh   | 00AFh   |
| **00B0h**      | 00B0h                        | 00B1h   | 00B2h   | 00B3h   | 00B4h   | 00B5h   | 00B6h   | 00B7h   |
| **00B8h**      | 00B8h                        | 00B9h   | 00BAh   | 00BBh   | 00BCh   | 00BDh   | 00BEh   | 00BFh   |
| **00C0h**      | 00C0h                        | 00C1h   | 00C2h   | 00C3h   | 00C4h   | 00C5h   | 00C6h   | 00C7h   |
| **00C8h**      | 00C8h                        | 00C9h   | 00CAh   | 00CBh   | 00CCh   | 00CDh   | 00CEh   | 00CFh   |
| **00D0h**      | 00D0h                        | 00D1h   | 00D2h   | 00D3h   | 00D4h   | 00D5h   | 00D6h   | 00D7h   |
| **00D8h**      | 00D8h                        | 00D9h   | 00DAh   | 00DBh   | 00DCh   | 00DDh   | 00DEh   | 00DFh   |
| **00E0h**      | 00C0h                        | 00C1h   | 00C2h   | 00C3h   | 00C4h   | 00C5h   | 00C6h   | 00C7h   |
| **00E8h**      | 00C8h                        | 00C9h   | 00CAh   | 00CBh   | 00CCh   | 00CDh   | 00CEh   | 00CFh   |
| **00F0h**      | 00D0h                        | 00D1h   | 00D2h   | 00D3h   | 00D4h   | 00D5h   | 00D6h   | 00F7h   |
| **00F8h**      | 00D8h                        | 00D9h   | 00DAh   | 00DBh   | 00DCh   | 00DDh   | 00DEh   | 0178h   |
| **0100h**      | 0100h                        | 0100h   | 0102h   | 0102h   | 0104h   | 0104h   | 0106h   | 0106h   |
| **0108h**      | 0108h                        | 0108h   | 010Ah   | 010Ah   | 010Ch   | 010Ch   | 010Eh   | 010Eh   |
| **0110h**      | 0110h                        | 0110h   | 0112h   | 0112h   | 0114h   | 0114h   | 0116h   | 0116h   |
| **0118h**      | 0118h                        | 0118h   | 011Ah   | 011Ah   | 011Ch   | 011Ch   | 011Eh   | 011Eh   |
| **0120h**      | 0120h                        | 0120h   | 0122h   | 0122h   | 0124h   | 0124h   | 0126h   | 0126h   |
| **0128h**      | 0128h                        | 0128h   | 012Ah   | 012Ah   | 012Ch   | 012Ch   | 012Eh   | 012Eh   |
| **0130h**      | 0130h                        | 0131h   | 0132h   | 0132h   | 0134h   | 0134h   | 0136h   | 0136h   |
| **0138h**      | 0138h                        | 0139h   | 0139h   | 013Bh   | 013Bh   | 013Dh   | 013Dh   | 013Fh   |
| **0140h**      | 013Fh                        | 0141h   | 0141h   | 0143h   | 0143h   | 0145h   | 0145h   | 0147h   |
| **0148h**      | 0147h                        | 0149h   | 014Ah   | 014Ah   | 014Ch   | 014Ch   | 014Eh   | 014Eh   |
| **0150h**      | 0150h                        | 0150h   | 0152h   | 0152h   | 0154h   | 0154h   | 0156h   | 0156h   |
| **0158h**      | 0158h                        | 0158h   | 015Ah   | 015Ah   | 015Ch   | 015Ch   | 015Eh   | 015Eh   |
| **0160h**      | 0160h                        | 0160h   | 0162h   | 0162h   | 0164h   | 0164h   | 0166h   | 0166h   |
| **0168h**      | 0168h                        | 0168h   | 016Ah   | 016Ah   | 016Ch   | 016Ch   | 016Eh   | 016Eh   |
| **0170h**      | 0170h                        | 0170h   | 0172h   | 0172h   | 0174h   | 0174h   | 0176h   | 0176h   |
| **0178h**      | 0178h                        | 0179h   | 0179h   | 017Bh   | 017Bh   | 017Dh   | 017Dh   | 017Fh   |
| **0180h**      | 0243h                        | 0181h   | 0182h   | 0182h   | 0184h   | 0184h   | 0186h   | 0187h   |
| **0188h**      | 0187h                        | 0189h   | 018Ah   | 018Bh   | 018Bh   | 018Dh   | 018Eh   | 018Fh   |
| **0190h**      | 0190h                        | 0191h   | 0191h   | 0193h   | 0194h   | 01F6h   | 0196h   | 0197h   |
| **0198h**      | 0198h                        | 0198h   | 023Dh   | 019Bh   | 019Ch   | 019Dh   | 0220h   | 019Fh   |
| **01A0h**      | 01A0h                        | 01A0h   | 01A2h   | 01A2h   | 01A4h   | 01A4h   | 01A6h   | 01A7h   |
| **01A8h**      | 01A7h                        | 01A9h   | 01AAh   | 01ABh   | 01ACh   | 01ACh   | 01AEh   | 01AFh   |
| **01B0h**      | 01AFh                        | 01B1h   | 01B2h   | 01B3h   | 01B3h   | 01B5h   | 01B5h   | 01B7h   |
| **01B8h**      | 01B8h                        | 01B8h   | 01BAh   | 01BBh   | 01BCh   | 01BCh   | 01BEh   | 01F7h   |
| **01C0h**      | 01C0h                        | 01C1h   | 01C2h   | 01C3h   | 01C4h   | 01C5h   | 01C4h   | 01C7h   |
| **01C8h**      | 01C8h                        | 01C7h   | 01CAh   | 01CBh   | 01CAh   | 01CDh   | 01CDh   | 01CFh   |
| **01D0h**      | 01CFh                        | 01D1h   | 01D1h   | 01D3h   | 01D3h   | 01D5h   | 01D5h   | 01D7h   |
| **01D8h**      | 01D7h                        | 01D9h   | 01D9h   | 01DBh   | 01DBh   | 018Eh   | 01DEh   | 01DEh   |
| **01E0h**      | 01E0h                        | 01E0h   | 01E2h   | 01E2h   | 01E4h   | 01E4h   | 01E6h   | 01E6h   |
| **01E8h**      | 01E8h                        | 01E8h   | 01EAh   | 01EAh   | 01ECh   | 01ECh   | 01EEh   | 01EEh   |
| **01F0h**      | 01F0h                        | 01F1h   | 01F2h   | 01F1h   | 01F4h   | 01F4h   | 01F6h   | 01F7h   |
| **01F8h**      | 01F8h                        | 01F8h   | 01FAh   | 01FAh   | 01FCh   | 01FCh   | 01FEh   | 01FEh   |
| **0200h**      | 0200h                        | 0200h   | 0202h   | 0202h   | 0204h   | 0204h   | 0206h   | 0206h   |
| **0208h**      | 0208h                        | 0208h   | 020Ah   | 020Ah   | 020Ch   | 020Ch   | 020Eh   | 020Eh   |
| **0210h**      | 0210h                        | 0210h   | 0212h   | 0212h   | 0214h   | 0214h   | 0216h   | 0216h   |
| **0218h**      | 0218h                        | 0218h   | 021Ah   | 021Ah   | 021Ch   | 021Ch   | 021Eh   | 021Eh   |
| **0220h**      | 0220h                        | 0221h   | 0222h   | 0222h   | 0224h   | 0224h   | 0226h   | 0226h   |
| **0228h**      | 0228h                        | 0228h   | 022Ah   | 022Ah   | 022Ch   | 022Ch   | 022Eh   | 022Eh   |
| **0230h**      | 0230h                        | 0230h   | 0232h   | 0232h   | 0234h   | 0235h   | 0236h   | 0237h   |
| **0238h**      | 0238h                        | 0239h   | 2C65h   | 023Bh   | 023Bh   | 023Dh   | 2C66h   | 023Fh   |
| **0240h**      | 0240h                        | 0241h   | 0241h   | 0243h   | 0244h   | 0245h   | 0246h   | 0246h   |
| **0248h**      | 0248h                        | 0248h   | 024Ah   | 024Ah   | 024Ch   | 024Ch   | 024Eh   | 024Eh   |
| **0250h**      | 0250h                        | 0251h   | 0252h   | 0181h   | 0186h   | 0255h   | 0189h   | 018Ah   |
| **0258h**      | 0258h                        | 018Fh   | 025Ah   | 0190h   | 025Ch   | 025Dh   | 025Eh   | 025Fh   |
| **0260h**      | 0193h                        | 0261h   | 0262h   | 0194h   | 0264h   | 0265h   | 0266h   | 0267h   |
| **0268h**      | 0197h                        | 0196h   | 026Ah   | 2C62h   | 026Ch   | 026Dh   | 026Eh   | 019Ch   |
| **0270h**      | 0270h                        | 0271h   | 019Dh   | 0273h   | 0274h   | 019Fh   | 0276h   | 0277h   |
| **0278h**      | 0278h                        | 0279h   | 027Ah   | 027Bh   | 027Ch   | 2C64h   | 027Eh   | 027Fh   |
| **0280h**      | 01A6h                        | 0281h   | 0282h   | 01A9h   | 0284h   | 0285h   | 0286h   | 0287h   |
| **0288h**      | 01AEh                        | 0244h   | 01B1h   | 01B2h   | 0245h   | 028Dh   | 028Eh   | 028Fh   |
| **0290h**      | 0290h                        | 0291h   | 01B7h   | 0293h   | 0294h   | 0295h   | 0296h   | 0297h   |
| **0298h**      | 0298h                        | 0299h   | 029Ah   | 029Bh   | 029Ch   | 029Dh   | 029Eh   | 029Fh   |
| **02A0h**      | 02A0h                        | 02A1h   | 02A2h   | 02A3h   | 02A4h   | 02A5h   | 02A6h   | 02A7h   |
| **02A8h**      | 02A8h                        | 02A9h   | 02AAh   | 02ABh   | 02ACh   | 02ADh   | 02AEh   | 02AFh   |
| **02B0h**      | 02B0h                        | 02B1h   | 02B2h   | 02B3h   | 02B4h   | 02B5h   | 02B6h   | 02B7h   |
| **02B8h**      | 02B8h                        | 02B9h   | 02BAh   | 02BBh   | 02BCh   | 02BDh   | 02BEh   | 02BFh   |
| **02C0h**      | 02C0h                        | 02C1h   | 02C2h   | 02C3h   | 02C4h   | 02C5h   | 02C6h   | 02C7h   |
| **02C8h**      | 02C8h                        | 02C9h   | 02CAh   | 02CBh   | 02CCh   | 02CDh   | 02CEh   | 02CFh   |
| **02D0h**      | 02D0h                        | 02D1h   | 02D2h   | 02D3h   | 02D4h   | 02D5h   | 02D6h   | 02D7h   |
| **02D8h**      | 02D8h                        | 02D9h   | 02DAh   | 02DBh   | 02DCh   | 02DDh   | 02DEh   | 02DFh   |
| **02E0h**      | 02E0h                        | 02E1h   | 02E2h   | 02E3h   | 02E4h   | 02E5h   | 02E6h   | 02E7h   |
| **02E8h**      | 02E8h                        | 02E9h   | 02EAh   | 02EBh   | 02ECh   | 02EDh   | 02EEh   | 02EFh   |
| **02F0h**      | 02F0h                        | 02F1h   | 02F2h   | 02F3h   | 02F4h   | 02F5h   | 02F6h   | 02F7h   |
| **02F8h**      | 02F8h                        | 02F9h   | 02FAh   | 02FBh   | 02FCh   | 02FDh   | 02FEh   | 02FFh   |
| **0300h**      | 0300h                        | 0301h   | 0302h   | 0303h   | 0304h   | 0305h   | 0306h   | 0307h   |
| **0308h**      | 0308h                        | 0309h   | 030Ah   | 030Bh   | 030Ch   | 030Dh   | 030Eh   | 030Fh   |
| **0310h**      | 0310h                        | 0311h   | 0312h   | 0313h   | 0314h   | 0315h   | 0316h   | 0317h   |
| **0318h**      | 0318h                        | 0319h   | 031Ah   | 031Bh   | 031Ch   | 031Dh   | 031Eh   | 031Fh   |
| **0320h**      | 0320h                        | 0321h   | 0322h   | 0323h   | 0324h   | 0325h   | 0326h   | 0327h   |
| **0328h**      | 0328h                        | 0329h   | 032Ah   | 032Bh   | 032Ch   | 032Dh   | 032Eh   | 032Fh   |
| **0330h**      | 0330h                        | 0331h   | 0332h   | 0333h   | 0334h   | 0335h   | 0336h   | 0337h   |
| **0338h**      | 0338h                        | 0339h   | 033Ah   | 033Bh   | 033Ch   | 033Dh   | 033Eh   | 033Fh   |
| **0340h**      | 0340h                        | 0341h   | 0342h   | 0343h   | 0344h   | 0345h   | 0346h   | 0347h   |
| **0348h**      | 0348h                        | 0349h   | 034Ah   | 034Bh   | 034Ch   | 034Dh   | 034Eh   | 034Fh   |
| **0350h**      | 0350h                        | 0351h   | 0352h   | 0353h   | 0354h   | 0355h   | 0356h   | 0357h   |
| **0358h**      | 0358h                        | 0359h   | 035Ah   | 035Bh   | 035Ch   | 035Dh   | 035Eh   | 035Fh   |
| **0360h**      | 0360h                        | 0361h   | 0362h   | 0363h   | 0364h   | 0365h   | 0366h   | 0367h   |
| **0368h**      | 0368h                        | 0369h   | 036Ah   | 036Bh   | 036Ch   | 036Dh   | 036Eh   | 036Fh   |
| **0370h**      | 0370h                        | 0371h   | 0372h   | 0373h   | 0374h   | 0375h   | 0376h   | 0377h   |
| **0378h**      | 0378h                        | 0379h   | 037Ah   | 03FDh   | 03FEh   | 03FFh   | 037Eh   | 037Fh   |
| **0380h**      | 0380h                        | 0381h   | 0382h   | 0383h   | 0384h   | 0385h   | 0386h   | 0387h   |
| **0388h**      | 0388h                        | 0389h   | 038Ah   | 038Bh   | 038Ch   | 038Dh   | 038Eh   | 038Fh   |
| **0390h**      | 0390h                        | 0391h   | 0392h   | 0393h   | 0394h   | 0395h   | 0396h   | 0397h   |
| **0398h**      | 0398h                        | 0399h   | 039Ah   | 039Bh   | 039Ch   | 039Dh   | 039Eh   | 039Fh   |
| **03A0h**      | 03A0h                        | 03A1h   | 03A2h   | 03A3h   | 03A4h   | 03A5h   | 03A6h   | 03A7h   |
| **03A8h**      | 03A8h                        | 03A9h   | 03AAh   | 03ABh   | 0386h   | 0388h   | 0389h   | 038Ah   |
| **03B0h**      | 03B0h                        | 0391h   | 0392h   | 0393h   | 0394h   | 0395h   | 0396h   | 0397h   |
| **03B8h**      | 0398h                        | 0399h   | 039Ah   | 039Bh   | 039Ch   | 039Dh   | 039Eh   | 039Fh   |
| **03C0h**      | 03A0h                        | 03A1h   | 03A3h   | 03A3h   | 03A4h   | 03A5h   | 03A6h   | 03A7h   |
| **03C8h**      | 03A8h                        | 03A9h   | 03AAh   | 03ABh   | 038Ch   | 038Eh   | 038Fh   | 03CFh   |
| **03D0h**      | 03D0h                        | 03D1h   | 03D2h   | 03D3h   | 03D4h   | 03D5h   | 03D6h   | 03D7h   |
| **03D8h**      | 03D8h                        | 03D8h   | 03DAh   | 03DAh   | 03DCh   | 03DCh   | 03DEh   | 03DEh   |
| **03E0h**      | 03E0h                        | 03E0h   | 03E2h   | 03E2h   | 03E4h   | 03E4h   | 03E6h   | 03E6h   |
| **03E8h**      | 03E8h                        | 03E8h   | 03EAh   | 03EAh   | 03ECh   | 03ECh   | 03EEh   | 03EEh   |
| **03F0h**      | 03F0h                        | 03F1h   | 03F9h   | 03F3h   | 03F4h   | 03F5h   | 03F6h   | 03F7h   |
| **03F8h**      | 03F7h                        | 03F9h   | 03FAh   | 03FAh   | 03FCh   | 03FDh   | 03FEh   | 03FFh   |
| **0400h**      | 0400h                        | 0401h   | 0402h   | 0403h   | 0404h   | 0405h   | 0406h   | 0407h   |
| **0408h**      | 0408h                        | 0409h   | 040Ah   | 040Bh   | 040Ch   | 040Dh   | 040Eh   | 040Fh   |
| **0410h**      | 0410h                        | 0411h   | 0412h   | 0413h   | 0414h   | 0415h   | 0416h   | 0417h   |
| **0418h**      | 0418h                        | 0419h   | 041Ah   | 041Bh   | 041Ch   | 041Dh   | 041Eh   | 041Fh   |
| **0420h**      | 0420h                        | 0421h   | 0422h   | 0423h   | 0424h   | 0425h   | 0426h   | 0427h   |
| **0428h**      | 0428h                        | 0429h   | 042Ah   | 042Bh   | 042Ch   | 042Dh   | 042Eh   | 042Fh   |
| **0430h**      | 0410h                        | 0411h   | 0412h   | 0413h   | 0414h   | 0415h   | 0416h   | 0417h   |
| **0438h**      | 0418h                        | 0419h   | 041Ah   | 041Bh   | 041Ch   | 041Dh   | 041Eh   | 041Fh   |
| **0440h**      | 0420h                        | 0421h   | 0422h   | 0423h   | 0424h   | 0425h   | 0426h   | 0427h   |
| **0448h**      | 0428h                        | 0429h   | 042Ah   | 042Bh   | 042Ch   | 042Dh   | 042Eh   | 042Fh   |
| **0450h**      | 0400h                        | 0401h   | 0402h   | 0403h   | 0404h   | 0405h   | 0406h   | 0407h   |
| **0458h**      | 0408h                        | 0409h   | 040Ah   | 040Bh   | 040Ch   | 040Dh   | 040Eh   | 040Fh   |
| **0460h**      | 0460h                        | 0460h   | 0462h   | 0462h   | 0464h   | 0464h   | 0466h   | 0466h   |
| **0468h**      | 0468h                        | 0468h   | 046Ah   | 046Ah   | 046Ch   | 046Ch   | 046Eh   | 046Eh   |
| **0470h**      | 0470h                        | 0470h   | 0472h   | 0472h   | 0474h   | 0474h   | 0476h   | 0476h   |
| **0478h**      | 0478h                        | 0478h   | 047Ah   | 047Ah   | 047Ch   | 047Ch   | 047Eh   | 047Eh   |
| **0480h**      | 0480h                        | 0480h   | 0482h   | 0483h   | 0484h   | 0485h   | 0486h   | 0487h   |
| **0488h**      | 0488h                        | 0489h   | 048Ah   | 048Ah   | 048Ch   | 048Ch   | 048Eh   | 048Eh   |
| **0490h**      | 0490h                        | 0490h   | 0492h   | 0492h   | 0494h   | 0494h   | 0496h   | 0496h   |
| **0498h**      | 0498h                        | 0498h   | 049Ah   | 049Ah   | 049Ch   | 049Ch   | 049Eh   | 049Eh   |
| **04A0h**      | 04A0h                        | 04A0h   | 04A2h   | 04A2h   | 04A4h   | 04A4h   | 04A6h   | 04A6h   |
| **04A8h**      | 04A8h                        | 04A8h   | 04AAh   | 04AAh   | 04ACh   | 04ACh   | 04AEh   | 04AEh   |
| **04B0h**      | 04B0h                        | 04B0h   | 04B2h   | 04B2h   | 04B4h   | 04B4h   | 04B6h   | 04B6h   |
| **04B8h**      | 04B8h                        | 04B8h   | 04BAh   | 04BAh   | 04BCh   | 04BCh   | 04BEh   | 04BEh   |
| **04C0h**      | 04C0h                        | 04C1h   | 04C1h   | 04C3h   | 04C3h   | 04C5h   | 04C5h   | 04C7h   |
| **04C8h**      | 04C7h                        | 04C9h   | 04C9h   | 04CBh   | 04CBh   | 04CDh   | 04CDh   | 04C0h   |
| **04D0h**      | 04D0h                        | 04D0h   | 04D2h   | 04D2h   | 04D4h   | 04D4h   | 04D6h   | 04D6h   |
| **04D8h**      | 04D8h                        | 04D8h   | 04DAh   | 04DAh   | 04DCh   | 04DCh   | 04DEh   | 04DEh   |
| **04E0h**      | 04E0h                        | 04E0h   | 04E2h   | 04E2h   | 04E4h   | 04E4h   | 04E6h   | 04E6h   |
| **04E8h**      | 04E8h                        | 04E8h   | 04EAh   | 04EAh   | 04ECh   | 04ECh   | 04EEh   | 04EEh   |
| **04F0h**      | 04F0h                        | 04F0h   | 04F2h   | 04F2h   | 04F4h   | 04F4h   | 04F6h   | 04F6h   |
| **04F8h**      | 04F8h                        | 04F8h   | 04FAh   | 04FAh   | 04FCh   | 04FCh   | 04FEh   | 04FEh   |
| **0500h**      | 0500h                        | 0500h   | 0502h   | 0502h   | 0504h   | 0504h   | 0506h   | 0506h   |
| **0508h**      | 0508h                        | 0508h   | 050Ah   | 050Ah   | 050Ch   | 050Ch   | 050Eh   | 050Eh   |
| **0510h**      | 0510h                        | 0510h   | 0512h   | 0512h   | 0514h   | 0515h   | 0516h   | 0517h   |
| **0518h**      | 0518h                        | 0519h   | 051Ah   | 051Bh   | 051Ch   | 051Dh   | 051Eh   | 051Fh   |
| **0520h**      | 0520h                        | 0521h   | 0522h   | 0523h   | 0524h   | 0525h   | 0526h   | 0527h   |
| **0528h**      | 0528h                        | 0529h   | 052Ah   | 052Bh   | 052Ch   | 052Dh   | 052Eh   | 052Fh   |
| **0530h**      | 0530h                        | 0531h   | 0532h   | 0533h   | 0534h   | 0535h   | 0536h   | 0537h   |
| **0538h**      | 0538h                        | 0539h   | 053Ah   | 053Bh   | 053Ch   | 053Dh   | 053Eh   | 053Fh   |
| **0540h**      | 0540h                        | 0541h   | 0542h   | 0543h   | 0544h   | 0545h   | 0546h   | 0547h   |
| **0548h**      | 0548h                        | 0549h   | 054Ah   | 054Bh   | 054Ch   | 054Dh   | 054Eh   | 054Fh   |
| **0550h**      | 0550h                        | 0551h   | 0552h   | 0553h   | 0554h   | 0555h   | 0556h   | 0557h   |
| **0558h**      | 0558h                        | 0559h   | 055Ah   | 055Bh   | 055Ch   | 055Dh   | 055Eh   | 055Fh   |
| **0560h**      | 0560h                        | 0531h   | 0532h   | 0533h   | 0534h   | 0535h   | 0536h   | 0537h   |
| **0568h**      | 0538h                        | 0539h   | 053Ah   | 053Bh   | 053Ch   | 053Dh   | 053Eh   | 053Fh   |
| **0570h**      | 0540h                        | 0541h   | 0542h   | 0543h   | 0544h   | 0545h   | 0546h   | 0547h   |
| **0578h**      | 0548h                        | 0549h   | 054Ah   | 054Bh   | 054Ch   | 054Dh   | 054Eh   | 054Fh   |
| **0580h**      | 0550h                        | 0551h   | 0552h   | 0553h   | 0554h   | 0555h   | 0556h   | ффффх   |
| **0588h**      | 17F6h                        | 2C63h   | 1D7Eh   | 1D7Fh   | 1D80h   | 1D81h   | 1D82h   | 1D83h   |
| **0590h**      | 1D84h                        | 1D85h   | 1D86h   | 1D87h   | 1D88h   | 1D89h   | 1D8Ah   | 1D8Bh   |
| **0598h**      | 1D8Ch                        | 1D8Dh   | 1D8Eh   | 1D8Fh   | 1D90h   | 1D91h   | 1D92h   | 1D93h   |
| **05A0h**      | 1D94h                        | 1D95h   | 1D96h   | 1D97h   | 1D98h   | 1D99h   | 1D9Ah   | 1D9Bh   |
| **05A8h**      | 1D9Ch                        | 1D9Dh   | 1D9Eh   | 1D9Fh   | 1DA0h   | 1DA1h   | 1DA2h   | 1DA3h   |
| **05B0h**      | 1DA4h                        | 1DA5h   | 1DA6h   | 1DA7h   | 1DA8h   | 1DA9h   | 1DAAh   | 1DABh   |
| **05B8h**      | 1DACh                        | 1DADh   | 1DAEh   | 1DAFh   | 1DB0h   | 1DB1h   | 1DB2h   | 1DB3h   |
| **05C0h**      | 1DB4h                        | 1DB5h   | 1DB6h   | 1DB7h   | 1DB8h   | 1DB9h   | 1DBAh   | 1DBBh   |
| **05C8h**      | 1DBCh                        | 1DBDh   | 1DBEh   | 1DBFh   | 1DC0h   | 1DC1h   | 1DC2h   | 1DC3h   |
| **05D0h**      | 1DC4h                        | 1DC5h   | 1DC6h   | 1DC7h   | 1DC8h   | 1DC9h   | 1DCAh   | 1DCBh   |
| **05D8h**      | 1DCCh                        | 1DCDh   | 1DCEh   | 1DCFh   | 1DD0h   | 1DD1h   | 1DD2h   | 1DD3h   |
| **05E0h**      | 1DD4h                        | 1DD5h   | 1DD6h   | 1DD7h   | 1DD8h   | 1DD9h   | 1DDAh   | 1DDBh   |
| **05E8h**      | 1DDCh                        | 1DDDh   | 1DDEh   | 1DDFh   | 1DE0h   | 1DE1h   | 1DE2h   | 1DE3h   |
| **05F0h**      | 1DE4h                        | 1DE5h   | 1DE6h   | 1DE7h   | 1DE8h   | 1DE9h   | 1DEAh   | 1DEBh   |
| **05F8h**      | 1DECh                        | 1DEDh   | 1DEEh   | 1DEFh   | 1DF0h   | 1DF1h   | 1DF2h   | 1DF3h   |
| **0600h**      | 1DF4h                        | 1DF5h   | 1DF6h   | 1DF7h   | 1DF8h   | 1DF9h   | 1DFAh   | 1DFBh   |
| **0608h**      | 1DFCh                        | 1DFDh   | 1DFEh   | 1DFFh   | 1E00h   | 1E00h   | 1E02h   | 1E02h   |
| **0610h**      | 1E04h                        | 1E04h   | 1E06h   | 1E06h   | 1E08h   | 1E08h   | 1E0Ah   | 1E0Ah   |
| **0618h**      | 1E0Ch                        | 1E0Ch   | 1E0Eh   | 1E0Eh   | 1E10h   | 1E10h   | 1E12h   | 1E12h   |
| **0620h**      | 1E14h                        | 1E14h   | 1E16h   | 1E16h   | 1E18h   | 1E18h   | 1E1Ah   | 1E1Ah   |
| **0628h**      | 1E1Ch                        | 1E1Ch   | 1E1Eh   | 1E1Eh   | 1E20h   | 1E20h   | 1E22h   | 1E22h   |
| **0630h**      | 1E24h                        | 1E24h   | 1E26h   | 1E26h   | 1E28h   | 1E28h   | 1E2Ah   | 1E2Ah   |
| **0638h**      | 1E2Ch                        | 1E2Ch   | 1E2Eh   | 1E2Eh   | 1E30h   | 1E30h   | 1E32h   | 1E32h   |
| **0640h**      | 1E34h                        | 1E34h   | 1E36h   | 1E36h   | 1E38h   | 1E38h   | 1E3Ah   | 1E3Ah   |
| **0648h**      | 1E3Ch                        | 1E3Ch   | 1E3Eh   | 1E3Eh   | 1E40h   | 1E40h   | 1E42h   | 1E42h   |
| **0650h**      | 1E44h                        | 1E44h   | 1E46h   | 1E46h   | 1E48h   | 1E48h   | 1E4Ah   | 1E4Ah   |
| **0658h**      | 1E4Ch                        | 1E4Ch   | 1E4Eh   | 1E4Eh   | 1E50h   | 1E50h   | 1E52h   | 1E52h   |
| **0660h**      | 1E54h                        | 1E54h   | 1E56h   | 1E56h   | 1E58h   | 1E58h   | 1E5Ah   | 1E5Ah   |
| **0668h**      | 1E5Ch                        | 1E5Ch   | 1E5Eh   | 1E5Eh   | 1E60h   | 1E60h   | 1E62h   | 1E62h   |
| **0670h**      | 1E64h                        | 1E64h   | 1E66h   | 1E66h   | 1E68h   | 1E68h   | 1E6Ah   | 1E6Ah   |
| **0678h**      | 1E6Ch                        | 1E6Ch   | 1E6Eh   | 1E6Eh   | 1E70h   | 1E70h   | 1E72h   | 1E72h   |
| **0680h**      | 1E74h                        | 1E74h   | 1E76h   | 1E76h   | 1E78h   | 1E78h   | 1E7Ah   | 1E7Ah   |
| **0688h**      | 1E7Ch                        | 1E7Ch   | 1E7Eh   | 1E7Eh   | 1E80h   | 1E80h   | 1E82h   | 1E82h   |
| **0690h**      | 1E84h                        | 1E84h   | 1E86h   | 1E86h   | 1E88h   | 1E88h   | 1E8Ah   | 1E8Ah   |
| **0698h**      | 1E8Ch                        | 1E8Ch   | 1E8Eh   | 1E8Eh   | 1E90h   | 1E90h   | 1E92h   | 1E92h   |
| **06A0h**      | 1E94h                        | 1E94h   | 1E96h   | 1E97h   | 1E98h   | 1E99h   | 1E9Ah   | 1E9Bh   |
| **06A8h**      | 1E9Ch                        | 1E9Dh   | 1E9Eh   | 1E9Fh   | 1EA0h   | 1EA0h   | 1EA2h   | 1EA2h   |
| **06B0h**      | 1EA4h                        | 1EA4h   | 1EA6h   | 1EA6h   | 1EA8h   | 1EA8h   | 1EAAh   | 1EAAh   |
| **06B8h**      | 1EACh                        | 1EACh   | 1EAEh   | 1EAEh   | 1EB0h   | 1EB0h   | 1EB2h   | 1EB2h   |
| **06C0h**      | 1EB4h                        | 1EB4h   | 1EB6h   | 1EB6h   | 1EB8h   | 1EB8h   | 1EBAh   | 1EBAh   |
| **06C8h**      | 1EBCh                        | 1EBCh   | 1EBEh   | 1EBEh   | 1EC0h   | 1EC0h   | 1EC2h   | 1EC2h   |
| **06D0h**      | 1EC4h                        | 1EC4h   | 1EC6h   | 1EC6h   | 1EC8h   | 1EC8h   | 1ECAh   | 1ECAh   |
| **06D8h**      | 1ECCh                        | 1ECCh   | 1ECEh   | 1ECEh   | 1ED0h   | 1ED0h   | 1ED2h   | 1ED2h   |
| **06E0h**      | 1ED4h                        | 1ED4h   | 1ED6h   | 1ED6h   | 1ED8h   | 1ED8h   | 1EDAh   | 1EDAh   |
| **06E8h**      | 1EDCh                        | 1EDCh   | 1EDEh   | 1EDEh   | 1EE0h   | 1EE0h   | 1EE2h   | 1EE2h   |
| **06F0h**      | 1EE4h                        | 1EE4h   | 1EE6h   | 1EE6h   | 1EE8h   | 1EE8h   | 1EEAh   | 1EEAh   |
| **06F8h**      | 1EECh                        | 1EECh   | 1EEEh   | 1EEEh   | 1EF0h   | 1EF0h   | 1EF2h   | 1EF2h   |
| **0700h**      | 1EF4h                        | 1EF4h   | 1EF6h   | 1EF6h   | 1EF8h   | 1EF8h   | 1EFAh   | 1EFBh   |
| **0708h**      | 1EFCh                        | 1EFDh   | 1EFEh   | 1EFFh   | 1F08h   | 1F09h   | 1F0Ah   | 1F0Bh   |
| **0710h**      | 1F0Ch                        | 1F0Dh   | 1F0Eh   | 1F0Fh   | 1F08h   | 1F09h   | 1F0Ah   | 1F0Bh   |
| **0718h**      | 1F0Ch                        | 1F0Dh   | 1F0Eh   | 1F0Fh   | 1F18h   | 1F19h   | 1F1Ah   | 1F1Bh   |
| **0720h**      | 1F1Ch                        | 1F1Dh   | 1F16h   | 1F17h   | 1F18h   | 1F19h   | 1F1Ah   | 1F1Bh   |
| **0728h**      | 1F1Ch                        | 1F1Dh   | 1F1Eh   | 1F1Fh   | 1F28h   | 1F29h   | 1F2Ah   | 1F2Bh   |
| **0730h**      | 1F2Ch                        | 1F2Dh   | 1F2Eh   | 1F2Fh   | 1F28h   | 1F29h   | 1F2Ah   | 1F2Bh   |
| **0738h**      | 1F2Ch                        | 1F2Dh   | 1F2Eh   | 1F2Fh   | 1F38h   | 1F39h   | 1F3Ah   | 1F3Bh   |
| **0740h**      | 1F3Ch                        | 1F3Dh   | 1F3Eh   | 1F3Fh   | 1F38h   | 1F39h   | 1F3Ah   | 1F3Bh   |
| **0748h**      | 1F3Ch                        | 1F3Dh   | 1F3Eh   | 1F3Fh   | 1F48h   | 1F49h   | 1F4Ah   | 1F4Bh   |
| **0750h**      | 1F4Ch                        | 1F4Dh   | 1F46h   | 1F47h   | 1F48h   | 1F49h   | 1F4Ah   | 1F4Bh   |
| **0758h**      | 1F4Ch                        | 1F4Dh   | 1F4Eh   | 1F4Fh   | 1F50h   | 1F59h   | 1F52h   | 1F5Bh   |
| **0760h**      | 1F54h                        | 1F5Dh   | 1F56h   | 1F5Fh   | 1F58h   | 1F59h   | 1F5Ah   | 1F5Bh   |
| **0768h**      | 1F5Ch                        | 1F5Dh   | 1F5Eh   | 1F5Fh   | 1F68h   | 1F69h   | 1F6Ah   | 1F6Bh   |
| **0770h**      | 1F6Ch                        | 1F6Dh   | 1F6Eh   | 1F6Fh   | 1F68h   | 1F69h   | 1F6Ah   | 1F6Bh   |
| **0778h**      | 1F6Ch                        | 1F6Dh   | 1F6Eh   | 1F6Fh   | 1FBAh   | 1FBBh   | 1FC8h   | 1FC9h   |
| **0780h**      | 1FCAh                        | 1FCBh   | 1FDAh   | 1FDBh   | 1FF8h   | 1FF9h   | 1FEAh   | 1FEBh   |
| **0788h**      | 1FFAh                        | 1FFBh   | 1F7Eh   | 1F7Fh   | 1F88h   | 1F89h   | 1F8Ah   | 1F8Bh   |
| **0790h**      | 1F8Ch                        | 1F8Dh   | 1F8Eh   | 1F8Fh   | 1F88h   | 1F89h   | 1F8Ah   | 1F8Bh   |
| **0798h**      | 1F8Ch                        | 1F8Dh   | 1F8Eh   | 1F8Fh   | 1F98h   | 1F99h   | 1F9Ah   | 1F9Bh   |
| **07A0h**      | 1F9Ch                        | 1F9Dh   | 1F9Eh   | 1F9Fh   | 1F98h   | 1F99h   | 1F9Ah   | 1F9Bh   |
| **07A8h**      | 1F9Ch                        | 1F9Dh   | 1F9Eh   | 1F9Fh   | 1FA8h   | 1FA9h   | 1FAAh   | 1FABh   |
| **07B0h**      | 1FACh                        | 1FADh   | 1FAEh   | 1FAFh   | 1FA8h   | 1FA9h   | 1FAAh   | 1FABh   |
| **07B8h**      | 1FACh                        | 1FADh   | 1FAEh   | 1FAFh   | 1FB8h   | 1FB9h   | 1FB2h   | 1FBCh   |
| **07C0h**      | 1FB4h                        | 1FB5h   | 1FB6h   | 1FB7h   | 1FB8h   | 1FB9h   | 1FBAh   | 1FBBh   |
| **07C8h**      | 1FBCh                        | 1FBDh   | 1FBEh   | 1FBFh   | 1FC0h   | 1FC1h   | 1FC2h   | 1FC3h   |
| **07D0h**      | 1FC4h                        | 1FC5h   | 1FC6h   | 1FC7h   | 1FC8h   | 1FC9h   | 1FCAh   | 1FCBh   |
| **07D8h**      | 1FC3h                        | 1FCDh   | 1FCEh   | 1FCFh   | 1FD8h   | 1FD9h   | 1FD2h   | 1FD3h   |
| **07E0h**      | 1FD4h                        | 1FD5h   | 1FD6h   | 1FD7h   | 1FD8h   | 1FD9h   | 1FDAh   | 1FDBh   |
| **07E8h**      | 1FDCh                        | 1FDDh   | 1FDEh   | 1FDFh   | 1FE8h   | 1FE9h   | 1FE2h   | 1FE3h   |
| **07F0h**      | 1FE4h                        | 1FECh   | 1FE6h   | 1FE7h   | 1FE8h   | 1FE9h   | 1FEAh   | 1FEBh   |
| **07F8h**      | 1FECh                        | 1FEDh   | 1FEEh   | 1FEFh   | 1FF0h   | 1FF1h   | 1FF2h   | 1FF3h   |
| **0800h**      | 1FF4h                        | 1FF5h   | 1FF6h   | 1FF7h   | 1FF8h   | 1FF9h   | 1FFAh   | 1FFBh   |
| **0808h**      | 1FF3h                        | 1FFDh   | 1FFEh   | 1FFFh   | 2000h   | 2001h   | 2002h   | 2003h   |
| **0810h**      | 2004h                        | 2005h   | 2006h   | 2007h   | 2008h   | 2009h   | 200Ah   | 200Bh   |
| **0818h**      | 200Ch                        | 200Dh   | 200Eh   | 200Fh   | 2010h   | 2011h   | 2012h   | 2013h   |
| **0820h**      | 2014h                        | 2015h   | 2016h   | 2017h   | 2018h   | 2019h   | 201Ah   | 201Bh   |
| **0828h**      | 201Ch                        | 201Dh   | 201Eh   | 201Fh   | 2020h   | 2021h   | 2022h   | 2023h   |
| **0830h**      | 2024h                        | 2025h   | 2026h   | 2027h   | 2028h   | 2029h   | 202Ah   | 202Bh   |
| **0838h**      | 202Ch                        | 202Dh   | 202Eh   | 202Fh   | 2030h   | 2031h   | 2032h   | 2033h   |
| **0840h**      | 2034h                        | 2035h   | 2036h   | 2037h   | 2038h   | 2039h   | 203Ah   | 203Bh   |
| **0848h**      | 203Ch                        | 203Dh   | 203Eh   | 203Fh   | 2040h   | 2041h   | 2042h   | 2043h   |
| **0850h**      | 2044h                        | 2045h   | 2046h   | 2047h   | 2048h   | 2049h   | 204Ah   | 204Bh   |
| **0858h**      | 204Ch                        | 204Dh   | 204Eh   | 204Fh   | 2050h   | 2051h   | 2052h   | 2053h   |
| **0860h**      | 2054h                        | 2055h   | 2056h   | 2057h   | 2058h   | 2059h   | 205Ah   | 205Bh   |
| **0868h**      | 205Ch                        | 205Dh   | 205Eh   | 205Fh   | 2060h   | 2061h   | 2062h   | 2063h   |
| **0870h**      | 2064h                        | 2065h   | 2066h   | 2067h   | 2068h   | 2069h   | 206Ah   | 206Bh   |
| **0878h**      | 206Ch                        | 206Dh   | 206Eh   | 206Fh   | 2070h   | 2071h   | 2072h   | 2073h   |
| **0880h**      | 2074h                        | 2075h   | 2076h   | 2077h   | 2078h   | 2079h   | 207Ah   | 207Bh   |
| **0888h**      | 207Ch                        | 207Dh   | 207Eh   | 207Fh   | 2080h   | 2081h   | 2082h   | 2083h   |
| **0890h**      | 2084h                        | 2085h   | 2086h   | 2087h   | 2088h   | 2089h   | 208Ah   | 208Bh   |
| **0898h**      | 208Ch                        | 208Dh   | 208Eh   | 208Fh   | 2090h   | 2091h   | 2092h   | 2093h   |
| **08A0h**      | 2094h                        | 2095h   | 2096h   | 2097h   | 2098h   | 2099h   | 209Ah   | 209Bh   |
| **08A8h**      | 209Ch                        | 209Dh   | 209Eh   | 209Fh   | 20A0h   | 20A1h   | 20A2h   | 20A3h   |
| **08B0h**      | 20A4h                        | 20A5h   | 20A6h   | 20A7h   | 20A8h   | 20A9h   | 20AAh   | 20ABh   |
| **08B8h**      | 20ACh                        | 20ADh   | 20AEh   | 20AFh   | 20B0h   | 20B1h   | 20B2h   | 20B3h   |
| **08C0h**      | 20B4h                        | 20B5h   | 20B6h   | 20B7h   | 20B8h   | 20B9h   | 20BAh   | 20BBh   |
| **08C8h**      | 20BCh                        | 20BDh   | 20BEh   | 20BFh   | 20C0h   | 20C1h   | 20C2h   | 20C3h   |
| **08D0h**      | 20C4h                        | 20C5h   | 20C6h   | 20C7h   | 20C8h   | 20C9h   | 20CAh   | 20CBh   |
| **08D8h**      | 20CCh                        | 20CDh   | 20CEh   | 20CFh   | 20D0h   | 20D1h   | 20D2h   | 20D3h   |
| **08E0h**      | 20D4h                        | 20D5h   | 20D6h   | 20D7h   | 20D8h   | 20D9h   | 20DAh   | 20DBh   |
| **08E8h**      | 20DCh                        | 20DDh   | 20DEh   | 20DFh   | 20E0h   | 20E1h   | 20E2h   | 20E3h   |
| **08F0h**      | 20E4h                        | 20E5h   | 20E6h   | 20E7h   | 20E8h   | 20E9h   | 20EAh   | 20EBh   |
| **08F8h**      | 20ECh                        | 20EDh   | 20EEh   | 20EFh   | 20F0h   | 20F1h   | 20F2h   | 20F3h   |
| **0900h**      | 20F4h                        | 20F5h   | 20F6h   | 20F7h   | 20F8h   | 20F9h   | 20FAh   | 20FBh   |
| **0908h**      | 20FCh                        | 20FDh   | 20FEh   | 20FFh   | 2100h   | 2101h   | 2102h   | 2103h   |
| **0910h**      | 2104h                        | 2105h   | 2106h   | 2107h   | 2108h   | 2109h   | 210Ah   | 210Bh   |
| **0918h**      | 210Ch                        | 210Dh   | 210Eh   | 210Fh   | 2110h   | 2111h   | 2112h   | 2113h   |
| **0920h**      | 2114h                        | 2115h   | 2116h   | 2117h   | 2118h   | 2119h   | 211Ah   | 211Bh   |
| **0928h**      | 211Ch                        | 211Dh   | 211Eh   | 211Fh   | 2120h   | 2121h   | 2122h   | 2123h   |
| **0930h**      | 2124h                        | 2125h   | 2126h   | 2127h   | 2128h   | 2129h   | 212Ah   | 212Bh   |
| **0938h**      | 212Ch                        | 212Dh   | 212Eh   | 212Fh   | 2130h   | 2131h   | 2132h   | 2133h   |
| **0940h**      | 2134h                        | 2135h   | 2136h   | 2137h   | 2138h   | 2139h   | 213Ah   | 213Bh   |
| **0948h**      | 213Ch                        | 213Dh   | 213Eh   | 213Fh   | 2140h   | 2141h   | 2142h   | 2143h   |
| **0950h**      | 2144h                        | 2145h   | 2146h   | 2147h   | 2148h   | 2149h   | 214Ah   | 214Bh   |
| **0958h**      | 214Ch                        | 214Dh   | 2132h   | 214Fh   | 2150h   | 2151h   | 2152h   | 2153h   |
| **0960h**      | 2154h                        | 2155h   | 2156h   | 2157h   | 2158h   | 2159h   | 215Ah   | 215Bh   |
| **0968h**      | 215Ch                        | 215Dh   | 215Eh   | 215Fh   | 2160h   | 2161h   | 2162h   | 2163h   |
| **0970h**      | 2164h                        | 2165h   | 2166h   | 2167h   | 2168h   | 2169h   | 216Ah   | 216Bh   |
| **0978h**      | 216Ch                        | 216Dh   | 216Eh   | 216Fh   | 2160h   | 2161h   | 2162h   | 2163h   |
| **0980h**      | 2164h                        | 2165h   | 2166h   | 2167h   | 2168h   | 2169h   | 216Ah   | 216Bh   |
| **0988h**      | 216Ch                        | 216Dh   | 216Eh   | 216Fh   | 2180h   | 2181h   | 2182h   | 2183h   |
| **0990h**      | 2183h                        | ффффх   | 034Bh   | 24B6h   | 24B7h   | 24B8h   | 24B9h   | 24BAh   |
| **0998h**      | 24BBh                        | 24BCh   | 24BDh   | 24BEh   | 24BFh   | 24C0h   | 24C1h   | 24C2h   |
| **09A0h**      | 24C3h                        | 24C4h   | 24C5h   | 24C6h   | 24C7h   | 24C8h   | 24C9h   | 24CAh   |
| **09A8h**      | 24CBh                        | 24CCh   | 24CDh   | 24CEh   | 24CFh   | ффффх   | 0746h   | 2C00h   |
| **09B0h**      | 2C01h                        | 2C02h   | 2C03h   | 2C04h   | 2C05h   | 2C06h   | 2C07h   | 2C08h   |
| **09B8h**      | 2C09h                        | 2C0Ah   | 2C0Bh   | 2C0Ch   | 2C0Dh   | 2C0Eh   | 2C0Fh   | 2C10h   |
| **09C0h**      | 2C11h                        | 2C12h   | 2C13h   | 2C14h   | 2C15h   | 2C16h   | 2C17h   | 2C18h   |
| **09C8h**      | 2C19h                        | 2C1Ah   | 2C1Bh   | 2C1Ch   | 2C1Dh   | 2C1Eh   | 2C1Fh   | 2C20h   |
| **09D0h**      | 2C21h                        | 2C22h   | 2C23h   | 2C24h   | 2C25h   | 2C26h   | 2C27h   | 2C28h   |
| **09D8h**      | 2C29h                        | 2C2Ah   | 2C2Bh   | 2C2Ch   | 2C2Dh   | 2C2Eh   | 2C5Fh   | 2C60h   |
| **09E0h**      | 2C60h                        | 2C62h   | 2C63h   | 2C64h   | 2C65h   | 2C66h   | 2C67h   | 2C67h   |
| **09E8h**      | 2C69h                        | 2C69h   | 2C6Bh   | 2C6Bh   | 2C6Dh   | 2C6Eh   | 2C6Fh   | 2C70h   |
| **09F0h**      | 2C71h                        | 2C72h   | 2C73h   | 2C74h   | 2C75h   | 2C75h   | 2C77h   | 2C78h   |
| **09F8h**      | 2C79h                        | 2C7Ah   | 2C7Bh   | 2C7Ch   | 2C7Dh   | 2C7Eh   | 2C7Fh   | 2C80h   |
| **0A00h**      | 2C80h                        | 2C82h   | 2C82h   | 2C84h   | 2C84h   | 2C86h   | 2C86h   | 2C88h   |
| **0A08h**      | 2C88h                        | 2C8Ah   | 2C8Ah   | 2C8Ch   | 2C8Ch   | 2C8Eh   | 2C8Eh   | 2C90h   |
| **0A10h**      | 2C90h                        | 2C92h   | 2C92h   | 2C94h   | 2C94h   | 2C96h   | 2C96h   | 2C98h   |
| **0A18h**      | 2C98h                        | 2C9Ah   | 2C9Ah   | 2C9Ch   | 2C9Ch   | 2C9Eh   | 2C9Eh   | 2CA0h   |
| **0A20h**      | 2CA0h                        | 2CA2h   | 2CA2h   | 2CA4h   | 2CA4h   | 2CA6h   | 2CA6h   | 2CA8h   |
| **0A28h**      | 2CA8h                        | 2CAAh   | 2CAAh   | 2CACh   | 2CACh   | 2CAEh   | 2CAEh   | 2CB0h   |
| **0A30h**      | 2CB0h                        | 2CB2h   | 2CB2h   | 2CB4h   | 2CB4h   | 2CB6h   | 2CB6h   | 2CB8h   |
| **0A38h**      | 2CB8h                        | 2CBAh   | 2CBAh   | 2CBCh   | 2CBCh   | 2CBEh   | 2CBEh   | 2CC0h   |
| **0A40h**      | 2CC0h                        | 2CC2h   | 2CC2h   | 2CC4h   | 2CC4h   | 2CC6h   | 2CC6h   | 2CC8h   |
| **0A48h**      | 2CC8h                        | 2CCAh   | 2CCAh   | 2CCCh   | 2CCCh   | 2CCEh   | 2CCEh   | 2CD0h   |
| **0A50h**      | 2CD0h                        | 2CD2h   | 2CD2h   | 2CD4h   | 2CD4h   | 2CD6h   | 2CD6h   | 2CD8h   |
| **0A58h**      | 2CD8h                        | 2CDAh   | 2CDAh   | 2CDCh   | 2CDCh   | 2CDEh   | 2CDEh   | 2CE0h   |
| **0A60h**      | 2CE0h                        | 2CE2h   | 2CE2h   | 2CE4h   | 2CE5h   | 2CE6h   | 2CE7h   | 2CE8h   |
| **0A68h**      | 2CE9h                        | 2CEAh   | 2CEBh   | 2CECh   | 2CEDh   | 2CEEh   | 2CEFh   | 2CF0h   |
| **0A70h**      | 2CF1h                        | 2CF2h   | 2CF3h   | 2CF4h   | 2CF5h   | 2CF6h   | 2CF7h   | 2CF8h   |
| **0A78h**      | 2CF9h                        | 2CFAh   | 2CFBh   | 2CFCh   | 2CFDh   | 2CFEh   | 2CFFh   | 10A0h   |
| **0A80h**      | 10A1h                        | 10A2h   | 10A3h   | 10A4h   | 10A5h   | 10A6h   | 10A7h   | 10A8h   |
| **0A88h**      | 10A9h                        | 10AAh   | 10ABh   | 10ACh   | 10ADh   | 10AEh   | 10AFh   | 10B0h   |
| **0A90h**      | 10B1h                        | 10B2h   | 10B3h   | 10B4h   | 10B5h   | 10B6h   | 10B7h   | 10B8h   |
| **0A98h**      | 10B9h                        | 10BAh   | 10BBh   | 10BCh   | 10BDh   | 10BEh   | 10BFh   | 10C0h   |
| **0AA0h**      | 10C1h                        | 10C2h   | 10C3h   | 10C4h   | 10C5h   | ффффх   | D21Bh   | FF21h   |
| **0AA8h**      | FF22h                        | FF23h   | FF24h   | FF25h   | FF26h   | FF27h   | FF28h   | FF29h   |
| **0AB0h**      | FF2Ah                        | FF2Bh   | FF2Ch   | FF2Dh   | FF2Eh   | FF2Fh   | FF30h   | FF31h   |
| **0AB8h**      | FF32h                        | FF33h   | FF34h   | FF35h   | FF36h   | FF37h   | FF38h   | FF39h   |
| **0AC0h**      | FF3Ah                        | FF5Bh   | FF5Ch   | FF5Dh   | FF5Eh   | FF5Fh   | FF60h   | FF61h   |
| **0AC8h**      | FF62h                        | FF63h   | FF64h   | FF65h   | FF66h   | FF67h   | FF68h   | FF69h   |
| **0AD0h**      | FF6Ah                        | FF6Bh   | FF6Ch   | FF6Dh   | FF6Eh   | FF6Fh   | FF70h   | FF71h   |
| **0AD8h**      | FF72h                        | FF73h   | FF74h   | FF75h   | FF76h   | FF77h   | FF78h   | FF79h   |
| **0AE0h**      | FF7Ah                        | FF7Bh   | FF7Ch   | FF7Dh   | FF7Eh   | FF7Fh   | FF80h   | FF81h   |
| **0AE8h**      | FF82h                        | FF83h   | FF84h   | FF85h   | FF86h   | FF87h   | FF88h   | FF89h   |
| **0AF0h**      | FF8Ah                        | FF8Bh   | FF8Ch   | FF8Dh   | FF8Eh   | FF8Fh   | FF90h   | FF91h   |
| **0AF8h**      | FF92h                        | FF93h   | FF94h   | FF95h   | FF96h   | FF97h   | FF98h   | FF99h   |
| **0B00h**      | FF9Ah                        | FF9Bh   | FF9Ch   | FF9Dh   | FF9Eh   | FF9Fh   | FFA0h   | FFA1h   |
| **0B08h**      | FFA2h                        | FFA3h   | FFA4h   | FFA5h   | FFA6h   | FFA7h   | FFA8h   | FFA9h   |
| **0B10h**      | ффаах                        | ффабх   | ффач   | ффадх   | ффаех   | ффафх   | FFB0h   | FFB1h   |
| **0B18h**      | FFB2h                        | FFB3h   | FFB4h   | FFB5h   | FFB6h   | FFB7h   | FFB8h   | FFB9h   |
| **0B20h**      | ффбах                        | ффббх   | ффбч   | ффбдх   | ффбех   | ффбфх   | FFC0h   | FFC1h   |
| **0B28h**      | FFC2h                        | FFC3h   | FFC4h   | FFC5h   | FFC6h   | FFC7h   | FFC8h   | FFC9h   |
| **0B30h**      | ффках                        | ффкбх   | ффкч   | ффкдх   | ффцех   | ффкфх   | FFD0h   | FFD1h   |
| **0B38h**      | FFD2h                        | FFD3h   | FFD4h   | FFD5h   | FFD6h   | FFD7h   | FFD8h   | FFD9h   |
| **0B40h**      | ффдах                        | ффдбх   | ффдч   | ффддх   | ффдех   | ффдфх   | FFE0h   | FFE1h   |
| **0B48h**      | FFE2h                        | FFE3h   | FFE4h   | FFE5h   | FFE6h   | FFE7h   | FFE8h   | FFE9h   |
| **0B50h**      | ффеах                        | ффебх   | ффеч   | ффедх   | ффих   | ффефх   | FFF0h   | FFF1h   |
| **0B58h**      | FFF2h                        | FFF3h   | FFF4h   | FFF5h   | FFF6h   | FFF7h   | FFF8h   | FFF9h   |
| **0B60h**      | фффах                        | фффбх   | фффч   | фффдх   | фффех   | ффффх   |         |         |

### <a name="73-volume-label-directory-entry"></a>Запись каталога меток тома 7,3

Метка тома — это строка в Юникоде, позволяющая конечным пользователям отличать свои тома хранилища. В файловой системе exFAT метка тома существует в качестве критической записи основного каталога в корневом каталоге (см. [табл. 26](#table-26-volume-label-directoryentry-structure)). Допустимое число записей каталога меток тома в диапазоне от 0 до 1.

<div id="table-26-volume-label-directoryentry-structure" />

**Таблица 26 метка тома, структура DirectoryEntry**

<table>
<thead>
<tr class="header">
<th><strong>Имя поля</strong></th>
<th><p><strong>Offset</strong></p>
<p><strong>двухбайтовых</strong></p></th>
<th><p><strong>Размер</strong></p>
<p><strong>двухбайтовых</strong></p></th>
<th><strong>Комментарии</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>EntryType</td>
<td>0</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#731-entrytype-field">раздел 7.3.1</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>чарактеркаунт</td>
<td>1</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#732-charactercount-field">раздел 7.3.2</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>VolumeLabel</td>
<td>2</td>
<td>22</td>
<td>Это поле является обязательным, а <a href="#733-volumelabel-field">раздел 7.3.3</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>Зарезервировано</td>
<td>24</td>
<td>8</td>
<td>Это поле является обязательным и его содержимое зарезервировано.</td>
</tr>
</tbody>
</table>

#### <a name="731-entrytype-field"></a>Поле 7.3.1 EntryType

Поле EntryType должно соответствовать определению, указанному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.1](#631-entrytype-field)).

##### <a name="7311-typecode-field"></a>Поле TypeCode 7.3.1.1

Поле TypeCode должно соответствовать определению, предоставленному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.1.1](#6311-typecode-field)).

Для записи каталога меток томов допустимое значение для этого поля:
3.

##### <a name="7312-typeimportance-field"></a>Поле 7.3.1.2 Типеимпортанце

Поле Типеимпортанце должно соответствовать определению, указанному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.1.2](#6312-typeimportance-field)).

Для записи каталога меток томов допустимое значение для этого поля:
0.

##### <a name="7313-typecategory-field"></a>Поле 7.3.1.3 Типекатегори

Поле Типекатегори должно соответствовать определению, указанному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.1.3](#6313-typecategory-field)).

##### <a name="7314-inuse-field"></a>Поле InUse 7.3.1.4

Поле InUse должно соответствовать определению, предоставленному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.1.4](#6314-inuse-field)).

#### <a name="732-charactercount-field"></a>Поле 7.3.2 Чарактеркаунт

Поле Чарактеркаунт должно содержать длину строки в Юникоде, которую содержит поле VolumeLabel.

Допустимый диапазон значений для этого поля:

- По крайней мере 0. Это означает, что строка Юникода имеет длину 0 символов (что эквивалентно отсутствию метки тома).

- Не более 11. Это означает, что строка в Юникоде имеет длину 11 символов

#### <a name="733-volumelabel-field"></a>Поле 7.3.3 VolumeLabel

Поле VolumeLabel должно содержать строку в Юникоде, которая является понятным именем тома. Поле VolumeLabel имеет тот же набор недопустимых символов, что и поле FileName записи каталога имени файла (см. [раздел 7.7.3](#773-filename-field)).

### <a name="74-file-directory-entry"></a>7,4 запись каталога файлов

Записи каталога файлов описывают файлы и каталоги. Они являются критически важными записями основного каталога, а любой каталог может содержать ноль или более записей каталога файлов (см. [табл. 27](#table-27-file-directoryentry)). Чтобы запись каталога файлов была допустимой, ровно одна запись каталога расширения потока и хотя бы одна запись каталога имени файла должна следовать непосредственно за записью каталога файлов (см. [раздел 7,6](#76-stream-extension-directory-entry) и [раздел 7,7](#77-file-name-directory-entry)соответственно).

<div id="table-27-file-directoryentry" />

**Таблица 27 файл DirectoryEntry**

<table>
<thead>
<tr class="header">
<th><strong>Имя поля</strong></th>
<th><p><strong>Offset</strong></p>
<p><strong>двухбайтовых</strong></p></th>
<th><p><strong>Размер</strong></p>
<p><strong>двухбайтовых</strong></p></th>
<th><strong>Комментарии</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>EntryType</td>
<td>0</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#741-entrytype-field">раздел 7.4.1</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>секондарикаунт</td>
<td>1</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#742-secondarycount-field">раздел 7.4.2</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>SetChecksum</td>
<td>2</td>
<td>2</td>
<td>Это поле является обязательным, а <a href="#743-setchecksum-field">раздел 7.4.3</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>FileAttributes</td>
<td>4</td>
<td>2</td>
<td>Это поле является обязательным, а <a href="#744-fileattributes-field">раздел 7.4.4</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>Reserved1</td>
<td>6</td>
<td>2</td>
<td>Это поле является обязательным и его содержимое зарезервировано.</td>
</tr>
<tr class="even">
<td>креатетиместамп</td>
<td>8</td>
<td>4</td>
<td>Это поле является обязательным, а <a href="#745-createtimestamp-create10msincrement-and-createutcoffset-fields"> раздел 7.4.5 </
a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>ластмодифиедтиместамп</td>
<td>12</td>
<td>4</td>
<td>Это поле является обязательным, а <a href="#746-lastmodifiedtimestamp-lastmodified10msincrement-and-lastmodifiedutcoffset-fields">раздел 7.4.6</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>ластакцесседтиместамп</td>
<td>16</td>
<td>4</td>
<td>Это поле является обязательным, а <a href="#747-lastaccessedtimestamp-and-lastaccessedutcoffset-fields">раздел 7.4.7</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>Create10msIncrement</td>
<td>20</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#745-createtimestamp-create10msincrement-and-createutcoffset-fields"> раздел 7.4.5 </
a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>LastModified10msIncrement</td>
<td>21</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#746-lastmodifiedtimestamp-lastmodified10msincrement-and-lastmodifiedutcoffset-fields">раздел 7.4.6</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>креатеуткоффсет</td>
<td>22</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#745-createtimestamp-create10msincrement-and-createutcoffset-fields"> раздел 7.4.5 </
a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>ластмодифиедуткоффсет</td>
<td>23</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#746-lastmodifiedtimestamp-lastmodified10msincrement-and-lastmodifiedutcoffset-fields">раздел 7.4.6</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>ластакцесседуткоффсет</td>
<td>24</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#747-lastaccessedtimestamp-and-lastaccessedutcoffset-fields">раздел 7.4.7</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>Reserved2</td>
<td>25</td>
<td>7</td>
<td>Это поле является обязательным и его содержимое зарезервировано.</td>
</tr>
</tbody>
</table>

#### <a name="741-entrytype-field"></a>Поле 7.4.1 EntryType

Поле EntryType должно соответствовать определению, указанному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.1](#631-entrytype-field)).

##### <a name="7411-typecode-field"></a>Поле TypeCode 7.4.1.1

Поле TypeCode должно соответствовать определению, предоставленному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.1.1](#6311-typecode-field)).

Для записи каталога файлов допустимое значение для этого поля равно 5.

##### <a name="7412-typeimportance-field"></a>Поле 7.4.1.2 Типеимпортанце

Поле Типеимпортанце должно соответствовать определению, указанному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.1.2](#6312-typeimportance-field)).

Для записи каталога файлов допустимое значение для этого поля равно 0.

##### <a name="7413-typecategory-field"></a>Поле 7.4.1.3 Типекатегори

Поле Типекатегори должно соответствовать определению, указанному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.1.3](#6313-typecategory-field)).

##### <a name="7414-inuse-field"></a>Поле InUse 7.4.1.4

Поле InUse должно соответствовать определению, предоставленному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.1.4](#6314-inuse-field)).

#### <a name="742-secondarycount-field"></a>Поле 7.4.2 Секондарикаунт

Поле Секондарикаунт должно соответствовать определению, указанному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.2](#632-secondarycount-field)).

#### <a name="743-setchecksum-field"></a>Поле 7.4.3 Сетчекксум

Поле Сетчекксум должно соответствовать определению, указанному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.3](#633-setchecksum-field)).

#### <a name="744-fileattributes-field"></a>Поле 7.4.4 FileAttributes

Поле FileAttributes содержит флаги (см. [таблицу 28](#table-28-fileattributes-field-structure)).

<div id="table-28-fileattributes-field-structure" />

**Таблица 28 FileAttributes структура поля**

<table>
<thead>
<tr class="header">
<th><strong>Имя поля</strong></th>
<th><p><strong>Offset</strong></p>
<p><strong>версий</strong></p></th>
<th><p><strong>Размер</strong></p>
<p><strong>числа</strong></p></th>
<th><strong>Комментарии</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>ReadOnly</td>
<td>0</td>
<td>1</td>
<td>Это поле является обязательным и соответствует определению MS-DOS.</td>
</tr>
<tr class="even">
<td>Скрытый</td>
<td>1</td>
<td>1</td>
<td>Это поле является обязательным и соответствует определению MS-DOS.</td>
</tr>
<tr class="odd">
<td>Система</td>
<td>2</td>
<td>1</td>
<td>Это поле является обязательным и соответствует определению MS-DOS.</td>
</tr>
<tr class="even">
<td>Reserved1</td>
<td>3</td>
<td>1</td>
<td>Это поле является обязательным и его содержимое зарезервировано.</td>
</tr>
<tr class="odd">
<td>Каталог</td>
<td>4</td>
<td>1</td>
<td>Это поле является обязательным и соответствует определению MS-DOS.</td>
</tr>
<tr class="even">
<td>Архив</td>
<td>5</td>
<td>1</td>
<td>Это поле является обязательным и соответствует определению MS-DOS.</td>
</tr>
<tr class="odd">
<td>Reserved2</td>
<td>6</td>
<td>10</td>
<td>Это поле является обязательным и его содержимое зарезервировано.</td>
</tr>
</tbody>
</table>

#### <a name="745-createtimestamp-create10msincrement-and-createutcoffset-fields"></a>Поля 7.4.5 Креатетиместамп, Create10msIncrement и Креатеуткоффсет

В сочетании с полями Креатетиместамп и CreateTime10msIncrement будут описываться локальные Дата и время создания данного файла или каталога. Поле Креатеуткоффсет описывает смещение локальной даты и времени относительно времени в формате UTC. Реализации должны устанавливать эти поля при создании заданного набора записей каталога.

Эти поля должны соответствовать определениям полей timestamp, 10msIncrement и Уткоффсет (см. [раздел 7.4.8](#748-timestamp-fields), [раздел 7.4.9](#749-10msincrement-fields)и [раздел 7.4.10](#7410-utcoffset-fields)соответственно).

#### <a name="746-lastmodifiedtimestamp-lastmodified10msincrement-and-lastmodifiedutcoffset-fields"></a>Поля 7.4.6 Ластмодифиедтиместамп, LastModified10msIncrement и Ластмодифиедуткоффсет

В комбинации поля Ластмодифиедтиместамп и LastModifiedTime10msIncrement должны описывать локальные дату и время последнего изменения содержимого любого из кластеров, связанных с данной записью каталога расширения потока. Поле Ластмодифиедуткоффсет описывает смещение локальной даты и времени относительно времени в формате UTC. Реализации должны обновлять следующие поля:

1. После изменения содержимого любого из кластеров, связанных с заданной записью каталога расширения потока (за исключением содержимого, которое существует за точкой, описанной в поле Валиддаталенгс)

2. При изменении значений полей Валиддаталенгс или DATALENGTH

Эти поля должны соответствовать определениям полей timestamp, 10msIncrement и Уткоффсет (см. [раздел 7.4.8](#748-timestamp-fields), [раздел 7.4.9](#749-10msincrement-fields)и [раздел 7.4.10](#7410-utcoffset-fields)соответственно).

#### <a name="747-lastaccessedtimestamp-and-lastaccessedutcoffset-fields"></a>Поля 7.4.7 Ластакцесседтиместамп и Ластакцесседуткоффсет

В поле Ластакцесседтиместамп («значения») указывается локальная Дата и время последнего обращения к содержимому любого из кластеров, связанных с данной записью каталога расширения потока. Поле Ластакцесседуткоффсет описывает смещение локальной даты и времени относительно времени в формате UTC.
Реализации должны обновлять следующие поля:

1. После изменения содержимого любого из кластеров, связанных с заданной записью каталога расширения потока (за исключением содержимого, которое существует за пределами Валиддаталенгс)

2. При изменении значений полей Валиддаталенгс или DATALENGTH

Реализации должны обновлять эти поля после считывания содержимого любого из кластеров, связанных с заданной записью каталога расширения потока.

Эти поля должны соответствовать определениям полей timestamp и Уткоффсет (см. [раздел 7.4.8](#748-timestamp-fields) и [раздел 7.4.10](#7410-utcoffset-fields)соответственно).

#### <a name="748-timestamp-fields"></a>7.4.8 поля отметок времени

Поля отметок времени описывают локальные дату и время до двух секунд (см. [таблицу 29](#table-29-timestamp-field-structure)).

<div id="table-29-timestamp-field-structure" />

**Структура поля таблицы 29 меток времени**

<table>
<thead>
<tr class="header">
<th><strong>Имя поля</strong></th>
<th><p><strong>Offset</strong></p>
<p><strong>версий</strong></p></th>
<th><p><strong>Размер</strong></p>
<p><strong>числа</strong></p></th>
<th><strong>Комментарии</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>даублесекондс</td>
<td>0</td>
<td>5</td>
<td>Это поле является обязательным, а <a href="#7481-doubleseconds-field">раздел 7.4.8.1</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>Минута</td>
<td>5</td>
<td>6</td>
<td>Это поле является обязательным, а <a href="#7482-minute-field">раздел 7.4.8.2</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>Час</td>
<td>11</td>
<td>5</td>
<td>Это поле является обязательным, а <a href="#7483-hour-field">раздел 7.4.8.3</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>День</td>
<td>16</td>
<td>5</td>
<td>Это поле является обязательным, а <a href="#7484-day-field">раздел 7.4.8.4</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>Month</td>
<td>21</td>
<td>4</td>
<td>Это поле является обязательным, а <a href="#7485-month-field">раздел 7.4.8.5</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>Year;</td>
<td>25</td>
<td>7</td>
<td>Это поле является обязательным, а <a href="#7486-year-field">раздел 7.4.8.6</a> определяет его содержимое.</td>
</tr>
</tbody>
</table>

##### <a name="7481-doubleseconds-field"></a>Поле 7.4.8.1 Даублесекондс

Поле Даублесекондс должно описывать секунды в поле метки времени двумя секундами.

Допустимый диапазон значений для этого поля:

- 0, представляющее 0 секунд

- 29, что представляет 58 секунды

##### <a name="7482-minute-field"></a>Поле 7.4.8.2 Minute

Поле минуты должно описывать минуты в поле timestamp.

Допустимый диапазон значений для этого поля:

- 0, представляющее 0 минут

- 59, представляющее 59 минут

##### <a name="7483-hour-field"></a>Поле часа 7.4.8.3

Поле Hour (час) должно описывать часть часов в поле timestamp.

Допустимый диапазон значений для этого поля:

- 0, которое представляет 00:00 часов

- 23, что представляет 23:00 часа

##### <a name="7484-day-field"></a>Поле дня 7.4.8.4

В поле Day (день) должна быть описана часть дня в поле timestamp.

Допустимый диапазон значений для этого поля:

- 1 — первый день данного месяца

- Последний день данного месяца (заданный месяц определяет количество допустимых дней)

##### <a name="7485-month-field"></a>Поле месяца 7.4.8.5

Поле month (месяц) должно описывать часть месяца поля timestamp.

Допустимый диапазон значений для этого поля:

- Не менее 1, что представляет Январь

- Не более 12, что представляет Декабрь

##### <a name="7486-year-field"></a>Поле года 7.4.8.6

Поле Year (год) должно описывать часть года поля timestamp (год) относительно года 1980. Это поле представляет год 1980 со значением 0 и годом 2107 со значением 127.

Все возможные значения для этого поля являются допустимыми.

#### <a name="749-10msincrement-fields"></a>Поля 7.4.9 10msIncrement

поля 10msIncrement предоставляют дополнительное разрешение времени для соответствующих полей меток времени в течение десяти миллисекунд.

Диапазон допустимых значений для этих полей должен быть следующим:

- Не менее 0, что представляет 0 миллисекунд

- Не более 199, что представляет 1990 миллисекунд

#### <a name="7410-utcoffset-fields"></a>Поля 7.4.10 Уткоффсет

Поля Уткоффсет (см. [таблицу 30](#table-30-utcoffset-field-structure)) должны описывать смещение относительно времени в формате UTC локальным датам и времени, описанным в соответствующих полях timestamp и 10msIncrement. Смещение от времени в формате UTC к локальной дате и времени включает влияние часовых поясов и других корректировок даты и времени, таких как переход на летнее время и региональные изменения в летнем времени.

<div id="table-30-utcoffset-field-structure" />

**Структура поля таблицы 30 Уткоффсет**

<table>
<thead>
<tr class="header">
<th><strong>Имя поля</strong></th>
<th><p><strong>Offset</strong></p>
<p><strong>версий</strong></p></th>
<th><p><strong>Размер</strong></p>
<p><strong>числа</strong></p></th>
<th><strong>Комментарии</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>оффсетфромутк</td>
<td>0</td>
<td>7</td>
<td>Это поле является обязательным, а <a href="#74101-offsetfromutc-field">раздел 7.4.10.1</a>определяет его содержимое.</td>
</tr>
<tr class="even">
<td>оффсетвалид</td>
<td>7</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#74102-offsetvalid-field">раздел 7.4.10.2</a> определяет его содержимое.</td>
</tr>
</tbody>
</table>

##### <a name="74101-offsetfromutc-field"></a>Поле 7.4.10.1 Оффсетфромутк

Поле Оффсетфромутк должно описывать смещение относительно времени в формате UTC для локальной даты и времени, в которой содержатся связанные поля timestamp и 10msIncrement.
В этом поле описывается смещение от времени UTC за 15-минутные интервалы (см. таблицу 31).

<div id="table-31-meaning-of-the-values-of-the-offsetfromutc-field" />

**Таблица 31 значение поля Оффсетфромутк**

<table>
<thead>
<tr class="header">
<th><strong>Значение</strong></th>
<th><strong>Десятичный эквивалент со знаком</strong></th>
<th><strong>Описание</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>3Fh</td>
<td>63</td>
<td>Локальные Дата и время имеют формат UTC + 15:45</td>
</tr>
<tr class="even">
<td>3Eh</td>
<td>62</td>
<td>Локальные Дата и время имеют формат UTC + 15:30</td>
</tr>
<tr class="odd">
<td><p>.</p>
<p>.</p>
<p>.</p></td>
<td><p>.</p>
<p>.</p>
<p>.</p></td>
<td><p>.</p>
<p>.</p>
<p>.</p></td>
</tr>
<tr class="even">
<td>01h</td>
<td>1</td>
<td>Локальные Дата и время имеют формат UTC + 00:15</td>
</tr>
<tr class="odd">
<td>17:00</td>
<td>0</td>
<td>Локальные Дата и время — UTC</td>
</tr>
<tr class="even">
<td>7Fh</td>
<td>-1</td>
<td>Локальные Дата и время — UTC – 00:15</td>
</tr>
<tr class="odd">
<td><p>.</p>
<p>.</p>
<p>.</p></td>
<td><p>.</p>
<p>.</p>
<p>.</p></td>
<td><p>.</p>
<p>.</p>
<p>.</p></td>
</tr>
<tr class="even">
<td>41h</td>
<td>— 63</td>
<td>Локальные Дата и время — UTC – 15:45</td>
</tr>
<tr class="odd">
<td>40h</td>
<td>— 64</td>
<td>Локальные Дата и время — UTC – 16:00</td>
</tr>
</tbody>
</table>

Как показано в таблице выше, все возможные значения для этого поля являются допустимыми. Однако реализации должны зафиксировать значение 17:00 для этого поля, только если:

1. Локальные Дата и время совпадают с временем в формате UTC. в этом случае значение поля Оффсетвалид должно быть равно 1.

2. Локальные Дата и время неизвестны. в этом случае значение поля Оффсетвалид должно быть равно 1, а реализации — в формате UTC в качестве локальной даты и времени.

3. Время в формате UTC неизвестно, в этом случае значение поля Оффсетвалид должно быть равно 0.

Если смещение локальной даты и времени в формате UTC не является кратным интервалом в 15 минут, то реализации должны записать 17:00 в поле Оффсетфромутк и использовать время в формате UTC в качестве локальной даты и времени.

##### <a name="74102-offsetvalid-field"></a>Поле 7.4.10.2 Оффсетвалид

Поле Оффсетвалид должно описывать, является ли содержимое поля Оффсетфромутк допустимым, следующим образом:

- 0 — это означает, что содержимое поля Оффсетфромутк недопустимо
    > и должны быть 17:00

- 1, что означает допустимость содержимого поля Оффсетфромутк

Реализации должны присвоить этому полю значение 0, если время в формате UTC недоступно для вычисления значения поля Оффсетфромутк. Если это поле содержит значение 0, то реализации должны рассматривать поля timestamp и 10msIncrement как имеющие то же смещение UTC, что и текущие локальные Дата и время.

### <a name="75-volume-guid-directory-entry"></a>Запись каталога GUID тома 7,5

Запись каталога GUID тома содержит идентификатор GUID, который позволяет реализациям уникально и программно отличать тома.
GUID тома существует в качестве некритической записи основного каталога в корневом каталоге (см. [таблицу 32](#table-32-volume-guid-directoryentry)). Допустимое число записей в каталоге GUID тома в диапазоне от 0 до 1.

<div id="table-32-volume-guid-directoryentry" />

**Таблица 32 GUID тома DirectoryEntry**

<table>
<thead>
<tr class="header">
<th><strong>Имя поля</strong></th>
<th><p><strong>Offset</strong></p>
<p><strong>двухбайтовых</strong></p></th>
<th><p><strong>Размер</strong></p>
<p><strong>двухбайтовых</strong></p></th>
<th><strong>Комментарии</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>EntryType</td>
<td>0</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#751-entrytype-field">раздел 7.5.1</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>секондарикаунт</td>
<td>1</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#752-secondarycount-field">раздел 7.5.2</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>SetChecksum</td>
<td>2</td>
<td>2</td>
<td>Это поле является обязательным, а <a href="#753-setchecksum-field">раздел 7.5.3</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>женералпримарифлагс</td>
<td>4</td>
<td>2</td>
<td>Это поле является обязательным, а <a href="#754-generalprimaryflags-field">раздел 7.5.4</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>VolumeGuid</td>
<td>6</td>
<td>16</td>
<td>Это поле является обязательным, а <a href="#755-volumeguid-field">раздел 7.5.5</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>Зарезервировано</td>
<td>22</td>
<td>10</td>
<td>Это поле является обязательным и его содержимое зарезервировано.</td>
</tr>
</tbody>
</table>

#### <a name="751-entrytype-field"></a>Поле 7.5.1 EntryType

Поле EntryType должно соответствовать определению, указанному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.1](#631-entrytype-field)).

##### <a name="7511-typecode-field"></a>Поле TypeCode 7.5.1.1

Поле TypeCode должно соответствовать определению, предоставленному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.1.1](#6311-typecode-field)).

Для записи каталога GUID тома допустимым значением для этого поля является
0.

##### <a name="7512-typeimportance-field"></a>Поле 7.5.1.2 Типеимпортанце

Поле Типеимпортанце должно соответствовать определению, указанному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.1.2](#6312-typeimportance-field)).

Для записи каталога GUID тома допустимым значением для этого поля является
1.

##### <a name="7513-typecategory-field"></a>Поле 7.5.1.3 Типекатегори

Поле Типекатегори должно соответствовать определению, указанному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.1.3](#6313-typecategory-field)).

##### <a name="7514-inuse-field"></a>Поле InUse 7.5.1.4

Поле InUse должно соответствовать определению, предоставленному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.1.4](#6314-inuse-field)).

#### <a name="752-secondarycount-field"></a>Поле 7.5.2 Секондарикаунт

Поле Секондарикаунт должно соответствовать определению, указанному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.2](#632-secondarycount-field)).

Для записи каталога GUID тома допустимым значением для этого поля является
0.

#### <a name="753-setchecksum-field"></a>Поле 7.5.3 Сетчекксум

Поле Сетчекксум должно соответствовать определению, указанному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.3](#633-setchecksum-field)).

#### <a name="754-generalprimaryflags-field"></a>Поле 7.5.4 Женералпримарифлагс

Поле Женералпримарифлагс должно соответствовать определению, указанному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.4](#634-generalprimaryflags-field)), и определяет содержимое поля кустомдефинед, которое должно быть зарезервировано.

##### <a name="7541-allocationpossible-field"></a>Поле 7.5.4.1 Аллокатионпоссибле

Поле Аллокатионпоссибле должно соответствовать определению, указанному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.4.1](#6341-allocationpossible-field)).

Для записи каталога GUID тома допустимым значением для этого поля является
0.

##### <a name="7542-nofatchain-field"></a>Поле 7.5.4.2 Нофатчаин

Поле Нофатчаин должно соответствовать определению, указанному в универсальном шаблоне основной DirectoryEntry (см. [раздел 6.3.4.2](#6342-nofatchain-field)).

#### <a name="755-volumeguid-field"></a>Поле 7.5.5 VolumeGuid

Поле VolumeGuid должно содержать идентификатор GUID, однозначно определяющий данный том.

Все возможные значения для этого поля являются допустимыми, за исключением идентификатора GUID, который имеет значение {00000000-0000-0000-0000-000000000000} .

### <a name="76-stream-extension-directory-entry"></a>Запись каталога расширения потока 7,6

Запись каталога расширения потока является критической записью вторичного каталога в наборах записей каталога файлов (см. [таблицу 33](#table-33-stream-extension-directoryentry)). Допустимое число записей каталога расширения потока в наборе записей каталога файлов равно 1.
Кроме того, эта запись каталога действительна только в том случае, если она непосредственно следует за записью каталога файлов.

<div id="table-33-stream-extension-directoryentry" />

**Таблица 33 расширения потока таблицы**

<table>
<thead>
<tr class="header">
<th><strong>Имя поля</strong></th>
<th><p><strong>Offset</strong></p>
<p><strong>двухбайтовых</strong></p></th>
<th><p><strong>Размер</strong></p>
<p><strong>двухбайтовых</strong></p></th>
<th><strong>Комментарии</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>EntryType</td>
<td>0</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#761-entrytype-field">раздел 7.6.1</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>женералсекондарифлагс</td>
<td>1</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#762-generalsecondaryflags-field">раздел 7.6.2</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>Reserved1</td>
<td>2</td>
<td>1</td>
<td>Это поле является обязательным и его содержимое зарезервировано.</td>
</tr>
<tr class="even">
<td>NameLength</td>
<td>3</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#763-namelength-field">раздел 7.6.3</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>намехаш</td>
<td>4</td>
<td>2</td>
<td>Это поле является обязательным, а <a href="#764-namehash-field">раздел 7.6.4</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>Reserved2</td>
<td>6</td>
<td>2</td>
<td>Это поле является обязательным и его содержимое зарезервировано.</td>
</tr>
<tr class="odd">
<td>валиддаталенгс</td>
<td>8</td>
<td>8</td>
<td>Это поле является обязательным, а <a href="#765-validdatalength-field">раздел 7.6.5</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>Reserved3</td>
<td>16</td>
<td>4</td>
<td>Это поле является обязательным и его содержимое зарезервировано.</td>
</tr>
<tr class="odd">
<td>фирстклустер</td>
<td>20</td>
<td>4</td>
<td>Это поле является обязательным, а <a href="#766-firstcluster-field">раздел 7.6.6</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>DataLength</td>
<td>24</td>
<td>8</td>
<td>Это поле является обязательным, а <a href="#767-datalength-field">раздел 7.6.7</a> определяет его содержимое.</td>
</tr>
</tbody>
</table>

#### <a name="761-entrytype-field"></a>Поле 7.6.1 EntryType

Поле EntryType должно соответствовать определению, указанному в универсальном шаблоне вторичной DirectoryEntry (см. [раздел 6.4.1](#641-entrytype-field)).

##### <a name="7611-typecode-field"></a>Поле TypeCode 7.6.1.1

Поле TypeCode должно соответствовать определению, указанному в универсальном шаблоне вторичной DirectoryEntry (см. [раздел 6.4.1.1](#6411-typecode-field)).

Для записи каталога расширения Stream допустимое значение для этого поля равно 0.

##### <a name="7612-typeimportance-field"></a>Поле 7.6.1.2 Типеимпортанце

Поле Типеимпортанце должно соответствовать определению, указанному в универсальном шаблоне вторичной DirectoryEntry (см. [раздел 6.4.1.2](#6412-typeimportance-field)).

Для записи каталога расширения Stream допустимое значение для этого поля равно 0.

##### <a name="7613-typecategory-field"></a>Поле 7.6.1.3 Типекатегори

Поле Типекатегори должно соответствовать определению, указанному в универсальном шаблоне вторичной DirectoryEntry (см. [раздел 6.4.1.3](#6413-typecategory-field)).

##### <a name="7614-inuse-field"></a>Поле InUse 7.6.1.4

Поле InUse должно соответствовать определению, указанному в шаблоне вторичной вспомогательной DirectoryEntry (см. [раздел 6.4.1.4](#6414-inuse-field)).

#### <a name="762-generalsecondaryflags-field"></a>Поле 7.6.2 Женералсекондарифлагс

Поле Женералсекондарифлагс должно соответствовать определению, указанному в универсальном шаблоне вторичной DirectoryEntry (см. [раздел 6.4.2](#642-generalsecondaryflags-field)), и определяет содержимое поля кустомдефинед, которое должно быть зарезервировано.

##### <a name="7621-allocationpossible-field"></a>Поле 7.6.2.1 Аллокатионпоссибле

Поле Аллокатионпоссибле должно соответствовать определению, указанному в универсальном шаблоне вторичной DirectoryEntry (см. [раздел 6.4.2.1](#6421-allocationpossible-field)).

Для записи каталога расширения Stream допустимое значение для этого поля равно 1.

##### <a name="7622-nofatchain-field"></a>Поле 7.6.2.2 Нофатчаин

Поле Нофатчаин должно соответствовать определению, указанному в универсальном шаблоне вторичной DirectoryEntry (см. [раздел 6.4.2.2](#6422-nofatchain-field)).

#### <a name="763-namelength-field"></a>Поле 7.6.3 Намеленгс

Поле Намеленгс должно содержать длину строки в Юникоде, которая содержала последующие записи каталога имен файлов (см. [раздел 7,7](#77-file-name-directory-entry)).

Допустимый диапазон значений для этого поля:

- По крайней мере 1 — это Кратчайшее возможное имя файла

- Не более 255 — наибольшее возможное имя файла

Значение поля Намеленгс также влияет на записи каталога с именем файла Number (см. [раздел 7,7](#77-file-name-directory-entry)).

#### <a name="764-namehash-field"></a>Поле 7.6.4 Намехаш

Поле Намехаш должно содержать 2-байтный хэш (см. [рис. 4](#figure-4-namehash-computation)) имени файла с учетом регистра. Это позволяет реализациям выполнять быстрое сравнение при поиске файла по имени. Что важнее, Намехаш обеспечивает проверку несоответствия. Реализации должны проверять все Намехаш соответствия, сравнивая имя файла с повышенными регистрами.

<div id="figure-4-namehash-computation" />

**Рис. 4 Вычисление Намехаш**

```C
UInt16 NameHash
(
    WCHAR * FileName,    // points to an in-memory copy of the up-cased file name
    UCHAR   NameLength
)
{
    UCHAR  * Buffer = (UCHAR *)FileName;
    UInt16   NumberOfBytes = (UInt16)NameLength * 2;
    UInt16   Hash = 0;
    UInt16   Index;

    for (Index = 0; Index < NumberOfBytes; Index++)
    {
        Hash = ((Hash&1) ? 0x8000 : 0) + (Hash>>1) + (UInt16)Buffer[Index];
    }
    return Hash;
}
```

#### <a name="765-validdatalength-field"></a>Поле 7.6.5 Валиддаталенгс

Поле Валиддаталенгс должно описывать, насколько далеко данные пользователя потока данных были записаны. Реализации должны обновлять это поле при записи данных в поток данных. На носителе хранилища данные между допустимой длиной данных и длиной данных потока данных не определены. Реализации должны возвращать нули для операций чтения за пределами допустимой длины данных.

Если соответствующая запись каталога файлов описывает каталог, единственное допустимое значение для этого поля равно значению поля DATALENGTH. В противном случае диапазон допустимых значений для этого поля должен быть следующим:

- По крайней мере 0 — это означает, что данные пользователя не были записаны в поток данных.

- В большинстве случаев, что означает, что пользовательские данные были записаны на всю длину потока данных.

#### <a name="766-firstcluster-field"></a>Поле 7.6.6 Фирстклустер

Поле Фирстклустер должно соответствовать определению, указанному в универсальном шаблоне вторичной DirectoryEntry (см. [раздел 6.4.3](#643-firstcluster-field)).

Это поле должно содержать индекс первого кластера потока данных, в котором размещаются данные пользователя.

#### <a name="767-datalength-field"></a>Поле 7.6.7 DATALENGTH

Поле DATALENGTH должно соответствовать определению, указанному в шаблоне вторичного шаблона DirectoryEntry (см. [раздел 6.4.4](#644-datalength-field)).

Если соответствующая запись каталога файлов описывает каталог, то допустимым значением для этого поля является весь размер связанного выделения памяти в байтах, что может быть равно 0. Кроме того, для каталогов максимальное значение для этого поля равно 256 МБ.

### <a name="77-file-name-directory-entry"></a>Запись каталога с именем файла 7,7

Записи каталога с именами файлов являются критически важными записями вторичного каталога в наборах записей каталога файлов (см. [таблицу 34](#table-34-file-name-directoryentry)). Допустимое число записей каталога имен файлов в наборе записи каталога файлов — Намеленгс/15, округленное до ближайшего целого числа. Кроме того, записи каталога с именами файлов допустимы только в том случае, если они сразу следуют за записью каталога расширения потока в виде последовательности. Записи каталога имен файлов комбинируются для формирования имени файла для набора записей каталога файлов.

Все дочерние элементы данной записи каталога должны иметь уникальные наборы записей каталога имен файлов. Это означает, что после истечения регистра в пределах одного каталога не может быть повторяющихся имен файлов или каталогов.

<div id="table-34-file-name-directoryentry" />

**Таблица 34 имя файла DirectoryEntry**

<table>
<thead>
<tr class="header">
<th><strong>Имя поля</strong></th>
<th><p><strong>Offset</strong></p>
<p><strong>двухбайтовых</strong></p></th>
<th><p><strong>Размер</strong></p>
<p><strong>двухбайтовых</strong></p></th>
<th><strong>Комментарии</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>EntryType</td>
<td>0</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#771-entrytype-field">раздел 7.7.1</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>женералсекондарифлагс</td>
<td>1</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#772-generalsecondaryflags-field">раздел 7.7.2</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>FileName</td>
<td>2</td>
<td>30</td>
<td>Это поле является обязательным, а <a href="#773-filename-field">раздел 7.7.3</a> определяет его содержимое.</td>
</tr>
</tbody>
</table>

#### <a name="771-entrytype-field"></a>Поле 7.7.1 EntryType

Поле EntryType должно соответствовать определению, указанному в универсальном шаблоне вторичной DirectoryEntry (см. [раздел 6.4.1](#641-entrytype-field)).

##### <a name="7711-typecode-field"></a>Поле TypeCode 7.7.1.1

Поле TypeCode должно соответствовать определению, указанному в универсальном шаблоне вторичной DirectoryEntry (см. [раздел 6.4.1.1](#6411-typecode-field)).

Для записи каталога расширения Stream допустимое значение для этого поля равно 1.

##### <a name="7712-typeimportance-field"></a>Поле 7.7.1.2 Типеимпортанце

Поле Типеимпортанце должно соответствовать определению, указанному в универсальном шаблоне вторичной DirectoryEntry (см. [раздел 6.4.1.2](#6412-typeimportance-field)).

Для записи каталога расширения Stream допустимое значение для этого поля равно 0.

##### <a name="7713-typecategory-field"></a>Поле 7.7.1.3 Типекатегори

Поле Типекатегори должно соответствовать определению, указанному в универсальном шаблоне вторичной DirectoryEntry (см. [раздел 6.4.1.3](#6413-typecategory-field)).

##### <a name="7714-inuse-field"></a>Поле InUse 7.7.1.4

Поле InUse должно соответствовать определению, указанному в шаблоне вторичной вспомогательной DirectoryEntry (см. [раздел 6.4.1.4](#6414-inuse-field)).

#### <a name="772-generalsecondaryflags-field"></a>Поле 7.7.2 Женералсекондарифлагс

Поле Женералсекондарифлагс должно соответствовать определению, указанному в универсальном шаблоне вторичной DirectoryEntry (см. [раздел 6.4.2](#642-generalsecondaryflags-field)), и определяет содержимое поля кустомдефинед, которое должно быть зарезервировано.

##### <a name="7721-allocationpossible-field"></a>Поле 7.7.2.1 Аллокатионпоссибле

Поле Аллокатионпоссибле должно соответствовать определению, указанному в универсальном шаблоне вторичной DirectoryEntry (см. [раздел 6.4.2.1](#6421-allocationpossible-field)).

Для записи каталога расширения Stream допустимое значение для этого поля равно 0.

##### <a name="7722-nofatchain-field"></a>Поле 7.7.2.2 Нофатчаин

Поле Нофатчаин должно соответствовать определению, указанному в универсальном шаблоне вторичной DirectoryEntry (см. [раздел 6.4.2.2](#6422-nofatchain-field)).

#### <a name="773-filename-field"></a>Поле имени файла 7.7.3

Поле FileName должно содержать строку в Юникоде, которая является частью имени файла. В записи каталога "имя файла заказа" существует в наборе записей каталога файлов, поля FileName сцепляются, образуя имя файла для набора записей каталога файлов. Учитывая длину поля FileName, 15 символов и максимальное число записей каталога имен файлов, 17, максимальная длина итогового объединенного файла:
255.

Объединенное имя файла имеет тот же набор недопустимых символов, что и другие файловые системы на базе FAT (см. [таблицу 35](#table-35-invalid-filename-characters)). Реализации должны задать значение 0000h в полях FileName неиспользуемые символы.

<div id="table-35-invalid-filename-characters" />

**Таблица 35. недопустимые символы имени файла**

| **Код символа** | **Описание** | **Код символа** | **Описание**   | **Код символа** | **Описание** |
|--------------------|-----------------|--------------------|-------------------|--------------------|-----------------|
| 0000h              | Контрольный код    | 0001h              | Контрольный код      | 0002h              | Контрольный код    |
| 0003h              | Контрольный код    | 0004h              | Контрольный код      | 0005h              | Контрольный код    |
| 0006h              | Контрольный код    | 0007h              | Контрольный код      | 0008h              | Контрольный код    |
| 0009h              | Контрольный код    | 000Ah              | Контрольный код      | 000Bh              | Контрольный код    |
| 000Ch              | Контрольный код    | 000Dh              | Контрольный код      | 000Eh              | Контрольный код    |
| 000Fh              | Контрольный код    | 0010h              | Контрольный код      | 0011h              | Контрольный код    |
| 0012h              | Контрольный код    | 0013h              | Контрольный код      | 0014h              | Контрольный код    |
| 0015h              | Контрольный код    | 0016h              | Контрольный код      | 0017h              | Контрольный код    |
| 0018h              | Контрольный код    | 0019h              | Контрольный код      | 001Ah              | Контрольный код    |
| 001Bh              | Контрольный код    | 001Ch              | Контрольный код      | 001Dh              | Контрольный код    |
| 001Eh              | Контрольный код    | 001Fh              | Контрольный код      | 0022h              | Знак кавычек  |
| 002Ah              | Asterisk        | 002Fh              | Косая черта     | 003Ah              | Двоеточие           |
| 003Ch              | Знак "меньше"  | 003Eh              | Знак "больше" | 003Fh              | Вопросительный знак   |
| 005Ch              | Обратная косая черта      | 007Ch              | Вертикальная черта      |                    |                 |

Имена файлов "." и ".." имеют особое значение "Этот каталог" и "содержащий каталог" соответственно. Реализации не должны записывать ни одно из этих зарезервированных имен файлов в поле FileName.
Однако реализации могут создавать эти два имени файлов в списках каталогов, чтобы ссылаться на каталог, указанный в списке, и на содержащий его каталог.

В реализациях может потребоваться ограничить имена файлов и каталогов только кодировкой ASCII. Если это так, они должны ограничивать использование символов диапазоном допустимых символов в первых 128 записях Юникода. При взаимоработе с пользователем они по-прежнему должны хранить имена файлов и каталогов в Юникоде на томе и переводить их в формат ASCII или Юникод.

### <a name="78-vendor-extension-directory-entry"></a>7,8 запись каталога расширения поставщика

Запись каталога расширения поставщика является некритической записью вторичного каталога в наборах записей каталога файлов (см. [таблицу 36](#table-36-vendor-extension-directoryentry)). Набор записей каталога файлов может содержать любое количество записей в каталоге расширения поставщика, вплоть до предельного числа записей вторичного каталога, меньшего количества других записей вторичного каталога. Кроме того, записи каталога расширения поставщика допустимы только в том случае, если они не предшествуют требуемому расширению потока и записям каталога имен файлов.

Записи каталога расширения поставщика позволяют поставщикам использовать уникальные записи каталога конкретного поставщика в отдельных наборах записей каталога файлов с помощью поля Вендоргуид (см. [таблицу 36](#table-36-vendor-extension-directoryentry)). Уникальные записи каталога эффективно позволяют поставщикам расширить файловую систему exFAT. Поставщики могут определять содержимое поля Вендордефинед (см. [таблицу 36](#table-36-vendor-extension-directoryentry)). Реализации поставщиков могут поддерживать содержимое поля Вендордефинед и предоставлять функции, зависящие от поставщика.

Реализации, которые не распознают идентификатор GUID записи каталога расширения поставщика, должны считать запись каталога такой же, как и любая другая неизвестная запись вторичного каталога (см. [раздел 8,2](#82-implications-of-unrecognized-directory-entries)).

<div id="table-36-vendor-extension-directoryentry" />

**Таблица подтаблицы расширения поставщика 36**

<table>
<thead>
<tr class="header">
<th><strong>Имя поля</strong></th>
<th><p><strong>Offset</strong></p>
<p><strong>двухбайтовых</strong></p></th>
<th><p><strong>Размер</strong></p>
<p><strong>двухбайтовых</strong></p></th>
<th><strong>Комментарии</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>EntryType</td>
<td>0</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#781-entrytype-field">раздел 7.8.1</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>женералсекондарифлагс</td>
<td>1</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#782-generalsecondaryflags-field">раздел 7.8.2</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>вендоргуид</td>
<td>2</td>
<td>16</td>
<td>Это поле является обязательным, а <a href="#783-vendorguid-field">раздел 7.8.3</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>вендордефинед</td>
<td>18</td>
<td>14</td>
<td>Это поле является обязательным, и поставщики могут определить его содержимое.</td>
</tr>
</tbody>
</table>

#### <a name="781-entrytype-field"></a>Поле 7.8.1 EntryType

Поле EntryType должно соответствовать определению, указанному в универсальном шаблоне вторичной DirectoryEntry (см. [раздел 6.4.1](#641-entrytype-field)).

##### <a name="7811-typecode-field"></a>Поле TypeCode 7.8.1.1

Поле TypeCode должно соответствовать определению, указанному в универсальном шаблоне вторичной DirectoryEntry (см. [раздел 6.4.1.1](#6411-typecode-field)).

Для записи каталога расширения поставщика допустимым значением для этого поля является 0.

##### <a name="7812-typeimportance-field"></a>Поле 7.8.1.2 Типеимпортанце

Поле Типеимпортанце должно соответствовать определению, указанному в универсальном шаблоне вторичной DirectoryEntry (см. [раздел 6.4.1.2](#6412-typeimportance-field)).

Для записи каталога расширения поставщика допустимым значением для этого поля является 1.

##### <a name="7813-typecategory-field"></a>Поле 7.8.1.3 Типекатегори

Поле Типекатегори должно соответствовать определению, указанному в универсальном шаблоне вторичной DirectoryEntry (см. [раздел 6.4.1.3](#6413-typecategory-field)).

##### <a name="7814-inuse-field"></a>Поле InUse 7.8.1.4

Поле InUse должно соответствовать определению, указанному в шаблоне вторичной вспомогательной DirectoryEntry (см. [раздел 6.4.1.4](#6414-inuse-field)).

#### <a name="782-generalsecondaryflags-field"></a>Поле 7.8.2 Женералсекондарифлагс

Поле Женералсекондарифлагс должно соответствовать определению, указанному в универсальном шаблоне вторичной DirectoryEntry (см. [раздел 6.4.2](#642-generalsecondaryflags-field)), и определяет содержимое поля кустомдефинед, которое должно быть зарезервировано.

##### <a name="7821-allocationpossible-field"></a>Поле 7.8.2.1 Аллокатионпоссибле

Поле Аллокатионпоссибле должно соответствовать определению, указанному в универсальном шаблоне вторичной DirectoryEntry (см. [раздел 6.4.2.1](#6421-allocationpossible-field)).

Для записи каталога расширения поставщика допустимым значением для этого поля является 0.

##### <a name="7822-nofatchain-field"></a>Поле 7.8.2.2 Нофатчаин

Поле Нофатчаин должно соответствовать определению, указанному в универсальном шаблоне вторичной DirectoryEntry (см. [раздел 6.4.2.2](#6422-nofatchain-field)).

#### <a name="783-vendorguid-field"></a>Поле 7.8.3 Вендоргуид

Поле Вендоргуид должно содержать идентификатор GUID, который уникальным образом идентифицирует данное расширение поставщика.

Все возможные значения для этого поля являются допустимыми, за исключением идентификатора GUID, который имеет значение {00000000-0000-0000-0000-000000000000} . Однако поставщики должны использовать средство создания GUID, например GuidGen.exe, для выбора идентификатора GUID при определении их расширений.

Значение этого поля определяет структуру поля Вендордефинед, зависящую от поставщика.

### <a name="79-vendor-allocation-directory-entry"></a>7,9 запись каталога распределения поставщиков

Запись каталога распределения поставщиков является некритической записью вторичного каталога в наборах записей каталога файлов (см. [таблицу 37](#table-37-vendor-allocation-directoryentry)). Набор записей каталога файлов может содержать любое количество записей каталога распределения поставщика, вплоть до предельного числа записей вторичного каталога, меньшего количества других записей вторичного каталога. Кроме того, записи каталога распределения поставщиков действительны, только если они не предшествуют требуемому расширению потока и записям каталога имен файлов.

Записи каталога распределения поставщиков позволяют поставщикам иметь уникальные записи каталога конкретного поставщика в отдельных наборах записей каталога файлов с помощью поля Вендоргуид (см. [таблицу 37](#table-37-vendor-allocation-directoryentry)). Уникальные записи каталога эффективно позволяют поставщикам расширить файловую систему exFAT. Поставщики могут определять содержимое связанных кластеров, если таковые существуют. Реализации поставщиков могут поддерживать содержимое связанных кластеров, если таковые имеются, и могут предоставлять функции, зависящие от поставщика.

Реализации, которые не распознают идентификатор GUID записи каталога распределения поставщика, должны считать запись каталога такой же, как и любая другая неизвестная запись вторичного каталога (см. [раздел 8,2](#82-implications-of-unrecognized-directory-entries)).

<div id="table-37-vendor-allocation-directoryentry" />

**Таблица 37 поставщика распределение ресурсов**

<table>
<thead>
<tr class="header">
<th><strong>Имя поля</strong></th>
<th><p><strong>Offset</strong></p>
<p><strong>двухбайтовых</strong></p></th>
<th><p><strong>Размер</strong></p>
<p><strong>двухбайтовых</strong></p></th>
<th><strong>Комментарии</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>EntryType</td>
<td>0</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#791-entrytype-field">раздел 7.9.1</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>женералсекондарифлагс</td>
<td>1</td>
<td>1</td>
<td>Это поле является обязательным, а <a href="#792-generalsecondaryflags-field">раздел 7.9.2</a> определяет его содержимое.</td>
</tr>
<tr class="odd">
<td>вендоргуид</td>
<td>2</td>
<td>16</td>
<td>Это поле является обязательным, а <a href="#793-vendorguid-field">раздел 7.9.3</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>вендордефинед</td>
<td>18</td>
<td>2</td>
<td>Это поле является обязательным, и поставщики могут определить его содержимое.</td>
</tr>
<tr class="odd">
<td>фирстклустер</td>
<td>20</td>
<td>4</td>
<td>Это поле является обязательным, а <a href="#794-firstcluster-field">раздел 7.9.4</a> определяет его содержимое.</td>
</tr>
<tr class="even">
<td>DataLength</td>
<td>24</td>
<td>8</td>
<td>Это поле является обязательным, а <a href="#795-datalength-field">раздел 7.9.5</a> определяет его содержимое.</td>
</tr>
</tbody>
</table>

#### <a name="791-entrytype-field"></a>Поле 7.9.1 EntryType

Поле EntryType должно соответствовать определению, указанному в универсальном шаблоне вторичной DirectoryEntry (см. [раздел 6.4.1](#641-entrytype-field)).

##### <a name="7911-typecode-field"></a>Поле TypeCode 7.9.1.1

Поле TypeCode должно соответствовать определению, указанному в универсальном шаблоне вторичной DirectoryEntry (см. [раздел 6.4.1.1](#6411-typecode-field)).

Для записи каталога распределения поставщика допустимым значением для этого поля является 1.

##### <a name="7912-typeimportance-field"></a>Поле 7.9.1.2 Типеимпортанце

Поле Типеимпортанце должно соответствовать определению, указанному в универсальном шаблоне вторичной DirectoryEntry (см. [раздел 6.4.1.2](#6412-typeimportance-field)).

Для записи каталога распределения поставщика допустимым значением для этого поля является 1.

##### <a name="7913-typecategory-field"></a>Поле 7.9.1.3 Типекатегори

Поле Типекатегори должно соответствовать определению, указанному в универсальном шаблоне вторичной DirectoryEntry (см. [раздел 6.4.1.3](#6413-typecategory-field)).

##### <a name="7914-inuse-field"></a>Поле InUse 7.9.1.4

Поле InUse должно соответствовать определению, указанному в шаблоне вторичной вспомогательной DirectoryEntry (см. [раздел 6.4.1.4](#6414-inuse-field)).

#### <a name="792-generalsecondaryflags-field"></a>Поле 7.9.2 Женералсекондарифлагс

Поле Женералсекондарифлагс должно соответствовать определению, указанному в универсальном шаблоне вторичной DirectoryEntry (см. [раздел 6.4.2](#642-generalsecondaryflags-field)), и определяет содержимое поля кустомдефинед, которое должно быть зарезервировано.

##### <a name="7921-allocationpossible-field"></a>Поле 7.9.2.1 Аллокатионпоссибле

Поле Аллокатионпоссибле должно соответствовать определению, указанному в универсальном шаблоне вторичной DirectoryEntry (см. [раздел 6.4.2.1](#6421-allocationpossible-field)).

Для записи каталога распределения поставщика допустимым значением для этого поля является 1.

##### <a name="7922-nofatchain-field"></a>Поле 7.9.2.2 Нофатчаин

Поле Нофатчаин должно соответствовать определению, указанному в универсальном шаблоне вторичной DirectoryEntry (см. [раздел 6.4.2.2](#6422-nofatchain-field)).

#### <a name="793-vendorguid-field"></a>Поле 7.9.3 Вендоргуид

Поле Вендоргуид должно содержать идентификатор GUID, однозначно определяющий распределение данного поставщика.

Все возможные значения для этого поля являются допустимыми, за исключением идентификатора GUID, который имеет значение {00000000-0000-0000-0000-000000000000} . Однако поставщики должны использовать средство создания GUID, например GuidGen.exe, для выбора идентификатора GUID при определении их расширений.

Значение этого поля определяет зависящую от поставщика структуру содержимого связанных кластеров, если таковые существуют.

#### <a name="794-firstcluster-field"></a>Поле 7.9.4 Фирстклустер

Поле Фирстклустер должно соответствовать определению, указанному в универсальном шаблоне вторичной DirectoryEntry (см. [раздел 6.4.3](#643-firstcluster-field)).

#### <a name="795-datalength-field"></a>Поле 7.9.5 DATALENGTH

Поле DATALENGTH должно соответствовать определению, указанному в шаблоне вторичного шаблона DirectoryEntry (см. [раздел 6.4.4](#644-datalength-field)).

### <a name="710-texfat-padding-directory-entry"></a>7,10 Тексфат запись каталога заполнения

Эта спецификация, спецификация для файловой системы exFAT Revision 1,00, не определяет запись каталога заполнения Тексфат. Однако его код типа равен 1, а важность его типа — 1. Реализации этой спецификации должны рассматривать записи каталога Тексфат, такие же, как и любые другие неизвестные небезопасные записи первичного каталога, а реализации не будут перемещать записи каталога Тексфат заполнения.

## <a name="8-implementation-notes"></a>8. примечания по реализации

### <a name="81-recommended-write-ordering"></a>8,1. Рекомендуемый порядок записи

Реализации должны обеспечить максимально устойчивость тома к сбоям питания и другим неизбежным сбоям. При создании новых записей каталога или изменении распределения кластеров реализации обычно должны следовать этому порядку записи:

1. Присвойте полю Волумедирти значение 1.

2. Обновление активной файловой системы FAT (при необходимости)

3. Обновление активного растрового изображения выделения

4. При необходимости создайте или обновите запись каталога.

5. Очистите значение поля Волумедирти до 0, если его значение до первого шага было равно 0.

При удалении записей каталога или освобождении выделенных кластеров реализации должны следовать этому порядку записи:

1. Присвойте полю Волумедирти значение 1.

2. Удаление или обновление записи каталога при необходимости

3. Обновление активной файловой системы FAT (при необходимости)

4. Обновление активного растрового изображения выделения

5. Очистите значение поля Волумедирти до 0, если его значение до первого шага было равно 0.

### <a name="82-implications-of-unrecognized-directory-entries"></a>8,2. последствия нераспознанных записей каталога

Будущие спецификации exFAT с одинаковым номером основной редакции, 1 и номером дополнительной редакции выше 0, могут определять новые опасные первичные, критические вторичные и небезопасные записи вторичного каталога. Новые критические записи первичного каталога могут определяться только в спецификациях exFAT с старшим номером редакции. Реализации этой спецификации, версия exFAT 1,00, базовая спецификация файловой системы, должна иметь возможность подключать и получать доступ к любому тому exFAT с номером основной редакции 1 и любым дополнительным номером редакции. Это представляет ситуации, в которых реализация может столкнуться с записями каталога, которые он не распознает. Ниже описаны последствия этих сценариев.

1. Наличие нераспознанных критических записей первичного каталога в корневом каталоге отрисовывает недопустимый том. Наличие критической записи первичного каталога, за исключением записей каталога файлов, в любом некорневом каталоге приводит к неправильной визуализации каталога размещения.

2. Реализации не изменяют нераспознаваемые неизвестные записи первичного каталога или связанные с ними выделения ресурсов кластера. Однако при удалении каталога и только при удалении каталога реализации удаляют нераспознанные неизвестные записи первичного каталога и освобождают все связанные ресурсы выделения кластера, если таковые имеются.

3. Реализации не изменяют нераспознанные критические записи вторичного каталога или связанные с ними выделения ресурсов кластера. Наличие одной или нескольких нераспознаваемых записей вторичного каталога в наборе записей каталога визуализирует весь набор записей каталога как нераспознанный. При удалении набора записей каталога, содержащего одну или несколько нераспознанных критических записей вторичного каталога, реализации будут освобождать все выделения кластера, если таковые имеются, связанные с неизвестными критически важными записями вторичного каталога.
   Кроме того, если набор записей каталога описывает каталог, реализации могут:

   - Прохождение в каталоге

   - Перечисление содержащихся в нем записей каталога

   - Удаление записей вложенного каталога

   - Переместить записи вложенного каталога в другой каталог

   Однако реализации не должны:

   - Измените записи вложенного каталога, кроме DELETE, как указано

   - Создать новые записи вложенного каталога

   - Открыть записи вложенного каталога, за исключением "обход" и "перечисление", как отмечалось

4. Реализации не изменяют нераспознанные небезопасные записи вторичного каталога или связанные с ними выделения ресурсов кластера.
   Реализации должны игнорировать нераспознанные небезопасные записи вторичного каталога. При удалении набора записей каталога реализации будут освобождать все выделения кластера, если таковые имеются, связанные с неизвестными небезопасными записями вторичного каталога.

## <a name="9-file-system-limits"></a>9 ограничения файловой системы

### <a name="91-sector-size-limits"></a>Ограничения размера сектора 9,1

Поле Битесперсекторшифт определяет ограничения нижнего и верхнего размеров сектора (при этом вычисляется **Нижний предел: 512 байт; верхний предел: 4 096 байт**).

### <a name="92-cluster-size-limits"></a>9,2. ограничения размера кластера

Поле Секторсперклустершифт определяет нижний и верхний пределы размера кластера (**Нижний предел: 1 сектор; верхний предел: 25--битесперсекторшифт секторов**, значение которых равно 32 МБ).

### <a name="93-cluster-heap-size-limits"></a>9,3. ограничения размера кучи кластера

Куча кластера должна содержать по крайней мере достаточно места для размещения следующих базовых структур файловой системы: корневой каталог, все точечные рисунки размещения и таблица вариантов.

Нижний предел размера кучи кластера — это функция с нижним пределом размера каждой из базовых структур файловой системы, которые находятся в куче кластера. Даже при наличии наименьшего возможного кластера (512 байт) каждая из базовых структур файловой системы требует не более одного кластера. Таким образом, **Нижний предел: 2 + нумбероффатс кластеры**, в которых вычисляется 3 или 4 кластера, в зависимости от значения поля нумбероффатс.

Верхний предел размера кучи кластера — это простая функция максимально возможного числа кластеров, определяемых полем Клустеркаунт (**верхний предел: 2 <sup>32</sup>-11 кластеров**). Независимо от размера кластера, такая куча кластера имеет достаточно места по крайней мере для размещения базовых структур файловой системы.

### <a name="94-volume-size-limits"></a>9,4. ограничения размера тома

Поле Волумеленгс определяет нижние и верхние пределы размера тома (нижний предел: **2 <sup>20</sup>/2 <sup>битесперсекторшифт</sup>секторов**, значение которого равно 1 МБ). **верхний предел: 2 <sup>64</sup>-1 секторов**, в которых максимальный размер сектора равен приблизительно 64ZB). Однако эта спецификация рекомендует не более 2<sup>24</sup>-2 кластеров в куче кластера (см. [раздел 3.1.9](#319-clustercount-field)). Поэтому рекомендуемый верхний предел объема тома: Клустерхеапоффсет + (2<sup>24</sup>-2) \* 2<sup>секторсперклустершифт</sup>. Учитывая наибольший возможный размер кластера, 32 МБ, и предполагается, что Клустерхеапоффсет является 96 МБ (достаточно места для основных и резервных регионов загрузки и только для первой файловой системы FAT), рекомендуемый верхний лимит тома равен примерно 512TB.

### <a name="95-directory-size-limits"></a>9,5. ограничения размера каталога

Поле DATALENGTH записи каталога расширения потока определяет нижний и верхний пределы размера каталога (**Нижний предел: 0 байт; верхний предел: 256 МБ**). Это означает, что в каталоге может размещаться до 8 388 608 записей каталога (каждая запись каталога потребляет 32 байт). Учитывая наименьший возможный набор записей каталога файлов, три записи каталога, в каталоге может размещаться до 2 796 202 файлов.

## <a name="10-appendix"></a>10. приложение

### <a name="101-globally-unique-identifiers-guids"></a>10,1. глобальные уникальные идентификаторы (GUID)

Идентификатор GUID — это реализация Microsoft универсального уникального идентификатора. GUID — это 128-разрядное значение, состоящее из одной группы из 8 шестнадцатеричных цифр, за которым следуют три группы из 4 шестнадцатеричных цифр, а затем одна группа из 12 шестнадцатеричных цифр, например {6B29FC40-CA47-1067-B31D-00DD010662DA}, (см. [таблицу 38](#table-38-guid-structure)).

<div id="table-38-guid-structure" />

**Структура GUID таблицы 38**

<table>
<thead>
<tr class="header">
<th><strong>Имя поля</strong></th>
<th><p><strong>Offset</strong></p>
<p><strong>двухбайтовых</strong></p></th>
<th><p><strong>Размер</strong></p>
<p><strong>байт</strong></p></th>
<th><strong>Комментарии</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Файл1</td>
<td>0</td>
<td>4</td>
<td>Это поле является обязательным и содержит четыре байта из первой группы GUID (6B29FC40h из примера).</td>
</tr>
<tr class="even">
<td>Data2</td>
<td>4</td>
<td>2</td>
<td>Это поле является обязательным и содержит два байта из второй группы GUID (CA47h из примера).</td>
</tr>
<tr class="odd">
<td>Data3</td>
<td>6</td>
<td>2</td>
<td>Это поле является обязательным и содержит два байта из третьей группы GUID (1067h из примера).</td>
</tr>
<tr class="even">
<td>Data4 [0]</td>
<td>8</td>
<td>1</td>
<td>Это поле является обязательным и содержит наиболее значимый байт из четвертой группы GUID (B3h из примера).</td>
</tr>
<tr class="odd">
<td>Data4 [1]</td>
<td>9</td>
<td>1</td>
<td>Это поле является обязательным и содержит младший значащий байт из четвертой группы GUID (1Dh из примера).</td>
</tr>
<tr class="even">
<td>Data4 [2]</td>
<td>10</td>
<td>1</td>
<td>Это поле является обязательным и содержит первый байт из пятой группы GUID (17:00 из примера).</td>
</tr>
<tr class="odd">
<td>Data4 [3]</td>
<td>11</td>
<td>1</td>
<td>Это поле является обязательным и содержит второй байт из пятой группы GUID (Ддх из примера).</td>
</tr>
<tr class="even">
<td>Data4 [4]</td>
<td>12</td>
<td>1</td>
<td>Это поле является обязательным и содержит третий байт из пятой группы GUID (01H из примера).</td>
</tr>
<tr class="odd">
<td>Data4 [5]</td>
<td>13</td>
<td>1</td>
<td>Это поле является обязательным и содержит четвертый байт из пятой группы GUID (06h из примера).</td>
</tr>
<tr class="even">
<td>Data4 [6]</td>
<td>14</td>
<td>1</td>
<td>Это поле является обязательным и содержит Пятый байт из пятой группы GUID (62h из примера).</td>
</tr>
<tr class="odd">
<td>Data4 [7]</td>
<td>15</td>
<td>1</td>
<td>Это поле является обязательным и содержит шестой байт из пятой группы GUID (ДАХ из примера).</td>
</tr>
</tbody>
</table>

### <a name="102-partition-tables"></a>10,2. таблицы секционирования

Чтобы обеспечить взаимодействие томов exFAT в широком наборе сценариев использования, реализации должны использовать тип секции 07h для хранилища с секционированными MBR и GUID раздела {EBD0A0A2-B9E5-4433-87C0-68B6B72699C7} для секционированного хранилища GPT.

## <a name="11-documentation-change-history"></a>11. журнал изменений документации

В таблице 39 описывается история выпусков, исправлений, дополнений и пояснений к этому документу.

<div id="table-39-documentation-change-history" />

**Таблица 39. журнал изменений документации**

<table>
<thead>
<tr class="header">
<th><strong>Дата</strong></th>
<th><strong>Описание изменения</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>08-Янв-2008</td>
<td><p>Первый выпуск базовой спецификации, включающий:</p>
<blockquote>
<p>Раздел 1, введение</p>
<p>Раздел 2<br />
Структура тома</p>
<p>Раздел 3, основной и резервный регионы загрузки</p>
<p>Раздел 4, область таблицы размещения файлов</p>
<p>Раздел 5, область данных</p>
<p>Раздел 6, структура каталогов</p>
<p>Раздел 7, определения записей каталога</p>
<p>Раздел 8, примечания по реализации</p>
<p>Раздел 9, ограничения файловой системы</p>
<p>Раздел 10, приложение</p>
</blockquote></td>
</tr>
<tr class="even">
<td>08-Июн-2008</td>
<td><p>Второй выпуск базовой спецификации, включающий в себя следующие изменения:</p>
<blockquote>
<p>Добавление раздела 11<br />
Журнал изменений документации</p>
<p>Добавление расширения поставщика и записей каталога распределения поставщиков в разделах 7,8 и 7,9</p>
<p>Добавление рекомендуемой таблицы вариантов в разделы 7.2.5 и 7.2.5.1</p>
<p>Добавление полей Уткоффсет в разделе 7,4 и сложение аббревиатуры UTC в разделе 1,3</p>
<p>Исправление размера поля Кустомдефинед в таблице 19</p>
<p>Исправление допустимого диапазона значений Намеленгс в разделе 7.6.3</p>
<p>Исправление и разъяснение полей timestamp и 10msIncrement в разделе 7,4</p>
<p>Разъяснение структуры параметров NULL в разделе 3,3</p>
<p>Пояснение к значению поля Нофатчаин в разделе 6.3.4.2</p>
<p>Пояснение к значению поля DATALENGTH в разделе 6.2.3</p>
<p>Разъяснение поля Волумедирти в разделе 3.1.13.2 и рекомендуемый порядок записи в разделе 8,1</p>
<p>Разъяснение поля Медиафаилуре в разделе 3.1.13.3</p>
</blockquote></td>
</tr>
<tr class="odd">
<td>01-Oct-2008</td>
<td><p>Третий выпуск базовой спецификации, включающий в себя следующие изменения:</p>
<blockquote>
<p>Добавление, должно и может быть объяснений полей</p>
<p>Добавление определения UTC в таблицу 2 раздела 1,3</p>
<p>Изменены разделы 1,5, чтобы обеспечить выравнивание с помощью документа спецификации Тексфат.</p>
<p>Разъяснено ограничение того, что только корпорация Майкрософт может определить макет записей каталога в разделе 6,2</p>
<p>Добавлено пояснение, что поле Фирстклустер должно быть равно нулю, если длина данных равна нулю, а Нофатчаин имеет значение Section 6.3.5 и Section 6.4.3</p>
<p>Уточнены требования к допустимым записям каталога файлов в разделе 7,4</p>
<p>Добавлено требование уникальности имен файлов и каталогов в раздел 7,7</p>
<p>Добавлено примечание о реализации ASCII в конец раздела 7.7.3</p>
</blockquote></td>
</tr>
<tr class="even">
<td>01-Янв-2009</td>
<td><p>Четвертый выпуск базовой спецификации, включающий в себя следующие изменения:</p>
<blockquote>
<p>Удалены ссылки на Windows CE записи управления доступом</p>
<p>Добавлено уточнение в раздел 7.2.5.1 для явного запроса полной таблицы вариантов</p>
</blockquote></td>
</tr>
<tr class="odd">
<td>02-Сен-2009</td>
<td><p>Пятый выпуск базовой спецификации, включающий в себя следующие изменения:</p>
<blockquote>
<p>Изменения форматирования документа, позволяющие улучшить преобразование PDF</p>
</blockquote></td>
</tr>
<tr class="even">
<td>24-Фев-2010</td>
<td><p>Шестой выпуск базовой спецификации, которая включает в себя следующие изменения:</p>
<blockquote>
<p>Исправлена неверная Инструкция: "поле Фирстклустер должно быть равно нулю, если длина данных равна нулю, а Нофатчаин задано как" в разделе 6.3.5 and Section 6.4.3 to "Если бит Нофатчаин имеет значение 1, то Фирстклустер должен указывать на допустимый кластер в куче кластера", чтобы уточнить, что должно быть допустимое выделение, если установлен бит Нофатчаин.</p>
<p>Добавлено: Если бит Нофатчаин равен 1, то длина не должна равняться нулю. Если поле Фирстклустер равно нулю, то параметр DATALENGTH должен быть также равен нулю, а разделу 6.3.6 и разделу 6.4.4, чтобы уточнить, что при задании Нофатчаин бита должно быть допустимое выделение.</p>
<p>Обновленное уведомление об авторских правах до 2010</p>
</blockquote></td>
</tr>
<tr class="odd">
<td>26-Авг-2019</td>
<td><p>Седьмой выпуск базовой спецификации, включающий в себя следующие изменения:</p>
<blockquote>
<p>Обновлены юридические условия, относящиеся к спецификации, включая следующие:</p>
<p>Удаление конфиденциального уведомления Майкрософт</p>
<p>Удаление раздела лицензионного соглашения на использование технической документации корпорации Майкрософт</p>
<p>Обновленное уведомление об авторских правах до 2019</p>
</blockquote></td>
</tr>
</tbody>
</table>
