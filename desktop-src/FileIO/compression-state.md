---
description: Каждый файл и каталог на томе, который поддерживает сжатие для отдельных файлов и каталогов, имеет состояние сжатия.
ms.assetid: 9db1b2e2-864e-45b5-8227-400cad75222e
title: Состояние сжатия
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 19abfe0deecb951c00dacb00c64dd8dcf7af56d37fe9112095cdce403619f843
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119582424"
---
# <a name="compression-state"></a>Состояние сжатия

Каждый файл и каталог на томе, который поддерживает сжатие для отдельных файлов и каталогов, имеет *состояние сжатия*.

В то время как атрибут сжатия файла или каталога указывает на то, что файл или каталог сжат или не сжат, в состоянии сжатия также указывается формат любых сжатых данных.

Используйте управляющий код [**\_ получения \_ сжатия фсктл**](/windows/win32/api/winioctl/ni-winioctl-fsctl_get_compression) , чтобы определить состояние сжатия файла или каталога.

Состояние сжатия кодируется как 16-разрядное значение. Значение состояния сжатия в формате СЖАТИЯ \_ \_ None означает, что файл не сжат. Значение \_ формата сжатия \_ Default указывает, что файл сжимается с использованием формата сжатия по умолчанию. Любое другое значение указывает на то, что файл сжат, используя формат сжатия, заданный значением состояния сжатия.

Для задания состояния сжатия файла или каталога используйте управляющий код [**фсктл \_ Set \_ Compression**](/windows/win32/api/winioctl/ni-winioctl-fsctl_set_compression) . Эта операция также задает атрибут сжатия файла или каталога.

При установке состояния сжатия файла в ненулевое значение сжимается файл с использованием формата сжатия, закодированного значением состояния сжатия. При установке для файла состояния сжатия значение нуль распаковывает файл. Это синхронные операции. Файл сжимается или распаковывается сразу же после установки состояния сжатия.

Настройка состояния сжатия каталога не приводит к немедленному сжатию или распаковке. Вместо этого при настройке состояния сжатия каталога устанавливается состояние сжатия по умолчанию, которое будет предоставлено всем вновь созданным файлам и подкаталогам.

 

 
