---
description: Управляющие коды, используемые в управлении дисками.
ms.assetid: 488a7d32-cbb5-4f32-9655-0aca8ac69640
title: Управляющие коды управления дисками
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d4e2fb268931b0fd206f95f360a8b0c5a7718d6bd3b9085fed12e9370b553c69
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119015352"
---
# <a name="disk-management-control-codes"></a>Управляющие коды управления дисками

В следующей таблице перечислены управляющие коды, используемые в оснастке «Управление дисками».

## <a name="in-this-section"></a>Содержание раздела



| Контрольный код                                                                                              | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|-----------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**\_диски ioctl \_ \_ готовы для томов \_**](ioctl-disk-are-volumes-ready.md)<br/>                       | Ожидает, пока все тома на указанном диске будут готовы к использованию.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| [**IOCTL \_ диск \_ Создание \_ диска**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_create_disk)<br/>                                    | Инициализирует указанный диск и таблицу разделов диска, используя сведения, приведенные в разделе [**Создание структуры \_ диска**](/windows/desktop/api/WinIoCtl/ns-winioctl-create_disk) .<br/>                                                                                                                                                                                                                                                                                                                                                                                        |
| [**запрос \_ ioctl \_ диска \_ Удаление \_ макета диска**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_delete_drive_layout)<br/>                   | Удаляет подпись загрузки из главной загрузочной записи, чтобы диск был отформатирован с нуля сектора на конец диска.<br/>                                                                                                                                                                                                                                                                                                                                                                                            |
| [**\_ \_ записи формата диска \_ ioctl**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_format_tracks)<br/>                                | Форматирует указанный, непрерывный набор дорожек на гибком диске. Чтобы указать дополнительные параметры, используйте [**ioctl \_ диска \_ Format \_ \_**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_format_tracks_ex) Tracks ex.<br/>                                                                                                                                                                                                                                                                                                                                          |
| [**IOCTL \_ диск \_ Формат \_ дорожек \_ ex**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_format_tracks_ex)<br/>                         | Форматирует указанный, непрерывный набор дорожек на гибком диске.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| [**запрос \_ на \_ Получение \_ \_ сведений о кэше на диске ioctl**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_get_cache_information)<br/>               | Извлекает данные конфигурации кэша диска.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| [**IOCTL \_ Disk \_ Получение \_ \_ сведений о кластере**](ioctl-disk-get-cluster-info.md)<br/>                         | Извлекает атрибуты указанного дискового устройства.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| [**IOCTL \_ Disk \_ Получение \_ \_ атрибутов диска**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_get_disk_attributes)<br/>                   | Извлекает атрибуты указанного дискового устройства.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| [**IOCTL \_ Disk \_ Получение \_ \_ геометрии диска**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_get_drive_geometry)<br/>                     | Извлекает сведения об геометрии физического диска: тип, число цилиндров, дорожек на цилиндр, секторов на дорожке и байты на сектор.<br/>                                                                                                                                                                                                                                                                                                                                                                             |
| [**IOCTL \_ Disk \_ Получение \_ диска \_ Geometry \_ ex**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_get_drive_geometry_ex)<br/>              | Извлекает расширенные сведения об геометрии физического диска: тип, число цилиндров, дорожек на цилиндр, секторов на дорожке и байты на сектор.<br/>                                                                                                                                                                                                                                                                                                                                                                    |
| [**запрос \_ ioctl \_ диска \_ получить \_ структуру диска**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_get_drive_layout)<br/>                         | Извлекает сведения для каждой записи в таблицах секционирования для диска.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| [**IOCTL \_ диск \_ получить \_ \_ Макет диска \_ ex**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_get_drive_layout_ex)<br/>                  | Извлекает расширенные сведения для каждой записи в таблицах секционирования для диска.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| [**запрос \_ на \_ Получение \_ \_ сведений о длине диска ioctl**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_get_length_info)<br/>                           | Возвращает длину указанного диска, тома или раздела.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| [**IOCTL \_ Disk \_ Получение \_ \_ сведений о секции**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_get_partition_info)<br/>                     | Извлекает сведения о типе, размере и характере раздела диска.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [**IOCTL \_ Disk \_ Получение \_ \_ сведений о разделах \_ ex**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_get_partition_info_ex)<br/>              | Извлекает расширенные сведения о типе, размере и характере раздела диска.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| [**\_раздел " \_ увеличение \_ диска" ioctl**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_grow_partition)<br/>                              | Увеличивает заданную секцию.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| [**\_доступ к диску ioctl \_ доступен \_ для записи**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_is_writable)<br/>                                    | Определяет, доступен ли указанный диск для записи.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| [**\_производительность диска \_ ioctl**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_performance)<br/>                                     | Включает счетчики производительности, предоставляющие сведения о производительности диска.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| [**\_ \_ Отключение производительности диска \_ ioctl**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_performance_off)<br/>                            | Отключает счетчики производительности, предоставляющие сведения о производительности диска.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| [**IOCTL \_ диск \_ переназначить \_ блоки**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_reassign_blocks)<br/>                            | Направляет дисковое устройство для отображения одного или нескольких блоков в его резервном пуле.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| [**IOCTL \_ диск \_ переназначит \_ блоки, \_ пример**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_reassign_blocks_ex)<br/>                     | Направляет дисковое устройство для отображения одного или нескольких блоков в его резервном пуле.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| [**\_ \_ \_ сведения о снимке сброса диска ioctl \_**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_reset_snapshot_info)<br/>                   | Очищает все служба теневого копирования томов (VSS) аппаратную теневую копию (также называемую "моментальный снимок") с диска.<br/> Чтобы выполнить эту операцию, вызовите функцию [**DeviceIoControl**](/windows/desktop/api/ioapiset/nf-ioapiset-deviceiocontrol) со следующими параметрами.<br/>                                                                                                                                                                                                                                                                  |
| [**\_ \_ Параметры кэша для набора дисков \_ ioctl \_**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_set_cache_information)<br/>               | Задает данные конфигурации диска.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| [**\_ \_ сведения о наборе дисков для \_ кластера ioctl \_**](ioctl-disk-set-cluster-info.md)<br/>                         | Задает сведения о кластере на диске.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| [**IOCTL \_ диск \_ Задание \_ \_ атрибутов диска**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_set_disk_attributes)<br/>                   | Задает атрибуты указанного дискового устройства.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| [**\_ \_ Настройка \_ \_ макета диска ioctl**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_set_drive_layout)<br/>                         | Разделяет диск на разделы в соответствии с разметкой диска и данными о разделах.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| [**IOCTL \_ диск \_ Set \_ \_ расположение диска \_ ex**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_set_drive_layout_ex)<br/>                  | Разбивает диск на разделы в соответствии с заданным расположением диска и данными о разделах.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| [**IOCTL \_ Disk \_ Set \_ \_ сведения о разделах**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_set_partition_info)<br/>                     | Задает сведения о разделах для указанного раздела диска.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| [**IOCTL \_ диск \_ набор \_ \_ сведений о разделах \_ ex**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_set_partition_info_ex)<br/>              | Задает сведения о разделах для указанного раздела диска, включая сведения о макете для разделов AT и EFI (интерфейс расширяемого микропрограммы).<br/>                                                                                                                                                                                                                                                                                                                                                                           |
| [**\_ \_ Свойства обновления диска \_ ioctl**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_update_properties)<br/>                        | Делает недействительным кэшированную таблицу разделов и повторно перечисляет устройство.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| [**\_Проверка диска \_ ioctl**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_verify)<br/>                                               | Проверяет указанный экстент на фиксированном диске.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| [**Подсистема IOCTL \_ \_ устройство хранения \_ \_ ограничение питания**](/windows/desktop/api/WinIoctl/ni-winioctl-ioctl_storage_device_power_cap)<br/>                   | приложения Windows могут использовать этот управляющий код для указания максимального уровня потребления энергии для устройства хранения. ОС выполнит переход устройства в состояние электропитания, которое не будет превышать заданное максимальное значение. Однако это зависит от того, что поддерживает устройство. Фактическое максимальное значение может быть меньше или больше требуемого максимума.<br/> Чтобы выполнить эту операцию, вызовите функцию [**DeviceIoControl**](/windows/desktop/api/ioapiset/nf-ioapiset-deviceiocontrol) со следующими параметрами.<br/>                        |
| [**\_ \_ Активация встроенного по службы хранилища ioctl \_**](/windows/desktop/api/WinIoctl/ni-winioctl-ioctl_storage_firmware_activate)<br/>                  | приложения Windows могут использовать этот код элемента управления для активации образа встроенного по на указанном устройстве.<br/> Чтобы выполнить эту операцию, вызовите функцию [**DeviceIoControl**](/windows/desktop/api/ioapiset/nf-ioapiset-deviceiocontrol) со следующими параметрами.<br/>                                                                                                                                                                                                                                                                                          |
| [**\_ \_ скачивание встроенного по для хранилища ioctl \_**](/windows/desktop/api/WinIoctl/ni-winioctl-ioctl_storage_firmware_download)<br/>                  | приложения Windows могут использовать этот управляющий код для загрузки образа встроенного по на целевое устройство, но не для его активации. Если загружаемый образ больше, чем максимальный размер передаваемых данных контроллера, этот запрос IOCTL будет вызываться несколько раз до тех пор, пока не будет загружено все изображение.<br/> Чтобы выполнить эту операцию, вызовите функцию [**DeviceIoControl**](/windows/desktop/api/ioapiset/nf-ioapiset-deviceiocontrol) со следующими параметрами.<br/>                                                                                     |
| [**\_ \_ \_ Получение сведений о встроенном по для хранилища ioctl \_**](/windows/desktop/api/WinIoctl/ni-winioctl-ioctl_storage_firmware_get_info)<br/>                 | приложения Windows могут использовать этот управляющий код для запроса сведений о встроенном по на устройстве хранения. Успешный вызов возвратит сведения о редакциях встроенного по, состоянии действия, а также атрибуты чтения и записи для каждого слота. Объем возвращаемых данных зависит от протокола хранилища.<br/> Чтобы выполнить эту операцию, вызовите функцию [**DeviceIoControl**](/windows/desktop/api/ioapiset/nf-ioapiset-deviceiocontrol) со следующими параметрами.<br/>                                                                         |
| [**\_ \_ команда протокола хранилища \_ ioctl**](/windows/desktop/api/winioctl/ni-winioctl-ioctl_storage_protocol_command)<br/>                    | приложения Windows могут использовать этот управляющий код для возврата свойств устройства или адаптера хранилища. Запрос указывает тип получаемой информации, например данные запроса для устройства или возможности и ограничения адаптера. <br/>                                                                                                                                                                                                                                                                               |
| [**\_ \_ свойство запроса хранилища \_ ioctl**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_storage_query_property)<br/>                        | приложения Windows могут использовать этот управляющий код для получения свойств устройства или адаптера хранилища. Запрос указывает тип получаемой информации, например данные запроса для устройства или возможности и ограничения адаптера. Запрос [**ioctl \_ \_ \_ Свойство "запрос хранилища**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_storage_query_property) " можно также использовать, чтобы определить, поддерживает ли драйвер порта определенное свойство, или какие поля в дескрипторе свойства можно изменить с помощью последующего запроса на изменение свойства.<br/> |
| [**\_пороговое значение температуры для набора хранения ioctl \_ \_ \_**](/windows/desktop/api/WinIoctl/ni-winioctl-ioctl_storage_set_temperature_threshold)<br/> | приложения Windows могут использовать этот код элемента управления, чтобы задать пороговое значение температуры устройства (если оно поддерживается устройством). <br/>                                                                                                                                                                                                                                                                                                                                                                                              |



 

Следующие управляющие коды являются устаревшими:

**\_ \_ номер контроллера диска \_ ioctl**  
[**IOCTL \_ Disk \_ Получение \_ \_ геометрии диска**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_get_drive_geometry)  
[**запрос \_ ioctl \_ диска \_ получить \_ структуру диска**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_get_drive_layout)  
[**IOCTL \_ Disk \_ Получение \_ \_ сведений о секции**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_get_partition_info)  
**\_ \_ данные гистограммы диска ioctl \_**  
**\_ \_ Сброс параметров гистограммы для диска ioctl \_**  
**\_ \_ Структура гистограммы для диска ioctl \_**  
**\_ \_ ведение журнала ioctl диска**  
**\_ \_ данные запроса IOCTL \_ диска**  
**\_ \_ Структура запроса IOCTL \_ диска**  
[**\_ \_ Настройка \_ \_ макета диска ioctl**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_set_drive_layout)  
[**IOCTL \_ Disk \_ Set \_ \_ сведения о разделах**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_set_partition_info)

 

