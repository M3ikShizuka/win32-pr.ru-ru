---
title: Администрирование однорангового кэша
description: Примечание. Начиная с Windows 7, модель однорангового кэширования фоновая интеллектуальная служба передачи (BITS) 3,0 является устаревшей.
ms.assetid: a33a43e5-02f9-4902-ad3a-ec65b0d80520
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 40b3ea1dd19c9aca855ffd73e174dcb3b588a54d
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "103773910"
---
# <a name="administering-the-peer-cache"></a>Администрирование однорангового кэша

> [!Note]  
> Начиная с Windows 7, модель однорангового кэширования фоновая интеллектуальная служба передачи (BITS) 3,0 является устаревшей. Если установлена служба BITS 4,0, то модель однорангового кэширования BITS 3,0 недоступна.

 

Для повышения производительности загрузки служба BITS позволяет скачивать содержимое с одноранговых компьютеров. Чтобы включить эту функцию, администратор должен включить параметр групповой политики Енаблепиркачинг. Если параметр включен, узел может скачивать содержимое с одноранговых узлов и передавать содержимое одноранговым узлам. Администратор также может использовать параметры политики Дисаблепиркачингклиент и Дисаблепиркачингсервер для предотвращения загрузки содержимого с однорангового узла или для обслуживания содержимого одноранговыми узлами соответственно.

Если параметры групповой политики не настроены, приложение может вызвать метод [**ибитспиркачеадминистратион:: сетконфигуратионфлагс**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibitspeercacheadministration-setconfigurationflags) , чтобы задать настройки однорангового кэширования для компьютера. Обратите внимание, что эти настройки переопределяются параметрами групповой политики, если они заданы позже. Чтобы определить, поддерживает ли компьютер одноранговое кэширование, вызовите метод [**ибитспиркачеадминистратион:: жетконфигуратионфлагс**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibitspeercacheadministration-getconfigurationflags) .

Если включено одноранговое кэширование, BITS будет кэшировать только содержимое задания, если оно явно разрешает кэширование его содержимого. Служба BITS также будет скачивать содержимое только с однорангового узла, если оно разрешается явным заданием. Чтобы включить одноранговое кэширование для задания, вызовите метод [**IBackgroundCopyJob4:: сетпиркачингфлагс**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibackgroundcopyjob4-setpeercachingflags) .

Кроме использования групповая политика или интерфейса [**ибитспиркачеадминистратион**](/windows/desktop/api/Bits3_0/nn-bits3_0-ibitspeercacheadministration) для включения однорангового кэширования, можно также использовать любой из этих методов, чтобы изменить размер кэша по умолчанию и время, в течение которого недоступный файл остается в кэше. Чтобы изменить значения по умолчанию с помощью интерфейса **ибитспиркачеадминистратион** , вызовите методы [**сетмаксимумкачесизе**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibitspeercacheadministration-setmaximumcachesize) и [**сетмаксимумконтентаже**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibitspeercacheadministration-setmaximumcontentage) . Так как эти методы задают параметры настройки, они переопределяются параметрами групповой политики.

Чтобы получить список одноранговых узлов, от которых BITS будет пытаться загрузить содержимое, вызовите метод [**ибитспиркачеадминистратион:: енумпирс**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibitspeercacheadministration-enumpeers) .

Чтобы получить список файлов в кэше, которые будут обслуживаться BITS для одноранговых узлов, вызовите метод [**ибитспиркачеадминистратион:: енумрекордс**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibitspeercacheadministration-enumrecords) .

Никогда не нужно управлять одноранговый кэш с точки зрения обнаружения одноранговых узлов или удаления записей кэша. Эта функция была включена в интерфейс [**ибитспиркачеадминистратион**](/windows/desktop/api/Bits3_0/nn-bits3_0-ibitspeercacheadministration) для полноты.

 

 




