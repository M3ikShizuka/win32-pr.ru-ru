---
title: Настройка ведения журнала ошибок API-сервера HTTP
description: Ведение журнала ошибок API-сервера HTTP управляется тремя значениями реестра в разделе \\ параметров HTTP.
ms.assetid: a7712159-939e-42e3-a8d8-73148c2f4f6e
keywords:
- API сервера HTTP, Настройка журналов ошибок
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a10479a1b2bd1ebf559213b6cd4b738f6c0b9ea63c142edcce3c10f64f877dda
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118950893"
---
# <a name="configuring-http-server-api-error-logging"></a>Настройка ведения журнала ошибок API-сервера HTTP

Ведение журнала ошибок API-сервера HTTP управляется тремя значениями реестра в разделе  \\ **параметров** HTTP, расположенном по адресу:

```
HKEY_LOCAL_MACHINE
   System
      CurrentControlSet
         Services
            HTTP
               Parameters
```

> [!Note]  
> расположение и форма значений конфигурации могут измениться в будущих версиях операционной системы Windows.

 

Пользователь должен иметь права администратора или локальной системы для изменения значений реестра, а также просматривать или изменять файлы журнала и папку, в которой они находятся.

Сведения о конфигурации в значениях реестра считываются при запуске драйвера API сервера HTTP. В результате, если параметры изменены, драйвер должен быть остановлен и перезапущен для считывания новых значений. Это можно сделать с помощью следующих команд консоли:

**NET останавливает HTTP**

**NET start http**

Имена файлов журнала задаются с помощью следующего соглашения:

**хттперр +** *SequenceNumber* **+. log**

Например: "httperr4. log".

Файлы журнала циклически передаются, если они достигли максимального размера, указанного в параметре реестра **еррорлогфилетрункатесизе** , а значение не может быть меньше одного мегабайта (МБ).

Если настройка журнала ошибок недействительна или происходит ошибка любого типа при записи в файлы журнала, то API-интерфейс сервера HTTP использует ведение журнала событий для уведомления администраторов о том, что регистрация ошибок не выполнялась.

Значения конфигурации реестра описаны в следующей таблице.



<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th>Значение реестра</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span id="EnableErrorLogging"></span><span id="enableerrorlogging"></span><span id="ENABLEERRORLOGGING"></span>енаблиррорлоггинг<br/></td>
<td><strong>Параметр DWORD</strong> , для которого можно задать <strong>значение true</strong> , чтобы включить ведение журнала ошибок, или <strong>false</strong> для отключения. Значение по умолчанию — <strong>true</strong>.<br/></td>
</tr>
<tr class="even">
<td><span id="ErrorLogFileTruncateSize"></span><span id="errorlogfiletruncatesize"></span><span id="ERRORLOGFILETRUNCATESIZE"></span>еррорлогфилетрункатесизе<br/></td>
<td>Значение <strong>типа DWORD</strong> , указывающее максимальный размер файла журнала ошибок в байтах. Значение по умолчанию — 1 МБ (0x100000).<br/>
<blockquote>
[!Note]<br />
Указанное значение не может быть меньше значения по умолчанию.
</blockquote>
<br/></td>
</tr>
<tr class="odd">
<td><span id="ErrorLoggingDir"></span><span id="errorloggingdir"></span><span id="ERRORLOGGINGDIR"></span>еррорлоггингдир<br/></td>
<td><strong>Строка</strong> , указывающая папку, в которой API-сервер HTTP помещает свои файлы журнала. <br/> API сервера HTTP создает вложенную папку с именем &quot; хттперр &quot; в указанной папке, в которую помещаются файлы журнала. Эта вложенная папка и файлы журналов получают те же параметры разрешений, что означает, что администраторы и учетные записи локальной системы имеют полный доступ, а другие пользователи не имеют доступа.<br/> Если папка не указана в реестре, папка по умолчанию имеет следующий адрес:<br/> &quot;%SystemRoot%\System32\LogFiles&quot;<br/>
<blockquote>
[!Note]<br />
Значение строки Еррорлоггингдир должно быть полным путем, но может содержать &quot; % systemroot% &quot; .
</blockquote>
<br/> <br/></td>
</tr>
</tbody>
</table>



 

 

 





