---
title: Формат журналов ошибок API-сервера HTTP
description: В общем случае файлы журнала ошибок HTTP-сервера имеют тот же формат, что и журналы ошибок W3C, за исключением того, что файлы журнала ошибок API-сервера HTTP не содержат заголовков столбцов.
ms.assetid: 436f898c-9063-4aee-b276-e6ab935e3606
keywords:
- API сервера HTTP, формат журнала ошибок
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4e666e29178695482b05cfef6bdd252fb35072b7
ms.sourcegitcommit: 9b5faa61c38b2d0c432b7f2dbee8c127b0e28a7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/19/2021
ms.locfileid: "122477780"
---
# <a name="format-of-the-http-server-api-error-logs"></a>Формат журналов ошибок API-сервера HTTP

В общем случае файлы журнала ошибок HTTP-сервера имеют тот же формат, что и журналы ошибок W3C, за исключением того, что файлы журнала ошибок API-сервера HTTP не содержат заголовков столбцов. Каждая строка журнала ошибок API-сервера HTTP регистрирует одну ошибку с полями в определенном порядке. Каждое поле отделяется от предыдущего поля на один символ пробела (0x0020). В пределах каждого поля пробелы, символы табуляции и непечатаемые управляющие символы заменяются знаками «плюс» (0x002B).

В следующей таблице указаны поля и порядок полей в записи журнала ошибок.




| Поле | Описание | 
|-------|-------------|
| <span id="Date"></span><span id="date"></span><span id="DATE"></span>Дата<br /> | Поле даты соответствует формату W3C и основывается на времени в формате UTC. Поле даты всегда имеет 10 символов в формате "гггг-мм-дд". Например, 1 мая 2003 выражается как «2003-05-01».<br /> | 
| <span id="Time"></span><span id="time"></span><span id="TIME"></span>Таймаут<br /> | Поле времени соответствует формату W3C и основывается на времени в формате UTC. Поле времени всегда имеет 8 символов в формате "MM: чч: СС". Например, 5:30 PM (UTC) выражается как «17:30:00».<br /> | 
| <span id="Client_IP_Address"></span><span id="client_ip_address"></span><span id="CLIENT_IP_ADDRESS"></span>IP-адрес клиента<br /> | IP-адрес затронутого клиента, который может быть либо адресом IPv4, либо IPv6-адресом. Если IP-адрес клиента является адресом IPv6, поле ScopeId также включается в адрес.<br /> | 
| <span id="Client_Port"></span><span id="client_port"></span><span id="CLIENT_PORT"></span>Порт клиента<br /> | Номер порта для затронутого клиента.<br /> | 
| <span id="Server_IP_Address"></span><span id="server_ip_address"></span><span id="SERVER_IP_ADDRESS"></span>IP-адрес сервера<br /> | IP-адрес затронутого сервера, который может быть либо адресом IPv4, либо IPv6-адресом. Если IP-адрес сервера является адресом IPv6, поле ScopeId также включается в адрес.<br /> | 
| <span id="Server_Port"></span><span id="server_port"></span><span id="SERVER_PORT"></span>Порт сервера<br /> | Номер порта затрагиваемого сервера.<br /> | 
| <span id="Protocol_Version"></span><span id="protocol_version"></span><span id="PROTOCOL_VERSION"></span>Версия протокола<br /> | Версия используемого протокола. <br /><ul><li>Если соединение не было проанализировано достаточно, чтобы определить версию протокола, то в качестве заполнителя для пустого поля используется дефис (0x002D).</li><li>Если либо основной, либо дополнительный номер версии не меньше 10, то версия регистрируется как "HTTP/?.?".</li></ul> | 
| <span id="Verb"></span><span id="verb"></span><span id="VERB"></span>Переключател<br /> | Состояние команды, передаваемое при синтаксическом анализе последнего запроса. Неизвестные команды включены, но любая команда, длина которой превышает 255 байт, усекается до этой длины. Если команда недоступна, в качестве заполнителя для пустого поля используется дефис (0x002D).<br /> | 
| <span id="CookedURL___Query"></span><span id="cookedurl___query"></span><span id="COOKEDURL___QUERY"></span>Кукедурл + запрос<br /> | URL-адрес и все связанные с ним запросы регистрируются в виде одного поля, разделенного вопросительным знаком (0x3F). Это поле усекается по длине в 4096 байт.<ul><li>Если этот URL-адрес был проанализирован ("обработанные"), он заносится в журнал с локальным преобразованием кодовой страницы и рассматривается как поле Юникода.</li><li>Если этот URL-адрес не был проанализирован ("обработанные") во время ведения журнала, он копируется в точности без преобразования Юникода.</li><li>Если API сервера HTTP не может проанализировать этот URL-адрес, в качестве заполнителя для пустого поля используется дефис (0x002D).</li></ul><br /> | 
| <span id="Protocol_Status"></span><span id="protocol_status"></span><span id="PROTOCOL_STATUS"></span>Состояние протокола<br /> | Состояние протокола не может превышать 999. <br /><ul><li>Если состояние протокола ответа на запрос доступен, он заносится в это поле.</li><li>Если состояние протокола недоступно, в качестве заполнителя для пустого поля используется дефис (0x002D).</li></ul> | 
| <span id="SiteId"></span><span id="siteid"></span><span id="SITEID"></span>Идентификатор<br /> | Не используется в этой версии API сервера HTTP. В этом поле всегда отображается замещающий дефис (0x002D).<br /> | 
| <span id="Reason_Phrase"></span><span id="reason_phrase"></span><span id="REASON_PHRASE"></span>Фраза причины<br /> | Это поле содержит строку, которая определяет тип регистрируемой ошибки. Он никогда не остается пустым.<br /> | 




 

Следующие примеры строк относятся к журналу ошибок API-сервера HTTP:

``` syntax
2002-07-05 18:45:09 172.31.77.6 2094 172.31.77.6 80 
                    HTTP/1.1 GET /qos/1kbfile.txt 503 - ConnLimit
2002-07-05 19:51:59 127.0.0.1 2780 127.0.0.1 80 
                    HTTP/1.1 GET /ThisIsMyUrl.htm 400 - Hostname
2002-07-05 19:53:00 127.0.0.1 2894 127.0.0.1 80 
                    HTTP/2.0 GET / 505 - Version_N/S
2002-07-05 20:06:01 172.31.77.6 64388 127.0.0.1 80 
                    - - - - - Timer_MinBytesPerSecond
```

 

 





