---
title: Формат журналов ошибок API-сервера HTTP
description: В общем случае файлы журнала ошибок HTTP-сервера имеют тот же формат, что и журналы ошибок W3C, за исключением того, что файлы журнала ошибок API-сервера HTTP не содержат заголовков столбцов.
ms.assetid: 436f898c-9063-4aee-b276-e6ab935e3606
keywords:
- API сервера HTTP, формат журнала ошибок
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1c2eb914251a809178adef28c8a61b1a174c6e86
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "104252970"
---
# <a name="format-of-the-http-server-api-error-logs"></a>Формат журналов ошибок API-сервера HTTP

В общем случае файлы журнала ошибок HTTP-сервера имеют тот же формат, что и журналы ошибок W3C, за исключением того, что файлы журнала ошибок API-сервера HTTP не содержат заголовков столбцов. Каждая строка журнала ошибок API-сервера HTTP регистрирует одну ошибку с полями в определенном порядке. Каждое поле отделяется от предыдущего поля на один символ пробела (0x0020). В пределах каждого поля пробелы, символы табуляции и непечатаемые управляющие символы заменяются знаками «плюс» (0x002B).

В следующей таблице указаны поля и порядок полей в записи журнала ошибок.



<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th>Поле</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span id="Date"></span><span id="date"></span><span id="DATE"></span>Дата<br/></td>
<td>Поле даты соответствует формату W3C и основывается на времени в формате UTC. Поле даты всегда имеет 10 символов в формате &quot; гггг-мм-дд &quot; . Например, 1 мая 2003 выражается как &quot; 2003-05-01 &quot; .<br/></td>
</tr>
<tr class="even">
<td><span id="Time"></span><span id="time"></span><span id="TIME"></span>Таймаут<br/></td>
<td>Поле времени соответствует формату W3C и основывается на времени в формате UTC. Поле времени всегда имеет 8 символов в формате &quot; mm: чч: СС &quot; . Например, 5:30 PM (UTC) выражается в виде &quot; 17:30:00 &quot; .<br/></td>
</tr>
<tr class="odd">
<td><span id="Client_IP_Address"></span><span id="client_ip_address"></span><span id="CLIENT_IP_ADDRESS"></span>IP-адрес клиента<br/></td>
<td>IP-адрес затронутого клиента, который может быть либо адресом IPv4, либо IPv6-адресом. Если IP-адрес клиента является адресом IPv6, поле ScopeId также включается в адрес.<br/></td>
</tr>
<tr class="even">
<td><span id="Client_Port"></span><span id="client_port"></span><span id="CLIENT_PORT"></span>Порт клиента<br/></td>
<td>Номер порта для затронутого клиента.<br/></td>
</tr>
<tr class="odd">
<td><span id="Server_IP_Address"></span><span id="server_ip_address"></span><span id="SERVER_IP_ADDRESS"></span>IP-адрес сервера<br/></td>
<td>IP-адрес затронутого сервера, который может быть либо адресом IPv4, либо IPv6-адресом. Если IP-адрес сервера является адресом IPv6, поле ScopeId также включается в адрес.<br/></td>
</tr>
<tr class="even">
<td><span id="Server_Port"></span><span id="server_port"></span><span id="SERVER_PORT"></span>Порт сервера<br/></td>
<td>Номер порта затрагиваемого сервера.<br/></td>
</tr>
<tr class="odd">
<td><span id="Protocol_Version"></span><span id="protocol_version"></span><span id="PROTOCOL_VERSION"></span>Версия протокола<br/></td>
<td>Версия используемого протокола. <br/>
<ul>
<li>Если соединение не было проанализировано достаточно, чтобы определить версию протокола, то в качестве заполнителя для пустого поля используется дефис (0x002D).</li>
<li>Если номер основной или дополнительной версии, проанализированной, больше или равен 10, версия заносится в журнал как &quot; http/?.? &quot; .</li>
</ul></td>
</tr>
<tr class="even">
<td><span id="Verb"></span><span id="verb"></span><span id="VERB"></span>Переключател<br/></td>
<td>Состояние команды, передаваемое при синтаксическом анализе последнего запроса. Неизвестные команды включены, но любая команда, длина которой превышает 255 байт, усекается до этой длины. Если команда недоступна, в качестве заполнителя для пустого поля используется дефис (0x002D).<br/></td>
</tr>
<tr class="odd">
<td><span id="CookedURL___Query"></span><span id="cookedurl___query"></span><span id="COOKEDURL___QUERY"></span>Кукедурл + запрос<br/></td>
<td>URL-адрес и все связанные с ним запросы регистрируются в виде одного поля, разделенного вопросительным знаком (0x3F). Это поле усекается по длине в 4096 байт.
<ul>
<li>Если этот URL-адрес был проанализирован ( &quot; обработанные &quot; ), он заносится в журнал с локальным преобразованием кодовой страницы и рассматривается как поле Юникода.</li>
<li>Если этот URL-адрес не был проанализирован ( &quot; обработанные &quot; ) во время ведения журнала, он копируется в точности без преобразования в Юникоде.</li>
<li>Если API сервера HTTP не может проанализировать этот URL-адрес, в качестве заполнителя для пустого поля используется дефис (0x002D).</li>
</ul>
<br/></td>
</tr>
<tr class="even">
<td><span id="Protocol_Status"></span><span id="protocol_status"></span><span id="PROTOCOL_STATUS"></span>Состояние протокола<br/></td>
<td>Состояние протокола не может превышать 999. <br/>
<ul>
<li>Если состояние протокола ответа на запрос доступен, он заносится в это поле.</li>
<li>Если состояние протокола недоступно, в качестве заполнителя для пустого поля используется дефис (0x002D).</li>
</ul></td>
</tr>
<tr class="odd">
<td><span id="SiteId"></span><span id="siteid"></span><span id="SITEID"></span>Идентификатор<br/></td>
<td>Не используется в этой версии API сервера HTTP. В этом поле всегда отображается замещающий дефис (0x002D).<br/></td>
</tr>
<tr class="even">
<td><span id="Reason_Phrase"></span><span id="reason_phrase"></span><span id="REASON_PHRASE"></span>Фраза причины<br/></td>
<td>Это поле содержит строку, которая определяет тип регистрируемой ошибки. Он никогда не остается пустым.<br/></td>
</tr>
</tbody>
</table>



 

Следующие примеры строк относятся к журналу ошибок API-сервера HTTP:

``` syntax
2002-07-05 18:45:09 172.31.77.6 2094 172.31.77.6 80 
                    HTTP/1.1 GET /qos/1kbfile.txt 503 - ConnLimit
2002-07-05 19:51:59 127.0.0.1 2780 127.0.0.1 80 
                    HTTP/1.1 GET /ThisIsMyUrl.htm 400 - Hostname
2002-07-05 19:53:00 127.0.0.1 2894 127.0.0.1 80 
                    HTTP/2.0 GET / 505 - Version_N/S
2002-07-05 20:06:01 172.31.77.6 64388 127.0.0.1 80 
                    - - - - - Timer_MinBytesPerSecond
```

 

 





