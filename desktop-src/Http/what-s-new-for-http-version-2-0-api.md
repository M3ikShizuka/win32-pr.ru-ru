---
title: Новые возможности API сервера HTTP версии 2,0
description: В API сервера HTTP версии 2,0 доступны следующие функции.
ms.assetid: 236fdbb0-dead-4b73-9ef6-be2d502b5243
keywords:
- Новые возможности API сервера HTTP версии 2,0
- API сервера HTTP версии 2,0, новые возможности
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 932a27a45768d0cb00cde4cb89fc4e5d424d1f94
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "104067591"
---
# <a name="whats-new-for-http-server-version-20-api"></a>Новые возможности API сервера HTTP версии 2,0

API-интерфейс версии 2,0 сервера HTTP добавляет объекты конфигурации свойств и расширенные возможности управления очередями запросов. Дополнительные сведения и полный список функций см. в [справочном разделе по HTTP-серверу версии 2,0](http-server-api-version-2-0-reference.md) . В API сервера HTTP версии 2,0 доступны следующие функции.

## <a name="configuration-objects"></a>Объекты конфигурации

Объекты конфигурации сеанса сервера и группы URL-адресов позволяют приложениям настраивать службу HTTP. Сеанс сервера — это объект конфигурации верхнего уровня, который переопределяет параметры по умолчанию API HTTP-сервера для всех групп URL-адресов, созданных в этом сеансе. Группа URL-адресов, созданная в сеансе сервера, поддерживает набор URL-адресов, получающих параметры конфигурации для группы. Дополнительные сведения см. в разделе [архитектура HTTP версии 2,0](http-version-2-0-architecture.md) .

## <a name="property-configuration-in-version-20"></a>Конфигурация свойства в версии 2,0

Настройка выполняется в сеансе сервера или в объектах группы URL-адресов. Конфигурации на уровне сервера задаются в объекте конфигурации сеанса сервера. Группы URL-адресов, созданные в сеансе сервера, наследуют конфигурации сеансов сервера. Конфигурации, заданные для группы URL-адресов, переопределяют конфигурации сеанса сервера. Настройки, которые могут быть установлены приложением, включают время ожидания подключения, ограничения подключений, проверку подлинности и ведение журнала. Дополнительные сведения см. в разделе [Настройка свойств в HTTP версии 2,0](configuring-properties-in-http-version-2-0.md) .

## <a name="process-isolation-on-request-queues"></a>Изоляция процессов в очередях запросов

Очередь запросов версии 2,0 поддерживает изоляцию процессов, позволяя нескольким рабочим процессам выполнять операции ввода-вывода в очереди запросов. Свойства конфигурации, заданные в очереди запросов, позволяют приложениям иметь больший контроль над службой. Функция именованной очереди запросов позволяет приложениям создавать очереди запросов и защищать их с помощью списков управления доступом (ACL). Приложения, работающие под учетными записями пользователей, отличными от учетной записи, создавшей очередь запросов, могут открывать очередь запросов, получать запросы и отправлять ответы. Дополнительные сведения см. в разделе [изоляция процессов](process-isolation.md) .

## <a name="full-kernel-mode-ssl"></a>Полный режим ядра SSL

Безопасность SSL в режиме ядра включена по умолчанию. также поддерживаются клиентские сертификаты для взаимной проверки подлинности. Производительность увеличивается за счет выполнения операций SSL в режиме ядра, что сокращает количество переходов между режимами ядра и пользователя. Дополнительные сведения см. в разделе, посвященном [режиму ядра SSL](kernel-mode-ssl.md) .

## <a name="kernel-mode-response-cache"></a>Кэш ответов режима ядра

Ответы со статическим содержимым можно кэшировать в режиме ядра, обеспечивая более высокую производительность кэша пользовательского режима. Структура политики кэша отправляется вместе с ответом. Дополнительные сведения см. в разделе [кэш режима ядра в HTTP 2,0](kernel-mode-cache-in-http-2-0.md) .

## <a name="authentication"></a>Аутентификация

Структуры HTTP- \_ ответа и HTTP- \_ запросов обновляются для включения сведений о проверке подлинности. Проверка подлинности на стороне сервера поддерживается для следующих схем: Negotiate, NTLM, Basic и Digest. Приложения могут указывать Поддерживаемые схемы проверки подлинности и задавать порядок предпочтения для этих схем.

## <a name="object-scoped-versioning"></a>Управление версиями с областью действия объекта

API-интерфейс версии 1,0 сервера HTTP передал сведения о версии в вызове Хттпинитиализе. Версия задана глобально для всех приложений в том же процессе. В API-интерфейсе версии 2,0 сервера HTTP информация о версии указывается при создании объекта. Дополнительные сведения см. [в разделе Управление версиями в API сервера HTTP версии 2,0](versioning-in-http-2-0.md).

## <a name="logging"></a>Ведение журнала

Начиная с версии 2,0, ведение журнала можно настроить с помощью API сервера HTTP. Ведение журнала включено в сеансе сервера служит централизованной формой ведения журнала для службы. Ведение журнала также можно включить в группе URL-адресов для отдельных файлов журналов. Приложение определяет формат файлов журнала, а также поля, регистрируемые в журнале на наличие ошибок и успешных транзакций.

## <a name="graceful-request-queue-shutdown"></a>Завершение очереди корректного запроса

Приложения могут завершить работу очереди запросов и корректно обработать необработанные запросы в очереди, прежде чем завершать процесс очереди запросов. Когда очередь запросов завершает работу, API сервера HTTP останавливает запросы очереди и перенаправляет необработанные запросы в очередь запросов.

## <a name="demand-start-on-a-request-queue"></a>Запуск запроса в очереди запросов

Функция Demand Start в очереди запросов позволяет приложению контроллера отложить создание экземпляра рабочего процесса до тех пор, пока первый запрос не поступит в очередь запросов. Поэтому приложения могут избежать использования ресурсов, пока они не потребуются. Дополнительные сведения см. в разделе [запросы на запуск по запросу версии 2,0](demand-start-on-version-2-0-request-queues.md) .

## <a name="port-sharing"></a>Совместное использование портов

Приложения на основе API HTTP-сервера автоматически совместно используют пространство прослушивания IP-адресов с другими приложениями на основе API сервера, отличными от HTTP, на компьютере; список прослушивания IP-адресов больше не требуется. Когда приложение регистрирует URL-адрес, API сервера HTTP прослушивает только указанный IP-адрес и пару портов.

## <a name="etw-support"></a>Поддержка ETW

Расширенная трассировка с помощью средства трассировки событий Windows (ETW) позволяет приложениям использовать более широкие возможности диагностики. Трассировка событий доступна для регистрации и резервирования URL-адресов, настройки свойств, событий кэша, проверки подлинности и ведения журнала для нескольких имен.

## <a name="performance-counters"></a>Счетчики производительности

Средство счетчика производительности позволяет приложениям получать счетчики служб и диагностировать производительность службы. Глобальные счетчики отслеживание производительности для службы, счетчики сайтов, которые записывают производительность группы URL-адресов, а счетчики очереди запросов отслеживаниют производительность очереди запросов.

## <a name="international-domain-names-idn"></a>Международные доменные имена (IDN)

Международные части URL-адреса узла и пути позволяют регистрировать доменные имена и пути, отличные от ASCII. API сервера HTTP обрабатывает URL-адреса в Юникоде для соответствия стандартам IDN.

## <a name="netsh-extensions"></a>Расширения NetSH

Служебная программа netsh заменяет средство HttpCfg.exe, доступное в Windows Server 2003 и Windows XP с пакетом обновления 2 (SP2). Расширение Netsh предоставляет средства управления, диагностики и настройки службы HTTP. Администраторы могут запрашивать и настраивать параметры на уровне сервера, такие как регистрация пространства имен и SSL-сертификаты.

 

 




