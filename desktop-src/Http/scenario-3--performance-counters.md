---
title: Сценарий 3. счетчики производительности
description: Счетчики производительности измеряют количество информации или данных в соответствии с количеством, размером, длительностью и частотой получения запрашиваемых или получаемых данных.
ms.assetid: 1b264144-7600-402e-86f8-674a2d02f9f9
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f92afacf959c72735adea25c3ace60c8ae032da66394dda6731fdab913407e21
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118950723"
---
# <a name="scenario-3-performance-counters"></a>Сценарий 3. счетчики производительности

Счетчики производительности измеряют количество информации или данных в соответствии с количеством, размером, длительностью и частотой получения запрашиваемых или получаемых данных. Не следует получать список сведений из счетчика, например список сообщений об ошибках. Вместо этого используйте счетчики производительности для получения таких количеств, как количество сообщений об ошибках с момента запуска или скорость, с которой формируются сообщения об ошибках.

## <a name="performance-counters-for-httpsys"></a>Счетчики производительности для HTTP.sys

начиная с Windows Vista и Windows Server 2008, HTTP.sys имеет следующие счетчики метрик производительности, помогающие отслеживать, диагностировать и планировать производительность веб-серверов. компонент API сервера HTTP содержит следующие счетчики производительности, помогающие выполнять мониторинг, диагностику и планирование ресурсов для веб-серверов.

- Счетчики службы HTTP:
  - Количество URI в кэше, добавленных с момента запуска, удаленных с момента запуска и количества удалений кэша
  - Попаданий в кэш в секунду и промахов кэша в секунду
- Группы URL-адресов служб HTTP:
  - Скорость отправки данных, скорость получения данных, передано байт (Отправлено и получено)
  - Максимальное число подключений, частота попыток подключения, частота запросов GET и HEAD и общее число запросов
- Очереди запросов службы HTTP:
  - Число запросов в очереди, возраст самых старых запросов в очереди (возраст последнего запроса в очереди)
  - Интенсивность поступления запросов в очередь, скорость отклонения, общее число отклоненных запросов, частота попаданий в кэш

**Доступ к счетчикам производительности**

1.  Введите **perfmon** в командной строке, чтобы запустить консоль диагностики производительности.
2.  Выберите **системный монитор** в элементе управления "дерево", а затем откройте окно **Добавить счетчики** , нажав кнопку **+** .
3.  На странице **Добавление счетчиков** выберите из трех наборов счетчиков производительности: **служба HTTP**, **очереди запросов службы HTTP** или **группы URL-адресов службы HTTP**.
4.  Чтобы просмотреть счетчики в наборах счетчиков " **очереди запросов службы HTTP** " и " **группы URL-адресов службы HTTP** ", выберите **экземпляры** и нажмите кнопку **Добавить**, а затем нажмите кнопку **ОК**. Чтобы просмотреть счетчики службы HTTP, выберите набор счетчиков в левой области и нажмите кнопку **Добавить**.

> [!Note]  
> Для каждого компьютера существует только один экземпляр счетчиков API HTTP-сервера, так как эти счетчики представляют состояние на уровне компонента. При использовании экземпляров счетчиков производительности группы URL-адресов идентификатор экземпляра (для счетчика производительности) будет совпадать с ИДЕНТИФИКАТОРом группы URL-адресов. Идентификатор группы URL-адресов можно просмотреть, выполнив **команду netsh http servicestate**. При использовании экземпляров счетчиков производительности очереди запросов имя экземпляра соответствует имени очереди запросов. Имя очереди запросов (если оно существует) может отображаться тем же **netsh http servicestate**. Однако некоторые серверные приложения могут иметь неименованные очереди запросов, которые не могут быть сопоставлены с ИДЕНТИФИКАТОРом экземпляра счетчика производительности.

 

 

 




