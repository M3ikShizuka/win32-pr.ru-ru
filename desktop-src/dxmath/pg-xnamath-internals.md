---
description: В этом разделе описывается внутренняя структура библиотеки Директксмас.
ms.assetid: 31512657-c413-9e6e-e343-1ea677a02b8c
title: Внутренние библиотеки
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1f7c1843a83a81e7acac241c66dd18ff26217569
ms.sourcegitcommit: adba238660d8a5f4fe98fc6f5d105d56aac3a400
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/09/2021
ms.locfileid: "111827238"
---
# <a name="library-internals"></a><span data-ttu-id="b1d80-103">Внутренние библиотеки</span><span class="sxs-lookup"><span data-stu-id="b1d80-103">Library Internals</span></span>

<span data-ttu-id="b1d80-104">В этом разделе описывается внутренняя структура библиотеки Директксмас.</span><span class="sxs-lookup"><span data-stu-id="b1d80-104">This topic describes the internal design of the DirectXMath library.</span></span>

-   [<span data-ttu-id="b1d80-105">Соглашения о вызовах</span><span class="sxs-lookup"><span data-stu-id="b1d80-105">Calling Conventions</span></span>](#calling-conventions)
-   [<span data-ttu-id="b1d80-106">Эквивалентность типов библиотеки графики</span><span class="sxs-lookup"><span data-stu-id="b1d80-106">Graphics Library Type Equivalence</span></span>](#graphics-library-type-equivalence)
-   [<span data-ttu-id="b1d80-107">Глобальные константы в библиотеке Директксмас</span><span class="sxs-lookup"><span data-stu-id="b1d80-107">Global Constants in the DirectXMath Library</span></span>](#global-constants-in-the-directxmath-library)
-   [<span data-ttu-id="b1d80-108">Windows SSE и SSE2</span><span class="sxs-lookup"><span data-stu-id="b1d80-108">Windows SSE versus SSE2</span></span>](#windows-sse-versus-sse2)
-   [<span data-ttu-id="b1d80-109">Варианты подпрограмм</span><span class="sxs-lookup"><span data-stu-id="b1d80-109">Routine Variants</span></span>](#routine-variants)
-   [<span data-ttu-id="b1d80-110">Несогласованность платформ</span><span class="sxs-lookup"><span data-stu-id="b1d80-110">Platform Inconsistencies</span></span>](#platform-inconsistencies)
-   [<span data-ttu-id="b1d80-111">Расширения для конкретной платформы</span><span class="sxs-lookup"><span data-stu-id="b1d80-111">Platform-specific Extensions</span></span>](#platform-specific-extensions)
-   [<span data-ttu-id="b1d80-112">Связанные темы</span><span class="sxs-lookup"><span data-stu-id="b1d80-112">Related topics</span></span>](#related-topics)

## <a name="calling-conventions"></a><span data-ttu-id="b1d80-113">Соглашения о вызовах</span><span class="sxs-lookup"><span data-stu-id="b1d80-113">Calling Conventions</span></span>

<span data-ttu-id="b1d80-114">Чтобы повысить уровень переносимости и оптимизировать структуру данных, необходимо использовать соответствующие соглашения о вызовах для каждой платформы, поддерживаемой библиотекой Директксмас.</span><span class="sxs-lookup"><span data-stu-id="b1d80-114">To enhance portability and optimize data layout, you need to use the appropriate calling conventions for each platform supported by the DirectXMath Library.</span></span> <span data-ttu-id="b1d80-115">В частности, при передаче объектов [**ксмвектор**](xmvector-data-type.md) в качестве параметров, которые определены как выравниваемая по 16-байтовой границе, существуют различные наборы требований к вызову в зависимости от целевой платформы.</span><span class="sxs-lookup"><span data-stu-id="b1d80-115">Specifically, when you pass [**XMVECTOR**](xmvector-data-type.md) objects as parameters, which are defined as aligned on a 16-byte boundary, there are different sets of calling requirements, depending on the target platform:</span></span>

<span data-ttu-id="b1d80-116">**Для 32-разрядной версии Windows**</span><span class="sxs-lookup"><span data-stu-id="b1d80-116">**For 32-bit Windows**</span></span>

<span data-ttu-id="b1d80-117">Для 32-разрядных систем Windows существует два соглашения о вызовах для эффективной передачи значений [ \_ \_ M128](/cpp/cpp/m128) (которые реализуют [**ксмвектор**](xmvector-data-type.md) на этой платформе).</span><span class="sxs-lookup"><span data-stu-id="b1d80-117">For 32-bit Windows, there are two calling conventions available for efficient passing of [\_\_m128](/cpp/cpp/m128) values (which implements [**XMVECTOR**](xmvector-data-type.md) on that platform).</span></span> <span data-ttu-id="b1d80-118">Стандартом является [ \_ \_ fastcall](https://docs.microsoft.com/cpp/cpp/fastcall), который может передавать первые три значения [ \_ \_ M128](/cpp/cpp/m128) (экземпляры **ксмвектор** ) в качестве аргументов в функцию в регистре *SSE/SSE2* .</span><span class="sxs-lookup"><span data-stu-id="b1d80-118">The standard is [\_\_fastcall](https://docs.microsoft.com/cpp/cpp/fastcall), which can pass the first three [\_\_m128](/cpp/cpp/m128) values (**XMVECTOR** instances) as arguments to a function in a *SSE/SSE2* register.</span></span> <span data-ttu-id="b1d80-119">[ \_ \_ fastcall](https://docs.microsoft.com/cpp/cpp/fastcall) передает оставшиеся аргументы через стек.</span><span class="sxs-lookup"><span data-stu-id="b1d80-119">[\_\_fastcall](https://docs.microsoft.com/cpp/cpp/fastcall) passes remaining arguments via the stack.</span></span>

<span data-ttu-id="b1d80-120">Новые компиляторы Microsoft Visual Studio поддерживают новое соглашение о вызовах, \_ \_ векторкалл, которое может передавать до шести значений [ \_ \_ M128](/cpp/cpp/m128) (экземпляров [**ксмвектор**](xmvector-data-type.md) ) в качестве аргументов функции в регистре *SSE/SSE2* .</span><span class="sxs-lookup"><span data-stu-id="b1d80-120">Newer Microsoft Visual Studio compilers support a new calling convention, \_\_vectorcall, which can pass up to six [\_\_m128](/cpp/cpp/m128) values ([**XMVECTOR**](xmvector-data-type.md) instances) as arguments to a function in a *SSE/SSE2* register.</span></span> <span data-ttu-id="b1d80-121">При наличии достаточного места он также может передавать разнородные статистические выражения (также известные как [**ксмматрикс**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix)) через регистры *SSE/SSE2* .</span><span class="sxs-lookup"><span data-stu-id="b1d80-121">It can also pass heterogeneous vector aggregates (also known as [**XMMATRIX**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix)) via *SSE/SSE2* registers if there is sufficient room.</span></span>

<span data-ttu-id="b1d80-122">**Для 64-разрядных выпусков Windows**</span><span class="sxs-lookup"><span data-stu-id="b1d80-122">**For 64-bit editions of Windows**</span></span>

<span data-ttu-id="b1d80-123">Для 64-разрядных систем Windows доступно два соглашения о вызовах для эффективной передачи значений [ \_ \_ M128](/cpp/cpp/m128) .</span><span class="sxs-lookup"><span data-stu-id="b1d80-123">For 64-bit Windows, there are two calling conventions available for efficient passing of [\_\_m128](/cpp/cpp/m128) values.</span></span> <span data-ttu-id="b1d80-124">Стандартом является [ \_ \_ fastcall](https://docs.microsoft.com/cpp/cpp/fastcall), который передает все значения [ \_ \_ M128](/cpp/cpp/m128) в стеке.</span><span class="sxs-lookup"><span data-stu-id="b1d80-124">The standard is [\_\_fastcall](https://docs.microsoft.com/cpp/cpp/fastcall), which passes all [\_\_m128](/cpp/cpp/m128) values on the stack.</span></span>

<span data-ttu-id="b1d80-125">Более новые компиляторы Visual Studio поддерживают \_ \_ соглашение о вызовах векторкалл, которое может передавать до шести значений [ \_ \_ M128](/cpp/cpp/m128) (экземпляров [**ксмвектор**](xmvector-data-type.md) ) в качестве аргументов функции в регистре *SSE/SSE2* .</span><span class="sxs-lookup"><span data-stu-id="b1d80-125">Newer Visual Studio compilers support the \_\_vectorcall calling convention, which can pass up to six [\_\_m128](/cpp/cpp/m128) values ([**XMVECTOR**](xmvector-data-type.md) instances) as arguments to a function in a *SSE/SSE2* register.</span></span> <span data-ttu-id="b1d80-126">При наличии достаточного места он также может передавать разнородные статистические выражения (также известные как [**ксмматрикс**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix)) через регистры *SSE/SSE2* .</span><span class="sxs-lookup"><span data-stu-id="b1d80-126">It can also pass heterogeneous vector aggregates (also known as [**XMMATRIX**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix)) via *SSE/SSE2* registers if there is sufficient room.</span></span>

<span data-ttu-id="b1d80-127">**Для Windows на ARM**</span><span class="sxs-lookup"><span data-stu-id="b1d80-127">**For Windows on ARM**</span></span>

<span data-ttu-id="b1d80-128">Windows на ARM & ARM64 поддерживает передачу первых четырех \_ \_ значений N128 (экземпляров [**ксмвектор**](xmvector-data-type.md) ) в регистре.</span><span class="sxs-lookup"><span data-stu-id="b1d80-128">The Windows on ARM & ARM64 supports passing the first four \_\_n128 values ([**XMVECTOR**](xmvector-data-type.md) instances) in-register.</span></span>

<span data-ttu-id="b1d80-129">**Решение Директксмас**</span><span class="sxs-lookup"><span data-stu-id="b1d80-129">**DirectXMath solution**</span></span>

<span data-ttu-id="b1d80-130">Псевдонимы **фксмвектор**, **гксмвектор**, **хксмвектор** и **кксмвектор** поддерживают следующие соглашения:</span><span class="sxs-lookup"><span data-stu-id="b1d80-130">The **FXMVECTOR**, **GXMVECTOR**, **HXMVECTOR**, and **CXMVECTOR** aliases support these conventions:</span></span>

-   <span data-ttu-id="b1d80-131">Используйте псевдоним **фксмвектор** для передачи первых трех экземпляров [**ксмвектор**](xmvector-data-type.md) , используемых в качестве аргументов функции.</span><span class="sxs-lookup"><span data-stu-id="b1d80-131">Use the **FXMVECTOR** alias to pass up to the first three instances of [**XMVECTOR**](xmvector-data-type.md) used as arguments to a function.</span></span>
-   <span data-ttu-id="b1d80-132">Используйте псевдоним **гксмвектор** для передачи 4-го экземпляра [**ксмвектор**](xmvector-data-type.md) , используемого в качестве аргумента функции.</span><span class="sxs-lookup"><span data-stu-id="b1d80-132">Use the **GXMVECTOR** alias to pass the 4th instance of an [**XMVECTOR**](xmvector-data-type.md) used as an argument to a function.</span></span>
-   <span data-ttu-id="b1d80-133">Используйте псевдоним **хксмвектор** для передачи 5-и шестого экземпляров [**ксмвектор**](xmvector-data-type.md) , используемого в качестве аргумента функции.</span><span class="sxs-lookup"><span data-stu-id="b1d80-133">Use the **HXMVECTOR** alias to pass the 5th and 6th instances of an [**XMVECTOR**](xmvector-data-type.md) used as an argument to a function.</span></span> <span data-ttu-id="b1d80-134">Дополнительные сведения о дополнительных вопросах см. в \_ \_ документации по векторкалл.</span><span class="sxs-lookup"><span data-stu-id="b1d80-134">For info about additional considerations, see the \_\_vectorcall documentation.</span></span>
-   <span data-ttu-id="b1d80-135">Используйте псевдоним **кксмвектор** для передачи последующих экземпляров [**ксмвектор**](xmvector-data-type.md) , используемых в качестве аргументов.</span><span class="sxs-lookup"><span data-stu-id="b1d80-135">Use the **CXMVECTOR** alias to pass any further instances of [**XMVECTOR**](xmvector-data-type.md) used as arguments.</span></span>

> [!Note]  
> <span data-ttu-id="b1d80-136">Для выходных параметров всегда используйте КСМВЕКТОР \* или ксмвектор& и игнорируйте их по отношению к предыдущим правилам для входных параметров.</span><span class="sxs-lookup"><span data-stu-id="b1d80-136">For output parameters, always use XMVECTOR\* or XMVECTOR& and ignore them with respect to the preceding rules for input parameters.</span></span>

 

<span data-ttu-id="b1d80-137">Из-за ограничений \_ \_ векторкалл не рекомендуется использовать **гксмвектор** или **хксмвектор** для конструкторов C++.</span><span class="sxs-lookup"><span data-stu-id="b1d80-137">Because of limitations with \_\_vectorcall, we recommend that you not use **GXMVECTOR** or **HXMVECTOR** for C++ constructors.</span></span> <span data-ttu-id="b1d80-138">Просто используйте **фксмвектор** для первых трех значений [**ксмвектор**](xmvector-data-type.md) , а затем используйте **кксмвектор** для остальных.</span><span class="sxs-lookup"><span data-stu-id="b1d80-138">Just use **FXMVECTOR** for the first three [**XMVECTOR**](xmvector-data-type.md) values, then use **CXMVECTOR** for the rest.</span></span>

<span data-ttu-id="b1d80-139">Псевдонимы **фксмматрикс** и **кксмматрикс** помогают использовать преимущества аргумента Хва, передавая \_ \_ векторкалл.</span><span class="sxs-lookup"><span data-stu-id="b1d80-139">The **FXMMATRIX** and **CXMMATRIX** aliases help support taking advantage of the HVA argument passing with \_\_vectorcall.</span></span>

-   <span data-ttu-id="b1d80-140">Используйте псевдоним **фксмматрикс** для передачи первого [**ксмматрикс**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix) в качестве аргумента функции.</span><span class="sxs-lookup"><span data-stu-id="b1d80-140">Use the **FXMMATRIX** alias to pass the first [**XMMATRIX**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix) as an argument to the function.</span></span> <span data-ttu-id="b1d80-141">Предполагается, что у вас нет более двух аргументов **фксмвектор** или более двух аргументов float, Double или **фксмвектор** для "правого" матрицы.</span><span class="sxs-lookup"><span data-stu-id="b1d80-141">This assumes you don't have more than two **FXMVECTOR** arguments or more than two float, double, or **FXMVECTOR** arguments to the ‘right’ of the matrix.</span></span> <span data-ttu-id="b1d80-142">Дополнительные сведения о дополнительных вопросах см. в \_ \_ документации по векторкалл.</span><span class="sxs-lookup"><span data-stu-id="b1d80-142">For info about additional considerations, see the \_\_vectorcall documentation.</span></span>
-   <span data-ttu-id="b1d80-143">В противном случае используйте псевдоним **кксмматрикс** .</span><span class="sxs-lookup"><span data-stu-id="b1d80-143">Use the **CXMMATRIX** alias otherwise.</span></span>

<span data-ttu-id="b1d80-144">Из-за ограничений \_ \_ векторкалл рекомендуется никогда не использовать **фксмматрикс** для конструкторов C++.</span><span class="sxs-lookup"><span data-stu-id="b1d80-144">Because of limitations with \_\_vectorcall, we recommend that you never use **FXMMATRIX** for C++ constructors.</span></span> <span data-ttu-id="b1d80-145">Просто используйте **кксмматрикс**.</span><span class="sxs-lookup"><span data-stu-id="b1d80-145">Just use **CXMMATRIX**.</span></span>

<span data-ttu-id="b1d80-146">Помимо псевдонимов типов необходимо также использовать \_ заметку XM каллконв, чтобы убедиться, что функция использует соответствующее соглашение о вызовах ( \_ \_ fastcall и \_ \_ векторкалл) на основе компилятора и архитектуры.</span><span class="sxs-lookup"><span data-stu-id="b1d80-146">In addition to the type aliases, you must also use the XM\_CALLCONV annotation to make sure the function uses the appropriate calling convention (\_\_fastcall versus \_\_vectorcall) based on your compiler and architecture.</span></span> <span data-ttu-id="b1d80-147">Из-за ограничений \_ \_ векторкалл не рекомендуется использовать XM \_ каллконв для конструкторов C++.</span><span class="sxs-lookup"><span data-stu-id="b1d80-147">Because of limitations with \_\_vectorcall, we recommend that you not use XM\_CALLCONV for C++ constructors.</span></span>

<span data-ttu-id="b1d80-148">Ниже приведены примеры объявлений, иллюстрирующих это соглашение:</span><span class="sxs-lookup"><span data-stu-id="b1d80-148">The following are example declarations that illustrate this convention:</span></span>


```C++
XMMATRIX XM_CALLCONV XMMatrixLookAtLH(FXMVECTOR EyePosition, FXMVECTOR FocusPosition, FXMVECTOR UpDirection);

XMMATRIX XM_CALLCONV XMMatrixTransformation2D(FXMVECTOR ScalingOrigin,  float ScalingOrientation, FXMVECTOR Scaling, FXMVECTOR RotationOrigin, float Rotation, GXMVECTOR Translation);

void XM_CALLCONV XMVectorSinCos(XMVECTOR* pSin, XMVECTOR* pCos, FXMVECTOR V);

XMVECTOR XM_CALLCONV XMVectorHermiteV(FXMVECTOR Position0, FXMVECTOR Tangent0, FXMVECTOR Position1, GXMVECTOR Tangent1, HXMVECTOR T);

XMMATRIX(FXMVECTOR R0, FXMVECTOR R1, FXMVECTOR R2, CXMVECTOR R3)

XMVECTOR XM_CALLCONV XMVector2Transform(FXMVECTOR V, FXMMATRIX M);

XMMATRIX XM_CALLCONV XMMatrixMultiplyTranspose(FXMMATRIX M1, CXMMATRIX M2);
```



<span data-ttu-id="b1d80-149">Для поддержки этих соглашений о вызовах эти псевдонимы типов определяются следующим образом (параметры должны передаваться компилятору для их учета при передаче в регистре):</span><span class="sxs-lookup"><span data-stu-id="b1d80-149">To support these calling conventions, these type aliases are defined as follows (parameters must be passed by value for the compiler to consider them for in-register passing):</span></span>

<span data-ttu-id="b1d80-150">**Для 32-разрядных приложений Windows**</span><span class="sxs-lookup"><span data-stu-id="b1d80-150">**For 32-bit Windows apps**</span></span>

<span data-ttu-id="b1d80-151">При использовании \_ \_ fastcall:</span><span class="sxs-lookup"><span data-stu-id="b1d80-151">When you use \_\_fastcall:</span></span>


```C++
typedef const XMVECTOR  FXMVECTOR;
typedef const XMVECTOR& GXMVECTOR;
typedef const XMVECTOR& HXMVECTOR;
typedef const XMVECTOR& CXMVECTOR;
typedef const XMMATRIX& FXMMATRIX;
typedef const XMMATRIX& CXMMATRIX;
```



<span data-ttu-id="b1d80-152">При использовании \_ \_ векторкалл:</span><span class="sxs-lookup"><span data-stu-id="b1d80-152">When you use \_\_vectorcall:</span></span>


```C++
typedef const XMVECTOR  FXMVECTOR;
typedef const XMVECTOR  GXMVECTOR;
typedef const XMVECTOR  HXMVECTOR;
typedef const XMVECTOR& CXMVECTOR;
typedef const XMMATRIX  FXMMATRIX;
typedef const XMMATRIX& CXMMATRIX;
```



<span data-ttu-id="b1d80-153">**Для 64-разрядных собственных приложений Windows**</span><span class="sxs-lookup"><span data-stu-id="b1d80-153">**For 64-bit native Windows apps**</span></span>

<span data-ttu-id="b1d80-154">При использовании \_ \_ fastcall:</span><span class="sxs-lookup"><span data-stu-id="b1d80-154">When you use \_\_fastcall:</span></span>


```C++
typedef const XMVECTOR& FXMVECTOR;
typedef const XMVECTOR& GXMVECTOR;
typedef const XMVECTOR& HXMVECTOR;
typedef const XMVECTOR& CXMVECTOR;
typedef const XMMATRIX& FXMMATRIX;
typedef const XMMATRIX& CXMMATRIX;
```



<span data-ttu-id="b1d80-155">При использовании \_ \_ векторкалл:</span><span class="sxs-lookup"><span data-stu-id="b1d80-155">When you use \_\_vectorcall:</span></span>


```C++
typedef const XMVECTOR  FXMVECTOR;
typedef const XMVECTOR  GXMVECTOR;
typedef const XMVECTOR  HXMVECTOR;
typedef const XMVECTOR& CXMVECTOR;
typedef const XMMATRIX  FXMMATRIX;
typedef const XMMATRIX& CXMMATRIX;
```



<span data-ttu-id="b1d80-156">**Windows на ARM**</span><span class="sxs-lookup"><span data-stu-id="b1d80-156">**Windows on ARM**</span></span>


```C++
typedef const XMVECTOR  FXMVECTOR;
typedef const XMVECTOR  GXMVECTOR;
typedef const XMVECTOR& CXMVECTOR;
typedef const XMMATRIX& FXMMATRIX;
typedef const XMMATRIX& CXMMATRIX;
```



> [!Note]  
> <span data-ttu-id="b1d80-157">Хотя все функции объявляются встроенным образом и во многих случаях компилятору не нужно использовать соглашения о вызовах для этих функций, бывают случаи, когда компилятор может решить, что это более эффективно, чем встраивание функции, и в таких случаях нам требуется наилучшее соглашение о вызовах для каждой платформы.</span><span class="sxs-lookup"><span data-stu-id="b1d80-157">While all the functions are declared inline and in many cases the compiler won't need to use calling conventions for these functions, there are cases where the compiler may decide it's more efficient to not inline the function and in these cases we want the best calling convention possible for each platform.</span></span>

 

## <a name="graphics-library-type-equivalence"></a><span data-ttu-id="b1d80-158">Эквивалентность типов библиотеки графики</span><span class="sxs-lookup"><span data-stu-id="b1d80-158">Graphics Library Type Equivalence</span></span>

<span data-ttu-id="b1d80-159">Для поддержки использования библиотеки Директксмас многие типы и структуры библиотек Директксмас эквивалентны реализациям Windows типов **D3DDECLTYPE** и **D3DFORMAT** , а также типам [**\_ формата DXGI**](/windows/win32/api/dxgiformat/ne-dxgiformat-dxgi_format) .</span><span class="sxs-lookup"><span data-stu-id="b1d80-159">To support the use of the DirectXMath Library, many DirectXMath Library types and structures are equivalent to the Windows implementations of the **D3DDECLTYPE** and **D3DFORMAT** types, as well as the [**DXGI\_FORMAT**](/windows/win32/api/dxgiformat/ne-dxgiformat-dxgi_format) types.</span></span>

| <span data-ttu-id="b1d80-160">DirectXMath</span><span class="sxs-lookup"><span data-stu-id="b1d80-160">DirectXMath</span></span>                      | <span data-ttu-id="b1d80-161">D3DDECLTYPE</span><span class="sxs-lookup"><span data-stu-id="b1d80-161">D3DDECLTYPE</span></span>                                                                           | <span data-ttu-id="b1d80-162">D3DFORMAT</span><span class="sxs-lookup"><span data-stu-id="b1d80-162">D3DFORMAT</span></span>                                                     | <span data-ttu-id="b1d80-163">\_Формат DXGI</span><span class="sxs-lookup"><span data-stu-id="b1d80-163">DXGI\_FORMAT</span></span>                                                                                                                                                                                            |
|----------------------------------|---------------------------------------------------------------------------------------|---------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="b1d80-164">**XMBYTE2**</span><span class="sxs-lookup"><span data-stu-id="b1d80-164">**XMBYTE2**</span></span>](/windows/desktop/api/DirectXPackedVector/ns-directxpackedvector-xmbyte2)       |                                                                                       |                                                               | <span data-ttu-id="b1d80-165">\_Формат DXGI \_ R8G8 \_ Синт</span><span class="sxs-lookup"><span data-stu-id="b1d80-165">DXGI\_FORMAT\_R8G8\_SINT</span></span>                                                                                                                                                                                |
| [<span data-ttu-id="b1d80-166">**XMBYTE4**</span><span class="sxs-lookup"><span data-stu-id="b1d80-166">**XMBYTE4**</span></span>](/windows/win32/api/directxpackedvector/ns-directxpackedvector-xmbyte4)       | <span data-ttu-id="b1d80-167">D3DDECLTYPE \_ BYTE4 (только Xbox)</span><span class="sxs-lookup"><span data-stu-id="b1d80-167">D3DDECLTYPE\_BYTE4 (Xbox Only)</span></span>                                                        | <span data-ttu-id="b1d80-168">D3DFMT \_ x8x8x8x8</span><span class="sxs-lookup"><span data-stu-id="b1d80-168">D3DFMT\_x8x8x8x8</span></span>                                              | <span data-ttu-id="b1d80-169">\_Формат DXGI \_ x8x8x8x8 \_ Синт</span><span class="sxs-lookup"><span data-stu-id="b1d80-169">DXGI\_FORMAT\_x8x8x8x8\_SINT</span></span>                                                                                                                                                                            |
| [<span data-ttu-id="b1d80-170">**XMBYTEN2**</span><span class="sxs-lookup"><span data-stu-id="b1d80-170">**XMBYTEN2**</span></span>](/windows/desktop/api/DirectXPackedVector/ns-directxpackedvector-xmbyten2)     |                                                                                       | <span data-ttu-id="b1d80-171">D3DFMT \_ V8U8</span><span class="sxs-lookup"><span data-stu-id="b1d80-171">D3DFMT\_V8U8</span></span>                                                  | <span data-ttu-id="b1d80-172">\_Формат DXGI \_ R8G8 \_ снорм</span><span class="sxs-lookup"><span data-stu-id="b1d80-172">DXGI\_FORMAT\_R8G8\_SNORM</span></span>                                                                                                                                                                               |
| [<span data-ttu-id="b1d80-173">**XMBYTEN4**</span><span class="sxs-lookup"><span data-stu-id="b1d80-173">**XMBYTEN4**</span></span>](/windows/win32/api/directxpackedvector/ns-directxpackedvector-xmbyten4)     | <span data-ttu-id="b1d80-174">D3DDECLTYPE \_ BYTE4N (только Xbox)</span><span class="sxs-lookup"><span data-stu-id="b1d80-174">D3DDECLTYPE\_BYTE4N (Xbox Only)</span></span>                                                       | <span data-ttu-id="b1d80-175">D3DFMT \_ x8x8x8x8</span><span class="sxs-lookup"><span data-stu-id="b1d80-175">D3DFMT\_x8x8x8x8</span></span>                                              | <span data-ttu-id="b1d80-176">\_Формат DXGI \_ x8x8x8x8 \_ снорм</span><span class="sxs-lookup"><span data-stu-id="b1d80-176">DXGI\_FORMAT\_x8x8x8x8\_SNORM</span></span>                                                                                                                                                                           |
| [<span data-ttu-id="b1d80-177">**ксмколор**</span><span class="sxs-lookup"><span data-stu-id="b1d80-177">**XMCOLOR**</span></span>](/windows/desktop/api/DirectXPackedVector/ns-directxpackedvector-xmcolor)       | <span data-ttu-id="b1d80-178">D3DDECLTYPE \_ D3DCOLOR</span><span class="sxs-lookup"><span data-stu-id="b1d80-178">D3DDECLTYPE\_D3DCOLOR</span></span>                                                                 | <span data-ttu-id="b1d80-179">D3DFMT \_ A8R8G8B8</span><span class="sxs-lookup"><span data-stu-id="b1d80-179">D3DFMT\_A8R8G8B8</span></span>                                              | <span data-ttu-id="b1d80-180">\_Формат DXGI \_ B8G8R8A8 \_ UNORM (DXGI 1.1 +)</span><span class="sxs-lookup"><span data-stu-id="b1d80-180">DXGI\_FORMAT\_B8G8R8A8\_UNORM (DXGI 1.1+)</span></span>                                                                                                                                                               |
| [<span data-ttu-id="b1d80-181">**XMDEC4**</span><span class="sxs-lookup"><span data-stu-id="b1d80-181">**XMDEC4**</span></span>](/windows/win32/api/directxpackedvector/ns-directxpackedvector-xmdec4)         | <span data-ttu-id="b1d80-182">D3DDECLTYPE \_ DEC4 (только Xbox)</span><span class="sxs-lookup"><span data-stu-id="b1d80-182">D3DDECLTYPE\_DEC4 (Xbox Only)</span></span>                                                         | <span data-ttu-id="b1d80-183">D3DDECLTYPE \_ DEC3 (только Xbox)</span><span class="sxs-lookup"><span data-stu-id="b1d80-183">D3DDECLTYPE\_DEC3 (Xbox Only)</span></span>                                 |                                                                                                                                                                                                         |
| [<span data-ttu-id="b1d80-184">**XMDECN4**</span><span class="sxs-lookup"><span data-stu-id="b1d80-184">**XMDECN4**</span></span>](/windows/win32/api/directxpackedvector/ns-directxpackedvector-xmdecn4)       | <span data-ttu-id="b1d80-185">D3DDECLTYPE \_ DEC4N (только Xbox)</span><span class="sxs-lookup"><span data-stu-id="b1d80-185">D3DDECLTYPE\_DEC4N (Xbox Only)</span></span>                                                        | <span data-ttu-id="b1d80-186">D3DDECLTYPE \_ DEC3N (только Xbox)</span><span class="sxs-lookup"><span data-stu-id="b1d80-186">D3DDECLTYPE\_DEC3N (Xbox Only)</span></span>                                |                                                                                                                                                                                                         |
| [<span data-ttu-id="b1d80-187">**XMFLOAT2**</span><span class="sxs-lookup"><span data-stu-id="b1d80-187">**XMFLOAT2**</span></span>](/windows/win32/api/directxmath/ns-directxmath-xmfloat2)     | <span data-ttu-id="b1d80-188">D3DDECLTYPE \_ FLOAT2</span><span class="sxs-lookup"><span data-stu-id="b1d80-188">D3DDECLTYPE\_FLOAT2</span></span>                                                                   | <span data-ttu-id="b1d80-189">D3DFMT \_ G32R32F</span><span class="sxs-lookup"><span data-stu-id="b1d80-189">D3DFMT\_G32R32F</span></span>                                               | <span data-ttu-id="b1d80-190">\_Формат DXGI \_ R32G32 \_ float</span><span class="sxs-lookup"><span data-stu-id="b1d80-190">DXGI\_FORMAT\_R32G32\_FLOAT</span></span>                                                                                                                                                                             |
| <span data-ttu-id="b1d80-191">[**XMFLOAT2A**](/previous-versions/windows/desktop/legacy/ee419469(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="b1d80-191">[**XMFLOAT2A**](/previous-versions/windows/desktop/legacy/ee419469(v=vs.85))</span></span>   | <span data-ttu-id="b1d80-192">D3DDECLTYPE \_ FLOAT2</span><span class="sxs-lookup"><span data-stu-id="b1d80-192">D3DDECLTYPE\_FLOAT2</span></span>                                                                   | <span data-ttu-id="b1d80-193">D3DFMT \_ G32R32F</span><span class="sxs-lookup"><span data-stu-id="b1d80-193">D3DFMT\_G32R32F</span></span>                                               | <span data-ttu-id="b1d80-194">\_Формат DXGI \_ R32G32 \_ float</span><span class="sxs-lookup"><span data-stu-id="b1d80-194">DXGI\_FORMAT\_R32G32\_FLOAT</span></span>                                                                                                                                                                             |
| [<span data-ttu-id="b1d80-195">**XMFLOAT3**</span><span class="sxs-lookup"><span data-stu-id="b1d80-195">**XMFLOAT3**</span></span>](/windows/win32/api/directxmath/ns-directxmath-xmfloat3)     | <span data-ttu-id="b1d80-196">D3DDECLTYPE \_ FLOAT3</span><span class="sxs-lookup"><span data-stu-id="b1d80-196">D3DDECLTYPE\_FLOAT3</span></span>                                                                   |                                                               | <span data-ttu-id="b1d80-197">\_Формат DXGI \_ R32G32B32 \_ float</span><span class="sxs-lookup"><span data-stu-id="b1d80-197">DXGI\_FORMAT\_R32G32B32\_FLOAT</span></span>                                                                                                                                                                          |
| [<span data-ttu-id="b1d80-198">**XMFLOAT3A**</span><span class="sxs-lookup"><span data-stu-id="b1d80-198">**XMFLOAT3A**</span></span>](/windows/win32/api/directxmath/ns-directxmath-xmfloat3a)   | <span data-ttu-id="b1d80-199">D3DDECLTYPE \_ FLOAT3</span><span class="sxs-lookup"><span data-stu-id="b1d80-199">D3DDECLTYPE\_FLOAT3</span></span>                                                                   |                                                               | <span data-ttu-id="b1d80-200">\_Формат DXGI \_ R32G32B32 \_ float</span><span class="sxs-lookup"><span data-stu-id="b1d80-200">DXGI\_FORMAT\_R32G32B32\_FLOAT</span></span>                                                                                                                                                                          |
| [<span data-ttu-id="b1d80-201">**XMFLOAT3PK**</span><span class="sxs-lookup"><span data-stu-id="b1d80-201">**XMFLOAT3PK**</span></span>](/windows/win32/api/directxpackedvector/ns-directxpackedvector-xmfloat3pk) |                                                                                       |                                                               | <span data-ttu-id="b1d80-202">\_Формат DXGI \_ R11G11B10 \_ float</span><span class="sxs-lookup"><span data-stu-id="b1d80-202">DXGI\_FORMAT\_R11G11B10\_FLOAT</span></span>                                                                                                                                                                          |
| [<span data-ttu-id="b1d80-203">**XMFLOAT3SE**</span><span class="sxs-lookup"><span data-stu-id="b1d80-203">**XMFLOAT3SE**</span></span>](/windows/win32/api/directxpackedvector/ns-directxpackedvector-xmfloat3se) |                                                                                       |                                                               | <span data-ttu-id="b1d80-204">\_Формат DXGI \_ R9G9B9E5 \_ шаредексп</span><span class="sxs-lookup"><span data-stu-id="b1d80-204">DXGI\_FORMAT\_R9G9B9E5\_SHAREDEXP</span></span>                                                                                                                                                                       |
| [<span data-ttu-id="b1d80-205">**XMFLOAT4**</span><span class="sxs-lookup"><span data-stu-id="b1d80-205">**XMFLOAT4**</span></span>](/windows/win32/api/directxmath/ns-directxmath-xmfloat4)     | <span data-ttu-id="b1d80-206">D3DDECLTYPE \_ FLOAT4</span><span class="sxs-lookup"><span data-stu-id="b1d80-206">D3DDECLTYPE\_FLOAT4</span></span>                                                                   | <span data-ttu-id="b1d80-207">D3DFMT \_ A32B32G32R32F</span><span class="sxs-lookup"><span data-stu-id="b1d80-207">D3DFMT\_A32B32G32R32F</span></span>                                         | <span data-ttu-id="b1d80-208">\_Формат DXGI \_ R32G32B32A32 \_ float</span><span class="sxs-lookup"><span data-stu-id="b1d80-208">DXGI\_FORMAT\_R32G32B32A32\_FLOAT</span></span>                                                                                                                                                                       |
| [<span data-ttu-id="b1d80-209">**XMFLOAT4A**</span><span class="sxs-lookup"><span data-stu-id="b1d80-209">**XMFLOAT4A**</span></span>](/windows/win32/api/directxmath/ns-directxmath-xmfloat4a)   | <span data-ttu-id="b1d80-210">D3DDECLTYPE \_ FLOAT4</span><span class="sxs-lookup"><span data-stu-id="b1d80-210">D3DDECLTYPE\_FLOAT4</span></span>                                                                   | <span data-ttu-id="b1d80-211">D3DFMT \_ A32B32G32R32F</span><span class="sxs-lookup"><span data-stu-id="b1d80-211">D3DFMT\_A32B32G32R32F</span></span>                                         | <span data-ttu-id="b1d80-212">\_Формат DXGI \_ R32G32B32A32 \_ float</span><span class="sxs-lookup"><span data-stu-id="b1d80-212">DXGI\_FORMAT\_R32G32B32A32\_FLOAT</span></span>                                                                                                                                                                       |
| [<span data-ttu-id="b1d80-213">**XMHALF2**</span><span class="sxs-lookup"><span data-stu-id="b1d80-213">**XMHALF2**</span></span>](/windows/desktop/api/DirectXPackedVector/ns-directxpackedvector-xmhalf2)       | <span data-ttu-id="b1d80-214">D3DDECLTYPE \_ FLOAT16 \_ 2</span><span class="sxs-lookup"><span data-stu-id="b1d80-214">D3DDECLTYPE\_FLOAT16\_2</span></span>                                                               | <span data-ttu-id="b1d80-215">D3DFMT \_ G16R16F</span><span class="sxs-lookup"><span data-stu-id="b1d80-215">D3DFMT\_G16R16F</span></span>                                               | <span data-ttu-id="b1d80-216">\_Формат DXGI \_ R16G16 \_ float</span><span class="sxs-lookup"><span data-stu-id="b1d80-216">DXGI\_FORMAT\_R16G16\_FLOAT</span></span>                                                                                                                                                                             |
| [<span data-ttu-id="b1d80-217">**XMHALF4**</span><span class="sxs-lookup"><span data-stu-id="b1d80-217">**XMHALF4**</span></span>](/windows/desktop/api/DirectXPackedVector/ns-directxpackedvector-xmhalf4)       | <span data-ttu-id="b1d80-218">D3DDECLTYPE \_ FLOAT16 \_ 4</span><span class="sxs-lookup"><span data-stu-id="b1d80-218">D3DDECLTYPE\_FLOAT16\_4</span></span>                                                               | <span data-ttu-id="b1d80-219">D3DFMT \_ A16B16G16R16F</span><span class="sxs-lookup"><span data-stu-id="b1d80-219">D3DFMT\_A16B16G16R16F</span></span>                                         | <span data-ttu-id="b1d80-220">\_Формат DXGI \_ R16G16B16A16 \_ float</span><span class="sxs-lookup"><span data-stu-id="b1d80-220">DXGI\_FORMAT\_R16G16B16A16\_FLOAT</span></span>                                                                                                                                                                       |
| [<span data-ttu-id="b1d80-221">**XMINT2**</span><span class="sxs-lookup"><span data-stu-id="b1d80-221">**XMINT2**</span></span>](/windows/win32/api/directxmath/ns-directxmath-xmint2)         |                                                                                       |                                                               | <span data-ttu-id="b1d80-222">\_Формат DXGI \_ R32G32 \_ Синт</span><span class="sxs-lookup"><span data-stu-id="b1d80-222">DXGI\_FORMAT\_R32G32\_SINT</span></span>                                                                                                                                                                              |
| [<span data-ttu-id="b1d80-223">**XMINT3**</span><span class="sxs-lookup"><span data-stu-id="b1d80-223">**XMINT3**</span></span>](/windows/win32/api/directxmath/ns-directxmath-xmint3)         |                                                                                       |                                                               | <span data-ttu-id="b1d80-224">\_Формат DXGI \_ R32G32B32 \_ Синт</span><span class="sxs-lookup"><span data-stu-id="b1d80-224">DXGI\_FORMAT\_R32G32B32\_SINT</span></span>                                                                                                                                                                           |
| [<span data-ttu-id="b1d80-225">**XMINT4**</span><span class="sxs-lookup"><span data-stu-id="b1d80-225">**XMINT4**</span></span>](/windows/win32/api/directxmath/ns-directxmath-xmint4)         |                                                                                       |                                                               | <span data-ttu-id="b1d80-226">\_Формат DXGI \_ R32G32B32A32 \_ Синт</span><span class="sxs-lookup"><span data-stu-id="b1d80-226">DXGI\_FORMAT\_R32G32B32A32\_SINT</span></span>                                                                                                                                                                        |
| [<span data-ttu-id="b1d80-227">**XMSHORT2**</span><span class="sxs-lookup"><span data-stu-id="b1d80-227">**XMSHORT2**</span></span>](/windows/desktop/api/DirectXPackedVector/ns-directxpackedvector-xmshort2)     | <span data-ttu-id="b1d80-228">D3DDECLTYPE \_ SHORT2</span><span class="sxs-lookup"><span data-stu-id="b1d80-228">D3DDECLTYPE\_SHORT2</span></span>                                                                   | <span data-ttu-id="b1d80-229">D3DFMT \_ V16U16</span><span class="sxs-lookup"><span data-stu-id="b1d80-229">D3DFMT\_V16U16</span></span>                                                | <span data-ttu-id="b1d80-230">\_Формат DXGI \_ R16G16 \_ Синт</span><span class="sxs-lookup"><span data-stu-id="b1d80-230">DXGI\_FORMAT\_R16G16\_SINT</span></span>                                                                                                                                                                              |
| [<span data-ttu-id="b1d80-231">**XMSHORTN2**</span><span class="sxs-lookup"><span data-stu-id="b1d80-231">**XMSHORTN2**</span></span>](/windows/desktop/api/DirectXPackedVector/ns-directxpackedvector-xmshortn2)   | <span data-ttu-id="b1d80-232">D3DDECLTYPE \_ SHORT2N</span><span class="sxs-lookup"><span data-stu-id="b1d80-232">D3DDECLTYPE\_SHORT2N</span></span>                                                                  | <span data-ttu-id="b1d80-233">D3DFMT \_ V16U16</span><span class="sxs-lookup"><span data-stu-id="b1d80-233">D3DFMT\_V16U16</span></span>                                                | <span data-ttu-id="b1d80-234">\_Формат DXGI \_ R16G16 \_ снорм</span><span class="sxs-lookup"><span data-stu-id="b1d80-234">DXGI\_FORMAT\_R16G16\_SNORM</span></span>                                                                                                                                                                             |
| [<span data-ttu-id="b1d80-235">**XMSHORT4**</span><span class="sxs-lookup"><span data-stu-id="b1d80-235">**XMSHORT4**</span></span>](/windows/desktop/api/DirectXPackedVector/ns-directxpackedvector-xmshort4)     | <span data-ttu-id="b1d80-236">D3DDECLTYPE \_ SHORT4</span><span class="sxs-lookup"><span data-stu-id="b1d80-236">D3DDECLTYPE\_SHORT4</span></span>                                                                   | <span data-ttu-id="b1d80-237">D3DFMT \_ x16x16x16x16</span><span class="sxs-lookup"><span data-stu-id="b1d80-237">D3DFMT\_x16x16x16x16</span></span>                                          | <span data-ttu-id="b1d80-238">\_Формат DXGI \_ R16G16B16A16 \_ Синт</span><span class="sxs-lookup"><span data-stu-id="b1d80-238">DXGI\_FORMAT\_R16G16B16A16\_SINT</span></span>                                                                                                                                                                        |
| [<span data-ttu-id="b1d80-239">**XMSHORTN4**</span><span class="sxs-lookup"><span data-stu-id="b1d80-239">**XMSHORTN4**</span></span>](/windows/desktop/api/DirectXPackedVector/ns-directxpackedvector-xmshortn4)   | <span data-ttu-id="b1d80-240">D3DDECLTYPE \_ SHORT4N</span><span class="sxs-lookup"><span data-stu-id="b1d80-240">D3DDECLTYPE\_SHORT4N</span></span>                                                                  | <span data-ttu-id="b1d80-241">D3DFMT \_ x16x16x16x16</span><span class="sxs-lookup"><span data-stu-id="b1d80-241">D3DFMT\_x16x16x16x16</span></span>                                          | <span data-ttu-id="b1d80-242">\_Формат DXGI \_ R16G16B16A16 \_ снорм</span><span class="sxs-lookup"><span data-stu-id="b1d80-242">DXGI\_FORMAT\_R16G16B16A16\_SNORM</span></span>                                                                                                                                                                       |
| [<span data-ttu-id="b1d80-243">**XMUBYTE2**</span><span class="sxs-lookup"><span data-stu-id="b1d80-243">**XMUBYTE2**</span></span>](/windows/desktop/api/DirectXPackedVector/ns-directxpackedvector-xmubyte2)     |                                                                                       |                                                               | <span data-ttu-id="b1d80-244">\_Формат DXGI \_ R8G8 \_ uint</span><span class="sxs-lookup"><span data-stu-id="b1d80-244">DXGI\_FORMAT\_R8G8\_UINT</span></span>                                                                                                                                                                                |
| [<span data-ttu-id="b1d80-245">**XMUBYTEN2**</span><span class="sxs-lookup"><span data-stu-id="b1d80-245">**XMUBYTEN2**</span></span>](/windows/desktop/api/DirectXPackedVector/ns-directxpackedvector-xmubyten2)   |                                                                                       | <span data-ttu-id="b1d80-246">D3DFMT \_ A8P8, D3DFMT \_ A8L8</span><span class="sxs-lookup"><span data-stu-id="b1d80-246">D3DFMT\_A8P8, D3DFMT\_A8L8</span></span>                                    | <span data-ttu-id="b1d80-247">\_Формат DXGI \_ R8G8 \_ UNORM</span><span class="sxs-lookup"><span data-stu-id="b1d80-247">DXGI\_FORMAT\_R8G8\_UNORM</span></span>                                                                                                                                                                               |
| [<span data-ttu-id="b1d80-248">**XMUINT2**</span><span class="sxs-lookup"><span data-stu-id="b1d80-248">**XMUINT2**</span></span>](/windows/win32/api/directxmath/ns-directxmath-xmuint2)       |                                                                                       |                                                               | <span data-ttu-id="b1d80-249">\_Формат DXGI \_ R32G32 \_ uint</span><span class="sxs-lookup"><span data-stu-id="b1d80-249">DXGI\_FORMAT\_R32G32\_UINT</span></span>                                                                                                                                                                              |
| [<span data-ttu-id="b1d80-250">**XMUINT3**</span><span class="sxs-lookup"><span data-stu-id="b1d80-250">**XMUINT3**</span></span>](/windows/win32/api/directxmath/ns-directxmath-xmuint3)       |                                                                                       |                                                               | <span data-ttu-id="b1d80-251">\_Формат DXGI \_ R32G32B32 \_ uint</span><span class="sxs-lookup"><span data-stu-id="b1d80-251">DXGI\_FORMAT\_R32G32B32\_UINT</span></span>                                                                                                                                                                           |
| [<span data-ttu-id="b1d80-252">**XMUINT4**</span><span class="sxs-lookup"><span data-stu-id="b1d80-252">**XMUINT4**</span></span>](/windows/win32/api/directxmath/ns-directxmath-xmuint4)       |                                                                                       |                                                               | <span data-ttu-id="b1d80-253">\_Формат DXGI \_ R32G32B32A32 \_ uint</span><span class="sxs-lookup"><span data-stu-id="b1d80-253">DXGI\_FORMAT\_R32G32B32A32\_UINT</span></span>                                                                                                                                                                        |
| [<span data-ttu-id="b1d80-254">**XMU555**</span><span class="sxs-lookup"><span data-stu-id="b1d80-254">**XMU555**</span></span>](/windows/win32/api/directxpackedvector/ns-directxpackedvector-xmu555)         |                                                                                       | <span data-ttu-id="b1d80-255">D3DFMT \_ X1R5G5B5, D3DFMT \_ A1R5G5B5</span><span class="sxs-lookup"><span data-stu-id="b1d80-255">D3DFMT\_X1R5G5B5, D3DFMT\_A1R5G5B5</span></span>                            | <span data-ttu-id="b1d80-256">\_Формат DXGI \_ B5G5R5A1 \_ UNORM</span><span class="sxs-lookup"><span data-stu-id="b1d80-256">DXGI\_FORMAT\_B5G5R5A1\_UNORM</span></span>                                                                                                                                                                           |
| [<span data-ttu-id="b1d80-257">**XMU565**</span><span class="sxs-lookup"><span data-stu-id="b1d80-257">**XMU565**</span></span>](/windows/win32/api/directxpackedvector/ns-directxpackedvector-xmu565)         |                                                                                       | <span data-ttu-id="b1d80-258">D3DFMT \_ R5G6B5</span><span class="sxs-lookup"><span data-stu-id="b1d80-258">D3DFMT\_R5G6B5</span></span>                                                | <span data-ttu-id="b1d80-259">\_Формат DXGI \_ B5G6R5 \_ UNORM</span><span class="sxs-lookup"><span data-stu-id="b1d80-259">DXGI\_FORMAT\_B5G6R5\_UNORM</span></span>                                                                                                                                                                             |
| [<span data-ttu-id="b1d80-260">**XMUBYTE4**</span><span class="sxs-lookup"><span data-stu-id="b1d80-260">**XMUBYTE4**</span></span>](/windows/win32/api/directxpackedvector/ns-directxpackedvector-xmubyte4)     | <span data-ttu-id="b1d80-261">D3DDECLTYPE \_ UBYTE4</span><span class="sxs-lookup"><span data-stu-id="b1d80-261">D3DDECLTYPE\_UBYTE4</span></span>                                                                   | <span data-ttu-id="b1d80-262">D3DFMT \_ x8x8x8x8</span><span class="sxs-lookup"><span data-stu-id="b1d80-262">D3DFMT\_x8x8x8x8</span></span>                                              | <span data-ttu-id="b1d80-263">\_Формат DXGI \_ x8x8x8x8 \_ uint</span><span class="sxs-lookup"><span data-stu-id="b1d80-263">DXGI\_FORMAT\_x8x8x8x8\_UINT</span></span>                                                                                                                                                                            |
| [<span data-ttu-id="b1d80-264">**XMUBYTEN4**</span><span class="sxs-lookup"><span data-stu-id="b1d80-264">**XMUBYTEN4**</span></span>](/windows/win32/api/directxpackedvector/ns-directxpackedvector-xmubyten4)   | <span data-ttu-id="b1d80-265">D3DDECLTYPE \_ UBYTE4N</span><span class="sxs-lookup"><span data-stu-id="b1d80-265">D3DDECLTYPE\_UBYTE4N</span></span>                                                                  | <span data-ttu-id="b1d80-266">D3DFMT \_ x8x8x8x8</span><span class="sxs-lookup"><span data-stu-id="b1d80-266">D3DFMT\_x8x8x8x8</span></span>                                              | <span data-ttu-id="b1d80-267">\_Формат DXGI \_ x8x8x8x8 \_ UNORM</span><span class="sxs-lookup"><span data-stu-id="b1d80-267">DXGI\_FORMAT\_x8x8x8x8\_UNORM</span></span><br/> <span data-ttu-id="b1d80-268">В \_ формате DXGI \_ R10G10B10 \_ XR \_ смещение \_ a2 \_ UNORM (используйте [**XMLoadUDecN4 \_ XR**](/windows/win32/api/directxpackedvector/nf-directxpackedvector-xmloadudecn4_xr) и [**XMStoreUDecN4 \_ XR**](/windows/win32/api/directxpackedvector/nf-directxpackedvector-xmstoreudecn4_xr)).</span><span class="sxs-lookup"><span data-stu-id="b1d80-268">DXGI\_FORMAT\_R10G10B10\_XR\_BIAS\_A2\_UNORM (Use [**XMLoadUDecN4\_XR**](/windows/win32/api/directxpackedvector/nf-directxpackedvector-xmloadudecn4_xr) and [**XMStoreUDecN4\_XR**](/windows/win32/api/directxpackedvector/nf-directxpackedvector-xmstoreudecn4_xr).)</span></span><br/> |
| [<span data-ttu-id="b1d80-269">**XMUDEC4**</span><span class="sxs-lookup"><span data-stu-id="b1d80-269">**XMUDEC4**</span></span>](/windows/win32/api/directxpackedvector/ns-directxpackedvector-xmudec4)       | <span data-ttu-id="b1d80-270">D3DDECLTYPE \_ UDEC4 (только Xbox)</span><span class="sxs-lookup"><span data-stu-id="b1d80-270">D3DDECLTYPE\_UDEC4 (Xbox Only)</span></span><br/> <span data-ttu-id="b1d80-271">D3DDECLTYPE \_ UDEC3 (только Xbox)</span><span class="sxs-lookup"><span data-stu-id="b1d80-271">D3DDECLTYPE\_UDEC3 (Xbox Only)</span></span><br/>   | <span data-ttu-id="b1d80-272">D3DFMT \_ A2R10G10B10</span><span class="sxs-lookup"><span data-stu-id="b1d80-272">D3DFMT\_A2R10G10B10</span></span><br/> <span data-ttu-id="b1d80-273">D3DFMT \_ A2B10G10R10</span><span class="sxs-lookup"><span data-stu-id="b1d80-273">D3DFMT\_A2B10G10R10</span></span><br/> | <span data-ttu-id="b1d80-274">\_Формат DXGI \_ R10G10B10A2 \_ uint</span><span class="sxs-lookup"><span data-stu-id="b1d80-274">DXGI\_FORMAT\_R10G10B10A2\_UINT</span></span>                                                                                                                                                                         |
| [<span data-ttu-id="b1d80-275">**XMUDECN4**</span><span class="sxs-lookup"><span data-stu-id="b1d80-275">**XMUDECN4**</span></span>](/windows/win32/api/directxpackedvector/ns-directxpackedvector-xmudecn4)     | <span data-ttu-id="b1d80-276">D3DDECLTYPE \_ UDEC4N (только Xbox)</span><span class="sxs-lookup"><span data-stu-id="b1d80-276">D3DDECLTYPE\_UDEC4N (Xbox Only)</span></span><br/> <span data-ttu-id="b1d80-277">D3DDECLTYPE \_ UDEC3N (только Xbox)</span><span class="sxs-lookup"><span data-stu-id="b1d80-277">D3DDECLTYPE\_UDEC3N (Xbox Only)</span></span><br/> | <span data-ttu-id="b1d80-278">D3DFMT \_ A2R10G10B10</span><span class="sxs-lookup"><span data-stu-id="b1d80-278">D3DFMT\_A2R10G10B10</span></span><br/> <span data-ttu-id="b1d80-279">D3DFMT \_ A2B10G10R10</span><span class="sxs-lookup"><span data-stu-id="b1d80-279">D3DFMT\_A2B10G10R10</span></span><br/> | <span data-ttu-id="b1d80-280">\_Формат DXGI \_ R10G10B10A2 \_ UNORM</span><span class="sxs-lookup"><span data-stu-id="b1d80-280">DXGI\_FORMAT\_R10G10B10A2\_UNORM</span></span>                                                                                                                                                                        |
| [<span data-ttu-id="b1d80-281">**XMUNIBBLE4**</span><span class="sxs-lookup"><span data-stu-id="b1d80-281">**XMUNIBBLE4**</span></span>](/windows/win32/api/directxpackedvector/ns-directxpackedvector-xmunibble4) |                                                                                       | <span data-ttu-id="b1d80-282">D3DFMT \_ A4R4G4B4, D3DFMT \_ X4R4G4B4</span><span class="sxs-lookup"><span data-stu-id="b1d80-282">D3DFMT\_A4R4G4B4, D3DFMT\_X4R4G4B4</span></span>                            | <span data-ttu-id="b1d80-283">\_Формат DXGI \_ B4G4R4A4 \_ UNORM (DXGI 1.2 +)</span><span class="sxs-lookup"><span data-stu-id="b1d80-283">DXGI\_FORMAT\_B4G4R4A4\_UNORM (DXGI 1.2+)</span></span>                                                                                                                                                               |
| [<span data-ttu-id="b1d80-284">**XMUSHORT2**</span><span class="sxs-lookup"><span data-stu-id="b1d80-284">**XMUSHORT2**</span></span>](/windows/desktop/api/DirectXPackedVector/ns-directxpackedvector-xmushort2)   | <span data-ttu-id="b1d80-285">D3DDECLTYPE \_ USHORT2</span><span class="sxs-lookup"><span data-stu-id="b1d80-285">D3DDECLTYPE\_USHORT2</span></span>                                                                  | <span data-ttu-id="b1d80-286">D3DFMT \_ G16R16</span><span class="sxs-lookup"><span data-stu-id="b1d80-286">D3DFMT\_G16R16</span></span>                                                | <span data-ttu-id="b1d80-287">\_Формат DXGI \_ R16G16 \_ uint</span><span class="sxs-lookup"><span data-stu-id="b1d80-287">DXGI\_FORMAT\_R16G16\_UINT</span></span>                                                                                                                                                                              |
| [<span data-ttu-id="b1d80-288">**XMUSHORTN2**</span><span class="sxs-lookup"><span data-stu-id="b1d80-288">**XMUSHORTN2**</span></span>](/windows/desktop/api/DirectXPackedVector/ns-directxpackedvector-xmushortn2) | <span data-ttu-id="b1d80-289">D3DDECLTYPE \_ USHORT2N</span><span class="sxs-lookup"><span data-stu-id="b1d80-289">D3DDECLTYPE\_USHORT2N</span></span>                                                                 | <span data-ttu-id="b1d80-290">D3DFMT \_ G16R16</span><span class="sxs-lookup"><span data-stu-id="b1d80-290">D3DFMT\_G16R16</span></span>                                                | <span data-ttu-id="b1d80-291">\_Формат DXGI \_ R16G16 \_ UNORM</span><span class="sxs-lookup"><span data-stu-id="b1d80-291">DXGI\_FORMAT\_R16G16\_UNORM</span></span>                                                                                                                                                                             |
| [<span data-ttu-id="b1d80-292">**XMUSHORT4**</span><span class="sxs-lookup"><span data-stu-id="b1d80-292">**XMUSHORT4**</span></span>](/windows/desktop/api/DirectXPackedVector/ns-directxpackedvector-xmushort4)   | <span data-ttu-id="b1d80-293">D3DDECLTYPE \_ USHORT4 (только Xbox)</span><span class="sxs-lookup"><span data-stu-id="b1d80-293">D3DDECLTYPE\_USHORT4 (Xbox Only)</span></span>                                                      | <span data-ttu-id="b1d80-294">D3DFMT \_ x16x16x16x16</span><span class="sxs-lookup"><span data-stu-id="b1d80-294">D3DFMT\_x16x16x16x16</span></span>                                          | <span data-ttu-id="b1d80-295">\_Формат DXGI \_ R16G16B16A16 \_ uint</span><span class="sxs-lookup"><span data-stu-id="b1d80-295">DXGI\_FORMAT\_R16G16B16A16\_UINT</span></span>                                                                                                                                                                        |
| [<span data-ttu-id="b1d80-296">**XMUSHORTN4**</span><span class="sxs-lookup"><span data-stu-id="b1d80-296">**XMUSHORTN4**</span></span>](/windows/desktop/api/DirectXPackedVector/ns-directxpackedvector-xmushortn4) | <span data-ttu-id="b1d80-297">D3DDECLTYPE \_ USHORT4N</span><span class="sxs-lookup"><span data-stu-id="b1d80-297">D3DDECLTYPE\_USHORT4N</span></span>                                                                 | <span data-ttu-id="b1d80-298">D3DFMT \_ x16x16x16x16</span><span class="sxs-lookup"><span data-stu-id="b1d80-298">D3DFMT\_x16x16x16x16</span></span>                                          | <span data-ttu-id="b1d80-299">\_Формат DXGI \_ R16G16B16A16 \_ UNORM</span><span class="sxs-lookup"><span data-stu-id="b1d80-299">DXGI\_FORMAT\_R16G16B16A16\_UNORM</span></span>                                                                                                                                                                       |



 

## <a name="global-constants-in-the-directxmath-library"></a><span data-ttu-id="b1d80-300">Глобальные константы в библиотеке Директксмас</span><span class="sxs-lookup"><span data-stu-id="b1d80-300">Global Constants in the DirectXMath Library</span></span>

<span data-ttu-id="b1d80-301">Чтобы уменьшить размер сегмента данных, Библиотека Директксмас использует макрос [ксмглобалконст](xmglobalconst.md) для использования ряда глобальных внутренних констант в своей реализации.</span><span class="sxs-lookup"><span data-stu-id="b1d80-301">To reduce the size of the data segment, the DirectXMath Library uses the [XMGLOBALCONST](xmglobalconst.md) macro to make use of a number of global internal constants in its implementation.</span></span> <span data-ttu-id="b1d80-302">По соглашению такие внутренние глобальные константы имеют префикс **g \_ XM**.</span><span class="sxs-lookup"><span data-stu-id="b1d80-302">By convention, such internal global constants are prefixed by **g\_XM**.</span></span> <span data-ttu-id="b1d80-303">Как правило, они являются одним из следующих типов: [**XMVECTORU32**](xmvectoru32-data-type.md), [**XMVECTORF32**](xmvectorf32-data-type.md)или **XMVECTORI32**.</span><span class="sxs-lookup"><span data-stu-id="b1d80-303">Typically, they are one of the following types: [**XMVECTORU32**](xmvectoru32-data-type.md), [**XMVECTORF32**](xmvectorf32-data-type.md), or **XMVECTORI32**.</span></span>

<span data-ttu-id="b1d80-304">Эти внутренние глобальные константы могут быть изменены в будущих редакциях библиотеки Директксмас.</span><span class="sxs-lookup"><span data-stu-id="b1d80-304">These internal global constants are subject to change in future revisions of the DirectXMath Library.</span></span> <span data-ttu-id="b1d80-305">Используйте открытые функции, которые инкапсулируют константы, если это возможно, а не непосредственное использование глобальных значений **g \_ XM** .</span><span class="sxs-lookup"><span data-stu-id="b1d80-305">Use public functions that encapsulate the constants when possible rather than direct use of **g\_XM** global values.</span></span> <span data-ttu-id="b1d80-306">Вы также можете объявить собственные глобальные константы с помощью [ксмглобалконст](xmglobalconst.md).</span><span class="sxs-lookup"><span data-stu-id="b1d80-306">You can also declare your own global constants using [XMGLOBALCONST](xmglobalconst.md).</span></span>

## <a name="windows-sse-versus-sse2"></a><span data-ttu-id="b1d80-307">Windows SSE и SSE2</span><span class="sxs-lookup"><span data-stu-id="b1d80-307">Windows SSE versus SSE2</span></span>

<span data-ttu-id="b1d80-308">Набор инструкций SSE обеспечивает поддержку только для векторов с плавающей запятой одиночной точности.</span><span class="sxs-lookup"><span data-stu-id="b1d80-308">The SSE instruction set provides support only for single-precision floating-point vectors.</span></span> <span data-ttu-id="b1d80-309">Директксмас должен использовать набор инструкций SSE2, чтобы обеспечить поддержку целочисленных векторов.</span><span class="sxs-lookup"><span data-stu-id="b1d80-309">DirectXMath must make use of the SSE2 instruction set to provide integer vector support.</span></span> <span data-ttu-id="b1d80-310">SSE2 поддерживается всеми процессорами Intel, начиная с выпуска Pentium 4, всех процессоров AMD K8 и более поздних версий и всех процессоров с поддержкой x64.</span><span class="sxs-lookup"><span data-stu-id="b1d80-310">SSE2 is supported by all Intel processors since the introduction of the Pentium 4, all AMD K8 and later processors, and all x64-capable processors.</span></span>

> [!Note]  
> <span data-ttu-id="b1d80-311">Для Windows 8 для x86 или более поздней версии требуется поддержка SSE2.</span><span class="sxs-lookup"><span data-stu-id="b1d80-311">Windows 8 for x86 or later requires support for SSE2.</span></span> <span data-ttu-id="b1d80-312">Для всех версий Windows x64 требуется поддержка SSE2.</span><span class="sxs-lookup"><span data-stu-id="b1d80-312">All versions of Windows x64 require support for SSE2.</span></span> <span data-ttu-id="b1d80-313">Для Windows на ARM/ARM64 требуется ARM \_ Neon.</span><span class="sxs-lookup"><span data-stu-id="b1d80-313">Windows on ARM / ARM64 requires ARM\_NEON.</span></span>

 

## <a name="routine-variants"></a><span data-ttu-id="b1d80-314">Варианты подпрограмм</span><span class="sxs-lookup"><span data-stu-id="b1d80-314">Routine Variants</span></span>

<span data-ttu-id="b1d80-315">Существует несколько вариантов функций Директксмас, упрощающих работу:</span><span class="sxs-lookup"><span data-stu-id="b1d80-315">There are several variants of DirectXMath functions that make it easier to do your work:</span></span>

-   <span data-ttu-id="b1d80-316">Функции сравнения для создания сложного условного ветвления на основе меньшего количества операций сравнения векторов.</span><span class="sxs-lookup"><span data-stu-id="b1d80-316">Comparison functions to create complicated conditional branching based on a smaller number of vector comparison operations.</span></span> <span data-ttu-id="b1d80-317">Имена этих функций заканчиваются на "R", например XMVector3InBoundsR.</span><span class="sxs-lookup"><span data-stu-id="b1d80-317">The name of these functions end in "R" such as XMVector3InBoundsR.</span></span> <span data-ttu-id="b1d80-318">Функции возвращают запись сравнения в виде возвращаемого значения UINT или в качестве параметра с параметром UINT out.</span><span class="sxs-lookup"><span data-stu-id="b1d80-318">The functions return a comparison record as a UINT return value, or as a UINT out parameter.</span></span> <span data-ttu-id="b1d80-319">Для проверки значения можно использовать макросы **ксмкомпарисион \*** .</span><span class="sxs-lookup"><span data-stu-id="b1d80-319">You can use the **XMComparision\*** macros to test the value.</span></span>
-   <span data-ttu-id="b1d80-320">Пакетные функции для выполнения операций в пакетном режиме над большими векторными массивами.</span><span class="sxs-lookup"><span data-stu-id="b1d80-320">Batch functions for performing batch-style operations on larger vector arrays.</span></span> <span data-ttu-id="b1d80-321">Имена этих функций заканчиваются на "Stream", например [**XMVector3TransformStream**](/windows/win32/api/directxmath/nf-directxmath-xmvector3transformstream).</span><span class="sxs-lookup"><span data-stu-id="b1d80-321">The name of these functions end in "Stream" such as [**XMVector3TransformStream**](/windows/win32/api/directxmath/nf-directxmath-xmvector3transformstream).</span></span> <span data-ttu-id="b1d80-322">Функции работают с массивом входов и создают массив выходов.</span><span class="sxs-lookup"><span data-stu-id="b1d80-322">The functions operate on an array of inputs, and they generate an array of outputs.</span></span> <span data-ttu-id="b1d80-323">Как правило, они принимают входной и выходной шаг.</span><span class="sxs-lookup"><span data-stu-id="b1d80-323">Typically, they take an input and output stride.</span></span>
-   <span data-ttu-id="b1d80-324">Функции оценки, которые реализуют более быструю оценку вместо более медленных, более точных результатов.</span><span class="sxs-lookup"><span data-stu-id="b1d80-324">Estimation functions that implement a faster estimation instead of a slower, more accurate result.</span></span> <span data-ttu-id="b1d80-325">Имена этих функций заканчиваются на "EST", например [**XMVector3NormalizeEst**](/windows/win32/api/directxmath/nf-directxmath-xmvector3normalizeest).</span><span class="sxs-lookup"><span data-stu-id="b1d80-325">The name of these functions end in "Est" such as [**XMVector3NormalizeEst**](/windows/win32/api/directxmath/nf-directxmath-xmvector3normalizeest).</span></span> <span data-ttu-id="b1d80-326">Качество и производительность, влияющие на оценку использования оценки, отличаются от платформы к платформе, но мы рекомендуем использовать варианты оценки для кода, чувствительного к производительности.</span><span class="sxs-lookup"><span data-stu-id="b1d80-326">The quality and performance impact of using estimation varies from platform to platform, but we recommend that you use estimation variants for performance-sensitive code.</span></span>

## <a name="platform-inconsistencies"></a><span data-ttu-id="b1d80-327">Несогласованность платформ</span><span class="sxs-lookup"><span data-stu-id="b1d80-327">Platform Inconsistencies</span></span>

<span data-ttu-id="b1d80-328">Библиотека Директксмас предназначена для использования в графических приложениях и играх с учетом производительности.</span><span class="sxs-lookup"><span data-stu-id="b1d80-328">The DirectXMath library is intended for use in performance-sensitive graphics applications and games.</span></span> <span data-ttu-id="b1d80-329">Таким образом, реализация разработана для оптимальной скорости выполнения обычной обработки на всех поддерживаемых платформах.</span><span class="sxs-lookup"><span data-stu-id="b1d80-329">Therefore, the implementation is designed for optimal speed doing normal processing on all supported platforms.</span></span> <span data-ttu-id="b1d80-330">Результаты на условиях границы, особенно те, которые создают специальные объекты с плавающей запятой, скорее всего, будут отличаться от целевых к целевым.</span><span class="sxs-lookup"><span data-stu-id="b1d80-330">Results at boundary-conditions, particularly those that generate floating-point specials, are likely to vary from target to target.</span></span> <span data-ttu-id="b1d80-331">Это поведение также зависит от других параметров времени выполнения, таких как управляющее слово x87 для целевого объекта Windows 32-bit без встроенных функций или управляющего слова SSE для Windows 32-bit и 64-bit.</span><span class="sxs-lookup"><span data-stu-id="b1d80-331">This behavior will also depend on other run-time settings, such as the x87 control word for the Windows 32-bit no-intrinsics target or the SSE control word for both Windows 32-bit and 64-bit.</span></span> <span data-ttu-id="b1d80-332">Кроме того, в условиях границ между различными поставщиками ЦП будут обнаружены различия.</span><span class="sxs-lookup"><span data-stu-id="b1d80-332">Furthermore, there will be differences in boundary-conditions between various CPU vendors.</span></span>

<span data-ttu-id="b1d80-333">Не используйте Директксмас в научных и других приложениях, если точность числовых значений является первостепенное.</span><span class="sxs-lookup"><span data-stu-id="b1d80-333">Don't use DirectXMath in scientific or other applications where numerical accuracy is paramount.</span></span> <span data-ttu-id="b1d80-334">Кроме того, это ограничение отражается в недостатке поддержки двойного или другого вычисления с высокой точностью.</span><span class="sxs-lookup"><span data-stu-id="b1d80-334">Also, this limitation is reflected in the lack of support for double or other extended precision computations.</span></span>

> [!Note]  
> <span data-ttu-id="b1d80-335">В \_ XM \_ нет \_ встроенных \_ путей к коду, обычно написанных для обеспечения соответствия, а не производительности.</span><span class="sxs-lookup"><span data-stu-id="b1d80-335">The \_XM\_NO\_INTRINSICS\_ scalar code paths generally are written for compliance, not performance.</span></span> <span data-ttu-id="b1d80-336">Результаты их границ также будут разными.</span><span class="sxs-lookup"><span data-stu-id="b1d80-336">Their boundary-condition results also will vary.</span></span>

 

## <a name="platform-specific-extensions"></a><span data-ttu-id="b1d80-337">Расширения для конкретной платформы</span><span class="sxs-lookup"><span data-stu-id="b1d80-337">Platform-specific Extensions</span></span>

<span data-ttu-id="b1d80-338">Библиотека Директксмас предназначена для упрощения поддержки C++ SIMD-программирования, обеспечивающей отличную поддержку платформ x86, x64 и Windows RT с помощью широко поддерживаемых встроенных инструкций (SSE2 и ARM-NEON).</span><span class="sxs-lookup"><span data-stu-id="b1d80-338">The DirectXMath library is intended to simplify C++ SIMD programming providing excellent support for x86, x64, and Windows RT platforms using broadly supported intrinsics instructions (SSE2 and ARM-NEON).</span></span>

<span data-ttu-id="b1d80-339">Однако бывают случаи, когда инструкции, относящиеся к конкретной платформе, могут оказаться полезными.</span><span class="sxs-lookup"><span data-stu-id="b1d80-339">There are times, however, when platform-specific instructions may prove beneficial.</span></span> <span data-ttu-id="b1d80-340">Из-за способа реализации Директксмас во многих случаях довольно просто использовать типы Директксмас непосредственно в стандартных встроенных инструкциях, поддерживаемых компилятором, и использовать Директксмас в качестве резервного пути для платформ, которые не поддерживают расширенную инструкцию.</span><span class="sxs-lookup"><span data-stu-id="b1d80-340">Due to the way DirectXMath is implemented, in many cases it is trivial to use DirectXMath types directly in standard compiler-supported intrinsics statements, and to use DirectXMath as the fallback path for platforms that don't support the extended instruction.</span></span>

<span data-ttu-id="b1d80-341">Например, ниже приведен упрощенный пример использования инструкции по использованию SSE 4,1 Dot-Product.</span><span class="sxs-lookup"><span data-stu-id="b1d80-341">For example, here is a simplified example of leveraging the SSE 4.1 dot-product instruction.</span></span> <span data-ttu-id="b1d80-342">Обратите внимание, что необходимо явно защитить путь кода, чтобы избежать создания исключений недопустимых инструкций во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="b1d80-342">Note that you must explicitly guard the code-path to avoid generating invalid instruction exceptions at run time.</span></span> <span data-ttu-id="b1d80-343">Убедитесь, что пути кода достаточно существенны, чтобы вычислить дополнительную стоимость ветвления, сложность поддержки нескольких путей кода и т. д.</span><span class="sxs-lookup"><span data-stu-id="b1d80-343">Ensure the code paths do significant enough work to justify the additional cost of branching, complexity of maintaining multiple code-paths, and so on.</span></span>


```
#include <Windows.h>
#include <stdio.h>

#include <DirectXMath.h>

#include <intrin.h>
#include <smmintrin.h>

using namespace DirectX;

bool g_bSSE41 = false;

void DetectCPUFeatures()
{
#ifndef _M_ARM
   // See __cpuid documentation on MSDN for more information

   int CPUInfo[4] = {-1};
#if defined(__clang__) || defined(__GNUC__)
   __cpuid(0, CPUInfo[0], CPUInfo[1], CPUInfo[2], CPUInfo[3]);
#else
   __cpuid(CPUInfo, 0);
#endif

   if ( CPUInfo[0] >= 1 )
   {
#if defined(__clang__) || defined(__GNUC__)
        __cpuid(1, CPUInfo[0], CPUInfo[1], CPUInfo[2], CPUInfo[3]);
#else
        __cpuid(CPUInfo, 1);
#endif

       if ( CPUInfo[2] & 0x80000 )
           g_bSSE41 = true;
   }
#endif
}

int main()
{
   if ( !XMVerifyCPUSupport() )
       return -1;

   DetectCPUFeatures();

   ...

   XMVECTORF32 v1 = { 1.f, 2.f, 3.f, 4.f };
   XMVECTORF32 v2 = { 5.f, 6.f, 7.f, 8.f };

   XMVECTOR r2, r3, r4;

   if ( g_bSSE41 )
   {
#ifndef _M_ARM
       r2 = _mm_dp_ps( v1, v2, 0x3f );
       r3 = _mm_dp_ps( v1, v2, 0x7f );
       r4 = _mm_dp_ps( v1, v2, 0xff );
#endif
   }
   else
   {
       r2 = XMVector2Dot( v1, v2 );
       r3 = XMVector3Dot( v1, v2 );
       r4 = XMVector4Dot( v1, v2 );
   }

   ...

   return 0;
}
```



<span data-ttu-id="b1d80-344">Дополнительные сведения о расширениях для конкретных платформ см. в следующих статьях:</span><span class="sxs-lookup"><span data-stu-id="b1d80-344">For more info about platform-specific extensions, see:</span></span>

<dl>

[<span data-ttu-id="b1d80-345">Директксмас: SSE, SSE2 и ARM-NEON</span><span class="sxs-lookup"><span data-stu-id="b1d80-345">DirectXMath: SSE, SSE2, and ARM-NEON</span></span>](https://walbourn.github.io/directxmath-sse-sse2-and-arm-neon/)  
[<span data-ttu-id="b1d80-346">Директксмас: SSE3 и SSSE3</span><span class="sxs-lookup"><span data-stu-id="b1d80-346">DirectXMath: SSE3 and SSSE3</span></span>](https://walbourn.github.io/directxmath-sse3-and-ssse3/)  
[<span data-ttu-id="b1d80-347">Директксмас: SSE 4.1 и SSE 4.2</span><span class="sxs-lookup"><span data-stu-id="b1d80-347">DirectXMath: SSE4.1 and SSE4.2</span></span>](https://walbourn.github.io/directxmath-sse4-1-and-sse4-2/)  
[<span data-ttu-id="b1d80-348">Директксмас: AVX</span><span class="sxs-lookup"><span data-stu-id="b1d80-348">DirectXMath: AVX</span></span>](https://walbourn.github.io/directxmath-avx/)  
[<span data-ttu-id="b1d80-349">Директксмас: F16C и FMA</span><span class="sxs-lookup"><span data-stu-id="b1d80-349">DirectXMath: F16C and FMA</span></span>](https://walbourn.github.io/directxmath-f16c-and-fma/)  
[<span data-ttu-id="b1d80-350">Директксмас: AVX2</span><span class="sxs-lookup"><span data-stu-id="b1d80-350">DirectXMath: AVX2</span></span>](https://walbourn.github.io/directxmath-avx2/)  
[<span data-ttu-id="b1d80-351">Директксмас: ARM64</span><span class="sxs-lookup"><span data-stu-id="b1d80-351">DirectXMath: ARM64</span></span>](https://walbourn.github.io/directxmath-arm64/)  
</dl>

## <a name="related-topics"></a><span data-ttu-id="b1d80-352">Связанные темы</span><span class="sxs-lookup"><span data-stu-id="b1d80-352">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="b1d80-353">Директксмас по программированию</span><span class="sxs-lookup"><span data-stu-id="b1d80-353">DirectXMath Programming Guide</span></span>](ovw-xnamath-progguide.md)
</dt> </dl>

 

 
