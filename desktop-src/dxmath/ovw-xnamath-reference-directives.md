---
description: Директивы компилятора настраивает функциональные возможности, используемые библиотекой Директксмас.
ms.assetid: c1746b7b-7e7e-2453-77eb-17f859a38fe2
title: Директивы компилятора библиотеки Директксмас
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: da7419afbab80d35feea135a25f7c5892b137a08
ms.sourcegitcommit: adba238660d8a5f4fe98fc6f5d105d56aac3a400
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/09/2021
ms.locfileid: "111826779"
---
# <a name="directxmath-library-compiler-directives"></a><span data-ttu-id="0ba91-103">Директивы компилятора библиотеки Директксмас</span><span class="sxs-lookup"><span data-stu-id="0ba91-103">DirectXMath Library compiler directives</span></span>

<span data-ttu-id="0ba91-104">Директивы компилятора настраивает функциональные возможности, используемые библиотекой Директксмас.</span><span class="sxs-lookup"><span data-stu-id="0ba91-104">Compiler directives tune the functionality that the DirectXMath library uses.</span></span>



| <span data-ttu-id="0ba91-105">Директива</span><span class="sxs-lookup"><span data-stu-id="0ba91-105">Directive</span></span>                     | <span data-ttu-id="0ba91-106">Описание</span><span class="sxs-lookup"><span data-stu-id="0ba91-106">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|-------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="0ba91-107">\_XM \_ без \_ встроенных функций\_</span><span class="sxs-lookup"><span data-stu-id="0ba91-107">\_XM\_NO\_INTRINSICS\_</span></span>        | <span data-ttu-id="0ba91-108">Если \_ XM \_ не \_ определены встроенные функции \_ , операции директксмас реализуются без использования встроенных функций, связанных с платформой.</span><span class="sxs-lookup"><span data-stu-id="0ba91-108">When \_XM\_NO\_INTRINSICS\_ is defined, DirectXMath operations are implemented without using any platform-specific intrinsics.</span></span> <span data-ttu-id="0ba91-109">Вместо этого Директксмас использует только стандартные операции с плавающей точкой.</span><span class="sxs-lookup"><span data-stu-id="0ba91-109">Instead, DirectXMath uses only standard floating point operations.</span></span><br/> <span data-ttu-id="0ba91-110">По умолчанию \_ XM \_ не \_ определены встроенные функции \_ .</span><span class="sxs-lookup"><span data-stu-id="0ba91-110">By default, \_XM\_NO\_INTRINSICS\_ is not defined.</span></span><br/> <span data-ttu-id="0ba91-111">Эта директива переопределяет все остальные директивы.</span><span class="sxs-lookup"><span data-stu-id="0ba91-111">This directive overrides all other directives.</span></span> <span data-ttu-id="0ba91-112">Поэтому \_ \_ \_ \_ перед определением состояния встроенных функций \_ XM \_ ARM \_ Neon \_ \_ и \_ \_ \_ встроенных функций SSE \_ рекомендуется проверять наличие XM без встроенных функций.</span><span class="sxs-lookup"><span data-stu-id="0ba91-112">Therefore, we recommend that you check for \_XM\_NO\_INTRINSICS\_ before you determine the status of \_XM\_ARM\_NEON\_INTRINSICS\_ or \_XM\_SSE\_INTRINSICS\_.</span></span><br/>                                                                              |
| <span data-ttu-id="0ba91-113">\_\_ \_ встроенные функции SSE XM\_</span><span class="sxs-lookup"><span data-stu-id="0ba91-113">\_XM\_SSE\_INTRINSICS\_</span></span>       | <span data-ttu-id="0ba91-114">Если \_ \_ \_ заданы встроенные функции XM SSE \_ , код компилируется для использования поддержки SSE и SSE2 на платформах, поддерживающих эти наборы инструкций.</span><span class="sxs-lookup"><span data-stu-id="0ba91-114">When \_XM\_SSE\_INTRINSICS\_ is defined, code is compiled to use supporting SSE and SSE2 on platforms that support these instruction sets.</span></span><br/> <span data-ttu-id="0ba91-115">Версии Windows, предоставляющие встроенные функции SSE, поддерживают SSE и SSE2.</span><span class="sxs-lookup"><span data-stu-id="0ba91-115">The Windows versions providing SSE intrinsics support both SSE and SSE2.</span></span><br/> <span data-ttu-id="0ba91-116">\_\_ \_ Встроенные функции SSE XM не \_ влияют на системы, которые не поддерживают SSE и SSE2.</span><span class="sxs-lookup"><span data-stu-id="0ba91-116">\_XM\_SSE\_INTRINSICS\_ has no effect on systems that do not support SSE and SSE2.</span></span><br/> <span data-ttu-id="0ba91-117">По умолчанию \_ \_ \_ встроенные функции XM SSE \_ определяются при компиляции пользователей для платформы Windows.</span><span class="sxs-lookup"><span data-stu-id="0ba91-117">By default, \_XM\_SSE\_INTRINSICS\_ is defined when users compile for a Windows platform.</span></span><br/> <span data-ttu-id="0ba91-118">Директксмас использует стандартный компилятор определяет ( \_ M \_ IX86/ \_ m \_ AMD64) для определения целевых объектов Windows x86 или Windows x64.</span><span class="sxs-lookup"><span data-stu-id="0ba91-118">DirectXMath uses the standard compiler defines (\_M\_IX86 / \_M\_AMD64) to determine Windows x86 or Windows x64 targets.</span></span><br/> |
| <span data-ttu-id="0ba91-119">\_\_ \_ \_ встроенные функции XM ARM Neon\_</span><span class="sxs-lookup"><span data-stu-id="0ba91-119">\_XM\_ARM\_NEON\_INTRINSICS\_</span></span> | <span data-ttu-id="0ba91-120">Это указывает, что реализация Директксмас использует встроенные функции ARM-NEON.</span><span class="sxs-lookup"><span data-stu-id="0ba91-120">This indicates the DirectXMath implementation uses of the ARM-NEON intrinsics.</span></span> <span data-ttu-id="0ba91-121">По умолчанию \_ \_ \_ \_ встроенные функции XM ARM Neon \_ определяются при компиляции пользователей для Windows на платформе ARM/ARM64.</span><span class="sxs-lookup"><span data-stu-id="0ba91-121">By default, \_XM\_ARM\_NEON\_INTRINSICS\_ is defined when users compile for a Windows on ARM / ARM64 platform.</span></span> <span data-ttu-id="0ba91-122">Директксмас использует стандартное определение компилятора ( \_ M \_ ARM, \_ m \_ ARM64) для определения этого двоичного целевого объекта.</span><span class="sxs-lookup"><span data-stu-id="0ba91-122">DirectXMath uses the standard compiler define (\_M\_ARM, \_M\_ARM64) to determine this binary target.</span></span><br/> <span data-ttu-id="0ba91-123">Поддержка встроенных функций ARM-NEON является новой для Директксмас и не поддерживается Кснамас 2. x.</span><span class="sxs-lookup"><span data-stu-id="0ba91-123">ARM-NEON intrinsics support is new to DirectXMath and is not supported by XNAMath 2.x.</span></span><br/>                                                                                                                                                                             |
| <span data-ttu-id="0ba91-124">\_\_ \_ Встроенные функции SSE3 XM\_</span><span class="sxs-lookup"><span data-stu-id="0ba91-124">\_XM\_SSE3\_INTRINSICS\_</span></span>      | <span data-ttu-id="0ba91-125">Новое для Директксмас 3,10.</span><span class="sxs-lookup"><span data-stu-id="0ba91-125">New for DirectXMath 3.10.</span></span> <br/> <span data-ttu-id="0ba91-126">При указании этой директивы компилятора функции Директксмас реализуются для использования встроенных функций SSE3, где это применимо. в противном случае используется SSE/SSE2.</span><span class="sxs-lookup"><span data-stu-id="0ba91-126">When you specify this compiler directive, DirectXMath functions are implemented to make use of SSE3 intrinsics where applicable; otherwise it uses SSE/SSE2.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="0ba91-127">\_\_ \_ Встроенные функции XM SSE4\_</span><span class="sxs-lookup"><span data-stu-id="0ba91-127">\_XM\_SSE4\_INTRINSICS\_</span></span>      | <span data-ttu-id="0ba91-128">Новое для Директмас 3,09.</span><span class="sxs-lookup"><span data-stu-id="0ba91-128">New for DirectMath 3.09.</span></span> <br/> <span data-ttu-id="0ba91-129">При указании этой директивы компилятора функции Директксмас реализуются для использования встроенных функций SSE3 и SSE 4.1, где это применимо. в противном случае используется SSE/SSE2.</span><span class="sxs-lookup"><span data-stu-id="0ba91-129">When you specify this compiler directive, DirectXMath functions are implemented to make use of SSE3 and SSE4.1 intrinsics where applicable; otherwise it uses SSE/SSE2.</span></span> <span data-ttu-id="0ba91-130">При указании этой директивы компилятора также подразумевается \_ \_ \_ Встроенная функция SSE3 \_ XM \_ и \_ \_ встроенные функции SSE XM \_ .</span><span class="sxs-lookup"><span data-stu-id="0ba91-130">When you specify this compiler directive, it also implies \_XM\_SSE3\_INTRINSICS\_ and \_XM\_SSE\_INTRINSICS\_.</span></span><br/>                                                                                                                                                                                                                                |
| <span data-ttu-id="0ba91-131">\_\_ \_ встроенные функции XM AVX\_</span><span class="sxs-lookup"><span data-stu-id="0ba91-131">\_XM\_AVX\_INTRINSICS\_</span></span>       | <span data-ttu-id="0ba91-132">Новое для Директксмас 3,09.</span><span class="sxs-lookup"><span data-stu-id="0ba91-132">New for DirectXMath 3.09.</span></span> <br/> <span data-ttu-id="0ba91-133">Использование параметра/Arch: AVX включит эту директиву.</span><span class="sxs-lookup"><span data-stu-id="0ba91-133">Use of /arch:AVX will enable this directive.</span></span> <br/> <span data-ttu-id="0ba91-134">При указании этой директивы компилятора функции Директксмас реализуются для использования встроенных функций SSE3, SSE 4.1 и AVX 128-bit, где это применимо. в противном случае Директксмас использует SSE/SSE2.</span><span class="sxs-lookup"><span data-stu-id="0ba91-134">When you specify this compiler directive, DirectXMath functions are implemented to make use of SSE3, SSE4.1, and AVX 128-bit intrinsics where applicable; otherwise DirectXMath uses SSE/SSE2.</span></span> <span data-ttu-id="0ba91-135">При указании этой директивы компилятора также подразумевается \_ \_ \_ Встроенная функция SSE3 XM \_ , \_ встроенные функции XM SSE4 \_ \_ и \_ \_ встроенные функции SSE, \_ \_ а также небольшое подмножество инструкций SSE3.</span><span class="sxs-lookup"><span data-stu-id="0ba91-135">When you specify this compiler directive, it also implies \_XM\_SSE3\_INTRINSICS, \_XM\_SSE4\_INTRINSICS\_, and \_XM\_SSE\_INTRINSICS\_, and includes a small subset of SSE3 instructions.</span></span> <br/>                                                                    |
| <span data-ttu-id="0ba91-136">\_ \_ Встроенные функции XM AVX2\_</span><span class="sxs-lookup"><span data-stu-id="0ba91-136">XM\_AVX2\_INTRINSICS\_</span></span>        | <span data-ttu-id="0ba91-137">Новое для Директксмас 3,11.</span><span class="sxs-lookup"><span data-stu-id="0ba91-137">New for DirectXMath 3.11.</span></span> <br/> <span data-ttu-id="0ba91-138">Использование параметра/Arch: AVX2 позволяет использовать эту директиву.</span><span class="sxs-lookup"><span data-stu-id="0ba91-138">Use of /arch:AVX2 enables this directive.</span></span> <span data-ttu-id="0ba91-139">При указании этой директивы компилятора функции Директксмас используют встроенную функцию AVX2, F16C/CVT16, FMA3, AVX 128-bit, SSE 4.1 и SSE3, где это применимо.</span><span class="sxs-lookup"><span data-stu-id="0ba91-139">When you specify this compiler directive, DirectXMath functions make use of AVX2, F16C/CVT16, FMA3, AVX 128-bit, SSE4.1, and SSE3 intrinsics where applicable.</span></span> <span data-ttu-id="0ba91-140">При использовании \_ \_ \_ встроенных функций XM AVX2 \_ подразумевается XM F16C, XM FMA3, встроенные функции XM \_ \_ \_ \_ \_ \_ \_ \_ \_ \_ AVX \_ \_ , \_ \_ \_ встроенные функции XM SSE \_ , \_ \_ \_ встроенные функции XM SSE3 \_ и \_ \_ \_ встроенные функции XM SSE4 \_ .</span><span class="sxs-lookup"><span data-stu-id="0ba91-140">When you use \_XM\_AVX2\_INTRINSICS\_, it implies \_XM\_F16C\_INTRINSICS\_, \_XM\_FMA3\_INTRINSICS\_, \_XM\_AVX\_INTRINSICS\_, \_XM\_SSE\_INTRINSICS\_, \_XM\_SSE3\_INTRINSICS\_, and \_XM\_SSE4\_INTRINSICS\_.</span></span><br/>                                                                                       |
| <span data-ttu-id="0ba91-141">\_\_ \_ Встроенные функции XM F16C\_</span><span class="sxs-lookup"><span data-stu-id="0ba91-141">\_XM\_F16C\_INTRINSICS\_</span></span>      | <span data-ttu-id="0ba91-142">Новое для Директксмас 3,09.</span><span class="sxs-lookup"><span data-stu-id="0ba91-142">New for DirectXMath 3.09.</span></span> <br/> <span data-ttu-id="0ba91-143">При указании этой директивы компилятора функции Директксмас реализуются для использования встроенных функций SSE3, SSE 4.1, AVX 128-bit и F16C/CVT16, где это применимо. в противном случае Директксмас использует SSE/SSE2.</span><span class="sxs-lookup"><span data-stu-id="0ba91-143">When you specify this compiler directive, DirectXMath functions are implemented to make use of SSE3, SSE4.1, AVX 128-bit, and F16C/CVT16 intrinsics where applicable; otherwise DirectXMath uses SSE/SSE2.</span></span> <span data-ttu-id="0ba91-144">При использовании \_ \_ \_ встроенных функций XM F16C \_ подразумевается XM AVX, встроенные функции, XM \_ \_ \_ SSE, \_ \_ \_ \_ \_ \_ \_ встроенные функции SSE3 \_ \_ , а также \_ \_ \_ встроенные функции XM XM \_ .</span><span class="sxs-lookup"><span data-stu-id="0ba91-144">When you use \_XM\_F16C\_INTRINSICS\_, it implies \_XM\_AVX\_INTRINSICS\_, \_XM\_SSE\_INTRINSICS\_, \_XM\_SSE3\_INTRINSICS\_, and \_XM\_SSE4\_INTRINSICS\_.</span></span><br/>                                                                                                                                                 |
| <span data-ttu-id="0ba91-145">\_\_ \_ Встроенные функции XM FMA3\_</span><span class="sxs-lookup"><span data-stu-id="0ba91-145">\_XM\_FMA3\_INTRINSICS\_</span></span>      | <span data-ttu-id="0ba91-146">Новое для Директксмас 3,11.</span><span class="sxs-lookup"><span data-stu-id="0ba91-146">New for DirectXMath 3.11.</span></span> <br/> <span data-ttu-id="0ba91-147">При указании этой директивы компилятора функции Директксмас будут использовать встроенную функцию SSE3, SSE 4.1, AVX 128-bit и FMA3, где это применимо. в противном случае Директксмас использует SSE/SSE2.</span><span class="sxs-lookup"><span data-stu-id="0ba91-147">When you specify this compiler directive, DirectXMath functions will make use of SSE3, SSE4.1, AVX 128-bit, and FMA3 intrinsics where applicable; otherwise DirectXMath uses SSE/SSE2.</span></span> <span data-ttu-id="0ba91-148">При использовании \_ \_ \_ встроенных функций XM FMA3 \_ подразумевается XM AVX, встроенные функции, XM \_ \_ \_ SSE, \_ \_ \_ \_ \_ \_ \_ встроенные функции SSE3 \_ \_ , а также \_ \_ \_ встроенные функции XM XM \_ .</span><span class="sxs-lookup"><span data-stu-id="0ba91-148">When you use \_XM\_FMA3\_INTRINSICS\_, it implies \_XM\_AVX\_INTRINSICS\_, \_XM\_SSE\_INTRINSICS\_, \_XM\_SSE3\_INTRINSICS\_, and \_XM\_SSE4\_INTRINSICS\_.</span></span> <br/>                                                                                                                                                            |
| <span data-ttu-id="0ba91-149">\_XM \_ векторкалл\_</span><span class="sxs-lookup"><span data-stu-id="0ba91-149">\_XM\_VECTORCALL\_</span></span>            | <span data-ttu-id="0ba91-150">Это позволяет использовать \_ \_ соглашение о вызовах векторкалл для целевых платформ Windows x86 или Windows x64.</span><span class="sxs-lookup"><span data-stu-id="0ba91-150">This enables the use of the \_\_vectorcall calling convention for Windows x86 or Windows x64 targets.</span></span> <span data-ttu-id="0ba91-151">По умолчанию используется значение \_ XM \_ векторкалл \_ = 1, если компилятор поддерживает эту функцию.</span><span class="sxs-lookup"><span data-stu-id="0ba91-151">It defaults to \_XM\_VECTORCALL\_=1 when the compiler supports this feature.</span></span> <span data-ttu-id="0ba91-152">Можно вручную задать для него значение \_ XM \_ векторкалл \_ = 0, чтобы всегда отключать его.</span><span class="sxs-lookup"><span data-stu-id="0ba91-152">You can manually set it to \_XM\_VECTORCALL\_=0 to always disable it.</span></span> <br/> <span data-ttu-id="0ba91-153">\_\_векторкалл не поддерживается для Windows на платформе ARM/ARM64 или управляемом C++.</span><span class="sxs-lookup"><span data-stu-id="0ba91-153">\_\_vectorcall is not supported for the Windows on ARM / ARM64 platform or Managed C++.</span></span> <br/>                                                                                                                                                                                                                 |
| <span data-ttu-id="0ba91-154">\_\_ \_ встроенные функции XM свмл\_</span><span class="sxs-lookup"><span data-stu-id="0ba91-154">\_XM\_SVML\_INTRINSICS\_</span></span>     | <span data-ttu-id="0ba91-155">Новое для Директксмас 3,16.</span><span class="sxs-lookup"><span data-stu-id="0ba91-155">New for DirectXMath 3.16.</span></span> <br/> <span data-ttu-id="0ba91-156">В VS 2019 или более поздней версии это позволяет библиотеке использовать библиотеку Intel " &reg; Краткая векторная Матрица" для x86/x64.</span><span class="sxs-lookup"><span data-stu-id="0ba91-156">With VS 2019 or later, this enables the library to use the Intel&reg; Short Vector Matrix Library for x86/x64.</span></span> <br/>                                                                                                                                                                                                                 |



 

## <a name="related-topics"></a><span data-ttu-id="0ba91-157">Связанные темы</span><span class="sxs-lookup"><span data-stu-id="0ba91-157">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="0ba91-158">Справочник по программированию Директксмас</span><span class="sxs-lookup"><span data-stu-id="0ba91-158">DirectXMath Programming Reference</span></span>](ovw-xnamath-reference.md)
</dt> </dl>

 

 
