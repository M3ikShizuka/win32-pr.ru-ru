---
description: Настройка внешнего вида и поведения отдельной папки с Desktop.ini.
ms.assetid: 0361b7da-bfb3-4880-b982-85d2fe419805
title: Настройка папок с помощью Desktop.ini
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 23ec216bedfdee16e26f87070a0196d77a8db12c802d97b1449cd78001f51a16
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "117859836"
---
# <a name="how-to-customize-folders-with-desktopini"></a>Настройка папок с помощью Desktop.ini

Папки файловой системы обычно отображаются со стандартным значком и набором свойств, которые указывают, например, является ли папка общей. Внешний вид и поведение отдельной папки можно настроить, создав файл Desktop.ini для этой папки.

## <a name="instructions"></a>Инструкции

### <a name="using-desktopini-files"></a>Использование файлов Desktop.ini

Обычно папки отображаются со стандартным значком папки. Обычно файл Desktop.ini используется для назначения в папку пользовательского значка или эскиза. Desktop.ini можно использовать для создания *всплывающей подсказки* , которая отображает сведения о папке и управляет некоторыми аспектами поведения папки, например указанием локализованных имен для папки или элементов в папке.

**Следующая процедура используется для настройки стиля папки с помощью Desktop.ini:**

1.  Используйте [**пасмакесистемфолдер**](/windows/desktop/api/Shlwapi/nf-shlwapi-pathmakesystemfoldera) , чтобы сделать папку системной. Это устанавливает для папки бит только для чтения, чтобы указать, что специальное поведение, зарезервированное для Desktop.ini, должно быть включено. Вы также можете создать папку в качестве системной папки из командной строки с помощью команды **attrib + s** *имя_папки*.
2.  Создайте файл Desktop.ini для папки. Его следует пометить как *скрытый* и *системный* , чтобы убедиться, что он скрыт от обычных пользователей.
3.  Убедитесь, что создаваемый файл Desktop.ini имеет формат Юникода. Это необходимо для хранения локализованных строк, которые могут быть отображены пользователям.

### <a name="creating-a-desktopini-file"></a>Создание файла Desktop.ini

Файл Desktop.ini — это текстовый файл, который позволяет указать способ просмотра папки в файловой системе. Объект \[ . \] Раздел шеллклассинфо позволяет настроить представление папки, присваивая значения нескольким записям:

| Значение             | Описание                                                                                                                                                                                                                                                                                                                                                                    |
|-------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **конфирмфилеоп** | Установите для этой записи значение 0, чтобы избежать предупреждения об удалении системной папки при удалении или перемещении папки.                                                                                                                                                                                                                                                                  |
| **Общий доступ**     | не поддерживается в Windows Vista и более поздних версиях. Установите для этой записи значение 1, чтобы запретить общий доступ к папке.                                                                                                                                                                                                                                                                       |
| **иконфиле**      | Если вы хотите указать пользовательский значок для папки, присвойте этой записи имя файла значка. Рекомендуется использовать расширение имени файла ICO, но можно также указать .bmp файлы или .exe и .dll файлы, содержащие значки. Если используется относительный путь, значок становится доступен пользователям, просматривающим папку по сети. Необходимо также задать запись **икониндекс** . |
| **икониндекс**     | Установите эту запись, чтобы указать индекс для пользовательского значка. Если файл, назначенный **иконфиле** , содержит только один значок, задайте для **икониндекс** значение 0.                                                                                                                                                                                                                               |
| **InfoTip**       | Задайте для этой записи информационную текстовую строку. Он отображается как всплывающая подсказка при наведении курсора на папку. Если пользователь щелкнет папку, текст сведений отображается в информационном блоке папки ниже стандартных сведений.                                                                                                                      |



 

Следующие иллюстрации относятся к папке Music с пользовательским файлом Desktop.ini. Папка теперь:

-   Имеет пользовательский значок.
-   Не отображает предупреждение «вы удаляете системную папку», если папка перемещена или удалена.
-   Невозможно настроить общий доступ.
-   Отображает информационный текст при наведении курсора мыши на папку.

Параметры папки на следующих иллюстрациях настроены для отображения скрытых файлов, чтобы Desktop.ini видна. Папка выглядит следующим образом:

![снимок экрана папки с настраиваемым значком](images/webview4.jpg)

При наведении курсора мыши на папку отображается всплывающая подсказка.

![снимок экрана папки с всплывающей подсказкой](images/webview6.jpg)

Пользовательский значок заменяет значок папки везде, где отображается имя папки.

![снимок экрана пользовательского значка "Замена папки"](images/webview5.jpg)

Следующий файл desktop.ini использовался для настройки папки Music, как показано на предыдущих иллюстрациях.


```
[.ShellClassInfo]
ConfirmFileOp=0
NoSharing=1
IconFile=Folder.ico
IconIndex=0
InfoTip=Some sensible information.
```



 

 



