---
description: В более старых операционных системах пользователю требовалось выйти из системы, прежде чем другой пользователь сможет войти в систему. Начиная с Windows XP, пользователю не нужно выходить из системы, чтобы позволить другому пользователю войти в систему.
ms.assetid: 72f99d32-184f-4f0b-bec1-6068c6e32f88
title: Быстрое переключение пользователей
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4d79f16ef8a1ea8c97bfb61d34dfa727f3d0cef8
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104997750"
---
# <a name="fast-user-switching"></a>Быстрое переключение пользователей

При входе пользователя на компьютер система загружает свой профиль. Так как у каждого пользователя есть уникальная учетная запись, это позволяет нескольким пользователям совместно использовать один компьютер. Когда пользователь входит в систему, параметры рабочего стола, файлы, избранное и журнал отображаются в них. они недоступны другим пользователям. При выходе пользователя из системы его профиль сохраняется при следующем входе в систему. В более старых операционных системах пользователю требовалось выйти из системы, прежде чем другой пользователь сможет войти в систему. Начиная с Windows XP, пользователю не нужно выходить из системы, чтобы позволить другому пользователю войти в систему. Вместо этого несколько пользователей могут выполнять вход и быстро переключаться между открытыми учетными записями. Эта функция называется *быстрым переключением пользователей*. При переключении на другую учетную запись состояние приложений, выполняемых в данный момент, не изменяется. Предположим, например, что один пользователь позволяет другому пользователю переключиться на свою учетную запись, пока первый пользователь вошел в систему. Когда первый пользователь переключается обратно в свою учетную запись, выполняются их приложения и сетевые подключения сохраняются. Таким образом, пользователи одновременно используют компьютер.

Если приложения соответствуют требованиям к логотипу Windows 2000, они должны работать с быстрым переключением пользователей в Windows XP и более поздних операционных системах. Однако важно помнить об этом сценарии при разработке приложения, чтобы он работал так, как хотелось бы. При написании приложений следуйте приведенным ниже рекомендациям.

-   Реализация истинного разделения профилей. Система предоставляет базовую инфраструктуру, которая поддерживает разделение пользовательских данных, параметров пользователей и параметров компьютера. Например, используйте папку **документы** пользователя для хранения данных, созданных пользователем. Чтобы указать каталог для данных приложения, используйте систему [известных папок](known-folders.md) с [**FOLDERID \_ роамингаппдата**](knownfolderid.md)) или для старых операционных систем, [**CSid**](csidl.md) -системы с [**CSid \_**](csidl.md). Для данных, которые не должны быть доступны для пользователя на других компьютерах, например во временных файлах, используйте **FOLDERID \_ LocalAppData** или **CSid \_ Local \_ AppData** .
-   Регистрация для уведомления о переключении пользователя. Как правило, приложение не должно получать уведомления при выполнении параметра. Однако если приложение должно получать уведомление об изменении сеанса, оно может зарегистрироваться для получения сообщения об [**\_ \_ изменении втссессион WM**](../termserv/wm-wtssession-change.md) .
-   Помните о других экземплярах приложения. Например, бывают случаи, когда приложение должно загрузить обновление из Интернета. Обновление может завершиться ошибкой, если другой пользователь одновременно запускает экземпляр приложения в другом сеансе. Даже если обновление завершилось сбоем, обновление может привести к непредсказуемому поведению других работающих экземпляров приложения. Поэтому рекомендуется выполнять динамическое обновление только в том случае, если другие экземпляры приложения не выполняются. Перед загрузкой обновления приложения может быть целесообразно реализовать метод, который сигнализирует всем работающим экземплярам приложения сохранять данные и завершать работу в чистом виде.

 

 
