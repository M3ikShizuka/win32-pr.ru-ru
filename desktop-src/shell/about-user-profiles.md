---
description: Система создает профиль пользователя при первом входе пользователя на компьютер. При последующих входах система загружает профиль пользователя, а затем другие компоненты системы настраивают среду пользователя в соответствии со сведениями в профиле.
title: О профилях пользователей
ms.topic: article
ms.date: 05/31/2018
ms.assetid: 333f1861-91fe-4796-af13-dd300a5c6ec3
api_name: ''
api_type: ''
api_location: ''
topic_type:
- kbArticle
ms.openlocfilehash: cc6715a63c86913d5a525805e6178b3230505d0b
ms.sourcegitcommit: 61a4c522182aa1cacbf5669683d9570a3bf043b2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/26/2021
ms.locfileid: "122879540"
---
# <a name="about-user-profiles"></a>О профилях пользователей

Система создает профиль пользователя при первом входе пользователя на компьютер. При последующих входах система загружает профиль пользователя, а затем другие компоненты системы настраивают среду пользователя в соответствии со сведениями в профиле.

## <a name="types-of-user-profiles"></a>Типы профилей пользователей

-   [Профили локальных пользователей](local-user-profiles.md). Профиль локального пользователя создается при первом входе пользователя на компьютер. Профиль хранится на локальном жестком диске компьютера. Изменения, внесенные в профиль локального пользователя, относятся к пользователю и к компьютеру, на котором вносятся изменения.
-   [Перемещаемые профили пользователей](roaming-user-profiles.md). Перемещаемый профиль пользователя — это копия локального профиля, которая копируется в общую папку сервера и хранится на сервере. Этот профиль загружается на любой компьютер, на котором пользователь входит в сеть. Изменения, внесенные в перемещаемый профиль пользователя, синхронизируются с копией сервера профиля при выходе пользователя из системы. Преимущество перемещаемых профилей пользователей заключается в том, что пользователям не нужно создавать профиль на каждом компьютере, который они используют в сети.
-   [Обязательные профили пользователей](mandatory-user-profiles.md). Обязательный профиль пользователя — это тип профиля, который администраторы могут использовать для указания параметров пользователей. Только системные администраторы могут вносить изменения в обязательные профили пользователей. Изменения, внесенные пользователями в параметры рабочего стола, теряются при выходе пользователя из системы.
-   [Временные профили пользователей](temporary-user-profiles.md). Временный профиль выдается каждый раз, когда условие ошибки предотвращает загрузку профиля пользователя. Временные профили удаляются в конце каждого сеанса, а изменения, внесенные пользователем в параметры рабочего стола и файлы, теряются при выходе пользователя из системы. временные профили доступны только на компьютерах под управлением Windows 2000 и более поздних версий.

Профиль пользователя состоит из следующих элементов:

-   Куст реестра. Куст реестра — это файл NTuser. dat. Куст загружается системой при входе пользователя в систему и сопоставляется с ключом реестра **hKey \_ текущий \_ пользователь** . Куст реестра пользователя поддерживает настройки и настройки на основе реестра пользователя.
-   Набор папок профиля, хранящихся в файловой системе. Файлы профиля пользователя хранятся в каталоге **Profiles** отдельно для каждого пользователя. Папка профиля пользователя — это контейнер для приложений и других системных компонентов, которые заполняются вложенными папками и данными пользователя, такими как документы и файлы конфигурации. Windows Проводник использует папки профиля пользователя для таких элементов, как рабочий стол пользователя, меню " **Пуск** " и папка " **документы** ".

Профили пользователей предоставляют следующие преимущества.

-   Когда пользователь входит в систему компьютера, система использует те же параметры, которые использовались, когда пользователь вышел из системы.
-   При совместном использовании компьютера с другими пользователями каждый пользователь получает свой настроенный Рабочий стол после входа в систему.
-   Параметры в профиле пользователя уникальны для каждого пользователя. Другие пользователи не могут получить доступ к параметрам. Изменения, внесенные в профиль одного пользователя, не затрагивают других пользователей и профилей других пользователей.

## <a name="user-profile-tiles-in-windows-7-and-later"></a>плитки профиля пользователя в Windows 7 и более поздних версиях

в Windows 7 или более поздней версии каждый профиль пользователя имеет связанный образ, представленный в виде плитки пользователя. Эти плитки отображаются для пользователей в элементе панели управления **учетные записи пользователей** и вложенной странице **Управление учетными записями** . Файлы образов для учетных записей гостя по умолчанию и пользователей по умолчанию также отображаются здесь, если у вас есть права доступа администратора.

> [!Note]  
> Доступ к вложенной странице **Управление учетными записями** осуществляется через ссылку **Управление другой учетной записью** в элементе панели управления **учетные записи пользователей** .

 

-   % Папка ProgramData% \\ \\ изображений учетной записи пользователя Майкрософт \\Guest.bmp
-   % Папка ProgramData% \\ \\ изображений учетной записи пользователя Майкрософт \\User.bmp

Изображение плитки пользователя хранится в папке% SystemDrive% \\ Users \\ &lt; username &gt; \\ AppData \\ Local TEMP в \\ качестве &lt; имени пользователя &gt;.bmp. Символы косой черты ( \\ ) преобразуются в знаки плюса (+). Например, пользователь домена \\ преобразуется в домен и пользователь.

Файл изображения появится во **временной** папке пользователя:

-   После того, как пользователь завершит начальную настройку системы (OOBE).
-   Когда пользователь впервые запускает элемент панели управления **учетные записи пользователей** .
-   Когда пользователь переходит на подстраницу **Управление учетными записями** элемента панели управления **учетные записи пользователей** . Кроме того, отображаются плитки для всех остальных пользователей компьютера.

Эти экземпляры являются единственным временем создания или обновления образов. Поэтому существует несколько моментов, которые следует учитывать при использовании расположения **временной** папки программным способом.

1.  Плитка пользователя не гарантируется. Если пользователь удаляет файл .bmp, например вручную или с помощью программы, которая удаляет временные файлы, эта плитка пользователя не создается автоматически, пока пользователь не запустит подстраницу элемента панели управления учетные записи **пользователя** или **Управление учетными записями** .

2.  Пользовательские плитки для других пользователей компьютера могут отсутствовать в папке **TEMP** пользователя, вошедшего в систему. например, если пользователь a создает пользователя B с помощью элемента панели управления **учетные записи пользователей** , то при Windows отправляет пользователя a на подстраницу **управление учетными записями** в папке **Temp** пользователя a. Так как структура каталогов не создается для пользователя б до тех пор, пока пользователь не войдет в систему, то единственным расположением, где хранится плитка пользователя б, является **временная** папка пользователя A. Когда пользователь б входит в систему, единственный образ, хранящийся в папке User B **TEMP** , сам является его владельцем.

    1.  Чтобы получить все плитки пользователей в системе, приложениям может потребоваться выполнить поиск во **временном** каталоге каждого пользователя.
    2.  Так как список управления доступом (ACL) для этих **временных** каталогов предоставляет доступ к системе, администратору и текущему пользователю, приложениям необходимо повысить уровень доступа для других пользователей.

3.  В **временных** папках не гарантируется актуальность плиток пользователей. Если пользователь б обновляет плитку пользователя, пользователь а не увидит изменения, пока пользователь A не получит доступ к подстранице **Управление учетными записями** . Поэтому, если приложения используют **временную** папку пользователя а для получения плитки пользователя б, эти приложения могут получить устаревшую версию файла образа.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Профили локальных пользователей](local-user-profiles.md)
</dt> <dt>

[Проверка перемещаемых профилей пользователей](roaming-user-profiles.md)
</dt> <dt>

[Обязательные профили пользователей](mandatory-user-profiles.md)
</dt> <dt>

[Временные профили пользователей](temporary-user-profiles.md)
</dt> <dt>

[Каталог профилей](profiles-directory.md)
</dt> <dt>

[Переменные среды пользователя](user-environment-variables.md)
</dt> <dt>

[Быстрое переключение пользователей](fast-user-switching.md)
</dt> </dl>

 

 



