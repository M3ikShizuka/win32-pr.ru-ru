---
description: Корень расширения пространства имен обычно отображается в проводнике Windows как папка в представлениях дерева и папок.
title: Указание расположения расширения пространства имен
ms.topic: article
ms.date: 05/31/2018
ms.assetid: 2c1fdd5d-b359-4d5c-a20e-0622f3a1cb1d
api_name: ''
api_type: ''
api_location: ''
topic_type:
- kbArticle
ms.openlocfilehash: 7617c7361c5f2ae76331c5f1b59eb845f6806395
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "103910779"
---
# <a name="specifying-a-namespace-extensions-location"></a>Указание расположения расширения пространства имен

Корень расширения пространства имен обычно отображается в проводнике Windows как папка в представлениях дерева и папок. Чтобы проводник Windows отображал файлы и вложенные папки расширения, необходимо указать расположение корневой папки в иерархии пространства имен оболочки. Это расположение называется *точкой соединения*.

-   [Использование виртуальных папок в качестве точек соединения](#using-virtual-folders-as-junction-points)
-   [Использование папок файловой системы в качестве точек соединения](#using-file-system-folders-as-junction-points)
-   [Открытие представления расширения пространства имен](#opening-a-view-of-a-namespace-extension)

## <a name="using-virtual-folders-as-junction-points"></a>Использование виртуальных папок в качестве точек соединения

Самый простой способ определить точку соединения расширения — сделать корневую папку вложенной в системную виртуальную папку. Этот тип точки соединения называется *виртуальной точкой соединения*. Папки " **Рабочий стол** " и " **Мой компьютер** " представляют собой типичные расположения для точек соединения, но можно также определить виртуальную точку соединения на удаленном компьютере или в папках " **Мое сетевое окружение**", " **Internet Explorer**" и " **Панель управления** ".

Чтобы определить виртуальную точку соединения, создайте подраздел ключа, который представляет соответствующую виртуальную папку, и присвойте ему строковое представление идентификатора класса (CLSID) расширения. Зарегистрированный CLSID будет выглядеть следующим образом.

```
HKEY_LOCAL_MACHINE or HKEY_CURRENT_USER
   Software
      Microsoft
         Windows
            CurrentVersion
               Explorer
                  Virtual Folder Name
                     NameSpace
                        {Extension CLSID}
                           (Default) = Junction Point Name
```

*Имя виртуальной папки* является одним из подразделов в следующей таблице.



| Расположение          | Имя виртуальной папки                        |
|-------------------|--------------------------------------------|
| Панель управления     | **контролпанел**                           |
| Персональный компьютер           | **Рабочий стол**                                |
| Вся сеть    | **Нетворкнеигхборхуд** \\ **Ентиренетворк** |
| Мой компьютер       | **Мой**                             |
| Мое сетевое окружение | **нетворкнеигхборхуд**                    |
| Удаленный компьютер   | **ремотекомпутер**                         |
| Файлы пользователей       | **усерсфилес**                             |



 

Удаленные расширения должны инициализироваться с помощью [**иремотекомпутер**](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-iremotecomputer).

## <a name="using-file-system-folders-as-junction-points"></a>Использование папок файловой системы в качестве точек соединения

Существует два способа определения папок файловой системы в качестве точек соединения. Самый простой подход заключается в том, чтобы создать папку в соответствующем расположении и добавить точку в имя папки, а затем в строковом формате идентификатора CLSID расширения. В проводнике Windows будет отображаться только имя папки. В следующем примере создается точка соединения с отображаемым именем MyFolder.


```
MyFolder.{Extension CLSID}
```



В качестве точки соединения можно также определить именованную папку с учетом правил.

-   Сделать папку доступной только для чтения.
-   Сделайте папку системной папкой, вызвав [**пасмакесистемфолдер**](/windows/desktop/api/Shlwapi/nf-shlwapi-pathmakesystemfoldera).
-   Помещение скрытого файла Desktop.ini в папку, содержащую CLSID расширения.

Desktop.ini — это стандартный текстовый файл, который можно добавить в любую папку для настройки определенных аспектов поведения папки. Общие сведения об использовании этого файла см. в статье [Настройка папок с помощью Desktop.ini](how-to-customize-folders-with-desktop-ini.md). Чтобы определить папку как точку соединения, объект \[ . \] Раздел шеллклассинфо Desktop.ini должен содержать CLSID расширения следующим образом:


```
[.ShellClassInfo]
CLSID={Extension CLSID}
```



## <a name="opening-a-view-of-a-namespace-extension"></a>Открытие представления расширения пространства имен

При просмотре пользователем точки соединения проводник Windows автоматически создает представление корневой папки. Можно также создать представление, явно запустив Explorer.exe с CLSID расширения в качестве аргумента. Например, этот подход можно использовать для запуска представления расширения из контекстного меню или ярлыка. Например, чтобы запустить представление Мекстенсион, включающее представление в виде дерева, можно использовать следующую командную строку.


```
%SystemRoot%\Explorer.exe /e,::{MyExtension CLSID}
```



Для запуска представления объекта в пределах расширения можно использовать альтернативную командную строку. Эта функция может быть полезной, например, для расширения, использующего представление папок, чтобы позволить пользователям просматривать содержимое одного из нескольких сжатых файлов.


```
%SystemRoot%\Explorer.exe /e,::{MyExtension CLSID},objectname
```



Параметр *objectname* — это имя просматриваемого объекта. Проводник Windows преобразует имя в соответствующий ПИДЛ и передает ПИДЛ в метод [**иперсистфолдер:: Initialize**](/windows/desktop/api/shobjidl_core/nf-shobjidl_core-ipersistfolder-initialize) нового объекта Folder.

> [!Note]  
> Строке CLSID должна предшествовать Пара двоеточий (::) или команда завершится ошибкой. Флаг косой черты (/e), используемый в двух приведенных выше примерах командных строк, указывает проводнику Windows отобразить представление в виде дерева. Флаг должен быть отделен двумя двоеточиями запятой. Если представление в виде дерева не требуется, опустите флаг/e и запятую.

 

 

 



