---
description: Устройство может создавать много событий, и каждое событие имеет возможность обработки одним из нескольких различных обработчиков.
ms.assetid: C203B5AB-917C-4543-98D6-EDE02E0B5E49
title: Регистрация обработчика событий
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6a3d786111a80cba455dd3480bdc970bc27009d6
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104985421"
---
# <a name="how-to-register-an-event-handler"></a>Регистрация обработчика событий

Устройство может создавать много событий, и каждое событие имеет возможность обработки одним из нескольких различных обработчиков. В Windows XP определены следующие события:

-   девицеарривал
-   девицеремовал
-   медиаарривал
-   медиаремовал

## <a name="instructions"></a>Инструкции


Обработчики событий определяются в ключе **евенсандлерс** . Значения ключа обработчика событий — это имена всех обработчиков, которые пользователь должен выбрать при обнаружении события. С этими записями не связано значение данных. Ниже приведен пример определения пользовательского обработчика событий с именем **миневремовалевенсандлер**, который предоставляет пользователю возможности обработчика:

-   Обработчик, используемый при обнаружении события на устройстве, созданном компанией Contoso, Inc.
-   Обработчик, используемый при обнаружении события на устройстве, которое компания называется Fabrikam, Inc.
-   Обработчик, используемый во всех остальных случаях.

```
HKEY_LOCAL_MACHINE
   SOFTWARE
      Microsoft
         Windows
            CurrentVersion
               Explorer
                  AutoplayHandlers
                     EventHandlers
                        MyNewRemovalEventHandler
                           CompanyContosoHandler [REG_SZ]
                           CompanyFabrikamHandler [REG_SZ]
                           MyRemovalHandler [REG_SZ]
```

После определения обработчика событий он должен быть зарегистрирован в обработчике устройства для одного из возможных событий: Девицеарривал, Девицеремовал, Медиаарривал или Медиаремовал. Миневремовалевенсандлер, определенный ранее, используется для Девицеремовал в пользовательском обработчике устройства с именем Мидевицехандлер и определяется для этой цели в следующем примере. Опять же, значение реестра не содержит компонентов данных.

```
HKEY_LOCAL_MACHINE
   SOFTWARE
      Microsoft
         Windows
            CurrentVersion
               Explorer
                  AutoplayHandlers
                     DeviceHandlers
                        EventHandlers
                           DeviceRemoval
                              MyNewRemovalEventHandler
```

Windows XP определяет следующий набор Евенсандлерс. 

| Ключ Евенсандлерс        | Носитель или тип файла                             |
|--------------------------|------------------------------------------------|
| HandleCDBurningOnArrival | Чистый компакт-диск — R/CD-RW                               |
| ShowPicturesOnArrival    | Файлы изображений                                  |
| PlayMusicFilesOnArrival  | Музыкальные файлы                                    |
| PlayVideoFilesOnArrival  | Видеофайлы                                    |
| PlayCDAudioOnArrival     | Аудио компакт-диск (формат РЕДБУК с аудио-дорожкой) |
| PlayDVDMovieOnArrival    | Фильмы DVD                                     |



 

В дополнение к указанным выше параметрам Windows Vista предопределяется следующий набор Евенсандлерс. 

| Ключ Евенсандлерс              | Носитель или тип файла   |
|--------------------------------|----------------------|
| PlaySuperVideoCDMovieOnArrival | Фильмы Super Видеокд |
| PlayVideoCDMovieOnArrival      | Фильмы Видеокд       |



 

 

 



