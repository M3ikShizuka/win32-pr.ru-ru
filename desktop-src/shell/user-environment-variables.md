---
description: Переменные среды указывают пути поиска для файлов, каталоги для временных файлов, параметры конкретного приложения и другие аналогичные сведения.
ms.assetid: 6180e54e-4bd9-4692-83fd-f3f7f1d8f8d7
title: Переменные среды пользователя
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 41bbe37cdbe7dd82268b2166ed625a9baf1d2502df4c26208bca51a89cd782df
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "117857046"
---
# <a name="user-environment-variables"></a>Переменные среды пользователя

Переменные среды указывают пути поиска для файлов, каталоги для временных файлов, параметры конкретного приложения и другие аналогичные сведения. Система поддерживает блок среды для каждого пользователя и один для компьютера. Блок системной среды представляет переменные среды для всех пользователей определенного компьютера. Блок среды пользователя представляет переменные среды, которые система поддерживает для этого конкретного пользователя, включая набор системных переменных среды.

По умолчанию каждый процесс получает копию блока среды для своего родительского процесса. Как правило, это блок среды для пользователя, вошедшего в систему. Процесс может указывать различные блоки среды для своих дочерних процессов с помощью функции [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa) или [**параметр CreateProcessAsUser**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessasusera) .

Чтобы добавить или изменить переменные среды, пользователь выбирает пункт **система** на **панели управления**, а затем выбирает вкладку **Среда** . Пользователь также может добавлять или изменять переменные среды в командной строке с помощью команды **Set** . Переменные среды, созданные с помощью команды **Set** , применяются только к командному окну, в котором они заданы, и к его дочерним процессам. Для получения дополнительных сведений введите **Set/?** в командной строке.

Чтобы получить копию блока среды для данного пользователя, используйте функцию [**креатинвиронментблокк**](/windows/desktop/api/Userenv/nf-userenv-createenvironmentblock) . Чтобы освободить блок среды, созданный с помощью **креатинвиронментблокк**, используйте функцию [**дестройенвиронментблокк**](/windows/desktop/api/Userenv/nf-userenv-destroyenvironmentblock) . Эти функции ссылаются на указатель на блок среды. Блок среды — это массив строк Юникода, заканчивающийся нулем. Список заканчивается двумя значениями NULL ( \\ 0 \\ 0).

Чтобы развернуть строку, содержащую переменные среды, с помощью блока среды для указанного пользователя, используйте функцию [**експанденвиронментстрингсфорусер**](/windows/desktop/api/Userenv/nf-userenv-expandenvironmentstringsforusera) .

 

 
