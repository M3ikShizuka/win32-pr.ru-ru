---
description: Сопоставления файлов определяют, как оболочка обрабатывает тип файла в системе.
ms.assetid: A1C05857-26F8-4d4a-977B-4782E8AFA317
title: Как работают сопоставления файлов
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7cf307e40bb6165da4a2547fb8dafc1791a11ee6
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104264440"
---
# <a name="how-file-associations-work"></a>Как работают сопоставления файлов

Сопоставления файлов определяют, как оболочка обрабатывает [Тип файла](fa-file-types.md) в системе.

Этот раздел организован следующим образом:

-   [О сопоставлении файлов](#about-file-associations)
-   [При необходимости реализации или изменения сопоставлений файлов](#when-you-should-implement-or-modify-file-associations)
-   [Как работают сопоставления файлов](#how-file-associations-work)
-   [Дополнительные ресурсы](#additional-resources)
-   [См. также](#related-topics)

## <a name="about-file-associations"></a>О сопоставлении файлов

Взаимосвязи файлов управляют следующими функциональными возможностями:

-   Какое приложение запускается при двойном щелчке файла пользователем.
-   Значок, который отображается для файла по умолчанию.
-   Тип файла, отображаемый при просмотре в проводнике Windows.
-   Команды, отображаемые в контекстном меню файла.
-   Другие функции пользовательского интерфейса, такие как подсказки, сведения о плитках и область сведений.

Разработчики приложений могут использовать сопоставления файлов для управления тем, как оболочка обрабатывает пользовательские типы файлов, или для связывания приложения с существующими типами файлов. Например, при установке приложения приложение может проверить наличие существующих сопоставлений файлов и либо создать, либо переопределить эти сопоставления файлов.

Пользователи могут управлять некоторыми аспектами сопоставления файлов для настройки того, как оболочка обрабатывает тип файла либо с помощью команды **Открыть с** помощью пользовательского интерфейса, либо путем редактирования реестра.

В окне проводника Windows, показанном на снимке экрана ниже, оболочка отображает разные значки для каждого файла в зависимости от значка, связанного с типом файла. Если пользователь дважды щелкает **точечный рисунок образца** файла, оболочка запускает Paint и использует его для открытия файла, так как в этой системе программа Paint связана с BMP-файлами. Пользователи могут управлять этими действиями с помощью сопоставлений файлов.

![Иллюстрация работы взаимосвязей файлов на практике](images/file-assoc/fileassoc-icons.png)

## <a name="when-you-should-implement-or-modify-file-associations"></a>При необходимости реализации или изменения сопоставлений файлов

Приложения могут использовать файлы для различных целей: некоторые файлы используются исключительно приложением и обычно недоступны пользователям, в то время как другие файлы создаются пользователем и часто открываются, ищутся и просматриваются в оболочке.

Если пользовательский тип файлов не используется исключительно приложением, для него следует реализовать сопоставление файлов. Как правило, реализуйте сопоставления файлов для пользовательского типа файлов, если предполагается, что пользователь напрямую взаимодействует с этими файлами. Это включает использование оболочки для просмотра и открытия файлов, поиска содержимого или свойств файлов, а также предварительного просмотра файлов.

Если приложение обрабатывает существующий тип файлов, не изменяйте сопоставление файлов, если вы не хотите изменить способ обработки оболочкой всех файлов этого типа.

## <a name="how-file-associations-work"></a>Как работают сопоставления файлов

Файлы представляются в оболочке как элементы оболочки. Для управления сопоставлениями файлов разработчики приложений могут регистрировать сопоставление между типом файла и обработчиками (COM-объектами, которые предоставляют функциональные возможности для элементов оболочки типа файла). Когда оболочке необходимо запрашивать сопоставление файлов типа файлов, он создает массив разделов реестра, содержащий ассоциации для типа файла, и проверяет эти ключи для использования соответствующих сопоставлений файлов.

## <a name="additional-resources"></a>Дополнительные ресурсы

-   Концептуальные сведения о сопоставлении файлов см. в разделе [Обзор команд и сопоставлений файлов](fa-verbs.md).

## <a name="related-topics"></a>См. также

<dl> <dt>

[Регистрация приложения](app-registration.md)
</dt> <dt>

[Типы файлов](fa-file-types.md)
</dt> <dt>

[Представление содержимого по типу или виду файла](prophand-content-view.md)
</dt> <dt>

[Средство проверки типов файлов](file-type-verifier.md)
</dt> <dt>

[Обработчики типов файлов](fa-file-extensions.md)
</dt> <dt>

[Программные идентификаторы](fa-progids.md)
</dt> <dt>

[Наблюдаемые типы](fa-perceivedtypes.md)
</dt> <dt>

[Массивы ассоциаций](fa-associationarray.md)
</dt> </dl>

 

 



