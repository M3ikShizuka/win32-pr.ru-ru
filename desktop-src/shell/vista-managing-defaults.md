---
description: В этом разделе предоставляются независимые поставщики программного обеспечения (ISV) с кратким руководством по регистрации и управлению параметрами приложения по умолчанию в Windows Vista и более поздних версиях. Ссылки на более подробные статьи о каждом разделе.
ms.assetid: 649eb20d-07d3-4209-abff-45fc50f05631
title: Управление приложениями по умолчанию
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bc146858d197b96229edda49ac2e7249db51bf4c
ms.sourcegitcommit: 4d639170c06864e47ef66b2cfe6ca3d07cce0b02
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/12/2021
ms.locfileid: "109812829"
---
# <a name="managing-default-applications"></a>Управление приложениями по умолчанию

Функция **настройки доступа к программам и параметров по умолчанию** (SPAD) была добавлена в Windows XP и более поздних версиях Windows для управления параметрами по умолчанию для каждого компьютера. Помимо SPAD, в Windows Vista появилась концепция приложений по умолчанию для каждого пользователя и элемент **программы по умолчанию** в панели управления.

> [!IMPORTANT]
> Этот раздел не относится к Windows 10. Способ изменения связей файлов по умолчанию в Windows 10. Дополнительные сведения см. в разделе об **изменениях в статье обработка приложений по умолчанию** в [этой записи](https://blogs.windows.com/windows-insider/2015/05/20/announcing-windows-10-insider-preview-build-10122-for-pcs/)в Windows 10.

 

Параметры по умолчанию для отдельных пользователей зависят от конкретной учетной записи пользователя в системе. Если заданы параметры по умолчанию для каждого пользователя, они имеют приоритет над соответствующими параметрами по умолчанию для каждой учетной записи. Начиная с Windows 8, система расширяемости по умолчанию для типов файлов и протоколов является строгой по умолчанию для каждого пользователя и для каждого компьютера не учитывается. Кроме того, Модуль SPAD был изменен в Windows 8 для установки параметров по умолчанию для каждого пользователя.

-   В системах под управлением более ранних версий Windows, чем Windows 8, созданная учетная запись пользователя получает значения по умолчанию для каждого компьютера до тех пор, пока не будут установлены значения по умолчанию для каждого пользователя. В Windows Vista и более поздних версиях пользователи могут использовать элемент **программы по умолчанию** на панели управления, чтобы задать или изменить параметры по умолчанию для каждого пользователя. Кроме того, при первом запуске приложения значения по умолчанию для каждого пользователя можно задать с помощью рекомендаций, приведенных в разделе [первый запуск приложения и параметры по умолчанию](#application-first-run-and-defaults) .
-   В системах под управлением Windows 8 вновь созданная учетная запись пользователя полагается на параметры по умолчанию для каждого пользователя, начиная с начала, и значения этих параметров по умолчанию при первом запуске, как описано в разделе [первый запуск приложения и параметры по умолчанию](#application-first-run-and-defaults) , больше не поддерживаются.

Приложение должно быть зарегистрировано как в SPAD, так и в программе по умолчанию, которое предлагается как программа по умолчанию в Windows Vista и более поздних версиях.

В этом разделе предоставляются независимые поставщики программного обеспечения (ISV) с кратким руководством по регистрации и управлению параметрами приложения по умолчанию в Windows Vista и более поздних версиях. Ссылки на более подробные статьи о каждом разделе.

-   [Элемент "программы по умолчанию" в панели управления](#default-programs-item-in-control-panel)
-   [Настройка доступа к программе и параметров по умолчанию для компьютера](#set-program-access-and-computer-defaults)
    -   [Настройка значений по умолчанию в SPAD](#setting-defaults-in-spad)
    -   [Скрыть доступ в SPAD](#hide-access-in-spad)
-   [Регистрация для точек входа приложения](#registering-for-application-entry-points)
    -   [Открыть с помощью](#open-with)
    -   [Меню "Пуск" и панель быстрого запуска](#start-menu-and-quick-launch-bar)
-   [Установка приложения и значения по умолчанию](#application-installation-and-defaults)
-   [Обновления и значения по умолчанию для приложения](#application-upgrades-and-defaults)
-   [Первый запуск приложения и значения по умолчанию](#application-first-run-and-defaults)
-   [Проверка значений по умолчанию и запрос согласия пользователя](#verifying-defaults-and-asking-for-user-consent)
-   [Советы по совместимости приложений](#application-compatibility-tips)
    -   [Избегайте запуска виртуализации Per-User](#avoid-triggering-per-user-virtualization)
    -   [Избегайте предупреждений или блоков совместимости приложений](#avoid-appcompat-warnings-or-blocks-from-the-program-compatibility-assistant)
    -   [Поддержка предыдущих версий операционной системы Windows](#support-for-previous-windows-operating-system-versions)
-   [Дополнительные ресурсы](#additional-resources)
-   [Связанные темы](#related-topics)

## <a name="default-programs-item-in-control-panel"></a>Элемент "программы по умолчанию" в панели управления

**Программы по умолчанию** — это функция, появившаяся в Windows Vista и доступная непосредственно из меню « **Пуск** », а также с панелью управления. Она предоставляет новую инфраструктуру, которая работает со стандартными привилегиями пользователя (без повышения прав) и разработана, чтобы позволить пользователям и приложениям управлять параметрами по умолчанию для каждого пользователя. Для пользователей программы по умолчанию предоставляют унифицированный и простой способ управления параметрами по умолчанию, сопоставлениями файлов и настройками автозапуска во всех приложениях в системе. Для приложений использование области "на пользователя", предоставляемой API-интерфейсами программ по умолчанию, обеспечивает следующие преимущества.

-   **Без повышения прав**

    Приложению не нужно повышать свои привилегии, чтобы запрашивать значения по умолчанию.

-   **Хорошее гражданство**

    На компьютере с несколькими пользователями каждый пользователь может выбрать разные приложения по умолчанию.

-   **Управление по умолчанию**

    API-интерфейсы программ по умолчанию предлагают надежный и последовательный механизм для самостоятельной проверки состояния по умолчанию и освобождения потерянных параметров без внесения непосредственно в реестр. Однако в Windows 8 не рекомендуется, чтобы приложения запрашивают состояние по умолчанию, поскольку приложение больше не может изменять параметры по умолчанию — эти изменения могут вносить только пользователи.

Чтобы обеспечить эффективное управление приложениями по умолчанию, необходимо зарегистрировать приложение в качестве потенциальной программы по умолчанию. Дополнительные сведения о регистрации и использовании API-интерфейсов программ по умолчанию см. в разделе [программы по умолчанию](default-programs.md).

Программы по умолчанию также предоставляют следующие две функции:

-   **Пользовательский интерфейс по умолчанию для повторного использования**

    Пользовательский интерфейс обеих программ по умолчанию (**Установка программ по умолчанию**) и сопоставление файлов (**сопоставление типа файла или протокола с программой**) можно повторно использовать и вызывать из приложения. Это позволяет приложениям обеспечивать стандартный пользовательский интерфейс для управления параметрами по умолчанию и экономит независимые поставщики программного обеспечения от необходимости разработки пользовательского или эквивалентного пользовательского интерфейса.

-   **Включение URL-адреса и сведений о маркетинге**

    Как часть страницы **Настройка программ по умолчанию** элемента **программы по умолчанию** в панели управления, приложение может предоставлять маркетинговую информацию и ссылку на веб-сайт поставщика. Этот URL-адрес является производным от сертификата Authenticode, с которым подписано приложение. Это предотвращает неправильное использование и несанкционированную замену этой ссылки. Если у приложения есть сертификат Authenticode, включающий внедренный URL-адрес, Пользовательский интерфейс Windows отображает этот внедренный URL-адрес. Независимые поставщики программного обеспечения должны воспользоваться этой функцией, чтобы направить пользователей на свой веб-сайт для обновления и других Скачиваний.

## <a name="set-program-access-and-computer-defaults"></a>Настройка доступа к программе и параметров по умолчанию для компьютера

**Настройка доступа к программам и параметров по умолчанию** (SPAD) позволяет администраторам управлять параметрами по умолчанию на уровне компьютера, которые наследуются всеми новыми пользователями этого компьютера. До Windows 8, SPAD также включил администраторов для восстановления сопоставлений файлов, если программы были удалены из системы. Однако в Windows 8 SPAD влияет только на пользовательские значения по умолчанию.

Дополнительные сведения о регистрации приложения в SPAD см. в разделе [Работа с настройками доступа к программам и параметров по умолчанию (SPAD)](cpl-setprogramaccess.md) и [Регистрация программ с помощью типов клиентов](reg-middleware-apps.md). Конкретные изменения и новые рекомендации обсуждаются в следующих разделах.

### <a name="setting-defaults-in-spad"></a>Настройка значений по умолчанию в SPAD

Параметры по умолчанию для каждого пользователя переопределяют параметры по умолчанию для каждого компьютера.

-   **До Windows 8**: значения по умолчанию, заданные в SPAD (для каждого компьютера), не будут видны пользователям, если заданы соответствующие значения по умолчанию для каждого пользователя. Если пользователь не установил значение по умолчанию для каждого пользователя, система использует соответствующий компьютер по умолчанию. Новые учетные записи пользователей на компьютере изначально наследуют параметры компьютера по умолчанию. При первом запуске приложения пользователь должен предложить пользователю назначить значения по умолчанию для каждого пользователя. См. раздел [первый запуск приложения и значения по умолчанию](#application-first-run-and-defaults).
-   Начиная с **Windows 8**: все значения по умолчанию для каждого пользователя и параметры по умолчанию для каждого компьютера игнорируются. Приложения больше не могут задавать параметры по умолчанию, поэтому они не могут проходить пользователя по назначению этих значений по умолчанию.

Если приложение предустановки Windows 8 реализует в SPAD **по умолчанию** , следует следовать приведенным ниже рекомендациям.

-   Приложения должны запрашивать только параметры по умолчанию на уровне компьютера через SPAD.
-   Приложения *не* должны требовать применения параметров по умолчанию для каждого пользователя через SPAD.

Если приложение Windows 8 реализует в SPAD **значение по умолчанию** , они должны регистрировать типы файлов и протоколы в [программах по умолчанию](default-programs.md), используя то же имя приложения, которое использовалось в SPAD. Это позволяет изменить SPAD в соответствии с изменениями в соответствующей записи о программах по умолчанию для текущего пользователя.

### <a name="hide-access-in-spad"></a>Скрыть доступ в SPAD

Параметр "скрыть доступ" для каждого возможного значения по умолчанию в SPAD доступен одним из двух способов:

-   Выберите категорию по умолчанию ( **не Майкрософт** ), которая удаляет доступ ко всем значениям по умолчанию для Microsoft.
-   Выберите **настраиваемую** категорию и снимите флажок **включить доступ к этой программе** .

Ранее при каждом из этих действий все точки входа были удалены в соответствующие приложения в системе. Конкретные рекомендации для этой ситуации, например, для удаления ярлыков и значков из следующих расположений:

-   Классические приложения
-   Меню "Пуск"
-   Панель быстрого запуска (только для Windows Vista и более ранних версий)
-   Область "Уведомления"
-   Контекстные меню
-   Полоса задач для папки

Поставщикам рекомендуется реализовать эти рекомендации в функции обратного вызова для скрытого доступа приложения.

### <a name="alternate-hide-access-method-in-spad"></a>Альтернативный метод доступа Hide в SPAD

Для некоторых устаревших приложений полная реализация скрытия доступа может оказаться непрактичной. Альтернативный метод, который достигает одного и того же результата, но не может быть просто отменен пользователем, заключается в удалении приложения. Ниже показан пример поведения и пример кода для его реализации.

Для работы с этим альтернативным пользователем рекомендуется использовать следующий интерфейс:

-   Когда пользователь снимает флажок **включить доступ к этой программе** в SPAD, отображается следующий пользовательский интерфейс.

    ![диалоговое окно Vista о скрытии доступа к программе](images/hideaccessvista.png)

-   Когда пользователь нажимает кнопку **ОК**, отображается элемент **программы и компоненты** на панели управления, чтобы пользователь мог удалить приложение.
-   Пользователи Windows XP должны быть представлены в следующем диалоговом окне.

    ![диалоговое окно Windows XP о скрытии доступа к программе](images/hideaccessxp.png)

-   После нажатия кнопки **ОК** пользователем Windows XP появляется элемент **Установка и удаление программ** на панели управления, чтобы пользователь мог удалить приложение.

Следующий код предоставляет многократно используемую реализацию для функции скрытия доступа, как описано выше. Его можно использовать в Windows XP, Windows Vista и Windows 7.


```
#include <windows.h>
#include <shlwapi.h>
#include <strsafe.h>

PCWSTR c_pszMessage1 = L"To hide access to this program, you need to uninstall it by ";
PCWSTR c_pszMessage2 = L"using\n%s in Control Panel.\n\nWould you like to start %s?";
PCWSTR c_pszApplicationName  = L"Sample App";

int _tmain(int argc, WCHAR* argv[])
{
    OSVERSIONINFO version;
    version.dwOSVersionInfoSize = sizeof(version);

    if (GetVersionEx(&version))
    {
        PCWSTR pszCPLName = NULL;

        if (version.dwMajorVersion >= 6)
        {
            // Windows Vista and later
            pszCPLName = L"Programs and Features";
        }
        else if (version.dwMajorVersion == 5 &&
                 version.dwMinorVersion == 1)
        {
            // XP
            pszCPLName = L"Add/Remove Programs";
        }

        if (pszCPLName != NULL)
        {
            WCHAR szMessage[256], szScratch[256];
            if (SUCCEEDED(StringCchPrintf(szScratch, 
                                          ARRAYSIZE(szScratch), 
                                          c_pszMessage2, 
                                          pszCPLName, 
                                          pszCPLName)))
            {
                if (SUCCEEDED(StringCchCopy(szMessage, 
                                            ARRAYSIZE(szMessage), 
                                            c_pszMessage1)))
                {
                    if (SUCCEEDED(StringCchCat(szMessage, 
                                               ARRAYSIZE(szMessage), 
                                               szScratch)))
                    {
                        if (IDOK == MessageBox(NULL, 
                                               szMessage, 
                                               c_pszApplicationName, 
                                               MB_OKCANCEL))
                        {
                            ShellExecute(NULL, 
                                         NULL, 
                                         L"appwiz.cpl", 
                                         NULL, 
                                         NULL, 
                                         SW_SHOWNORMAL);
                        }
                    }
                }
            }
        }
    }
    return 0;
}
```



## <a name="registering-for-application-entry-points"></a>Регистрация для точек входа приложения

Приложение может иметь множество точек входа в операционной системе. Ниже приведены рекомендуемые расположения для точек входа.

-   Классические приложения
-   Меню "Пуск"
-   Панель быстрого запуска (только для Windows Vista и более ранних версий)
-   Область "Уведомления"
-   Контекстные меню
-   Полоса задач для папки

В этом разделе рассматриваются следующие вопросы:

-   [Открыть с помощью](#open-with)
-   [Меню "Пуск" и панель быстрого запуска](#start-menu-and-quick-launch-bar)

### <a name="open-with"></a>Открыть с помощью

Контекстное меню « **Открыть с помощью** » позволяет пользователю выбрать приложение, способное работать с конкретным типом файлов. Хотя **можно использовать для открытия файла** с приложением один раз, его также можно использовать для задания значения по умолчанию для этого расширения имени файла. Таким образом, приложение всегда должно зарегистрироваться для **открытия с** таким образом, чтобы пользователи преддавали это приложение в качестве альтернативы. Приложения могут регистрировать типы файлов и протоколы для **открытия с помощью**. Приложения, которые регистрируют протоколы в инфраструктуре программ по умолчанию, автоматически добавляются в параметры **Открыть с помощью** для протоколов.

Сведения о регистрации для **Open с** см. в разделе [Введение в сопоставления файлов](fa-intro.md).

### <a name="start-menu-and-quick-launch-bar"></a>Меню "Пуск" и панель быстрого запуска

Чтобы стать более обнаруживаемым для пользователя, приложения могут добавлять ярлыки в различные места в Windows. Самым распространенным местом для добавления ярлыка является меню « **Пуск** ». В Windows Vista и более поздних версиях приложение создает ярлык в папке «скрытая папка% папка ProgramData%» в меню «Пуск» для \\ \\ \\ \\ всех пользователей, которые отображаются в списке программ меню « **Пуск** ». Как правило, приложение добавляет вложенную папку, содержащую ярлык.

Для программ обозревателя и электронной почты в меню « **Пуск** » Windows Vista также представлены две выделенные ссылки за пределами списка программ, « **Интернет** » и « **Электронная почта**». После регистрации приложения для этих категорий платформа программ по умолчанию может управлять тем, что запускается с помощью этих ссылок.

> [!Note]  
> Выделенные ссылки меню " **Пуск** " в **Интернете** и **электронной почте** больше не находятся в Windows 7.

 

Для дальнейшего повышения обнаруживаемости приложения также могут добавлять ярлыки на Рабочий стол и панель быстрого запуска. Перед добавлением значка в меню " **Пуск** ", "Рабочий стол" или "Быстрый запуск" приложения должны запрашивать у пользователя разрешение (обычно во время установки или при первом запуске).

> [!Note]  
> Панель быстрого запуска больше не доступна в Windows 7. Альтернативой Windows 7 является то, что приложение закреплено на панели задач, но закрепление не может быть выполнено программно, так как оно является исключительно выбором пользователя.

 

Дополнительные сведения см. в следующих статьях:

-   [Как зарегистрировать Интернет браузер или почтовый клиент в меню "Пуск" Windows](start-menu-reg.md)
-   [Регистрация программ с помощью клиентских типов](reg-middleware-apps.md)

## <a name="application-installation-and-defaults"></a>Установка приложения и значения по умолчанию

Процедуры установки приложений не были фундаментально изменены с момента выпуска Windows XP, за исключением новой рекомендации для систем под управлением более ранних версий Windows, чем Windows 8: при установке необходимо принимать значения по умолчанию для каждого компьютера, но не устанавливать значения по умолчанию для каждого пользователя, пока этот пользователь не запустит приложение. (См. раздел [первый запуск приложения и значения по умолчанию](#application-first-run-and-defaults).) Приложения не должны устанавливать значения по умолчанию для каждого пользователя во время установки, поскольку существуют ситуации, когда пользователь, устанавливающий приложение, не является предполагаемым пользователем. Начиная с Windows 8, значения по умолчанию для каждого компьютера не поддерживаются, и приложения не могут изменять параметры по умолчанию для каждого пользователя.

Во время установки приложение должно копировать свои двоичные файлы на жесткий диск и записывать идентификаторы ProgID в реестр. Приложение также должно зарегистрироваться для работы с программами по умолчанию и **Открыть с помощью** в данный момент для каждого сопоставления файлов, которое является кандидатом на обработку. Приложение может использовать подключ **опенвиспрогидс** для регистрации в **Open с**.

Дополнительные сведения см. в следующих статьях:

-   [Программы по умолчанию](default-programs.md)
-   [Общие сведения о сопоставлении файлов](fa-intro.md)

## <a name="application-upgrades-and-defaults"></a>Обновления и значения по умолчанию для приложения

Многие приложения могут обновляться с течением времени. Эта процедура обновления не должна изменять состояние параметров по умолчанию для каждого пользователя, так как это изменение будет неожиданным для пользователя. Однако приложение может проверять сопоставления файлов на уровне компьютера и восстанавливать их, если они повреждены.

## <a name="application-first-run-and-defaults"></a>Первый запуск приложения и значения по умолчанию

> [!Note]  
> Начиная с Windows 8, система обрабатывает эту процедуру от имени всех приложений. Сами приложения больше не могут запрашивать и изменять значения по умолчанию. Это может сделать только пользователь. Поэтому приложения не должны пытаться запросить текущее значение по умолчанию или изменить это значение по умолчанию любым механизмом. Однако приложения могут предоставить точку входа для программ по умолчанию на панели управления, вызвав метод [**лаунчадванцедассоЦиатионуи**](/windows/desktop/api/Shobjidl/nf-shobjidl-iapplicationassociationregistrationui-launchadvancedassociationui) интерфейса [**иаппликатионассоЦиатионрегистратионуи**](/windows/desktop/api/Shobjidl/nn-shobjidl-iapplicationassociationregistrationui) .

 

С появлением параметров по умолчанию для каждого пользователя в Windows Vista важно, чтобы приложения, которые конкурсируют популярные расширения имен файлов, применяют общий пользовательский интерфейс для получения этих расширений. Поскольку эти значения по умолчанию теперь заданы в контексте пользователя, они должны представлять себя как возможность по умолчанию, только если пользователь запускает программу после установки.

Ниже приведена рекомендация по установке значений по умолчанию для каждого пользователя: при первом запуске приложения для определенного пользователя это приложение должно запрашивать пользовательские настройки для параметров по умолчанию и сопоставления файлов.

Рекомендуемый пользовательский интерфейс должен предоставить пользователю два очевидных варианта:

1.  Примите все значения по умолчанию, которые приложение будет запрашивать. Этот параметр также может задавать другие свойства по умолчанию для приложения, такие как конфиденциальность или параметры автоматического обновления. Этот параметр позволяет приложению запрашивать все зарегистрированные значения по умолчанию.
2.  Настройте, приняв или не принимая по отдельности значения по умолчанию и параметры программы. Этот параметр предоставляет дополнительный пользовательский интерфейс, позволяющий пользователю выбирать параметры по умолчанию.

Дополнительные сведения см. в разделе [программы по умолчанию](default-programs.md).

## <a name="verifying-defaults-and-asking-for-user-consent"></a>Проверка значений по умолчанию и запрос согласия пользователя

> [!Note]  
> Это не поддерживается в Windows 8.

 

После того как приложение регистрируется в программах по умолчанию в Windows Vista и более поздних версиях, некоторые API становятся доступными для приложения. Например, приложению может потребоваться проверить, является ли оно программой по умолчанию. Интерфейс [**иаппликатионассоЦиатионрегистратион**](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-iapplicationassociationregistration) предоставляет методы для этого.

Любое приложение, желающее запросить значения по умолчанию, должно сначала запросить пользователя и никогда не запрашивать значения по умолчанию без разрешения. Пользователю следует запросить, следует ли сделать приложение значением по умолчанию или оставить текущее значение по умолчанию. После того как пользователь внес свой выбор, также должен быть установлен параметр, чтобы не запрашивать этот вопрос снова.

Дополнительные сведения см. в разделе [программы по умолчанию](default-programs.md).

## <a name="application-compatibility-tips"></a>Советы по совместимости приложений

В этом разделе приводятся некоторые советы по совместимости приложений, связанные с работой программ по умолчанию в Windows.

### <a name="avoid-triggering-per-user-virtualization"></a>Избегайте запуска виртуализации Per-User

В среде контроля учетных записей (UAC) приложения всегда должны запускаться только с правами обычного пользователя для наилучшего взаимодействия с клиентами. По соображениям безопасности приложениям с уровнем привилегий "Стандартный пользователь" заблокирована запись в определенные части реестра и на определенные системные файлы. Windows Vista и более поздние версии Windows предоставляют временный уровень совместимости приложений (AppCompat), позволяющий приложениям выполнять переход. Заблокированные попытки записи в реестр или системные файлы являются виртуализированными, чтобы приложение продолжало работать, но конфиденциальные области системы не изменяются. Однако в качестве долгосрочного решения приложения не должны полагаться на технологию AppCompat. Вместо этого приложения должны использовать множество доступных средств, чтобы убедиться, что они могут успешно выполняться с правами обычного пользователя. Для этого может потребоваться некоторое перепрограммирование приложения, но оно должно выполняться с учетом долгосрочной совместимости.

### <a name="avoid-appcompat-warnings-or-blocks-from-the-program-compatibility-assistant"></a>Избегайте предупреждений или блоков совместимости приложений

Помощник по совместимости программ (PCA) предоставляется в Windows Vista и более поздних версиях. Его целью является предоставление автоматизированного метода для создания более старых программ с проблемами совместимости. PCA отслеживает известные проблемы в программах. При обнаружении проблемы он уведомляет пользователя о проблеме и предлагает применить эффективные решения, прежде чем пользователь снова запустит программу. Чтобы избежать этих предупреждений или блоков, независимые поставщики программного обеспечения должны использовать множество доступных средств, чтобы обеспечить совместимость их приложений с Windows Vista, Windows 7 и более поздними версиями.

### <a name="support-for-previous-windows-operating-system-versions"></a>Поддержка предыдущих версий операционной системы Windows

Инфраструктура программ по умолчанию недоступна в любой операционной системе Windows до Windows Vista. Таким образом, когда приложения переходят в новую инфраструктуру программ по умолчанию, они должны сохранить старый код приложения по умолчанию для обеспечения совместимости с предыдущими версиями Windows. Приложение должно выполнить проверку версии операционной системы в рамках своей установки, чтобы определить, какой код приложения по умолчанию следует запустить.

Для поддержки обновления Windows XP до Windows Vista или более поздней версии приложения должны добавить все записи реестра, необходимые для программ по умолчанию, даже если они устанавливаются на компьютере под управлением Windows XP. Регистрация не будет оказывать влияния на компьютер под управлением Windows XP, но если компьютер будет обновлен позже, приложение уже будет зарегистрировано и сможет воспользоваться преимуществами платформы.

Дополнительные сведения см. в разделе [**осверсионинфо**](/windows/win32/api/winnt/ns-winnt-osversioninfoa).

## <a name="additional-resources"></a>Дополнительные ресурсы

-   [Общие сведения о сопоставлении файлов](fa-intro.md)
-   [Как зарегистрировать Интернет браузер или почтовый клиент в меню "Пуск" Windows](start-menu-reg.md)
-   [Регистрация приложения в схеме URI](/previous-versions/windows/internet-explorer/ie-developer/platform-apis/aa767914(v=vs.85))

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Рекомендации по сопоставлению файлов](fa-best-practices.md)
</dt> <dt>

[Пример сценария сопоставления файлов](fa-sample-scenarios.md)
</dt> <dt>

[Программы по умолчанию](default-programs.md)
</dt> <dt>

[Работа с настройками доступа к программам и параметров по умолчанию (SPAD)](cpl-setprogramaccess.md)
</dt> </dl>

 

 
