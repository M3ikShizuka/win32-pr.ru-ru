---
description: Сведения о типах носителей в Microsoft Media Foundation. Тип носителя описывает формат потока мультимедиа.
ms.assetid: 169cdb00-0c1a-4530-90b7-bc89c71d1d04
title: Сведения о типах носителей (Microsoft Media Foundation)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 263c2b473e378e6ae5dc75453b20d02dce61818f
ms.sourcegitcommit: 8f0a1d212dd154e8d94ab4c0e4ced053fa16823a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/11/2021
ms.locfileid: "112010907"
---
# <a name="about-media-types-microsoft-media-foundation"></a><span data-ttu-id="f3b08-104">Сведения о типах носителей (Microsoft Media Foundation)</span><span class="sxs-lookup"><span data-stu-id="f3b08-104">About Media Types (Microsoft Media Foundation)</span></span>

<span data-ttu-id="f3b08-105">*Тип носителя* описывает формат потока мультимедиа.</span><span class="sxs-lookup"><span data-stu-id="f3b08-105">A *media type* describes the format of a media stream.</span></span> <span data-ttu-id="f3b08-106">В Microsoft Media Foundation типы мультимедиа представлены интерфейсом [**имфмедиатипе**](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediatype) .</span><span class="sxs-lookup"><span data-stu-id="f3b08-106">In Microsoft Media Foundation, media types are represented by the [**IMFMediaType**](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediatype) interface.</span></span> <span data-ttu-id="f3b08-107">Этот интерфейс наследует интерфейс [**имфаттрибутес**](/windows/desktop/api/mfobjects/nn-mfobjects-imfattributes) .</span><span class="sxs-lookup"><span data-stu-id="f3b08-107">This interface inherits the [**IMFAttributes**](/windows/desktop/api/mfobjects/nn-mfobjects-imfattributes) interface.</span></span> <span data-ttu-id="f3b08-108">Сведения о типе мультимедиа указываются в виде атрибутов.</span><span class="sxs-lookup"><span data-stu-id="f3b08-108">The details of a media type are specified as attributes.</span></span>

<span data-ttu-id="f3b08-109">Чтобы создать новый тип мультимедиа, вызовите функцию [**мфкреатемедиатипе**](/windows/desktop/api/mfapi/nf-mfapi-mfcreatemediatype) .</span><span class="sxs-lookup"><span data-stu-id="f3b08-109">To create a new media type, call the [**MFCreateMediaType**](/windows/desktop/api/mfapi/nf-mfapi-mfcreatemediatype) function.</span></span> <span data-ttu-id="f3b08-110">Эта функция возвращает указатель на интерфейс [**имфмедиатипе**](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediatype) .</span><span class="sxs-lookup"><span data-stu-id="f3b08-110">This function returns a pointer to the [**IMFMediaType**](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediatype) interface.</span></span> <span data-ttu-id="f3b08-111">Тип носителя изначально не имеет атрибутов.</span><span class="sxs-lookup"><span data-stu-id="f3b08-111">The media type initially has no attributes.</span></span> <span data-ttu-id="f3b08-112">Чтобы задать подробные сведения о формате, установите соответствующие атрибуты.</span><span class="sxs-lookup"><span data-stu-id="f3b08-112">To set the details of the format, set the relevant attributes.</span></span>

<span data-ttu-id="f3b08-113">Список атрибутов типа мультимедиа см. в разделе [атрибуты типа носителя](media-type-attributes.md).</span><span class="sxs-lookup"><span data-stu-id="f3b08-113">For a list of media type attributes, see [Media Type Attributes](media-type-attributes.md).</span></span>

## <a name="major-types-and-subtypes"></a><span data-ttu-id="f3b08-114">Основные типы и подтипы</span><span class="sxs-lookup"><span data-stu-id="f3b08-114">Major Types and Subtypes</span></span>

<span data-ttu-id="f3b08-115">Два важных аспекта информации для любого типа мультимедиа — основной тип и подтип.</span><span class="sxs-lookup"><span data-stu-id="f3b08-115">Two important pieces of information for any media type are the major type and the subtype.</span></span>

-   <span data-ttu-id="f3b08-116">*Основной тип* — это идентификатор GUID, определяющий общую категорию данных в потоке мультимедиа.</span><span class="sxs-lookup"><span data-stu-id="f3b08-116">The *major type* is a GUID that defines the overall category of the data in a media stream.</span></span> <span data-ttu-id="f3b08-117">Основные типы — видео и аудио.</span><span class="sxs-lookup"><span data-stu-id="f3b08-117">Major types include video and audio.</span></span> <span data-ttu-id="f3b08-118">Чтобы указать основной тип, задайте атрибут " [ \_ \_ основной \_ тип MF MT](mf-mt-major-type-attribute.md) ".</span><span class="sxs-lookup"><span data-stu-id="f3b08-118">To specify the major type, set the [MF\_MT\_MAJOR\_TYPE](mf-mt-major-type-attribute.md) attribute.</span></span> <span data-ttu-id="f3b08-119">Метод [**имфмедиатипе:: жетмажортипе**](/windows/desktop/api/mfobjects/nf-mfobjects-imfmediatype-getmajortype) возвращает значение этого атрибута.</span><span class="sxs-lookup"><span data-stu-id="f3b08-119">The [**IMFMediaType::GetMajorType**](/windows/desktop/api/mfobjects/nf-mfobjects-imfmediatype-getmajortype) method returns the value of this attribute.</span></span>
-   <span data-ttu-id="f3b08-120">*Подтип* дополнительно определяет формат.</span><span class="sxs-lookup"><span data-stu-id="f3b08-120">The *subtype* further defines the format.</span></span> <span data-ttu-id="f3b08-121">Например, в основном типе видео существуют подтипы для RGB-24, RGB-32, YUY2 и т. д.</span><span class="sxs-lookup"><span data-stu-id="f3b08-121">For example, within the video major type, there are subtypes for RGB-24, RGB-32, YUY2, and so forth.</span></span> <span data-ttu-id="f3b08-122">В аудио есть звук PCM, аудио с плавающей запятой IEEE и др.</span><span class="sxs-lookup"><span data-stu-id="f3b08-122">Within audio, there are PCM audio, IEEE floating-point audio, and others.</span></span> <span data-ttu-id="f3b08-123">Подтип предоставляет больше информации, чем основной тип, но не определяет все сведения о формате.</span><span class="sxs-lookup"><span data-stu-id="f3b08-123">The subtype provides more information than the major type, but it does not define everything about the format.</span></span> <span data-ttu-id="f3b08-124">Например, подтипы видео не определяют размер изображения или частоту кадров.</span><span class="sxs-lookup"><span data-stu-id="f3b08-124">For example, video subtypes do not define the image size or the frame rate.</span></span> <span data-ttu-id="f3b08-125">Чтобы указать подтип, установите атрибут [ \_ \_ подтипа MF MT](mf-mt-subtype-attribute.md) .</span><span class="sxs-lookup"><span data-stu-id="f3b08-125">To specify the subtype, set the [MF\_MT\_SUBTYPE](mf-mt-subtype-attribute.md) attribute.</span></span>

<span data-ttu-id="f3b08-126">Все типы носителей должны иметь основной GUID типа и GUID подтипа.</span><span class="sxs-lookup"><span data-stu-id="f3b08-126">All media types should have a major type GUID and a subtype GUID.</span></span> <span data-ttu-id="f3b08-127">Список основных идентификаторов GUID типа и подтипа см. в разделе [идентификаторы GUID типа носителя](media-type-guids.md).</span><span class="sxs-lookup"><span data-stu-id="f3b08-127">For a list of major type and subtype GUIDs, see [Media Type GUIDs](media-type-guids.md).</span></span>

## <a name="why-attributes"></a><span data-ttu-id="f3b08-128">Зачем нужны атрибуты?</span><span class="sxs-lookup"><span data-stu-id="f3b08-128">Why Attributes?</span></span>

<span data-ttu-id="f3b08-129">Атрибуты имеют несколько преимуществ по сравнению с структурами формата, которые использовались в предыдущих технологиях, таких как DirectShow и пакет SDK Windows Media Format.</span><span class="sxs-lookup"><span data-stu-id="f3b08-129">Attributes have several advantages over the format structures that have been used in previous technologies such as DirectShow and the Windows Media Format SDK.</span></span>

-   <span data-ttu-id="f3b08-130">Проще представлять значения "не зная" или "не волнует".</span><span class="sxs-lookup"><span data-stu-id="f3b08-130">It is easier to represent "don't know" or "don't care" values.</span></span> <span data-ttu-id="f3b08-131">Например, если вы пишете преобразование видео, вы можете заранее узнать, какие форматы RGB и YUV поддерживает преобразование, но не размеры видеокадра, пока вы не получите их из источника видео.</span><span class="sxs-lookup"><span data-stu-id="f3b08-131">For example, if you are writing a video transform, you might know in advance which RGB and YUV formats the transform supports, but not the dimensions of the video frame, until you get them from the video source.</span></span> <span data-ttu-id="f3b08-132">Аналогично, вы можете не заботиться о некоторых деталях, например о первичных элементах видео.</span><span class="sxs-lookup"><span data-stu-id="f3b08-132">Similarly, you might not care about certain details, such as the video primaries.</span></span> <span data-ttu-id="f3b08-133">При использовании структуры формата каждый элемент должен быть заполнен *определенным* значением.</span><span class="sxs-lookup"><span data-stu-id="f3b08-133">With a format structure, every member must be filled with *some* value.</span></span> <span data-ttu-id="f3b08-134">В результате для обозначения неизвестного или значения по умолчанию используется нуль.</span><span class="sxs-lookup"><span data-stu-id="f3b08-134">As a result, it has become common to use zero to indicate an unknown or default value.</span></span> <span data-ttu-id="f3b08-135">Такая практика может вызвать ошибки, если другой компонент обработает нулевое значение в качестве допустимого значения.</span><span class="sxs-lookup"><span data-stu-id="f3b08-135">This practice can cause errors if another component treats zero as a legitimate value.</span></span> <span data-ttu-id="f3b08-136">С помощью атрибутов можно просто опустить атрибуты, которые неизвестны или не относятся к компоненту.</span><span class="sxs-lookup"><span data-stu-id="f3b08-136">With attributes, you simply omit the attributes that are unknown or not relevant to your component.</span></span>

-   <span data-ttu-id="f3b08-137">По мере изменения требований с течением времени структуры формата были расширены путем добавления дополнительных данных в конце структуры.</span><span class="sxs-lookup"><span data-stu-id="f3b08-137">As requirements have changed over time, format structures were extended by adding additional data at the end of the structure.</span></span> <span data-ttu-id="f3b08-138">Например, **вавеформатекстенсибле** расширяет структуру **вавеформатекс** .</span><span class="sxs-lookup"><span data-stu-id="f3b08-138">For example, **WAVEFORMATEXTENSIBLE** extends the **WAVEFORMATEX** structure.</span></span> <span data-ttu-id="f3b08-139">Такой подход подвержен ошибкам, так как компоненты должны приводить указатели структуры к другим типам структуры.</span><span class="sxs-lookup"><span data-stu-id="f3b08-139">This practice is prone to error, because components must cast structure pointers to other structure types.</span></span> <span data-ttu-id="f3b08-140">Атрибуты можно безопасно расширять.</span><span class="sxs-lookup"><span data-stu-id="f3b08-140">Attributes can be extended safely.</span></span>
-   <span data-ttu-id="f3b08-141">Определены взаимно несовместимые структуры формата.</span><span class="sxs-lookup"><span data-stu-id="f3b08-141">Mutually incompatible format structures have been defined.</span></span> <span data-ttu-id="f3b08-142">Например, DirectShow определяет структуры **видеоинфохеадер** и **VIDEOINFOHEADER2** .</span><span class="sxs-lookup"><span data-stu-id="f3b08-142">For example, DirectShow defines the **VIDEOINFOHEADER** and **VIDEOINFOHEADER2** structures.</span></span> <span data-ttu-id="f3b08-143">Атрибуты задаются независимо друг от друга, поэтому эта проблема не возникает.</span><span class="sxs-lookup"><span data-stu-id="f3b08-143">Attributes are set independently of each other, so this problem does not arise.</span></span>

## <a name="related-topics"></a><span data-ttu-id="f3b08-144">Связанные темы</span><span class="sxs-lookup"><span data-stu-id="f3b08-144">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="f3b08-145">Атрибуты типа мультимедиа</span><span class="sxs-lookup"><span data-stu-id="f3b08-145">Media Type Attributes</span></span>](media-type-attributes.md)
</dt> <dt>

[<span data-ttu-id="f3b08-146">Типы носителей</span><span class="sxs-lookup"><span data-stu-id="f3b08-146">Media Types</span></span>](media-types.md)
</dt> </dl>

 

 



