---
description: О типах носителей
ms.assetid: 169cdb00-0c1a-4530-90b7-bc89c71d1d04
title: Сведения о типах носителей (Microsoft Media Foundation)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ca1ee75979c5c382e7e4ea458655efb83435a22d
ms.sourcegitcommit: c16214e53680dc71d1c07111b51f72b82a4512d8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/03/2021
ms.locfileid: "103999855"
---
# <a name="about-media-types-microsoft-media-foundation"></a>Сведения о типах носителей (Microsoft Media Foundation)

*Тип носителя* описывает формат потока мультимедиа. В Microsoft Media Foundation типы мультимедиа представлены интерфейсом [**имфмедиатипе**](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediatype) . Этот интерфейс наследует интерфейс [**имфаттрибутес**](/windows/desktop/api/mfobjects/nn-mfobjects-imfattributes) . Сведения о типе мультимедиа указываются в виде атрибутов.

Чтобы создать новый тип мультимедиа, вызовите функцию [**мфкреатемедиатипе**](/windows/desktop/api/mfapi/nf-mfapi-mfcreatemediatype) . Эта функция возвращает указатель на интерфейс [**имфмедиатипе**](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediatype) . Тип носителя изначально не имеет атрибутов. Чтобы задать подробные сведения о формате, установите соответствующие атрибуты.

Список атрибутов типа мультимедиа см. в разделе [атрибуты типа носителя](media-type-attributes.md).

## <a name="major-types-and-subtypes"></a>Основные типы и подтипы

Два важных аспекта информации для любого типа мультимедиа — основной тип и подтип.

-   *Основной тип* — это идентификатор GUID, определяющий общую категорию данных в потоке мультимедиа. Основные типы — видео и аудио. Чтобы указать основной тип, задайте атрибут " [ \_ \_ основной \_ тип MF MT](mf-mt-major-type-attribute.md) ". Метод [**имфмедиатипе:: жетмажортипе**](/windows/desktop/api/mfobjects/nf-mfobjects-imfmediatype-getmajortype) возвращает значение этого атрибута.
-   *Подтип* дополнительно определяет формат. Например, в основном типе видео существуют подтипы для RGB-24, RGB-32, YUY2 и т. д. В аудио есть звук PCM, аудио с плавающей запятой IEEE и др. Подтип предоставляет больше информации, чем основной тип, но не определяет все сведения о формате. Например, подтипы видео не определяют размер изображения или частоту кадров. Чтобы указать подтип, установите атрибут [ \_ \_ подтипа MF MT](mf-mt-subtype-attribute.md) .

Все типы носителей должны иметь основной GUID типа и GUID подтипа. Список основных идентификаторов GUID типа и подтипа см. в разделе [идентификаторы GUID типа носителя](media-type-guids.md).

## <a name="why-attributes"></a>Зачем нужны атрибуты?

Атрибуты имеют несколько преимуществ по сравнению с структурами формата, которые использовались в предыдущих технологиях, таких как DirectShow и пакет SDK Windows Media Format.

-   Проще представлять значения "не зная" или "не волнует". Например, если вы пишете преобразование видео, вы можете заранее узнать, какие форматы RGB и YUV поддерживает преобразование, но не размеры видеокадра, пока вы не получите их из источника видео. Аналогично, вы можете не заботиться о некоторых деталях, например о первичных элементах видео. При использовании структуры формата каждый элемент должен быть заполнен *определенным* значением. В результате для обозначения неизвестного или значения по умолчанию используется нуль. Такая практика может вызвать ошибки, если другой компонент обработает нулевое значение в качестве допустимого значения. С помощью атрибутов можно просто опустить атрибуты, которые неизвестны или не относятся к компоненту.

-   По мере изменения требований с течением времени структуры формата были расширены путем добавления дополнительных данных в конце структуры. Например, **вавеформатекстенсибле** расширяет структуру **вавеформатекс** . Такой подход подвержен ошибкам, так как компоненты должны приводить указатели структуры к другим типам структуры. Атрибуты можно безопасно расширять.
-   Определены взаимно несовместимые структуры формата. Например, DirectShow определяет структуры **видеоинфохеадер** и **VIDEOINFOHEADER2** . Атрибуты задаются независимо друг от друга, поэтому эта проблема не возникает.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Атрибуты типа мультимедиа](media-type-attributes.md)
</dt> <dt>

[Типы носителей](media-types.md)
</dt> </dl>

 

 



