---
description: Microsoft Media Foundation.
ms.assetid: 4C397139-6553-4707-B737-7C31C5D423BA
title: Кодировщик аудио MP3
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 7ea2b22d2fe8cd51f9a2990970493e0415f34d3c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104080435"
---
# <a name="mp3-audio-encoder"></a>Кодировщик аудио MP3

Кодировщик Microsoft Media Foundation MP3 Audio — это [Media Foundation преобразование](media-foundation-transforms.md) (MFT), которое КОДИРУЕТ аудио MPEG-1 третьего уровня (MP3).

## <a name="class-identifier"></a>Идентификатор класса

Идентификатор класса (CLSID) кодировщика MP3 — это **CLSID \_ MP3ACMCodecWrapper**, определенный в файле заголовка вмкодекдсп. h.

## <a name="media-types"></a>Типы носителей

Кодировщик MP3 поддерживает следующие типы носителей. Тип выходных данных должен быть задан перед входным типом.

### <a name="output-types"></a>Типы вывода

Задайте следующие атрибуты для выходного типа носителя.



<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>attribute</th>
<th>Описание</th>
<th>Remarks</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="mf-mt-major-type-attribute.md"><strong>MF_MT_MAJOR_TYPE</strong></a></td>
<td>Основной тип.</td>
<td>Необходимо <strong>MFMediaType_Audio</strong>.</td>
</tr>
<tr class="even">
<td><a href="mf-mt-subtype-attribute.md"><strong>MF_MT_SUBTYPE</strong></a></td>
<td>Подтип аудио.</td>
<td>Необходимо <strong>MFAudioFormat_MP3</strong>.</td>
</tr>
<tr class="odd">
<td><a href="mf-mt-audio-avg-bytes-per-second-attribute.md"><strong>MF_MT_AUDIO_AVG_BYTES_PER_SECOND</strong></a></td>
<td>Скорость потока в закодированном потоке MP3, в байтах в секунду.</td>
<td>Кодировщик поддерживает все скорости, определенные стандартом (32, 40, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256 или 320 кбит/с).<br/> Скорость по умолчанию составляет 128 кбит/с для стерео и 320 кбит/с для стереосистемы.<br/> Используйте этот атрибут, чтобы указать закодированную скорость.<br/></td>
</tr>
<tr class="even">
<td><a href="mf-mt-audio-num-channels-attribute.md"><strong>MF_MT_AUDIO_NUM_CHANNELS</strong></a></td>
<td>Число каналов.</td>
<td>Поддерживаются следующие значения.
<ul>
<li>1 (моно)</li>
<li>2 (стерео)</li>
</ul></td>
</tr>
<tr class="odd">
<td><a href="mf-mt-audio-samples-per-second-attribute.md"><strong>MF_MT_AUDIO_SAMPLES_PER_SECOND</strong></a></td>
<td>Выборок в секунду.</td>
<td>Поддерживаются следующие значения.
<ul>
<li>48000 (48 кГц)</li>
<li>44100 (44,1 кГц)</li>
<li>32000 (32 кГц)</li>
</ul></td>
</tr>
<tr class="even">
<td><a href="mf-mt-user-data-attribute.md">MF_MT_USER_DATA</a></td>
<td>Дополнительные данные кодека.</td>
<td>Этот атрибут содержит 12 байт структуры <a href="/windows/desktop/api/mmreg/ns-mmreg-mpeglayer3waveformat"><strong>MPEGLAYER3WAVEFORMAT</strong></a> , которые следуют за элементом <strong>вфкс</strong> этой структуры.</td>
</tr>
</tbody>
</table>



 

Кроме того, можно заполнить структуру [**MPEGLAYER3WAVEFORMAT**](/windows/win32/api/mmreg/ns-mmreg-mpeglayer3waveformat) и вызвать [**мфинитмедиатипефромвавеформатекс**](/windows/desktop/api/mfapi/nf-mfapi-mfinitmediatypefromwaveformatex) , чтобы преобразовать структуру в Media Foundation тип носителя.

### <a name="input-types"></a>Типы входных данных

Задайте следующие атрибуты для входного типа носителя.



| attribute                                                                               | Описание         | Remarks                         |
|-----------------------------------------------------------------------------------------|---------------------|---------------------------------|
| [**\_ \_ основной тип MF \_ MT**](mf-mt-major-type-attribute.md)                               | Основной тип.         | Должен быть **мфмедиатипе \_ Audio**. |
| [**подтип MF \_ MT \_**](mf-mt-subtype-attribute.md)                                      | Подтип.            | Должен быть **мфаудиоформат \_ PCM**. |
| [**\_ \_ звуковый бит MF MT \_ \_ на \_ выборку**](mf-mt-audio-bits-per-sample-attribute.md)       | Бит на выборку.    | Должно быть 16.                     |
| [**\_ \_ звуковых образцов MF MT \_ \_ в \_ секунду**](mf-mt-audio-samples-per-second-attribute.md) | Выборок в секунду. | Должен соответствовать типу выходных данных.     |
| [**\_ \_ каналы аудиосигнала MF MT \_ \_**](mf-mt-audio-num-channels-attribute.md)              | Число каналов. | Должен соответствовать типу выходных данных.     |



 

Кодировщик поддерживает только 16-разрядные целочисленные входные данные PCM. Он не поддерживает 32-разрядные входные данные с плавающей точкой.

### <a name="media-formats"></a>Форматы мультимедиа

Стандарт MPEG-1 и MPEG-2 определяет звуковые форматы 252 уровня 3. Кодировщик MP3 поддерживает стандарт с некоторыми исключениями, а также некоторые дополнительные форматы, как описано ниже. Уровень 3 определяется следующим образом:



| Требование | Значение |
|----------------------------------|---------------------------------------------------------------|
| Каналы                         | моно или стерео                                                |
| Частота дискретизации MPEG-1 в кГц       | 44,1, 48, 32                                                  |
| Скорость кодирования MPEG-1 в кбит/с | 32, 40, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320 |
| Частота дискретизации MPEG-2 в кГц       | 8, 11,025, 12, 16, 22,05, 24                                  |
| Скорость кодирования MPEG-2 в кбит/с | 8, 16, 24, 32, 40, 48, 56, 64, 80, 96, 112, 144, 160          |



 

Кодировщик MP3 также поддерживает следующие форматы.



| Частота выборки | Скорость     | Номер канала |
|-------------|--------------|----------------|
| 8000        | 18000, 20000 | 2              |
| 11025       | 18000, 20000 | 1 или 2         |
| 12000       | 18000, 20000 | 1 или 2         |
| 16000       | 18000, 20000 | 1              |
| 32000       | 144000       | 1 или 2         |
| 44100       | 144000       | 1 или 2         |
| 48000       | 144000       | 1 или 2         |



 

Кодировщик MP3 не поддерживает следующие форматы, определенные стандартом.



| Частота выборки | Скорость передачи                                    | Номер канала |
|-------------|----------------------------------------------|----------------|
| 12000       | 80000, 96000, 112000, 128000, 144000, 160000 | 1 или 2         |
| 11025       | 80000, 96000, 112000, 128000, 144000, 160000 | 1 или 2         |
| 8000        | 80000, 96000, 112000, 128000, 144000, 160000 | 1 или 2         |
| 8000        | 8000, 11025, 12000, 16000, 22050, 24000      | 2              |



 

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|------------------------------------------------------|
| Минимальная версия клиента<br/> | \[Только классические приложения Windows 8\]<br/>           |
| Минимальная версия сервера<br/> | \[Только для настольных приложений Windows Server 2012\]<br/> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[Объекты кодека](codecobjects.md)
</dt> </dl>

 

 
