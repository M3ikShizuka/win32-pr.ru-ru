---
description: Возвращает уровень виртуальной защиты для указанного механизма защиты.
ms.assetid: 635d54de-2735-4390-8bac-ba63b9503909
title: OPM_GET_VIRTUAL_PROTECTION_LEVEL (Опмапи. h)
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 5c7ac36abd0a043a74a18401205bbb5e661ac17d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105692588"
---
# <a name="opm_get_virtual_protection_level"></a>ОПМ \_ получить \_ \_ уровень защиты \_ виртуальной системы

Возвращает уровень виртуальной защиты для указанного механизма защиты.

Уровень защиты *виртуальной* системы — это уровень, запрошенный приложением во время текущего сеанса исходящего Protection Manager (ОПМ). Драйвер может применять более высокий уровень из-за событий за пределами этого сеанса ОПМ. Чтобы найти фактический действующий уровень защиты, отправьте запрос на [**ОПМ \_ Получение \_ фактического \_ \_ уровня защиты**](opm-get-actual-protection-level.md) .



| Требование | Значение |
|--------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| GUID запроса | ОПМ \_ получить \_ \_ уровень защиты \_ виртуальной системы                                                                                                                                          |
| Входные данные   | Механизм защиты для запроса, заданный как 32-разрядное целое число. Значение интерпретируется как член [**флагов типа защиты ОПМ**](opm-protection-type-flags.md). |
| Возвращать данные  | [**\_ Стандартная \_ информационная структура ОПМ**](/windows/desktop/api/ksopmapi/ns-ksopmapi-opm_standard_information)                                                                                                   |



 

## <a name="remarks"></a>Комментарии

Уровень защиты возвращается в элементе **улинформатион** [**\_ \_ информационной структуры ОПМ Standard**](/windows/desktop/api/ksopmapi/ns-ksopmapi-opm_standard_information) . Значение этого параметра зависит от механизма защиты, к которому выполняется запрос. Для каждого механизма защиты значение **улинформатион** является флагом из другого перечисления, как показано в следующей таблице.



| Механизм защиты | Перечисление                                                       |
|----------------------|-------------------------------------------------------------------|
| ACP                  | [**\_ \_ уровень защиты ОПМ \_ ACP**](/windows/desktop/api/opmapi/ne-opmapi-opm_acp_protection_level)   |
| CGMS-A               | [**Флаги защиты CGMS-A**](cgms-a-protection-flags.md)        |
| дпкп                 | [**\_ \_ уровень защиты ОПМ \_ ДПКП**](/windows/desktop/api/opmapi/ne-opmapi-opm_dpcp_protection_level) |
| ПОДДЕРЖИВАЮЩ                 | [**\_ \_ уровень защиты ОПМ \_ HDCP**](/windows/desktop/api/opmapi/ne-opmapi-opm_hdcp_protection_level) |



 

Этот запрос эквивалентен \_ запросу дксва коппкуерилокалпротектионлевел, используемому в сертифицированном протоколе защиты выходных данных (Копп).

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|-------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Только для \[ классических приложений Windows Vista\]<br/>                                      |
| Минимальная версия сервера<br/> | \[Только для настольных приложений Windows Server 2008\]<br/>                                |
| Header<br/>                   | <dl> <dt>Опмапи. h</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[**Иопмвидеуутпут:: Коппкомпатиблежетинформатион**](/windows/desktop/api/opmapi/nf-opmapi-iopmvideooutput-coppcompatiblegetinformation)
</dt> <dt>

[**Иопмвидеуутпут:: о.**](/windows/desktop/api/opmapi/nf-opmapi-iopmvideooutput-getinformation)
</dt> <dt>

[Запросы состояния ОПМ](opm-status-requests.md)
</dt> </dl>

 

 




