---
description: В этом разделе описывается общий дизайн Microsoft Media Foundation. Сведения об использовании Media Foundation для конкретных задач программирования см. в разделе Media Foundation Guide по программированию.
ms.assetid: DEA2B19A-CF15-4BF4-84C3-9A6417C942E2
title: Общие сведения об архитектуре Media Foundation
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b0944eae1a74c1a5ba3dda8d94b69088128237f1
ms.sourcegitcommit: c16214e53680dc71d1c07111b51f72b82a4512d8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/03/2021
ms.locfileid: "104566061"
---
# <a name="overview-of-the-media-foundation-architecture"></a>Общие сведения об архитектуре Media Foundation

В этом разделе описывается общий дизайн Microsoft Media Foundation. Сведения об использовании Media Foundation для конкретных задач программирования см. в разделе [Media Foundation Guide по программированию](media-foundation-programming-guide.md).

На следующей схеме показано высокоуровневое представление архитектуры Media Foundation.

![на схеме показан общий обзор архитектуры Media Foundation.](images/mfarch01.png)

Media Foundation предоставляет две различные модели программирования. Первая модель, показанная в левой части диаграммы, использует сквозной конвейер для данных мультимедиа. Приложение инициализирует конвейер, например, предоставляя URL-адрес файла для воспроизведения, а затем вызывает методы для управления потоковой передачей. Во второй модели, показанной в правой части схемы, приложение либо извлекает данные из источника, либо передает их в назначение (или и то, и другое). Эта модель особенно полезна, если необходимо обработать данные, так как приложение имеет прямой доступ к потоку данных.

### <a name="primitives-and-platform"></a>Примитивы и платформа

Начиная с нижней части диаграммы, *примитивы* являются вспомогательными объектами, используемыми во Media Foundation API:

-   [Атрибуты](attributes-and-properties.md) — это универсальный способ хранения информации внутри объекта в виде списка пар "ключ-значение".
-   [Типы носителей](media-types.md) описывают формат потока данных мультимедиа.
-   [Буферы мультимедиа](media-buffers.md) содержат фрагменты данных мультимедиа, такие как видеокадры и образцы аудио, и используются для передачи данных между объектами.
-   [Примеры носителей](media-samples.md) — это контейнеры для буферов мультимедиа. Они также содержат метаданные о буферах, например метки времени.

[Интерфейсы api Media Foundation платформы](media-foundation-platform-apis.md) предоставляют некоторые основные функции, используемые конвейером Media Foundation, например асинхронные обратные вызовы и рабочие очереди. Некоторым приложениям может потребоваться вызывать эти API напрямую; Кроме того, они понадобятся вам при реализации пользовательского источника, преобразования или приемника для Media Foundation.

### <a name="media-pipeline"></a>Конвейер мультимедиа

Конвейер мультимедиа содержит три типа объектов, которые создают или обрабатывают данные мультимедиа:

-   [Источники мультимедиа](media-sources.md) предоставляют данные в конвейер. Источник мультимедиа может получать данные из локального файла, например из файла видео. из сетевого потока; или с устройства записи оборудования.
-   [Media Foundation преобразования](media-foundation-transforms.md) (МФТС) обработка данных из потока. Кодировщики и декодеры реализуются как МФТС.
-   [Приемники мультимедиа](media-sinks.md) потребляют данные; Например, отображение видео на экране, воспроизведение звука или запись данных в файл мультимедиа.

Сторонние лица могут реализовать собственные источники, приемники и МФТС; Например, для поддержки новых форматов файлов мультимедиа.

[Сеанс мультимедиа](media-session.md) управляет потоком данных через конвейер и обрабатывает такие задачи, как контроль качества, синхронизация аудио/видео и реагирование на изменения формата.

### <a name="source-reader-and-sink-writer"></a>Считыватель исходного кода и модуль записи приемника

[Средство чтения исходного кода](source-reader.md) и [модуль записи приемника](sink-writer.md) предоставляют альтернативный способ использования основных компонентов Media Foundation (источников мультимедиа, преобразований и приемников носителей). Модуль чтения исходного кода размещает источник мультимедиа и ноль или более декодеров, в то время как модуль записи приемника содержит приемник мультимедиа и ноль или более кодировщиков. Модуль чтения исходного кода можно использовать для получения сжатых или несжатых данных из источника мультимедиа и использования модуля записи приемника для кодирования данных и отправки данных в приемник мультимедиа.

> [!Note]  
> Средство чтения исходного кода и модуль записи приемника доступны в Windows 7.

 

Эта модель программирования предоставляет приложению больший контроль над потоком данных, а также предоставляет приложению прямой доступ к данным из источника.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Media Foundation: основные понятия](media-foundation-programming--essential-concepts.md)
</dt> <dt>

[Архитектура Media Foundation](media-foundation-architecture.md)
</dt> </dl>

 

 



