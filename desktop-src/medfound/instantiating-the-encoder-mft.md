---
description: Создание экземпляра MFT для кодировщика
ms.assetid: 50b71c00-b7cf-4c38-8114-bb36b358fda5
title: Создание экземпляра MFT для кодировщика
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 40337bbef63cf243777978d1672a60de5ebfba8874b3cce0271ca06ccf4ab38b
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118974273"
---
# <a name="instantiating-an-encoder-mft"></a>Создание экземпляра MFT для кодировщика

В Microsoft Media Foundation кодировщики реализуются как [Media Foundation преобразования](media-foundation-transforms.md) (МФТС). Перед созданием кодировщика сначала необходимо найти кодировщик, который наиболее подходит для ваших потребностей.

-   Windows Аудиокодеки мультимедиа

    Категория: **\_ \_ звуковая \_ кодировщик категории MFT**

    Основной тип: Мфмедиатипе \_ Audio

    Подтип: Мфаудиоформат \_ WMAudioV9, мфаудиоформат \_ WMAudioV8, мфаудиоформат \_ вмаудио \_ без потерь, мфаудиоформат \_ вмаспдиф

-   Windows Видеокодеки мультимедиа

    Категория: **\_ \_ \_ видеокодировщик категории MFT**

    Основной тип: \_ видео мфмедиатипе

    Подтип: Мфвидеоформат \_ WVC1, мфвидеоформат \_ WMV3, мфвидеоформат \_ WMV2, мфвидеоформат \_ WMV1

Media Foundation предоставляет несколько функций, которые могут вызываться приложением для перечисления различных кодировщиков, доступных в системе. Кодировщики регистрируются в виде COM-объектов, а запись реестра соответствует стандартному формату фабрик классов COM. Реестр поддерживает идентификаторы CLSID для кодировщиков, которые классифицируются по формату мультимедиа (аудио или видео). идентификаторы классов Windowsных кодировщиков мультимедиа определены как константы в файле заголовка вмкодекдсп. h. В Media Foundation кодировщики можно зарегистрировать с помощью вызовов [**мфтрегистерлокал**](/windows/desktop/api/mfapi/nf-mfapi-mftregisterlocal) или [**мфтрегистерлокалбиклсид**](/windows/desktop/api/mfapi/nf-mfapi-mftregisterlocalbyclsid) , указав категории, Поддерживаемые входные типы и поддерживаемые типы выходных данных. После успешной регистрации с помощью этих функций МФТС рассматриваются функциями перечисления Media Foundation.

Для создания экземпляра файла MFT кодировщика приложение имеет следующие возможности.

-   Создайте объект MFT кодировщика напрямую и получите указатель на интерфейс [**имфтрансформ**](/windows/desktop/api/mftransform/nn-mftransform-imftransform) . Дополнительные сведения см. в разделе [Создание кодировщика с помощью CoCreateInstance](using-an-encoder-s-imftransform--interface.md).
-   Создайте экземпляр объекта активации для файла MFT кодировщика и получите указатель на интерфейс [**имфактивате**](/windows/desktop/api/mfobjects/nn-mfobjects-imfactivate) . Дополнительные сведения см. [в разделе Использование объектов активации кодировщика](using-an-encoder-s-activation-objects.md).

Если приложение использует [компоненты ASF уровня конвейера](pipeline-layer-asf-components.md) для кодирования файла в формат ASF, необходимо вставить файл MFT кодировщика в конвейер в качестве узла преобразования. При создании узла преобразования в топологии кодирования можно либо задать тип объекта в качестве указателя на интерфейс [**имфтрансформ**](/windows/desktop/api/mftransform/nn-mftransform-imftransform) , либо объект [**имфактивате**](/windows/desktop/api/mfobjects/nn-mfobjects-imfactivate) . Media Foundation предоставляет объекты активации для Windows кодировщиков мультимедиа, чтобы их можно было легко задать в качестве узла преобразования в топологии кодирования. При разрешении топологии сеанс мультимедиа использует объект активации для создания экземпляра файла MFT кодировщика.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Windows Кодировщики мультимедиа](windows-media-encoders.md)
</dt> </dl>

 

 



