---
description: сведения о хранении Windows данных мультимедиа в файле AVI.
ms.assetid: f2a9d9ff-4876-4f24-b96a-5d89e42fa3d5
title: Хранение сжатых файлов мультимедиа в AVI-файлах (Microsoft Media Foundation)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 080524a47b4295517d50705f6aeb125d085a8346
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127580227"
---
# <a name="storing-compressed-media-in-avi-files-microsoft-media-foundation"></a>Хранение сжатых файлов мультимедиа в AVI-файлах (Microsoft Media Foundation)

любое содержимое, сжатое с помощью кодеков Windows Media Audio и Video, должно быть размещено в определенном формате контейнера. Одним из наиболее популярных форматов является аудио чередование видео или AVI. для создания AVI-файлов можно использовать microsoft Video для Windows (VfW) или microsoft DirectShow. дополнительные сведения об использовании видео для Windows или DirectShow см. в документации по продукту на сайте MSDN.

видеокодеки Windows media разработаны для использования свойств расширенного системного формата (ASF), который является контейнером, используемым Windows носителем. так как в avi и ASF содержимое хранится по-разному, при хранении содержимого, сжатого с помощью видеокодеков Windows мультимедиа, в avi-файле возникают проблемы.

звуковые кодеки Windows Media сжимают звуковое содержимое таким образом, что его невозможно правильно распаковать без отметки времени для отдельных выборок. Это позволяет выполнить некоторую оптимизацию на сжатом носителе. Так как контейнер ASF сохраняет отметки времени во всех примерах, эта характеристика алгоритмов аудио всегда работала нормально.

Однако файлы AVI не сохраняют метки времени с примерами. это означает, что Windows Media Audio содержимое не может быть корректно распаковано при сохранении в файле AVI. Windows Содержимое мультимедиа не имеет этого ограничения и может включаться в файлы AVI. для кодирования Windowsного мультимедийного содержимого в файл AVI с синхронизированным звуком необходимо использовать другой аудиокодек.

другая ситуация с использованием файла AVI в качестве контейнера для Windows мультимедиа связана с видео с низкой скоростью. один из способов, с помощью которых видеокодеки Windows мультимедийных кодеках создает видеоматериал для низкой скорости, заключается в удалении повторяющихся кадров. если вы хотите поместить мультимедийное содержимое Windows в ASF-файл, необходимо настроить кодировщик для доставки фиктивных кадров для повторяющихся кадров (задайте для параметра [мфпкэй \_ продуцедуммифрамес](mfpkey-producedummyframesproperty.md) значение VARIANT \_ TRUE), чтобы каждый кадр был представлен в файле. Фиктивные кадры, создаваемые кодеком, имеют размер 8 байт. Тем не менее, кадр, записываемый в файл с помощью AVI мультиплексора, может быть больше сотен байтов и заполнен случайными данными. Файл AVI, сделанный таким образом, по-прежнему будет воспроизводиться, но он будет гораздо больше, чем ожидалось. Эту проблему можно избежать, используя более высокие скорости передачи данных при кодировании видео для хранения в файлах AVI.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Кодеки Windows Media](windows-media-codecs.md)
</dt> </dl>

 

 



