---
description: Файл MFT обработчика видео — это Microsoft Media Foundation преобразование (MFT), которое выполняет колорспаце преобразование, изменение размера видео, дечередование, преобразование частоты кадров, вращение, кадрирование, пространственное левое и правое представление, распаковать и зеркальное отображение.
ms.assetid: 1476995A-9692-4B08-8EF7-7DB6321BEC24
title: Файл MFT видеопроцессора (Камерауиконтрол. h)
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 53783b42073414e4dc440546698bf295b404dcc0
ms.sourcegitcommit: c8ec1ded1ffffc364d3c4f560bb2171da0dc5040
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/22/2021
ms.locfileid: "105718125"
---
# <a name="video-processor-mft"></a>Файл MFT видеопроцессора

Файл MFT обработчика видео — это Microsoft Media Foundation преобразование (MFT), которое выполняет колорспаце преобразование, изменение размера видео, дечередование, преобразование частоты кадров, вращение, кадрирование, пространственное левое и правое представление, распаковать и зеркальное отображение.

## <a name="clsid"></a>CLSID

\_ВИДЕОПРОЦЕССОРМФТ CLSID

## <a name="interfaces"></a>Интерфейсы

-   [**имфреалтимеклиентекс**](/windows/desktop/api/mfidl/nn-mfidl-imfrealtimeclientex)
-   [**имфтрансформ**](/windows/desktop/api/mftransform/nn-mftransform-imftransform)
-   [**имфвидеопроцессорконтрол**](/windows/desktop/api/mfidl/nn-mfidl-imfvideoprocessorcontrol)

## <a name="input-formats"></a>Форматы входных данных

-   **Мфвидеоформат \_ ARGB32**
-   **Мфвидеоформат \_ айув**
-   **Мфвидеоформат \_ I420**
-   **Мфвидеоформат \_ ийув**
-   **Мфвидеоформат \_ NV11**
-   **Мфвидеоформат \_ NV12**
-   **Мфвидеоформат \_ Rgb24**
-   **Мфвидеоформат \_ RGB32**
-   **Мфвидеоформат \_ RGB555**
-   **Мфвидеоформат \_ RGB565**
-   **Мфвидеоформат \_ RGB8**
-   **Мфвидеоформат \_ UYVY**
-   **Мфвидеоформат \_ V410**
-   **Мфвидеоформат \_ Y216**
-   **Мфвидеоформат \_ Y41P**
-   **Мфвидеоформат \_ Y41T**
-   **Мфвидеоформат \_ Y42T**
-   **Мфвидеоформат \_ YUY2**
-   **Мфвидеоформат \_ YV12**
-   **Мфвидеоформат \_ ивю**

## <a name="output-formats"></a>Форматы выходных данных

-   **Мфвидеоформат \_ ARGB32**
-   **Мфвидеоформат \_ айув**
-   **Мфвидеоформат \_ I420**
-   **Мфвидеоформат \_ ийув**
-   **Мфвидеоформат \_ NV12**
-   **Мфвидеоформат \_ Rgb24**
-   **Мфвидеоформат \_ RGB32**
-   **Мфвидеоформат \_ RGB555**
-   **Мфвидеоформат \_ RGB565**
-   **Мфвидеоформат \_ UYVY**
-   **Мфвидеоформат \_ Y216**
-   **Мфвидеоформат \_ YUY2**
-   **Мфвидеоформат \_ YV12**

Поддерживается не все сочетания форматов входных и выходных данных. Чтобы проверить, поддерживается ли преобразование, задайте тип входных данных, а затем вызовите [**имфтрансформ:: жетаутпутаваилаблетипе**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-getoutputavailabletype).

Дополнительные сведения об этих форматах см. в разделе [GUID для подтипов видео](video-subtype-guids.md).

## <a name="remarks"></a>Комментарии

Экземпляр обработчика видео можно создать одним из следующих способов:

-   Путем вызова [**мфтенумекс**](/windows/desktop/api/mfapi/nf-mfapi-mftenumex). Обработчик видео регистрируется в категории **MFT \_ Категория \_ \_ обработчика видео** .
-   Вызывая **функцию com** , мы передаем ей CLSID CLSID **\_ видеопроцессормфт**.

Следующие замечания относятся к работе с исходными прямоугольниками и конечными прямоугольниками в **MFT обработчика видео**. Исходный и конечный прямоугольники задаются с помощью [**имфвидеопроцессорконтрол:: сетдестинатионректангле**](/windows/desktop/api/mfidl/nf-mfidl-imfvideoprocessorcontrol-setdestinationrectangle) и [**сетсаурцеректангле**](/windows/desktop/api/mfidl/nf-mfidl-imfvideoprocessorcontrol-setsourcerectangle) , а также в некоторых случаях с [**имфмедиаенгиникс:: UpdateVideoStream**](/windows/desktop/api/mfmediaengine/nf-mfmediaengine-imfmediaengineex-updatevideostream).

-   Исходный прямоугольник должен быть согласован и округляться в соответствии с требованиями цветового формата кадра, выводимого обработчику видео. Это важно, поскольку такие форматы, как 420 и 422, имеют требования к измерениям и смещениям, которые могут быть созданы и доступны. Например, исходный прямоугольник {1, 0, 319, 240} (левый, верхний, правый, нижний) будет округляться до {2, 0, 320, 240}, если входной формат имеет значение 420.
-   Как конечный, так и исходный прямоугольник всегда будут относиться к соответствующим кадрам — исходному прямоугольнику исходного фрейма и конечному прямоугольнику назначения. Это означает, что отрицательные значения не имеют смысла — они будут всегда относиться к 0.
-   Исходный прямоугольник находится в системе координат конечного фрейма, за вычетом любого прямоугольника назначения. Это означает, что преобразования, такие как вращение, отменяются в исходном прямоугольнике. Поэтому не нужно знать, была ли видео повернуто или трехмерное. Например, можно нарисовать прямоугольник поверх тега Video, взять относительные координаты (относительно тега Video), нормализовать их (диапазон от 0 до 1) и передавать их вниз в качестве исходного прямоугольника, и они должны работать, как ожидалось, даже при вращении видео.

Процессор видео поддерживает обработку видео с ускорением GPU с помощью Microsoft Direct3D 11. Дополнительные сведения см. в [разделе \_ \_ \_ о сопоставлении MF SA D3D11](mf-sa-d3d11-aware.md).

### <a name="stereoscopic-video"></a>Видео стереоскопик

Процессор видео поддерживает операцию "Просмотр распаковки" для трехмерных видеокадров:

Если входной кадр содержит два представления, Упакованные в один кадр, обработчик видео может разделить представления на отдельные буферы или извлечь базовое представление и отменить второе представление. Чтобы включить распаковать представление, установите для атрибута [ \_ \_ 3DVIDEO \_ выходной атрибут MF](mf-enable-3dvideo-output.md) значение **MF3DVideoOutputType \_ стерео** или **MF3DVideoOutputType \_ басевиев**.

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------|----------------------------------------------------------------------------------------------|
| Header<br/> | <dl> <dt>Камерауиконтрол. h</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[Обработчики цифровых сигналов](windowsmediadigitalsignalprocessors.md)
</dt> </dl>

 

 




