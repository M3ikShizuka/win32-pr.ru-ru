---
description: Свойства кодировки
ms.assetid: 6845c3fb-38a8-4b0d-aea2-e10f7e518653
title: Свойства кодировки
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9bc7a1528e68153c742ece8c8d7fcb34bfb9b7bbc08f86567f51b54754bb6da3
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118743496"
---
# <a name="encoding-properties"></a>Свойства кодировки

кодировщики видео Windows media Audio и Windows поддерживают различные режимы кодирования. Эти режимы обычно настраиваются путем задания свойств в кодировщике [Media Foundation преобразования](media-foundation-transforms.md) (MFT). Чтобы выполнить кодирование файлов, будь то использование компонентов уровня Вмконтаинер или создание частичной топологии, необходимо соответствующим образом настроить кодировщик, задав свойства в зависимости от режима кодирования и типа носителя потока. Один и тот же набор свойств должен быть задан для кодировщика и объекта (приемника ASF-файлов или мультиплексора ASF), который используется для записи файла ASF.

Свойства кодировщика определяются в вмкодекдсп. h. Конкретные свойства, используемые для настройки кодировщика, задаются с помощью методов интерфейса [**ипропертисторе**](/windows/win32/api/propsys/nn-propsys-ipropertystore) .

-   [Свойства аудиопотока](#audio-stream-properties)
-   [Свойства потока видео](#video-stream-properties)
-   [Настройка хранилища свойств кодировщика](#configuring-the-encoders-property-store)

### <a name="audio-stream-properties"></a>Свойства аудиопотока

В следующей таблице показаны конфигурации кодировщика для аудиопотока.



| Тип кодировки                                                                                        | Имя свойства — значение                                                                                                                                                                               |
|------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [Кодирование постоянной скорости потока](constant-bit-rate-encoding.md)                                         | МФПКЭЙ \_ вбренаблед — **false** (необязательный) по умолчанию \_ для Мфпкэй вбренаблед устанавливается значение **false**.<br/>                                                                                             |
| [Кодирование скорости переменной с учетом качества](quality-based-variable-bit-rate--vbr--encoding.md)       | МФПКЭЙ \_ вбренаблед — **true**<br/> МФПКЭЙ \_ пассесусед-1 (необязательно)<br/> По умолчанию МФПКЭЙ \_ пассесусед имеет значение 1.<br/> МФПКЭЙ \_ желаемый \_ Вбркуалити — от 0 до 100<br/> |
| [Кодирование переменной скорости с неограниченным битом](unconstrained-variable-bit-rate--vbr--encoding.md)       | МФПКЭЙ \_ вбренаблед — **true**<br/> МФПКЭЙ \_ пассесусед-2<br/>                                                                                                                          |
| [Пиковое кодирование с переменным ограничением скорости](peak-constrained-variable-bit-rate--vbr--encoding.md) | МФПКЭЙ \_ вбренаблед — **true**<br/> МФПКЭЙ \_ пассесусед-2<br/> МФПКЭЙ \_ рмакс — максимальная скорость потока<br/> МФПКЭЙ \_ бмакс — Максимальное окно буфера<br/>                               |



 

### <a name="video-stream-properties"></a>Свойства потока видео

В следующей таблице показаны конфигурации кодировщика для видеопотока.



| Тип кодировки                                                                                        | Имя свойства                                                                                                                                                                                       |
|------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [Кодирование постоянной скорости потока](constant-bit-rate-encoding.md)                                         | МФПКЭЙ \_ вбренаблед — **false** (необязательно)<br/> По умолчанию МФПКЭЙ \_ вбренаблед имеет значение **false**.<br/> МФПКЭЙ \_ видеовиндов — окно буфера<br/>                                  |
| [Кодирование скорости переменной с учетом качества](quality-based-variable-bit-rate--vbr--encoding.md)       | МФПКЭЙ \_ вбренаблед — **true**<br/> МФПКЭЙ \_ пассесусед-1 (необязательно)<br/> По умолчанию МФПКЭЙ \_ пассесусед имеет значение 1.<br/> МФПКЭЙ \_ желаемый \_ Вбркуалити — от 0 до 100<br/> |
| [Кодирование переменной скорости с неограниченным битом](unconstrained-variable-bit-rate--vbr--encoding.md)       | МФПКЭЙ \_ вбренаблед — **true**<br/> МФПКЭЙ \_ пассесусед-2<br/>                                                                                                                          |
| [Пиковое кодирование с переменным ограничением скорости](peak-constrained-variable-bit-rate--vbr--encoding.md) | МФПКЭЙ \_ вбренаблед — **true**<br/> МФПКЭЙ \_ пассесусед-2<br/> МФПКЭЙ \_ рмакс — максимальная скорость потока<br/> МФПКЭЙ \_ бмакс — Максимальное окно буфера<br/>                               |



 

### <a name="configuring-the-encoders-property-store"></a>Настройка хранилища свойств кодировщика

Необходимо настроить кодировщик, указав тип кодировки и различные параметры, зависящие от конкретного потока, перед сеансом кодирования. Кроме того, необходимо задать свойства кодировщика в хранилище свойств [объекта Контентинфо ASF](asf-contentinfo-object.md) , представляющего объект заголовка ASF выходного файла.

При использовании MFT кодировщика:

1.  Получите ссылку на интерфейс [**имфтрансформ**](/windows/desktop/api/mftransform/nn-mftransform-imftransform) интерфейса MFT кодировщика, как описано в разделе [Использование интерфейса имфтрансформ кодировщика](using-an-encoder-s-imftransform--interface.md).
2.  Запрос к MFT для интерфейса **ипропертисторе** .
3.  Установка обязательных свойств путем вызова **ипропертисторе:: SetValue**.

Если вы используете встроенные объекты активации кодировщика и уже создали настроенный приемник файлов ASF, можно передать хранилище свойств приемника мультимедиа ASF в [**мфкреатевмаенкодерактивате**](/windows/desktop/api/wmcontainer/nf-wmcontainer-mfcreatewmaencoderactivate) или [**мфкреатевмвенкодерактивате**](/windows/desktop/api/wmcontainer/nf-wmcontainer-mfcreatewmvencoderactivate). Кодировщик настраивается автоматически на основе параметров, заданных приложением. Дополнительные сведения см. в процедуре, описанной в разделе [использование объектов активации кодировщика](using-an-encoder-s-activation-objects.md).

Дополнительные сведения о создании объектов Media Foundation с помощью объектов активации см. в разделе [объекты активации](activation-objects.md).

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Создание экземпляра MFT для кодировщика](instantiating-the-encoder-mft.md)
</dt> <dt>

[Windows Кодировщики мультимедиа](windows-media-encoders.md)
</dt> </dl>

 

 
