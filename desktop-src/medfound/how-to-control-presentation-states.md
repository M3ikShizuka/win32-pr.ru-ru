---
description: Управление состояниями представления
ms.assetid: 978373ef-b2a4-4035-b889-e28a037c0ab5
title: Управление состояниями представления
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: fa2148410527ecf966b10e605bbe4d6beb0ac3d515acd6895e4fc03e73564a72
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119942424"
---
# <a name="how-to-control-presentation-states"></a>Управление состояниями представления

Сеанс мультимедиа обеспечивает управление транспортом, например изменение состояния презентации (воспроизведение, пауза и остановка в сценарии воспроизведения в стиле списка воспроизведения). В этом разделе описываются методы сеансов мультимедиа, которые должны вызываться приложением для изменения состояния воспроизведения.

В следующей таблице показаны допустимые переходы состояния представления.



| Смена состояния | Описание                                                                                |
|------------------|--------------------------------------------------------------------------------------------|
| Воспроизведение-> пауза | Время презентации зависает.                                                            |
| Воспроизведение — >  | Часы презентации сброшены.                                                           |
| Пауза > Play | Часы презентации возобновляются со времени, Фрозе во время воспроизведения, чтобы приостановить переход. |
| Пауза-> остановить | Часы презентации сброшены.                                                           |
| > воспроизведение  | Часы презентации начинаются с начала презентации.                      |
| Остановка-> приостановка | Не допускается.                                                                               |



 

## <a name="to-change-presentation-states"></a>Изменение состояния представления

-   Вызовите метод [**имфмедиасессион::P Аусе**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasession-pause) , чтобы приостановить воспроизведение.

    ```C++
    hr = pMediaSession->Pause();
    ```

    

    Перед вызовом этого метода приложение должно вызвать метод [**имфмедиасессион:: жетсессионкапабилитиес**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasession-getsessioncapabilities) , чтобы определить, поддерживает ли источник мультимедиа состояние паузы. Если это так, этот метод возвращает **мфсессионкап \_ Pause** в параметре *пдвкапс* .

    Pause временно останавливает сеанс мультимедиа, часы презентации и приемник потока для текущей презентации. После успешного завершения вызова приложение получает событие [месессионпаусед](mesessionpaused.md) .

-   Вызовите метод [**имфмедиасессион:: останавливаться**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasession-stop) , чтобы прерывать воспроизведение.

    ```C++
    hr = pMediaSession->Stop();
    ```

    

    Этот метод останавливает сеанс мультимедиа, останавливая источник мультимедиа, соответствующие часы и приемники потоков. Если сеанс мультимедиа управляет [источником Sequencer](sequencer-source.md), базовые машинные источники останавливаются источником Sequencer. После остановки сеанса мультимедиа приложение получает событие [месессионстоппед](mesessionstopped.md) .

-   Вызовите метод [**имфмедиасессион:: Start**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasession-start) , чтобы начать воспроизведение или найти новую точку.

    ```C++
    hr = pMediaSession->Start(NULL, &var);
    ```

    

    Этот метод запускает сеанс мультимедиа из состояний паузы и остановки. Сеанс мультимедиа отвечает за настройку потока данных в конвейере. Этот метод указывает сеансу мультимедиа запустить часы презентации. После этого вызова сеанс мультимедиа отправляет приложению событие [месессионстартед](mesessionstarted.md) .

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Сеанс мультимедиа](media-session.md)
</dt> </dl>

 

 



