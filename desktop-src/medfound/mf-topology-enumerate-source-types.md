---
description: Указывает, будет ли загрузчик топологии перечислять типы носителей, предоставляемые источником мультимедиа.
ms.assetid: 2675ef16-2018-47e8-bb22-2fc0d62e6681
title: Атрибут MF_TOPOLOGY_ENUMERATE_SOURCE_TYPES (Мфидл. h)
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 015042bbf9994f81058c621239224196e6ec9ac8
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104343312"
---
# <a name="mf_topology_enumerate_source_types-attribute"></a>\_ \_ Перечисление \_ типа источника для топологии \_ MF

Указывает, будет ли загрузчик топологии перечислять типы носителей, предоставляемые источником мультимедиа.

## <a name="data-type"></a>Тип данных

**UINT32**

Используйте одно из следующих значений.



| Значение                                                                                                                                    | Значение                                             |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|
| <span id="FALSE"></span><span id="false"></span><dl> <dt>FALSE * * * *</dt> </dl> | Не перечислите исходные типы носителей.<br/> |
| <span id="TRUE"></span><span id="true"></span><dl> <dt>TRUE * * * *</dt> </dl>    | Перечисление исходных типов носителей.<br/>        |



 

## <a name="getset"></a>Get/Set

Чтобы получить этот атрибут, вызовите метод [**имфаттрибутес:: UInt32**](/windows/desktop/api/mfobjects/nf-mfobjects-imfattributes-getuint32).

Чтобы задать этот атрибут, вызовите [**имфаттрибутес:: SetUINT32**](/windows/desktop/api/mfobjects/nf-mfobjects-imfattributes-setuint32).

## <a name="applies-to"></a>Применяется к

[**имфтопологи**](/windows/desktop/api/mfidl/nn-mfidl-imftopology)

## <a name="remarks"></a>Комментарии

Каждый поток в источнике мультимедиа может предлагать более одного типа мультимедиа. Список типов перечисляется через интерфейс [**имфмедиатипехандлер**](/windows/desktop/api/mfidl/nn-mfidl-imfmediatypehandler) в дескрипторе потока.

Порядок, в котором загрузчик топологии пытается установить тип носителя источника мультимедиа, управляется двумя атрибутами:

-   \_Топология MF \_ Перечисление \_ исходных \_ типов в топологии.
-   Атрибут [**\_ \_ \_ метода соединения MF топоноде**](mf-toponode-connect-method-attribute.md) в исходном узле.

Если в качестве \_ значения \_ атрибута Source-Topology перечислить значение \_ \_ **false** или не задано, загрузчик топологии использует текущий тип носителя потока. Он не перечисляет список возможных типов. Если текущий тип мультимедиа несовместим с подчиненным узлом топологии и не удается найти сочетание декодеров и конвертеров, разрешение топологии завершается сбоем.

Если \_ \_ атрибуту MF Topology перечисление \_ \_ типов источника является **true**, загрузчик топологии перечисляет типы носителей источника до тех пор, пока не найдет совместимый тип. В этом случае точный порядок операций зависит от того, содержит ли атрибут [**\_ \_ \_ метода топоноде Connect**](mf-toponode-connect-method-attribute.md) на исходном узле флаг **MF \_ Connect с \_ \_ независимым \_ свойств OutputTypes командлета** .

Если \_ \_ для параметра source Topology перечисление \_ типов источника задано \_ **значение true** и установлен флаг **MF \_ Connect \_ Resolve \_ независимый \_ свойств OutputTypes командлета** , то загрузчик топологии будет исчерпан каждый тип носителя перед переходом к следующему, как показано ниже:

``` syntax
foreach media type T
    connect directly using T
    if failed, connect with converters using T
    if failed, connect with decoders using T
```

Если \_ в ТОПОЛОГИИ MF \_ Перечисление \_ \_ типов источников имеет **значение true** , но **\_ Подключение MF Connect \_ \_ \_** не установлено, то загрузчик топологии пытается установить прямое соединение с каждым типом носителя, а затем пытается создать каждый тип мультимедиа с помощью преобразователей и, наконец, пытается создать каждый тип мультимедиа с помощью декодеров:

``` syntax
foreach media type T
    connect directly using T
if failed,
    foreach media type T
        connect with converters using T
if failed
    foreach media type T
        connect with decoders using T
```

Если \_ в ТОПОЛОГИИ MF \_ Перечисление \_ \_ типов источников равно **false**, флаг **\_ \_ \_ независимого \_ свойств OutputTypes командлета для подключения MF** не учитывается.

\_ \_ \_ \_ Для совместимости с существующими приложениями значение по умолчанию, равное, имеет тип источника "ложь".

Константа GUID для этого атрибута экспортируется из мфууид. lib.

### <a name="example"></a>Пример

Ниже приведен пример, иллюстрирующий флаг **\_ \_ \_ независимого \_ свойств OutputTypes командлета для MF Connect** . Предположим, что топология имеет \_ \_ для атрибута MF Topology перечисление \_ исходных типов значение \_ **true**.

Источник мультимедиа предлагает следующие типы:

-   T1, T2, T3

Приемник мультимедиа принимает следующие типы:

-   T3, T4

Вариант 1. установлен флаг для **\_ \_ разрешения \_ независимых \_ свойств OutputTypes командлета MF Connect** .

1.  Загрузчик топологии пытается установить прямое соединение с T1. Приемник отклоняет T1.
2.  Загрузчик топологии вставляет декодер, который принимает T1 и выводит T4. Приемник принимает T4.
3.  Окончательная топология содержит: источник мультимедиа → декодер > приемник мультимедиа.

Вариант 2. флаг не задан.

1.  Загрузчик топологии пытается установить прямое соединение с T1. Приемник отклоняет T1.
2.  Загрузчик топологии пытается выполнить прямое соединение с T2. Приемник отклоняет T2.
3.  Загрузчик топологии пытается установить прямое соединение с T3. Приемник принимает T3.
4.  Окончательная топология содержит: источник мультимедиа → приемник мультимедиа.

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | \[Только классические приложения Windows 7\]<br/>                                         |
| Минимальная версия сервера<br/> | Только классические приложения Windows Server 2008 R2 \[\]<br/>                            |
| Header<br/>                   | <dl> <dt>Мфидл. h</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[Алфавитный список атрибутов Media Foundation](alphabetical-list-of-media-foundation-attributes.md)
</dt> <dt>

[Атрибуты топологии](topology-attributes.md)
</dt> </dl>

 

 




