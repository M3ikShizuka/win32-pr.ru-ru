---
description: Создание расширенной топологии
ms.assetid: 66aa07d8-6756-4d5b-9f0a-24b902da6fa2
title: Создание расширенной топологии
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7b4cc061d4e557dda4ccbb81eabc55e8e1b3e33b
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104343335"
---
# <a name="advanced-topology-building"></a>Создание расширенной топологии

В этом разделе описываются некоторые дополнительные методы создания топологий. Эти методы можно использовать, если требуется больший контроль над топологиями, которые вы отправляете в сеансе мультимедиа.

Так как эти методы предназначены для сценариев, которые выходят за рамки функций стандартного загрузчика топологии, многие сведения будут зависеть от конкретных требований приложения. Таким образом, этот раздел организован вокруг небольших подзадач, а не полных комплексных сценариев.

Типичное приложение воспроизведения выполняется следующим образом.

1.  Приложение создает частичную топологию и помещает ее в очередь в сеансе мультимедиа.
2.  Сеанс мультимедиа вызывает загрузчик топологии для разрешения топологии.

Если вы хотите выйти за пределы возможностей загрузчика топологии, существуют три общих подхода.

-   Создайте полную топологию. При постановке топологии в очередь в сеансе мультимедиа вызовите [**имфмедиасессион:: сеттопологи**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasession-settopology) с \_ флагом МФСЕССИОН сеттопологи без \_ разрешения. Этот флаг предотвращает попытку сеанса мультимедиа разрешить топологию.

-   Чтобы разрешить топологию, непосредственно запустите загрузчик топологии. Затем можно изменить полную топологию, прежде чем поставить ее в очередь в сеансе мультимедиа.

-   Реализуйте пользовательский загрузчик топологии. При таком подходе вы помещаете в очередь частичную топологию, но сеанс мультимедиа вызывает пользовательский загрузчик вместо стандартной реализации Media Foundation. Одним из преимуществ такого подхода является то, что вы можете создавать пользовательские топологии в защищенной среде. (В этом случае загрузчик топологии должен быть доверенным компонентом. Дополнительные сведения см. в разделе [путь к защищенному носителю](protected-media-path.md).)

Этот раздел содержит следующие подразделы.



| Раздел                                                                          | Описание                                                                                                      |
|--------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------|
| [Пользовательские загрузчики топологии](custom-topology-loaders.md)                         | Как предоставить пользовательскую реализацию [**имфтополоадер**](/windows/desktop/api/mfidl/nn-mfidl-imftopoloader) для сеанса мультимедиа.          |
| [Привязка выходных узлов к приемникам мультимедиа](binding-output-nodes-to-media-sinks.md) | Как подготовить выходные узлы в топологии, если вы используете загрузчик топологии за пределами сеанса мультимедиа. |
| [Добавление декодера в топологию](adding-a-decoder-to-a-topology.md)           | Выбор декодера вручную и добавление его в топологию.                                                       |



 

## <a name="related-topics"></a>См. также

<dl> <dt>

[Топологии](topologies.md)
</dt> </dl>

 

 



