---
description: Видео о YUV
ms.assetid: 089f42f2-1e5b-4d4b-98a4-9ef0ca2823c1
title: Видео о YUV
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6b57b4a453870af34c221683bdaf613b5038081d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104541375"
---
# <a name="about-yuv-video"></a>Видео о YUV

Цифровое видео часто кодируется в формате *YUV* . В этой статье объясняются общие понятия видеороликов YUV, а также некоторые термины, которые не приводят к математике обработки видеороликов YUV.

Если вы работали с компьютерной графикой, вы, вероятно, знакомы с цветом RGB. Цвет RGB кодируется с помощью трех значений: красный, зеленый и синий. Эти значения соответствуют непосредственно частям видимого спектра. Три значения RGB образуют математическую систему координат, называемую *цветовым пространством*. Красный компонент определяет одну ось этой системы координат, синий определяет второй, а зеленый — третий, как показано на следующем рисунке. Любой допустимый цвет RGB опускается в пределах этого цветового пространства. Например, чистый пурпурный — 100% голубой, 100% красный и 0% зеленого цвета.

![Схема, показывающая цветовое пространство RGB](images/8ec60365-ed5c-41f7-9da9-be46aa82896a.gif)

Хотя RGB является стандартным способом представления цветов, возможны и другие системы координат. Термин *YUV* относится к семейству цветовых пространств, каждый из которых кодирует сведения о яркости отдельно от информации о цвете. Как и в случае с RGB, YUV использует три значения для представления любого цвета. Эти значения называются Y ", U и V. (на самом деле, такое использование" YUV "является технически неточным. В компьютерных видеороликах термин YUV почти всегда относится к одному конкретному цветовому пространству с именем И'кбкр, которое обсуждается далее. Однако YUV часто используется в качестве общего термина для любого цветового пространства, которое работает с теми же принципами, что и И'кбкр.

Компонент Y, который также называется *яркости*, представляет значение яркости цвета. Простой символ (') используется для различения яркости от тесно связанного значения, *яркого*, обозначенного Y. светимость является производной от *линейных* значений RGB, тогда как яркости является производным от *нелинейных* (гамма-исправленных) значений RGB. Светимость — это более близкая мера яркости, но яркости является более практичной для использования в технических целях. Простой символ часто опускается, но цветовые пространства YUV всегда используют яркости, а не светимость.

Яркости является производным от цвета RGB, принимая взвешенное среднее от красного, зеленого и синего компонентов. Для телевизора Standard-Definition используется следующая формула:

`Y' = 0.299R + 0.587G + 0.114B`

Эта формула отражает тот факт, что человеческий глаз более чувствителен к определенным вавеленгссам, чем другие, что влияет на воспринимаемую яркость цвета. Синий свет отображается с разъемом DIMM, зеленый отображается ярче, а красный — где-то еще. Эта формула также отражает физические характеристики фосфорс, используемой на ранних телевидениях. Новая формула, учитывающая современные технологии телевидения, используется для телевидения высокой четкости:

`Y' = 0.2125R + 0.7154G + 0.0721B`

Уравнение яркости для телевизора стандартного определения определено в спецификации ITU-R BT. 601. Для телевидения высокой четкости соответствующая спецификация — ITU-R BT. 709.

Компоненты, которые также называются значениями *чрома* или *цветовой разницы* , получаются путем вычитания значения Y из красного и синего компонентов исходного цвета RGB:

`U = B - Y'`

`V = R - Y'`

Вместе эти значения содержат достаточно информации для восстановления исходного значения RGB.

## <a name="benefits-of-yuv"></a>Преимущества YUV

Аналоговые телевизоры используют YUV частично по историческим причинам. Аналоговые телевизионные сигналы были разработаны для обратной совместимости с черно-белыми телевизорами. Сигнал «цветовой телевизор» содержит информацию чрома (вы и V), наложенную на сигнал яркости. Черные и белые телевизоры пропускают чрома и отображают объединенный сигнал как изображение в градациях серого. (Сигнал разрабатывается таким образом, что чрома не оказывает существенного влияния на сигнал яркости.) Цветные телевизоры могут извлекать чрома и преобразовывать сигнал обратно в RGB.

У YUV есть еще одно преимущество, которое больше подходит сегодня. Человеческий глаз менее чувствителен к изменениям оттенков, чем изменения яркости. В результате изображение может содержать менее чрома информации, чем сведения о яркости, не снижая качества изображения. Например, примерами значений чрома является половина горизонтального разрешения образцов яркости. Иными словами, для каждого из двух примеров яркости в строке пикселей имеется один пример и один образец V. При условии, что 8 бит используются для кодирования каждого значения, всего 4 байта требуется для каждых двух пикселов (два Y, один U и один V) для среднего значения в 16 бит на пиксель или на 30% меньше, чем эквивалентная 24-разрядная кодировка RGB.

По сути, YUV не является более компактным, чем RGB. Если чрома не является downsampled, то пиксель YUV имеет тот же размер, что и пиксель RGB. Кроме того, преобразование из RGB в YUV не является потерей. Если понижение не существует, пиксель YUV можно преобразовать обратно в RGB без потери информации. Даунсамплинг позволяет уменьшить изображение YUV, а также теряет некоторые сведения о цвете. Однако при правильном выполнении потери не перцептуалли значимости.

## <a name="yuv-in-computer-video"></a>YUV в видеоролике

Формулы, перечисленные ранее для YUV, не являются точными преобразованиями, используемыми в цифровом видео. В цифровом видео обычно используется форма YUV с именем И'кбкр. По сути, И'кбкр работает путем масштабирования компонентов YUV до следующих диапазонов:



| Компонент | Диапазон                              |
|-----------|------------------------------------|
| &        | 16 – 235                             |
| CB/CR     | 16 – 240, с 128, представляющая ноль |



 

Эти диапазоны предполагают 8 разрядов точности для компонентов И'кбкр. Ниже приведен точный производный объект И'кбкр с использованием определения BT. 601 яркости:

1.  Начните с значений RGB в диапазоне \[ 0... 1 \] . Иными словами, чистый черный имеет значение 0, а чистый белый — 1. Важно, что это нелинейные (скорректированные гамма) значения RGB.
2.  Вычислите яркости. Для BT. 601, Y ' = 0.299 R + 0.587 G + 0.114 B, как описано выше.
3.  Вычислите промежуточные значения разности чрома (B-Y ') и (R-Y '). Эти значения имеют диапазон +/-0,886 для (B-Y '), а +/-0,701 для (R-Y ').
4.  Масштабируйте значения чрома Difference следующим образом:

    Pb = (0,5/(1-0,114)) x (B-Y ')

    PR = (0,5/(1-0,299)) x (R-Y ')

    Эти коэффициенты масштабирования предназначены для присвоения обоих значений одинакового числового диапазона, +/-0,5. Вместе они определяют цветовое пространство YUV с именем И'пбпр. Это цветовое пространство используется в видеоролике аналогового компонента.

5.  Масштабировать значения И'пбпр для получения окончательных значений И'кбкр:

    Y "= 16 + 219 × Y"

    CB = 128 + 224 × Pb

    CR = 128 + 224 × PR

Последние коэффициенты масштабирования создают диапазон значений, перечисленных в предыдущей таблице. Конечно, можно преобразовать RGB непосредственно в И'кбкр, не сохраняя промежуточные результаты. Эти действия перечислены отдельно, чтобы продемонстрировать, как И'кбкр наследуется от исходных уравнений YUV, заданных в начале этой статьи.

В следующей таблице показаны значения RGB и Икбкр для различных цветов с помощью определения BT. 601 яркости.



| Цвет   | R   | G   | B   | &  | CB  | Cr  |
|---------|-----|-----|-----|-----|-----|-----|
| Черный   | 0   | 0   | 0   | 16  | 128 | 128 |
| Красный     | 255 | 0   | 0   | 81  | 90  | 240 |
| Зеленый   | 0   | 255 | 0   | 145 | 54  | 34  |
| Синий    | 0   | 0   | 255 | 41  | 240 | 110 |
| Цвет    | 0   | 255 | 255 | 170 | 166 | 16  |
| Пурпурный | 255 | 0   | 255 | 106 | 202 | 222 |
| Желтый  | 255 | 255 | 0   | 210 | 16  | 146 |
| Белый   | 255 | 255 | 255 | 235 | 128 | 128 |



 

Как показано в этой таблице, CB и CR не соответствуют интуитивно понятным идеям по цвету. Например, чистый белый и чистый черные оба содержат нейтральные уровни CB и CR (128). Наибольшее и наименьшее значения для CB — синие и желтые соответственно. Для CR максимальные и наименьшие значения имеют красный и голубой.

## <a name="for-more-information"></a>Дополнительные сведения см. в разделе

-   [Рекомендуемые 8-разрядные форматы YUV для отрисовки видео](recommended-8-bit-yuv-formats-for-video-rendering.md)
-   Гнездо Кит. Секреты видео, пятый выпуск. Невнес, 2007.
-   Чарльз A. Пойнтон. Техническое введение в цифровое видео. Wiley, 1996.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Типы видеоклипов](video-media-types.md)
</dt> <dt>

[Типы носителей](media-types.md)
</dt> </dl>

 

 



