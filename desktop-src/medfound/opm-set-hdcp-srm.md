---
description: Обновляет сообщение о возобновлении системы (СРМ) для High-Bandwidth Digital Защита содержимого (HDCP).
ms.assetid: ea18baba-0e03-4471-af0e-a588773c98d2
title: OPM_SET_HDCP_SRM (Опмапи. h)
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 23601386353e0a18ed95238cee7a11ba9c39a84fbf1855b839bde0fd841ccd17
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118058730"
---
# <a name="opm_set_hdcp_srm"></a>ОПМ \_ Set \_ HDCP \_ СРМ

Обновляет сообщение о возобновлении системы (СРМ) для High-Bandwidth Digital Защита содержимого (HDCP).



| Требование | Значение |
|--------------|-------------------------------------------------------------------------------------|
| Идентификатор GUID команды | ОПМ \_ Set \_ HDCP \_ СРМ                                                                 |
| Входные данные   | Структура [**\_ \_ \_ \_ параметров СРМ ОПМ Set HDCP**](/windows/desktop/api/opmapi/ns-opmapi-opm_set_hdcp_srm_parameters) |



 

Параметр *Пбаддитионалпараметерс* [**Иопмвидеуутпут:: Configure**](/windows/desktop/api/opmapi/nf-opmapi-iopmvideooutput-configure) должен указывать на буфер, содержащий СРМ. Формат HDCP СРМ описан в спецификации HDCP. Установите параметр *уладдитионалпараметерссизе* равным размеру буфера в байтах.

## <a name="remarks"></a>Remarks

Срмс используются для обновления списка отозванных устройств HDCP. Срмс доставляются с видеоматериалом.

Эта команда обновляет текущий СРМ вывода видео. Если в момент выполнения команды включена функция HDCP, в видеоролике используется новый СРМ для проверки того, отозвано ли какое-либо из подключенных устройств HDCP. Если видеоизображение обнаруживает отозванное устройство, оно прекращает отображать видео. При отправке этой команды при отключенной HDCP видеозапись проверяет СРМ и сохраняет его. Позже, если приложение включит HDCP, в видеоролике будет использоваться новый СРМ для проверки состояния отзыва устройства.

Эта команда может привести к возврату метода **Configure** любого из следующих кодов ошибок.



| Код возврата                                            | Описание                             |
|--------------------------------------------------------|-----------------------------------------|
| Ошибка \_ графики \_ ОПМ \_ Недопустимая \_ СРМ                     | Недопустимый СРМ.                   |
| \_вывод ошибок Graphics \_ ОПМ не \_ \_ \_ \_ поддерживает \_ HDCP | Выходные данные видео не поддерживают HDCP. |



 

Эта команда не поддерживается, если интерфейс **иопмвидеуутпут** эмулирует сертифицированный протокол защиты выходных данных (Копп). Если используется семантика Копп, приложение отвечает за анализ Срмс и проверку состояния отзыва устройства HDCP. Используйте запрос [состояния \_ \_ \_ \_ \_ сведений об устройстве ОПМ Get Connected HDCP](opm-get-connected-hdcp-device-information.md) , чтобы получить вектор выбора ключа устройства (КСВ), необходимый для проверки состояния отзыва. Дополнительные сведения о Срмс см. в спецификации HDCP.

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|-------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows \[Только классические приложения Vista\]<br/>                                      |
| Минимальная версия сервера<br/> | Windows Только для \[ настольных приложений сервера 2008\]<br/>                                |
| Заголовок<br/>                   | <dl> <dt>Опмапи. h</dt> </dl> |



## <a name="see-also"></a>См. также

<dl> <dt>

[**Иопмвидеуутпут:: Configure**](/windows/desktop/api/opmapi/nf-opmapi-iopmvideooutput-configure)
</dt> <dt>

[Команды ОПМ](opm-commands.md)
</dt> </dl>

 

 




