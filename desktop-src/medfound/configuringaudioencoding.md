---
description: Настройка кодирования звука
ms.assetid: 40004f07-0b8c-49cd-9e17-1f6ad7604fbb
title: Настройка кодирования звука (Microsoft Media Foundation)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a2344808decffd4b50d5926074dbf71d60445580adb4556703367369e1e146d5
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "117880369"
---
# <a name="configuring-audio-encoding-microsoft-media-foundation"></a>Настройка кодирования звука (Microsoft Media Foundation)

Windows Media Audio encoder перечисляет все поддерживаемые типы вывода в своей полной форме. Получите требуемый тип, вызвав **имедиаобжект:: жетаутпуттипе** или **Имфтрансформ:: жетаваилаблеаутпуттипе**, а затем установите извлеченный тип без изменений в качестве выходного типа, вызвав **Имедиаобжект:: Сетаутпуттипе** или **IMFTransform:: SetOutputType**.

Настраиваются типы выходных данных, поддерживаемые изменением аудио кодировщика в качестве свойств кодировщика. Перед перечислением типа выходных данных необходимо настроить все свойства кодировщика, которые вы хотите использовать.

Звуковые кодировщики поддерживают режимы с двумя проходами и VBR, но настроены иначе, чем для видео. Дополнительные сведения см. в разделе [Перечисление типов аудио для конкретных режимов кодирования](enumeratingaudiotypesforspecificencodingmodes.md).

Входные типы, поддерживаемые кодировщиком аудио, недоступны до тех пор, пока не будет задан тип выходных данных. при вызове **имедиаобжект:: жетинпуттипе** или **имфтрансформ:: жетинпуттипе** перед настройкой выходного типа метод возвращает DMO \_ E \_ больше \_ нет \_ элементов или MFT \_ в \_ \_ других \_ типах, соответственно. После установки типа выходных данных кодировщик перечисляет поддерживаемые типы входных данных для выбранного типа выходных данных.

перевыборка звука не выполняется кодировщиком Windows Media audio. Это означает, что тип выходных данных кодировщика и тип входных данных кодировщика должны иметь одинаковое количество каналов, бит на выборку и частоту выборки. Дополнительные сведения см. в разделе [Поиск типов вывода звукового кодировщика](findingaudioencoderoutputtypes.md).

> [!Note]  
>    Каждый тип выходных данных, перечисленный кодировщиком аудио, содержит структуру **вавеформатекс** (на которую указывает **AM \_ Media \_ Type. пбформат**) с добавленными расширенными данными. Размер расширенных данных задается параметром **вавеформатекс. кбсизе**. Эти данные должны храниться в закодированном содержимом, чтобы их можно было доставить декодеру. Содержимое не может быть распаковано без данных расширенного формата.

 

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Работа с аудио](workingwithaudio.md)
</dt> </dl>

 

 



