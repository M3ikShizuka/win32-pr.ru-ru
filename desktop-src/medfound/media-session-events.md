---
description: События сеанса мультимедиа
ms.assetid: 882a01f2-8f5c-4640-a8ac-f4f5860d7ed1
title: События сеанса мультимедиа
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bffecb3f4e3f4b3a3b30be95fcc45adcb81c1a84dd04ed8cf637bad759512a06
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119724014"
---
# <a name="media-session-events"></a>События сеанса мультимедиа

Большая часть операций сеанса мультимедиа выполняется асинхронно, поэтому приложение должно прослушивать события с помощью интерфейса [**Имфмедиаевентженератор**](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediaeventgenerator) сеанса мультимедиа. (Интерфейс [**имфмедиасессион**](/windows/desktop/api/mfidl/nn-mfidl-imfmediasession) наследует **имфмедиаевентженератор**.) Точная последовательность событий будет зависеть от приложения, но в большинстве случаев сеанс мультимедиа вызывает следующие события.



| Событие                                                                  | Описание                                                                                                                                                                                                                    |
|------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [миндофпресентатион](meendofpresentation.md)                         | Возникает, когда источник мультимедиа завершает презентацию. В настоящее время данные могут по-прежнему перемещаться по конвейеру.                                                                                                     |
| [миррор](meerror.md)                                                 | Возникает при возникновении ошибки во время потоковой передачи.                                                                                                                                                                                    |
| [месессионклосед](mesessionclosed.md)                                 | Возникает при завершении метода [**Close**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasession-close) . Это событие является последним событием, которое помещается в очередь сеанса мультимедиа. После получения этого события можно спокойно завершить работу всех созданных источников мультимедиа. |
| [месессионендед](mesessionended.md)                                   | Возникает, когда сеанс мультимедиа выполняется в последней презентации.                                                                                                                                                              |
| [месессионнотифипресентатионтиме](mesessionnotifypresentationtime.md) | Уведомляет приложение о времени презентации, когда начнется новая презентация.                                                                                                                                        |
| [месессионстартед](mesessionstarted.md)                               | Возникает при завершении метода [**Start**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasession-start) . Если не произошла ошибка, данные перемещаются по конвейеру в этот момент.                                                                          |
| [месессионтопологисет](mesessiontopologyset.md)                       | Возникает при завершении метода [**сеттопологи**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasession-settopology) . Если ошибка не возникает, приложению не нужно предпринимать никаких действий.                                                                 |
| [месессионтопологистатус](mesessiontopologystatus.md)                 | Возникает в разное время при изменении состояния топологии.                                                                                                                                                                 |



 

Метод [**имфмедиасессион:: Shutdown**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasession-shutdown) не вызывает событие. Метод **Shutdown** является синхронным. После того как этот метод вернет значение, можно отпустить указатель обратного вызова события.

В дополнение к событиям из сеанса мультимедиа приложение может получить события от приемников носителей в топологии. Это могут быть пользовательские события, определенные приемником мультимедиа, которые могут содержать произвольные данные. Например, приемник может наследовать данные о событии от исходных данных, которые могут быть из ненадежного внешнего источника. Приложение должно игнорировать все события, которые не распознаются, и соблюдать осторожность при анализе данных события.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Сеанс мультимедиа](media-session.md)
</dt> </dl>

 

 



