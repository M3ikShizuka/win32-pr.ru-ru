---
description: Общие сведения о ДКСВА 2 и его связи с ДКСВА 1.
ms.assetid: 190ed399-a8a8-4087-8d18-b1a715690e4c
title: О ДКСВА 2,0
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 149f622c863f433be44bbce6460024ffb06bb1b2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105650554"
---
# <a name="about-dxva-20"></a>О ДКСВА 2,0

Ускорение видео DirectX (ДКСВА) — это API и соответствующий DDI для использования аппаратного ускорения для ускорения обработки видео. Программные кодеки и видеопроцессоры могут использовать ДКСВА для разгрузки определенных вычислительных операций в GPU. Например, программный декодер может разгрузить обратное дискретное преобразование косинуса (идкт) в GPU.

В ДКСВА некоторые операции декодирования реализуются драйвером графического оборудования. Этот набор функций называется *ускорителем*. Другие операции декодирования реализуются программным обеспечением приложений пользовательского режима, которое называется *декодером узла* или *программным декодером*. (Термины *основной декодер* и *программный декодер* эквивалентны.) Обработка, выполняемая ускорителем, называется *обработкой за пределами узла*. Обычно ускоритель использует GPU для ускорения некоторых операций. Всякий раз, когда ускоритель выполняет операцию декодирования, декодер хоста должен передать в буферы ускорителя, содержащие сведения, необходимые для выполнения операции.

Для работы API ДКСВА 2 требуется Windows Vista или более поздней версии. API ДКСВА 1 по-прежнему поддерживается в Windows Vista для обеспечения обратной совместимости. Предоставляется уровень эмуляции, который преобразуется между любой версией API и противоположной версией DDI:

-   Если графический драйвер соответствует модели WDDM, вызовы API ДКСВА 1 преобразуются в вызовы DDI ДКСВА 2.
-   Если графические драйверы используют более старую модель драйвера экрана Windows XP (XPDM), вызовы API ДКСВА 2 преобразуются в вызовы DDI ДКСВА 1.

В следующей таблице приведены требования к операционной системе и поддерживаемые модули обработки видео для каждой версии API ДКСВА.



| Версия API | Требования          | Поддержка модуля подготовки видео                        |
|-------------|-----------------------|-----------------------------------------------|
| ДКСВА 1      | Windows 2000 или более поздняя версия | Микшер наложения, VMR-7, VMR-9 (только DirectShow) |
| ДКСВА 2      | Windows Vista         | Евр (DirectShow и Media Foundation)         |



 

В ДКСВА 1 программный декодер должен получить доступ к API через модуль подготовки видео. Не существует способа использовать API ДКСВА 1 без вызова модуля подготовки видео. Это ограничение было удалено с помощью ДКСВА 2. С помощью ДКСВА 2 декодер узла (или любое приложение) может напрямую обращаться к API через интерфейс [**идиректксвидеодекодерсервице**](/windows/win32/api/dxva2api/nn-dxva2api-idirectxvideodecoderservice) .

В документации по ДКСВА 1 описаны структуры декодирования, используемые для следующих стандартов видео:

-   ITU-T Rec. H. 261
-   ITU-T Rec. H. 263
-   Видео MPEG-1
-   Видео о основном профиле MPEG-2

Следующие спецификации определяют расширения ДКСВА для других стандартов видео:

-   [Спецификация ДКСВА для декодирования H. 264/AVC](https://www.microsoft.com/downloads/details.aspx?FamilyID=3d1c290b-310b-4ea2-bf76-714063a6d7a6&displaylang=en)
-   [Спецификация ДКСВА для H. 264/MPEG-4 AVC с поддержкой кодирования видео (MVC), включая высококачественный стереофонический профиль](https://www.microsoft.com/download/details.aspx?id=25200)
-   [Спецификация дксва для MPEG-1 ВЛД и Объединенная декодирование видео MPEG-1/MPEG-2 ВЛД](https://www.microsoft.com/download/details.aspx?id=9374).
-   [Спецификация ДКСВА для режима ВЛД Off-Host для MPEG-4 часть 2. декодирование видео](https://www.microsoft.com/download/details.aspx?id=21100)
-   [Спецификация ДКСВА для Windows Media Video® V8, V9 и ва декодирования (включая SMPTE 421M "VC-1")](https://www.microsoft.com/downloads/details.aspx?FamilyID=8792dfdb-8459-4cb7-adb4-fef30b609b31&displaylang=en)
-   [Спецификация ускорения видео DirectX (ДКСВА) для H. 264/MPEG-4 масштабируемая видеокодирование (SVC) Off-Host ВЛД режим декодирования](https://www.microsoft.com/downloads/details.aspx?FamilyID=a38538b6-f52c-470b-94be-0cf7c28d46cc&displaylang=en)
-   [Спецификация ускорения видео DirectX для кодирования видео VP8 и VP9](https://www.microsoft.com/download/details.aspx?id=49188)

ДКСВА 1 и ДКСВА 2 используют одни и те же структуры данных для декодирования. Однако процедура настройки сеанса декодирования изменилась. ДКСВА 1 использует механизм проверки и блокировки, где декодер хоста может проверить различные конфигурации, прежде чем задавать нужную конфигурацию в ускорителе. В ДКСВА 2 ускоритель возвращает список поддерживаемых конфигураций, и декодер хоста выбирает его из списка. Дополнительные сведения приведены в следующих разделах:

-   [Поддержка ДКСВА 2,0 в DirectShow](supporting-dxva-2-0-in-directshow.md)
-   [Поддержка ДКСВА 2,0 в Media Foundation](supporting-dxva-2-0-in-media-foundation.md)

## <a name="related-topics"></a>См. также

<dl> <dt>

[Ускорение видео DirectX 2,0](directx-video-acceleration-2-0.md)
</dt> <dt>

[Спецификация ДКСВА 1,0](/windows-hardware/drivers/display/directx-video-acceleration)
</dt> </dl>

 

 
