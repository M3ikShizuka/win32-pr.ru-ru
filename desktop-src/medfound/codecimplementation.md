---
description: Реализация кодека.
ms.assetid: 5ec23f95-cc7d-4c16-979a-f1d2cc485bb0
title: Реализация кодеков
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cd1bb9c51788526d68b370dec782b433e6f8d7114ece2b4f5a735ef7662f869d
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118974863"
---
# <a name="codec-implementation"></a>Реализация кодеков

видеокодеки Windows Media аудио и видео реализуются как COM-объекты. Как правило, кодек реализуется как пара COM-объектов: один для кодировщика и один для декодера. Кодировщик имеет идентификатор класса (CLSID), а декодер имеет другой CLSID. например, часть кодировщика в кодеке Windows Media Audio 9 имеет идентификатор clsid, представленный константой **clsid \_ квмаенкмедиаобжект**, а часть декодера этого же кодека имеет идентификатор clsid, представленный константой **clsid \_ квмадекмедиаобжект**.

В некоторых случаях в один COM-объект включено более одного кодировщика. например, кодировщик Windows media video 9 и кодировщик Windows media video 9,1 являются частью одного и того же COM-объекта. Следовательно, у них одинаковый идентификатор CLSID, представленный константой **CLSID \_ CWMV9EncMediaObject**. Аналогичным образом некоторые COM-объекты включают несколько декодеров.

каждый объект кодировщика или декодера предоставляет интерфейс [**имедиаобжект**](/previous-versions/ms785953%28v%3dvs.85%29) , чтобы объект можно было использовать в качестве объекта мультимедиа DirectX (DMO) и интерфейса [**имфтрансформ**](/windows/desktop/api/mftransform/nn-mftransform-imftransform) , чтобы объект можно было использовать в качестве Media Foundation преобразования (MFT).

для большинства кодировщиков независимо от того, используется ли кодировщик в качестве DMO или MFT, для создания экземпляра кодировщика используется один и тот же идентификатор CLSID. например, чтобы создать экземпляр кодировщика Windows Media Video 9, используйте **CLSID \_ CWMV9EncMediaObject**, независимо от того, планируется ли использовать кодировщик в качестве DMO или MFT. аналогичным образом для большинства декодеров каждый декодер имеет один идентификатор CLSID независимо от того, используется ли декодер в качестве DMO или MFT.

> [!Note]  
> существует несколько исключений предыдущего оператора об использовании одного идентификатора CLSID для DMO и MFT. например, декодер MPEG-4 Part 2 имеет один CLSID, когда он выступает в качестве DMO и другого идентификатора clsid, когда он выступает в качестве MFT.

 

Помимо основных интерфейсов, каждый объект кодировщика или декодера реализует два похожих интерфейса для работы с свойствами кодеков, **ипропертибаг** и **ипропертисторе**. Более старые версии кодировщика и объектов декодера использовали **ипропертибаг**, который определяет каждое свойство по строковому значению, содержащему имя свойства. **Ипропертисторе** — это новый интерфейс, идентифицирующий свойства с уникальным значением ключа свойства. Добавлена поддержка **ипропертисторе** для обеспечения поддержки МФТС. Большинство строк имен свойств **ипропертибаг** имеют соответствующий GUID ключа свойства **ипропертисторе** , а большинство идентификаторов GUID имеют соответствующую строку имени **ипропертибаг** с некоторыми исключениями.

В этой документации перечислены свойства по константе ключа свойства, но каждая запись включает в себя строковую константу имени свойства для использования с **ипропертибаг** , если это уместно.

## <a name="related-topics"></a>Связанные темы

[Кодеки Windows Media](windows-media-codecs.md)
