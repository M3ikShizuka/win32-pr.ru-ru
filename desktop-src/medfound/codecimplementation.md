---
description: Реализация кодека.
ms.assetid: 5ec23f95-cc7d-4c16-979a-f1d2cc485bb0
title: Реализация кодеков
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 201c0cb46fc61f117c9b45d059b102560986d5b7
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103896593"
---
# <a name="codec-implementation"></a>Реализация кодеков

Видеокодеки Windows Media Audio и Video реализуются как COM-объекты. Как правило, кодек реализуется как пара COM-объектов: один для кодировщика и один для декодера. Кодировщик имеет идентификатор класса (CLSID), а декодер имеет другой CLSID. Например, часть кодировщика в кодека Windows Media Audio 9 имеет идентификатор CLSID, представленный константой **CLSID \_ квмаенкмедиаобжект**, а часть декодера этого же кодека имеет идентификатор CLSID, представленный константой **CLSID \_ квмадекмедиаобжект**.

В некоторых случаях в один COM-объект включено более одного кодировщика. Например, кодировщик Windows Media Video 9 и кодировщик Windows Media Video 9,1 являются частью одного и того же COM-объекта. Следовательно, у них одинаковый идентификатор CLSID, представленный константой **CLSID \_ CWMV9EncMediaObject**. Аналогичным образом некоторые COM-объекты включают несколько декодеров.

Каждый объект кодировщика или декодера предоставляет интерфейс [**имедиаобжект**](/previous-versions/ms785953%28v%3dvs.85%29) , чтобы объект можно было использовать как объект мультимедиа DirectX (DMO) и интерфейс [**имфтрансформ**](/windows/desktop/api/mftransform/nn-mftransform-imftransform) , чтобы объект можно было использовать в качестве Media Foundation преобразования (MFT).

Для большинства кодировщиков независимо от того, используется ли кодировщик в качестве DMO или MFT, для создания экземпляра кодировщика используется один и тот же идентификатор CLSID. Например, чтобы создать экземпляр кодировщика Windows Media Video 9, используйте **CLSID \_ CWMV9EncMediaObject**, независимо от того, планируется ли использовать КОДИРОВЩИК в качестве DMO или MFT. Аналогичным образом для большинства декодеров каждый декодер имеет один CLSID независимо от того, используется ли декодер в качестве DMO или MFT.

> [!Note]  
> Существует несколько исключений предыдущего оператора об использовании одного идентификатора CLSID для объектов DMO и MFT. Например, декодер MPEG-4 Part 2 имеет один CLSID, когда он выступает в роли DMO, и другой CLSID, когда он выступает в качестве MFT.

 

Помимо основных интерфейсов, каждый объект кодировщика или декодера реализует два похожих интерфейса для работы с свойствами кодеков, **ипропертибаг** и **ипропертисторе**. Более старые версии кодировщика и объектов декодера использовали **ипропертибаг**, который определяет каждое свойство по строковому значению, содержащему имя свойства. **Ипропертисторе** — это новый интерфейс, идентифицирующий свойства с уникальным значением ключа свойства. Добавлена поддержка **ипропертисторе** для обеспечения поддержки МФТС. Большинство строк имен свойств **ипропертибаг** имеют соответствующий GUID ключа свойства **ипропертисторе** , а большинство идентификаторов GUID имеют соответствующую строку имени **ипропертибаг** с некоторыми исключениями.

В этой документации перечислены свойства по константе ключа свойства, но каждая запись включает в себя строковую константу имени свойства для использования с **ипропертибаг** , если это уместно.

## <a name="related-topics"></a>См. также

[Кодеки Windows Media](windows-media-codecs.md)
