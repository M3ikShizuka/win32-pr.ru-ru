---
description: Этот класс является родительским для событий сбоя страницы. Следующий синтаксис упрощен из MOF-кода.
ms.assetid: cc349e75-fe81-427e-8cf9-15c76e8e4dad
title: Класс PageFault_V2
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- PageFault_V2
api_type:
- NA
api_location: ''
ms.openlocfilehash: a545e8ae7c5afb000c26d89d9359f620fa7a653d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104984480"
---
# <a name="pagefault_v2-class"></a>\_Класс PageFault v2

Этот класс является родительским для событий сбоя страницы.

Следующий синтаксис упрощен из MOF-кода.

## <a name="syntax"></a>Синтаксис

``` syntax
[Guid("{3d6fa8d3-fe05-11d0-9dda-00c04fd7ba7c}"), EventVersion(2)]
class PageFault_V2 : MSNT_SystemTrace
{
};
```

## <a name="members"></a>Участники

Класс **PageFault \_ v2** не определяет никаких членов.

## <a name="remarks"></a>Примечания

Чтобы включить все события сбоя страниц в сеансе ведения журнала ядра NT, укажите **флаг \_ \_ \_ \_ \_ ошибок страничной памяти флага трассировки событий** в элементе **енаблефлагс** структуры [**\_ \_ свойств трассировки событий**](/windows/win32/api/evntrace/ns-evntrace-event_trace_properties) при вызове функции [**старттраце**](/windows/win32/api/evntrace/nf-evntrace-starttracea) . Можно также указать следующие флаги:

-   **\_ \_ \_ \_ фиксированные сбои памяти для флага трассировки событий \_**
-   **Виртуальный выделенный \_ флаг трассировки событий \_ \_ \_**

Потребители трассировки событий могут реализовать специальную обработку всех событий сбоя страницы, вызвав функцию [**сеттрацекаллбакк**](/windows/win32/api/evntrace/nf-evntrace-settracecallback) и указав [**пажефаултгуид**](nt-kernel-logger-constants.md) в качестве параметра *пгуид* . Используйте следующие типы событий для обнаружения фактического события памяти при использовании событий.



| Тип события                                                     | Описание                                                                                                                                                                                                                                                  |
|----------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| \_Тип трассировки \_ событий \_ mm \_ Cow (значение типа события — 12)<br/> | Событие копирования при записи. Класс [**PageFault \_ TypeGroup1**](pagefault-typegroup1.md) MOF определяет данные события для этого события. До выхода Windows Vista класс [**PageFault \_ транситионфаулт**](pagefault-transitionfault.md) MOF определяет событие.     |
| \_Тип трассировки \_ событий \_ mm \_ Дзф (значение типа события — 11)<br/> | Событие ошибки нулевого требования. Класс [**PageFault \_ TypeGroup1**](pagefault-typegroup1.md) MOF определяет данные события для этого события. До выхода Windows Vista класс [**PageFault \_ транситионфаулт**](pagefault-transitionfault.md) MOF определяет событие. |
| \_Тип трассировки \_ событий \_ mm \_ GPF (значение типа события 13)<br/> | Событие ошибки страницы защиты. Класс [**PageFault \_ TypeGroup1**](pagefault-typegroup1.md) MOF определяет данные события для этого события. До выхода Windows Vista класс [**PageFault \_ транситионфаулт**](pagefault-transitionfault.md) MOF определяет событие.  |
| \_Тип трассировки \_ событий \_ mm \_ ХПФ (значение типа события — 14)<br/> | Событие сбоя страницы. Класс [**PageFault \_ TypeGroup1**](pagefault-typegroup1.md) MOF определяет данные события для этого события. До выхода Windows Vista класс [**PageFault \_ транситионфаулт**](pagefault-transitionfault.md) MOF определяет событие.   |
| \_Тип трассировки \_ событий \_ \_ , mm, (значение типа события — 10)<br/>  | Событие сбоя перехода. Класс [**PageFault \_ TypeGroup1**](pagefault-typegroup1.md) MOF определяет данные события для этого события. До выхода Windows Vista класс [**PageFault \_ транситионфаулт**](pagefault-transitionfault.md) MOF определяет событие.  |
| \_Тип трассировки \_ событий \_ mm \_ AV (значение типа события — 15)<br/>  | Событие нарушения прав доступа. Класс [**PageFault \_ TypeGroup1**](pagefault-typegroup1.md) MOF определяет данные события для этого события.                                                                                                                           |
| Значение типа события, 32                                           | Событие сбоя страницы. Класс [**PageFault \_ хардфаулт**](pagefault-hardfault.md) MOF определяет данные события для этого события.                                                                                                                               |
| Значение типа события, 105                                          | Событие загрузки изображения в файле подкачки. Класс [**PageFault \_ имажелоадбаккед**](pagefault-imageloadbacked.md) MOF определяет данные события для этого события.                                                                                                          |
| Значение типа события, 98                                           | Виртуальное событие выделения. Класс [**VirtualAlloc**](pagefault-virtualalloc.md) MOF определяет данные события для этого события.                                                                                                                                |
| Значение типа события, 99                                           | Виртуальное бесплатное событие. Класс [**VirtualAlloc**](pagefault-virtualalloc.md) MOF определяет данные события для этого события.                                                                                                                                      |



 

Для выявления неисправного процесса или потока можно использовать члены **ProcessID** и **ThreadID** [**\_ \_ заголовка трассировки событий**](/windows/win32/api/evntrace/ns-evntrace-event_trace_header) .

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|------------------------------------------------------|
| Минимальная версия клиента<br/> | Только для \[ классических приложений Windows XP\]<br/>          |
| Минимальная версия сервера<br/> | \[Только для настольных приложений Windows Server 2003\]<br/> |



 

 
