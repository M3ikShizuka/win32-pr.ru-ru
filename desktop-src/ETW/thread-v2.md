---
description: Этот класс является родительским для событий потока. Следующий синтаксис упрощен из MOF-кода.
ms.assetid: 63e52cba-42a5-44f0-8eb6-e1bac8414a83
title: Класс Thread_V2
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- Thread_V2
api_type:
- NA
api_location: ''
ms.openlocfilehash: f28b68a2aac5f2d5293f94ed2bab366d238ae662
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "103910743"
---
# <a name="thread_v2-class"></a>\_Класс Thread v2

Этот класс является родительским для событий потока.

Следующий синтаксис упрощен из MOF-кода.

## <a name="syntax"></a>Синтаксис

``` syntax
[Guid("{3d6fa8d1-fe05-11d0-9dda-00c04fd7ba7c}"), EventVersion(2)]
class Thread_V2 : MSNT_SystemTrace
{
};
```

## <a name="members"></a>Участники

Класс **Thread \_ v2** не определяет никаких членов.

## <a name="remarks"></a>Примечания

Чтобы включить события потока в сеансе ведения журнала ядра NT, укажите **флаг \_ \_ \_ потока флага трассировки событий** в **элементе енаблефлагс** структуры [**\_ \_ свойств трассировки событий**](/windows/win32/api/evntrace/ns-evntrace-event_trace_properties) при вызове функции [**старттраце**](/windows/win32/api/evntrace/nf-evntrace-starttracea) . Можно также указать следующие флаги:

-   **\_ \_ ксвитч флага трассировки событий \_**
-   **\_ \_ Диспетчер флагов трассировки событий \_**

Потребители трассировки событий могут реализовать специальную обработку событий потока, вызвав функцию [**сеттрацекаллбакк**](/windows/win32/api/evntrace/nf-evntrace-settracecallback) и указав [**среадгуид**](nt-kernel-logger-constants.md) в качестве параметра *пгуид* . Используйте следующие типы событий для обнаружения фактического события потока при использовании событий.



| Тип события                                                      | Описание                                                                                                                                                                                                                          |
|-----------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Событие \_ \_ \_ Конец типа трассировки**(значение типа события — 2)<br/>   | Завершающее событие потока. Класс [**MOF \_ \_ TypeGroup1 в потоке версии 2**](thread-v2-typegroup1.md) определяет данные события для этого события.                                                                                                        |
| **Событие \_ \_ \_ Начало трассировки типа**(значение типа события равно 1)<br/> | Событие начала потока. Класс [**MOF \_ \_ TypeGroup1 в потоке версии 2**](thread-v2-typegroup1.md) определяет данные события для этого события.                                                                                                      |
| Значение типа события, 3                                             | Запуск события потока сбора данных. Перечисляет потоки, которые выполняются в данный момент во время запуска сеанса ядра. Класс [**MOF \_ \_ TypeGroup1 в потоке версии 2**](thread-v2-typegroup1.md) определяет данные события для этого события. |
| Значение типа события, 4                                             | Событие потока сбора данных о завершении. Перечисляет потоки, которые выполняются в данный момент в момент завершения сеанса ядра. Класс [**MOF \_ \_ TypeGroup1 в потоке версии 2**](thread-v2-typegroup1.md) определяет данные события для этого события.     |
| Значение типа события, 36                                            | Событие переключения контекста. Класс MOF [**ксвитч**](cswitch.md) определяет данные события для этого события.                                                                                                                                |
| Значение типа события, 50                                            | Готовое событие потока. Класс MOF [**реадисреад**](readythread.md) определяет данные события для этого события.                                                                                                                          |



 

События процесса и запуска потока могут регистрироваться в контексте родительского процесса или потока. В результате элементы **ProcessID** и **ThreadID** [**\_ \_ заголовка трассировки событий**](/windows/win32/api/evntrace/ns-evntrace-event_trace_header) могут не соответствовать создаваемому процессу и потоку. Именно поэтому эти события содержат идентификаторы процесса и потока в данных события (помимо тех, которые находятся в заголовке события).

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|------------------------------------------------------|
| Минимальная версия клиента<br/> | Только для \[ классических приложений Windows Vista\]<br/>       |
| Минимальная версия сервера<br/> | \[Только для настольных приложений Windows Server 2008\]<br/> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[**МСНТ \_ системтраце**](msnt-systemtrace.md)
</dt> <dt>

[**ксвитч**](cswitch.md)
</dt> <dt>

[**Поток**](thread.md)
</dt> <dt>

[**\_TypeGroup1 потока**](thread-typegroup1.md)
</dt> <dt>

[**\_V0 потока**](thread-v0.md)
</dt> <dt>

[**Поток \_ v1**](thread-v1.md)
</dt> </dl>

 

 
