---
description: Класс TcpIp — этот класс является родительским для событий TCP/IP. Следующий синтаксис упрощен из MOF-кода.
ms.assetid: f9d6ea8f-c777-4747-89f4-f389c6eeac35
title: Класс TcpIp
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- TcpIp
api_type:
- NA
api_location: ''
ms.openlocfilehash: abcd805b417451adf2122e7baf3310be101a35ff
ms.sourcegitcommit: 95685061d5b0333bbf9e6ebd208dde8190f97005
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2021
ms.locfileid: "108105732"
---
# <a name="tcpip-class"></a>Класс TcpIp

Этот класс является родительским для событий TCP/IP.

Следующий синтаксис упрощен из MOF-кода.

## <a name="syntax"></a>Синтаксис

``` syntax
[Guid("{9a280ac0-c8e0-11d1-84e2-00c04fb998a2}"), EventVersion(2)]
class TcpIp : MSNT_SystemTrace
{
};
```

## <a name="members"></a>Члены

Класс **TcpIp** не определяет никаких членов.

## <a name="remarks"></a>Remarks

Чтобы включить события TCP/IP в сеансе ведения журнала ядра NT, укажите **флаг \_ отслеживания \_ событий \_ Network \_ tcpip** в элементе **енаблефлагс** структуры [**\_ \_ свойств трассировки событий**](/windows/win32/api/evntrace/ns-evntrace-event_trace_properties) при вызове функции [**старттраце**](/windows/win32/api/evntrace/nf-evntrace-starttracea) .

Потребители трассировки событий могут реализовать специальную обработку событий TCP/IP, вызвав функцию [**сеттрацекаллбакк**](/windows/win32/api/evntrace/nf-evntrace-settracecallback) и указав [**ткпипгуид**](nt-kernel-logger-constants.md) в качестве параметра *пгуид* . Используйте следующие типы событий для обнаружения фактического события сети (TCP/IP) при использовании событий.



| Тип события                                                            | Описание                                                                                                                                                                                   |
|-----------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Событие \_ \_Тип трассировки \_ Accept**(значение типа события — 15)<br/>     | Принять событие для протокола IPv4. Класс [**TcpIp \_ TypeGroup2**](tcpip-typegroup2.md) MOF определяет данные события для этого события.                                                            |
| **Событие \_ \_Тип трассировки \_ Connect**(значение типа события — 12)<br/>    | Событие подключения для протокола IPv4. Класс [**TcpIp \_ TypeGroup2**](tcpip-typegroup2.md) MOF определяет данные события для этого события.                                                           |
| **Событие \_ \_ \_ Отключение типа трассировки**(значение типа события равно 13)<br/> | Событие отсоединения для протокола IPv4. Класс [**TcpIp \_ TypeGroup1**](tcpip-typegroup1.md) MOF определяет данные события для этого события.                                                        |
| **Событие \_ \_ \_ Получение типа трассировки**(значение типа события — 11)<br/>    | Событие получения для протокола IPv4. Класс [**TcpIp \_ TypeGroup1**](tcpip-typegroup1.md) MOF определяет данные события для этого события.                                                           |
| **Событие \_ \_Переподключение \_ типа трассировки**(значение типа события — 16)<br/>  | Событие повторного подключения для протокола IPv4. (Попытка подключения не удалась, выполняется другая попытка.) Класс [**TcpIp \_ TypeGroup1**](tcpip-typegroup1.md) MOF определяет данные события для этого события. |
| **Событие \_ Повторная \_ \_ передача типа трассировки**(значение типа события — 14)<br/> | Повторно передать событие для протокола IPv4. Класс [**TcpIp \_ TypeGroup1**](tcpip-typegroup1.md) MOF определяет данные события для этого события.                                                        |
| **Событие \_ ТРАССИРОВКа \_ типа \_ Send**(значение типа события — 10)<br/>       | Событие отправки для протокола IPv4. Класс [**TcpIp \_ SendIPV4**](tcpip-sendipv4.md) MOF определяет данные события для этого события.                                                                  |
| Значение типа события, 17                                                  | Событие Fail. Класс [**MOF \_ Failed**](tcpip-fail.md) определяет данные события для этого события.                                                                                            |
| Значение типа события, 18                                                  | Событие копирования TCP для протокола IPv4. Класс [**TcpIp \_ TypeGroup1**](tcpip-typegroup1.md) MOF определяет данные события для этого события.                                                          |
| Значение типа события, 26                                                  | Отправка события для протокола IPv6. Класс [**TcpIp \_ SendIPV6**](tcpip-sendipv6.md) MOF определяет данные события для этого события.                                                                  |
| Значение типа события, 27                                                  | Событие получения для протокола IPv6. Класс [**TcpIp \_ TypeGroup3**](tcpip-typegroup3.md) MOF определяет данные события для этого события.                                                           |
| Значение типа события, 28                                                  | Событие подключения для протокола IPv6. Класс [**TcpIp \_ TypeGroup4**](tcpip-typegroup4.md) MOF определяет данные события для этого события.                                                           |
| Значение типа события, 29                                                  | Событие отсоединения для протокола IPv6. Класс [**TcpIp \_ TypeGroup3**](tcpip-typegroup3.md) MOF определяет данные события для этого события.                                                        |
| Значение типа события, 30                                                  | Повторно передать событие для протокола IPv6. Класс [**TcpIp \_ TypeGroup3**](tcpip-typegroup3.md) MOF определяет данные события для этого события.                                                        |
| Значение типа события, 31                                                  | Принять событие для протокола IPv6. Класс [**TcpIp \_ TypeGroup4**](tcpip-typegroup4.md) MOF определяет данные события для этого события.                                                            |
| Значение типа события, 32                                                  | Событие повторного подключения для протокола IPv6. (Попытка подключения не удалась, выполняется другая попытка.) Класс [**TcpIp \_ TypeGroup3**](tcpip-typegroup3.md) MOF определяет данные события для этого события. |
| Значение типа события, 34                                                  | Событие копирования TCP для протокола IPv6. Класс [**TcpIp \_ TypeGroup3**](tcpip-typegroup3.md) MOF определяет данные события для этого события.                                                          |



 

Вы можете отслеживать сетевые события в исходном и целевом процессах, используя свойство **ProcessID** . Так как некоторые сетевые события регистрируются отдельными потоками, вы не сможете использовать члены **ProcessID** и **ThreadID** [**\_ \_ заголовка трассировки событий**](/windows/win32/api/evntrace/ns-evntrace-event_trace_header) для выявления процесса или потока, которые были источником сетевых операций.

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|------------------------------------------------------|
| Минимальная версия клиента<br/> | Только для \[ классических приложений Windows Vista\]<br/>       |
| Минимальная версия сервера<br/> | \[Только для настольных приложений Windows Server 2008\]<br/> |



## <a name="see-also"></a>См. также

<dl> <dt>

[**МСНТ \_ системтраце**](msnt-systemtrace.md)
</dt> <dt>

[**Сбой TCP/IP \_**](tcpip-fail.md)
</dt> <dt>

[**TCP/IP \_ SendIPV4**](tcpip-sendipv4.md)
</dt> <dt>

[**TCP/IP \_ SendIPV6**](tcpip-sendipv6.md)
</dt> <dt>

[**TCP/IP \_ TypeGroup1**](tcpip-typegroup1.md)
</dt> <dt>

[**TCP/IP \_ TypeGroup2**](tcpip-typegroup2.md)
</dt> <dt>

[**TCP/IP \_ TypeGroup3**](tcpip-typegroup3.md)
</dt> <dt>

[**TCP/IP \_ TypeGroup4**](tcpip-typegroup4.md)
</dt> <dt>

[**TCP/IP \_ v0**](tcpip-v0.md)
</dt> <dt>

[**TcpIp \_ v1**](tcpip-v1.md)
</dt> </dl>

 

 
