---
title: Взаимодействие процессов
description: Приложения на основе Win32 можно запускать в 64-разрядной системе Windows с помощью слоя эмуляции. Windows 10 в ARM включает слой эмуляции x86-on-ARM64. Дополнительные сведения см. в разделе Выполнение 32-разрядных приложений.
ms.assetid: a573f26c-7577-4ff0-b314-ae0a33274738
keywords:
- взаимодействие процессов с 64-разрядным программированием для Windows
- совместимость с 64-разрядным программированием Windows
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 023be0dafabfa8b17cf460542ae06467db517c11
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "105700589"
---
# <a name="process-interoperability"></a>Взаимодействие процессов

Приложения на основе Win32 можно запускать в 64-разрядной системе Windows с помощью слоя эмуляции. Windows 10 в ARM включает слой эмуляции x86-on-ARM64. Дополнительные сведения см. в разделе [выполнение 32-разрядных приложений](running-32-bit-applications.md).

В 64-разрядной системе Windows 64-разрядный процесс не может загрузить 32-разрядную библиотеку динамической компоновки (DLL). Кроме того, 32-разрядный процесс не может загрузить 64-разрядную библиотеку DLL. Однако 64-разрядная версия Windows поддерживает удаленные вызовы процедур (RPC) между 64-и 32-разрядными процессами (как на одном компьютере, так и на нескольких компьютерах). В 64-разрядной системе Windows сервер стороннего 32-разрядного COM-сервера может взаимодействовать с 64-разрядным клиентом, а необработанный 64-разрядный сервер COM может взаимодействовать с 32-битным клиентом. Поэтому при наличии 32-разрядной библиотеки DLL, которая не поддерживает модель COM, ее можно заключить в внутрипроцессный сервер COM и использовать COM для маршалирования вызовов и из 64-разрядного процесса.

Внутрипроцессный сервер в настоящее время зарегистрирован с помощью записи реестра **инпроксервер** . На 64-разрядных серверах под управлением Windows, 64 и 32-bit должны использовать запись **InprocServer32** .

Для дескрипторов портов, которые по своей природе являются локальными для компьютера и никогда не будут использоваться между 32-разрядной и 64-разрядной границей, используйте тип **\_ ptr дескриптора** вместо типа данных **int \_ ptr** или **DWORD \_** . Это включает в себя перенос интерфейсов RPC, передающих такие дескрипторы как значения **DWORD** . 64-разрядный **маркер \_** имеет значение 64 бит на канале передачи (не усекается) и поэтому не требует сопоставления. (32-разрядный **маркер \_** имеет значение 32 бит на канале передачи.)

Дополнительные сведения см. в разделе [Разработка интерфейсов, совместимых с 64-bit](designing-64-bit-compatible-interfaces.md).

 

 




