---
title: Виртуальное адресное пространство (руководством по программированию для 64-разрядных Windows)
description: по умолчанию 64-разрядные приложения на основе Microsoft Windows имеют адресное пространство пользовательского режима, равное нескольким терабайтам.
ms.assetid: c5c4af39-727e-46e1-821e-8342c555bf4c
keywords:
- 64-разрядное Windows guide 64-разрядное программирование Windows, виртуальное адресное пространство
- программное пространство виртуального адресного пространства 64-разрядное Windows
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 91e4aa6eb67ebf931d1152b3a1101df2757e899b
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127581299"
---
# <a name="virtual-address-space-programming-guide-for-64-bit-windows"></a>Виртуальное адресное пространство (руководством по программированию для 64-разрядных Windows)

по умолчанию 64-разрядные приложения на основе Microsoft Windows имеют адресное пространство пользовательского режима, равное нескольким терабайтам. точные значения см. в разделе [ограничения памяти для выпусков Windows и Windows Server](/windows/desktop/Memory/memory-limits-for-windows-releases). Однако приложения могут указать, что система должна выделить всю память для приложения, приведенного ниже 2 гигабайта. Эта функция полезна для 64-разрядных приложений, если выполняются следующие условия.

-   Достаточно пространства адресов в 2 ГБ.
-   В коде содержится много предупреждений усечения указателя.
-   Указатели и целые числа могут быть свободно смешанными.
-   В коде имеется полиморфизм, использующий 32-разрядные типы данных.

Все указатели по-прежнему являются 64-битовыми указателями, но система гарантирует, что каждое выделение памяти будет выполняться ниже ограничения в 2 ГБ, поэтому если приложение усекает указатель, существенные данные не теряются. Указатели могут быть усечены до 32-битных значений, затем расширены до 64-разрядных значений с помощью расширения знака или нулевого расширения.

Чтобы указать это ограничение памяти, используйте параметр компоновщика **/LARGEADDRESSAWARE: No** . Обратите внимание, что **/LARGEADDRESSAWARE: No** не учитывается для двоичного файла ARM64. Однако имейте в виду, что при использовании этого параметра могут возникнуть проблемы. Если создается библиотека DLL, использующая этот параметр, а библиотека DLL вызывается приложением, которое не использует этот параметр, то библиотека DLL может усечь 64-разрядный указатель, верхний 32 которого имеет большое значение. Это может привести к сбою приложения без предупреждения.

 

 
