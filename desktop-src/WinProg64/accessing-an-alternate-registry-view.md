---
title: Доступ к альтернативному представлению реестра
description: По умолчанию 32-разрядное приложение, работающее на WOW64, получает доступ к 32-разрядному представлению реестра, а 64-разрядное приложение — к 64-разрядному представлению реестра.
ms.assetid: 2c5fd3de-998c-44ab-863e-8e0e90d56e5d
keywords:
- представления реестра 64-bit Windows программирование
- программное программирование WOW64 64-bit Windows, представления реестра
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1642de971a2342ab26114803689b8de21dd66194618a8db23f97170bc8da576a
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119859084"
---
# <a name="accessing-an-alternate-registry-view"></a>Доступ к альтернативному представлению реестра

По умолчанию 32-разрядное приложение, работающее на WOW64, получает доступ к 32-разрядному представлению реестра, а 64-разрядное приложение — к 64-разрядному представлению реестра. Следующие флаги позволяют 32-разрядным приложениям обращаться к перенаправленным ключам в представлении реестра 64-bit и 64-bit Applications для доступа к перенаправленным ключам в представлении реестра в режиме 32-bit. Эти флаги не влияют на общие разделы реестра. Дополнительные сведения см. в разделе [разделы реестра, затрагиваемые WOW64](shared-registry-keys.md).



| Имя флага         | Значение  | Описание                                                                                                                                                                                                                                       |
|-------------------|--------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| КЛЮЧ \_ WOW64 \_ 64KEY | 0x0100 | Доступ к 64-разрядному ключу из 32-разрядного или 64-разрядного приложения.                                                                                                                                                                                   |
| КЛЮЧ \_ WOW64 \_ 32KEY | 0x0200 | Доступ к 32-разрядному ключу из 32-разрядного или 64-разрядного приложения.<br/>**Windows 10 на ARM:** Это относится к 32-разрядному представлению реестра ARM для процессов с 32-разрядным процессором и с представлением реестра 32-bit x86 для 32-разрядных процессов ARM64 x86 и 64. |



 

Эти флаги можно указать в параметре *самдесиред* следующих функций реестра:

-   [**регкреатекэйекс**](/windows/desktop/api/winreg/nf-winreg-regcreatekeyexa)
-   [**регделетекэйекс**](/windows/desktop/api/winreg/nf-winreg-regdeletekeyexa)
-   [**RegOpenKeyEx**](/windows/desktop/api/winreg/nf-winreg-regopenkeyexa)

\_Можно указать либо ключ WOW64 \_ 32KEY, либо ключ \_ WOW64 \_ 64KEY. Если указаны оба флага, функция завершается ошибкой с \_ недопустимым \_ параметром.

**Windows server 2008, Windows Vista, Windows Server 2003 и Windows XP:** Если указаны оба флага, поведение функции не определено.

Функция [**регделетекэй**](/windows/desktop/api/winreg/nf-winreg-regdeletekeya) не может использоваться для доступа к альтернативному представлению реестра.

Ниже приведены рекомендации по доступу к реестру из приложения.

-   После того как приложение попытается получить доступ к альтернативному представлению реестра с помощью одного из флагов, все последующие операции (создание, удаление или открытие) в дочерних разделах реестра должны явно использовать один и тот же флаг. В противном случае может воздержаться непредвиденное поведение.
-   Чтобы точно перечислить все ключи в обоих представлениях, выполните перечисление в двух проходах. Первый проход должен использовать открытый маркер с одним из флагов, а другой — маркер, Открытый с другим флагом.

> [!Note]  
> Ключи **WOW6432Node** и **WowAA32Node** зарезервированы. В целях совместимости приложения не должны использовать эти ключи напрямую.

 

Сведения о доступе к альтернативному представлению реестра с помощью инструментария WMI см. в разделе [запрос данных WMI на 64-разрядной платформе](/windows/desktop/WmiSdk/requesting-wmi-data-on-a-64-bit-platform).

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Перенаправитель реестра](registry-redirector.md)
</dt> <dt>

[Отражение реестра](registry-reflection.md)
</dt> </dl>

 

