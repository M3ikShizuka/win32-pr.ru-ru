---
title: Сообщения
description: В подразделах этого раздела приведены справочные спецификации по конкретным входным сообщениям указателя и уведомлениям.
ms.assetid: 65F4DCD0-DAE1-4AC2-AB36-23D114803138
ms.topic: article
ms.date: 02/03/2020
ms.openlocfilehash: 076ba9d8b33bf2848d6088c4bac42b60ce9e19646abe5163358f25b063250b9e
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118756956"
---
# <a name="messages"></a>Сообщения

В подразделах этого раздела приведены справочные спецификации по конкретным [входным сообщениям указателя и уведомлениям](messages-and-notifications-portal.md).

## <a name="in-this-section"></a>В этом разделе



<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th>Раздел</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>[<strong>DM_POINTERHITTEST</strong>] (dm-pointerhittest.md)<br/></td>
<td>Отправляется в окно при первом обнаружении входных указателей для определения наиболее вероятного целевого объекта ввода для [непосредственной манипуляции](/previous-versions/windows/desktop/directmanipulation/direct-manipulation-portal). <br/></td>
</tr>
<tr class="even">
<td>[<strong>WM_NCPOINTERDOWN</strong>] (wm-ncpointerdown.md)<br/></td>
<td>Публикуется, когда указатель устанавливает связь с неклиентской областью окна. Сообщение предназначено для окна, для которого указатель устанавливает контакт. Указатель неявно записывается в окно, чтобы окно продолжало принимать входные данные для указателя до тех пор, пока не будет прерван контакт. <br/> Если окно захватило этот указатель, это сообщение не будет отправлено. Вместо этого объект [<strong>WM_POINTERDOWN</strong>] (WM-PointerDown.md) отправляется в окно, которое захватывает этот указатель. <br/>
<blockquote>
[!Important]<br />
Для классических приложений следует учитывать DPI. Если приложение не поддерживает DPI, экранные координаты, содержащиеся в сообщениях указателя и связанных структурах, могут выглядеть неточными из-за виртуализации DPI. Виртуализация DPI обеспечивает автоматическую поддержку масштабирования для приложений, которые не поддерживают DPI и активны по умолчанию (пользователи могут отключить его). Дополнительные сведения см. в статье [написание приложений Win32 с высоким разрешением](/previous-versions//dd464660(v=vs.85)).
</blockquote>
<br/></td>
</tr>
<tr class="odd">
<td>[<strong>WM_NCPOINTERUP</strong>] (wm-ncpointerup.md)<br/></td>
<td>Передается, когда указатель, который был направлен через неклиентскую область окна, прерывает контакт. Сообщение предназначено для окна, на которое указатель устанавливает контакт, и указатель на этот момент неявно записывается в окно, чтобы окно продолжало принимать входные данные для указателя до тех пор, пока не будет прерван контакт, включая уведомление [<strong>WM_NCPOINTERUP</strong>] (WM-ncpointerup.md). <br/> Если окно захватило этот указатель, это сообщение не будет отправлено. Вместо этого объект [<strong>WM_POINTERUP</strong>] (WM-pointerup.md) отправляется в окно, которое захватывает этот указатель. <br/>
<blockquote>
[!Important]<br />
Для классических приложений следует учитывать DPI. Если приложение не поддерживает DPI, экранные координаты, содержащиеся в сообщениях указателя и связанных структурах, могут выглядеть неточными из-за виртуализации DPI. Виртуализация DPI обеспечивает автоматическую поддержку масштабирования для приложений, которые не поддерживают DPI и активны по умолчанию (пользователи могут отключить его). Дополнительные сведения см. в статье [написание приложений Win32 с высоким разрешением](/previous-versions//dd464660(v=vs.85)).
</blockquote>
<br/></td>
</tr>
<tr class="even">
<td>[<strong>WM_NCPOINTERUPDATE</strong>] (wm-ncpointerupdate.md)<br/></td>
<td>Опубликовано для предоставления обновления указателя, который подключается к неклиентской области окна, или когда незахваченный контакт перемещается по неклиентской области окна. При наведении указателя мыши сообщение предназначено для любого окна, над которым происходит указатель. Пока указатель находится в контакте с поверхностью, указатель неявно записывается в окно, над которым указатель сделал контакт, и это окно по---получит входные данные для указателя до тех пор, пока не будет прервано соединение. <br/> Если окно захватило этот указатель, это сообщение не будет отправлено. Вместо этого объект [<strong>WM_POINTERUPDATE</strong>] (WM-pointerupdate.md) отправляется в окно, которое захватывает этот указатель.<br/>
<blockquote>
[!Important]<br />
Для классических приложений следует учитывать DPI. Если приложение не поддерживает DPI, экранные координаты, содержащиеся в сообщениях указателя и связанных структурах, могут выглядеть неточными из-за виртуализации DPI. Виртуализация DPI обеспечивает автоматическую поддержку масштабирования для приложений, которые не поддерживают DPI и активны по умолчанию (пользователи могут отключить его). Дополнительные сведения см. в статье [написание приложений Win32 с высоким разрешением](/previous-versions//dd464660(v=vs.85)).
</blockquote>
<br/></td>
</tr>
<tr class="odd">
<td>[<strong>WM_PARENTNOTIFY</strong>] (wm-parentnotify.md)<br/></td>
<td>Отправляется в окно при возникновении значительных действий в окне-потомке. Теперь это сообщение расширено для включения события [<strong>WM_POINTERDOWN</strong>] (WM-PointerDown.md). При создании дочернего окна система отправляет [<strong>WM_PARENTNOTIFY</strong>] (/превиаус-версионс/Виндовс/десктоп/инпутмсг/ВМ-парентнотифи) непосредственно перед функцией [<strong>CreateWindow</strong>] (/Windows/Win32/API/Winuser/NF-Winuser-createwindowa) или [<strong>CreateWindowEx</strong>] (/Windows/Win32/API/Winuser/NF-Winuser-createwindowexa), которая создает окно. При уничтожении дочернего окна система отправляет сообщение перед любой обработкой, чтобы уничтожить окно.<br/> Окно получает это сообщение с помощью функции [<strong>WindowProc</strong>] (/Previous-Versions/Windows/Desktop/Legacy/ms633573 (v = vs. 85)). <br/>
<blockquote>
[!Important]<br />
Для классических приложений следует учитывать DPI. Если приложение не поддерживает DPI, экранные координаты, содержащиеся в сообщениях указателя и связанных структурах, могут выглядеть неточными из-за виртуализации DPI. Виртуализация DPI обеспечивает автоматическую поддержку масштабирования для приложений, которые не поддерживают DPI и активны по умолчанию (пользователи могут отключить его). Дополнительные сведения см. в статье [написание приложений Win32 с высоким разрешением](/previous-versions//dd464660(v=vs.85)).
</blockquote>
<br/></td>
</tr>
<tr class="even">
<td>[<strong>WM_POINTERACTIVATE</strong>] (wm-pointeractivate.md)<br/></td>
<td>Отправляется в неактивное окно, когда основной указатель создает [<strong>WM_POINTERDOWN</strong>] (WM-PointerDown.md) над окном. Пока сообщение остается необработанным, оно перемещается вверх по цепочке родительских окон, пока не достигнет окна верхнего уровня. Приложения могут отвечать на это сообщение, чтобы указать, нужно ли его активировать.<br/> Окно получает это сообщение с помощью функции [<strong>WindowProc</strong>] (/Previous-Versions/Windows/Desktop/Legacy/ms633573 (v = vs. 85)). <br/></td>
</tr>
<tr class="odd">
<td>[<strong>WM_POINTERCAPTURECHANGED</strong>] (wm-pointercapturechanged.md)<br/></td>
<td>Отправляется в окно, которое теряет захват входного указателя.<br/> Окно получает это сообщение с помощью функции [<strong>WindowProc</strong>] (/Previous-Versions/Windows/Desktop/Legacy/ms633573 (v = vs. 85)).<br/></td>
</tr>
<tr class="even">
<td>[<strong>WM_POINTERDEVICECHANGE</strong>] (wm-pointerdevicechange.md)<br/></td>
<td>Отправляется в окно при изменении параметров монитора, к которому присоединен дигитайзер. Это сообщение содержит сведения о масштабировании режима экрана. <br/></td>
</tr>
<tr class="odd">
<td>[<strong>WM_POINTERDEVICEINRANGE</strong>] (wm-pointerdeviceinrange.md)<br/></td>
<td>Отправляется в окно при обнаружении устройства-указателя в пределах диапазона входного дигитайзера. Это сообщение содержит сведения об устройстве и его сходстве. <br/></td>
</tr>
<tr class="even">
<td>[<strong>WM_POINTERDEVICEOUTOFRANGE</strong>] (wm-pointerdeviceoutofrange.md)<br/></td>
<td>Отправляется в окно, когда устройство-указатель находится в диапазоне входного дигитайзера. Это сообщение содержит сведения об устройстве и его сходстве. <br/></td>
</tr>
<tr class="odd">
<td>[<strong>WM_POINTERDOWN</strong>] (wm-pointerdown.md)<br/></td>
<td>Публикуется, когда указатель устанавливает связь с клиентской областью окна. Это входное сообщение предназначено для окна, для которого указатель устанавливает контакт, и указатель неявно записывается в окно, чтобы окно продолжало принимать входные данные для указателя до тех пор, пока не будет прервано Контактное лицо. <br/> Окно получает это сообщение с помощью функции [<strong>WindowProc</strong>] (/Previous-Versions/Windows/Desktop/Legacy/ms633573 (v = vs. 85)).<br/>
<blockquote>
[!Important]<br />
Для классических приложений следует учитывать DPI. Если приложение не поддерживает DPI, экранные координаты, содержащиеся в сообщениях указателя и связанных структурах, могут выглядеть неточными из-за виртуализации DPI. Виртуализация DPI обеспечивает автоматическую поддержку масштабирования для приложений, которые не поддерживают DPI и активны по умолчанию (пользователи могут отключить его). Дополнительные сведения см. в статье [написание приложений Win32 с высоким разрешением](/previous-versions//dd464660(v=vs.85)).
</blockquote>
<br/></td>
</tr>
<tr class="even">
<td>[<strong>WM_POINTERENTER</strong>] (wm-pointerenter.md)<br/></td>
<td>Отправляется в окно, когда новый указатель попадает в диапазон обнаружения над окном (наведите указатель мыши) или когда существующий указатель перемещается в пределах окна. <br/></td>
</tr>
<tr class="odd">
<td>[<strong>WM_POINTERLEAVE</strong>] (wm-pointerleave.md)<br/></td>
<td>Отправляется в окно, когда указатель выходит за пределы окна (наведение указателя мыши) или когда указатель перемещается за пределы окна. <br/></td>
</tr>
<tr class="even">
<td>[<strong>WM_POINTERROUTEDAWAY</strong>] (wm-pointerroutedaway.md)<br/></td>
<td>Происходит в процессе получения входных данных при наведении указателя мыши на другой процесс.<br/></td>
</tr>
<tr class="odd">
<td>[<strong>WM_POINTERROUTEDRELEASED</strong>] (wm-pointerroutedreleased.md)<br/></td>
<td>Посылается всем процессам (настроенным для межпроцессных цепочек через [<strong>аддконтентвискросспроцессчаининг</strong>] (/Windows/Win32/API/directmanipulation/NF-directmanipulation-idirectmanipulationcompositor2-addcontentwithcrossprocesschaining) и не обрабатывает входные указатели) при получении сообщения [<strong>WM_POINTERUP</strong>] (WM-pointerup.md) в текущем процессе. <br/></td>
</tr>
<tr class="even">
<td>[<strong>WM_POINTERROUTEDTO</strong>] (wm-pointerroutedto.md)<br/></td>
<td>Отправляется при текущем вводе указателя для существующего идентификатора указателя, переходит от одного процесса к другому через содержимое, настроенное для межпроцессных цепочек ([<strong>аддконтентвискросспроцессчаининг</strong>] (/Windows/Win32/API/directmanipulation/NF-directmanipulation-idirectmanipulationcompositor2-addcontentwithcrossprocesschaining)).<br/></td>
</tr>
<tr class="odd">
<td>[<strong>WM_POINTERUP</strong>] (wm-pointerup.md)<br/></td>
<td>Публикуется, когда указатель, который подключается через клиентскую область окна, прерывает контакт. Это входное сообщение предназначено для окна, над которым указатель устанавливает контакт, и указатель на этот момент неявно записывается в окно, чтобы окно продолжало принимать входные сообщения, включая [<strong>WM_POINTERUP</strong>] (WM-pointerup.md), для указателя, пока не будет прервано Контактное лицо. <br/> Окно получает это сообщение с помощью функции [<strong>WindowProc</strong>] (/Previous-Versions/Windows/Desktop/Legacy/ms633573 (v = vs. 85)). <br/>
<blockquote>
[!Important]<br />
Для классических приложений следует учитывать DPI. Если приложение не поддерживает DPI, экранные координаты, содержащиеся в сообщениях указателя и связанных структурах, могут выглядеть неточными из-за виртуализации DPI. Виртуализация DPI обеспечивает автоматическую поддержку масштабирования для приложений, которые не поддерживают DPI и активны по умолчанию (пользователи могут отключить его). Дополнительные сведения см. в статье [написание приложений Win32 с высоким разрешением](/previous-versions//dd464660(v=vs.85)).
</blockquote>
<br/></td>
</tr>
<tr class="even">
<td>[<strong>WM_POINTERUPDATE</strong>] (wm-pointerupdate.md)<br/></td>
<td>Опубликовано для предоставления обновления указателя, который подключается к клиентской области окна или при наведении указателя мыши на незахваченный указатель на клиентскую область окна. При наведении указателя мыши сообщение предназначено для любого окна, над которым происходит указатель. Пока указатель находится в контакте с поверхностью, указатель неявно записывается в окно, над которым указатель сделал контакт, и это окно по---получит входные данные для указателя до тех пор, пока не будет прервано соединение. <br/>
<blockquote>
[!Important]<br />
Для классических приложений следует учитывать DPI. Если приложение не поддерживает DPI, экранные координаты, содержащиеся в сообщениях указателя и связанных структурах, могут выглядеть неточными из-за виртуализации DPI. Виртуализация DPI обеспечивает автоматическую поддержку масштабирования для приложений, которые не поддерживают DPI и активны по умолчанию (пользователи могут отключить его). Дополнительные сведения см. в статье [написание приложений Win32 с высоким разрешением](/previous-versions//dd464660(v=vs.85)).
</blockquote>
<br/></td>
</tr>
<tr class="odd">
<td>[<strong>WM_POINTERWHEEL</strong>] (wm-pointerwheel.md)<br/></td>
<td>Отправляется в окно с фокусом клавиатуры переднего плана при вращении колесика прокрутки. <br/> Окно получает это сообщение с помощью функции [<strong>WindowProc</strong>] (/Previous-Versions/Windows/Desktop/Legacy/ms633573 (v = vs. 85)).<br/>
<blockquote>
[!Important]<br />
Для классических приложений следует учитывать DPI. Если приложение не поддерживает DPI, экранные координаты, содержащиеся в сообщениях указателя и связанных структурах, могут выглядеть неточными из-за виртуализации DPI. Виртуализация DPI обеспечивает автоматическую поддержку масштабирования для приложений, которые не поддерживают DPI и активны по умолчанию (пользователи могут отключить его). Дополнительные сведения см. в статье [написание приложений Win32 с высоким разрешением](/previous-versions//dd464660(v=vs.85)).
</blockquote>
<br/></td>
</tr>
<tr class="even">
<td>[<strong>WM_POINTERHWHEEL</strong>] (wm-pointerhwheel.md)<br/></td>
<td>Передается в окно с фокусом клавиатуры переднего плана при вращении колеса горизонтальной прокрутки. <br/> Окно получает это сообщение с помощью функции [<strong>WindowProc</strong>] (/Previous-Versions/Windows/Desktop/Legacy/ms633573 (v = vs. 85)).<br/>
<blockquote>
[!Important]<br />
Для классических приложений следует учитывать DPI. Если приложение не поддерживает DPI, экранные координаты, содержащиеся в сообщениях указателя и связанных структурах, могут выглядеть неточными из-за виртуализации DPI. Виртуализация DPI обеспечивает автоматическую поддержку масштабирования для приложений, которые не поддерживают DPI и активны по умолчанию (пользователи могут отключить его). Дополнительные сведения см. в статье [написание приложений Win32 с высоким разрешением](/previous-versions//dd464660(v=vs.85)).
</blockquote>
<br/></td>
</tr>
<tr class="odd">
<td>[<strong>WM_TOUCHHITTESTING</strong>] (wm-touchhittesting.md)<br/></td>
<td>Отправляются в окно касанием, чтобы определить наиболее вероятную цель касания. <br/></td>
</tr>
</tbody>
</table>



 

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Ссылка на входящее сообщение указателя](wmpointer-reference.md)
</dt> </dl>

 

