---
description: Каждый журнал в разделе EventLog содержит подразделы, которые называются источниками событий. Источник события — это имя программного обеспечения, записывающего событие в журнал.
ms.assetid: bc7fdc74-be41-4d17-997c-27171ef73f0f
title: Источники событий
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ab2b408b76cdbc6e93e44099fea2842f9655a963
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105662877"
---
# <a name="event-sources"></a>Источники событий

Каждый журнал в [разделе EventLog](eventlog-key.md) содержит подразделы, которые называются *источниками событий*. Источник события — это имя программного обеспечения, записывающего событие в журнал. Часто это имя приложения или имя подкомпонента приложения, если приложение велико. В реестр можно добавить не более 16 384 источников событий. Журнал **безопасности** предназначен только для системного использования. Драйверы устройств должны добавлять свои имена в **системный** журнал. Приложения и службы должны добавлять свои имена в журнал **приложений** или создавать пользовательские журналы.

Структура источников событий выглядит следующим образом:

```
HKEY_LOCAL_MACHINE
   SYSTEM
      CurrentControlSet
         Services
            EventLog
               Application
                  AppName
               Security
               System
                  DriverName
               CustomLog
                  AppName
```

Нельзя использовать имя источника, которое уже использовалось как имя журнала. Кроме того, имена источников не могут быть иерархическими; то есть они не могут содержать символ обратной косой черты (" \\ ").

Каждый источник событий содержит сведения (например, [файл сообщений](message-files.md)), относящиеся к программному обеспечению, которое будет регистрировать события, как показано в следующей таблице.



<table>
<thead>
<tr class="header">
<th>Значение реестра</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>категорикаунт</strong></td>
<td>Число поддерживаемых категорий событий. Это значение имеет тип <strong>REG_DWORD</strong>.</td>
</tr>
<tr class="even">
<td><strong>категоримессажефиле</strong></td>
<td>Путь к файлу сообщения категории. Файл сообщения категории содержит строки, зависящие от языка, которые описывают категории. Это значение может иметь тип <strong>REG_SZ</strong> или <strong>REG_EXPAND_SZ</strong>.</td>
</tr>
<tr class="odd">
<td><strong>евентмессажефиле</strong></td>
<td>Путь к одному или нескольким файлам сообщений о событиях; Используйте точку с запятой для разделения нескольких файлов. Файл сообщений о событиях содержит зависящие от языка строки, описывающие события. Это значение может иметь тип <strong>REG_SZ</strong> или <strong>REG_EXPAND_SZ</strong>.</td>
</tr>
<tr class="even">
<td><strong>параметермессажефиле</strong></td>
<td>Путь к файлу сообщения параметров. Файл сообщения с параметрами содержит не зависящие от языка строки, которые вставляются в строки описания события. Это значение может иметь тип <strong>REG_SZ</strong> или <strong>REG_EXPAND_SZ</strong>.</td>
</tr>
<tr class="odd">
<td><strong>типессуппортед</strong></td>
<td>Битовая маска поддерживаемых типов. Это значение имеет тип <strong>REG_DWORD</strong>. Это может быть одно или несколько из следующих значений: <dl> <strong>EVENTLOG_AUDIT_FAILURE</strong> (0x0010)<br />
<strong>EVENTLOG_AUDIT_SUCCESS</strong> (0x0008)<br />
<strong>EVENTLOG_ERROR_TYPE</strong> (0x0001)<br />
<strong>EVENTLOG_INFORMATION_TYPE</strong> (0x0004)<br />
<strong>EVENTLOG_WARNING_TYPE</strong> (0x0002)<br />
</dl></td>
</tr>
</tbody>
</table>



 

Когда приложение использует функцию [**регистеревентсаурце**](/windows/desktop/api/Winbase/nf-winbase-registereventsourcea) или [**опеневентлог**](/windows/desktop/api/Winbase/nf-winbase-openeventloga) для получения маркера журнала событий, служба ведения журнала событий выполняет поиск указанного источника событий в реестре. Например, журнал **приложений** может содержать источники событий для Microsoft SQL Server и Microsoft Excel. Если приложение использует [**регистеревентсаурце**](/windows/desktop/api/Winbase/nf-winbase-registereventsourcea) или **опеневентлог** с исходным именем приложения, SQL или Excel, служба ведения журнала событий возвращает маркер журнала **приложений** .

Приложение может использовать журнал **приложений** без добавления нового источника событий в реестр. Если приложение вызывает [**регистеревентсаурце**](/windows/desktop/api/Winbase/nf-winbase-registereventsourcea) и передает имя источника, которое не удается найти в реестре, служба ведения журнала событий по умолчанию использует журнал **приложений** . Однако из-за отсутствия файлов сообщений Просмотр событий не может сопоставлять идентификаторы событий или категории событий с строкой описания и выводит сообщение об ошибке. По этой причине необходимо добавить уникальный источник событий в реестр для приложения и указать файл сообщения.

 

 



