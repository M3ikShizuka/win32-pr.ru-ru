---
title: Выбор правильного подхода к Windows Touch
description: В этом разделе описываются различные подходы к использованию Windows Touch, которые можно использовать.
ms.assetid: 983023e4-355b-45ba-8572-d93c460d2ff8
keywords:
- Windows Touch, различные подходы
- Касание Windows, выбор подходов
- Windows Touch, улучшенные приложения
- Windows Touch, поддержка масштабирования
- Windows Touch, поддержка прежних версий
- Windows Touch, подключаемый модуль RealTimeStylus
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 86cdd35b73989541fadd5449efbb3f95d76bfa5d
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "104070380"
---
# <a name="choosing-the-right-approach-to-windows-touch"></a>Выбор правильного подхода к Windows Touch

В этом разделе описываются различные подходы к использованию Windows Touch, которые можно использовать.

Вы можете улучшить приложения с помощью функций касания Windows множеством способов. Прежде чем приступить к работе с методом, следует подумать о том, что нужно сделать с вашим приложением. Следующие сценарии являются типичными для Windows Touch:

-   Приложение должно вести себя так же, как и в устаревших версиях Windows, но должно выполняться единообразное поведение сообщений Windows Touch.
-   Вы хотите, чтобы в приложении была возможность вращения, перевода, панорамирования или масштабирования пользовательского объекта.
-   Вы хотите, чтобы приложение имело точную интерпретацию жестов касания Windows или интерпретировать несколько касаний в приложении, специально оптимизированном для сенсорного ввода Windows.
-   У вас есть приложение, которое использует объект [**RealTimeStylus**](/windows/desktop/api/rtscom/nn-rtscom-irealtimestylus) и желает расширить его с помощью возможностей сенсорного ввода Windows.

## <a name="you-want-your-application-to-behave-as-it-did-in-legacy-versions-of-windows"></a>Приложение должно вести себя так же, как и в устаревших версиях Windows

В Windows 7 приложения по умолчанию создают сообщения, которые включают функции сенсорного ввода Windows. Например, жесты сдвига активируют \_ \* сообщения прокрутки WM. Помимо поддержки Pan, обработчик жестов WM по умолчанию \_ в Windows 7 поддерживает обратную связь, масштаб и нажатие. Обратная связь с границами включена и для устаревшей поддержки. Дополнительные сведения о сопоставлении жестов с сообщениями см. в разделе [Обзор жестов сенсорного ввода Windows](windows-touch-gestures-overview.md) . Разработчикам, желающим только эту базовую функциональность, не нужно напрямую работать с API касания Windows.

> [!Note]  
> Пользовательские обработчики полос прокрутки должны поддерживать запрос **SM \_ сумбпоситион** для сообщений **\_ VSCROLL WM** и должен поддерживать запрос **SB \_ Линелефт** Request и **SB \_ линеригхт** request для сообщений **WM \_ HSCROLL** .

 

-   [Устаревшая поддержка панорамирования с помощью полос прокрутки](legacy-support-for-panning-with-scrollbars.md) объясняет, как обеспечить работу приложения по мере ожидания пользователей в Windows 7.

## <a name="you-want-custom-object-rotation-translation-panning-or-zoom-support"></a>Требуется поддержка смены, перевода, панорамирования и масштаба пользовательского объекта

Если требуется ограниченная поддержка сенсорного ввода, но поведение по умолчанию, предлагаемое Windows 7, не подходит для вашего приложения, можно использовать жесты для улучшения приложения. С помощью жестов можно интерпретировать команды жестов, обрабатывая сообщение [**\_ жеста WM**](wm-gesture.md) . Дополнительные сведения о жестах можно найти в разделе [жесты касания Windows](guide-multi-touch-gestures.md). Если ваше приложение должно поддерживать только повороты с высокой степенью детализации, улучшенную поддержку масштабирования или панорамирование с одним пальцем, жесты — лучший подход к разработке Windows Touch. Помимо интерпретации сообщения жеста, можно включить поддержку отзывов границ. Дополнительные сведения об откликах на границу см. в разделе [обратная связь](boundary-feedback.md) в [справочнике по программированию на сенсорном связи Windows](windows-touch-programming-reference.md). В Windows 7 Командная строка и Internet Explorer используют преимущества отзывов и жестов границ.

-   В разделе [улучшение процесса панорамирования одного пальца](improving-the-single-finger-panning-experience.md) объясняется, как настроить процесс панорамирования, обрабатывая сообщение [**\_ жеста WM**](wm-gesture.md) .

## <a name="you-want-fine-grained-gesture-interpretation-or-custom-handling-of-multiple-touch-points"></a>Требуется точная интерпретация жестов или пользовательская обработка нескольких точек касания

Если требуется еще более конкретное управление жестами, чем оно предлагается сообщением [**\_ жеста WM**](wm-gesture.md) , или необходимо интерпретировать несколько жестов на нескольких объектах, следует использовать обработчик манипуляции. Обработчик манипуляции по сути является надмножеством жестов. Использование обработчика манипуляции требует реализации приемника событий для манипуляций, которые передаются в необработанные сенсорные данные.

Если вы хотите добавить простой объект физику в дополнение к интерпретации жестов, следует использовать процессор инерции вместе с обработчиком манипуляции. Обработчик инерции работает с процессором манипуляции, получая значения скорости от процессора манипуляции после завершения манипуляций.

Если вы хотите интерпретировать несколько точек касания в приложении, следует создать обработчик сообщений для сообщения [**WM \_ Touch**](wm-touchdown.md) .

-   В разделе [входные данные касания Windows](guide-multi-touch-input.md) объясняется, как можно интерпретировать сообщение [**WM \_ Touch**](wm-touchdown.md) .
-   В разделе [Обнаружение и отслеживание нескольких сенсорных точек](detecting-and-tracking-multiple-touch-points.md) показано, как создать простое приложение, которое интерпретирует несколько входов.
-   В разделе [манипуляции и инерции](manipulation-and-inertia.md) объясняется, как обеспечить наиболее гибкий подход к использованию Windows Touch.

## <a name="you-want-to-enable-windows-touch-input-to-an-application-that-uses-the-realtimestylus"></a>Вы хотите включить ввод Windows Touch в приложение, использующее объект RealTimeStylus

Если вы хотите включить входные данные для нескольких контактов на платформе Tablet PC, необходимо реализовать пользовательский подключаемый модуль RealTimeStylus, который интерпретирует данные касания Windows. Корпорация Майкрософт предоставила интерфейсы [**ITablet3**](/windows/desktop/tablet/itablet3) и [**IRealTimeStylus3**](/windows/desktop/api/rtscom/nn-rtscom-irealtimestylus3) , позволяющие вводить данные из нескольких контактов в подключаемом модуле RealTimeStylus. Эти интерфейсы упрощают расширение подключаемых модулей RealTimeStylus для поддержки нескольких точек контакта.

Чтобы проверить, включена ли поддержка нескольких контактов, вызовите [**исмултитауч**](/windows/desktop/tablet/itablet3-ismultitouch). Чтобы проверить число поддерживаемых контактов, вызовите [**жетмаксимумкурсорс**](/windows/desktop/tablet/itablet3-getmaximumcursors). Чтобы включить или отключить поддержку нескольких контактов, вызовите [**мултитаученаблед**](/windows/desktop/api/rtscom/nf-rtscom-irealtimestylus3-get_multitouchenabled).

> [!Note]  
> Если не включить несколько точек контакта в объект RealTimeStylus, вы получите сообщения жестов, такие как Pan и Zoom.

 

## <a name="related-topics"></a>См. также

<dl> <dt>

[Руководство по программированию](programming-guide.md)
</dt> </dl>

 

 