---
title: выбор правильного подхода к Windows касанию
description: в этом разделе описываются различные подходы к Windows технологии касания, которые можно использовать.
ms.assetid: 983023e4-355b-45ba-8572-d93c460d2ff8
keywords:
- Windows Сенсорный ввод, различные подходы
- Windows Касание, выбор подходов
- Windows Сенсорный ввод, улучшенные приложения
- Windows Сенсорный ввод, поддержка масштабирования
- Windows Поддержка поддержки прежних версий
- Windows Сенсорный ввод, подключаемый модуль RealTimeStylus
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 86cdd35b73989541fadd5449efbb3f95d76bfa5d
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127251584"
---
# <a name="choosing-the-right-approach-to-windows-touch"></a>выбор правильного подхода к Windows касанию

в этом разделе описываются различные подходы к Windows технологии касания, которые можно использовать.

вы можете усовершенствовать приложения, используя функции Windows Touch различными способами. Прежде чем приступить к работе с методом, следует подумать о том, что нужно сделать с вашим приложением. для Windowsного касания характерны следующие сценарии:

-   приложение должно вести себя так же, как в устаревших версиях Windows но Windows сенсорных сообщений должны вести себя единообразно.
-   Вы хотите, чтобы в приложении была возможность вращения, перевода, панорамирования или масштабирования пользовательского объекта.
-   вы хотите, чтобы приложение имело точную интерпретацию Windows сенсорных жестов или интерпретировать несколько касаний в приложении, специально оптимизированном для Windows сенсорного ввода.
-   у вас есть приложение, использующее объект [**RealTimeStylus**](/windows/desktop/api/rtscom/nn-rtscom-irealtimestylus) и требующее расширения с помощью Windows сенсорных возможностей.

## <a name="you-want-your-application-to-behave-as-it-did-in-legacy-versions-of-windows"></a>Ваше приложение должно вести себя так же, как в устаревших версиях Windows

в Windows 7 приложения по умолчанию создают сообщения, которые включают функции сенсорного Windows. Например, жесты сдвига активируют \_ \* сообщения прокрутки WM. помимо поддержки pan, обработчик жестов WM по умолчанию \_ в Windows 7 поддерживает обратную связь, масштаб и нажатие. Обратная связь с границами включена и для устаревшей поддержки. дополнительные сведения о сопоставлении жестов с сообщениями см. в [обзоре Windows сенсорные жесты](windows-touch-gestures-overview.md) . разработчикам, желающим только эту базовую функциональность, не нужно напрямую работать с API-интерфейсом Windows Touch.

> [!Note]  
> Пользовательские обработчики полос прокрутки должны поддерживать запрос **SM \_ сумбпоситион** для сообщений **\_ VSCROLL WM** и должен поддерживать запрос **SB \_ Линелефт** Request и **SB \_ линеригхт** request для сообщений **WM \_ HSCROLL** .

 

-   [устаревшая поддержка панорамирования с помощью полос прокрутки](legacy-support-for-panning-with-scrollbars.md) объясняет, как обеспечить работу приложения по мере ожидания пользователей в Windows 7.

## <a name="you-want-custom-object-rotation-translation-panning-or-zoom-support"></a>Требуется поддержка смены, перевода, панорамирования и масштаба пользовательского объекта

если требуется ограниченная поддержка сенсорного ввода, но поведение по умолчанию, Windows 7 предложений, не подходит для вашего приложения, можно использовать жесты для улучшения приложения. С помощью жестов можно интерпретировать команды жестов, обрабатывая сообщение [**\_ жеста WM**](wm-gesture.md) . дополнительные сведения о жестах можно найти в разделе [Windows сенсорные жесты](guide-multi-touch-gestures.md). если ваше приложение должно поддерживать только повороты с высокой степенью детализации, улучшенную поддержку масштабирования или панорамирование с одним пальцем, жесты — лучший подход к Windowsной разработке. Помимо интерпретации сообщения жеста, можно включить поддержку отзывов границ. дополнительные сведения об обратной связи см. в разделе [обратная связь](boundary-feedback.md) в [Windows справочнике по программированию касания](windows-touch-programming-reference.md). в Windows 7 командная строка и Internet Explorer используют преимущества отзывов и жестов границ.

-   В разделе [улучшение процесса панорамирования одного пальца](improving-the-single-finger-panning-experience.md) объясняется, как настроить процесс панорамирования, обрабатывая сообщение [**\_ жеста WM**](wm-gesture.md) .

## <a name="you-want-fine-grained-gesture-interpretation-or-custom-handling-of-multiple-touch-points"></a>Требуется точная интерпретация жестов или пользовательская обработка нескольких точек касания

Если требуется еще более конкретное управление жестами, чем оно предлагается сообщением [**\_ жеста WM**](wm-gesture.md) , или необходимо интерпретировать несколько жестов на нескольких объектах, следует использовать обработчик манипуляции. Обработчик манипуляции по сути является надмножеством жестов. Использование обработчика манипуляции требует реализации приемника событий для манипуляций, которые передаются в необработанные сенсорные данные.

Если вы хотите добавить простой объект физику в дополнение к интерпретации жестов, следует использовать процессор инерции вместе с обработчиком манипуляции. Обработчик инерции работает с процессором манипуляции, получая значения скорости от процессора манипуляции после завершения манипуляций.

Если вы хотите интерпретировать несколько точек касания в приложении, следует создать обработчик сообщений для сообщения [**WM \_ Touch**](wm-touchdown.md) .

-   в разделе [Windows сенсорный ввод](guide-multi-touch-input.md) объясняется, как можно интерпретировать [**сообщение \_ WM Touch**](wm-touchdown.md) .
-   В разделе [Обнаружение и отслеживание нескольких сенсорных точек](detecting-and-tracking-multiple-touch-points.md) показано, как создать простое приложение, которое интерпретирует несколько входов.
-   в разделе [манипуляции и инерции](manipulation-and-inertia.md) объясняется, как обеспечить наиболее гибкий подход к Windows касанию.

## <a name="you-want-to-enable-windows-touch-input-to-an-application-that-uses-the-realtimestylus"></a>вы хотите включить Windows сенсорный ввод для приложения, использующего объект RealTimeStylus.

если вы хотите включить входные данные для нескольких контактов на платформе Tablet PC, необходимо реализовать пользовательский подключаемый модуль RealTimeStylus, который интерпретирует Windowsные сенсорные данные. Корпорация Майкрософт предоставила интерфейсы [**ITablet3**](/windows/desktop/tablet/itablet3) и [**IRealTimeStylus3**](/windows/desktop/api/rtscom/nn-rtscom-irealtimestylus3) , позволяющие вводить данные из нескольких контактов в подключаемом модуле RealTimeStylus. Эти интерфейсы упрощают расширение подключаемых модулей RealTimeStylus для поддержки нескольких точек контакта.

Чтобы проверить, включена ли поддержка нескольких контактов, вызовите [**исмултитауч**](/windows/desktop/tablet/itablet3-ismultitouch). Чтобы проверить число поддерживаемых контактов, вызовите [**жетмаксимумкурсорс**](/windows/desktop/tablet/itablet3-getmaximumcursors). Чтобы включить или отключить поддержку нескольких контактов, вызовите [**мултитаученаблед**](/windows/desktop/api/rtscom/nf-rtscom-irealtimestylus3-get_multitouchenabled).

> [!Note]  
> Если не включить несколько точек контакта в объект RealTimeStylus, вы получите сообщения жестов, такие как Pan и Zoom.

 

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Руководство по программированию](programming-guide.md)
</dt> </dl>

 

 