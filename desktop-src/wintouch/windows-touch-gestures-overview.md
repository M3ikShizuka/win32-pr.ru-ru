---
title: Общие сведения о сенсорных жестах Windows
description: В этом разделе описываются различные жесты, поддерживаемые Windows Touch.
ms.assetid: b2fa11a7-9abb-4149-96e3-e8c663c29d4a
keywords:
- Касание Windows, жесты
- жесты, сведения
- Windows Touch, поддержка прежних версий
- жесты, поддержка прежних версий
ms.topic: article
ms.date: 02/18/2020
ms.openlocfilehash: 2290477aa8b26e937fe6d5f300ed1fea32872f5d
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "104070294"
---
# <a name="windows-touch-gestures-overview"></a>Общие сведения о сенсорных жестах Windows

В этом разделе описываются различные жесты, поддерживаемые Windows Touch.

## <a name="gestures-overview"></a>Общие сведения о жестах

Windows Touch поддерживает несколько жестов, поддерживающих один и несколько контактов. На следующем рисунке показаны различные жесты, поддерживаемые в Windows 7.

![Иллюстрация, на которой показаны жесты, поддерживаемые Windows Touch в Windows 7](images/gestures.png)

> [!Note]  
> Некоторые распознаватели более надежны при интерпретации жестов с несколькими контактами, когда контакты находятся дальше друг от друга.

## <a name="legacy-support"></a>Поддержка прежних версий

Для поддержки прежних версий обработчик жестов по умолчанию сопоставляет некоторые жесты с сообщениями Windows, которые использовались в предыдущих версиях Windows. В следующей таблице показано, как жесты сопоставляются с устаревшими сообщениями.

| Жест        | Описание  | Создано сообщений:              |
|----------------|----------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|
| Сдвиг            | Жест панорамирования сопоставляется с помощью колесика прокрутки.                  | **WM_VSCROLL**<br/> **WM_HSCROLL**<br/>       |
| Нажатие и удержание | Жесты нажатия и удерживания для щелчка правой кнопкой мыши.     | **WM_RBUTTONDOWN**<br/> **WM_RBUTTONUP**<br/> |
| Масштабирование           | Жест масштабирования активирует сообщения, аналогичные нажатию клавиши CTRL, и вращает колесико мыши для прокрутки. | **WM_MOUSEWHEEL** с **MK_CONTROL** Set в *lParam* |

## <a name="interpreting-windows-touch-gestures"></a>Интерпретация жестов касания Windows

Разработчики приложений могут интерпретировать жесты касания Windows, обрабатывая сообщение [**WM_GESTURE**](wm-gesture.md) из функции WndProc приложения. После обработки этого сообщения можно получить структуру [**GESTUREINFO**](/windows/win32/api/winuser/ns-winuser-gestureinfo) , описывающую жест. Структура **GESTUREINFO** будет содержать сведения о ассортименте, которые зависят от типа жеста.

Структура [**GESTUREINFO**](/windows/win32/api/winuser/ns-winuser-gestureinfo) извлекается путем передачи маркера в структуру сведений о жесте в функцию [**жетжестуреинфо**](/windows/desktop/api/winuser/nf-winuser-getgestureinfo) .

Следующие флаги указывают различные состояния жестов и хранятся в *dwFlags*. 

| Имя        | Значение      | Описание                      |
|-------------|------------|----------------------------------|
| GF_BEGIN   | 0x00000001 | Запускается жест.           |
| GF_INERTIA | 0x00000002 | Жест инициировал инерцию. |
| GF_END     | 0x00000004 | Жест завершен.          |

> [!Note]  
> Большинство приложений должны игнорировать **GID_BEGIN** и **GID_END** и передать их в [дефвиндовпрок](/windows/win32/api/winuser/nf-winuser-defwindowproca). Эти сообщения используются обработчиком жестов по умолчанию. Поведение приложения не определено, если сообщения **GID_BEGIN** и **GID_END** используются сторонними приложениями.

В следующей таблице указаны различные идентификаторы для жестов. 

| Имя              | Значение | Описание                 |
|-------------------|-------|-----------------------------|
| GID_BEGIN        | 1     | Запускается жест.      |
| GID_END          | 2     | Завершается жест.        |
| GID_ZOOM         | 3     | Жест масштабирования.           |
| GID_PAN          | 4     | Жест панорамирования.            |
| GID_ROTATE       | 5     | Жест поворота.       |
| GID_TWOFINGERTAP | 6     | Жест касания с двумя пальцами. |
| GID_PRESSANDTAP  | 7     | Жест нажатия и касания.  |

> [!Note]  
> У жеста **GID_PAN** есть встроенная инерция. В конце жеста сдвига операционная система создает дополнительные сообщения жестов панорамирования.

Члены структуры [**GESTUREINFO**](/windows/win32/api/winuser/ns-winuser-gestureinfo) **птслокатион** и **улларгументс** указывают точку (с помощью структуры **точек** ) и дополнительные сведения о жестах в зависимости от жеста. В следующей таблице перечислены значения, связанные с каждым типом жеста.

| Идентификатор жеста            | *улларгументс*                  | *птслокатион*                       |
|-----------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------|
| **GID_ZOOM**         | Указывает расстояние между двумя точками.            | Указывает центр масштабирования.   |
| **GID_PAN**          | Указывает расстояние между двумя точками.            | Указывает текущее расположение панорамы.                    |
| **GID_ROTATE**       | Указывает угол поворота, если установлен флаг **GF_BEGIN** . В противном случае это изменение угла с момента начала вращения. Это подписывается для обозначения направления вращения. Для получения и задания значения угла Используйте макросы [**GID_ROTATE_ANGLE_FROM_ARGUMENT**](/windows/desktop/api/winuser/nf-winuser-gid_rotate_angle_from_argument) и [**GID_ROTATE_ANGLE_TO_ARGUMENT**](/windows/desktop/api/winuser/nf-winuser-gid_rotate_angle_to_argument) . | Указывает центр вращения, который является стационарной точкой, вокруг которой вращается целевой объект. |
| **GID_TWOFINGERTAP** | Указывает расстояние между двумя пальцами.           | Указывает центр двух пальцев.                      |
| **GID_PRESSANDTAP**  | Указывает разницу между первым пальцем и вторым пальцем. Это значение хранится в структуре **Point** в младших 32 битах элемента *улларгументс* .                        | Указывает, на какой должности поступает первый палец.   |

## <a name="related-topics"></a>См. также

[Сенсорные жесты Windows](guide-multi-touch-gestures.md)