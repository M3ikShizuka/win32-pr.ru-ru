---
title: Лучшие средства и методы для создания более надежных игр Windows
description: В этой статье описываются средства и методы, которые можно использовать для сокращения числа получаемых звонков в службу поддержки.
ms.assetid: ad3d100c-4f87-f1e4-3242-8b2052ba171d
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c76b49c228af6a932c453b11e92f612d3419a4af
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "104487993"
---
# <a name="top-tools-and-techniques-for-making-more-robust-windows-games"></a>Лучшие средства и методы для создания более надежных игр Windows

Одной из наиболее нежелательных затрат на производство игр является обращение в службу поддержки. Каждый раз, когда пользователь обращается в службу поддержки клиентов, уменьшается прибыль от игры. Хотя некоторые вызовы службы поддержки клиентов не препятствуют устранению, другие можно устранять или уменьшать, применяя хорошие методики разработки. В этой статье описываются средства и методы, которые можно использовать для сокращения числа получаемых звонков в службу поддержки.

Все описанные здесь средства являются бесплатными, и методы достаточно просты для добавления в большинство методов разработки.

Средства и методы:

-   [PREfast](#prefast)
-   [AppVerifier](#appverifier)
-   [Набор средств для обеспечения совместимости приложений Microsoft](#microsoft-application-compatibility-toolkit)
-   [Тестирование защиты учетной записи пользователя](#user-account-protection-testing)
-   [PIX для Windows](#pix-for-windows)
-   [Обнаружение конфигурации](#configuration-detection)
-   [Включить полные предупреждения компилятора](#enable-full-compiler-warnings)
-   [Сервер символов Майкрософт](#microsoft-symbol-server)
-   [Отчеты об ошибках Windows](#windows-error-reporting)
-   [Средства настройки производительности](#performance-tuning-tools)
-   [Сводка](#summary)

## <a name="prefast"></a>PREfast

Быстрый запуск драйверов — это средство, предлагаемое корпорацией Майкрософт, которое анализирует пути выполнения в скомпилированном C или C++ для поиска ошибок времени выполнения. Предбыстрый запуск осуществляется путем работы с всеми путями выполнения во всех функциях и оценки каждого пути для проблем. Хотя это средство обычно используется для разработки драйверов и другого кода ядра, оно может помочь разработчикам сэкономить время, устраняя некоторые ошибки, которые трудно найти или которые игнорируются компилятором. Использование предварительной версии — это отличный способ снизить нагрузку на пост-выпуск и затраты на поддержку.

Предварительная версия поставляется с Visual Studio Team System и в составе [комплекта драйверов для Windows](https://www.microsoft.com/whdc/devtools/WDK/). Дополнительные сведения о предвысокой скорости см. в разделе [Быстрый поиск драйверов](https://www.microsoft.com/whdc/devtools/tools/PREfast.mspx).

## <a name="appverifier"></a>AppVerifier

Microsoft средство проверки приложений или AppVerifier — это средство, которое может помочь инженерам-испытателям, предоставляя несколько функций в одном средстве. AppVerifier был разработан, чтобы упростить тестирование распространенных ошибок программирования. AppVerifier может проверять параметры, передаваемые в вызовы API, вставлять ошибочные входные данные для проверки возможности обработки ошибок и записывать изменения в реестр и файловую систему. AppVerifier также может обнаруживать переполнения буфера в куче, проверять, правильно ли определен список управления доступом (ACL) и обеспечивать безопасность использования API-интерфейсов сокетов.

Хотя это и не является исчерпывающим, AppVerifier может быть еще одним компонентом панели элементов инженера-тестировщика, чтобы помочь среде разработки выпускать качественный продукт и снизить расходы на их выпуск.

Дополнительные сведения о средство проверки приложений см. в статье [средство проверки приложений](/previous-versions/ms220948(v=vs.80)) и [использование средство проверки приложений в жизненном цикле разработки программного обеспечения](/previous-versions/aa480483(v=msdn.10)) на сайте MSDN. Вы можете скачать средство проверки приложений из [сведений о скачивании: средство проверки приложений](https://www.microsoft.com/download/details.aspx?id=20028) в центре загрузки Майкрософт.

Также доступен аналогичный инструмент для драйверов, средство проверки драйверов. Дополнительные сведения см. в статье [Использование средства проверки драйверов для выявления проблем с драйверами Windows для опытных пользователей](https://support.microsoft.com/Default.aspx?kbid=244617) в службе справки и поддержки Майкрософт.

## <a name="microsoft-application-compatibility-toolkit"></a>Набор средств для обеспечения совместимости приложений Microsoft

Набор средств для обеспечения совместимости приложений Майкрософт — это набор бесплатных средств, помогающих разработчикам быстро проверить, как выпуски будут выполняться на новых пакетах обновления для Microsoft Windows. Когда вы будете готовы к новым пакетам обновления, разработчики могут предотвратить или приступить к проблемам.

Набор средств для обеспечения совместимости приложений и дополнительные сведения можно найти на странице [совместимость приложений Windows](https://www.microsoft.com/technet/prodtechnol/windows/appcompatibility/default.mspx).

## <a name="user-account-protection-testing"></a>Тестирование защиты учетной записи пользователя

Windows Vista и Windows 7 имеют два основных типа учетных записей пользователей: стандартные пользователи и Администраторы. Стандартные учетные записи пользователей являются предпочтительным типом для всех пользователей, так как они снижают риск повреждения системы вредоносными приложениями. Так как стандартный пользователь имеет ограничения доступа, например, не может записывать данные в папку Program Files или в Раздел HKEY на \_ локальном \_ компьютере (HKLM) в реестре, важно, чтобы игры были разработаны и протестированы для работы с учетной записью обычного пользователя.

Дополнительные сведения об этом разделе можно найти в статье [исправление игр в Windows XP, Windows Vista и Windows 7](./patching-methods-in-windows-xp-and-vista.md) и [Управление учетными записями пользователей для разработчиков игр](./user-account-control-for-game-developers.md).

## <a name="pix-for-windows"></a>PIX для Windows

PIX — это средство для сбора и анализа сведений о производительности из работающего приложения. PIX может собирать статистические данные о том, почему некоторые кадры визуализируются медленнее, чем другие, и могут обнаруживать плохое использование API. Кроме того, PIX можно автоматизировать, чтобы протестировать ежедневную сборку и отметить непредвиденные изменения в производительности приложения. Использование PIX в различных конфигурациях оборудования позволяет специалистам по тестированию и разработчикам сократить количество обращений в службу поддержки, относящихся к производительности игры.

## <a name="configuration-detection"></a>Обнаружение конфигурации

Возможности устройств, предоставляемые драйверами, не всегда верны. Одним из решений является использование системы, управляемой базой данных, для настройки приложений, например системы, показанной в образце Конфигсистем, которая входит в состав пакета SDK для DirectX. Модель обнаружения, похожая на систему в примере, может помочь определить возможности устройства, которые снижают производительность игры, и, таким образом, сократить количество обращений в службу поддержки о производительности.

## <a name="enable-full-compiler-warnings"></a>Включить полные предупреждения компилятора

Рекомендуется восстановить все предупреждения компилятора, которые были отключены с помощью **\# pragma warning** после того, как проект станет стабильным. Разработчикам следует попытаться устранить все предупреждения перед выпуском продукта. Даже если предупреждение не вызывает сбой или ошибку в системе разработчика, это может привести к возникновению проблемы в системе пользователя. Если предупреждение не может быть устранено, команда тестирования должна проверить, приводит ли предупреждение к небольшому числу ошибок в системе пользователя.

## <a name="microsoft-symbol-server"></a>Сервер символов Майкрософт

Корпорация Майкрософт предоставляет доступный в Интернете сервер, предоставляющий файлы символов для операционных систем Microsoft Windows, а также другие продукты Майкрософт. Кроме того, на сервере доступны символы для текущих бета-версий и кандидатов на выпуски продуктов Windows, а также исправления и пакеты обновления. Можно настроить отладчик для загрузки символов по мере необходимости во время сеанса отладки, вместо того чтобы загружать файлы символов отдельно перед сеансом отладки. Символы загружаются в указанное расположение каталога, и отладчик загружает их из него.

Дополнительные сведения о сервере символов Майкрософт см. в разделе [средства отладки и символы: Начало работы](https://www.microsoft.com/whdc/devtools/debugging/debugstart.mspx).

## <a name="windows-error-reporting"></a>Отчеты об ошибках Windows

Отчеты об ошибках Windows (WER) — это служба, предоставляемая корпорацией Майкрософт, которая помогает разработчикам получать сведения об ошибках из приложений в унифицированной и упорядоченной форме. Хотя это совершенно добровольное, разработчики должны воспользоваться преимуществами этой службы, чтобы определить, какие ошибки происходят чаще всего. Использование WER помогает в отладке часто встречающихся проблем, что поможет устранить вызовы поддержки для наиболее Commons Attribution ошибок.

Дополнительные сведения об WER см. в разделе [анализ аварийного дампа](./crash-dump-analysis.md).

## <a name="performance-tuning-tools"></a>Средства настройки производительности

Разработчики могут использовать анализаторы производительности для настройки производительности игры. Помимо PIX, существует ряд популярных анализаторов производительности для Windows, таких как [анализатор производительности Intel VTune](https://software.intel.com/intel-vtune/) и [анализатор производительности AMD кодеаналист](https://developer.amd.com/cpu/CodeAnalyst/). Эти средства помогают выявить узкие места и решить, как повысить общую производительность приложения. Повышение узких мест производительности до выпуска позволит снизить затраты на пост-выпуск.

## <a name="summary"></a>Сводка

Все, кто участвует в проектировании, разработке и тестировании, должны учитывать, как его работа повлияет на стоимость продукта после выпуска. Используя упомянутые выше средства и методы в рабочем процессе, можно уменьшить объем обращений в службу поддержки. Это, в свою очередь, повлечет за собой увеличение прибыли за счет снижения затрат на пост-выпуск при разработке игр.

 

 