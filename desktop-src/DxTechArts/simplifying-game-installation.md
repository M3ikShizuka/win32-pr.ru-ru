---
title: Упрощение установки игр
description: В этой статье описываются некоторые концепции, которые могут и должны быть реализованы разработчиками игр для Windows, чтобы улучшить общий опыт.
ms.assetid: 356780b7-801d-c6dd-a266-6272bcb8bd36
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8728eb2c9c53a99673ee742a5c961b91e37abed6
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "104338433"
---
# <a name="simplifying-game-installation"></a>Упрощение установки игр

Одним из основных преимуществ игр, которые работают на консоли, а не в Windows, является процесс установки или недостаток. При первом запуске игры на консоли игрок создает несколько вариантов или подтверждений и может начать играть практически сразу же. Установка игры в Windows более сложная, чем сравнением, что требует значительных пользовательских данных и потенциально длительного процесса установки. Однако этот процесс установки можно улучшить, чтобы обеспечить лучшую работу для игроков в играх на основе Windows. В этой статье описываются некоторые концепции, которые могут и должны быть реализованы разработчиками игр для Windows, чтобы улучшить общий опыт.

-   [Типичная установка игр](#typical-game-installation)
-   [Упрощенная установка игр](#simplified-game-installation)
    -   [Задавайте все вопросы заранее](#ask-all-questions-up-front)
    -   [Предоставление специальных режимов установки](#provide-special-installation-modes)
    -   [Сократите количество вопросов по установке](#minimize-the-quantity-of-installation-questions)
    -   [Изменение дополнительных компонентов на обязательные компоненты](#change-optional-components-into-required-components)
    -   [Всегда устанавливать DirectX и делать это автоматически](#always-install-directx-and-do-so-silently)
    -   [Подумайте о вашем лицензионном соглашении](#think-about-your-eula)
    -   [Автоматически запускать после установки](#automatically-launch-after-installation)
    -   [Оптимизация производительности установки](#optimize-your-installation-performance)
    -   [Регистрация в брандмауэре Windows во время установки](#register-with-windows-firewall-during-installation)
    -   [Установить для всех пользователей, а не только для текущего пользователя](#install-for-all-users-not-just-the-current-user)
-   [Пример упрощенной установки](#example-of-simplified-installation)
-   [Сводка](#summary)

## <a name="typical-game-installation"></a>Типичная установка игр

При сравнении простоты установки и времени, необходимого для начала игры, типичный интерфейс Xbox гораздо лучше, чем Windows. В блоковой диаграмме на рис. 1 показаны типичные процессы установки в Xbox и Windows для сравнения.

**Рис. 1. Типичный процесс установки, Xbox или Windows**

![Xbox \- и \- ПК](images/pcvsconsoleinstall.png)

## <a name="simplified-game-installation"></a>Упрощенная установка игр

Тем не менее, дополнительные требования, которые пользователь должен установить для игры в Windows, не обязательно должны быть. Реализуя следующие основные понятия, вы уменьшите число шагов, которое должен выполнить пользователь, что может сократить время, необходимое для установки.

### <a name="ask-all-questions-up-front"></a>Задавайте все вопросы заранее

Все варианты выбора, которые игроки выбирают во время установки, могут вызвать аварийное завершение установки, прежде чем они не останавливают установку; наихудший случай заключается в том, что игрокам предлагается выбрать вариант, который может привести к прерыванию установки после полного копирования игры с установочного носителя. Это может быть особенно неприятной, если для установки требуется переключить несколько дисков. Необходимо разработать установщик так, чтобы он запросил все важные вопросы (например, принятие лицензионного соглашения) в начале процесса, чтобы не нужно было выполнить откат установки в процессе или рядом с его завершением.

Можно также предложить пользователю принять условия лицензионного соглашения и ввести ключ продукта при первом запуске игры, а не запрашивать их в процессе установки. В этом случае отказывается принять условия лицензионного соглашения или отмены во время ввода ключа продукта, поэтому установка не будет отменена, так как эти запросы являются частью самой игры. Это может быть полезно при наличии предварительно установленных или OEM-сценариев. Однако не следует запрашивать у пользователя возможность выбора во время начального запуска, требующего учетных данных администратора.

### <a name="provide-special-installation-modes"></a>Предоставление специальных режимов установки

В идеале, установщики игр Windows предлагают только полностью автоматические и пользовательские режимы установки, а не между ними.

В автоматическом режиме не следует задавать дополнительные вопросы, чем необходимо для создания работающей установки, и просто использовать параметры по умолчанию без запроса других параметров. Многие игроки не интересуются расположением игры на жестком диске или начальными параметрами игры — они просто хотят как можно быстрее играть в игру.

Пользовательский режим должен быть только опытным пользователям, которым требуется или нужно изменить путь установки или другие параметры установки, и он не должен быть режимом по умолчанию.

В пользовательском режиме можно выбрать либо полную установку, либо минимальную установку, которая устанавливает только файлы, необходимые для воспроизведения игры. Если игроки выбирают минимальную установку, игра может использовать методы установки по запросу или потоковой передачи для чтения оставшихся данных установки, что позволяет играть быстро начать игру, не дожидаясь завершения полной установки. Однако установка данных таким способом влияет на архитектуру игрового ядра. Дополнительные сведения об установке содержимого по запросу см. [в статье Установка по запросу для игр](/windows/desktop/DxTechArts/install-on-demand-for-games).

### <a name="minimize-the-quantity-of-installation-questions"></a>Сократите количество вопросов по установке

В обоих режимах установки следует попытаться ограничить количество случаев, когда во время установки будет предлагаться несколько игроков. Это снизит объем чтения, необходимый для установки и запуска игры. При необходимости после завершения установки должен быть только один запрос к исполнению. Как видите, пример, показанный на рис. 1, содержит слишком много запросов после установки.

### <a name="change-optional-components-into-required-components"></a>Изменение дополнительных компонентов на обязательные компоненты

Необходимо установить все необходимые компоненты, а не делать их необязательными, если нет веских причин для выполнения других задач. Просто установка всех компонентов приведет к запуску игры без задержки и спокойной.

### <a name="always-install-directx-and-do-so-silently"></a>Всегда устанавливать DirectX и делать это автоматически

Настоятельно рекомендуется, чтобы игра автоматически устанавливала распространяемый пакет DirectX, для которого была создана игра. Процесс установки DirectX разработан таким образом, что он проверяет, нужно ли обновлять и быстро возвращать, если это не так. Поэтому нет необходимости спрашивать пользователей, если они хотят установить DirectX. Автоматическая установка DirectX можно выполнить, выполнив следующую команду из установочного пакета: **dxsetup.exe/Silent**

Запрос пользователю на установку DirectX может вызвать множество проблем. Например, если пользователь считает, что он имеет последнюю версию установленного распространяемого пакета, и выбирает пропуск установки DirectX; Установка игры в любом случае может продолжаться успешно. Однако если для игры требуется определенная версия D3DX или другие обновленные функции, которые были пропущены, игра не будет работать, и пользователь будет очень разочарован.

Если по какой-либо причине необходимо попросить пользователя установить DirectX, установщик должен (по крайней мере) прерывать и откатить весь процесс установки, если пользователь решил не устанавливать DirectX. Откат установки позволит избежать ошибок, вызванных тем, что в системе не установлена последняя версия DirectX при запуске игры.

Обратите внимание, что важно поставлять распространяемый пакет, для которого была создана игра, вместо того, чтобы отгрузить распространяемый пакет от новейшего пакета DirectX SDK. Последний распространяемый пакет может не содержать все компоненты, найденные в предыдущей версии.

Также важно, чтобы установщик проверит, что уже установлено, и определить, требуется ли перезагрузка системы. Если DirectX обновлен, копирование одной библиотеки DLL не должно требовать перезагрузки.

### <a name="think-about-your-eula"></a>Подумайте о вашем лицензионном соглашении

Лицензионное соглашение DirectX может и должно быть добавлено к лицензионному соглашению для разработчиков игр. Нет никакой точки, позволяющей пользователю согласиться с лицензионным соглашением разработчика, а не с лицензионным соглашением DirectX. Либо пользователь должен согласиться с условиями лицензионного соглашения, либо не устанавливать игру. Если разработчик полагает, что он должен предоставить пользователю выбор, то при установке не следует отвечать на все установки, если пользователь решил не согласиться с лицензионным соглашением DirectX.

Если возможно, проконсультируйтесь с юридическим отделом, чтобы узнать, можно ли избежать каких-либо условий лицензионного соглашения и использовать лицензионное соглашение, такое как использование консолей консоли. Это позволит избежать необходимости спрашивать пользователей, если они хотят принять условия лицензионного соглашения. Лицензионное соглашение DirectX должно быть добавлено к лицензионному соглашению с переносом. в противном случае лицензионное соглашение DirectX должно быть отображено и принято, что не нарушает цель использования лицензионного соглашения с сжатием.

Одним из исключений лицензионного соглашения с сжатием по словам является редактор содержимого. Любой редактор должен отображать лицензионное соглашение во время установки редактора или при первом запуске редактора. Многие игроки заинтересованы в воспроизведении, а не в содержимом, поэтому установка редактора должна быть отдельным процессом.

### <a name="automatically-launch-after-installation"></a>Автоматически запускать после установки

Почти все игроки хотят играть в игру сразу же после их получения. По умолчанию установщик должен запустить игру после завершения установки, хотя рекомендуется в выборочной установке установить этот флажок, чтобы указать, что пользователь может переопределить.

### <a name="optimize-your-installation-performance"></a>Оптимизация производительности установки

Разработчики должны проверить свои установки, чтобы определить, сколько времени требуется для установки. Разработчики могут уменьшить время установки, используя последнюю версию средств установки и оптимизируя структуру данных на установочном носителе. Большинство средств разработки DVD-дисков имеют параметры для оптимизации макета, которые могут улучшить время установки без увеличения рабочей нагрузки разработки.

### <a name="register-with-windows-firewall-during-installation"></a>Регистрация в брандмауэре Windows во время установки

Если ваша игра может работать в качестве сервера или модель сетевой сети является одноранговой, зарегистрируйте игру в брандмауэре Windows во время установки. Это предотвратит появление диалогового окна брандмауэра в середине игры, когда пользователь пытается получить доступ к сети. Если игра является чистым клиентом, то установщик не должен добавлять игру в список исключений брандмауэра.

Дополнительные сведения см. в разделе Брандмауэр Windows для разработчиков игр.

### <a name="install-for-all-users-not-just-the-current-user"></a>Установить для всех пользователей, а не только для текущего пользователя

По умолчанию устанавливается игра для всех пользователей. Это позволит любому новому пользователю в системе играть игру, не устанавливая ее для них. Если при установке для всех пользователей предпринимается попыток установить учетную запись пользователя Least-Privileged, то установщик завершится сбоем или запросит у пользователя пароль администратора. Поэтому попробуйте определить, имеет ли учетная запись необходимые привилегии, прежде чем предлагать возможность установки для всех пользователей. Если пользователь выбирает установку игры только для текущего пользователя, не забудьте изменить путь установки на расположение в профиле пользователя. В идеале следует изменить путь на где-либо в неперемещаемых данных приложения (например, на подкаталог CSID \_ Local \_ AppData).

## <a name="example-of-simplified-installation"></a>Пример упрощенной установки

На рис. 2 приведен пример улучшенного процесса установки игры в Windows с упрощенными диалоговыми окнами установки.

**Рис. 2. Упрощенный процесс установки**

![Установка](images/simplifiedgameinstall.png)

Обратите внимание на следующие важные моменты.

-   Установщик автоматически запускается при вставке установочного диска (автоматический запуск).
-   Экран-заставка — с параметрами для установки, удаления, просмотра или выхода — не отображается, если игра еще не установлена на компьютере.
-   Диалоговое окно **установки** — это первое диалоговое окно, отображаемое установщиком.
-   Кнопка **установить** является реализацией режима автоматической установки.
-   Кнопка **Параметры** является реализацией пользовательского режима установки.
-   Кнопка **Отмена** немедленно выполнит выход из установщика. Поскольку запуск установщика является тривиальным действием для пользователя, не запрашивать подтверждение.
-   После того как пользователь примет условия лицензионного соглашения и введет действительный ключ продукта, начнется установка.
-   По завершении процесса установки игра запускается автоматически или отображает диалоговое окно, которое предупреждает пользователя о завершении установки и предлагает дополнительные параметры в зависимости от того, была ли выбрана **Запуск игры после установки** .
-   Флажок **запустить игру** предоставляет еще одну шанс запустить игру для удобства. Этот параметр всегда не выбран по умолчанию, так как диалоговое окно **завершения установки** может отображаться только в том случае, если в диалоговом окне " **Параметры установки** " был снят флажок **запустить игру после установки** .
-   Кнопка **ОК** закрывает диалоговое окно, при необходимости предпринимая действия по **запуску** и **просмотру** флажков readme.

## <a name="summary"></a>Сводка

Игроки хотят как можно быстрее играть в игру. Последнее, что необходимо сделать для игр, — это продирание с помощью диалоговых окон и выбора того же варианта, что и для всех остальных игр, на которых он установлен. Реализация этих идей может сократить время, затрачиваемое игроками на установку игры в Windows, и улучшить общее качество работы игр Windows.

 

 