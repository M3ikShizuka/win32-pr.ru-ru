---
title: Советы и рекомендации в отношении технических требований к играм для Windows XP, Windows Vista, Windows 7 и Windows 8
description: В этой статье приводятся технические требования и рекомендации для игр, работающих в Windows.
ms.assetid: 8b816e9f-de68-cf84-1501-a9c36c6b75d8
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 60c7a0f52685b0b99247ebfd86af3727d834ca63
ms.sourcegitcommit: b32433cc0394159c7263809ae67615ab5792d40d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/30/2021
ms.locfileid: "113120309"
---
# <a name="games-for-windows-technical-requirements-best-practices-for-games-on-windows-xp-windows-vista-windows-7-and-windows-8"></a>Игры для технических требований Windows: рекомендации по работе с играми в Windows XP, Windows Vista, Windows 7 и Windows 8

В этой статье приводятся технические требования и рекомендации для игр, работающих в Windows. Мы написали эти технические требования и рекомендации в основном для охвата Windows Vista и Windows 7, а также устаревшей операционной системы Windows XP. Эти рекомендации также обычно применяются к классическим играм Win32 в Windows 8.

В этой статье содержатся следующие разделы:

-   [Различия в Windows 8](#differences-for-windows-8)
    -   [Дополнительная информация](#additional-information)
-   [Игры для Windows](#games-for-windows-technical-requirements-best-practices-for-games-on-windows-xp-windows-vista-windows-7-and-windows-8)
    -   [1,1. Интеграция обозревателя игр](#11-games-explorer-integration)
    -   [1,2. Поддержка семейной безопасности и родительского контроля](/windows)
    -   [1,3 поддержка полнофункциональных сохраненных игр](#13-support-rich-saved-games)
    -   [1,4. Поддержка общего контроллера Xbox 360 для \[ условного требования Windows\]](#14-support-the-xbox-360-common-controller-for-windows-conditional-requirement)
    -   [1,5 поддержка нескольких пропорций и разрешений](#15-support-multiple-aspect-ratios-and-resolutions)
    -   [1,6. Поддержка запуска из Windows Media Center](#16-support-launch-from-windows-media-center)
    -   [1,7 поддержка Direct3D](#17-direct3d-support)
    -   [1,8. Включение высокого разрешения](#18-enable-high-dpi-aware)
-   [Безопасность и совместимость](#security-and-compatibility)
    -   [2,1 Следуйте рекомендациям по контролю учетных записей пользователей](#21-follow-user-account-control-guidelines)
    -   [2,2. Поддержка 64-разрядных версий Windows](#22-support-windows-x64-versions)
    -   [2,3. входные файлы](#23-sign-files)
    -   [2,4. подписывать драйверы](#24-sign-drivers)
    -   [2,5. выполнение проверки правильности версий](#25-perform-proper-version-checking)
    -   [2,6 Поддержка параллельных сеансов пользователей](#26-support-concurrent-user-sessions)
    -   [2,7. Поддержка длинных имен](#27-support-long-names)
-   [Установка](#32-support-user-account-control-for-installation)
    -   [3,1. поддержка быстрой установки](#31-support-easy-installation)
    -   [3,2. Поддержка контроля учетных записей пользователей для установки](#32-support-user-account-control-for-installation)
    -   [3,3. Установка для исправления папок](#33-install-to-correct-folders)
    -   [3,4. Установка ресурсов Windows надлежащим образом](#34-install-windows-resources-properly)
    -   [3,5. Предотвращение перезагрузки во время установки](#35-avoid-reboots-during-installation)
    -   [3,6. правильное использование управления версиями файлов](#36-use-file-versioning-correctly)
    -   [3,7 поддержка \[ условного требования автозапуска\]](#37-support-autorun-conditional-requirement)
-   [Надежность](#reliability)
    -   [4,1. Устраните ненужные перезагрузки](#41-eliminate-unnecessary-reboots)
    -   [4,2 Устранение сбоев средство проверки приложений](#42-eliminate-application-verifier-failures)
    -   [4,3 поддержка отчеты об ошибках Windows и сведения о версии файла](#43-support-windows-error-reporting-and-file-version-information)
-   [Стандартный контроллер Xbox 360 для терминологии Windows](#xbox-360-common-controller-for-windows-terminology)
-   [Рекомендации по промежуточному программному обеспечению](#guidelines-for-game-middleware-products)
    -   [Введение](#introduction)
    -   [Дополнительные рекомендации](#additional-recommendations)
    -   [Игры для демонстрации Windows](#games-for-windows-showcases)
-   [Ресурсы](#resources)

## <a name="differences-for-windows-8"></a>Различия в Windows 8

Ниже приведена сводка основных отличий при применении этих технических требований и рекомендаций к Windows 8.

<dl> <dt>

<span id="The_Games_Explorer_UI_is_not_visible"></span><span id="the_games_explorer_ui_is_not_visible"></span><span id="THE_GAMES_EXPLORER_UI_IS_NOT_VISIBLE"></span>**Пользовательский интерфейс обозревателя игр недоступен**
</dt> <dd>

Все игры, регистрируемые с помощью [обозревателя игр](/previous-versions/windows/desktop/legacy/hh437965(v=vs.85)) , отображаются в виде плиток в новом пользовательском интерфейсе Windows, но большая часть метаданных, связанных с названием, больше не видна. Вы по-прежнему используете средство студии файла определения игр (GDFMAKER.EXE), которое теперь доступно в пакете средств разработки программного обеспечения (SDK) для Windows, для создания метаданных. Вы также используете существующие механизмы для развертывания метаданных. Продолжайте протестировать регистрацию обозревателя игр с помощью Windows 7 и убедитесь, что новая плитка пользовательского интерфейса Windows отображается при установке в Windows 8 (см. раздел [Интеграция обозревателя игр 1,1](#11-games-explorer-integration)).

Чтобы скачать пакет SDK для Windows 8, см. раздел [Downloads for Разработка классических приложений](https://msdn.microsoft.com/windows/desktop/aa904949).

</dd> <dt>

<span id="Registration_with_the_Game_Explorer_APIs_continues_to_be_the_mechanism_for_registering_your_game_with_Windows_Parental_Controls"></span><span id="registration_with_the_game_explorer_apis_continues_to_be_the_mechanism_for_registering_your_game_with_windows_parental_controls"></span><span id="REGISTRATION_WITH_THE_GAME_EXPLORER_APIS_CONTINUES_TO_BE_THE_MECHANISM_FOR_REGISTERING_YOUR_GAME_WITH_WINDOWS_PARENTAL_CONTROLS"></span>**Регистрация с помощью API Game Explorer — это механизм регистрации игр с помощью функции родительского контроля Windows.**
</dt> <dd>

Рекомендуется запустить Windows SDK версию ГДФМАКЕР в выпущенной версии Windows 8, чтобы гарантировать, что она сможет заполнить все поддерживаемые системы оценки.

> [!Note]  
> Для этой версии ГДФМАКЕР требуется .NET 4,0.

 

См. раздел [Поддержка безопасности и родительский контроль семейства поддержки 1,2](/windows).

</dd> <dt>

<span id="There_are_now_three_choices_for_using_the_XINPUT_API_depending_on_your_requirements"></span><span id="there_are_now_three_choices_for_using_the_xinput_api_depending_on_your_requirements"></span><span id="THERE_ARE_NOW_THREE_CHOICES_FOR_USING_THE_XINPUT_API_DEPENDING_ON_YOUR_REQUIREMENTS"></span>**Сейчас есть три варианта использования API КСИНПУТ в зависимости от ваших требований.**
</dt> <dd>

КСИНПУТ 1,4 встроена в Windows 8. Приложения для Магазина Windows и классические приложения Win32 могут использовать КСИНПУТ 1,4. Все версии Windows могут использовать КСИНПУТ 9.1.0 для упрощенных распространенных контроллеров, но пакет распространения с КСИНПУТ 9.1.0 не существует. Все версии Windows также могут использовать существующий пакет SDK DirectX версии КСИНПУТ 1,3, который требует развертывания Директсетуп.

См. раздел [1,4 поддержка общего контроллера Xbox 360 для Windows](#14-support-the-xbox-360-common-controller-for-windows-conditional-requirement).

</dd> <dt>

<span id="Only_a_limited_set_of_desktop_Win32_apps_are_supported_on_"></span><span id="only_a_limited_set_of_desktop_win32_apps_are_supported_on_"></span><span id="ONLY_A_LIMITED_SET_OF_DESKTOP_WIN32_APPS_ARE_SUPPORTED_ON_"></span>**В Windows RT поддерживается только ограниченный набор приложений Win32 для настольных систем**
</dt> <dd>

Игры, работающие в Windows 7, могут и должны правильно работать на платформах Windows 8 x86 и x64.

См. [2,2 Поддержка 64-разрядных версий Windows](#22-support-windows-x64-versions).

</dd> <dt>

<span id="Ensure_any_OS_checks_are_done_correctly"></span><span id="ensure_any_os_checks_are_done_correctly"></span><span id="ENSURE_ANY_OS_CHECKS_ARE_DONE_CORRECTLY"></span>**Убедитесь, что все проверки ОС выполняются правильно.**
</dt> <dd>

Версия ОС Windows 8 — 6,2. Windows 8 передает текущие минимальные тесты, которые мы рекомендуем использовать для развертывания игр.

</dd> <dt>

<span id="The__DirectX_End-User_Redistribution__package_runs_successfully_on_Windows_8__as_it_does_on_Windows_7__to_deploy_D3DX9__D3DX10__D3DX11__XINPUT_1.3__XAUDIO_2.7__XACTEngine__and_so_on"></span><span id="the__directx_end-user_redistribution__package_runs_successfully_on_windows_8__as_it_does_on_windows_7__to_deploy_d3dx9__d3dx10__d3dx11__xinput_1.3__xaudio_2.7__xactengine__and_so_on"></span><span id="THE__DIRECTX_END-USER_REDISTRIBUTION__PACKAGE_RUNS_SUCCESSFULLY_ON_WINDOWS_8__AS_IT_DOES_ON_WINDOWS_7__TO_DEPLOY_D3DX9__D3DX10__D3DX11__XINPUT_1.3__XAUDIO_2.7__XACTENGINE__AND_SO_ON"></span>**Пакет повторного распространения DirectX End-User успешно запускается в Windows 8, как и в Windows 7, для развертывания D3DX9, D3DX10, D3DX11, КСИНПУТ 1,3, КСАУДИО 2,7, Ксактенгине и т. д.**
</dt> <dd>

Но существует известная ошибка с Директсетуп в системах с установленным только .NET 4,0 из-за обработки развертывания устаревших сборок DirectX 1,1. Эта проблема относится как к Windows 8, которая поставляется с .NET 4,5 по умолчанию, так и к обновленным компьютерам Windows XP с установленной средой выполнения .NET 4,0. Но эта проблема не относится к любой версии .NET до .NET 4,0. Хотя Windows 8 обладает поведением совместимости приложений для автоматического устранения этой проблемы (для чего требуется сетевой доступ), рекомендуется, чтобы игры, которые продолжают развертывать обновление Директсетуп в пакете SDK DirectX (Июнь 2010), обновили версию РАСПРОСТРАНЯЕМых файлов. Как всегда, если вы используете Директсетуп в качестве заголовка, Сократите заголовок до минимального необходимого набора CAB.

См. статью [3,4. Установка ресурсов Windows правильно](#34-install-windows-resources-properly).

</dd> <dt>

<span id="Games_that_require_the_.NET__2.0__compatible_runtime__2.0__3.0__3.5__continue_to_use_existing_deployment_mechanisms"></span><span id="games_that_require_the_.net__2.0__compatible_runtime__2.0__3.0__3.5__continue_to_use_existing_deployment_mechanisms"></span><span id="GAMES_THAT_REQUIRE_THE_.NET__2.0__COMPATIBLE_RUNTIME__2.0__3.0__3.5__CONTINUE_TO_USE_EXISTING_DEPLOYMENT_MECHANISMS"></span>**Игры, для которых требуется совместимая с .NET 2,0 среда выполнения (2,0, 3,0, 3,5), продолжают использовать существующие механизмы развертывания.**
</dt> <dd>

Эти игры активируют поведение совместимости приложений в Windows 8 для автоматического включения среды выполнения .NET 3,5 (что требует сетевого доступа). Но мы рекомендуем разработчикам .NET перемещаться в среду выполнения .NET 4,0.

> [!Note]  
> Устаревшие управляемые сборки DirectX 1,1 несовместимы со средой выполнения .NET 4. x.

 

См. статью [3,4. Установка ресурсов Windows правильно](#34-install-windows-resources-properly).

</dd> <dt>

<span id="Use_of_an__autorunner__or_other_pre-install_technology_that_relies_on_.NET_is_not_recommended"></span><span id="use_of_an__autorunner__or_other_pre-install_technology_that_relies_on_.net_is_not_recommended"></span><span id="USE_OF_AN__AUTORUNNER__OR_OTHER_PRE-INSTALL_TECHNOLOGY_THAT_RELIES_ON_.NET_IS_NOT_RECOMMENDED"></span>**Не рекомендуется использовать средство автозапуска или другие предварительно установленные технологии, основанные на .NET.**
</dt> <dd>

Вы можете предположить, что в Windows Vista и Windows 7 имеются только совместимые с .NET 2,0 среды выполнения (2,0, 3,0, 3,5). По умолчанию в Windows 8 имеется только совместимая среда выполнения .NET 4,0.

См. раздел [Поддержка автозапуска в 3,7](#37-support-autorun-conditional-requirement).

</dd> <dt>

<span id="There_is_an_updated_Application_Verifier_for_Windows_8"></span><span id="there_is_an_updated_application_verifier_for_windows_8"></span><span id="THERE_IS_AN_UPDATED_APPLICATION_VERIFIER_FOR_WINDOWS_8"></span>**Обновленная средство проверки приложений для Windows 8**
</dt> <dd>

Пакет SDK для Windows 8 включает этот обновленный средство проверки приложений.

См. раздел [4,2 Устранение сбоев средство проверки приложений](#42-eliminate-application-verifier-failures).

</dd> </dl>

### <a name="additional-information"></a>Дополнительные сведения

<dl>

[Совместимость с Windows 8 и Windows Server 2012 Cookbook](/windows/desktop/w8cookbook/windows-8-and-windows-server-8-compatibility-cookbook-portal)  
[Где находится пакет SDK для DirectX?](/windows/desktop/directx-sdk--august-2009-)  
</dl>

## <a name="games-for-windows"></a>Игры для Windows

**Общие сведения о требованиях к играм**

**Преимущества для клиентов**

Компьютерные игры — это основные возможности для развлечений в Windows, но проблемы с простотой использования привели к тому, что клиенты будут разочарованы в течение нескольких лет. Обычно игры устанавливаются как приложения, но они используются более похоже на развлекательный мультимедиа (например, фильмы или песни). Инновации, такие как Обозреватель игр, предоставляют играм единообразный способ, отличный от стандартных приложений. Эти нововведения также предоставляют играм первый класс в Windows вместе с музыкой и изображениями. Следующие требования помогают гарантировать, что Windows Vista и Windows 7 предоставляют улучшенную, более доступную и единую среду игр. В то же время они обеспечивают совместимость с Windows XP.

### <a name="11-games-explorer-integration"></a>1,1. Интеграция обозревателя игр

<dl> <dt>

<span id="Requirement"></span><span id="requirement"></span><span id="REQUIREMENT"></span>**Требуются**
</dt> <dd>

Игра должна быть видима в обозревателе игр (папка « **игры** ») в Windows Vista и Windows 7. Если этот флажок установлен, игра также должна отображать правильные метаданные, включая издателя, разработчика, дату выпуска, версию, оценки индекса производительности Windows, оценку (если применимо) и связанные гиперссылки.

Если игра выполняется в цифровом режиме через Интернет-игру, поставщик услуг также должен отображаться в обозревателе игр. Чтобы обеспечить правильную обработку поставщика и включить использование RSS-каналов, следует использовать версию 2 схемы для файлов определения игры (Гдфс). (Дополнительные сведения о Гдфс см. в разделе Дополнительные сведения.)

Кроме того, при запуске в Windows Vista и Windows 7 установщики игр должны соблюдать следующие правила:

-   Установка не должна создавать ярлыки для запуска игры на рабочем столе, в меню "Пуск" или в любом другом расположении.
-   Не следует создавать задачи и ярлыки для удаления.
-   Пользователи должны иметь возможность удалить игру с помощью компонента "программы и компоненты" панели управления в Windows Vista и Windows 7 или компонента "Установка и удаление программ" в панели управления в Windows XP.

В Windows XP и в предыдущих версиях Windows установщик игр может создавать группы программ, значки рабочего стола или ярлыки по мере необходимости.

</dd> <dt>

<span id="Rationale"></span><span id="rationale"></span><span id="RATIONALE"></span>**Обоснование**
</dt> <dd>

Обозреватель игр Windows похож на концепцию папок « **Мои документы** » и « **Мои рисунки**» в Windows XP. Идея состоит в том, чтобы централизовать аналогичное содержимое в одном месте и обеспечить более простые и контекстные действия. Обозреватель игр расширяет концепцию " **Мои документы** " или " **Мои рисунки** ", предоставляя более широкие возможности Организации и контроля над играми. Обозреватель игр позволяет играм просматривать, упорядочивать и взаимодействовать со всеми играми, установленными на их системах. Он также позволяет издателям игр более эффективно обмениваться важными сведениями о игре. Система управляется данными, что позволяет издателю игр обновлять сведения о игре в течение жизненного цикла продукта.

</dd> <dt>

<span id="Additional_Information"></span><span id="additional_information"></span><span id="ADDITIONAL_INFORMATION"></span>**Дополнительные сведения**
</dt> <dd>

Интеграция с обозревателем игр требует создания файла определения игры (ГДФ), который представляет собой текстовый XML-файл, внедренный в двоичный файл (исполняемый файл или DLL) в качестве ресурса вместе со значком Windows. После этого игра должна быть зарегистрирована в обозревателе игр. ГДФ также позволяет раскрытие предоставленной информации, такой как название игры, издатель, разработчик, ссылки на веб-сайты и необязательные задачи. Обратите внимание, что задачи поддержки могут быть только ссылками на веб-сайты, но задачи воспроизведения можно использовать и для дополнительных задач поддержки.

Обозреватель игр может использовать растровое изображение эскиза, но рекомендуется вместо этого указать ресурс значка Windows с большими значками (256 256). Ресурс значка должен включать размеры изображений 256 256 48 48, 32 32 и 16 16 в 24-разрядных (True Color) и 8-битных (256) цветах. Редактор значков, предоставляемый в Visual Studio 2008 и 2010, поддерживает такие форматы крупных значков, как и Иконворкшоп Lite.

Сведения об интеграции с **проводником игр Windows** приведены в пакете DirectX SDK. Пакет SDK для DirectX включает редактор файла определения игры (ГДФ), а также пример ГДФ, включенный в Гдфексамплебинари — пример. Другой пример, Гамеуксинсталлхелпер, предоставляет подпрограммы для интеграции требуемых функций в существующие системы установки. Проверяющий элемент управления "файл определения игр" (gdftrace.exe) обеспечивает поддержку отладки для оценки ГДФ. См. также раздел "интеграция проводника игр Windows" в документации по пакету SDK DirectX для C++.

В Windows 7 появилась поддержка второй версии схемы для файлов ГДФ. Новая версия включает упрощенный способ создания задач воспроизведения и поддержки уведомлений об обновлениях, поставщиков услуг игры, статистики игры и RSS-каналов для поставщиков услуг игры. Последняя версия Гамеуксинсталлхелпер обрабатывает всю регистрацию и поддержку устаревших версий, необходимую для использования файла ГДФ версии 2 с Windows Vista. Используйте средства и примеры кода из пакета SDK DirectX с 2009 августа или более поздней версии. Рекомендуется использовать файл ГДФ версии 2, чтобы обеспечить поддержку RSS-каналов, статистики игр и уведомлений об обновлениях. См. также примеры Провидергдфексамплебинари и Гаместатистиксексампле.

В Windows Vista Business Edition, Windows 7 Профессиональная Edition и Enterprise Edition как Windows Vista, так и Windows 7, ссылка "игры" в меню "Пуск" скрыта. Обозреватель игр по-прежнему доступен в меню Пуск, если щелкнуть **все программы**, а затем выбрать **игры**.

Для связанных приложений, установленных вместе с игрой, но не для игр, вы можете создавать группы программ меню «Пуск», ярлыки и значки рабочего стола во всех версиях Windows, включая Windows Vista и Windows 7. Такие связанные приложения должны передавать соответствующие игры для требований Windows. Дополнительные сведения см. в разделе [рекомендации по программному обеспечению для игр](#guidelines-for-game-middleware-products). Игровым службам рекомендуется зарегистрироваться в обозревателе игр как поставщик игр для Windows 7. 1

</dd> </dl>

### <a name="12-support-family-safety--parental-controls"></a>1,2. Поддержка семейной безопасности и родительского контроля

<dl> <dt>

<span id="Requirement"></span><span id="requirement"></span><span id="REQUIREMENT"></span>**Требуются**
</dt> <dd>

Игры должны полностью поддерживать безопасность семейства Windows, применяя следующие правила.

-   Игры не должны требовать от пользователя наличия учетных данных администратора для воспроизведения. Для установки, исправления и удаления могут потребоваться учетные данные администратора в соответствии с требованиями, описанными в разделе 3. (Связанное с этим требованием 2,1, следуйте рекомендациям по контролю учетных записей пользователей.)
-   Игры, оцененные с помощью поддерживаемых Windows плат оценки, таких как ЕСРБ и ПЕГИ, должны включать свои назначенные сведения о рейтингах в файл определения игры (ГДФ). Все доступные данные рейтинга должны включаться в каждую локализованную версию ГДФ, а также в версию, не зависящую от языка.
-   Игры должны перечислять свои исполняемые файлы в ГДФ, чтобы обеспечить удобство работы пользователей для общих ограничений приложений, если в игре не используется технология борьбы с пиратством, которая создает исполняемые файлы с произвольным именем во время выполнения.
-   Игры должны вызвать метод **VerifyAccess** интерфейса обозревателя игр во время запуска, если он доступен, и выйти, если он возвращает \* пфхасакцесс как false.

</dd> <dt>

<span id="Rationale"></span><span id="rationale"></span><span id="RATIONALE"></span>**Обоснование**
</dt> <dd>

Все игры должны выполняться в контексте учетной записи обычного пользователя, чтобы разрешить учетным записям, управляемым с помощью родительского контроля Windows, играть игру. Родители хотят отслеживать и контролировать доступ детей к играм. Более того, многочисленные группы отраслей, правительственных учреждений и представительства хотят лучше разрешать родителям отслеживать и контролировать игры, к которым открываются их дети. В сочетании с архитектурой, предлагаемой обозревателем игр, корпорация Майкрософт предоставляет родителям эту возможность с помощью родительского контроля Windows.

Даже для игр, которые не участвуют в программе оценки, необходимость повышенных привилегий создает низкое качество воспроизведения для большинства учетных записей пользователей. Это особенно важно в том случае, если родительский контроль включен, что потребует от родительского входа вводить пароль администратора при каждом запуске игры.

Система родительского контроля Windows позволяет родителям выбирать оценки, которые они считают подходящими для своих детей. Родительский контроль поддерживает многие системы оценок в разных странах мира. Родительский контроль также позволяет родителям ограничивать доступ к играм на основе дескрипторов содержимого (если соответствующая система оценки поддерживает их) и разрешает или запрещает доступ к отдельным играм.

Выбор системы оценок по умолчанию для родительского контроля Windows основан на параметрах национальной настройки системы, но может быть изменен пользователем в окне «Язык **и региональные стандарты** **» панели управления**. Таким образом, каждый поддерживаемый язык должен предоставлять все доступные данные рейтинга, чтобы пользователь предоставил свободу выбора любой доски оценки.

</dd> <dt>

<span id="Additional_Information"></span><span id="additional_information"></span><span id="ADDITIONAL_INFORMATION"></span>**Дополнительные сведения**
</dt> <dd>

Игры без оценки должны по-прежнему соответствовать требованиям к поддержке Play в качестве обычного пользователя и вызывать **VerifyAccess**. В таких играх по умолчанию используется категория категории без оценки, в обозревателе игр отображается текст "не указана оценка" и действуют **ограничения игры** в **родительских элементах управления** для игр без категорий. Значение **ограничений** по умолчанию — Allow.

Сведения о рейтинге в ГДФ будут пропущены, если содержащий их двоичный файл не подписан должным образом с помощью Authenticode. См. требование 2,3.

Редактор файлов определения игр в пакете SDK DirectX включает все поддерживаемые системы оценок и правильно реплицирует эти сведения во все локализованные версии ГДФ, а также на языке, не зависящем от языка. Средство Гдфтраце декодирует и проверяет все имеющиеся сведения об оценках. Используйте эти средства в качестве версии 2009 августа или более поздних версий.

ГДФ для поставщика игр, как правило, не содержит сведений о рейтинге и подчиняется параметрам для содержимого без оценки.



<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th>Операционная система</th>
<th>Поддерживаемые системы оценок</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Windows Vista</td>
<td><ul>
<li>ЦЕРО (Япония)</li>
<li>ЕСРБ (США)</li>
<li>ОФЛК (Австралия)</li>
<li>ПЕГИ (Европа)</li>
<li>ПЕГИ Финляндия (не рекомендуется)</li>
<li>ПЕГИ Португалия</li>
<li>ПЕГИ/ББФК (Великобритания)</li>
<li>УСК (Германия)</li>
</ul></td>
</tr>
<tr class="even">
<td>Windows Vista с пакетом обновления</td>
<td>В пакетах обновления для Windows Vista добавлена поддержка следующих служб:<br/>
<ul>
<li>ГРБ (Южная Корея)</li>
<li>ЕСРБ, &quot; умеренные &quot; дескрипторы содержимого (умеренно)</li>
</ul></td>
</tr>
<tr class="odd">
<td>Windows 7</td>
<td>Windows 7 поддерживает системы оценок, поддерживаемые Windows Vista, и добавляет поддержку следующих систем: <br/>
<ul>
<li>КСРР (Тайвань)</li>
</ul></td>
</tr>
<tr class="even">
<td>Windows 8</td>
<td>Windows 8 поддерживает предыдущие системы оценок и добавляет поддержку следующих систем:<br/>
<ul>
<li>Коб — AU (Австралия)</li>
<li>ДЖКТК (Бразилия)</li>
<li>ПФБ (Южная Африка)</li>
<li>ОФЛК-NZ (Новая Зеландия)</li>
</ul>
Windows 8 отменяет поддержку следующих нерекомендуемых систем:<br/>
<ul>
<li>ПЕГИ-FI (Финляндия)</li>
<li>ОФЛК (Австралия)</li>
</ul></td>
</tr>
</tbody>
</table>



 

> [!Note]  
> Любое название, включающее в себя новые дескрипторы содержимого ЕСРБ Windows Vista с пакетом обновления 1 (SP1), будет отображаться как неоцененное в Windows Vista без пакета обновления.

 

Более новые данные оценок игнорируются в версиях операционных систем без их поддержки. Вариант ПЕГИ (Финляндии) теперь является нерекомендуемым в пользу стандартной системы оценки ПЕГИ (Европа). Теперь система ОФЛК нерекомендуема в пользу КОБ-AU для Австралии.

Дополнительные сведения о том, как сделать игру совместимой с правами обычного пользователя, см. в статье DirectX [Управление учетными записями пользователей для разработчиков игр](/windows/desktop/DxTechArts/user-account-control-for-game-developers).

Дополнительные сведения о файле определения игры (ГДФ) см. в описании требования 1,1.

</dd> </dl>

### <a name="13-support-rich-saved-games"></a>1,3 поддержка полнофункциональных сохраненных игр

\[Это требование было снято с учета\]

### <a name="14-support-the-xbox-360-common-controller-for-windows-conditional-requirement"></a>1,4. Поддержка общего контроллера Xbox 360 для \[ условного требования Windows\]

<dl> <dt>

<span id="Requirement"></span><span id="requirement"></span><span id="REQUIREMENT"></span>**Требуются**
</dt> <dd>

Игры, поддерживающие контроллеры игровых устройств, должны поддерживать контроллер Xbox 360 для Windows с помощью API [ксинпут](/windows/desktop/xinput/xinput-game-controller-apis-portal) . Если также поддерживаются периферийные устройства Директинпут, можно также использовать Директинпут. Однако Ксинпут должен быть API по умолчанию, если используется устройство, совместимое с Xbox 360.

Все ссылки на общие триггеры контроллера и кнопки должны использовать имена Xbox 360. Дополнительные сведения см. в списке [терминология общего контроллера Xbox 360 для Windows](#xbox-360-common-controller-for-windows-terminology) .

Вибрация контроллера необходимо отключить, если игра находится в приостановленном или приостановленном состоянии.

Управление мышью и клавиатурой не может быть полностью отключено в любой момент. Как минимум, должна быть доступна возможность вернуться в меню игры.

</dd> <dt>

<span id="Rationale"></span><span id="rationale"></span><span id="RATIONALE"></span>**Обоснование**
</dt> <dd>

Это требование дает игрокам свободу выбора контроллера Xbox 360 или клавиатуры и мыши в зависимости от того, какой метод ввода является более естественным и интуитивным интерфейсом.

</dd> <dt>

<span id="Additional_Information"></span><span id="additional_information"></span><span id="ADDITIONAL_INFORMATION"></span>**Дополнительные сведения**
</dt> <dd>

Это требование не относится к играм, использующим только мышь и (или) клавиатуру.

Рекомендуется реализовать навигацию по меню для использования широко принятых кнопок стандартного контроллера:

-   A — принять
-   B — Отмена
-   Начало — принять или приостановить
-   Обратная Отмена, переход на один экран или вверх на уровне меню

Дополнительные сведения см. в разделе [ксинпут](/windows/desktop/xinput/xinput-game-controller-apis-portal).

В разделе [ксинпут и директинпут](/windows/desktop/xinput/xinput-and-directinput) обсуждаются проблемы одновременного использования обоих API-интерфейсов.

Не рекомендуется использовать Директинпут для реализации элементов управления "клавиатура" или "мышь". Клавиши и элементы управления мыши должны быть реализованы только с помощью сообщений Windows и API-интерфейсов Win32. Дополнительные сведения о получении сведений о перемещении мыши с высоким разрешением без использования Директинпут см. в статье [использование преимуществ High-Definition перемещения мыши](/windows/desktop/DxTechArts/taking-advantage-of-high-dpi-mouse-movement).

</dd> </dl>

### <a name="15-support-multiple-aspect-ratios-and-resolutions"></a>1,5 поддержка нескольких пропорций и разрешений

<dl> <dt>

<span id="Requirement"></span><span id="requirement"></span><span id="REQUIREMENT"></span>**Требуются**
</dt> <dd>

Игра должна поддерживать по крайней мере следующие пропорции и связанные с ними разрешения экрана:

-   4:3 обычная (800 600 или 1024 768)
-   Широкоэкранный дисплей 16:9 (1280 720)
-   Широкоэкранный дисплей 16:10 (1152 720 или 1680 1050 или 800 480)

При настройке разрешения экрана и обнаружении игры должны соответствовать следующим правилам.

-   В игре по умолчанию используется разрешение рабочего стола устройства дисплея, если это решение поддерживается. Пропорции рабочего стола должны использоваться в качестве критерия поиска, если игра выбирает другое разрешение по умолчанию.
-   Игра должна запрашивать у пользователя подтверждение новых параметров экрана при внесении изменений. Если пользователь не принимает значение в течение 15 секунд, он должен вернуться к предыдущему параметру.
-   Игра не должна растягивать Пиксели или центрировать окно отрисовки 4:3 для поддержки широкоэкранных пропорций. Однако пустых является приемлемым.

</dd> <dt>

<span id="Rationale"></span><span id="rationale"></span><span id="RATIONALE"></span>**Обоснование**
</dt> <dd>

В Windows 3D Desktop можно предположить, что определенные пропорции или разрешение не могут быть приняты из-за следующих факторов:

-   Поддержка подробных экранов.
-   Увеличенная доля рынка широкоэкранных мониторов.
-   Развертывания ТВВЧ для Windows Media Center.
-   Требования к специальным возможностям.

</dd> <dt>

<span id="Additional_Information"></span><span id="additional_information"></span><span id="ADDITIONAL_INFORMATION"></span>**Дополнительные сведения**
</dt> <dd>

В идеале в игре по умолчанию используется собственная пропорция экрана. Тем не менее, надежное получение этих сведений может быть сложной задачей, поэтому в качестве более общего решения для игры можно предположить, что настольный компьютер работает с исходными пропорциями. Разрешение рабочего стола можно получить, вызвав [**енумдисплайсеттингс**](/windows/desktop/api/winuser/nf-winuser-enumdisplaysettingsa) с \_ параметрами реестра Enum \_ .

Дополнительные сведения см. в разделах «пропорции» и «широкоэкранный дисплей» статьи DirectX [Введение в 10-футовый интерфейс для разработчиков игр Windows](/windows/desktop/DxTechArts/introduction-to-the-10-foot-experience-for-windows-game-developers).

</dd> </dl>

### <a name="16-support-launch-from-windows-media-center"></a>1,6. Поддержка запуска из Windows Media Center

\[Это требование было снято с учета.\]

### <a name="17-direct3d-support"></a>1,7 поддержка Direct3D

<dl> <dt>

<span id="Requirement"></span><span id="requirement"></span><span id="REQUIREMENT"></span>**Требуются**
</dt> <dd>

Если в игре используется Direct3D, минимальная поддерживаемая версия должна быть Direct3D 9, а Direct3D — модулем подготовки отчетов по умолчанию.

</dd> <dt>

<span id="Rationale"></span><span id="rationale"></span><span id="RATIONALE"></span>**Обоснование**
</dt> <dd>

Базовая графическая архитектура Windows Vista и Windows 7 разработана на основе Direct3D. Direct3D 8 и более ранние версии поддерживаются путем повторного сопоставления устаревших интерфейсов.

Настоятельно рекомендуется использовать более новые версии Direct3D, чем Direct3D 9. Ознакомьтесь с играми для демонстрации Windows S. 1. Требование Direct3D 10 или Direct3D 11 полностью соответствует требованию 1,7.

</dd> </dl>

### <a name="18-enable-high-dpi-aware"></a>1,8. Включение высокого разрешения

<dl> <dt>

<span id="Requirement"></span><span id="requirement"></span><span id="REQUIREMENT"></span>**Требуются**
</dt> <dd>

Игры и их установщики должны правильно работать без визуальных проблем, если включено масштабирование с точками на дюйм (с разрешением 144 DPI для 150% масштабирования при разрешении экрана 1600 1200) в Windows Vista и Windows 7.

Для этого, как правило, требуется, чтобы исполняемый файл был объявлен с учетом DPI. Это достигается путем встраивания элемента манифеста: <dpiAware> true <dpiAware> .

</dd> <dt>

<span id="Rationale"></span><span id="rationale"></span><span id="RATIONALE"></span>**Обоснование**
</dt> <dd>

Высококачественные ЖК-мониторы являются представлением компьютеров, и их лучше всего использовать при их собственных разрешениях (обычно 1280 1024, 1600 1200 и т. д.). Клиенты, которые испытывают трудности при чтении текста и просмотре изображений в этом разрешении, часто применяют к настольным компьютерам более низкую разрешающую способность, а визуальные артефакты — Вместо этого клиенты могут оставить разрешение на собственный размер и изменить значение DPI на экране Windows, таким образом выполняя внешний вид элемента и текста без ущерба для качества изображения.

Хотя эта функция была доступна в некоторых формах, начиная с Windows XP, она редко включается клиентами или поставщиками вычислительных систем. Сегодня более половины всех мониторов компьютера имеют более низкое разрешение, чем собственное разрешение монитора на основе отзывов пользователей. Windows 7 делает эту функцию значительно более видимой для клиентов во время начальной настройки и при изменении параметров отображения рекомендуется использовать масштабирование DPI вместо изменения разрешения рабочего стола.

</dd> <dt>

<span id="Additional_Information"></span><span id="additional_information"></span><span id="ADDITIONAL_INFORMATION"></span>**Дополнительные сведения**
</dt> <dd>

Вместо этого можно использовать функцию [**сетпроцессдпиаваре**](/windows/desktop/api/winuser/nf-winuser-setprocessdpiaware) , если она вызывается на раннем этапе кода запуска процесса. Рекомендуется добавить в манифест, чтобы убедиться в отсутствии конкуренции с программными элементами (такими как DLL), которые могут быть инициализированы перед вызовом основной точки входа. Обратите внимание, что **сетпроцессдпиаваре** имеется только в Windows Vista и Windows 7.

Добавить элемент manifest легко с Visual Studio 2005 и 2008; Создайте файл с именем дпиаваре. manifest, содержащий следующий текст:

``` syntax
            <assembly xmlns="urn:schemas-microsoft-com:asm.v1" manifestVersion="1.0" xmlns:asmv3="urn:schemas-microsoft-com:asm.v3">
            <asmv3:application>
            <asmv3:windowsSettings xmlns="http://schemas.microsoft.com/SMI/2005/WindowsSettings">
            <dpiAware>true</dpiAware>
            </asmv3:windowsSettings>
            </asmv3:application>
            </assembly>
```

Затем в Visual Studio добавьте дпиваре. manifest в проект. Убедитесь, что в свойствах проекта для параметра **внедрить манифест** задано значение **Да** . Обратите внимание, что более старые версии средства манифеста (Mt.exe) будут создавать ложные предупреждения с элементами манифеста, поддерживающими DPI. Чтобы устранить эту проблему, обновите Mt.exe до последней версии из Windows SDK.

Visual Studio 2010 включает параметр в свойствах проекта с именем **Enable dpi**, что устраняет необходимость в файле, например дпиаваре. manifest. Найдите **параметр Включить отслеживание dpi** путем расширения **свойств конфигурации** и **средства манифеста**, а затем выберите **входные & выходные данные**.

В Windows в традиционном режиме экрана по умолчанию используется значение 96 DPI, которое было общим для ЭЛТ-мониторов.

Хотя полноэкранные приложения изменяют разрешение экрана, они часто используют сообщения и метрики окна при настройке буферов и экранных прямоугольников. Виртуализация DPI приводит к тому, что эти режимы отображения в полноэкранном режиме будут обрезаны, а объявление с учетом DPI не позволит устранить эти проблемы. Дополнительные сведения см. в разделе [написание DPI-Aware приложений Win32](../hidpi/high-dpi-desktop-application-development-on-windows.md).

</dd> </dl>

## <a name="security-and-compatibility"></a>Безопасность и совместимость

**Сводка требований к безопасности и совместимости**

**Преимущества для клиентов**

Следующие требования повышают общую безопасность игр и гарантируют, что они работают с Windows в различных архитектурах, в различных конфигурациях и в разных режимах.

### <a name="21-follow-user-account-control-guidelines"></a>2,1 Следуйте рекомендациям по контролю учетных записей пользователей

<dl> <dt>

<span id="Requirement"></span><span id="requirement"></span><span id="REQUIREMENT"></span>**Требуются**
</dt> <dd>

Каждый исполняемый файл (то есть каждый файл с расширением .exe) должен содержать внедренный манифест, определяющий его уровень выполнения, включая следующий тег:

``` syntax
            <requestedExecutionLevel>
```

Для каждого требования 1,2 основной исполняемый файл игры и запуска должен иметь уровень выполнения asInvoker для поддержки стандартных контекстов пользователя.

Файлы пользовательских данных с сопоставлениями файлов, зарегистрированными в проводнике, должны быть помещены во вложенную папку папки, указанной в **файле** CSid \_ ( **документы** или **Мои документы**). Все остальные файлы данных пользователя должны храниться во вложенной папке папок, заданных \_ локальными файлами \_ AppData или CSid общей папки AppData \_ \_ . (Эти каталоги по умолчанию скрыты для отдельных пользователей и для всех пользователей.)

</dd> <dt>

<span id="Rationale"></span><span id="rationale"></span><span id="RATIONALE"></span>**Обоснование**
</dt> <dd>

Пользовательский интерфейс Windows является более безопасным, если приложения выполняются только с необходимыми разрешениями.

</dd> <dt>

<span id="Additional_Information"></span><span id="additional_information"></span><span id="ADDITIONAL_INFORMATION"></span>**Дополнительные сведения**
</dt> <dd>

Если только несколько компонентов приложения требуют прав администратора (например, приложение, которому требуется настроить брандмауэр), основной процесс приложения по-прежнему должен выполняться с использованием стандартных привилегий пользователя. Функции, требующие прав администратора, необходимо переместить в отдельный процесс, например в установщик или программу настройки.

Если права администратора не требуются, внедренный XML-файл манифеста должен включать следующее:

``` syntax
            <?xml version="1.0" encoding="UTF-8" standalone="yes"?>
            <assembly xmlns="urn:schemas-microsoft-com:asm.v1" manifestVersion="1.0">
            <ms_asmv2:trustInfo xmlns:ms_asmv2="urn:schemas-microsoft-com:asm.v2">
            <ms_asmv2:security>
            <ms_asmv2:requestedPrivileges>
            <ms_asmv2:requestedExecutionLevel level="asInvoker" uiAccess="false" />
            </ms_asmv2:requestedPrivileges>
            </ms_asmv2:security>
            </ms_asmv2:trustInfo>
            </assembly>
```

Если требуются права администратора, внедренный XML-файл манифеста должен включать следующее:

``` syntax
            <?xml version="1.0" encoding="UTF-8" standalone="yes"?>
            <assembly xmlns="urn:schemas-microsoft-com:asm.v1" manifestVersion="1.0">
            <ms_asmv2:trustInfo xmlns:ms_asmv2="urn:schemas-microsoft-com:asm.v2">
            <ms_asmv2:security>
            <ms_asmv2:requestedPrivileges>
            <ms_asmv2:requestedExecutionLevel level="requireAdministrator" uiAccess="false" />
            </ms_asmv2:requestedPrivileges>
            </ms_asmv2:security>
            </ms_asmv2:trustInfo>
            </assembly>
```

В Visual Studio 2005 это легко внедрить, просто добавив файл манифеста (manifest), содержащий один из предыдущих блоков к проекту, и установив для **манифеста внедрения** значение **Да** в свойствах проекта для средства манифеста. Для Visual Studio 2008 и 2010 свойства контроля учетных записей можно задать непосредственно в свойствах проекта компоновщика на странице **файла манифеста** . Обратите внимание, что старые версии средства манифеста (Mt.exe) создают ложное предупреждение с элементами манифеста контроля учетных записей. Чтобы устранить эту проблему, обновите Mt.exe до последней версии из Windows SDK.

Дополнительные сведения об отдельных случаях установки, исправления и удаления см. в статье требования 3,1.

Библиотеки динамической компоновки (DLL) не нуждаются в таких манифестах.

Дополнительные сведения об управлении учетными записями пользователей см. в разделе [Управление учетными записями пользователей для разработчиков игр](/windows/desktop/DxTechArts/user-account-control-for-game-developers).

</dd> </dl>

### <a name="22-support-windows-x64-versions"></a>2,2. Поддержка 64-разрядных версий Windows

<dl> <dt>

<span id="Requirement"></span><span id="requirement"></span><span id="REQUIREMENT"></span>**Требуются**
</dt> <dd>

Для обеспечения совместимости с 64-разрядными выпусками Windows игры должны соответствовать следующим требованиям.

-   Установщики titles и Title не должны содержать 16-разрядный код или использовать любой 16-разрядный компонент.
-   Если игра зависит от драйверов режима ядра для работы, должны быть доступны версии x64 этих драйверов. Программа установки игр должна обнаружить и установить правильные драйверы и компоненты для 64-разрядных выпусков Windows.

</dd> <dt>

<span id="Rationale"></span><span id="rationale"></span><span id="RATIONALE"></span>**Обоснование**
</dt> <dd>

Многие пользователи Windows Vista и Windows 7 будут запускать 64-разрядные выпуски операционной системы в течение жизненного цикла продукта, поэтому важно, чтобы приложения были совместимы с этой операционной системой.

</dd> <dt>

<span id="Additional_Information"></span><span id="additional_information"></span><span id="ADDITIONAL_INFORMATION"></span>**Дополнительные сведения**
</dt> <dd>

Windows в Windows 64 (WOW64) позволяет выполнять 32-разрядный код в 64-разрядных выпусках Windows, поэтому нет необходимости в том, чтобы приложение было машинным кодом 64-bit в 64-разрядных выпусках Windows. 16-разрядный код не работает в 64-разрядных выпусках Windows.

Поддержка совместимости с Windows XP Professional x64 Edition не требуется, но настоятельно рекомендуется.

Дополнительные сведения см. в разделе [64-разрядное программирование для разработчиков игр](/windows/desktop/DxTechArts/sixty-four-bit-programming-for-game-developers).

</dd> </dl>

### <a name="23-sign-files"></a>2,3. входные файлы

<dl> <dt>

<span id="Requirement"></span><span id="requirement"></span><span id="REQUIREMENT"></span>**Требуются**
</dt> <dd>

Все файлы исполняемого кода (как правило, файлы с расширением .exe или .dll) должны быть подписаны с помощью общедоступного сертификата Authenticode и должны иметь допустимый URL-адрес сервера отметок времени для рабочей подписи.

Если в игре используется установщик Windows, файлы пакета установщика (.msi файлы) должны быть подписаны.

</dd> <dt>

<span id="Rationale"></span><span id="rationale"></span><span id="RATIONALE"></span>**Обоснование**
</dt> <dd>

Подписывание файла помогает пользователям решить, следует ли доверять приложению и гарантировать, что файлы не были изменены. Это также позволяет приложениям правильно работать в заблокированных средах.

</dd> <dt>

<span id="Additional_Information"></span><span id="additional_information"></span><span id="ADDITIONAL_INFORMATION"></span>**Дополнительные сведения**
</dt> <dd>

Дополнительные сведения см. в статье [Подписывание Authenticode для разработчиков игр](/windows/desktop/DxTechArts/authenticode-signing-for-game-developers).

Если в игре используется установщик Windows, рекомендуется включить исправление UAC/LUA, включив таблицу Мсипатчцертификате. Дополнительные сведения см. в статье об [установке контроля учетных записей пользователей (UAC)](/windows/desktop/Msi/user-account-control--uac--patching).

Не рекомендуется подписывать файлы CAB (.cab), если они не являются достаточно мелкими (менее 100 МБ).

</dd> </dl>

### <a name="24-sign-drivers"></a>2,4. подписывать драйверы

<dl> <dt>

<span id="Requirement"></span><span id="requirement"></span><span id="REQUIREMENT"></span>**Требуются**
</dt> <dd>

Любой драйвер режима ядра, установленный игрой, должен быть подписан открытым действительным сертификатом Authenticode.

Любой драйвер аппаратного устройства режима ядра, установленный игрой, должен иметь подпись Майкрософт, которая может быть получена из лаборатории WHQL или из программы подписи надежности драйвера (DRS).

</dd> <dt>

<span id="Rationale"></span><span id="rationale"></span><span id="RATIONALE"></span>**Обоснование**
</dt> <dd>

Плохо написанные или Антивредоносные драйверы могут серьезно повлиять на стабильность и безопасность системы. В 64-разрядных выпусках Windows Vista и Windows 7 неподписанные драйверы не загружаются. Эту политику также можно включить для 32-разрядных выпусков Windows Vista и Windows 7.

</dd> <dt>

<span id="Additional_Information"></span><span id="additional_information"></span><span id="ADDITIONAL_INFORMATION"></span>**Дополнительные сведения**
</dt> <dd>

Для каждого требования 2,2 требуется как 32-разрядная, так и 64-разрядная версия для всех драйверов режима ядра.

Дополнительные сведения о программах подписывания драйверов Майкрософт можно найти на [портале разработчика оборудования Windows](https://www.microsoft.com/whdc/winlogo/hwrequirements.mspx).

</dd> </dl>

### <a name="25-perform-proper-version-checking"></a>2,5. выполнение проверки правильности версий

<dl> <dt>

<span id="Requirement"></span><span id="requirement"></span><span id="REQUIREMENT"></span>**Требуются**
</dt> <dd>

Игры не должны работать в будущих операционных системах, как указано в изменениях номера версии Windows, если лицензионное соглашение не запрещает использовать в будущих операционных системах. Если предполагается, что игра завершится ошибкой, она должна правильно сделать это, отображая соответствующее сообщение пользователю.

Если выполняется проверка версии Windows, для проверки версии операционной системы необходимо использовать API-интерфейсы проверки версий ([**GetVersionEx**](/windows/desktop/api/sysinfoapi/nf-sysinfoapi-getversionexa) или [**верифиверсионинфо**](/windows/desktop/api/winbase/nf-winbase-verifyversioninfoa)). Для определения версии не следует считывать разделы реестра.

Явные проверки версий для среды выполнения DirectX не должны присутствовать в игре. Эти проверки версий не должны присутствовать в установке, запускающей программу установки среды выполнения DirectX (Директсетуп).

</dd> <dt>

<span id="Rationale"></span><span id="rationale"></span><span id="RATIONALE"></span>**Обоснование**
</dt> <dd>

Когда пользователи Windows обновляют свои операционные системы, они не должны блокировать воспроизведение текущих игр, просто потому, что номер версии Windows увеличился. Плохо написанные средства проверки версий продолжают создавать проблемы для программного обеспечения, которые, в противном случае, работают в более новых версиях Windows или просто с добавлением пакета обновления Windows.

Ненадежная логика сравнения проверки версий для среды выполнения DirectX создала многочисленные неудачные установки при запуске в различных версиях Windows. Номер версии DirectX применяется только к основным компонентам операционной системы. Он не применяется к параллельным компонентам пакета SDK DirectX, используемым во многих играх.

</dd> <dt>

<span id="Additional_Information"></span><span id="additional_information"></span><span id="ADDITIONAL_INFORMATION"></span>**Дополнительные сведения**
</dt> <dd>

Обычно установщики проверяют наличие минимальной версии ОС. Однако эта проверка должна быть выполнена с осторожностью, чтобы убедиться в том, что она тестируется не так, а не на простой равенство, тем самым блокируя конкретную версию операционной системы. Использование теста **хигхверсионлие** для средство проверки приложений — это быстрый и простой способ определить, как установщик будет реагировать на значительные изменения в номере версии ОС.

Правильное использование пакета распространения среды выполнения DirectX (программа установки DirectX) включает в себя запуск во время установки, предпочтительно в автоматическом режиме. Это позволяет коду, предоставляемому корпорацией Майкрософт, выполнять все необходимые обновления версии. Он также позволяет устанавливать любые необязательные компоненты пакета SDK DirectX, такие как D3DX, транзакции, многомерные выражения или Ксинпут.

Рекомендации по развертыванию среды выполнения DirectX см. в статье [Установка DirectX для разработчиков игр](/windows/desktop/DxTechArts/directx-setup-for-game-developers).

Рекомендуется, чтобы игры, поддерживающие Windows XP, проверяют наличие пакета обновления 2 или более поздней версии, так как пакет обновления 2 (SP2) и пакет обновления 3 (SP3) обеспечивают значительные улучшения в системе безопасности, упрощенное требование повторного распределения среды выполнения DirectX и очень широкое развертывание. Для большинства современных технологий Майкрософт, поддерживающих Windows XP, требуется пакет обновления 2 (SP2) или SP3 (XAudio2, игры для Windows — LIVE и т. д.).

</dd> </dl>

### <a name="26-support-concurrent-user-sessions"></a>2,6 Поддержка параллельных сеансов пользователей

<dl> <dt>

<span id="Requirement"></span><span id="requirement"></span><span id="REQUIREMENT"></span>**Требуются**
</dt> <dd>

Игры, использующие трехмерную график, не должны работать через подключение к удаленному рабочему столу, но при сбое игры пользователь должен получать оповещения.

Игры должны поддерживать стандартные многозадачные сценарии Windows путем соблюдения следующих правил:

-   Игры не должны блокировать использование одновременных сеансов пользователей.
-   Игра должна запускаться в новом сеансе пользователя, если он уже выполняется в другом сеансе.
-   Звук игры в одном сеансе пользователя не должен быть слышен, если другой пользователь активен в другом сеансе.
-   Игры должны поддерживать быстрое переключение пользователей.
-   Игры не должны пытаться отключить стандартную смену задач. Игры не должны отключать сочетание клавиш ALT + TAB. Играм разрешено отключать специальные сочетания клавиш, как описано в разделе [Отключение сочетаний клавиш в играх](/windows/desktop/DxTechArts/disabling-shortcut-keys-in-games).

</dd> <dt>

<span id="Rationale"></span><span id="rationale"></span><span id="RATIONALE"></span>**Обоснование**
</dt> <dd>

Пользователи Windows должны иметь возможность выполнять параллельные сеансы без конфликтов или прерываний. Это распространенный сценарий для компьютера Windows, который совместно используется семейством, румматес или другими пользователями.

</dd> <dt>

<span id="Additional_Information"></span><span id="additional_information"></span><span id="ADDITIONAL_INFORMATION"></span>**Дополнительные сведения**
</dt> <dd>

Чтобы проверить, запущена ли игра в удаленном сеансе, вызовите [**жетсистемметрикс**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics)(SM \_ ремотесессион). Ненулевое значение указывает, что сеанс является удаленным.

Дополнительные сведения см. в разделе [быстрое переключение пользователей](/windows-hardware/drivers/display/fast-user-switching). Обратите внимание, что быстрое переключение пользователей происходит, если во время работы пользователя включены ограничения по времени родительского контроля. Дополнительные сведения см. в описании требования 1,2.

</dd> </dl>

### <a name="27-support-long-names"></a>2,7. Поддержка длинных имен

<dl> <dt>

<span id="Requirement"></span><span id="requirement"></span><span id="REQUIREMENT"></span>**Требуются**
</dt> <dd>

Если игра поддерживает сохранение файлов, она должна иметь возможность сохранять файлы с длинными именами и путями. Игра должна правильно обрабатывала специальные символы файловой системы, такие как \\ /: \* ? " < >, в любых пользовательских полях ввода, которые используются для создания имен файлов или путей.

Игры должны работать правильно, если пользователь имеет длинное имя пользователя.

</dd> <dt>

<span id="Rationale"></span><span id="rationale"></span><span id="RATIONALE"></span>**Обоснование**
</dt> <dd>

Игроки привыкли использовать длинные имена в путях с глубиной, которые поддерживаются базовой операционной системой.

</dd> <dt>

<span id="Additional_Information"></span><span id="additional_information"></span><span id="ADDITIONAL_INFORMATION"></span>**Дополнительные сведения**
</dt> <dd>

Длинные имена определяются как те, которые содержат максимальные значения, определенные в Windows SDK.

</dd> </dl>

## <a name="installation"></a>Установка

**Сводка требований к безопасности и совместимости**

**Преимущества для клиентов**

Клиенты могут быть уверены, что приложения будут устанавливаться в Windows без ухудшения операционной системы или других приложений, если приложения используют официальный способ распространения системных компонентов. Упрощенный процесс установки предоставляет более доступные и неисправности при работе в играх.

### <a name="31-support-easy-installation"></a>3,1. поддержка быстрой установки

<dl> <dt>

<span id="Requirement"></span><span id="requirement"></span><span id="REQUIREMENT"></span>**Требуются**
</dt> <dd>

Игры должны предоставить упрощенный путь в пользовательском интерфейсе программы установки, реализовав следующие действия:

-   Отображать не более одного запроса EULA.
-   Путь установки по умолчанию должен обходить все параметры установки (например, папку установки или параметры компонентов), использовать параметры по умолчанию, а затем запускать игру или средство запуска после успешной установки без дополнительных запросов. При необходимости для расширенных параметров конфигурации можно указать пользовательский параметр установки.
-   Установите необходимые компоненты операционной системы (например, среды выполнения DirectX и Visual C) с помощью правильных пакетов распространения Майкрософт. Установка должна выполняться без вмешательства пользователя и без защиты от проверки версий компонентов.
-   Удаление с помощью **программы и компонентов** на **панели управления** для игрового приложения и созданных рабочих файлов. Рекомендуется удалить все файлы данных, созданные пользователем. Процесс удаления должен гарантировать, что все установленные файлы будут удалены, а все параметры (например, записи списка исключений брандмауэра и разделы реестра) будут сняты. Перераспределенные компоненты операционной системы не должны удаляться.
-   Если для игры требуется добавить исключения в брандмауэр Windows, процесс установки может сообщить пользователям о том, что это изменение необходимо. Это приглашение должно появиться перед началом установки.

Для установки и удаления могут потребоваться права администратора. Для установки исправлений может потребоваться запрос учетных данных администратора в зависимости от частоты обновления. При нормальном воспроизведении игры не требуются права администратора, каждое требование 2,1 следует рекомендациям по контролю учетных записей пользователей.

</dd> <dt>

<span id="Rationale"></span><span id="rationale"></span><span id="RATIONALE"></span>**Обоснование**
</dt> <dd>

Простая установка — это философия разработки игр на основе Windows, предназначенная для упрощения и упрощения процесса установки игр на компьютерах под управлением операционных систем Windows. Простота установки включается с помощью набора технологий и рекомендаций, которые снижают ненужную сложность и наблюдаемый риск установки игр на компьютерах Windows.

Основные цели:

-   Сократите время начала игры и начните играть.
-   Чтобы упростить процесс установки игр, сократите количество диалоговых окон и вариантов выбора до нескольких или нет.

В некоторых традиционных установках имеются запросы, которые разрешают нефункциональные установки, даже если приложение успешно установлено. Например, для игры может потребоваться, чтобы пользователь принял условия лицензионного соглашения. После этого устанавливается игра, после чего появляется лицензионное соглашение DirectX. Это лицензионное соглашение позволяет пользователям отклонять и, таким образом, пропускать установку среды выполнения DirectX. В этом случае может возникнуть игра, которая не запускается из-за отсутствия компонентов.

</dd> <dt>

<span id="Additional_Information"></span><span id="additional_information"></span><span id="ADDITIONAL_INFORMATION"></span>**Дополнительные сведения**
</dt> <dd>

Дополнительные сведения об установке игр, не традиционных методиках установки игр, решениях по установке исправлений, совместимых с UAC, и о частом исправлении см. в следующих статьях DirectX:

-   [Упрощение установки игр](/windows/desktop/DxTechArts/simplifying-game-installation)
-   [Установка по запросу для игр](/windows/desktop/DxTechArts/install-on-demand-for-games)
-   [Установка исправлений для игр в Windows XP, Windows Vista и Windows 7](/windows/desktop/DxTechArts/patching-methods-in-windows-xp-and-vista)
-   [Рекомендации по установке для массовых многопользовательских интернет-игр](/windows/desktop/DxTechArts/mmo-installation-best-practices)

> [!Note]  
> Удаление созданных пользователем файлов данных должно выполняться только для текущего пользователя и для общих общих расположений пользователей. Не существует надежного способа проверки системы на удаление пользовательских файлов для других пользователей, даже если для удаления требуются учетные данные администратора.

 

</dd> </dl>

### <a name="32-support-user-account-control-for-installation"></a>3,2. Поддержка контроля учетных записей пользователей для установки

<dl> <dt>

<span id="Requirement"></span><span id="requirement"></span><span id="REQUIREMENT"></span>**Требуются**
</dt> <dd>

Установщик игры не должен считать, что он работает в том же контексте, что и пользователь. Пользовательские расположения будут отличаться от установщика и проигрывателя даже для однопользовательских систем из-за повышения прав администратора. Таким образом, когда игра выполняется впервые, она должна выполнять определенные пользователем задачи отдельно от процесса установки.

Диалоговое окно исключение брандмауэра Windows не должно появляться, когда пользователь размещает или присоединяется к многопользовательской игре. Все необходимые настройки должны выполняться во время установки. Инструкции по установке должны информировать пользователя о том, что эта операция будет выполняться в процессе установки.

Установщик игр должен предоставить внедренный манифест, обозначающий требуемый уровень выполнения, для каждого требования 2,1 следовать рекомендациям по контролю учетных записей пользователей.

Если после завершения установки игра запускается установщиком, ее необходимо запустить в контексте исходного пользователя.

</dd> <dt>

<span id="Rationale"></span><span id="rationale"></span><span id="RATIONALE"></span>**Обоснование**
</dt> <dd>

Одним из самых значительных изменений в операционной системе Windows в Windows Vista является добавление контроля учетных записей пользователей (UAC), которое по умолчанию запускает приложения с ограниченными привилегиями. В результате установщики должны соответствующим образом управлять уровнями привилегий. Windows 7 также активно использует UAC. Хотя Windows 7 улучшает взаимодействие с пользователем UAC, установщики должны по-прежнему удовлетворять тем же требованиям, что и Windows Vista для правильной работы, не полагаясь на потенциально путаницу в работе виртуализации.

Контроль учетных записей активен по умолчанию в Windows Vista и Windows 7, и большинство клиентов (88% или более, на основе отзывов) оставляют эту функцию включенной.

</dd> <dt>

<span id="Additional_Information"></span><span id="additional_information"></span><span id="ADDITIONAL_INFORMATION"></span>**Дополнительные сведения**
</dt> <dd>

Дополнительные сведения о настройке брандмауэра Windows см. в статье DirectX [Брандмауэр Windows для разработчиков игр](/windows/desktop/DxTechArts/games-and-firewalls) и пример фиреваллинсталлхелпер.

Стандартный запуск игры в конце процесса установки не соответствует последнему аспекту этого требования, если установка запускается обычным пользователем, и если процессу установки требуются права администратора (то есть запрашиваются учетные данные администратора). Он также наследует административные привилегии, что является потенциальной угрозой безопасности. Вместо этого загрузчик программы установки должен запустить игру после возврата после успешного вызова установщика. Дополнительные сведения см. в статье журнала MSDN Magazine [обучение приложений с помощью контроля учетных записей пользователей Windows Vista](/archive/msdn-magazine/2007/january/teach-your-apps-to-work-with-windows-vista-user-account-control).

</dd> </dl>

### <a name="33-install-to-correct-folders"></a>3,3. Установка для исправления папок

<dl> <dt>

<span id="Requirement"></span><span id="requirement"></span><span id="REQUIREMENT"></span>**Требуются**
</dt> <dd>

Игры, установленные для всех пользователей, должны быть установлены в папку Program Files по умолчанию. Пользовательские данные должны быть записаны во время первого запуска игры, а не во время установки.

</dd> <dt>

<span id="Rationale"></span><span id="rationale"></span><span id="RATIONALE"></span>**Обоснование**
</dt> <dd>

Пользователи должны иметь гибкие возможности установки приложений, где они необходимы. Они также должны иметь единообразную и безопасную работу с расположением файлов по умолчанию.

</dd> <dt>

<span id="Additional_Information"></span><span id="additional_information"></span><span id="ADDITIONAL_INFORMATION"></span>**Дополнительные сведения**
</dt> <dd>

Игры могут использовать различные известные расположения папок (например, заданные \_ локальными \_ файлами AppData и CSid \_ \_ ) для хранения значительных объемов данных игр и поддержки исполняемых файлов для реализации расширенных сценариев установки по запросу и исправления.

Поскольку установка может потребовать повышения прав для другой учетной записи пользователя во время установки всех пользователей, нет правильного расположения пользователя, в котором будет храниться данные во время установки. Кроме того, если включено шифрование файлов, зашифрованные файлы могут быть доступны только учетной записи пользователя, создавшей их.

</dd> </dl>

### <a name="34-install-windows-resources-properly"></a>3,4. Установка ресурсов Windows надлежащим образом

<dl> <dt>

<span id="Requirement"></span><span id="requirement"></span><span id="REQUIREMENT"></span>**Требуются**
</dt> <dd>

Приложения не должны пытаться установить файлы или ключи реестра, защищенные защита ресурсов Windows (WRP). Если приложению требуются более новые версии компонентов системы, необходимо обновить эти компоненты с помощью пакета обновления Майкрософт или пакета установки, одобренного корпорацией Майкрософт, который содержит системный компонент. Системные компоненты никогда не должны переноситься в пакеты.

</dd> <dt>

<span id="Rationale"></span><span id="rationale"></span><span id="RATIONALE"></span>**Обоснование**
</dt> <dd>

Защита ресурсов Windows (WRP) обеспечивает обновление защищенных системных ресурсов только с помощью утвержденных корпорацией Майкрософт механизмов установки или обновления. WRP улучшает надежность системы, гарантируя предсказуемость результатов установки.

</dd> <dt>

<span id="Additional_Information"></span><span id="additional_information"></span><span id="ADDITIONAL_INFORMATION"></span>**Дополнительные сведения**
</dt> <dd>

WRP является преемником защиты файлов Windows, который защищает большинство компонентов системы, установленных в папке Windows. WRP защищает большинство разделов реестра, в которых хранятся параметры для создания объектов COM. Она также резервирует определенные папки для использования исключительно операционной системой. Попытка доступа к защищенным ресурсам обычно приводит к ошибке отказа в доступе.

Сведения о рекомендациях по развертыванию среды выполнения DirectX с помощью игры см. в статье DirectX [Установка DirectX для разработчиков игр](/windows/desktop/DxTechArts/directx-setup-for-game-developers).

</dd> </dl>

### <a name="35-avoid-reboots-during-installation"></a>3,5. Предотвращение перезагрузки во время установки

<dl> <dt>

<span id="Requirement"></span><span id="requirement"></span><span id="REQUIREMENT"></span>**Требуются**
</dt> <dd>

Установщик игр не предполагает, что установка компонентов Windows из пакетов распространения требует перезагрузки, если только перезагрузка не указана в результате возврата или документации Майкрософт.

Если установщик игры всегда выполняет принудительную перезагрузку, он должен быть одобрен корпорацией Майкрософт.

В диалоговом окне "файлы в использовании", включенном в пакеты установщик Windows, должен быть параметр для автоматического закрытия приложений и попыток их перезапуска после завершения установки.

</dd> <dt>

<span id="Rationale"></span><span id="rationale"></span><span id="RATIONALE"></span>**Обоснование**
</dt> <dd>

Перезагрузка системы после установки является неудобным нарушением работы пользователей и обычно не требуется.

</dd> <dt>

<span id="Additional_Information"></span><span id="additional_information"></span><span id="ADDITIONAL_INFORMATION"></span>**Дополнительные сведения**
</dt> <dd>

Дополнительные сведения см. в разделе [использование установщик Windows с диспетчером перезапуска](/windows/desktop/Msi/using-windows-installer-with-restart-manager).

</dd> </dl>

### <a name="36-use-file-versioning-correctly"></a>3,6. правильное использование управления версиями файлов

<dl> <dt>

<span id="Requirement"></span><span id="requirement"></span><span id="REQUIREMENT"></span>**Требуются**
</dt> <dd>

Программа установки игр должна правильно проверить, чтобы убедиться, что установлены последние версии файлов. При установке игры никогда не следует регрессию файлов, которые не создаются или которые являются общими для приложений, которые не создаются.

</dd> <dt>

<span id="Rationale"></span><span id="rationale"></span><span id="RATIONALE"></span>**Обоснование**
</dt> <dd>

Общие компоненты и системные компоненты часто обновляются для исправления безопасности и расширенной функциональности. Установка, включающая более старую версию обновленных компонентов, не должна приводить к утрате обновлений и исправлений, которые уже были применены.

</dd> </dl>

### <a name="37-support-autorun-conditional-requirement"></a>3,7 поддержка \[ условного требования автозапуска\]

<dl> <dt>

<span id="Requirement"></span><span id="requirement"></span><span id="REQUIREMENT"></span>**Требуются**
</dt> <dd>

Для игр, распространяемых на компакт-диске, DVD-диске или другом съемном носителе, поддерживающем автозапуск, при первой вставке диска приложение должно автоматически запуститься или предлагать пользователю установить игру, если только пользователь не отключил функцию автозапуска.

После успешной установки приложения повторная вставка диска на диск не должна приводить к автоматическому запуску установки. Можно попросить пользователей обновить или изменить варианты установки.

Приложение автозапуска не должно запрашивать повышение прав (т. е. оно должно иметь значение asInvoker в манифесте в соответствии с требованием 2,1, хотя оно может запустить программу установки или другую программу, для которой требуются права администратора. Повышение прав должно происходить только в том случае, если игра не установлена или если пользователь выбрал ее.

</dd> <dt>

<span id="Rationale"></span><span id="rationale"></span><span id="RATIONALE"></span>**Обоснование**
</dt> <dd>

Автозапуск упрощает работу с распределенными мультимедиа приложениями, такими как игры, которые обычно занимают диск на диске, чтобы играть в игру.

</dd> <dt>

<span id="Additional_Information"></span><span id="additional_information"></span><span id="ADDITIONAL_INFORMATION"></span>**Дополнительные сведения**
</dt> <dd>

Неприемлемо требовать от пользователя перейти в проводнике для запуска установки с компакт-диска или DVD-диска.

Для игр, распространяемых на нескольких дисках, в идеале следует либо использовать функцию автозапуска, либо продолжить установку без запроса на нажатие клавиши или выполнения других действий.

При создании программы автозапуска убедитесь, что все необходимые компоненты установлены в новых установках Windows. Типичные приложения полагаются на технологии, установленные программой установки, но сам автоматический запуск выполняется до того, как произойдет такая установка. Одним из распространенных примеров является сбой программы автозапуска, так как библиотеки DLL среды выполнения Visual C не были включены в программу установки Windows. Поэтому программа автозапуска должна использовать локальное CRT-развертывание приложения или статически связать CRT.

Программы автозапуска, написанные для использования в версиях Windows до Windows Vista, не должны использовать среду выполнения .NET, поскольку эта технология не включена в Windows XP или более ранние версии Windows. Windows Server 2003 и Windows Vista — это первые версии Windows для включения среды выполнения .NET в составе операционной системы.

По тем же причинам, программам автозапуска не требуется наличие пакета SDK DirectX необязательных компонентов, таких как D3DX9, D3DX10, D3DX11, XAudio2, X3DAudio, активной транзакции, КСИНПУТ и MDX 1,1.

Пример использования автозапуска см. в разделе Образец запуска.

</dd> </dl>

## <a name="reliability"></a>Надежность

**Сводка требований к безопасности и совместимости**

**Преимущества для клиентов**

Эти требования делают приложение более надежным, уменьшая количество сбоев, зависаний и перезагрузок. Требования к надежности гарантируют, что программное обеспечение будет более предсказуемым, обслуживаемым, устойчивым и восстанавливаемым.

### <a name="41-eliminate-unnecessary-reboots"></a>4,1. Устраните ненужные перезагрузки

<dl> <dt>

<span id="Requirement"></span><span id="requirement"></span><span id="REQUIREMENT"></span>**Требуются**
</dt> <dd>

Все установщики приложений должны воспользоваться преимуществами API диспетчера перезапуска, чтобы избежать перезагрузки системы (см. требование 3,5).

Игры не должны блокировать завершение работы.

Все приложения должны отвечать на диспетчер перезапуска, прослушивая и реагируя на следующие сообщения о завершении работы:

<dl> <dt>

<span id="WM_QUERYENDSESSION_with_LPARAM___ENDSESSION_CLOSEAPP__0x1___"></span><span id="wm_queryendsession_with_lparam___endsession_closeapp__0x1___"></span><span id="WM_QUERYENDSESSION_WITH_LPARAM___ENDSESSION_CLOSEAPP__0X1___"></span>WM \_ куерендсессион с lParam = ENDSESSION \_ клосеапп (0x1) 
</dt> <dd>

Приложения GUI должны немедленно ответить (TRUE) при подготовке к перезапуску.

</dd> <dt>

<span id="WM_ENDSESSION_with_LPARAM___ENDSESSION_CLOSEAPP__0x1___"></span><span id="wm_endsession_with_lparam___endsession_closeapp__0x1___"></span><span id="WM_ENDSESSION_WITH_LPARAM___ENDSESSION_CLOSEAPP__0X1___"></span>WM \_ ENDSESSION с lParam = ENDSESSION \_ клосеапп (0x1) 
</dt> <dd>

Приложения должны возвращать значение 0 в течение 5 секунд, а затем закрывать.

</dd> <dt>

<span id="CTRL_C__"></span><span id="ctrl_c__"></span>CTRL + C 
</dt> <dd>

Консольные приложения, получающие это сообщение, должны немедленно закрыться.

</dd> </dl> </dd> <dt>

<span id="Rationale"></span><span id="rationale"></span><span id="RATIONALE"></span>**Обоснование**
</dt> <dd>

Перезагрузки системы являются значительным перерывом. Они ведут к неправильному взаимоработе с пользователем и должны быть минимальными. Некоторые операции, например критические обновления системы, могут потребовать перезагрузки. Прослушивая сообщения о завершении работы, игра и другие приложения могут быстро реагировать на запросы от диспетчера перезапуска. Таким образом, они могут избежать неоправданных задержек в допустимых запросах на перезагрузку.

</dd> <dt>

<span id="Additional_Information"></span><span id="additional_information"></span><span id="ADDITIONAL_INFORMATION"></span>**Дополнительные сведения**
</dt> <dd>

Если установщик игр использует технологию установщик Windows (MSI) без каких-либо настраиваемых действий, эта функция предоставляется автоматически. Пакеты распространения Майкрософт также поддерживают диспетчер перезапуска.

Дополнительные сведения о диспетчере перезапуска см. в статье MSDN [о диспетчере перезапуска](/windows/desktop/RstMgr/about-restart-manager).

</dd> </dl>

### <a name="42-eliminate-application-verifier-failures"></a>4,2 Устранение сбоев средство проверки приложений

<dl> <dt>

<span id="Requirement"></span><span id="requirement"></span><span id="REQUIREMENT"></span>**Требуются**
</dt> <dd>

Игра не должна создавать ошибки, выполняемые в Microsoft средство проверки приложений (AppVerifier) версии 4,0 или более поздней, в следующих тестах:

-   Основные сведения: дескрипторы, кучи, блокировки, память, TLS
-   Прочее: Данжераусапис, Диртистаккс

</dd> <dt>

<span id="Rationale"></span><span id="rationale"></span><span id="RATIONALE"></span>**Обоснование**
</dt> <dd>

AppVerifier тестирует множество известных проблем, вызывающих сбои и зависания в приложениях Windows, а также известные уязвимости системы безопасности.

</dd> <dt>

<span id="Additional_Information"></span><span id="additional_information"></span><span id="ADDITIONAL_INFORMATION"></span>**Дополнительные сведения**
</dt> <dd>

Дополнительные сведения о средство проверки приложений см. в статье [средство проверки приложений](/previous-versions/ms220948(v=vs.80)) и [использование средство проверки приложений в жизненном цикле разработки программного обеспечения](/previous-versions/aa480483(v=msdn.10)) на сайте MSDN. Вы можете скачать средство проверки приложений из [сведений о скачивании: средство проверки приложений](https://www.microsoft.com/downloads/details.aspx?familyid=c4a25ab9-649d-4a1b-b4a7-c9d8b095df18) в центре загрузки Майкрософт.

Это требование не относится к чисто управляемым приложениям без собственного взаимодействия.

Эти тесты должны выполняться в сборке выпуска. Отладочные сборки могут вызывать ложные сбои. Некоторые технологии борьбы с пиратством и Памятка по могут мешать выполнению AppVerifier. Поэтому эти тесты должны выполняться без защиты от пиратства и Памятка по технологий.

Может потребоваться установить полное свойство базовых понятий: для куч — значение FALSE, поскольку полная Пажехеап значительно увеличивает нагрузку на память работающего приложения. Ошибки по-прежнему будут обнаружены, но при использовании только частичного Пажехеап их может быть сложнее отключать.

При использовании тестов, связанных с UAC/LUA, в средство проверки приложений в соответствии с требованиями к контролю учетных записей 2,1 и 3,2, для просмотра результатов следует использовать [анализатор Standard User Analyzer](/windows/desktop/Win7AppQual/standard-user-analyzer--sua--tool-and-standard-user-analyzer-wizard--sua-wizard-) . Существует также множество других полезных тестов, предоставляемых средство проверки приложений, которые настоятельно рекомендуется использовать в разработке и тестировании, чтобы обеспечить высокий уровень совместимости с текущими и будущими версиями Windows. Тест **хигхверсионлие** используется для проверки соответствия требованиям 2,5.

Visual Studio Team System включает подмножество функций AppVerifier, интегрированных в среду отладки. Это может оказаться полезным для отслеживания и устранения проблем с основными понятиями: кучами, дескрипторами и тестами блокировок.

</dd> </dl>

### <a name="43-support-windows-error-reporting-and-file-version-information"></a>4,3 поддержка отчеты об ошибках Windows и сведения о версии файла

<dl> <dt>

<span id="Requirement"></span><span id="requirement"></span><span id="REQUIREMENT"></span>**Требуются**
</dt> <dd>

Чтобы обеспечить поддержку отчеты об ошибках Windows, игры должны соответствовать следующим требованиям.

-   Игры должны работать только с известными и ожидаемыми исключениями. Отчеты об ошибках Windows не должны быть отключены. Если в игре возникает ошибка, например нарушение прав доступа, она должна разрешить отчеты об ошибках Windows сообщить о сбое.
-   Все исполняемые файлы (например, .exe файлы или библиотеки DLL) должны содержать точное название продукта, название компании и версию файла.
-   Нормальное завершение игры не должно приводить к ошибке неизвестного исключения.

</dd> <dt>

<span id="Rationale"></span><span id="rationale"></span><span id="RATIONALE"></span>**Обоснование**
</dt> <dd>

Отчеты об ошибках Windows интерфейсы API предоставляют корпорации Майкрософт важные отзывы для выявления широкого сбоя и зависания в приложениях. Это позволяет корпорации Майкрософт и ее партнерам быстро обнаруживать и устранять проблемы с системой и драйверами, что приводит к быстрому выполнению сбоев приложений.

</dd> <dt>

<span id="Additional_Information"></span><span id="additional_information"></span><span id="ADDITIONAL_INFORMATION"></span>**Дополнительные сведения**
</dt> <dd>

Игры могут включать пользовательские необработанные обработчики исключений для выполнения пользовательских функций поддержки и создания отчетов, но они должны передать любую ошибку в функции **репортфаулт** или **веррепортсубмит** .

Правильная информация о версии файла может быть проверена путем просмотра свойств файла в пользовательском интерфейсе Windows Desktop и проверки страницы свойств версия.

Дополнительные сведения об API отчеты об ошибках Windows и о том, как анализировать аварийные дампы, формируемые при использовании этой службы, см. в статье DirectX: [анализ аварийного дампа](/windows/desktop/DxTechArts/crash-dump-analysis).

</dd> </dl>

## <a name="xbox-360-common-controller-for-windows-terminology"></a>Стандартный контроллер Xbox 360 для терминологии Windows



| Имя                                          | Описание                                                                                                 |
|------------------------------------------|--------------------------------------------------------------------------------------------------|
| Объект                                        | Кнопка.                                                                                     |
| B                                        | Кнопка B.                                                                                     |
| НАЗАД                                     | Кнопка Назад.                                                                                  |
| (правый/левый) амортизатор                      | Кнопка в верхней правой и левой границах контроллера. Эквивалентно кнопке наплеча.    |
| направленная панель                          | Панель направления контроллера.                                                                   |
| Панель D                                    | Допустимое сокращение направленной панели.                                                         |
| ТОЧЕК                                       | Аббревиатура направленной панели и метка контроллера.                                                |
| RB, ФУНТОВ                                   | Краткие и левые обозначения спуска и метки контроллера.                                        |
| RS, LS                                   | Названия и метки для закрепления справа и слева.                                         |
| RT, LT                                   | Правая и левая аббревиатура триггера и метки контроллера.                                       |
| РСБ, ЛСБ                                 | Названия и метки для закрепления справа и слева.                                         |
| START                                    | Кнопка запуска.                                                                                 |
| (справа и слева)                       | Контроллер. Ранее аналоговый стик.                                                       |
| (правая или левая) кнопка «закрепить»                | Кнопка "закрепить контроллер". Прежнее нажатие кнопки аналоговый стика.                                         |
| (правый/левый) триггер                     | Триггер контроллера.                                                                          |
| Вибрация                                | Игрового процесса отзыв, созданный мотором контроллера. Не используйте румбле.                           |
| X                                        | Кнопка X.                                                                                     |
| Y                                        | Кнопка Y.                                                                                     |
| Контроллер Xbox 360 для Windows          | Игровой планшет Xbox 360 продан как SKU оборудования для ПК, включая диск драйверов устройств Windows.          |
| Контроллер беспроводной связи Xbox 360 для Windows | Игровой планшет Xbox 360 продан как SKU оборудования для ПК, включая диск с драйвером Windows. |



 

## <a name="guidelines-for-game-middleware-products"></a>Рекомендации по промежуточному программному обеспечению

### <a name="introduction"></a>Введение

Чтобы игры соответствовали программе для игр Windows, они должны соответствовать списку технических требований. Все сторонние компоненты, поставляемые с заголовком (исполняемые файлы, библиотеки DLL, драйверы и т. д.), также должны удовлетворять этим требованиям для того, чтобы подсчитаться в игре. В этом документе описываются наиболее распространенные требования, которые также должны быть выполнены сторонними компонентами для игры, чтобы пройти проверку на соответствие. Установщики и полные пакеты игр и рабочих пакетов должны ознакомиться с документацией по техническим требованиям к играм для Windows, так как эти средства затрагивают многие из этих требований.

### <a name="additional-recommendations"></a>Дополнительные рекомендации

Помимо гарантии того, что компонент поддерживает создание заголовков, соответствующих требованиям для игр для Windows, существует ряд других вопросов, которые следует учитывать при проектировании и развертывании библиотеки или служебной программы поддержки для игры Windows.

-   Для поддержки разработчиков, работающих с 64-разрядными версиями приложений x64, укажите как 32-разрядные, так и 64-разрядные версии библиотек. 32-разрядная версия должна быть совместима с 64-bit на 2,2. Библиотеки для 32-разрядных приложений не должны рассчитывать на то, что старший бит любого 32-разрядного адреса не используется для поддержки использования в приложениях LARGEADDRESSAWARE x86.
-   Если вы предоставляете заголовки машинного кода (C/C++), используйте синтаксис атрибута SAL для украшения подпрограмм общедоступного API. Это позволит пользователям вашей библиотеки получить максимальную пользу использования статического анализа кода (/Analyze), который входит в состав Visual Studio Team System 2005, Visual Studio Team System 2008, Visual Studio 2010 Premium и Visual Studio 2010 Ultimate, а также общедоступных Windows SDK средств компилятора.
-   Если ваш продукт создает потоки в процессе пользователя, обязательно присвойте каждому потоку имя, чтобы средства отладки могли правильно закомментировать выполняющиеся потоки.
-   Если вы пишете подпрограммы, которые должны вызываться в главном цикле игры, используйте подпрограммы D3DX D3DPERF \_ бегиневент/ендевент и D3DPERF SetMarker, \_ чтобы закомментировать операции высокого уровня, чтобы упростить идентификацию узких мест с помощью PIX для Windows.
    > [!Note]  
    > Для функций диагностики графики Visual Studio 2012 эти подпрограммы D3DX и PIX заменяются интерфейсом [**ID3DUserDefinedAnnotation**](/windows/desktop/api/d3d11_1/nn-d3d11_1-id3duserdefinedannotation) .

     

-   Для сетевых библиотек используйте независимые от IP реализации и Избегайте устаревших подпрограмм только IPv4 для поддержки технологий IPv6 и Teredo в Windows XP с пакетом обновления 2 (SP2), Windows Vista и Windows 7.
-   Поставщики услуг игры должны зарегистрироваться в обозревателе игр с помощью версии 2 схемы ГДФ и использовать функцию RSS для предоставления новостей, относящихся к службам.

### <a name="games-for-windows-showcases"></a>Игры для демонстрации Windows

### <a name="introduction"></a>Введение

Игры для демонстрации Windows выходят за рамки игр, обеспечивающих твердую работу на компьютерах с Windows. Благодаря реализации этих функций игры могут повысить удобство работы пользователей на последних платформах Windows.

Названия игр для Windows должны удовлетворять всем техническим требованиям, перечисленным в этой статье, но функции демонстрации не являются обязательными. Эти издания бесплатно реализуют некоторые из этих демонстраций.

### <a name="s1-exploit-direct3d-11"></a>S. 1. эксплойты Direct3D 11

<dl> <dt>

<span id="Requirement"></span><span id="requirement"></span><span id="REQUIREMENT"></span>**Требуются**
</dt> <dd>

Direct3D 11 — это интерфейс API подготовки нового поколения для Windows Vista и Windows 7. Игры, использующие Direct3D 11, используют оптимизированное содержимое, расширенные приемы отрисовки и новые функции оборудования для создания привлекательного интерфейса на оборудовании, поддерживающем 10, 10,1 и 11.

Если в игре также реализован Direct3D 9, то параллельное сравнение должно продемонстрировать заметное улучшение качества содержимого, визуальную точность, производительность, сложность сцены и другие области графики для Direct3D 11. Эта поддержка накладываются на игры для технического требования Windows 1,7.

Технология Direct3D 10level9 можно использовать для поддержки аппаратного устройства построителя текстуры 2.0/3.0 Direct3D 9-Class в Windows Vista и Windows 7, вместо того чтобы использовать параллельную реализацию Direct3D 9 для широкой поддержки оборудования. Однако это не является достаточным для демонстрации этой демонстрации.

На компьютерах под управлением Windows Vista или Windows 7 с установленным Direct3D 11 необходимо использовать по умолчанию Direct3D 11.

</dd> <dt>

<span id="Rationale"></span><span id="rationale"></span><span id="RATIONALE"></span>**Обоснование**
</dt> <dd>

API-интерфейс Direct3D 11 основан на модели WDDM и инфраструктуре Direct3D 10,1 для поддержки новых возможностей: тесселяции оборудования, шейдеров вычислений, многопоточной отрисовки и создания ресурсов, новых форматов сжатия текстур и более гибкого языка шейдеров. Direct3D 11 предоставляет единую поддержку оборудования для современных видеоадаптеров, включая последние версии Direct3D 11 и 10,1, а также видеоадаптеры с поддержкой шейдеров 2.0/3.0 Direct3D 9, что является минимальным видеоадаптером, необходимым для рабочего стола Aero 3D Desktop.

</dd> <dt>

<span id="Additional_Information"></span><span id="additional_information"></span><span id="ADDITIONAL_INFORMATION"></span>**Дополнительные сведения**
</dt> <dd>

Миграция механизма визуализации Direct3D 9 на использование нового интерфейса Direct3D 11 является строго определенной задачей:

-   Исключите все операции с фиксированной функцией в пользу программируемых шейдеров.
-   Обновите все существующие шейдеры до нового синтаксиса модели шейдера 4. x/5.
-   Обновление управления ресурсами для поддержки новой модели представления.
-   Преобразование всех ресурсов для использования нового списка доступных форматов.
-   Обновление обработки состояния рендеринга для использования неизменяемых блоков состояния и переработки констант шейдера в константные буферы.

Это преобразование очень важно для демонстрации Direct3D 11, хотя результат не соответствует демонстрации потребности использования нового API.

Новый API и соответствующая модель программирования HLSL предлагают множество возможностей для расширенного содержимого:

-   Использование существующих аппаратных компонентов Direct3D 10, таких как шейдер геометрии, потоковая передача, массивы текстур и форматы сжатых текстур BC4/BC5.
-   Использование существующих аппаратных функций Direct3D 10,1, например независимых режимов наложения для рендеринга, глубиной чтения, а также уровня MSAA для каждого примера, массивов схем кубов и подготовки к просмотру в виде блочных форматов (BC).
-   Реализация дополнительных алгоритмов GPU с помощью COMPUTE. x на существующих видеоадаптерах Direct3D 10/10.1 (включенных обновленными видеодрайверами) или CS 5,0 на видеоадаптерах следующего поколения Direct3D 11.
-   Подготовка к просмотру нескольких потоков с помощью создания ресурсов в свободной потоковой среде и нескольких контекстов устройств для повышения производительности многоядерных систем (с обновленными видеодрайверами). Дополнительные сведения см. в разделе игры для Windows: демонстрация. 3.
-   Использование новых функций видеооборудования класса Direct3D 11, таких как тесселяция оборудования с помощью поверхности и шейдеров доменов, шейдер модели 5,0 HLSL, аппаратные функции шейдера BC6HBC7 сжатый формат текстуры и динамическая компоновка шейдера.

Методы, которые могут быть реализованы с помощью Direct3D 9 (в основном с высокой стоимостью ЦП), могут быть отключены с помощью графического процессора эффективно, таким образом освобождая ресурсы ЦП для поддержки других требований игры.

API-интерфейсы Direct3D 11, вспомогательные средства и примеры доступны в пакете SDK для DirectX. См. также графические API в Windows.

</dd> </dl>

### <a name="s2-exploit-x64-native"></a>S. 2. эксплойт x64 Native

<dl> <dt>

<span id="Requirement"></span><span id="requirement"></span><span id="REQUIREMENT"></span>**Требуются**
</dt> <dd>

Эта игра включает в себя 64-разрядный машинный исполняемый файл, который предоставляет новые возможности, предоставляемые выпусками x64 Windows, работающими на оборудовании с поддержкой x64. Параллельное сравнение с 32-разрядной версией игры должно показывать заметное улучшение сложности содержимого, сократить общее время загрузки и производительность.

В 64-разрядных выпусках Windows для установки по умолчанию в обозревателях игр и Windows XP Professional x64 Edition всегда должна быть настроена версия по 64-разрядной версии игры. Если требуется Двойная установка, можно указать дополнительную задачу воспроизведения для обозревателя игр в Windows Vista и Windows 7, которая указывает на 32-разрядную версию, но значение по умолчанию должно остаться в версии 64-bit Native.

Обратите внимание, что игра должна поддерживать 64-разрядные выпуски Windows Vista и Windows 7 для удовлетворения этой демонстрации. Поддержка Windows XP Professional x64 Edition рекомендуется, но не является обязательной.

</dd> <dt>

<span id="Rationale"></span><span id="rationale"></span><span id="RATIONALE"></span>**Обоснование**
</dt> <dd>

Технология x64 предоставляет возможности 64-разрядной адресации для рынков потребительского и серверного программного обеспечения с полной скоростью 32-бит обратно совместимости для существующих приложений. x64 является ключевой частью плана как для AMD (AMD64), так и для Intel (EMT64), и, за исключением Ultra-Mobile процессоров, поддерживает технологию для всех процессоров текущего и будущего поколения.

Windows XP Professional x64 Edition была первой ориентированной на потребителя операционной системой Windows (ОС) для поддержки технологии x64, а Windows Vista и Windows 7 значительно расширяют доступность ОС для 64-разрядных вычислительных вычислений. Благодаря 2 ГБ ОЗУ в стандартном масштабе на многих новых компьютерах дальнейшие улучшения масштабирования памяти не повышают пользу 32-разрядных отдельных приложений, которые не могут использовать более 2 ГБ физической памяти. Многие игры уже сегодня сталкиваются с проблемами, подключив все доступное содержимое к ограничениям в 2 ГБ виртуального адресного пространства, особенно если они объединены с большими воспоминаниями видео, доступными на высокопроизводительных графических процессорах, и переход на технологию x64 значительно увеличивает уровень детализации поддержки.

совместимость с x64 для 32-разрядных игр — это игры для технического требования Windows (2,2), но для полного использования новых технологий требуется 64-разрядная собственная реализация.

</dd> <dt>

<span id="Additional_Information"></span><span id="additional_information"></span><span id="ADDITIONAL_INFORMATION"></span>**Дополнительные сведения**
</dt> <dd>

Основное преимущество 64-разрядной адресации — возможность прямого доступа к более чем 2 ГБ физической и виртуальной памяти. Пространство адресов большого объема виртуальной памяти позволяет широко использовать сопоставленные в памяти операции ввода-вывода без проблем с нехваткой адресного пространства виртуальной машины, которые были распространены в 32-разрядном программировании. Игры могут использовать новое пространство для значительного улучшения времени загрузки или, в некоторых случаях, для исключения пауз для загрузки содержимого.

Существующие 32-разрядные приложения могут воспользоваться преимуществами 64-разрядных версий, используя возможность обработки адресов с полными 32 разрядами данных при построении с помощью параметра компоновщика "включить крупные адреса (**/LARGEADDRESSAWARE**)". В 32-разрядных версиях Windows XP специальные режимы загрузки позволяли использовать такие приложения для адресации до 3 ГБ ОЗУ, а выпуски x64 предоставляют доступ к 4 ГБ ОЗУ для приложений с поддержкой больших адресов (LAA). Хотя использование LAA в 32-разрядном приложении не соответствует этим демонстрационным требованиям, эта технология моста является чрезвычайно полезным способом предоставления дополнительных преимуществ масштабирования в версиях Windows x64 для тех, которые не полностью реализуют это демонстрационное требование.

Дополнительные сведения см. в статье [64-разрядное программирование для разработчиков игр](/windows/desktop/DxTechArts/sixty-four-bit-programming-for-game-developers) и [ОЗУ, видеопамяти и других объемов ОЗУ. в гамасутра есть 64-разрядные игры](https://www.gamasutra.com/view/feature/3602/sponsored_feature_ram_vram_and_.php) .

> [!Note]  
> Ключевой задачей этой демонстрации является обеспечение того, что все сторонние библиотеки или компоненты, на которые полагается ваша игра, доступны для 64-разрядной разработки в машинном коде. Многие устаревшие API-интерфейсы Майкрософт также были исключены из 64-разрядной собственной среды, что может быть проблемой для баз кода ядра, содержащих старые реализации ключевых систем.

 

</dd> </dl>

### <a name="s3-exploit-many-core-processors"></a>S. 3. эксплойты Many-Core процессоров

<dl> <dt>

<span id="Requirement"></span><span id="requirement"></span><span id="REQUIREMENT"></span>**Требуются**
</dt> <dd>

Игра реализует функции, которые используют преимущества многоядерных процессоров, масштабирование до 3, 4 или более ядер, если они доступны.

Если игра поддерживает однопроцессорные или двухъядерные системы, то параллельное сравнение с четырехъядерной системой должно продемонстрировать ощутимые новые функции, дополнительные привлекательные эффекты, улучшения качества содержимого и (или) повысить производительность.

Поскольку технология масштабирования с двумя ядрами уже широко поддерживается играми, а также автоматически используется различными усовершенствованиями драйвера Direct3D, масштабирование с двумя ядрами недостаточно для демонстрации этой демонстрации.

</dd> <dt>

<span id="Rationale"></span><span id="rationale"></span><span id="RATIONALE"></span>**Обоснование**
</dt> <dd>

Продолжение роста производительности для ЦП изменилось с улучшений частоты часов до добавления вычислительных ядер. Планы AMD и Intel основаны на масштабируемых многоядерных проектах. Все игровые платформы нового поколения имеют многоядерные ЦП из-за этой фундаментальной смены в развитии процессоров. Приложения с одним потоком больше не будут видеть значительную прибыль от процессоров следующего поколения. Простое многопоточность также не будет масштабироваться, так как количество ядер ЦП в общем использовании растет до трех или более.

</dd> <dt>

<span id="Additional_Information"></span><span id="additional_information"></span><span id="ADDITIONAL_INFORMATION"></span>**Дополнительные сведения**
</dt> <dd>

Обратите внимание, что количество ядер не должно быть степенью двух, поэтому игры должны масштабироваться линейно и обрабатывать базовые показатели по 3, 4, 5, 6, 7, 8 и т. д.

Масштабирование путем увеличения числа потоков в приложении обеспечивает возврат только в том случае, если стоимость связи и синхронизации потоков остаются в состоянии Check. Масштабирование на основе компонентов может оказаться более простым решением в краткосрочной ситуации, что позволит играть нормально работать без дополнительных потоков на одноядерных системах и включать их при наличии дополнительной мощности ЦП.

Дополнительные сведения см. в разделах [Создание кода для нескольких ядер в xbox 360 и Microsoft Windows](/windows/desktop/DxTechArts/coding-for-multiple-cores) и [вопросы программирования для Xbox 360 и Microsoft Windows](/windows/desktop/DxTechArts/lockless-programming) в статьях DirectX, а также в разделе дксутлоккфрипипе Utility и коредетектион Sample.

Использование беспотокового создания ресурсов и контекстов устройств Direct3D 11 полезно при обеспечении масштабируемости для многих ядер при подготовке и загрузке графических ресурсов. Ознакомьтесь с играми для демонстрации Windows. 1.

Обратите внимание, что использование инструкции ЦП, RDTSC напрямую, вместо использования API Windows для расчета времени на многоядерных системах может привести к проблемам с некоторыми конфигурациями оборудования и ОС. см. статью [время игры и многоядерные процессоры](/windows/desktop/DxTechArts/game-timing-and-multicore-processors) в статьях DirectX.

</dd> </dl>

### <a name="s4-support-games-for-windows---live"></a>S. 4. Поддержка игр для Windows — LIVE

Игры для Windows (LIVE) больше не поддерживаются корпорацией Майкрософт.

### <a name="s5-support-windows-touch"></a>S. 5. Поддержка сенсорного ввода Windows

<dl> <dt>

<span id="Requirement"></span><span id="requirement"></span><span id="REQUIREMENT"></span>**Требуются**
</dt> <dd>

Игры с поддержкой сенсорного ввода Windows работают с помощью сенсорного ввода и (или) жестов на компьютерах под управлением Windows 7 с сенсорным экраном. Также можно использовать ввод с клавиатуры, но основной интерфейс воспроизведения должен быть сенсорным.

Включение сенсорного ввода не должно препятствовать использованию мыши или общего контроллера в соответствии с техническим требованием 1,4.

Установщик игры не должен поддерживать функции сенсорного ввода Windows.

</dd> <dt>

<span id="Rationale"></span><span id="rationale"></span><span id="RATIONALE"></span>**Обоснование**
</dt> <dd>

Экраны с поддержкой нескольких сенсорных устройств доступны для ноутбуков и настольных компьютеров, и они представляют собой ключевую функцию, которая повышается с выпуском Windows 7. Windows 7 поддерживает Windows Touch во всех интерфейсах рабочего стола и общих элементов управления.

</dd> <dt>

<span id="Additional_Information"></span><span id="additional_information"></span><span id="ADDITIONAL_INFORMATION"></span>**Дополнительные сведения**
</dt> <dd>

Приложения с машинным кодом могут получать доступ к нескольким касаниям через \_ сообщения WM Touch в сочетании с функцией [**регистертаучвиндов**](/windows/desktop/api/winuser/nf-winuser-registertouchwindow) . См. также API манипуляций и инерции.

Windows Presentation Foundation (WPF) 4,0 предоставляет управляемое решение для многосенсорных интерфейсов.

Дополнительные сведения см. в разделе Windows Touch SDK.

</dd> </dl>

### <a name="s6-support-high-color"></a>С. 6 поддержка высокого цвета

<dl> <dt>

<span id="Requirement"></span><span id="requirement"></span><span id="REQUIREMENT"></span>**Требуются**
</dt> <dd>

Игры, поддерживающие высокий цвет, используют формат 10:10:10:2 \_ ( \_ R10G10B10A2 формата DXGI, D3DFMT \_ A2B10G10R10) или 16:16:16:16 (в \_ формате DXGI \_ R16G16B16A16, D3DFMT \_ A16B16G16R16) для фонового буфера отрисовки и режима полноэкранного отображения.

При использовании целевого объекта рендеринга высокого цвета содержимое High-Dynamic диапазона (HDR) может быть визуализировано с расширенным или широким охватом при выполнении сопоставления тонового диапазона с 10-или 16-разрядным диапазоном.

</dd> <dt>

<span id="Rationale"></span><span id="rationale"></span><span id="RATIONALE"></span>**Обоснование**
</dt> <dd>

Мониторы способны отображать более 256 уровней цвета на канал в течение многих лет, даже если дисплеи CRT распространены. Для проверки оборудования на видеоадаптерах установлен ограничивающий фактор. Современные GPU, в том числе большинство устройств Direct3D 9-Class и все 10-класс Direct3D и лучшее оборудование, имеют аппаратное обеспечение с поддержкой по крайней мере 10 бит на канал, а аппаратные возможности в будущем задаются в 16 бит на цветовой канал. Системы связи HD TV (HDMI, Дисплайпорт) были разработаны так, чтобы поддерживать более 8 бит на канал, а аналоговый VGA уже будет содержать такие сигналы.

</dd> <dt>

<span id="Additional_Information"></span><span id="additional_information"></span><span id="ADDITIONAL_INFORMATION"></span>**Дополнительные сведения**
</dt> <dd>

Обратите внимание, что высокий цвет, или Hi, исторически обозначает перемещение с 256 (8-разрядных) цвета на экран с 15-или 16-разрядным цветом. Большинство систем вывода имеют много времени, так как перемещено на True Color, который имеет 24-разрядный цвет или 8 бит на цветовой канал для красного, зеленого и синего цветов. В соответствии с высоким уровнем цвета это означает, что новое поколение отображает системы, которые могут обрабатывать более 8 бит на отдельный цветовой канал. Также называется глубоким цветом.

</dd> </dl>

### <a name="recommended-best-practices"></a>Рекомендуемые рекомендации

### <a name="introduction"></a>Введение

Помимо удовлетворения технических требований и внедрения одного или нескольких демонстраций в заголовке, существует ряд рекомендаций, которые следует соблюдать для всех игр Windows. Хотя эти рекомендации выходят за рамки основных технических требований, настоятельно рекомендуется использовать их для всех игр для заголовков Windows.

### <a name="additional-recommendations"></a>Дополнительные рекомендации

-   Используйте последнюю версию компилятора и среды выполнения Visual Studio. Более новые версии компилятора реализуют значительные улучшения для качества создаваемого кода и для проблем безопасности, а также используют современные стратегии оптимизации процессоров. Обновление компилятора и использование последней версии среды выполнения C — это простой способ перехода на современные методики программирования.
-   Используйте версию библиотеки динамической компоновки (DLL) среды выполнения C, а не статическую компоновку, и используйте защищенную CRT. (Исключения могут быть сделаны в специальных сценариях предустановки, например для программы автозапуска или для самого установщика).
-   Для игрового звука используйте XAudio2, X3DAudio и (или) запись транзакций вместо DirectSound. Для обработчиков аудио, которые выполняют все смешивание и преобразование исходных данных и требуют только решения с низкой задержкой для вывода звука, используйте DirectSound в Windows XP (только) и ВАСАПИ в Windows Vista и Windows 7.
-   Старайтесь не использовать устаревшие и устаревшие интерфейсы API: DirectDraw, DirectSound, DirectPlay, уровень производительности DirectMusic, радиосвязь DirectPlay и режим "в режиме поддержки Direct3D". Обратите внимание, что в Windows Vista и Windows 7 недоступен режим "Радиочастота DirectPlay" и "сохраняемый Direct3D". Уровень производительности DirectPlay и DirectMusic недоступен для приложений для машинного кода x64.
-   Оптимизируйте использование наборов инструкций SSE/SSE2 SIMD. См. API [директксмас](/windows/desktop/dxmath/directxmath-portal) в Windows SDK в качестве межплатформенного решения для операций с оптимизированными для SIMD математическими операциями.
-   Используйте современные рекомендации для обеспечения безопасности Windows (включая параметры компилятора и компоновщика, такие как **/NXCOMPAT**, **/GS**, **/SAFESEH**, **/DynamicBase**, **/SDL** и т. д.). Дополнительные сведения см. [в разделе Лучшие методики обеспечения безопасности при разработке игр](/windows/desktop/DxTechArts/best-security-practices-in-game-development).
-   Используйте новейшие компоненты и библиотеки Windows SDK. Удалите зависимости от устаревших Директсетуп, развернутых нестандартных компонентов, таких как D3DX9, D3DX10 и D3DX11. Рассмотрите возможность использования [директкстекс](https://github.com/Microsoft/DirectXTex) или [директкстк](https://github.com/Microsoft/DirectXTK) или и того, и другого.
-   Избегайте использования более старого компилятора HLSL, а вместо этого используйте современный компилятор HLSL. Если для приложения требуется поддержка Pixel Shader 1. x, используйте сборку шейдера вместо HLSL или ограничьте использование более старого компилятора только этими сценариями.

## <a name="resources"></a>Ресурсы



| Термин                                                                                                                                                                                                                         | Описание                                                                                                                                                   |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="Games_for_Windows__Test_Cases__"></span><span id="games_for_windows__test_cases__"></span><span id="GAMES_FOR_WINDOWS__TEST_CASES__"></span>Игры для Windows: тестовые случаи <br/>                              | Рекомендации по работе с играми в Windows XP, Windows Vista и Windows 7<br/>                                                                               |
| <span id="Windows_SDK__"></span><span id="windows_sdk__"></span><span id="WINDOWS_SDK__"></span>Windows SDK <br/>                                                                                                      | [Пакеты SDK для Windows](https://msdn.microsoft.com/bb980924.aspx)<br/>                                                                                      |
| <span id="User_Account_Control_Guidelines__"></span><span id="user_account_control_guidelines__"></span><span id="USER_ACCOUNT_CONTROL_GUIDELINES__"></span>Рекомендации по контролю учетных записей пользователей <br/>                      | [Требования к разработке приложений Windows Vista для обеспечения совместимости управления учетными записями пользователей](/previous-versions/dotnet/articles/bb530410(v=msdn.10))<br/> |
| <span id="WinQual_Developer_Portal__"></span><span id="winqual_developer_portal__"></span><span id="WINQUAL_DEVELOPER_PORTAL__"></span>Портал разработчика Винкуал <br/>                                                  | [Веб-службы Windows Quality Services (Винкуал)](/windows-hardware/drivers/dashboard/winqual-submission-tool--winqualexe-)<br/>                                                                         |
| <span id="DirectX_Developer_Portal__"></span><span id="directx_developer_portal__"></span><span id="DIRECTX_DEVELOPER_PORTAL__"></span>Портал разработчика DirectX <br/>                                                  | [Центр разработчиков DirectX](/previous-versions/windows/apps/hh452744(v=win.10))<br/>                                                                               |
| <span id="Games_for_Windows_and_DirectX_SDK_Blog"></span><span id="games_for_windows_and_directx_sdk_blog"></span><span id="GAMES_FOR_WINDOWS_AND_DIRECTX_SDK_BLOG"></span>Блог о играх для Windows и DirectX SDK<br/> | [Записи блога, посвященные играм для Windows и DirectX SDK](https://walbourn.github.io/)<br/>                                                                           |
| <span id="Additional_DirectX_Articles"></span><span id="additional_directx_articles"></span><span id="ADDITIONAL_DIRECTX_ARTICLES"></span>Дополнительные статьи по DirectX<br/>                                             | [Технические статьи по DirectX](/windows/desktop/DxTechArts/dx9-technical-articles)<br/>                                                                                    |



 

 

