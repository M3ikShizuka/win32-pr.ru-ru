---
title: Брандмауэр Windows для разработчиков игр
description: В этой статье описывается брандмауэр Windows, почему он существует, что он делает и как это сделать. Что важнее всего, здесь описывается настройка игры для работы с брандмауэром.
ms.assetid: 2ee9f769-03dc-3661-5d5b-6a4ecd151fd5
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 88656fb3f622a847c15544646c333b807f3a0fb2
ms.sourcegitcommit: b7a1da2711221fa99072079bf52399cbdfc6bd9d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/05/2021
ms.locfileid: "104547447"
---
# <a name="windows-firewall-for-game-developers"></a>Брандмауэр Windows для разработчиков игр

В этой статье описывается брандмауэр Windows, почему он существует, что он делает и как это сделать. Что важнее всего, здесь описывается настройка игры для работы с брандмауэром.

Содержимое:

-   [Что такое брандмауэр?](#what-is-a-firewall)
-   [Как узнать, затрагивается ли моя игра?](#how-can-i-tell-if-my-game-is-affected)
-   [Брандмауэр до выхода Windows XP SP2](#the-firewall-before-windows-xp-sp2)
-   [Брандмауэр Windows XP с пакетом обновления 2 (SP2) лучше](#windows-xp-sp2-firewall-is-better)
-   [Работа с брандмауэром Windows](#working-with-the-windows-firewall)
-   [Интеграция с помощью InstallShield Инсталлскрипт](#integrating-using-installshield-installscript)
-   [Интеграция в разумные для установщик Windows](#integrating-into-wise-for-windows-installer)
-   [Интеграция в установщик Windows](#integrating-into-windows-installer)
-   [Рекомендации](#recommendations)

## <a name="what-is-a-firewall"></a>Что такое брандмауэр?

Брандмауэр обеспечивает барьер для вторжений на основе сети. Он блокирует незапрошенный входящий трафик и делает систему в основном невидимой в Интернете, отклоняя запросы протокола ICMP. Это означает, что проверка связи и средство tracert не будут работать. Брандмауэр также выявляет и отклоняет недопустимые пакеты.

Этот барьер предотвращает уступающую атаки. Атаки распространяются на множество систем с одной и той же уязвимостью. Брандмауэр может воспрепятствовать большому количеству атак, поместив знак "не беспокоить" для этих функций, которые сейчас не используются; Атака пропускается и не заменяется домом. Основным преимуществом брандмауэра Windows является то, что функции и приложения, которые не используются, не могут подвергнуться атаке.

Пользователь настраивает систему, чтобы определить, какие приложения и компоненты необходимы и должны быть открыты для сети. Это происходит либо при установке приложения, либо при попытке открыть его в сети.

## <a name="how-can-i-tell-if-my-game-is-affected"></a>Как узнать, затрагивается ли моя игра?

После появления пакета обновления 2 (SP2) для Windows XP брандмауэр Windows был широко развернут. Все многопользовательские игры Windows оказываются в некоторой степени. Хотя клиенты, как правило, являются хорошей формой, серверами, узлами и одноранговыми узлами в одноранговой сети, необходимо настроить брандмауэр для продолжения работы. В частности, входящий незапрошенный трафик удаляется. Брандмауэр перехватывает пакеты фильтрации сетевого трафика на основе содержимого пакетов и последней сетевой активности. Брандмауэр использует содержимое и действие для принятия решения о пересылке или удалении пакета. После правильной настройки брандмауэра игра сможет принимать входящий нежелательный трафик, как и раньше.

Кто имеет входящий нежелательный трафик?

-   Клиент/сервер: все участники подключаются к центральному серверу. Центральным сервером является сервер с входящим нежелательным трафиком. Клиенты, подключающиеся к серверу, запрашивает возвращаемый трафик, который является ожидаемым и может проходить через брандмауэр при соблюдении правил для клиентов. Центральный сервер должен быть настроен на принятие незапрошенного трафика, чтобы разрешить передачу трафика клиента через брандмауэр.
-   Массовый многопользовательский режим (MMP). все участники подключены к центру обработки данных. Это количество для сложной связи "клиент-сервер", так как центр обработки данных имеет входящий незапрошенный трафик. Участники являются клиентами, и в общем случае не требуется принимать незапрошенный трафик.
-   Одноранговая сеть, в которой все участники соединены друг с другом напрямую. все участники должны быть готовы к приему незапрошенного трафика от любого нового игрока, присоединяемого к группе. В определенном смысле, каждый из участников должен функционировать как узел, поэтому все они должны быть настроены так, как будто они являются узлами.

Обычно клиенты являются хорошей формой. Их исходящие подключения протокола управления передачей (TCP/IP) будут работать, как и исходящие сообщения протокола датаграмм (UDP), а также своевременные ответы на эти сообщения. Этот порт остается открытым в течение 90 секунд после каждого исходящего сообщения в ожидаемом ответе.

## <a name="the-firewall-before-windows-xp-sp2"></a>Брандмауэр до выхода Windows XP SP2

Брандмауэр подключения к Интернету (ICF) в Windows XP и Windows Server 2003 является фильтром пакетов с отслеживанием состояния и обрабатывает как протокол IP версии 4 (IPv4), так и Протокол Интернета версии 6 (IPv6). Однако он не включен по умолчанию и не поддерживает сторонние сетевые стеки, в которых имеется значительный номер в мире, например крупные Интернет-поставщики, включая местные телефонные компании.

Для тех, которые не включены в Windows XP с пакетом обновления 2 (SP2), настоятельно рекомендуется включить ICF. См. инструкции по использованию брандмауэра Интернета в https://www.microsoft.com/security/protect качестве первого шага по обеспечению безопасности компьютера. Брандмауэр подключения к Интернету (ICF) предоставляет сопоставление портов для переопределения фильтра пакетов. По сути, вы указываете порт для открытия, который остается открытым, пока он не будет закрыт. Если пользователь перезагружается перед закрытием, он остается открытым, пока не будет закрыт. Управление брандмауэром и управление сопоставлением портов осуществляется с помощью [**инетшарингманажер**](/previous-versions/windows/desktop/api/netcon/nn-netcon-inetsharingmanager) (IPv4) и [**INetFwV6Mgr**](/previous-versions/windows/desktop/ics/inetfwv6mgr) (IPv6).

Брандмауэр Windows для Windows XP с пакетом обновления 2 (SP2) — это более комплексное решение, которое поддерживает сторонние сетевые стеки и обеспечивает более интеллектуальный доступ к портам: порты остаются открытыми, пока приложения, которым они требуются, остаются активными.

## <a name="windows-xp-sp2-firewall-is-better"></a>Брандмауэр Windows XP с пакетом обновления 2 (SP2) лучше

Windows XP с пакетом обновления 2 (SP2) предоставляет варианты и параметры безопасности на передний план. Целью является защита по умолчанию и предоставление пользователю возможности получать сведения о том, какие приложения разрешено запускать на своем компьютере.

Новый брандмауэр Windows доступен в Windows XP SP2 и Windows Server 2003 с пакетом обновления 1 (SP1). Как и ICF, это программный брандмауэр, поддерживающий как IPv4, так и IPv6, но в отличие от ICF брандмауэр Windows:

-   Имеет защиту системы во время загрузки, устраняя небольшое окно уязвимости во время загрузки.
-   Поддерживает сторонние сетевые стеки.
-   Имеет режим "включено без исключений", который блокирует все незапрошенные входящие пакеты. Это замечательно, если вы используете общедоступную сеть, например в аэропорту или кафе.

В режиме "вкл. без исключений" все статические отверстия закрываются. Вызовы API для открытия статического отверстия разрешены, но отложены; то есть они не применяются до тех пор, пока брандмауэр не вернется к нормальной работе. Все запросы на прослушивание приложениями также будут игнорироваться. Исходящие подключения по-прежнему будут выполнены.

Для новых приложений добавьте приложение в список исключений во время установки. Вы можете добавить приложение с помощью интерфейса [**инетфваусоризедаппликатионс**](/previous-versions/windows/desktop/api/netfw/nn-netfw-inetfwauthorizedapplications) , указав полный путь. В этом примере будут рассмотрены подробные сведения.

В качестве побочной заметки может возникнуть вопрос, что это угроза безопасности, с которой приложения могут добавлять и удалять приложения из списка исключений, или, возможно, вы думаете, что приложения могут полностью отключить брандмауэр. Для выполнения этих феатс приложение должно иметь права администратора. Если вредоносный код работает в системе в режиме администратора, игра уже переключается и хакер уже выиграл. Возможность отключения брандмауэра может помешать атаке на несколько сносок.

Устаревшие приложения, включая приложения, установленные до обновления до Windows XP с пакетом обновления 2 (SP2), обрабатываются с помощью всплывающего окна список исключений (см. рис. 1). В этом диалоговом окне показано, когда приложение пытается открыть порт для входящего трафика. при вызове BIND () с ненулевым портом для UDP или Accept () для протокола TCP/IP. Вы должны работать от имени администратора для "разблокирования" приложений, в то время как параметр "спрашивать позже" запрещает это время, но снова запрашивается в следующий раз.

Это не блокирующее, Системное модальное диалоговое окно. При запуске приложения Microsoft Direct3D в полноэкранном режим диалоговое окно находится под названием. и пользователь может обменять его, когда приложение выходит из полноэкранного режима или Alt-вкладки на Рабочий стол. Однако не всегда очевидно, что это диалоговое окно появлялось при полноэкранном запуске игры, поэтому важно избегать появления этого диалогового окна с помощью интерфейса [**инетфваусоризедаппликатионс**](/previous-versions/windows/desktop/api/netfw/nn-netfw-inetfwauthorizedapplications) , как описано ниже.

**Рис. 1. Всплывающее диалоговое окно списка исключений**

![всплывающее диалоговое окно списка исключений](images/firewalls1.jpg)

Вы заметите, что всплывающее окно знает имя и издателя приложения. Здесь нет никакого волшебства — он извлекается из информации о версии исполняемого файла. Эта информация является важным средством администрирования системы. Он используется даже для текущей работы совместимости приложений. Некоторые приложения не сохраняют сведения о версии в актуальном состоянии.

Пользователи также могут добавлять свои приложения через пользовательский интерфейс (см. рис. 2).

**Рис. 2. Настройка брандмауэра**

![Настройка брандмауэра](images/firewalls2.jpg)

**Рис. 3. Добавление программы в список исключений брандмауэра**

![Добавление программы в список исключений брандмауэра](images/firewalls3.jpg)

Лучшим сценарием является автоматическое добавление добавлений и удалений из списка исключений. Лучшим моментом для выполнения этих дополнений является процесс установки и удаления. Для добавления или удаления из списка исключений брандмауэра требуются права администратора, поэтому обязательно примите это в учетную запись.

## <a name="working-with-the-windows-firewall"></a>Работа с брандмауэром Windows

Опять же, большинство игр необходимо добавить в список исключений брандмауэра, если они могут работать как сервер или если они реализуют протокол однорангового обмена данными. FirewallInstallHelper.dll является примером библиотеки DLL, которую можно вызывать из установщика. Источник предоставляется, если вы хотите интегрировать источник непосредственно в собственное приложение. Пример можно найти здесь:



|             |                                                                              |
|-------------|------------------------------------------------------------------------------|
| Источник:     | (Корень пакета SDK) \\ Примеры \\ C++ \\ Разное \\ фиреваллинсталлхелпер                        |
| Исполняемый файл: | (Корень пакета SDK) \\ Примеры \\ для \\ \\ \\ <arch> \\FirewallInstallHelper.dll "прочие ячейки C++" |



 

Ниже перечислены функции, экспортируемые этой библиотекой DLL.

<dl> <dt>

<span id="AddApplicationToExceptionListW"></span><span id="addapplicationtoexceptionlistw"></span><span id="ADDAPPLICATIONTOEXCEPTIONLISTW"></span>**аддаппликатионтоексцептионлиств**
</dt> <dd>

Эта функция добавляет приложение в список исключений. Он принимает полный путь к исполняемому файлу и понятное имя, которое будет отображаться в списке исключений брандмауэра. Для этой функции требуются права администратора.

</dd> <dt>

<span id="AddApplicationToExceptionListA"></span><span id="addapplicationtoexceptionlista"></span><span id="ADDAPPLICATIONTOEXCEPTIONLISTA"></span>**аддаппликатионтоексцептионлиста**
</dt> <dd>

Версия **аддаппликатионтоексцептионлиств** для ANSI

</dd> <dt>

<span id="RemoveApplicationFromExceptionListW"></span><span id="removeapplicationfromexceptionlistw"></span><span id="REMOVEAPPLICATIONFROMEXCEPTIONLISTW"></span>**ремовеаппликатионфромексцептионлиств**
</dt> <dd>

Эта функция удаляет приложение из списка исключений. Он принимает полный путь к исполняемому файлу. Для этой функции требуются права администратора

</dd> <dt>

<span id="RemoveApplicationFromExceptionListA"></span><span id="removeapplicationfromexceptionlista"></span><span id="REMOVEAPPLICATIONFROMEXCEPTIONLISTA"></span>**ремовеаппликатионфромексцептионлиста**
</dt> <dd>

Версия **ремовеаппликатионфромексцептионлиств** для ANSI

</dd> <dt>

<span id="CanLaunchMultiplayerGameW"></span><span id="canlaunchmultiplayergamew"></span><span id="CANLAUNCHMULTIPLAYERGAMEW"></span>**канлаунчмултиплайергамев**
</dt> <dd>

Эта функция сообщает, было ли приложение отключено или удалено из списка исключений. Он должен вызываться при каждом запуске игры. Функция принимает полный путь к исполняемому файлу. Эта функция не требует прав администратора.

</dd> <dt>

<span id="CanLaunchMultiplayerGameA"></span><span id="canlaunchmultiplayergamea"></span><span id="CANLAUNCHMULTIPLAYERGAMEA"></span>**канлаунчмултиплайергамеа**
</dt> <dd>

Версия **канлаунчмултиплайергамев** для ANSI

</dd> <dt>

<span id="SetMSIFirewallProperties"></span><span id="setmsifirewallproperties"></span><span id="SETMSIFIREWALLPROPERTIES"></span>**сетмсифиреваллпропертиес**
</dt> <dd>

Этот метод следует вызывать только при использовании настраиваемых действий в установщик Windows. Дополнительные сведения см. ниже.

</dd> <dt>

<span id="AddToExceptionListUsingMSI"></span><span id="addtoexceptionlistusingmsi"></span><span id="ADDTOEXCEPTIONLISTUSINGMSI"></span>**аддтоексцептионлистусингмси**
</dt> <dd>

Этот метод следует вызывать только при использовании настраиваемых действий в установщик Windows. Дополнительные сведения см. ниже.

</dd> <dt>

<span id="RemoveFromExceptionListUsingMSI"></span><span id="removefromexceptionlistusingmsi"></span><span id="REMOVEFROMEXCEPTIONLISTUSINGMSI"></span>**ремовефромексцептионлистусингмси**
</dt> <dd>

Этот метод следует вызывать только при использовании настраиваемых действий в установщик Windows. Дополнительные сведения см. ниже.

</dd> </dl>

В следующих разделах описываются конкретные методы вызова экспортированных функций DLL из этого Фиреваллинсталлхелпер из пакета InstallShield, разумно или установщик Windows. Все методы отображают одинаковые результаты, и разработчик может определить, какой метод реализовать.

## <a name="integrating-using-installshield-installscript"></a>Интеграция с помощью InstallShield Инсталлскрипт

Альтернативный способ использования API брандмауэра заключается в добавлении вызовов функции в InstallShield Инсталлскрипт. Шаги, необходимые для интеграции, довольно просты:

1.  Откройте проект Инсталлскрипт в редакторе InstallShield.
2.  Добавьте FirewallInstallHelper.dll в проект в виде файла поддержки.

    1.  На вкладке помощник по проекту откройте вкладку файлы приложения.
    2.  Нажмите кнопку Добавить файлы, чтобы добавить файлы в целевую папку приложения.
    3.  Перейдите к созданной FirewallInstallHelper.dll или используйте ту, которая была создана в пакете SDK для DirectX, и добавьте ее в проект.

3.  Добавьте Инсталлскрипт в проект.

    1.  Откройте представление конструктора установки и щелкните поведение и логику \| инсталлскрипт
    2.  Щелкните файл Инсталлскрипт (обычно Setup. RUL), чтобы открыть его в редакторе.
    3.  Вставьте следующий код в файл Инсталлскрипт:

    ``` syntax
    #include "ifx.h"

    prototype BOOL FirewallInstallHelper.AddApplicationToExceptionListW( WSTRING, WSTRING );
    prototype BOOL FirewallInstallHelper.RemoveApplicationFromExceptionListW( WSTRING );

    function OnMoved()
        WSTRING path[256];
    begin
        // The DLL has been installed into the TARGETDIR
        if !MAINTENANCE then // TRUE when installing
            UseDLL( TARGETDIR ^ "FirewallInstallHelper.dll" );
            path = TARGETDIR ^ "TODO: change to relative path to executable from install directory";
            FirewallInstallHelper.AddApplicationToExceptionListW( path, "TODO: change to friendly app name" );
            UnUseDLL( TARGETDIR ^ "FirewallInstallHelper.dll" );
        endif;
    end;
          

    function OnMoving()
        WSTRING path[256];
    begin
        // The DLL is about to be removed from TARGETDIR
        if MAINTENANCE && UNINST != "" then // TRUE when uninstalling
            UseDLL( TARGETDIR ^ "FirewallInstallHelper.dll" );
            path = TARGETDIR ^ "TODO: change to relative path to executable from install directory";
            FirewallInstallHelper.RemoveApplicationFromExceptionListW( path );
            UnUseDLL( TARGETDIR ^ "FirewallInstallHelper.dll" );
        endif;
    end;
    ```

    4.  Измените комментарии TODO, указав имя приложения, которое будет отображаться в списке исключений брандмауэра, и путь к исполняемому файлу игры относительно каталога установки.

## <a name="integrating-into-wise-for-windows-installer"></a>Интеграция в разумные для установщик Windows

Чтобы выполнить интеграцию с разумным для установщик Windows, необходимо выполнить следующие действия.

1.  Откройте проект установщик Windows.
2.  Выберите вкладку "эксперт по установке" в нижней части страницы.
3.  Щелкните файлы и добавьте FirewallInstallHelper.dll из ДКССДК в каталог установки игры.
4.  Выберите вкладку "Скрипт MSI" внизу.
5.  В нижней части экрана перейдите на вкладку "Выполнение немедленного выполнения".
6.  После Костфинализе добавьте действие "Set Property", которое задает для параметра FULLPATH значение " \[ INSTALLDIR \] относительный путь к исполняемому файлу из каталога установки". Например, " \[ INSTALLDIR \]game.exe" без кавычек
7.  В нижней части страницы выберите вкладку "выполнение отложена".
8.  После Публишпродукт добавьте оператор If с условием "не установлено" (с учетом регистра).
9.  В блоке if добавьте действие "вызов пользовательской библиотеки DLL из назначения".

    1.  Задайте для поля DLL-файла значение « \[ INSTALLDIR \]FirewallInstallHelper.dll».
    2.  Задайте для поля имя функции значение "Аддаппликатионтоексцептионлиста".
    3.  Добавьте параметр с типом "указатель строки", свойством "источник значения" и именем свойства "FULLPATH".
    4.  Добавьте второй параметр с типом "указатель строки", значением Source "Constant" и задайте в качестве значения константы понятное имя приложения, которое должно отображаться в списке исключений брандмауэра.
    5.  Закройте блок If, добавив оператор End.

10. Непосредственно над действием Ремовефилес в верхней части добавьте еще один блок If с условием "Remove ~ =" ALL "" (с учетом регистра и без внешних кавычек).
11. В втором блоке if добавьте действие "вызов пользовательской библиотеки DLL из назначения".

    1.  Задайте для поля DLL-файла значение « \[ INSTALLDIR \]FirewallInstallHelper.dll».
    2.  Задайте для поля имя функции значение "Ремовеаппликатионфромексцептионлиста".
    3.  Добавьте параметр с типом "указатель строки", свойством "источник значения" и именем свойства "FULLPATH".
    4.  Закройте второй блок If, добавив оператор End.

## <a name="integrating-into-windows-installer"></a>Интеграция в установщик Windows

Для интеграции с установщик Windows на высоком уровне необходимо выполнить эти действия. Они будут подробно описаны ниже.

-   Добавьте 2 свойства "Фриендлинамефорфиревалл" и "Релативепастоексефорфиревалл", как описано ниже.
-   После действия Костфинализе вызовите "Сетмсифиреваллпропертиес" в непосредственных настраиваемых действиях, чтобы задать соответствующие свойства MSI для других настраиваемых действий.
-   Во время установки после действия Инсталлфилес вызовите отложенное настраиваемое действие, которое использует функцию Аддтоексцептионлистусингмси в Фиреваллинсталлхелпер.
-   Во время удаления после действия Инсталлфилес вызовите отложенное настраиваемое действие, использующее функцию Фиреваллинсталлхелпер "Ремовефромексцептионлистусингмси".
-   Во время отката вызовите отложенное пользовательское действие, которое также вызывает функцию "Ремовефромексцептионлистусингмси" Фиреваллинсталлхелпер.

Ниже приведены шаги, необходимые для выполнения этой задачи с помощью редактора MSI, например Orca, найденного в пакете Platform SDK. Обратите внимание, что некоторые редакторы имеют мастера, упрощающие некоторые из этих шагов:

1.  Откройте пакет MSI в Orca.
2.  Добавьте следующий код в двоичную таблицу:

    

    | Имя     | Данные                                                                                                                                                                          |
    |----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
    | БРАНДМАУЭРА | Наведите его на FirewallInstallHelper.dll. Этот файл будет внедрен в пакет MSI, поэтому этот шаг придется выполнять каждый раз при повторной компиляции FirewallInstallHelper.dll. |

    

     

3.  Добавьте следующий объект в таблицу CustomAction:

    

    | Действие                   | Тип                                                                                                                                                                                                   | Источник   | Назначение                          |
    |--------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|---------------------------------|
    | фиреваллсетмсипропертиес | Мсидбкустомактионтипедлл + Мсидбкустомактионтипебинаридата + Мсидбкустомактионтипеконтинуе = 65                                                                                                        | БРАНДМАУЭРА | сетмсифиреваллпропертиес        |
    | фиревалладд              | Мсидбкустомактионтипедлл + Мсидбкустомактионтипебинаридата + Мсидбкустомактионтипеконтинуе + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3137                                 | БРАНДМАУЭРА | аддтоексцептионлистусингмси      |
    | фиреваллремове           | Мсидбкустомактионтипедлл + Мсидбкустомактионтипебинаридата + Мсидбкустомактионтипеконтинуе + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3137                                 | БРАНДМАУЭРА | ремовефромексцептионлистусингмси |
    | фиреваллроллбаккадд      | Мсидбкустомактионтипедлл + Мсидбкустомактионтипебинаридата + Мсидбкустомактионтипеконтинуе + msidbCustomActionTypeRollback + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3393 | БРАНДМАУЭРА | ремовефромексцептионлистусингмси |
    | фиреваллроллбаккремове   | Мсидбкустомактионтипедлл + Мсидбкустомактионтипебинаридата + Мсидбкустомактионтипеконтинуе + msidbCustomActionTypeRollback + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3393 | БРАНДМАУЭРА | аддтоексцептионлистусингмси      |

    

     

4.  Добавьте в таблицу Инсталлексекутесекуенце следующее:

    

    | Действие                   | Условие     | Последовательность | Примечания                                                                                                                                                                      |
    |--------------------------|---------------|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
    | фиреваллсетмсипропертиес |               | 1010     | Это место вскоре после Костфинализе.                                                                                                                                       |
    | фиревалладд              | НЕ установлено | 4021     | Это пользовательское действие выполняется только во время новой установки. Порядковый номер помещает действие после Инсталлфилес и после отката.                              |
    | фиреваллроллбаккадд      | НЕ установлено | 4020     | Это пользовательское действие выполняется только при отмене новой установки. Порядковый номер помещает действие после Инсталлфилес и перед добавлением настраиваемого действия.          |
    | фиреваллремове           | Установлено     | 3461     | Это пользовательское действие будет происходить только во время удаления. Порядковый номер помещает действие непосредственно перед Ремовефилес и после отката.                           |
    | фиреваллроллбаккремове   | НЕ установлено | 3460     | Это пользовательское действие выполняется только при отмене удаления. Порядковый номер помещает действие непосредственно перед Ремовефилес и перед удалением настраиваемого действия. |

    

     

5.  Добавьте следующий фрагмент в таблицу свойств:

    

    | Свойство                     | Значение                                                                             |
    |------------------------------|-----------------------------------------------------------------------------------|
    | фриендлинамефорфиревалл      | Должно быть именем, которое будет отображаться в списке исключений. Например, "example Game" |
    | релативепастоексефорфиревалл | Должен быть установленным исполняемым файлом игры. Например, "ExampleGame.exe"  |

    

     

Дополнительные сведения о установщик Windows см. в разделе [установщик Windows](/windows/desktop/Msi/windows-installer-portal).

## <a name="recommendations"></a>Рекомендации

Брандмауэр будет оставаться в курсе. Эти рекомендации позволят вашим заказчикам лучше работать с брандмауэром Windows.

-   Не сообщайте пользователям о необходимости отключения брандмауэра для игры. Это делает весь компьютер уязвимым даже в том случае, если они не воспроизводят игру.
-   Сделайте конфигурацию брандмауэра удобной для пользователей. Добавьте приложение в список исключений во время установки и удалите приложение из списка исключений во время установки.
-   Сообщите пользователю о том, что многопользовательский режим блокируется состоянием брандмауэра. Например, отключите сетевые функции, если они не работают, так как приложение не разрешено или система находится в режиме "без исключений".

 

 