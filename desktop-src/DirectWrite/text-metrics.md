---
title: Метрики текста
description: чтобы помочь вам в разметке, выборе пользовательского шрифта и других операциях с интенсивным использованием метрик, начиная с Windows 8, DirectWrite имеет ряд новых api-интерфейсов для выражения всех сведений о шрифтах, которые могут потребоваться для разработки приложений rich text.
ms.assetid: 9df8c675-6f4d-4de7-916e-7dc51f5f04aa
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 27e5c5eecce93eac3726195410cf5b215bd65de3d7e48248a68d6d96858f8fed
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119329244"
---
# <a name="text-metrics"></a>Метрики текста

чтобы помочь вам в разметке, выборе пользовательского шрифта и других операциях с интенсивным использованием метрик, начиная с Windows 8, [DirectWrite](direct-write-portal.md) имеет ряд новых api-интерфейсов для выражения всех сведений о шрифтах, которые могут потребоваться для разработки приложений rich text.

## <a name="panose"></a>PANOSE

PANOSE — это система визуальной классификации для идентификации гарнитур. Классификация PANOSE содержит сведения о семействе, стиле с засечками, весе, пропорции, контрасте, обводке, стиле ARM, X-высоте и т. д. Эти сведения описывают визуальный стиль шрифта. Эти сведения важны, так как шрифты со сходными значениями PANOSE выглядят одинаково. Это очень полезно в ситуациях, когда шрифт недоступен, и приложение должно вернуться к доступному шрифту. Сравнение значений PANOSE для шрифтов позволяет выбрать шрифт, похожий на исходный шрифт.

Чтобы получить доступ к сведениям о PANOSE для шрифта, используйте метод [**жетпаносе**](/windows/win32/api/dwrite_1/nf-dwrite_1-idwritefont1-getpanose) в интерфейсах [**IDWriteFont1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefont1) и [**IDWriteFontFace1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefontface1) . Этот метод возвращает перечисление [**\_ Panose дврите**](/windows/win32/api/Dwrite_1/ns-dwrite_1-dwrite_panose) , которое содержит все сведения о Panose для этого шрифта.

## <a name="additional-metrics"></a>Дополнительные метрики

начиная с Windows 8, [DirectWrite](direct-write-portal.md) API также поддерживает ряд новых метрик, чтобы выразить полезную информацию о шрифтах для приложения. Эти новые метрики включают эти сведения.

-   Метрики левой, правой, верхней и нижней границ прямоугольника.
-   Позиционирование X и Y для надстрочных и подстрочных элементов.
-   Сведения о масштабировании X и Y для элементов надстрочного и подстрочных индексов.
-   Имеет ли шрифт типографские метрики.

Все эти сведения доступны [**через новый метод**](/windows/win32/api/dwrite_1/nf-dwrite_1-idwritefont1-getmetrics) [**IDWriteFontFace1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefontface1) для интерфейсов и [**IDWriteFont1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefont1) . Этот метод возвращает структуру [**дврите \_ Font \_ METRICS1**](/windows/win32/api/Dwrite_1/ns-dwrite_1-dwrite_font_metrics1) , которая содержит все эти сведения.

## <a name="caret-metrics"></a>Метрики курсора

Чтобы создать приложения для редактирования текста, необходим доступ к сведениям о том, как нарисовать курсор, который осуществляет навигацию по тексту. начиная с Windows 8 [DirectWrite](direct-write-portal.md) предоставляет метод [**жеткаретметрикс**](/windows/win32/api/dwrite_1/nf-dwrite_1-idwritefontface1-getcaretmetrics) для интерфейсов [**IDWriteFontFace1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefontface1) и [**IDWriteFont1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefont1) для этого сценария. **Жеткаретметрикс** возвращает перечисление [**\_ \_ метрик дврите**](/windows/win32/api/Dwrite_1/ns-dwrite_1-dwrite_caret_metrics) , которое содержит сведения о наклоне и смещении курсора вдоль базового плана.

Эти сведения особенно полезны, если вы хотите, чтобы их курсоры были наклонно выполнены с помощью курсивного текста.

## <a name="monospaced-discoverability"></a>Возможность обнаружения с пробелом

Приложения, позволяющие пользователям писать код компьютера, часто используют шрифты с ограниченными пробелами вместо более традиционных шрифтов. таким образом, можно получить больший контроль над выбором шрифтов в приложениях, связанных с разработкой, [DirectWrite](direct-write-portal.md) выражает, является ли шрифт пробелом через API. Метод [**исмоноспацедфонт**](/windows/win32/api/dwrite_1/nf-dwrite_1-idwritefont1-ismonospacedfont) в интерфейсе [**IDWriteFontFace1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefontface1) возвращает логическое значение, указывающее, является ли шрифт пробелом.

## <a name="font-name-matching"></a>Сопоставление имен шрифтов

Приложения Rich Text, такие как модули чтения PDF, должны иметь возможность сопоставлять шрифты в своем содержимом с шрифтами в системе, которым требуется доступ к полным именам шрифтов в нескольких форматах. таким образом, можно лучше сопоставлять шрифты, [DirectWrite](direct-write-portal.md) содержит перечисление, которое выражает полные сведения об именовании шрифта во многих форматах.

используйте перечисление [**\_ \_ \_ идентификаторов информационной строки дврите**](/windows/win32/api/dwrite/ne-dwrite-dwrite_informational_string_id) , чтобы получить полное имя, PostScript имя и PostScript имя CID любого шрифта в системе. Эта информация полезна при необходимости сопоставления шрифтов в приложении с соответствующими шрифтами в локальной системе.

## <a name="glyph-advances"></a>Усовершенствования глифов

Метод **жетглифадванцес** в интерфейсах [**IDWriteFontFace1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefontface1) и [**IDWriteFont1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefont1) принимает количество глифов и индексы, которые необходимы для получения сведений о, а затем возвращает авансы для рассматриваемых глифов.

## <a name="unicode-ranges"></a>Диапазоны Юникода

Приложениям, которым требуется управлять собственным шрифтом, требуется доступ к диапазонам Юникода, поддерживаемым шрифтом. Таким образом, если шрифт codepoint не поддерживается в Юникоде, приложение может выбрать подходящий шрифт, который содержит этот глиф. Без этой информации приложение может использовать шрифт, который не содержит все глифы, необходимые для отображения сведений.

Метод [**жетуникодеранжес**](/windows/win32/api/dwrite_1/nf-dwrite_1-idwritefont1-getunicoderanges) в интерфейсах [**IDWriteFontFace1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefontface1) и [**IDWriteFont1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefont1) принимает максимальное число диапазонов, переданных клиентом, и возвращает фактические диапазоны, поддерживаемые шрифтом.

## <a name="eudc-font-collection"></a>Коллекция шрифтов EUDC

Используйте метод [**жетеудкфонтколлектион**](/windows/win32/api/dwrite_1/nf-dwrite_1-idwritefactory1-geteudcfontcollection) в интерфейсе [**IDWriteFactory1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefactory1) для доступа к коллекции шрифтов EUDC. Этот метод работает так же, как [**жетсистемфонтколлектион**](/windows/win32/api/dwrite/nf-dwrite-idwritefactory-getsystemfontcollection), но вместо этого возвращает указатель на коллекцию шрифтов EUDC.

 

 