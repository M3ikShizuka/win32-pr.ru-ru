---
title: Сравнение текстовых API Win32
description: Для тех разработчиков, которые переносят код приложения Win32, в следующей таблице перечислены текстовые API-интерфейсы Win32 и приблизительный эквивалент в DirectWrite.
ms.assetid: c679e31a-3825-4f59-9c5e-9cf770e1f237
keywords:
- DirectWrite, текстовые api Win32
- Текстовые API Win32
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1da7f95e0de6edef50f93c4a36a9b069d3b2abae
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127255094"
---
# <a name="win32-text-api-comparison"></a>Сравнение текстовых API Win32

Для тех разработчиков, которые переносят код приложения Win32, в следующей таблице перечислены текстовые API-интерфейсы Win32 и приблизительный эквивалент в DirectWrite.



| Текстовые вызовы GDI                                             | Описание                                                                                                           | DirectWrite Друг                                                                                                                                                                                                                                                                                                                                              |
|------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**аддфонтмемресаурцеекс**](/windows/win32/api/wingdi/nf-wingdi-addfontmemresourceex)       | Добавляет внедренный шрифт в таблицу системных шрифтов.                                                                       | [**Креатекустомфонтфилереференце**](/windows/win32/api/dwrite/nf-dwrite-idwritefactory-createcustomfontfilereference)  +  [ **Креатекустомфонтколлектион**](/windows/win32/api/dwrite/nf-dwrite-idwritefactory-createcustomfontcollection)                                                                                                                                                                                             |
| [**аддфонтресаурце**](/windows/win32/api/wingdi/nf-wingdi-addfontresourcea)                 | Добавляет ресурс шрифта в таблицу системных шрифтов.                                                                        | Эквивалента нет. [**Аддфонтресаурце**](/windows/win32/api/wingdi/nf-wingdi-addfontresourcea) добавляет в коллекцию системных шрифтов как часть шага установки шрифта GDI. DirectWrite заранее заполняет коллекцию системных шрифтов и автоматически отслеживает в ней обновления, поэтому установка не требуется.                                                                              |
| [**аддфонтресаурцеекс**](/windows/win32/api/wingdi/nf-wingdi-addfontresourceexa)             | Добавляет закрытый или не перечислимый шрифт в таблицу системных шрифтов.                                                       | То же, что и выше                                                                                                                                                                                                                                                                                                                                                       |
| [**CreateFont**](/windows/win32/api/wingdi/nf-wingdi-createfonta)                           | Создает логический шрифт.                                                                                               | Вместо логического шрифта приложения могут задавать набор свойств шрифта (например, имя семейства, вес, стиль, растяжение и размер) для создания [**идвритетекстформат**](/windows/win32/api/dwrite/nn-dwrite-idwritetextformat). Только приложения, которым необходимо перечислить шрифт, будут обращаться к [**идвритефонт**](/windows/win32/api/dwrite/nn-dwrite-idwritefont) через [**идвритефонтколлектион**](/windows/win32/api/dwrite/nn-dwrite-idwritefontcollection). |
| [**CreateFontIndirect**](/windows/win32/api/wingdi/nf-wingdi-createfontindirecta)           | Создает логический шрифт из структуры.                                                                              | То же, что и выше                                                                                                                                                                                                                                                                                                                                                       |
| [**креатефонтиндиректекс**](/windows/win32/api/wingdi/nf-wingdi-createfontindirectexa)       | Создает логический шрифт из структуры.                                                                              | То же, что и выше                                                                                                                                                                                                                                                                                                                                                       |
| [**DrawText**](/windows/win32/api/winuser/nf-winuser-drawtext)                               | Рисует форматированный текст в прямоугольнике.                                                                                  | [**Идвритетекстлайаут::D RAW**](/windows/win32/api/dwrite/nf-dwrite-idwritetextlayout-draw)                                                                                                                                                                                                                                                                                                           |
| [**дравтекстекс**](/windows/win32/api/winuser/nf-winuser-drawtextexa)                           | Рисует форматированный текст в прямоугольнике.                                                                                  | [**Идвритетекстлайаут::D RAW**](/windows/win32/api/dwrite/nf-dwrite-idwritetextlayout-draw)                                                                                                                                                                                                                                                                                                           |
| [**енумфонтфамекспрок**](/previous-versions//dd162618(v=vs.85))             | Определяемая приложением функция обратного вызова, используемая с [**EnumFontFamiliesEx**](/windows/win32/api/wingdi/nf-wingdi-enumfontfamiliesexa) для обработки шрифтов. | Интерфейс [**идвритефонтколлектион**](/windows/win32/api/dwrite/nn-dwrite-idwritefontcollection) через [ **идвритефактори:: жетсистемфонтколлектион**](/windows/win32/api/dwrite/nf-dwrite-idwritefactory-getsystemfontcollection)                                                                                                                                                                                                 |
| [**EnumFontFamiliesEx**](/windows/win32/api/wingdi/nf-wingdi-enumfontfamiliesexa)           | Перечисляет все шрифты в системе с определенными характеристиками.                                                      | Интерфейс [**идвритефонтколлектион**](/windows/win32/api/dwrite/nn-dwrite-idwritefontcollection) через [ **идвритефактори:: жетсистемфонтколлектион**](/windows/win32/api/dwrite/nf-dwrite-idwritefactory-getsystemfontcollection)                                                                                                                                                                                                 |
| [**ExtTextOut**](/windows/win32/api/wingdi/nf-wingdi-exttextouta)                           | Рисует строку символов.                                                                                             | [**Идвритетекстлайаут::D RAW**](/windows/win32/api/dwrite/nf-dwrite-idwritetextlayout-draw) или [ **идвритерендербитмаптаржет::D равглифрун**](/windows/win32/api/dwrite/nf-dwrite-idwritebitmaprendertarget-drawglyphrun)                                                                                                                                                                                                              |
| [**жетаспектратиофилтерекс**](/windows/win32/api/wingdi/nf-wingdi-getaspectratiofilterex)   | Возвращает параметр для фильтра пропорций.                                                                         | Недоступно                                                                                                                                                                                                                                                                                                                                                                 |
| [**жетчарабквидсс**](/windows/win32/api/wingdi/nf-wingdi-getcharabcwidthsa)               | Возвращает ширину последовательных символов из шрифта TrueType.                                                     | [**Идвритефонтфаце:: Жетдесигнглифметрикс**](/windows/win32/api/dwrite/nf-dwrite-idwritefontface-getdesignglyphmetrics)                                                                                                                                                                                                                                                                             |
| [**жетчарабквидссфлоат**](/windows/win32/api/wingdi/nf-wingdi-getcharabcwidthsfloata)     | Возвращает ширину последовательных символов от текущего шрифта.                                                      | [**Идвритефонтфаце:: Жетдесигнглифметрикс**](/windows/win32/api/dwrite/nf-dwrite-idwritefontface-getdesignglyphmetrics)                                                                                                                                                                                                                                                                             |
| [**жетчарабквидсси**](/windows/win32/api/wingdi/nf-wingdi-getcharabcwidthsi)             | Возвращает ширину последовательных индексов глифов или массив индексов глифов из шрифта TrueType.                     | [**Идвритефонтфаце:: Жетдесигнглифметрикс**](/windows/win32/api/dwrite/nf-dwrite-idwritefontface-getdesignglyphmetrics)                                                                                                                                                                                                                                                                             |
| [**жетчарактерплацемент**](/windows/win32/api/wingdi/nf-wingdi-getcharacterplacementa)     | Возвращает сведения о символьной строке.                                                                            | [**идвритетекстанализер**](/windows/win32/api/dwrite/nn-dwrite-idwritetextanalyzer)                                                                                                                                                                                                                                                                                                                  |
| [**GetCharWidth32**](/windows/win32/api/wingdi/nf-wingdi-getcharwidth32a)                   | Возвращает ширину последовательных символов от текущего шрифта.                                                      | [**Идвритефонтфаце:: жетдесигнглифметрикс**](/windows/win32/api/dwrite/nf-dwrite-idwritefontface-getdesignglyphmetrics) или [ **идвритетекстлайаут:: Metric**](/windows/win32/api/dwrite/nf-dwrite-idwritetextlayout-getmetrics)                                                                                                                                                                                                    |
| [**жетчарвидсфлоат**](/windows/win32/api/wingdi/nf-wingdi-getcharwidthfloata)             | Возвращает дробную ширину последовательных символов от текущего шрифта.                                           | [**Идвритефонтфаце:: жетдесигнглифметрикс**](/windows/win32/api/dwrite/nf-dwrite-idwritefontface-getdesignglyphmetrics) или [ **идвритетекстлайаут:: Metric**](/windows/win32/api/dwrite/nf-dwrite-idwritetextlayout-getmetrics)                                                                                                                                                                                                    |
| [**жетчарвидси**](/windows/win32/api/wingdi/nf-wingdi-getcharwidthi)                     | Возвращает ширину последовательных индексов глифов или массив индексов глифов из текущего шрифта.                      | [**Идвритефонтфаце:: жетдесигнглифметрикс**](/windows/win32/api/dwrite/nf-dwrite-idwritefontface-getdesignglyphmetrics) или [ **идвритетекстлайаут:: Metric**](/windows/win32/api/dwrite/nf-dwrite-idwritetextlayout-getmetrics)                                                                                                                                                                                                    |
| [**жетфонтдата**](/windows/win32/api/wingdi/nf-wingdi-getfontdata)                         | Возвращает данные метрики для шрифта TrueType.                                                                                 | [**Идвритефонтфаце:: Трижетфонттабле**](/windows/win32/api/dwrite/nf-dwrite-idwritefontface-trygetfonttable)                                                                                                                                                                                                                                                                                         |
| [**жетфонтлангуажеинфо**](/windows/win32/api/wingdi/nf-wingdi-getfontlanguageinfo)         | Возвращает сведения о выбранном шрифте для контекста вывода.                                                    | Недоступно                                                                                                                                                                                                                                                                                                                                                                 |
| [**жетфонтуникодеранжес**](/windows/win32/api/wingdi/nf-wingdi-getfontunicoderanges)       | Указывает, какие символы Юникода поддерживаются шрифтом.                                                               | цикл [ **идвритефонт:: хасчарактер**](/windows/win32/api/dwrite/nf-dwrite-idwritefont-hascharacter)                                                                                                                                                                                                                                                                                               |
| [**жетглифиндицес**](/windows/win32/api/wingdi/nf-wingdi-getglyphindicesa)                 | Преобразует строку в массив индексов глифов.                                                                   | [**Идвритефонтфаце:: Жетглифиндицес**](/windows/win32/api/dwrite/nf-dwrite-idwritefontface-getglyphindices)                                                                                                                                                                                                                                                                                         |
| [**жетглифаутлине**](/windows/win32/api/wingdi/nf-wingdi-getglyphoutlinea)                 | Возвращает контур или точечный рисунок для символа в шрифте TrueType.                                                      | метрики глифов — [**идвритефонтфаце:: жетдесигнглифметрикс**](/windows/win32/api/dwrite/nf-dwrite-idwritefontface-getdesignglyphmetrics), фактические сведения о структуре —[**Идвритефонтфаце:: жетглифрунаутлине**](/windows/win32/api/dwrite/nf-dwrite-idwritefontface-getglyphrunoutline), если требуется точечный рисунок глифа, [**идвритерендербитмапрендертаржет::D rawglyphrun**](/windows/win32/api/dwrite/nf-dwrite-idwritebitmaprendertarget-drawglyphrun)                |
| [**жеткернингпаирс**](/windows/win32/api/wingdi/nf-wingdi-getkerningpairsa)                 | Возвращает пары символов кернинга для шрифта.                                                                          | кернинг разрешен через типографские свойства макета (DirectWrite выполняет кернинг, поэтому нет метода, возвращающего эту информацию).                                                                                                                                                                                                                       |
| [**жетаутлинетекстметрикс**](/windows/win32/api/wingdi/nf-wingdi-getoutlinetextmetricsa)     | Возвращает метрики текста для шрифтов TrueType.                                                                                 | [**Идвритефонтфаце:: не метрики**](/windows/win32/api/dwrite/nf-dwrite-idwritefont-getmetrics)                                                                                                                                                                                                                                                                                                       |
| [**жетрастеризеркапс**](/windows/win32/api/wingdi/nf-wingdi-getrasterizercaps)             | Указывает, установлены ли шрифты TrueType.                                                                           | (шрифты TrueType устанавливаются в Windows Vista и Windows 7 по умолчанию.)                                                                                                                                                                                                                                                                                           |
| [**жеттаббедтекстекстент**](/windows/win32/api/winuser/nf-winuser-gettabbedtextextenta)         | Вычисление ширины и высоты символьной строки, включая символы табуляции.                                                  | [**Идвритетекстлайаут:: не метрики**](/windows/win32/api/dwrite/nf-dwrite-idwritetextlayout-getmetrics)                                                                                                                                                                                                                                                                                               |
| [**жеттексталигн**](/windows/win32/api/wingdi/nf-wingdi-gettextalign)                       | Возвращает параметр выравнивания текста для контекста устройства.                                                                 | [**Идвритетекстформат:: Жеттексталигнмент**](/windows/win32/api/dwrite/nf-dwrite-idwritetextformat-gettextalignment)                                                                                                                                                                                                                                                                                   |
| [**жеттекстчарактерекстра**](/windows/win32/api/wingdi/nf-wingdi-gettextcharacterextra)     | Возвращает текущий интервал между символами для контекста устройства.                                                        | Недоступно                                                                                                                                                                                                                                                                                                                                                                 |
| [**жеттекстколор**](/windows/win32/api/wingdi/nf-wingdi-gettextcolor)                       | Возвращает цвет текста для контекста устройства.                                                                             | Недоступно (DirectWrite не зависит от отрисовки и, следовательно, не знает цвет. Приложения должны самостоятельно вести отслеживание.)                                                                                                                                                                                                                                 |
| [**жеттекстекстентекспоинт**](/windows/win32/api/wingdi/nf-wingdi-gettextextentexpointa)       | Возвращает количество символов в строке, которые будут помещаться в пробел.                                               | [**Идвритетекстлайаут:: не метрики**](/windows/win32/api/dwrite/nf-dwrite-idwritetextlayout-getmetrics)                                                                                                                                                                                                                                                                                               |
| [**жеттекстекстентекспоинти**](/windows/win32/api/wingdi/nf-wingdi-gettextextentexpointi)     | Возвращает число индексов глифов, которые будут помещаться в пробел.                                                        | [**Идвритетекстлайаут:: не метрики**](/windows/win32/api/dwrite/nf-dwrite-idwritetextlayout-getmetrics)                                                                                                                                                                                                                                                                                               |
| [**GetTextExtentPoint32**](/windows/win32/api/wingdi/nf-wingdi-gettextextentpoint32a)       | Вычисление ширины и высоты строки текста.                                                                    | [**Идвритетекстлайаут:: не метрики**](/windows/win32/api/dwrite/nf-dwrite-idwritetextlayout-getmetrics)                                                                                                                                                                                                                                                                                               |
| [**жеттекстекстентпоинти**](/windows/win32/api/wingdi/nf-wingdi-gettextextentpointi)         | Вычисление ширины и высоты массива индексов глифов.                                                           | [**Идвритетекстлайаут:: не метрики**](/windows/win32/api/dwrite/nf-dwrite-idwritetextlayout-getmetrics)                                                                                                                                                                                                                                                                                               |
| [**жеттекстфаце**](/windows/win32/api/wingdi/nf-wingdi-gettextfacea)                         | Возвращает имя шрифта, выбранного в контексте устройства.                                                     | [**Идвритефонт:: жетфаценамес**](/windows/win32/api/dwrite/nf-dwrite-idwritefont-getfacenames) (Возвращает все имена)                                                                                                                                                                                                                                                                            |
| [**жеттекстметрикс**](/windows/win32/api/wingdi/nf-wingdi-gettextmetrics)                   | Заполняет буфер метриками для шрифта.                                                                           | [**Идвритефонтфаце:: не метрики**](/windows/win32/api/dwrite/nf-dwrite-idwritefontface-getmetrics)                                                                                                                                                                                                                                                                                                   |
| [**Текст**](/windows/win32/api/wingdi/nf-wingdi-polytextouta)                         | Рисует несколько строк, используя цвета шрифта и текста в контексте устройства.                                             | Н/Д; Создание нескольких объектов макета                                                                                                                                                                                                                                                                                                                                  |
| [**ремовефонтмемресаурцеекс**](/windows/win32/api/wingdi/nf-wingdi-removefontmemresourceex) | Удаляет шрифт, источник которого был внедрен в документ из таблицы системных шрифтов.                                    | [**IUnknown:: Release**](/windows/win32/api/unknwn/nf-unknwn-iunknown-release) для связанного объекта                                                                                                                                                                                                                                                                              |
| [**ремовефонтресаурце**](/windows/win32/api/wingdi/nf-wingdi-removefontresourcea)           | Удаляет шрифты из файла из таблицы системных шрифтов                                                                | Недоступно                                                                                                                                                                                                                                                                                                                                                                 |
| [**ремовефонтресаурцеекс**](/windows/win32/api/wingdi/nf-wingdi-removefontresourceexa)       | Удаляет закрытый или не перечислимый шрифт из таблицы системных шрифтов.                                                  | Недоступно                                                                                                                                                                                                                                                                                                                                                                 |
| [**сетмапперфлагс**](/windows/win32/api/wingdi/nf-wingdi-setmapperflags)                   | Изменяет алгоритм, используемый для отображения логических шрифтов в физических шрифтах.                                                     | Недоступно                                                                                                                                                                                                                                                                                                                                                                 |
| [**сеттексталигн**](/windows/win32/api/wingdi/nf-wingdi-settextalign)                       | Задает флаги выравнивания текста для контекста устройства.                                                                   | [**Идвритетекстформат:: Сеттексталигнмент**](/windows/win32/api/dwrite/nf-dwrite-idwritetextformat-settextalignment)                                                                                                                                                                                                                                                                                   |
| [**сеттекстчарактерекстра**](/windows/win32/api/wingdi/nf-wingdi-settextcharacterextra)     | Задает интервал между символами.                                                                                     | Недоступно                                                                                                                                                                                                                                                                                                                                                                 |
| [**сеттекстколор**](/windows/win32/api/wingdi/nf-wingdi-settextcolor)                       | Задает цвет текста для контекста устройства.                                                                             | Приложение должно позаботиться об указании цвета в одном из вызовов [**Draw**](/windows/win32/api/dwrite/nf-dwrite-idwriteinlineobject-draw) .                                                                                                                                                                                                                                       |
| [**сеттекстжустификатион**](/windows/win32/api/wingdi/nf-wingdi-settextjustification)       | Указывает объем пространства, который система должна добавить к символам разрыва в строке.                              | Недоступно В этом выпуске не поддерживаются обоснования и интервалы между символами.                                                                                                                                                                                                                                                                                         |
| [**таббедтекстаут**](/windows/win32/api/winuser/nf-winuser-tabbedtextouta)                     | Записывает строку символов в месте, расширяя вкладки до указанных значений.                                          | [**Идвритетекстлайаут::D RAW**](/windows/win32/api/dwrite/nf-dwrite-idwritetextlayout-draw)                                                                                                                                                                                                                                                                                                           |
| [**TextOut**](/windows/win32/api/wingdi/nf-wingdi-textouta)                                 | Записывает строку символов в месте                                                                               | [**Идвритетекстлайаут::D RAW**](/windows/win32/api/dwrite/nf-dwrite-idwritetextlayout-draw)                                                                                                                                                                                                                                                                                                           |



 

 

 