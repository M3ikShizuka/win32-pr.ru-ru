---
title: Глифы и запуски глифов
description: глифы и запуски глифов доступны на нижнем уровне функциональности DirectWrite API, слое визуализации глифов.
ms.assetid: e670cb65-1fcb-46fd-ac0b-02eaaaa51996
keywords:
- DirectWrite, глифы
- DirectWrite, работа с глифами
- выполнение глифов
- глифы
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b39d1ca47249adf11f4e1e2072620f24553f7e299e0690c1cc147c4f74a4939f
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119902929"
---
# <a name="glyphs-and-glyph-runs"></a>Глифы и запуски глифов

глифы и запуски глифов доступны на нижнем уровне функциональности [DirectWrite](direct-write-portal.md) API, слое визуализации глифов.

## <a name="glyphs"></a>Глифы

Глиф — это физическое представление символа в заданном шрифте. Символы могут иметь много глифов, при этом каждый шрифт в системе может определить другой глиф для этого символа.

Два или более глифов также можно объединить в один глиф, этот процесс называется композицией глифов. Это также можно сделать в обратном направлении. один глиф разбивается на несколько глифов, называемых декомпозицией глифов.

### <a name="alternate-glyphs"></a>Альтернативные глифы

Шрифты могут предоставлять дополнительные глифы для символов, например стилистические альтернативные глифы шрифта OpenType Pericles, как показано на следующем снимке экрана. Символы "A", "E" и "O" подготавливаются с помощью стилистических альтернативных глифов.

![снимок экрана: «античного Green мифологии» с символами «a», «e» и «o» с использованием альтернативных глифов](images/opentypealternateglyphs.png)

Еще один пример альтернативных глифов — глифы swash. На следующем снимке экрана показаны стандартные и swash глифы для шрифта Pescadero.

![снимок экрана с буквами "a" до "n" в стандартном и swash-глифах](images/opentypeswashstandard.png)

Глифы и другие типографские функции, в том числе более сложные глифы, доступны через [OpenType](../intl/opentype-font-format.md). Типографские функции OpenType можно применять к текстовому диапазону с помощью [**идвритетекстлайаут:: сеттипографи**](/windows/win32/api/dwrite/nf-dwrite-idwritetextlayout-settypography) и передачи константы перечисления [**\_ \_ \_ тегов функции шрифта дврите**](/windows/win32/api/dwrite/ne-dwrite-dwrite_font_feature_tag) , связанной с требуемой функцией.

## <a name="glyph-runs"></a>Выполнение глифов

Запуск глифа представляет собой непрерывный набор глифов, имеющих одинаковый шрифт и размер шрифта, а также один и тот же результат рисования клиента, если таковые имеются. Подчеркивание и зачеркивание не являются частью запуска глифа для текстового диапазона, к которому они применяются, и рисуются позже. Встроенные объекты, такие как изображения, также отображаются отдельно, так как они не являются частью шрифта.

### <a name="the-idwritefontface-interface"></a>Интерфейс Идвритефонтфаце

[DirectWrite](direct-write-portal.md) использует ту же систему для классификации шрифтов, что и Windows песентатион Foundation (WPF), поэтому для каждого семейства шрифтов может существовать несколько физических шрифтов. начертание шрифта, например интерфейс [**идвритефонтфаце**](/windows/win32/api/dwrite/nn-dwrite-idwritefontface) в DirectWrite, представляет физический шрифт с заданным весом, наклоном и растяжением. Он содержит тип начертания шрифта, соответствующие ссылки на файлы, идентификационные данные лица и различные данные шрифта, такие как метрики, имена и контуры глифов.

[**Идвритефонтфаце**](/windows/win32/api/dwrite/nn-dwrite-idwritefontface) можно создать непосредственно из имени шрифта или получить из коллекции шрифтов.

### <a name="glyph-metrics"></a>Метрики глифа

С отдельными глифами связаны метрики. Метрики для всех глифов в глифе можно получить с помощью метода [**идвритефонтфаце:: жетдесигнглифметрикс**](/windows/win32/api/dwrite/nf-dwrite-idwritefontface-getdesignglyphmetrics) . Это возвращает структуру [**\_ \_ метрик глифов дврите**](/windows/win32/api/dwrite/ns-dwrite-dwrite_glyph_metrics) , которая имеет предварительную ширину, левую и правую сторону, а также верхнюю и нижнюю границы, а также высоту и вертикальный исходный план.

На следующей диаграмме показаны различные метрики двух различных символов глифа.

![Схема метрик двух различных глифов](images/twoglyphs.png)

## <a name="drawing-a-glyph-run"></a>Рисование выполнения глифа

При реализации пользовательского модуля подготовки к тексту отрисовка глифов обрабатывается методом [**идвритетекстрендерер::D равглифрун**](/windows/win32/api/dwrite/nf-dwrite-idwritetextrenderer-drawglyphrun), который реализуется как часть класса, производного от [**идвритетекстрендерер**](/windows/win32/api/dwrite/nn-dwrite-idwritetextrenderer). Структура [**\_ \_ выполнения глифа дврите**](/windows/win32/api/dwrite/ns-dwrite-dwrite_glyph_run) , которая передается в [**DrawGlyphRun**](/windows/win32/api/dwrite/nf-dwrite-idwritebitmaprendertarget-drawglyphrun) , содержит объект [**идвритефонтфаце**](/windows/win32/api/dwrite/nn-dwrite-idwritefontface) с именем *фонтфаце*, представляющий начертание шрифта для всего выполнения глифа.

Объект [**идвритефонтфаце**](/windows/win32/api/dwrite/nn-dwrite-idwritefontface) также предоставляет метод [**жетглифрунаутлине**](/windows/win32/api/dwrite/nf-dwrite-idwritefontface-getglyphrunoutline) , который выполняет вычисление контуров глифов с помощью указанного обратного вызова приемника геометрии, например [**ID2D1SimplifiedGeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1simplifiedgeometrysink) при отрисовке с [Direct2D](../direct2d/direct2d-portal.md).

Дополнительные сведения см. в разделе [Реализация пользовательского модуля подготовки текста](how-to-implement-a-custom-text-renderer.md) .

 

 