---
description: Ссылается на сведения о совместимости для виртуальной машины (ВМ) (при запуске на компьютере виртуальной машины) или на узле (при запуске в системе главного компьютера).
ms.assetid: A3DB75BF-91C8-444E-B273-25DF8A5BFA7B
title: Класс Msvm_CompatibilityVector
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- Msvm_CompatibilityVector
- Msvm_CompatibilityVector.VectorId
- Msvm_CompatibilityVector.CompareOperation
- Msvm_CompatibilityVector.CompatibilityInfo
api_type:
- DllExport
api_location:
- vmms.exe
ms.openlocfilehash: 66eba92daf420fb4bd332d3f7d537b7936618ca6
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "103911031"
---
# <a name="msvm_compatibilityvector-class"></a>\_Класс мсвм компатибилитивектор

Ссылается на сведения о совместимости для виртуальной машины (ВМ) (при запуске на компьютере виртуальной машины) или на узле (при запуске в системе главного компьютера).

Следующий синтаксис упрощен из MOF-кода и включает все унаследованные свойства.

## <a name="syntax"></a>Синтаксис

``` syntax
[Dynamic, Provider("VmmsWmiInstanceAndMethodProvider"), AMENDMENT]
class Msvm_CompatibilityVector
{
  uint32 VectorId;
  uint32 CompareOperation;
  uint64 CompatibilityInfo;
};
```

## <a name="members"></a>Члены

Класс **мсвм \_ компатибилитивектор** имеет следующие типы членов:

-   [Свойства](#properties)

### <a name="properties"></a>Свойства

Класс **мсвм \_ компатибилитивектор** имеет следующие свойства.

<dl> <dt>

**компареоператион**
</dt> <dd> <dl> <dt>

Тип данных: **UInt32**
</dt> <dt>

Тип доступа: только для чтения
</dt> </dl>

Определяет операцию сравнения, которая будет возвращать значение true только в случае, если два вектора совместимы. Данные виртуальной машины находятся в левой части сравнения, а данные узла — в правой части.

<dt>

<span id="Equal"></span><span id="equal"></span><span id="EQUAL"></span>

**Равно** (0)


</dt> <dd></dd> <dt>

<span id="Superset"></span><span id="superset"></span><span id="SUPERSET"></span>

**Супермножество** (1)


</dt> <dd></dd> <dt>

<span id="Subset"></span><span id="subset"></span><span id="SUBSET"></span>

**Подмножество** (2)


</dt> <dd></dd> <dt>

<span id="Disjoint"></span><span id="disjoint"></span><span id="DISJOINT"></span>

Несвязанная **(3** )


</dt> <dd></dd> <dt>

<span id="GreaterThan"></span><span id="greaterthan"></span><span id="GREATERTHAN"></span>

**GreaterThan** (4)


</dt> <dd></dd> <dt>

<span id="GreaterThanOrEqual"></span><span id="greaterthanorequal"></span><span id="GREATERTHANOREQUAL"></span>

**GreaterThanOrEqual** (5)


</dt> <dd></dd> <dt>

<span id="LessThan"></span><span id="lessthan"></span><span id="LESSTHAN"></span>

**LessThan** (6)


</dt> <dd></dd> <dt>

<span id="LessThanOrEqual"></span><span id="lessthanorequal"></span><span id="LESSTHANOREQUAL"></span>

**LessThanOrEqual** (7)


</dt> <dd></dd> <dt>

<span id="Multiple"></span><span id="multiple"></span><span id="MULTIPLE"></span>

**Несколько** (8)


</dt> <dd></dd> <dt>

<span id="Divisible"></span><span id="divisible"></span><span id="DIVISIBLE"></span>

**Кратные** (9)


</dt> <dd></dd> </dl>

</dd> <dt>

**компатибилитинфо**
</dt> <dd> <dl> <dt>

Тип данных: **UInt64**
</dt> <dt>

Тип доступа: только для чтения
</dt> </dl>

Фактические данные атрибута совместимости, используемые для сравнения.

</dd> <dt>

**векторид**
</dt> <dd> <dl> <dt>

Тип данных: **UInt32**
</dt> <dt>

Тип доступа: только для чтения
</dt> </dl>

Определяет вектор совместимости, представляющий конкретный атрибут. Это свойство используется для сопоставления соответствующих векторов между узлом и виртуальной машиной.

</dd> </dl>

## <a name="remarks"></a>Комментарии

Метод [**жетсистемкомпатибилитивекторс**](getsystemcompatibilityvectors-msvm-virtualsystemmigrationservice.md) класса [**мсвм \_ Виртуалсистеммигратионсервице**](msvm-virtualsystemmigrationservice.md) возвращает массив экземпляров **мсвм \_ компатибилитивектор** для узла (если выполняется на узле) или виртуальной машины (если она выполняется на виртуальной машине). Каждая запись **мсвм \_ компатибилитивектор** в списке описывает вектор атрибута совместимости. Чтобы виртуальная машина была совместима с узлом, все его атрибуты совместимости должны быть совместимы с атрибутами узла s.

Каждая **запись \_ компатибилитивектор мсвм** имеет следующие свойства:

<dl> <dt>

**векторид**
</dt> <dd>

Однозначно определяет вектор совместимости. Используется для сопоставления векторов для сравнения между узлом и виртуальной машиной.

</dd> <dt>

**компареоператион**
</dt> <dd>

Определяет операцию сравнения, которая определяет, совместимы ли векторы.

</dd> <dt>

**компатибилитинфо**
</dt> <dd>

Содержит атрибут фактической совместимости; Это фактически полезная нагрузка атрибута (например, маска характеристик процессора, размер буфера записи кэша и т. д.).

</dd> </dl>

Набор операций, определенных для **компареоператион** , просто подразумевает базовое сравнение целых чисел и побитовую логику. Это позволяет действительное содержимое **компатибилитинфо** оставаться непрозрачным. Набор операций включает:



| компареоператион | Описание                                      | Сравнение псевдокода                |
|------------------|--------------------------------------------------|--------------------------------------|
| вмкцекуал        | Вматтр должен равняться Хостаттр                       | If (Вматтр = = Хостаттр)              |
| вмкксуперсет     | Вматтр должен быть надмножеством Хостаттр            | If ((Вматтр & Хостаттр) = = Хостаттр) |
| вмкксубсет       | Вматтр должен быть подмножеством Хостаттр              | If ((Вматтр & Хостаттр) = = Вматтр)   |
| вмккдисжоинтсет  | Вматтр должен быть несвязанным набором из Хостаттр      | If ((Вматтр & Хостаттр) = = 0)        |
| вмккгреатер      | Вматтр должен быть больше Хостаттр             | If (Вматтр > Хостаттр)            |
| вмккгреатерекуал | Вматтр должно быть больше или равно Хостаттр | If (Вматтр >= Хостаттр)           |
| вмкклесс         | Вматтр должно быть меньше Хостаттр                | If (Вматтр < Хостаттр)            |
| вмкклессекуал    | Вматтр должно быть меньше или равно Хостаттр    | If (Вматтр <= Хостаттр)           |
| вмккмултипле     | Вматтр должен быть кратен Хостаттр            | If ((Вматтр% Хостаттр) = = 0)        |
| вмккдивисор      | Вматтр должен быть делителем Хостаттр             | If ((Хостаттр% Вматтр) = = 0)        |



 

SCVMM необходимо выполнить эти действия, чтобы определить, совместима ли виртуальная машина с узлом.

**Определение, совместима ли виртуальная машина с узлом**

1.  Выполните итерацию всех элементов **мсвм \_ компатибилитивектор** для виртуальной машины.
2.  Для каждого **элемента \_ компатибилитивектор мсвм** используйте операцию совместимости, указанную в **компареоператион** , чтобы сравнить вектор совместимости оборудования VM s с соответствующим вектором совместимости для узла.
3.  Если все элементы **мсвм \_ компатибилитивектор** из виртуальной машины считаются совместимыми, то виртуальная машина совместима с узлом (с точки зрения функциональности процессора).

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|---------------------------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | \[Только Windows 8.1 Классические приложения\]<br/>                                                            |
| Минимальная версия сервера<br/> | Только классические приложения Windows Server 2012 R2 \[\]<br/>                                                 |
| Пространство имен<br/>                | Корневая \\ виртуализация \\ версии 2<br/>                                                                     |
| MOF<br/>                      | <dl> <dt>Виндовсвиртуализатион. v2. mof</dt> </dl> |
| DLL<br/>                      | <dl> <dt>Vmms.exe</dt> </dl>                     |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[**жетсистемкомпатибилитивекторс**](getsystemcompatibilityvectors-msvm-virtualsystemmigrationservice.md)
</dt> <dt>

[**Мсвм \_ виртуалсистеммигратионсервице**](msvm-virtualsystemmigrationservice.md)
</dt> </dl>

 

 




