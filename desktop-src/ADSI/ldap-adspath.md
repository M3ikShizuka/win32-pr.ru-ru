---
title: Путь LDAP
description: В этом разделе показан синтаксис, который следует использовать для LDAP ADsPath.
ms.assetid: adacf6af-8683-4c3c-91bf-9489f2d5d817
ms.tgt_platform: multiple
keywords:
- Путь LDAP
- ADsPath, LDAP, описание
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1728d2531bb2043f95e5896e67ec054095f2595a
ms.sourcegitcommit: b0ebdefc3dcd5c04bede94091833aa1015a2f95c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/21/2020
ms.locfileid: "103793879"
---
# <a name="ldap-adspath"></a>Путь LDAP

Для поставщика Microsoft LDAP ADsPath необходимо указать следующий формат.


```C++
LDAP://HostName[:PortNumber][/DistinguishedName]
```



> [!Note]  
> Левая и правая квадратные скобки ( \[ \] ) обозначают необязательные параметры; она не является литеральной частью строки привязки.

 

Имя узла может быть именем компьютера, IP-адресом или доменным именем. Имя сервера также может быть указано в строке привязки. Большинство поставщиков LDAP следуют модели, для которой требуется указать имя сервера.

"Номер_порта" указывает порт, используемый для соединения. Если номер порта не указан, поставщик LDAP использует номер порта по умолчанию. Номер порта по умолчанию — 389, если не используется SSL-соединение или 636 при использовании SSL-соединения.

"DistinguishedName" указывает различающееся имя конкретного объекта. Различающееся имя для данного объекта гарантированно уникально.

В следующей таблице приведены примеры строк привязки.



| Пример LDAP ADsPath                                      | Описание                                                |
|-----------------------------------------------------------|------------------------------------------------------------|
| LDAP                                                     | Выполните привязку к корню пространства имен LDAP.                    |
| LDAP://server01                                           | Привязка к определенному серверу.                                 |
| LDAP://server01:390                                       | Привязка к определенному серверу по указанному номеру порта. |
| LDAP://кН = Джефф Иванов, CN = Users, DC = Fabrikam, DC = com          | Привязка к определенному объекту.                                 |
| LDAP://server01/CN=Jeff Смит, CN = Users, DC = Fabrikam, DC = com | Привязка к определенному объекту через указанный сервер.       |



 

Если для успешного завершения конкретного запроса к каталогу требуется проверка подлинности Kerberos, то строка привязки должна использовать либо независимый от сервера путь, например LDAP://кН = Джефф Smith, CN = Users, DC = Fabrikam, DC = com, либо путь ADsPath с полным именем DNS-сервера, например LDAP://server01.fabrikam.com/CN=Jeff Смит, CN = Users, DC = Fabrikam, DC = com. При привязке к серверу с использованием неструктурированного имени NETBIOS или короткого DNS-имени, например при использовании имени Server01 вместо server01.fabrikam.com, не гарантируется проверка подлинности Kerberos.

Дополнительные сведения и примеры строк привязки LDAP, а также описание специальных символов, которые можно использовать в строках привязки LDAP, см. в разделе LDAP ADsPath.

**Windows 2000 с пакетом обновления 1 (SP1) и выше:** При использовании поставщика LDAP, если строка привязки содержит имя сервера, можно повысить производительность с помощью флага **\_ \_ привязки сервера ADS** с функцией [**ADsOpenObject**](/windows/desktop/api/Adshlp/nf-adshlp-adsopenobject) или методом [**иадсопендсобжект:: опендсобжект**](/windows/desktop/api/Iads/nf-iads-iadsopendsobject-opendsobject) . Флаг **\_ \_ привязки сервера ADS** указывает, что указано имя сервера, которое позволяет интерфейсу ADSI избежать дополнительного, ненужного сетевого трафика.

## <a name="ldap-special-characters"></a>Специальные символы LDAP

В LDAP есть несколько специальных символов, зарезервированных для использования API LDAP. Список специальных символов можно найти в [различающихся именах](/previous-versions/windows/desktop/ldap/distinguished-names). Чтобы использовать один из этих символов в параметре ADsPath без создания ошибки, перед символом должен стоять символ обратной косой черты ( \\ ). Это называется *экранированием* символа. Например, если имя пользователя указано в виде " <last name> , <first name> ", то запятая в значении имени должна быть экранирована. Результирующая строка будет выглядеть следующим образом:


```C++
LDAP://CN=Smith\,Jeff,CN=users,DC=fabrikam,DC=com
```



Экранированный символ также можно указать с помощью кода шестнадцатеричного символа из двух цифр. Это показано в следующем примере.


```C++
LDAP://CN=Smith\2CJeff,CN=users,DC=fabrikam,DC=com
```



Непечатаемые символы, такие как перевод строки и возврат каретки, должны быть экранированы и задаваться с помощью кода шестнадцатеричного символа из двух цифр. Это показано в следующем примере.


```C++
LDAP://CN=Line\0AFeed,CN=users,DC=fabrikam,DC=com
```



## <a name="for-more-information"></a>Дополнительные сведения см. в разделе

Дополнительные сведения об нотации различающегося имени, используемой службами каталогов, совместимыми с LDAP, см. в разделе [https://www.ietf.org/rfc/rfc1779.txt](https://www.ietf.org/rfc/rfc1779.txt) .

 

 