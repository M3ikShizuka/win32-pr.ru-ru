---
title: Отслеживание ссылок с помощью IDirectorySearch
description: Ссылка — это механизм, который сервер каталогов использует для направления клиента на другой сервер, если он не содержит достаточно данных о объекте, запрошенном запросом.
ms.assetid: ef97eafd-5227-4dd7-9f8a-6b4591261f79
ms.tgt_platform: multiple
keywords:
- Отслеживание ссылок с помощью IDirectorySearch ADSI
- ADSI, поиск, IDirectorySearch, другие параметры поиска, отслеживание ссылок
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2ba7fcc74103c5c09816976e9ff91c17ecca8578fcbf596b731df890a350e922
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118690693"
---
# <a name="referral-chasing-with-idirectorysearch"></a>Отслеживание ссылок с помощью IDirectorySearch

Ссылка — это механизм, который сервер каталогов использует для направления клиента на другой сервер, если он не содержит достаточно данных о объекте, запрошенном запросом.

При поиске на одном уровне или в поддереве ссылки возвращаются только для известных, немедленно подчиненного домена, схемы или контейнеров конфигурации. Это значит, что дочерние домены являются прямыми потомками. Дополнительные сведения см. в разделе [область поиска](/windows/desktop/AD/search-scope).

В каталоге не все данные доступны на одном сервере, вместо этого они распределяются по нескольким различным серверам по сети. Если серверы совместно используют данные, предоставляемые другими серверами, они могут предоставить клиенту ссылки, если запрошенный запрос не может быть разрешен на сервере-источнике. Например, когда клиент запрашивает у сервера A запрос к объекту пользователя (U), может предлагаться, что клиент продолжит поиск на сервере B, если U не находится в, но определен как на B. Клиент имеет возможность использовать ссылку или нет. Ссылки освобождают клиента от необходимости обладать предыдущими знаниями о возможности каждого сервера, но клиент должен указать тип ссылок, которые должен выполнить сервер.

Чтобы включить или отключить отслеживание ссылок, установите параметр поиска **ADS \_ сеарчпреф \_ \_** вести поиск по ссылкам, используя **\_ целочисленное значение адстипе** , которое содержит одну из [**баннеров. \_ \_ \_**](/windows/win32/api/iads/ne-iads-ads_chase_referrals_enum) перечисление значений перечисления см. в массиве [**\_ \_ сведений об ADS сеарчпреф**](/windows/desktop/api/Iads/ns-iads-ads_searchpref_info) , переданном в метод [**IDirectorySearch:: сетсеарчпреференце**](/windows/desktop/api/Iads/nf-iads-idirectorysearch-setsearchpreference) .

В следующем примере кода показано, как включить ссылки «след».


```C++
ADS_SEARCHPREF_INFO SearchPref;
SearchPref.dwSearchPref = ADS_SEARCHPREF_CHASE_REFERRALS;
SearchPref.vValue.dwType = ADSTYPE_INTEGER;
SearchPref.vValue.Integer = ADS_CHASE_REFERRALS_ALWAYS;
```



Дополнительные сведения о ссылках в Active Directory см. в разделе [ссылки](/windows/desktop/AD/referrals).

 

 