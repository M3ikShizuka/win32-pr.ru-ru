---
title: Файлы Makefile
description: Файлы Makefile для каждого из примеров кода в этой серии представляют собой универсальные файлы Makefile Microsoft Win32 и предназначены для построения из окна командной строки.
ms.assetid: f9944069-b536-4ae2-8411-f02c3a78978c
keywords:
- Структурированное хранилище файлов Makefile
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a15fef5818c28986232e8c2a648f43bdc096832f
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "104332736"
---
# <a name="makefiles"></a>Файлы Makefile

Файлы Makefile для каждого из примеров кода в этой серии представляют собой универсальные файлы Makefile Microsoft Win32 и предназначены для построения из окна командной строки. Они предполагают наличие компиляторов и средств компоновщика Майкрософт и, возможно, потребует некоторых изменений для работы с другими инструментами. Большинство параметров командной строки компилятора или компоновщика задаются с помощью макросов, определенных в файле Win32. MAK, включаемом в состав пакета SDK для платформы.

Файл Makeall.bat и каждый соответствующий пример кода Makefile поддерживают общие параметры, перечисленные в следующей таблице, для вызова из окна командной строки, чтобы управлять природой сборки.



| Вызов NMAKE        | Вызов макеалл          | Действие                       |
|-------------------------|-----------------------------|------------------------------|
| **NMAKE**               | **макеалл**                 | Скомпилируйте с отладочной информацией.     |
| **NMAKE** **отлаживать = 1** | **макеалл** **"# Debug = 1"** | Компилировать без отладочной информации.  |
| профиль **NMAKE** **= 1** | **макеалл** **"Profile = 1"** | Скомпилируйте со сведениями о профилировании. |
| Настройка **NMAKE** **= 1**    | **макеалл** **"Настройка = 1"**    | Со сведениями о тюнере рабочего набора. |
| **NMAKE** **Unicode = 1** | **макеалл** **"Unicode = 1"** | Скомпилируйте для Юникода.         |
|  **Очистка** NMAKE     | **макеалл** **очистить**       | Удалите временные двоичные файлы.   |
|  **клеаналл** NMAKE  | **макеалл** **клеаналл**    | Удалите все созданные файлы.  |



 

Для Makeall.bat вызовов необходимо иметь кавычки, как показано ниже. Параметры **отладки**, **профиля** и **настройки** являются взаимоисключающими: для данной компиляции или ссылки можно использовать только один из них или None. Чтобы скомпилировать образцы для выполнения со строками в Юникоде, используйте параметр **"Unicode = 1"** . По умолчанию используется компиляция для поддержки традиционной строки ANSI, так как ее можно запускать в любой 32-разрядной операционной системе Windows. В Windows Server 2003 и более поздних версиях, а также в Windows 2000 и более поздних версиях можно свободно компилировать и запускать с поддержкой или без Юникода. Имейте в виду, что АППУТИЛ всегда компилируется с теми же параметрами, что и другие примеры кода, которые можно отдельно компилировать. Это особенно справедливо для параметра **«Unicode = 1»** .

Вы можете использовать установленную 32-разрядную интегрированную среду разработки (IDE) C++ для построения образцов с помощью предоставленных универсальных файлов Makefile. Для этого в интегрированной среде разработки необходимо, чтобы универсальные файлы Makefile обрабатывались как внешние файлы Makefile. Для указанных файлов Makefile требуется служебная программа make, совместимая с Microsoft NMAKE.

Большинство Ideов C++ могут распознавать эти файлы Makefile как внешние, но все еще предоставляют множество преимуществ Edit-Build-Debug в интегрированной среде разработки. Например, в Microsoft Visual Studio 97 или более поздней версии можно использовать меню файл открыть рабочую область, чтобы создать рабочую область, открыв копию с соответствующим именем (например, Ексескел. MAK) в образце кода Win32 Makefile.

 

 




