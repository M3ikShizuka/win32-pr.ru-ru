---
title: Структурированный формат набора свойств сериализованного хранилища
description: Постоянные наборы свойств предоставляют возможность хранения данных в сущностях файловой системы. Для создания и управления ими рекомендуется использовать интерфейсы IPropertySetStorage и Ипропертистораже, описанные в разделе Свойства и наборы свойств.
ms.assetid: f22abe40-535f-4178-9460-59bbe26ff178
keywords:
- Структурированное хранилище Стрктд STG, основы, сериализованный формат набора свойств
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1ea03d5ccab337897be801840080e83a6fa86880
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "105661749"
---
# <a name="structured-storage-serialized-property-set-format"></a>Структурированный формат набора свойств сериализованного хранилища

Постоянные наборы свойств предоставляют возможность хранения данных в сущностях файловой системы. Для создания и управления ими рекомендуется использовать интерфейсы [**IPropertySetStorage**](/windows/desktop/api/Propidl/nn-propidl-ipropertysetstorage) и [**ипропертистораже**](/windows/desktop/api/Propidl/nn-propidl-ipropertystorage) , описанные в разделе [Свойства и наборы свойств](properties-and-property-sets.md).

Наборы свойств состоят из раздела Values с тегами, а раздел однозначно идентифицируется с помощью идентификатора формата (FMTID). Каждое свойство состоит из идентификатора свойства и индикатора типа, представляющего значение. Каждое значение, хранящееся в наборе свойств, имеет уникальный идентификатор свойства, который различает свойство. Индикатор типа описывает представление данных в значении.

При использовании интерфейсов [**IPropertySetStorage**](/windows/desktop/api/Propidl/nn-propidl-ipropertysetstorage) и [**ипропертистораже**](/windows/desktop/api/Propidl/nn-propidl-ipropertystorage) не нужно выполнять обработку структуры формата сериализованного набора свойств COM. Дополнительные сведения см. в перечисленных разделах:

Все элементы данных в наборе свойств хранятся в представлении Intel (т. е. в порядке байтов с прямым обратным порядком).

COM определяет стандартный сериализованный формат данных для наборов свойств. При обработке сериализованного формата, но не с интерфейсами, наборы свойств имеют следующие характеристики.

-   Наборы свойств позволяют различным приложениям создавать собственные независимые наборы свойств для обслуживания приложения.
-   Наборы свойств могут храниться в одном экземпляре [**IStream**](/windows/desktop/api/Objidl/nn-objidl-istream) или в экземпляре [**IStorage**](/windows/desktop/api/Objidl/nn-objidl-istorage) , содержащем несколько потоков. Наборы свойств — это просто другой тип данных, который может храниться во многих разных формах хранилища в памяти или на диске. Дополнительные сведения и Рекомендуемые соглашения по созданию имени строки для объекта хранилища см. в разделе [соглашения об именовании объектов хранилища](storage-object-naming-conventions.md).
-   Наборы свойств позволяют включать словарь отображаемых имен, описывающих содержимое. Рекомендуется использовать набор соглашений по выбору имен свойств. Дополнительные сведения об этом необязательном словаре см. в разделе [зарезервированные идентификаторы свойств](reserved-property-identifiers.md), включая [свойство с идентификатором 0](/windows/desktop/Stg/reserved-property-identifiers).

Поток набора свойств делится на три основные части:

-   Header
-   Пара ФОРМАТИД/offset
-   Раздел, содержащий фактические значения набора свойств

Общая длина потока набора свойств должна быть меньше или равна 256 КБ. В следующих разделах [заголовок набора свойств](property-set-header.md), [пара идентификаторов формата и смещения](format-identifier-offset-pair.md), а также [раздел](section.md) (включая [идентификаторы свойств и пары смещений](property-identifiers-offset-pairs.md)) со вспомогательными разделами описывают отдельные компоненты, составляющие формат данных набора свойств.

> [!Note]  
> В предыдущих версиях этого документа были описаны расширения для потока набора свойств, в которых разрешено более одного раздела, но это было изменено для предоставления одного раздела в потоке свойств. Единственным исключением являются [наборы свойств документсуммаринформатион и пользователяопределенные](the-documentsummaryinformation-and-userdefined-property-sets.md).

 

 

 