---
title: Метод Инкдрав
description: Кгуипапер также сохраняет флаг m \_ бинкинг. Инкстарт устанавливает значение TRUE, чтобы сообщить о том, что последовательность отрисовки находится в процессе. Например, метод Инкдрав использует этот флаг, чтобы определить, должен ли он рисовать и сохранять рукописные данные.
ms.assetid: 0fe9d029-1522-4caf-8efb-0a4eb2b59958
keywords:
- инкдрав
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6e146093d23fd16d122da1ea81d1c99bdf06ed926d5cb4dba2f1d77b747b2058
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119662764"
---
# <a name="inkdraw-method"></a>Метод Инкдрав

Кгуипапер также сохраняет флаг m \_ бинкинг. [Инкстарт](inkstart-method.md) устанавливает **значение true** , чтобы сообщить о том, что последовательность отрисовки находится в процессе. Например, метод Инкдрав использует этот флаг, чтобы определить, должен ли он рисовать и сохранять рукописные данные.

Ниже приведен метод Инкдрав из ГУИПАПЕР. CPP.


```C++
HRESULT CGuiPaper::InkDraw(
                       SHORT nX,
                       SHORT nY)
  {
    if (m_bInking)
    {
      // Start this ink line at previous old position.
      MoveToEx(m_hDC, m_OldPos.x, m_OldPos.y, NULL);

      // Assign new old position and draw the new line.
      LineTo(m_hDC, m_OldPos.x = nX, m_OldPos.y = nY);

      // Ask the Paper object to save this data.
      if (m_bInkSaving)
        m_pIPaper->InkDraw(m_nLockKey, nX, nY);
    }

    return NOERROR;
  }
```



Этот метод не выполняет никаких действий \_ , если m бинкинг имеет **значение false**. Это условие, когда пользователь просто перемещает указатель мыши на окно клиента без нажатия левой кнопки мыши.

Инкдрав четко имеет две обязанности. Вызовы Win32 Моветоекс и LineTo выполняются для рисования линий изображения на экране графического интерфейса пользователя (с использованием маркера контекста устройства, сохраненного в параметре m \_ HDC). Рукописные данные также передаются в объект собумага для записи с помощью метода Инкдрав интерфейса [ипапер](ipaper-methods.md) . Если \_ значение m бинксавинг равно **false**, инкдрав закрашивает изображение линии, но не сохраняет данные в составляемой бумаге. Это условие используется во время перерисовки.

 

 




