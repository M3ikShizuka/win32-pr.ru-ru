---
description: Модель безопасности Windows позволяет управлять доступом к объектам сопоставления файлов. Дополнительные сведения см. в разделе Модель Access-Control.
ms.assetid: 8bbf7c98-ff83-4ed9-8b82-f08dcd31295c
title: Безопасность и права доступа для сопоставления файлов
ms.topic: article
ms.date: 10/06/2018
ms.openlocfilehash: 65d520e12d1b555e7c633f0d1e0ba5142c330ce8
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105673263"
---
# <a name="file-mapping-security-and-access-rights"></a>Безопасность и права доступа для сопоставления файлов

Модель безопасности Windows позволяет управлять доступом к объектам сопоставления файлов. Дополнительные сведения см. в разделе [модель управления доступом](../secauthz/access-control-model.md).

При вызове функции [**CreateFileMapping**](/windows/desktop/api/WinBase/nf-winbase-createfilemappinga) можно указать [дескриптор безопасности](../secauthz/security-descriptors.md) для объекта сопоставления файлов. Если указано **значение NULL**, то объект получает дескриптор безопасности по умолчанию. Списки управления доступом в дескрипторе безопасности по умолчанию для объекта сопоставления файлов берутся из основного маркера или токена олицетворения создателя.

Чтобы получить дескриптор безопасности объекта сопоставления файлов, вызовите функцию [**жетнамедсекуритинфо**](/windows/win32/api/aclapi/nf-aclapi-getnamedsecurityinfoa) или [**жетсекуритинфо**](/windows/win32/api/aclapi/nf-aclapi-getsecurityinfo) . Чтобы задать дескриптор безопасности объекта сопоставления файлов, вызовите функцию [**сетнамедсекуритинфо**](/windows/win32/api/aclapi/nf-aclapi-setnamedsecurityinfoa) или [**сетсекуритинфо**](/windows/win32/api/aclapi/nf-aclapi-setsecurityinfo) .

Допустимые права доступа для объектов сопоставления файлов включают разрешения на **Удаление**, **Чтение \_**, **Запись DAC \_** и запись [права доступа](../secauthz/standard-access-rights.md) **\_ владельца** уровня Стандартный. Объекты сопоставления файлов не поддерживают стандартную **синхронизацию** прав доступа. В следующей таблице перечислены права доступа, относящиеся к объектам сопоставления файлов.

| Право доступа | Значение |
|-|-|
| **\_ \_ все \_ доступ к СОпоставлению файлов** | Включает все права доступа к объекту сопоставления файлов, за исключением **\_ \_ выполнения сопоставления файлов**. Функции [**MapViewOfFile**](/windows/win32/api/memoryapi/nf-memoryapi-mapviewoffile) и [**MapViewOfFileEx**](/windows/win32/api/memoryapi/nf-memoryapi-mapviewoffileex) обрабатывают это то же самое, что и указание **\_ \_ записи файла в карте файлов**. |
| **\_выполнение схемы \_ файла** | Разрешает сопоставление исполняемых представлений объекта сопоставления файлов. Объект должен быть создан с защитой страницы, что позволяет выполнять доступ, например **\_ \_ чтение страниц**, **\_ выполнение \_ вритекопи** или **выполнение страницы с защитой \_ \_ ReadWrite** .  |
| **\_чтение таблицы \_ файлов** | Разрешает сопоставление представлений, предназначенных только для чтения или копирования в режиме записи для объекта сопоставления файлов.  |
| **\_запись схемы \_ файла** | Разрешает сопоставление представлений, предназначенных только для чтения, копирования в режиме записи или для чтения и записи объекта сопоставления файлов. Объект должен быть создан с защитой страницы, допускающей доступ на запись, например с возможностью чтения с **страницы \_** или с помощью **\_ инструкции EXECUTE \_ ReadWrite** . |

Для сопоставления представления копирования при записи объекта сопоставления файлов требуется тот же доступ, что и для представления только для чтения. Флаг **\_ \_ копирования схемы файла** не является правом доступа, и его не следует указывать как часть списка DACL в дескрипторе безопасности. Это значение может использоваться только с функциями, которые сопоставляют представление объекта сопоставления файлов, например функции [**MapViewOfFile**](/windows/win32/api/memoryapi/nf-memoryapi-mapviewoffile) и [**MapViewOfFileEx**](/windows/win32/api/memoryapi/nf-memoryapi-mapviewoffileex) , или с функцией [**OpenFileMapping**](/windows/desktop/api/WinBase/nf-winbase-openfilemappinga) , которая рассматривает **Сопоставление файлов так \_ \_** же, как и **\_ \_ считывание сопоставления файлов**.

Вы можете запросить право доступа к **\_ системе \_ безопасности системы доступа** к объекту сопоставления файлов, если требуется прочитать или записать список SACL объекта. Дополнительные сведения см. в разделе [списки управления доступом (ACL)](../secauthz/access-control-lists.md) и [права доступа к спискам SACL](../secauthz/sacl-access-right.md).
