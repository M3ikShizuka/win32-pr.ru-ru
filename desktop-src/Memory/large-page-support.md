---
description: Поддержка больших страниц позволяет серверным приложениям устанавливать области памяти больших страниц, что особенно полезно в 64-разрядных Windows.
ms.assetid: 060115af-38d1-499c-b30c-47cd0cf42d20
title: Поддержка Large-Page
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3ef4578b5127e6613f2ff4b6e0b8a7cffcc53c9e
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105673307"
---
# <a name="large-page-support"></a>Поддержка Large-Page

Поддержка больших страниц позволяет серверным приложениям устанавливать области памяти больших страниц, что особенно полезно в 64-разрядных Windows. Каждый крупный перевод страницы использует один буфер перевода внутри ЦП. Размер буфера обычно составляет три порядка, превышающий размер исходного страницы. Это повышает эффективность буфера перевода, что может повысить производительность для часто запрашиваемой памяти.

В следующей процедуре описывается использование поддержки больших страниц.

**Использование поддержки больших страниц**

1.  Получите привилегию **SeLockMemoryPrivilege** , вызвав функцию [**AdjustTokenPrivileges**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-adjusttokenprivileges) . Дополнительные сведения см. в разделе [назначение привилегий учетной записи](../secbp/assigning-privileges-to-an-account.md) и [изменение привилегий в маркере](../secbp/changing-privileges-in-a-token.md).
2.  Получите минимальный размер страницы, вызвав функцию [**жетларжепажеминимум**](/windows/win32/api/memoryapi/nf-memoryapi-getlargepageminimum) .
3.  Включите значение **mem \_ Large \_ pages** при вызове функции [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc) . Размер и выравнивание должны быть кратными минимуму для больших страниц.

При написании приложений, использующих большие объемы памяти, учитывайте следующие моменты.

-   Если в течение длительного времени система работает слишком долго, то может быть трудно получить области памяти большой страницы, так как физическое пространство для каждой большой страницы должно быть непрерывным, но память может быть фрагментирована. Выделение больших страниц в этих условиях может существенно повлиять на производительность системы. Поэтому приложения должны избегать многократного выделения больших страниц, а вместо этого выделить все крупные страницы один раз при запуске.
-   Память всегда доступна для чтения и записи и не может быть страничной (всегда резидентна в физической памяти).
-   Память является частью частного байта процесса, но не является частью рабочего набора, так как рабочий набор по определению содержит только страничную память.
-   Большие объемы выделения страниц не подчиняются ограничениям заданий.
-   Большая страничная память должна быть зарезервирована и зафиксирована как единая операция. Иными словами, большие страницы нельзя использовать для фиксации ранее зарезервированного диапазона памяти.
-   WOW64 в системах на базе Intel Itanium не поддерживает 32-разрядные приложения, использующие эту функцию. Приложения должны быть перекомпилированы как собственные 64-разрядные приложения.

 

 
