---
description: Функция VirtualFree выфиксирует и освобождает страницы в соответствии со следующими правилами.
ms.assetid: 8fbd7960-f3f0-4326-ad1d-12b636c0039e
title: Освобождение виртуальной памяти
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a7628ed53f956d5cd13f0c7d2d1157443d529129
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105673264"
---
# <a name="freeing-virtual-memory"></a>Освобождение виртуальной памяти

Функция [**VirtualFree**](/windows/win32/api/memoryapi/nf-memoryapi-virtualfree) снимает и освобождает страницы в соответствии со следующими правилами.

-   Отменяет фиксацию одной или нескольких зафиксированных страниц, изменяя состояние зарезервированных страниц. При дефиксации страниц освобождается физическое хранилище, связанное со страницами, что делает ее доступной для любого процесса. Любой блок зафиксированных страниц может быть незафиксированным.
-   Освобождает блок из одной или нескольких зарезервированных страниц, изменяя состояние страниц на Free. Освобождение блока страниц делает диапазон зарезервированных адресов доступным для процесса. Зарезервированные страницы можно освободить только путем освобождения всего блока, первоначально зарезервированного [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc).
-   Отменяет фиксацию и освобождение блока одной или нескольких зафиксированных страниц, изменяя состояние страниц на Free. Указанный блок должен включать весь блок, изначально зарезервированный [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc), и все страницы должны быть зафиксированы.

После того как блок памяти будет освобожден или снят, вы не сможете снова обратиться к нему. Все данные, которые могли наблюдаться в этой памяти, пропали бесконечно. Попытка чтения или записи на свободную страницу приводит к исключению нарушения прав доступа. Если требуется информация, не вынуждайте или освободите память, содержащую эти сведения.

Чтобы указать, что данные в диапазоне памяти больше не нужны, вызовите [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc) с **\_ сбросом MEM**. Страницы не будут считываться или записываться в файл подкачки. Однако блок памяти можно использовать снова позже.

 

 
