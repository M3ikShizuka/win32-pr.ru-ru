---
description: при использовании Windows GDI+ для рисования линии необходимо указать начальную и конечную точки линии, но не нужно указывать никаких сведений об отдельных пикселях в строке.
ms.assetid: 7c4869c1-76ff-42d1-abf1-387121943b2a
title: Сглаживание прямых и кривых линий
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b6d6fd1df9c8dca6bb600c723fa61cf14b99e53a51670768a7323ca33e12b9b5
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "117697113"
---
# <a name="antialiasing-with-lines-and-curves"></a>Сглаживание прямых и кривых линий

при использовании Windows GDI+ для рисования линии необходимо указать начальную и конечную точки линии, но не нужно указывать никаких сведений об отдельных пикселях в строке. GDI+ работает совместно с программным обеспечением драйвера экрана, чтобы определить, какие пиксели будут включены для отображения линии на конкретном устройстве отображения.

Рассмотрим прямую красную линию, которая перемещается с точки (4, 2) на точку (16, 10). Предположим, что у системы координат есть источник в левом верхнем углу и что единицей измерения является пиксель. Также предположим, что ось x указывает вправо, а ось y — вниз. На следующем рисунке показано увеличенное представление красной линии, нарисованной на многоцветном фоне.

![Иллюстрация, показывающая сплошные красные пиксели на многоцветном фоне](images/aboutgdip02-art33.png)

Обратите внимание, что красные пиксели, используемые для визуализации линии, являются непрозрачными. Нет частично прозрачных пикселов, участвующих в отображении линии. Этот тип отрисовки линии дает линии зубчатый внешний вид, а линия выглядит немного так же, как лестница. Этот способ представления линии с лестницой называется псевдонимом; Лестница — это псевдоним теоретической линии.

Более сложная методика отрисовки линий заключается в использовании частично прозрачных пикселей вместе с чисто красными пикселами. Пиксели устанавливаются в чистый красный цвет или на некоторое смешение красного и цвета фона в зависимости от того, насколько близко они находятся к линии. Этот тип отрисовки называется сглаживанием и дает строку, которую человеческий глаз воспринимает как более гладкий. На следующем рисунке показано, как определенные Пиксели смешиваются с фоном для создания сглаженной линии.

![Иллюстрация, отображающая Пиксели, которые являются оттенками красного цвета на одном фоне](images/aboutgdip02-art34.png)

Сглаживание можно также применять к кривым. На следующем рисунке показано увеличенное представление сглаженного эллипса.

![Иллюстрация эллипса, состоящие из различных оттенков синего пикселя на белом фоне](images/aboutgdip02-art35.png)

На следующем рисунке показан тот же эллипс в его фактическом размере, один раз без сглаживания и один раз с сглаживанием.

![снимок экрана с двумя эллипсами: значок с сглаживанием выглядит более гладко](images/aboutgdip02-art36.png)

Чтобы нарисовать линии и кривые, использующие сглаживание, создайте объект [**Graphics**](/windows/desktop/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) и передайте *смусингмодеантиалиас* в его метод [**Graphics:: сетсмусингмоде**](/windows/desktop/api/Gdiplusgraphics/nf-gdiplusgraphics-graphics-setsmoothingmode) . Затем вызовите один из методов рисования этого **графического** объекта.


```
myGraphics.SetSmoothingMode(SmoothingModeAntiAlias);
myGraphics.DrawLine(&myPen, 0, 0, 12, 8);
```



**Смусингмодеантиалиас** является элементом перечисления [**смусингмоде**](/windows/desktop/api/Gdiplusenums/ne-gdiplusenums-smoothingmode) .

 

 



