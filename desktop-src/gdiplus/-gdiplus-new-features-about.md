---
description: В следующих разделах описаны некоторые из новых функций Windows GDI+.
ms.assetid: 0257a23c-560e-472e-863a-6ab5881dc156
title: Новые возможности
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ca79ddb4cabd14cc2eaa2493033a78cc7377f8e9
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103809653"
---
# <a name="new-features"></a>Новые возможности

В следующих разделах описаны некоторые из новых функций Windows GDI+.

-   [Градиентные кисти](#gradient-brushes)
-   [Фундаментальные сплайны](#cardinal-splines)
-   [Независимые объекты Path](#independent-path-objects)
-   [Преобразования и объект Matrix](#transformations-and-the-matrix-object)
-   [Масштабируемые регионы](#scalable-regions)
-   [Альфа-смешение](#alpha-blending)
-   [Поддержка нескольких форматов изображений](#support-for-multiple-image-formats)

## <a name="gradient-brushes"></a>Градиентные кисти

GDI+ расширяется на интерфейс графических устройств Windows (GDI), предоставляя линейные градиенты и градиенты вдоль пути для заливки фигур, контуров и регионов. Градиентные кисти также можно использовать для рисования линий, кривых и контуров. При заполнении фигуры с помощью линейной градиентной кисти цвет постепенно меняется при перемещении по фигуре. Например, предположим, что вы создаете горизонтальную градиентную кисть, указав синюю точку на левом крае фигуры и зеленую на правой границе. При заполнении этой формы с помощью горизонтальной градиентной кисти она постепенно меняется с синего на зеленую при переходе от левого края к правому. Аналогично, фигура, заполненная вертикальной градиентной кистью, изменит цвет при перемещении сверху вниз. На следующем рисунке показан эллипс, заполненный горизонтальной градиентной кистью, и область, заполненная кистью с диагональным градиентом.

![Иллюстрация фигуры, заполненной горизонтальным градиентом и одной, зафиксированной диагональным градиентом](images/aboutgdip01-art01.png)

При заполнении фигуры с помощью кисти градиента контура у вас есть разнообразные параметры для указания способа изменения цветов при переходе от одной части фигуры к другой. Один из вариантов — иметь центральный цвет и цвет границы, чтобы Пиксели постепенно изменялись от одного цвета к другому при переходе от середины фигуры к внешним краям. На следующем рисунке показан контур (созданный из пары сплайнов Безье), заполненный с помощью кисти градиента вдоль пути.

![Иллюстрация фигуры, похожей на знак бесконечности, заполнена синим, где половины соответствуют голубому цвету на краях.](images/aboutgdip01-art02.png)

## <a name="cardinal-splines"></a>Фундаментальные сплайны

GDI+ поддерживает фундаментальные сплайны, которые не поддерживаются в GDI. Фундаментальный сплайн — это последовательность отдельных кривых, Объединенных для формирования более крупной кривой. Сплайн задается массивом точек и проходит через каждую точку в этом массиве. Фундаментальный сплайн передается плавно (без острых углов) через каждую точку массива и, таким же, становится более четким, чем путь, созданный путем соединения прямых линий. На следующем рисунке показаны два контура, один из которых создается путем соединения прямых линий, а второй — в качестве фундаментального сплайна.

![Иллюстрация, показывающая одну и ту же пять точек дважды: после соединения фундаментальным сплайном другие сегменты по строкам](images/aboutgdip01-art03.png)

## <a name="independent-path-objects"></a>Независимые объекты Path

В GDI путь принадлежит к контексту устройства, а путь уничтожается при его прорисовке. При использовании GDI+ рисование выполняется [**графическим**](/windows/desktop/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) объектом, и вы можете создавать и обслуживать несколько объектов [**GraphicsPath**](/windows/desktop/api/gdipluspath/nl-gdipluspath-graphicspath) , отделяющих от объекта **Graphics** . Объект **GraphicsPath** не уничтожается действием рисования, поэтому можно использовать один и тот же объект **GraphicsPath** , чтобы нарисовать путь несколько раз.

## <a name="transformations-and-the-matrix-object"></a>Преобразования и объект Matrix

GDI+ предоставляет объект [**Matrix**](/windows/desktop/api/gdiplusmatrix/nl-gdiplusmatrix-matrix) , мощный инструмент, который позволяет легко и гибко преобразовывать (вращение, переводы и т. д.). Объект Matrix работает в сочетании с преобразованными объектами. Например, объект [**GraphicsPath**](/windows/desktop/api/gdipluspath/nl-gdipluspath-graphicspath) имеет метод [**GraphicsPath:: Transform**](/windows/desktop/api/Gdipluspath/nf-gdipluspath-graphicspath-transform) , который получает адрес объекта **Matrix** в качестве аргумента. Одна матрица размером 3 × 3 может содержать одно преобразование или последовательность преобразований. На следующем рисунке показан путь до и после последовательности двух преобразований (первый масштаб, затем повернуть).

![Иллюстрация, показывающая контур фигуры, а также тот же контур, но с более узким и повернутым](images/aboutgdip01-art04.png)

## <a name="scalable-regions"></a>Масштабируемые регионы

GDI+ значительно расширяет возможности GDI с поддержкой регионов. В GDI регионы хранятся в координатах устройства, а единственное преобразование, которое может быть применено к региону, — это перевод. GDI+ хранит регионы в мировых координатах и позволяет региону выполнять любое преобразование (например, масштабирование), которое может храниться в матрице преобразования. На следующем рисунке показан регион до и после последовательности из трех преобразований: масштабирование, вращение и перевод.

![Иллюстрация, показывающая фигуру, расположенную по осям координат, затем та же самая фигура, но крупная, повернутая и преобразованная вправо](images/aboutgdip01-art05.png)

## <a name="alpha-blending"></a>Альфа-смешение

Обратите внимание, что на предыдущем рисунке можно увидеть непреобразованную область (заполненную красным цветом) с помощью преобразованной области (заполненной штриховым кистью). Это стало возможным благодаря альфа-смешению, которое поддерживается GDI+. При использовании альфа-смешения можно указать прозрачность цвета заливки. Прозрачный цвет смешивается с цветом фона — чем более прозрачный цвет заливки, тем больше фон показывается. На следующем рисунке показаны четыре эллипса, которые заполняются одним и тем же цветом (красным) на разных уровнях прозрачности.

![Иллюстрация, демонстрирующая четыре эллипса различной прозрачности перекрывают полупрозрачный прямоугольник](images/aboutgdip01-art06.png)

## <a name="support-for-multiple-image-formats"></a>Поддержка нескольких форматов изображений

Интерфейс GDI+ предоставляет классы [**Image**](/windows/desktop/api/gdiplusheaders/nl-gdiplusheaders-image), [**Bitmap**](/windows/desktop/api/gdiplusheaders/nl-gdiplusheaders-bitmap)и [**Metafile**](/windows/desktop/api/gdiplusheaders/nl-gdiplusheaders-metafile) , которые позволяют загружать, сохранять изображения и работать с ними в различных форматах. Поддерживаются следующие форматы:

-   BMP
-   GIF
-   JPEG
-   Exif
-   PNG
-   TIFF
-   ЗНАЧОК
-   WMF
-   EMF

 

 



