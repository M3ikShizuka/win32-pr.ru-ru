### YamlMime:FAQ
metadata:
  title: Часто задаваемые вопросы о запрашивающем сторона EAPHost
  description: Этот раздел содержит ответы на часто задаваемые вопросы о API-интерфейсе EAPHost.
  ms.assetid: bf8db711-386e-47c2-be47-4cfd6c4d8d9e
  ms.topic: article
  ms.date: 05/31/2018
  ms.openlocfilehash: 32c61b2658f5efba14eef1bdf74e37d2ae833dff
  ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
  ms.translationtype: MT
  ms.contentlocale: ru-RU
  ms.lasthandoff: 09/13/2021
  ms.locfileid: "127568782"
title: Часто задаваемые вопросы о запрашивающем сторона EAPHost
summary: >
  Этот раздел содержит ответы на часто задаваемые вопросы о API-интерфейсе EAPHost.
sections:
- name: Не учитывается
  questions:
  - question: >
      Зачем нужно вызывать "Еафостпиринитиализе" и "Еафостпирунинитиализе"?
    answer: >
      [<strong>Еафостпиринитиализе</strong>](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeerinitialize) и [<strong>еафостпирунинитиализе</strong>](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeeruninitialize) инициализируют и ДЕинициализируют среду COM, используемую для межпроцессного взаимодействия (IPC) между запрашивающим и EAPHost.
  - question: >
      Какие функции должны вызываться в потоках, которые инициализируются COM для работы с одним потоковым апартаментом (STA)?
    answer: >
      [<strong>Еафостпиринвокеконфигуи</strong>](/previous-versions/windows/desktop/api/eaphostpeerconfigapis/nf-eaphostpeerconfigapis-eaphostpeerinvokeconfigui), [<strong>еафостпиринвокеинтерактивеуи</strong>](/previous-versions/windows/desktop/api/eaphostpeerconfigapis/nf-eaphostpeerconfigapis-eaphostpeerinvokeinteractiveui)и [<strong>еафостаусентикаторинвокеконфигуи</strong>](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorinvokeconfigui) должны вызываться для потоков с COM-инициализацией для STA. Это можно сделать, вызвав функцию [<strong>CoInitialize</strong>](/windows/win32/api/objbase/nf-objbase-coinitialize)API COM; После завершения запрашивающего устройства с STA Thread [<strong>CoUninitialize</strong>](/windows/win32/api/combaseapi/nf-combaseapi-couninitialize) необходимо вызвать перед выходом.
  - question: >
      Как следует экспортировать материал ключа?
    answer: >
      EAPHost методы EAP экспорт ключей главного сеанса (МСКС) в виде ключей шифрования Microsoft точка-точка (MPPE) в отправителей запросов. Дополнительные материалы по ключам, такие как парные главные ключи (ПМКС), могут создаваться с помощью этого запрашивающего устройства при помощи МОСКОВСКОМУ. Для методов создания любых других ключей во время проверки подлинности методы могут предоставлять эти ключи как зависящие от поставщика атрибуты для отправителей запросов.
  - question: >
      Что такое расширенный ключ главного сеанса (ЕМСК)?
    answer: >
      ЕМСК — это дополнительный материал для создания ключа, экспортируемый методом EAP. ЕМСК имеет длину не менее 64 октетов. ЕМСК является общим для клиента и сервера EAP, но не является общим для средства проверки подлинности или других сторонних разработчиков. В настоящее время ЕМСК зарезервировано для будущего использования. Дополнительные сведения см. в статье [требования к методам EAP для беспроводных локальных сетей](https://go.microsoft.com/fwlink/p/?linkid=84064).<br/>
  - question: >
      Когда метод принимает или создает атрибут?
    answer: >
      Если метод EAP создает атрибуты или ЕМСК, то он будет использовать атрибуты. Как правило, атрибуты, используемые отправителей запросов, являются ключами. Используются атрибуты <strong>еатпирид</strong>, <strong>еатсерверид</strong>, <strong>еатмесодид</strong>, <strong>еатемск</strong>и <strong>еаткредентиалсчанжед</strong>. Дополнительные сведения см. в разделе [<strong>EAP_ATTRIBUTE_TYPE</strong>](/windows/desktop/api/eaptypes/ne-eaptypes-eap_attribute_type). Метод EAP может экспортировать дополнительные материалы ЕМСК для конкретного приложения, такие как:

      <ul>

      <li>Идентификатор сеанса</li>

      <li>[Защита доступа к сети](/windows/desktop/NAP/network-access-protection-start-page) (NAP)</li>

      </ul>

      <br/>
  - question: >
      Какие атрибуты потребляют 802.1 X?
    answer: >
      Собственный запрашивающий объект Wireless [802.1 x](/previous-versions/windows/embedded/ms890287(v=msdn.10)) будет использовать следующие атрибуты проверки подлинности EAPHost:

      <ul>

      <li>Уведомление об изменении пароля</li>

      <li>Ключи отправки и получения шифрования "точка — точка" (MPPE). VendorId/Вендортипе = 331/16 и 311/1</li>

      </ul>


      Ключи MPPE — это ключи, создаваемые при завершении успешной проверки подлинности с помощью одноранговых узлов и средства проверки подлинности. Эти ключи используются [802.1 x](/previous-versions/windows/embedded/ms890287(v=msdn.10)) и сервером сетевого доступа (NAS) для шифрования и расшифровки отправленных и полученных пакетов.<br/>
  - question: >
      Какова цель флага EAP_PEER_FLAG_GUEST_ACCESS в EAPHost?
    answer: >
      Если этот флаг установлен в [<strong>еафостпирбегинсессион</strong>](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeerbeginsession), EAPHost интерпретирует это как запрос на гостевую авторизацию и возвращает ответ с <strong>нулевым</strong> идентификатором, который затем передается в вызывающий объект и возвращается серверу EAP.
  - question: >
      Как запрашивающая сторона запрашивает проверку подлинности компьютера?
    answer: >
      Проверка подлинности компьютера запрашивается путем установки флага [<strong>EAP_FLAG_MACHINE_AUTH</strong>](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeerbeginsession) .
  - question: >
      Как отправитель запрашивает проверку подлинности пользователя?
    answer: >
      Проверка подлинности пользователя запрашивается без установки флага [<strong>EAP_FLAG_MACHINE_AUTH</strong>](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeerbeginsession) .
  - question: >
      Когда я использую "Еафостпирфриеррормемори" вместо функции "Еафостфриеаперрор"?
    answer: >
      Функция [<strong>еафостпирфриеррормемори</strong>](/previous-versions/windows/desktop/api/eaphostpeerconfigapis/nf-eaphostpeerconfigapis-eaphostpeerfreeerrormemory) используется только для высвобождения структур [<strong>EAP_ERROR</strong>](/windows/desktop/api/eaptypes/ns-eaptypes-eap_error) , возвращаемых API конфигурации EAPHost. API настройки EAPHost определены в Еафостпирконфигапис. h. В отличие от этого функция [<strong>еафостпирфриеаперрор</strong>](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeerfreeeaperror) используется для освобождения структур <strong>EAP_ERROR</strong> , возвращаемых API-интерфейсами EAPHost времени выполнения. Интерфейсы API времени выполнения EAPHost определены в Еаппапис. h. Никогда не используйте версию API времени выполнения с версией конфигурации API. для этого могут возникнуть непредвиденные результаты.<br/>
  - question: >
      Я реализовал пользовательский интерфейс в том же потоке, который я использую для обработки сеанса проверки подлинности EAP на запрашивающем. После создания интерактивного диалогового окна пользовательского интерфейса для получения учетных данных или других входных в пользовательский интерфейс, следующий вызов метода EAPHost к одноранговому методу EAP завершается с "ERROR_OBJECT_DISCONNECTED". Почему это произошло и как его устранить?
    answer: >
      Хотя API-интерфейсы EAPHost на стороне клиента являются интерфейсами API в стиле C, эти API-интерфейсы C являются просто оболочками соответствующих API COM. Интерфейсы API стиля C выполняются в многопоточной среде COM. Код пользовательского интерфейса обычно выполняется в модели апартаментного потока. Поскольку две модели потоков конфликтуют друг с другом, не запускайте код пользовательского интерфейса в том же потоке, который обрабатывает проверки подлинности EAP.
  - question: >
      Почему API "Еафостпирбегинсессион" принимает в качестве параметра указатель функции обратного вызова "Нотификатионхандлер"?
    answer: >
      [<em>Нотификатионхандлер</em>](/previous-versions/windows/desktop/api) — это механизм, с помощью которого запрашивающий объект уведомляется о необходимости повторной проверки подлинности. Существуют различные сценарии, в которых необходимо повторно пройти проверку подлинности, включая проверку подлинности с помощью [защиты доступа к сети](/windows/desktop/NAP/network-access-protection-start-page) (NAP).
  - question: >
      Каково назначение параметра "Пконнектионид" в API "Еафостпирбегинсессион"?
    answer: >
      <em>пконнектионид</em> — это указатель на определенное значение идентификатора GUID, используемое для определения сетевого соединения, принадлежащего данному запрашивающему объекту. При вызове функции обратного вызова [<em>нотификатионхандлер</em>](/previous-versions/windows/desktop/api) этот идентификатор GUID передается для идентификации сетевого подключения, которое будет использоваться запрашивающей стороне для повторного запроса проверки подлинности.
  - question: >
      Разделы справки выяснить, изменилось ли состояние карантина?
    answer: >
      Пользователь получит визуальное уведомление об изменении состояния карантина только при наличии хотя бы одного зарегистрированного в системе интерфейса клиента принудительной защиты доступа к сети (NAP) (Кек). Если да, то при повторной проверке подлинности пользователь будет уведомлен об изменении состояния карантина через всплывающее окно.
  - question: >
      Разделы справки выяснить, есть ли в системе зарегистрированный в Кек интерфейс NAP?
    answer: >
      Откройте окно с повышенными привилегиями и выполните следующую команду netsh: &quot; netsh NAP Client показывать состояние &quot; . Дополнительные сведения см. в разделе [команды netsh](/previous-versions/windows/it-pro/windows-server-2003/cc779693(v=ws.10)).
  - question: >
      Если запрашивающий объект повторно проходит проверку подлинности, какой идентификатор подключения должен использоваться Кек во время повторной проверки подлинности?
    answer: >
      Кек должен использовать тот же идентификатор соединения, который использовался для предыдущего сеанса.
  - question: >
      Для вывода диалоговых окон пользовательского интерфейса доступен только один метод обращения EAPHost, но методы EAP имеют несколько типов вызовов, зависящих от пользовательского интерфейса. Какой метод должен вызывать вызывающий объект при получении кода действия "Еафостпирреспонсеинвокеуи", указывающего, что запрашивающий объект должен отображать диалоговое окно пользовательского интерфейса?
    answer: >
      Пользователю не требуется никаких действий, поскольку EAPHost знает, какую функцию метода вызывать. Например, когда возвращается код действия <strong>еафостпирреспонсеинвокеуи</strong> , он вызывает эти три функции в следующем порядке: [<strong>еафостпиржетуиконтекст</strong>](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeergetuicontext), [<strong>еафостпиринвокеинтерактивеуи</strong>](/previous-versions/windows/desktop/api/eaphostpeerconfigapis/nf-eaphostpeerconfigapis-eaphostpeerinvokeinteractiveui)и [<strong>EapHostPeerSetUIContext</strong>](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeersetuicontext).
  - question: >
      В чем разница между BLOB-объектом учетных данных и BLOB-объектом конфигурации?
    answer: >
      Большой двоичный объект учетных данных содержит только пользовательские данные, такие как имя пользователя, пароль и ПИН-код. Большой двоичный объект конфигурации содержит параметры, управляющие поведением метода.
  - question: >
      Можно ли включить трассировку на стороне клиента EAPHost?
    answer: "Да. Дополнительные сведения см. в разделе [Включение трассировки](enabling-tracing.md).\n \n"
additionalContent: "\n## <a name=\"related-topics\"></a>Связанные темы\n\n[Справочник по API для запрашивающей сторона EAPHost](eap-host-supplicant-api-reference.md)\n        \n[Общие вопросы и ответы по EAPHost](general-frequently-asked-questions.yml)\n        \n[Вопросы и ответы по методу EAPHost](eap-method-frequently-asked-questions.yml)\n        \n[Вопросы и ответы по разработке EAPHost](eaphost-development-frequently-asked-questions.md)"
