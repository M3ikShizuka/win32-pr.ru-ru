---
title: Часто задаваемые вопросы о запрашивающем сторона EAPHost
description: Этот раздел содержит ответы на часто задаваемые вопросы о API-интерфейсе EAPHost.
ms.assetid: bf8db711-386e-47c2-be47-4cfd6c4d8d9e
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c38e75220b186ef58f2b9f264f8f5fc0550a4119
ms.sourcegitcommit: db89157e3be911fdce2e543e99faa31fb2403bc8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/18/2020
ms.locfileid: "103797623"
---
# <a name="eaphost-supplicant-frequently-asked-questions"></a>Часто задаваемые вопросы о запрашивающем сторона EAPHost

Этот раздел содержит ответы на часто задаваемые вопросы о API-интерфейсе EAPHost.

### <a name="eaphost-supplicant-frequently-asked-questions"></a>Часто задаваемые вопросы о запрашивающем сторона EAPHost



<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th>Вопрос</th>
<th>Ответ</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Зачем нужно вызывать [<strong>еафостпиринитиализе</strong>] (/превиаус-версионс/Виндовс/десктоп/АПИ/еаппапис/НФ-еаппапис-еафостпиринитиализе) и [<strong>EapHostPeerUninitialize</strong>] (/Previous-Versions/Windows/Desktop/API/eappapis/NF-eappapis-eaphostpeeruninitialize)?</td>
<td>[<strong>Еафостпиринитиализе</strong>] (/превиаус-версионс/Виндовс/десктоп/АПИ/еаппапис/НФ-еаппапис-еафостпиринитиализе) и [<strong>EapHostPeerUninitialize</strong>] (/Previous-Versions/Windows/Desktop/API/eappapis/NF-eappapis-eaphostpeeruninitialize) инициализируют и деинициализируют среду COM, используемую для межпроцессного взаимодействия (IPC) между запрашивающим и EAPHost.</td>
</tr>
<tr class="even">
<td>Какие функции должны вызываться в потоках, которые инициализируются COM для работы с [одним потоковым апартаментом](/previous-versions/ms810413(v=msdn.10)) (STA)?</td>
<td>[<strong>Еафостпиринвокеконфигуи</strong>] (/превиаус-версионс/Виндовс/десктоп/АПИ/еафостпирконфигапис/НФ-еафостпирконфигапис-еафостпиринвокеконфигуи), [<strong>EapHostPeerInvokeInteractiveUI</strong>] (/Previous-Versions/Windows/Desktop/API/eaphostpeerconfigapis/NF-eaphostpeerconfigapis-eaphostpeerinvokeinteractiveui) и [<strong>EapHostAuthenticatorInvokeConfigUI</strong>] (/Previous-Versions/Windows/Desktop/API/eapmethodauthenticatorapis/NF-eapmethodauthenticatorapis-eapmethodauthenticatorinvokeconfigui) должны вызываться для потоков с COM-инициализацией для STA. Это можно сделать, вызвав COM API [<strong>CoInitialize</strong>] (/Windows/Win32/API/objbase/NF-objbase-CoInitialize); при завершении запрашивающего устройства с потоком STA [<strong>CoUninitialize</strong>] (/Windows/Win32/API/combaseapi/NF-combaseapi-CoUninitialize) перед выходом необходимо вызвать.</td>
</tr>
<tr class="odd">
<td>Как следует экспортировать материал ключа?</td>
<td>EAPHost методы EAP экспорт ключей главного сеанса (МСКС) в виде ключей шифрования Microsoft точка-точка (MPPE) в отправителей запросов. Дополнительные материалы по ключам, такие как парные главные ключи (ПМКС), могут создаваться с помощью этого запрашивающего устройства при помощи МОСКОВСКОМУ. Для методов создания любых других ключей во время проверки подлинности методы могут предоставлять эти ключи как зависящие от поставщика атрибуты для отправителей запросов.</td>
</tr>
<tr class="even">
<td>Что такое расширенный ключ главного сеанса (ЕМСК)?</td>
<td>ЕМСК — это дополнительный материал для создания ключа, экспортируемый методом EAP. ЕМСК имеет длину не менее 64 октетов. ЕМСК является общим для клиента и сервера EAP, но не является общим для средства проверки подлинности или других сторонних разработчиков. В настоящее время ЕМСК зарезервировано для будущего использования. Дополнительные сведения см. в статье [требования к методам EAP для беспроводных локальных сетей](https://go.microsoft.com/fwlink/p/?linkid=84064).<br/></td>
</tr>
<tr class="odd">
<td>Когда метод принимает или создает атрибут?</td>
<td>Если метод EAP создает атрибуты или ЕМСК, то он будет использовать атрибуты. Как правило, атрибуты, используемые отправителей запросов, являются ключами. Используются атрибуты <strong>еатпирид</strong>, <strong>еатсерверид</strong>, <strong>еатмесодид</strong>, <strong>еатемск</strong>и <strong>еаткредентиалсчанжед</strong>. Дополнительные сведения см. в разделе [<strong>EAP_ATTRIBUTE_TYPE</strong>] (/Виндовс/десктоп/АПИ/еаптипес/не-еаптипес-eap_attribute_type). Метод EAP может экспортировать дополнительные материалы ЕМСК для конкретного приложения, такие как:
<ul>
<li>Идентификатор сеанса</li>
<li>[Защита доступа к сети](/windows/desktop/NAP/network-access-protection-start-page) (NAP)</li>
</ul>
<br/></td>
</tr>
<tr class="even">
<td>Какие атрибуты потребляют [802.1 x](/previous-versions/windows/embedded/ms890287(v=msdn.10)) ?</td>
<td>Собственный запрашивающий объект Wireless [802.1 x](/previous-versions/windows/embedded/ms890287(v=msdn.10)) будет использовать следующие атрибуты проверки подлинности EAPHost:
<ul>
<li>Уведомление об изменении пароля</li>
<li>Ключи отправки и получения шифрования "точка — точка" (MPPE). VendorId/Вендортипе = 331/16 и 311/1</li>
</ul>
Ключи MPPE — это ключи, создаваемые при завершении успешной проверки подлинности с помощью одноранговых узлов и средства проверки подлинности. Эти ключи используются [802.1 x](/previous-versions/windows/embedded/ms890287(v=msdn.10)) и сервером сетевого доступа (NAS) для шифрования и расшифровки отправленных и полученных пакетов.<br/></td>
</tr>
<tr class="odd">
<td>Какова цель флага EAP_PEER_FLAG_GUEST_ACCESS в EAPHost?</td>
<td>Если этот флаг установлен в [<strong>еафостпирбегинсессион</strong>] (/превиаус-версионс/Виндовс/десктоп/АПИ/еаппапис/НФ-еаппапис-еафостпирбегинсессион), EAPHost интерпретирует это как запрос авторизации гостя и возвращает ответ об <strong>нулевом</strong> идентификаторе, который затем передается в вызывающий объект и возвращается серверу EAP.</td>
</tr>
<tr class="even">
<td>Как запрашивающая сторона запрашивает проверку подлинности компьютера?</td>
<td>Проверка подлинности компьютера запрашивается путем установки флага [<strong>EAP_FLAG_MACHINE_AUTH</strong>] (/превиаус-версионс/Виндовс/десктоп/АПИ/еаппапис/НФ-еаппапис-еафостпирбегинсессион).</td>
</tr>
<tr class="odd">
<td>Как отправитель запрашивает проверку подлинности пользователя?</td>
<td>Проверка подлинности пользователя запрашивается без установки флага [<strong>EAP_FLAG_MACHINE_AUTH</strong>] (/превиаус-версионс/Виндовс/десктоп/АПИ/еаппапис/НФ-еаппапис-еафостпирбегинсессион).</td>
</tr>
<tr class="even">
<td>Когда вместо функции [<strong>EapHostFreeEapError</strong>] (/Previous-Versions/Windows/Desktop/API/eappapis/NF-eappapis-eaphostpeerfreeeaperror) используется [<strong>еафостпирфриеррормемори</strong>] (/превиаус-версионс/Виндовс/десктоп/АПИ/еафостпирконфигапис/НФ-еафостпирконфигапис-еафостпирфриеррормемори)?</td>
<td>Функция [<strong>еафостпирфриеррормемори</strong>] (/превиаус-версионс/Виндовс/десктоп/АПИ/еафостпирконфигапис/НФ-еафостпирконфигапис-еафостпирфриеррормемори) используется только для высвобождения структур [<strong>EAP_ERROR</strong>] (/Windows/Desktop/API/eaptypes/NS-eaptypes-eap_error), возвращаемых API конфигурации EAPHost. API настройки EAPHost определены в Еафостпирконфигапис. h. В отличие от этого функция [<strong>еафостпирфриеаперрор</strong>] (/превиаус-версионс/Виндовс/десктоп/АПИ/еаппапис/НФ-еаппапис-еафостпирфриеаперрор) используется для освобождения структур <strong>EAP_ERROR</strong> , возвращаемых API-интерфейсами EAPHost времени выполнения. Интерфейсы API времени выполнения EAPHost определены в Еаппапис. h. Никогда не используйте версию API времени выполнения с версией конфигурации API. для этого могут возникнуть непредвиденные результаты.<br/></td>
</tr>
<tr class="odd">
<td>Я реализовал пользовательский интерфейс в том же потоке, который я использую для обработки сеанса проверки подлинности EAP на запрашивающем. После того как диалоговое окно интерактивного пользовательского интерфейса выдает учетные данные или другие входные данные, следующий вызов метода EAPHost на одноранговый метод EAP завершается с <strong>ERROR_OBJECT_DISCONNECTED</strong>. Почему это произошло и как его устранить?</td>
<td>Хотя API-интерфейсы EAPHost на стороне клиента являются интерфейсами API в стиле C, эти API-интерфейсы C являются просто оболочками соответствующих API COM. Интерфейсы API стиля C выполняются в многопоточной среде COM. Код пользовательского интерфейса обычно выполняется в модели апартаментного потока. Поскольку две модели потоков конфликтуют друг с другом, не запускайте код пользовательского интерфейса в том же потоке, который обрабатывает проверки подлинности EAP.</td>
</tr>
<tr class="even">
<td>Почему API [<strong>еафостпирбегинсессион</strong>] (/превиаус-версионс/Виндовс/десктоп/АПИ/еаппапис/НФ-еаппапис-еафостпирбегинсессион) принимает в качестве параметра указатель функции обратного вызова [<em>NotificationHandler</em>] (/Previous-Versions/Windows/Desktop/API)?</td>
<td>[<em>Нотификатионхандлер</em>] (/превиаус-версионс/Виндовс/десктоп/АПИ) — это механизм, с помощью которого запрашивающий объект уведомляется о необходимости повторной проверки подлинности. Существуют различные сценарии, в которых необходимо повторно пройти проверку подлинности, включая проверку подлинности с помощью [защиты доступа к сети](/windows/desktop/NAP/network-access-protection-start-page) (NAP).</td>
</tr>
<tr class="odd">
<td>Каково назначение параметра <em>пконнектионид</em> в API [<strong>еафостпирбегинсессион</strong>] (/превиаус-версионс/Виндовс/десктоп/АПИ/еаппапис/НФ-еаппапис-еафостпирбегинсессион)?</td>
<td><em>пконнектионид</em> — это указатель на определенное значение идентификатора GUID, используемое для определения сетевого соединения, принадлежащего данному запрашивающему объекту. При вызове функции обратного вызова [<em>нотификатионхандлер</em>] (/превиаус-версионс/Виндовс/десктоп/АПИ) Этот идентификатор GUID передается для идентификации сетевого подключения, которое будет использоваться для запросов повторной проверки подлинности.</td>
</tr>
<tr class="even">
<td>Разделы справки выяснить, изменилось ли состояние карантина?</td>
<td>Пользователь получит визуальное уведомление об изменении состояния карантина только при наличии хотя бы одного зарегистрированного в системе интерфейса клиента принудительной защиты доступа к сети (NAP) (Кек). Если да, то при повторной проверке подлинности пользователь будет уведомлен об изменении состояния карантина через всплывающее окно.</td>
</tr>
<tr class="odd">
<td>Разделы справки выяснить, есть ли в системе зарегистрированный в Кек интерфейс NAP?</td>
<td>Откройте окно с повышенными привилегиями и выполните следующую команду netsh: &quot; netsh NAP Client показывать состояние &quot; . Дополнительные сведения см. в разделе [команды netsh](/previous-versions/windows/it-pro/windows-server-2003/cc779693(v=ws.10)).</td>
</tr>
<tr class="even">
<td>Если запрашивающий объект повторно проходит проверку подлинности, какой идентификатор подключения должен использоваться Кек во время повторной проверки подлинности?</td>
<td>Кек должен использовать тот же идентификатор соединения, который использовался для предыдущего сеанса.</td>
</tr>
<tr class="odd">
<td>Для вывода диалоговых окон пользовательского интерфейса доступен только один метод обращения EAPHost, но методы EAP имеют несколько типов вызовов, зависящих от пользовательского интерфейса. Какой метод должен вызываться с помощью запрашивающей стороной при получении кода действия <strong>еафостпирреспонсеинвокеуи</strong> , указывающего на то, что запрашивающий объект должен отображать диалоговое окно пользовательского интерфейса?</td>
<td>Пользователю не требуется никаких действий, поскольку EAPHost знает, какую функцию метода вызывать. Например, когда возвращается код действия <strong>еафостпирреспонсеинвокеуи</strong> , запрашивающий объект вызывает эти три функции в следующем порядке: [<strong>еафостпиржетуиконтекст</strong>] (/Превиаус-версионс/Виндовс/десктоп/АПИ/еаппапис/НФ-еаппапис-еафостпиржетуиконтекст), [<strong>EapHostPeerInvokeInteractiveUI</strong>] (/Previous-Versions/Windows/Desktop/API/eaphostpeerconfigapis/NF-eaphostpeerconfigapis-eaphostpeerinvokeinteractiveui) и [<strong>EapHostPeerSetUIContext</strong>] (/Previous-Versions/Windows/Desktop/API/eappapis/NF-eappapis-eaphostpeersetuicontext).</td>
</tr>
<tr class="even">
<td>В чем разница между BLOB-объектом учетных данных и BLOB-объектом конфигурации?</td>
<td>Большой двоичный объект учетных данных содержит только пользовательские данные, такие как имя пользователя, пароль и ПИН-код. Большой двоичный объект конфигурации содержит параметры, управляющие поведением метода.</td>
</tr>
<tr class="odd">
<td>Можно ли включить трассировку на стороне клиента EAPHost?</td>
<td>Да. Дополнительные сведения см. в разделе [Включение трассировки](enabling-tracing.md).</td>
</tr>
</tbody>
</table>



 

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Справочник по API для запрашивающей сторона EAPHost](eap-host-supplicant-api-reference.md)
</dt> <dt>

[Общие вопросы и ответы по EAPHost](general-frequently-asked-questions.md)
</dt> <dt>

[Вопросы и ответы по методу EAPHost](eap-method-frequently-asked-questions.md)
</dt> <dt>

[Вопросы и ответы по разработке EAPHost](eaphost-development-frequently-asked-questions.md)
</dt> </dl>

