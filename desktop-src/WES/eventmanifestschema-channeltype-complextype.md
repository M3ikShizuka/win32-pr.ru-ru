---
title: Сложный тип Чаннелтипе
description: Определяет канал, к которому поставщики могут регистрировать события.
ms.assetid: 882506e5-222b-45c8-af4b-59db8baa1dae
keywords:
- Журнал событий сложных типов Чаннелтипе
topic_type:
- apiref
api_name:
- ChannelType
api_type:
- Schema
ms.topic: reference
ms.date: 05/31/2018
api_location: ''
ms.openlocfilehash: 81158306285631748830d8aaaaf9cf329d7c0af1
ms.sourcegitcommit: a1494c819bc5200050696e66057f1020f5b142cb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/12/2020
ms.locfileid: "104492036"
---
# <a name="channeltype-complex-type"></a>Сложный тип Чаннелтипе

Определяет канал, к которому поставщики могут регистрировать события.

``` syntax
<xs:complexType name="ChannelType"
    mixed="true"
>
    <xs:sequence>
        <xs:element name="logging"
            type="ChannelLoggingType"
            minOccurs="0"
         />
        <xs:element name="publishing"
            type="ChannelPublishingType"
            minOccurs="0"
         />
    </xs:sequence>
    <xs:attribute name="name"
        type="anyURI"
        use="required"
     />
    <xs:attribute name="chid"
        type="token"
        use="optional"
     />
    <xs:attribute name="type"
        type="string"
        use="required"
     />
    <xs:attribute name="symbol"
        type="CSymbolType"
        use="optional"
     />
    <xs:attribute name="access"
        type="string"
        use="optional"
     />
    <xs:attribute name="isolation"
        type="string"
        use="optional"
     />
    <xs:attribute name="enabled"
        type="boolean"
        default="false"
        use="optional"
     />
    <xs:attribute name="value"
        type="UInt8Type"
        use="optional"
     />
    <xs:attribute name="message"
        type="string"
        use="optional"
     />
</xs:complexType>
```

## <a name="child-elements"></a>Дочерние элементы



| Элемент                                                                  | Тип                                                                                   | Описание                                                                                                                                                                                                |
|--------------------------------------------------------------------------|----------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**Подробности**](eventmanifestschema-logging-channeltype-element.md)       | [**чаннеллоггингтипе**](eventmanifestschema-channelloggingtype-complextype.md)       | Определяет свойства файла журнала, который осуществляет резервное копирование канала, например его емкость, а также указывает, является ли файл журнала последовательным или циклическим.<br/>                                                         |
| [**Publish**](eventmanifestschema-publishing-channeltype-element.md) | [**чаннелпублишингтипе**](eventmanifestschema-channelpublishingtype-complextype.md) | Определяет свойства ведения журнала для сеанса, используемого каналом. Свойства ведения журнала для сеанса могут указываться только в отладочных и аналитических каналах и каналах, использующих пользовательскую изоляцию.<br/> |



## <a name="attributes"></a>Атрибуты



<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>Имя</th>
<th>Тип</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>access</td>
<td>строка</td>
<td>Дескриптор доступа на <a href="/windows/desktop/SecAuthZ/security-descriptor-definition-language">языке определения дескрипторов безопасности</a> (SDDL), который управляет доступом к файлу журнала, который производит резервное копирование канала. Если для атрибута <strong>изоляции</strong> задано значение Application или System, то дескриптор доступа управляет доступом для чтения к файлу (разрешения на запись игнорируются). Если для атрибута <strong>изоляции</strong> задано значение Custom, дескриптор доступа управляет доступом на запись к каналу и доступ для чтения к файлу.<br/></td>
</tr>
<tr class="even">
<td>чид</td>
<td>token</td>
<td>Идентификатор, который уникальным образом идентифицирует канал в списке каналов, определяемых или импортируемых поставщиком. Используйте это значение при ссылке на канал в событии. Если идентификатор канала не указан, используйте имя канала для ссылки на этот канал в определении события.<br/></td>
</tr>
<tr class="odd">
<td>Включено</td>
<td>Логическое</td>
<td>Определяет, включен ли канал. Задайте значение <strong>true</strong> , чтобы разрешить ведение журнала для канала. в противном случае — <strong>значение false</strong>. Значение по умолчанию — <strong>false</strong> (ведение журнала отключено).<br/> Так как типы каналов отладки и аналитики являются каналами большого объема, необходимо включить канал только при исследовании проблемы с компонентом, записывающим данные в этот канал. в противном случае канал должен оставаться отключенным.<br/> Каждый раз, когда вы включаете канал отладки и анализа, служба удаляет события из канала.<br/></td>
</tr>
<tr class="even">
<td>изоляция</td>
<td>строка</td>
<td>Значение изоляции определяет разрешения на доступ по умолчанию для канала. Можно указать одно из следующих значений.
<ul>
<li><strong>Приложение</strong></li>
<li><strong>Система</strong></li>
<li><strong>Пользовательский</strong></li>
</ul>
Изоляция по умолчанию — <strong>Application</strong>. Разрешения по умолчанию для <strong>приложения</strong> (показаны с помощью SDDL): <br/> <span data-codelanguage="Text"></span>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th>Текст</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><pre><code>            L&quot;O:BAG:SYD:&quot;
            L&quot;(A;;0xf0007;;;SY)&quot;                // local system               (read, write, clear)
            L&quot;(A;;0x7;;;BA)&quot;                    // built-in admins            (read, write, clear)
            L&quot;(A;;0x7;;;SO)&quot;                    // server operators           (read, write, clear)
            L&quot;(A;;0x3;;;IU)&quot;                    // INTERACTIVE LOGON          (read, write)
            L&quot;(A;;0x3;;;SU)&quot;                    // SERVICES LOGON             (read, write)
            L&quot;(A;;0x3;;;S-1-5-3)&quot;               // BATCH LOGON                (read, write)
            L&quot;(A;;0x3;;;S-1-5-33)&quot;              // write restricted service   (read, write)
            L&quot;(A;;0x1;;;S-1-5-32-573)&quot;;         // event log readers          (read) </code></pre></td>
</tr>
</tbody>
</table>

<p>Разрешения по умолчанию для <strong>System</strong> (показаны с помощью SDDL):</p>
<div class="code">
<span data-codelanguage="Text"></span>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th>Текст</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><pre><code>            L&quot;O:BAG:SYD:&quot;
            L&quot;(A;;0xf0007;;;SY)&quot;                // local system             (read, write, clear)
            L&quot;(A;;0x7;;;BA)&quot;                    // built-in admins          (read, write, clear)
            L&quot;(A;;0x3;;;BO)&quot;                    // backup operators         (read, write)
            L&quot;(A;;0x5;;;SO)&quot;                    // server operators         (read, clear) 
            L&quot;(A;;0x1;;;IU)&quot;                    // INTERACTIVE LOGON        (read)
            L&quot;(A;;0x3;;;SU)&quot;                    // SERVICES LOGON           (read, write)
            L&quot;(A;;0x1;;;S-1-5-3)&quot;               // BATCH LOGON              (read)
            L&quot;(A;;0x2;;;S-1-5-33)&quot;              // write restricted service (write)
            L&quot;(A;;0x1;;;S-1-5-32-573)&quot;;         // event log readers        (read)</code></pre></td>
</tr>
</tbody>
</table>

</div>
<p>Разрешения по умолчанию для <strong>пользовательской</strong> изоляции совпадают с разрешениями приложения.</p>
<p>Каналы, указывающие изоляцию <strong>приложений</strong> , используют один и тот же сеанс ETW. Это справедливо и для изоляции <strong>системы</strong> . Однако при указании <strong>пользовательской</strong> изоляции служба создает отдельный сеанс ETW для канала. Использование <strong>пользовательской</strong> изоляции позволяет управлять разрешениями на доступ к каналу и резервному файлу. Так как доступно только 64 сеансов ETW, следует ограничить использование <strong>пользовательской</strong> изоляции.</p></td>
</tr>
<tr class="odd">
<td>message</td>
<td>строка</td>
<td><p>Локализованное отображаемое имя для канала. Строка сообщения ссылается на локализованную строку в разделе " <a href="eventmanifestschema-stringtable-resources-element.md"><strong>STRINGTABLE</strong></a> " манифеста.</p></td>
</tr>
<tr class="even">
<td>name</td>
<td>anyURI</td>
<td><p>Имя канала. Имя должно быть уникальным в списке каналов, используемых поставщиком. Соглашение об именовании каналов заключается в добавлении типа канала к имени поставщика. Например, если выбран диапазон 10.0.0.0/20 для виртуальной сети, для пространства клиентских адресов можно выбрать 10.1.0.0/24. Если имя поставщика — компонент "компания-продукт", и вы определяете операционный канал, это имя будет иметь вид "компания-продукт-компонент" или "операционная".</p>
<p>Имена каналов должны быть меньше 255 символов и не могут содержать следующие символы: ">", "<', '&', '&quot;', '|', '\', ':', '`', '?', '*', or characters with codes less than 31.</p></td>
</tr>
<tr class="odd">
<td>символ</td>
<td><a href="eventmanifestschema-csymboltype-simpletype.md"><strong>ксимболтипе</strong></a></td>
<td><p>Символ, используемый для ссылки на канал в приложении. <a href="message-compiler--mc-exe-.md"><strong>Компилятор сообщений (MC.exe)</strong></a> использует символ, чтобы создать константу для канала в файле заголовка, создаваемом компилятором. Если символ не указан, компилятор создаст это имя.</p></td>
</tr>
<tr class="even">
<td>type</td>
<td>строка</td>
<td><p>Идентифицирует тип канала. Можно указать один из следующих типов:</p>
<ul>
<li><strong>Администратор</strong></li>
<li><strong>Операционный</strong></li>
<li><strong>Аналитический</strong></li>
<li><strong>Отладка</strong></li>
</ul>
<p>Каналы типа администратора поддерживают события, предназначенные для конечных пользователей, администраторов и сотрудников службы поддержки. События, записываемые в каналы администрирования, должны иметь четко определенное решение, которое может действовать администратор. Примером события администратора является событие, возникающее, когда приложению не удается подключиться к принтеру. Эти события либо хорошо документированы, либо имеют связанное с ними сообщение, которое предоставляет читателям инструкции, которые должны быть выполнены для устранения проблемы.</p>
<p>Каналы рабочих типов поддерживают события, которые используются для анализа и диагностики проблемы или вхождения. Они могут использоваться для запуска инструментальных средств или задач, исходя из проблемы или происхождения события. Примером события операционного типа может служить событие, происходящее при добавлении или удалении принтера из системы.</p>
<p>Каналы аналитических типов поддерживают события, опубликованные в большом объеме. Они описывают функционирование программы и указывают проблемы, которые не могут быть устранены вмешательством пользователя.</p>
<p>Каналы типов отладки поддерживают события, которые используются исключительно разработчиками для диагностики проблемы при отладке.</p>
<p>Аналитические и отладочные каналы по умолчанию отключены, и их следует включать только для определения причины проблемы. Например, можно включить канал, запустить сценарий, который вызывает проблему, отключить канал, а затем запросить события. Обратите внимание, что включение канала очищает канал существующих событий. Если в канале аналитики и отладки используется циклический резервный файл, необходимо отключить канал для запроса его событий.</p>
<p>Все каналы администрирования используют один и тот же сеанс ETW. Это справедливо и для рабочих каналов. Однако каждый аналитический и отладочный канал использует отдельный сеанс ETW, что является еще одной причиной включения этих типов каналов только при необходимости (доступно ограниченное количество сеансов ETW).</p></td>
</tr>
<tr class="odd">
<td>значение</td>
<td><a href="eventmanifestschema-hexint8type-simpletype.md"><strong>UInt8Type</strong></a></td>
<td><p>Числовой идентификатор, который однозначно определяет канал в списке каналов, определяемых поставщиком. Компилятор сообщений присваивает значение, если оно не указано.</p></td>
</tr>
</tbody>
</table>



## <a name="remarks"></a>Комментарии

Если имя канала соответствует соглашению об именовании каналов, Просмотр событий Windows будет перечислять канал, используя строку, следующую за обратной косой чертой. Например, если имя канала — "компания-продукт — компонент/Рабочая", то Просмотр событий будет перечислять канал как работоспособный в рамках поставщика компонентов компании и продукта. В противном случае в поставщике отображается имя всего канала. Локализованное отображаемое имя используется, если оно указано.

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|------------------------------------------------------|
| Минимальная версия клиента<br/> | Только для \[ классических приложений Windows Vista\]<br/>       |
| Минимальная версия сервера<br/> | \[Только для настольных приложений Windows Server 2008\]<br/> |



 

 




`
