---
title: Использование буферов строк
description: Функции, возвращающие строки, содержат входной параметр, Лпсзбуффер и параметр size, Лпдвбуфферленгс. Хотя Лпсзбуффер может иметь значение NULL, Лпдвбуфферленгс должен быть допустимым указателем на переменную типа DWORD.
ms.assetid: ae7f84ba-15d4-483b-bdda-0042854f9e1b
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 309d887458521b99069b381f8bf6650ebeda488a
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "103792721"
---
# <a name="using-string-buffers"></a>Использование буферов строк

Функции, возвращающие строки, содержат входной параметр, *лпсзбуффер* и параметр size, *лпдвбуфферленгс*. Хотя *лпсзбуффер* может иметь **значение NULL**, *лпдвбуфферленгс* должен быть допустимым указателем на переменную **типа DWORD** . Если входной буфер, на который указывает *лпсзбуффер* , имеет **значение NULL** или слишком мал для хранения выходной строки, функция завершается ошибкой, а [**GetLastError**](/windows/desktop/api/errhandlingapi/nf-errhandlingapi-getlasterror) возвращает **ошибку, \_ недостаточную для \_ буфера**. Переменная, на которую указывает *лпдвбуфферленгс* , содержит число, представляющее число байтов, необходимых функции для возврата запрошенной строки, включая завершающий символ **null** . Приложение должно выделить буфер такого размера, установить переменную, на которую указывает *лпдвбуфферленгс* , в это значение и повторно отправить запрос. Если размер буфера достаточно для получения запрошенной строки, строка копируется в выходной буфер с **нулевым** символом конца строки, а функция возвращает признак успеха. Переменная, на которую указывает *лпдвбуфферленгс* , теперь содержит количество символов, хранящихся в буфере, за исключением терминатора **null** .

> [!Note]  
> WinINet не поддерживает реализации серверов. Кроме того, его не следует использовать из службы. Для серверных реализаций или служб используйте [службы Microsoft Windows HTTP Services (WinHTTP)](/windows/desktop/WinHttp/winhttp-start-page).

 

 

 