---
title: Функции предупреждений
description: Функции оповещений управления сетью уведомляют программы сетевой службы и приложения сетевых событий.
ms.assetid: e131191b-7413-45ff-84cd-b3a873d33ca1
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 80fde863b27bebc8bf815c939f7edf96cd998442
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "104487941"
---
# <a name="alert-functions"></a>Функции предупреждений

\[Функции предупреждений не поддерживаются в Windows Vista, так как служба оповещений и службы сообщений не поддерживаются.\]

Функции оповещений управления сетью уведомляют программы сетевой службы и приложения сетевых событий. *Событие* — это конкретный экземпляр процесса, экземпляра или состояния оборудования, определенный приложением. Функции предупреждений позволяют приложениям указывать время возникновения предопределенных событий.

**Windows Server 2003:** Службы оповещений и сообщений по умолчанию отключены в Windows Server 2003. Необходимо повторно включить службы перед вызовом функций предупреждений управления сетью или [функций сообщений](message-functions.md)управления сетью.

Ниже перечислены функции предупреждений.



| Функция                                   | Описание                                                                                                                                                                                            |
|--------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**неталертраисе**](/windows/desktop/api/Lmalert/nf-lmalert-netalertraise)     | Уведомляет всех зарегистрированных клиентов о том, что произошло определенное событие.                                                                                                                                  |
| [**неталертраисикс**](/windows/desktop/api/Lmalert/nf-lmalert-netalertraiseex) | Упрощает уведомление зарегистрированных клиентов о том, что произошло определенное событие, поскольку, в отличие от **неталертраисе**, **Неталертраисикс** не требует стандартных структур [**\_ предупреждений**](/windows/desktop/api/Lmalert/ns-lmalert-std_alert) . |



 

При вызове функции **неталертраисе** или функции **неталертраисикс** на клиентском компьютере должна быть запущена служба оповещения. Если служба не запущена, функции завершаются с ошибкой, **но \_ файл \_ не \_ найден**. Служба оповещения на клиенте вызывает функцию [**нетмессажебуфферсенд**](/windows/desktop/api/Lmmsg/nf-lmmsg-netmessagebuffersend) для отправки сведений получателям.

Приложения, сетевые службы и компоненты внутренней сети используют функции оповещений управления сетью для создания предупреждения, уведомления различных приложений или пользователей при возникновении определенного типа события. Функции категории предупреждений, типы данных, структуры и константы определяются в ЛМКОНС. H, ЛМЕРР. H и ЛМАЛЕРТ. Файлы заголовков H. Чтобы получить доступ к этим определениям, определите константы, включая \_ нетеррорс и \_ , включая неталерт, и включите заголовочный файл LM. H.

ЛМАЛЕРТ. H-файл определяет следующие классы предупреждений (типы сетевых событий) для отправки предупреждений:

-   Сетевые события, нуждающиеся в помощи администратора
-   Добавление записи в файл журнала ошибок
-   Получение широковещательного сообщения пользователем или приложением
-   Завершение задания печати
-   Использование определенных приложений или ресурсов пользователями

При необходимости можно определить другие классы предупреждений для сетевых приложений. Например, если приложение на сервере часто записывает большие объемы данных на диск, приложение выполняет риск заполнения диска. В этом случае может потребоваться добавить событие "нет свободного места на диске", чтобы активировать оповещение, уведомляющее приложение о приостановке или завершении процесса, заполняющего диск. Имя события для предупреждения может быть любой текстовой строкой.

Когда вы создаете предупреждение с помощью вызова функции [**неталертраисе**](/windows/desktop/api/Lmalert/nf-lmalert-netalertraise) , данные сообщения должны состоять из одной структуры заголовков [**\_ предупреждений**](/windows/desktop/api/Lmalert/ns-lmalert-std_alert) , за которой следуют дополнительные данные фиксированной длины, относящиеся к предупреждениям, в одной [**\_ другой \_ информации**](/windows/desktop/api/Lmalert/ns-lmalert-admin_other_info), [**ERRLOG \_ другой \_ информации**](/windows/desktop/api/Lmalert/ns-lmalert-errlog_other_info), [**распечатать \_ другие \_ сведения**](/windows/desktop/api/Lmalert/ns-lmalert-print_other_info)или [**\_ другую \_ информационную структуру пользователя**](/windows/desktop/api/Lmalert/ns-lmalert-user_other_info) . Дополнительные данные переменной длины могут следовать за структурой, относящейся к предупреждению. (Для вызовов функции [**неталертраисикс**](/windows/desktop/api/Lmalert/nf-lmalert-netalertraiseex) не требуется **Стандартная структура \_ предупреждений** .) Вызывающее приложение должно выделить память для всех структур и данных переменной длины и освободить память после возврата вызова.

Для использования с буферами данных предупреждений доступны следующие макросы.



| Макрос                                          | Описание                                                                                               |
|------------------------------------------------|-----------------------------------------------------------------------------------------------------------|
| [**\_другие \_ сведения о предупреждении**](/windows/desktop/api/Lmalert/nf-lmalert-alert_other_info) | Возвращает указатель на данные фиксированной длины, которые следуют за структурой **стандартных \_ предупреждений** в предупредительном сообщении. |
| [**\_данные var \_ предупреждения**](/windows/desktop/api/Lmalert/nf-lmalert-alert_var_data)     | Возвращает указатель на данные переменной длины, которые следуют за данными, зависящими от предупреждения, в сообщении с предупреждением.   |



 

Вместо использования функций оповещений управления сетью вы можете использовать пакет SDK инструментарий управления Windows (WMI) (WMI) для уведомления о событии. Дополнительные сведения о платформах, поддерживающих модель событий WMI, см. в разделе [WMI Infrastructure](/windows/desktop/WmiSdk/wmi-infrastructure) and [Monitoring Events](/windows/desktop/WmiSdk/monitoring-events) в документации по инструментарию WMI.

 

 