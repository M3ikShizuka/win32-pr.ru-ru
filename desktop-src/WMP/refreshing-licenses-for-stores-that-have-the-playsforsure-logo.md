---
title: Обновление лицензий для магазинов, имеющих логотип Плайсфорсуре
description: Обновление лицензий для магазинов, имеющих логотип Плайсфорсуре
ms.assetid: d08d6b6e-937e-4dec-b7ca-376cdad069f9
keywords:
- проигрыватель Windows Media интернет-магазинов, обновление лицензий
- Интернет-магазины, обновление лицензий
- проигрыватель Windows Media интернет-магазинов, обновление лицензий
- Интернет-магазины, обновление лицензий
- проигрыватель Windows Media интернет-магазинов, логотип плайсфорсуре
- Интернет-магазины, логотип Плайсфорсуре
- Обновление лицензий
- лицензии, обновление
- плайсфорсуре
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 42e48a3ddfd2b0670e3720f7c71587d0330a69a7
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127568214"
---
# <a name="refreshing-licenses-for-stores-that-have-the-playsforsure-logo"></a>Обновление лицензий для магазинов, имеющих логотип Плайсфорсуре

некоторые интернет-музыкальные магазины имеют логотип плайсфорсуре, но не интегрированы с проигрыватель Windows Media 11. эти магазины должны предоставить документ ServiceInfo и упрощенный компонент, чтобы проигрыватель Windows Media 11 могла получать и обновлять лицензии для их содержимого.

В следующем примере показано, как работает процесс обновления лицензий.

1.  Пользователь получает 50 музыкальных дорожек из Интернет-магазина proseware. Каждая запись — это файл с расширением WMA. Вместе с дорожками пользователь получает лицензии для воспроизведения дорожек.
2.  пользователь копирует дорожки 50 на новый компьютер с установленным проигрыватель Windows Media 11 и добавляет записи в библиотеку проигрыватель Windows Media.
3.  через некоторое время модуль обновления лицензий (лрм), который входит в проигрыватель Windows Media 11, проверяет метаданные в 50 дорожках и определяет, что Proseware является поставщиком содержимого.
    > [!Note]  
    > проигрыватель Windows Media может опознать поставщик содержимого, проверив атрибут **контентдистрибутор** в файле мультимедиа. если интернет-магазин с логотипом плайсфорсуре предоставляет файл мультимедиа, который использует Windows media Digital Rights Management (WMDRM), интернет-магазин должен поместить атрибут **контентдистрибутор** в файл мультимедиа. дополнительные сведения см. в разделе добавление атрибута распространителя содержимого в пакет SDK для проигрыватель Windows Media.

     

4.  ЛРМ ищет URL-адрес документа ServiceInfo Proseware, скачивает документ и проверяет элемент **Install** документа на получение URL-адреса пакета, который лрм может использовать для установки компонента proseware. ЛРМ устанавливает и загружает компонент.
5.  Для каждой из 50 дорожек ЛРМ вызывает метод [ивмпсубскриптионсервице:: алловплай](/previous-versions/windows/desktop/api/subscriptionservices/nf-subscriptionservices-iwmpsubscriptionservice-allowplay) компонента proseware. Метод **алловплай** помещает лицензию для отдельной записи на новом компьютере и возвращает **значение true** в параметре *пфалловплай* .
    > [!Note]  
    > Компонент Proseware должен предоставить все лицензии, необходимые для воспроизведения отдельной записи. То есть при необходимости компонент должен предоставить как корневую, так и конечную лицензию.

     

    При первом вызове метода **алловплай** компонент Proseware должен отобразить диалоговое окно, чтобы убедиться, что текущий пользователь имеет учетную запись Proseware и имеет право на воспроизведение этой записи. При последующих вызовах **алловплай** компонент может использовать учетные данные, полученные при первом вызове, чтобы убедиться, что пользователь имеет право воспроизводить оставшиеся дорожки.

Компонент, записываемый в Интернет-магазин, должен реализовать метод **алловплай** интерфейса **ивмпсубскриптионсервице** . Компонент должен возвращать E \_ нотимпл из каждого из трех других методов: **алловкдбурн**, **алловпдатрансфер** и **стартбаккграундпроцессинг**. Кроме того, компонент должен присвоить параметру реестра **capabilities** значение 1; то есть \_ \_ должен быть установлен флаг возможностей алловплай подписки, и все остальные флаги возможностей должны быть сняты. Дополнительные сведения о регистрации компонента см. в разделе [разделы реестра и записи для Интернет-магазина типа 2](registry-keys-and-entries-for-a-type-2-online-store.md).

Сведения о создании компонента, реализующего интерфейс **ивмпсубскриптионсервице** , см. в разделе [Создание подключаемого модуля для Интернет-магазина типа 2](building-the-plug-in-for-a-type-2-online-store.md).

чтобы получить сведения о том, как предоставить майкрософт документ ServiceInfo, отправьте сообщение электронной почты группе проигрыватель Windows Media Virtual Services. Адрес электронной почты группы: mpsvctm@microsoft.com .

техническое руководство по использованию разнообразных Windowsных пакетов sdk для создания службы, предлагающей лицензированное цифровое мультимедийное содержимое, можно найти в [центре разработчиков Microsoft Windows Media Center](https://msdn.microsoft.com/windowsmedia/default.aspx) и выполнить поиск по запросу "создание интернет-магазина проигрыватель Windows Media 10 с подпиской".

## <a name="related-topics"></a>Связанные разделы

<dl> <dt>

[**Документ ServiceInfo**](serviceinfo-document.md)
</dt> <dt>

[**проигрыватель Windows Media Интернет-магазины**](windows-media-player-online-stores.md)
</dt> </dl>

 

 




