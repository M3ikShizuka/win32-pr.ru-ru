---
title: Формат согласования
description: Формат согласования
ms.assetid: 7847d4e3-1250-4c35-88e1-52d61bf1553f
keywords:
- подключаемые модули проигрыватель Windows Media, форматирование согласования
- подключаемые модули, формат согласования
- подключаемые модули обработки цифровых сигналов, согласование формата
- Подключаемые модули DSP, форматирование согласования
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 69669bc3af82400ea62d154335d117fef185d0b34184be4101ffa5ae309e6ccb
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119054972"
---
# <a name="format-negotiation"></a>Формат согласования

для проигрыватель Windows Media и подключаемого модуля DSP для обмена данными обе программы должны согласовать формат обрабатываемых данных. Подключаемый модуль DSP реализует методы, которые вызываются проигрывателем для определения форматов, поддерживаемых подключаемым модулем. Подключаемый модуль также реализует методы, которые вызываются проигрывателем для задания текущего формата.

если подключаемый модуль выступает в качестве объекта мультимедиа дирексткс (DMO), проигрыватель Windows Media обнаруживает и устанавливает форматы мультимедиа путем вызова методов интерфейса **имедиаобжект** . Например, проигрыватель вызывает **имедиаобжект:: жетинпуттипе** подключаемого модуля, чтобы получить список всех входных форматов, поддерживаемых подключаемым модулем. подключаемые модули DMO используют структуру **\_ \_ типа мультимедиа DMO** для организации сведений, указывающих формат носителя. дополнительные сведения о том, как подключаемые модули DMO и формат согласования проигрывателя, см. в разделе [about имедиаобжект](about-imediaobject.md).

если подключаемый модуль выступает в качестве Media Foundation преобразования (MFT), проигрыватель Windows Media обнаруживает и устанавливает форматы мультимедиа путем вызова методов интерфейса **имфтрансформ** . Например, проигрыватель вызывает **имфтрансформ:: жетинпутаваилаблетипе** подключаемого модуля, чтобы получить список всех входных форматов, поддерживаемых подключаемым модулем. Подключаемые модули MFT и проигрыватель используют интерфейс **имфмедиатипе** для Организации и обмена сведениями о формате.

проигрыватель Windows Media будет использовать подключаемый модуль DSP для аудиоподсистемы, только если подключаемый модуль поддерживает ту же глубину, что и воспроизводимый цифровой звук. Например, если цифровой звук имеет 20-битное значение, подключаемый модуль должен быть написан для обработки 20-разрядного звука. Подключаемые модули DSP для аудио компакт-дисков должны поддерживать 20-разрядную обработку.

во время согласования формата многоканального содержимого на компьютере, настроенном для использования со стерео динамиками, проигрыватель Windows Media сначала пытается подключиться к подключаемому модулю DSP аудиоподсистемы, используя существующий формат входных и выходных данных, вызвав **имедиаобжект:: сетинпуттипе** и **имедиаобжект:: сетаутпуттипе**. После первоначального согласования проигрыватель перечисляет форматы, поддерживаемые подключаемым модулем, и пытается согласовать оптимальное сочетание форматов для проигрывателя и подключаемого модуля. Если подключаемый модуль принимает стерео аудио (определяется структурой **вавеформатекс** ) в качестве входного формата во время первоначального согласования, а затем принимает только многоканальный звук (определенный структурой **Вавеформатекстенсибле** ), проигрыватель предоставит многоканальный звук в качестве входного формата для подключаемого модуля. такое поведение во время согласования формата доступно для использования в операционной системе Microsoft Windows XP. В последующих версиях он может быть изменен или недоступен.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[**Обзор подключаемого модуля DSP**](dsp-plug-in-developer-overview.md)
</dt> </dl>

 

 




