---
title: Ввод и вывод данных
description: Ввод и вывод данных
ms.assetid: a03b5327-65df-4cb9-a639-1e943ac28bfc
keywords:
- подключаемые модули проигрыватель Windows Media, входные и выходные данные
- подключаемые модули, входные и выходные данные
- подключаемые модули обработки цифровых сигналов, ввод и вывод данных
- Подключаемые модули DSP, входные и выходные данные
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d31e7c6fba24451d65e59c3fb9f56ec6b1413be3d595530414c25c52964b9b15
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119863674"
---
# <a name="data-input-and-output"></a>Ввод и вывод данных

проигрыватель Windows Media предоставляет данные аудио или видео подключаемым модулям DSP через входной буфер, выделенный проигрыватель Windows Media. подключаемые модули DSP возвращают обработанные данные в проигрыватель Windows Media через выходной буфер, который также выделяется проигрыватель Windows Media. проигрыватель Windows Media управляет процессом передачи данных между самим собой и подключаемым модулем DSP путем вызова методов, реализованных подключаемым модулем. для подключаемого модуля, который выступает в качестве объекта мультимедиа DirectX (DMO), этот процесс работает следующим образом:

1.  проигрыватель Windows Media вызывает **имедиаобжект::P роцессинпут**, передавая указатель на объект **имедиабуффер** подключаемому модулю DSP.
2.  Подключаемый модуль DSP хранит счетчик ссылок на объект входного буфера. Подключаемый модуль DSP возвращает соответствующее **значение HRESULT** успешного или неуспешного выполнения.
3.  проигрыватель Windows Media вызывает метод **имедиаобжект::P роцессаутпут**, передавая указатель на массив **DMOных \_ структур \_ \_ буфера выходных данных** (которые содержат буферы вывода) в подключаемый модуль DSP.
4.  Подключаемый модуль DSP обрабатывает данные во входном буфере, а затем копирует их в соответствующий выходной буфер. Подключаемый модуль DSP освобождает счетчик ссылок на объект входного буфера, когда все данные в буфере обрабатывались. Затем подключаемый модуль DSP возвращает соответствующее **значение HRESULT** Success или failure.
5.  проигрыватель Windows Media отображает содержимое в выходном буфере.

Для подключаемого модуля, выполняющего функции преобразования Media Foundation (MFT), процесс работает следующим образом:

-   проигрыватель Windows Media вызывает **имфтрансформ::P роцессинпут**, передавая указатель на объект интерфейса **имфсампле** подключаемому модулю DSP.
    1.  Подключаемый модуль DSP хранит счетчик ссылок в интерфейсе **имфсампле** . Подключаемый модуль DSP возвращает соответствующее **значение HRESULT** успешного или неуспешного выполнения.
    2.  проигрыватель Windows Media вызывает **имфтрансформ::P роцессаутпут**, передавая указатель на массив **\_ \_ \_ буферов выходных данных MFT** (которые содержат буферы вывода) в подключаемый модуль DSP.
    3.  Подключаемый модуль DSP обрабатывает данные во входном буфере, а затем копирует их в соответствующий выходной буфер. Подключаемый модуль DSP освобождает счетчик ссылок на объект входного буфера, когда все данные в буфере обрабатывались. Затем подключаемый модуль DSP возвращает соответствующее **значение HRESULT** Success или failure.
    4.  проигрыватель Windows Media отображает содержимое в выходном буфере.

этот процесс повторяется непрерывно, пока подключаемый модуль включен и проигрыватель Windows Media имеет содержимое для подготовки к просмотру.

> [!Note]  
> Не записывайте код, который записывает данные во входной буфер или считывает данные из выходного буфера. Неправильное обращение к буферам данных может привести к непредвиденным результатам.

 

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[**Обзор подключаемого модуля DSP**](dsp-plug-in-developer-overview.md)
</dt> </dl>

 

 




