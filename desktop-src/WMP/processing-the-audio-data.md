---
title: Обработка звуковых данных
description: Обработка звуковых данных
ms.assetid: ba41e3f4-d991-4da6-9091-7a7e42622e76
keywords:
- проигрыватель Windows Media подключаемые модули, метод Echo sample допроцессаутпут
- подключаемые модули, метод Echo Sample Допроцессаутпут
- подключаемые модули обработки цифровых сигналов, метод Echo Sample Допроцессаутпут
- Подключаемые модули DSP, метод Echo Sample Допроцессаутпут
- Пример подключаемого модуля Echo DSP, метод Допроцессаутпут
- Пример подключаемого модуля Echo DSP, звуковые данные
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 678e1debd586017bfbe748d4f2bed6d17607afcbe2719b5e3ecba8cabf667af6
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118334487"
---
# <a name="processing-the-audio-data"></a>Обработка звуковых данных

Реализация **допроцессаутпут** по умолчанию начинается с получения указателя на допустимую структуру **вавеформатекс** , точно так же, как было сделано в **аллокатестреамингресаурцес**. Затем он использует информацию в этой структуре для вычисления количества выборок во входном буфере, ожидающих обработки. Следующий код из реализации по умолчанию:


```C++
// Get a pointer to the valid WAVEFORMATEX structure
// for the current media type.
WAVEFORMATEX *pWave = ( WAVEFORMATEX * ) m_mtInput.pbFormat;

// Calculate the number of samples to process.
DWORD dwSamplesToProcess = (*cbBytesProcessed / pWave->nBlockAlign) * pWave->nChannels;

```



Затем код проверяет элемент **вбитсперсампле** , чтобы определить битовую глубину звука. Это значение используется в операторе switch, чтобы обеспечить отдельную обработку для 8-разрядных и 16-разрядных аудио.

## <a name="differences-between-8-bit-and-16-bit-audio"></a>Различия между 8-разрядным и 16-разрядным звуком

Между 8-и 16-разрядным звуком связаны важные различия. Таким образом, подпрограммы обработки для создания эффекта эха отличаются. Два формата различаются следующими способами.

-   Каждый формат имеет другой размер выборки: 8-разрядные образцы каждый из них занимают один байт памяти, а 16-разрядные — в каждом из двух байтов.
-   Каждый формат представляет амплитуду звука по-разному. 8-разрядный звук представлен целым числом без знака в диапазоне от 0 до 255; значение 128 представляет тишину. 16-разрядный звук представлен целым числом со знаком в диапазоне от-32768 до 32767; нулевое значение обозначает тишину.

Несмотря на то что процесс создания эхо-эффекта является принципиально идентичным для каждого формата, сведения должны слегка отличаться.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[**Реализация Цечо::D Опроцессаутпут**](implementing-cecho--doprocessoutput.md)
</dt> </dl>

 

 




