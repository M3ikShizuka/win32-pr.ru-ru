---
title: Реализация образца рендеринга
description: Реализация образца рендеринга
ms.assetid: 5791f6ea-ddad-49e6-8c6f-8093592895d4
keywords:
- визуализации, пример с свечением
- Пользовательские визуализации, пример свечения
- инструкции по программированию, визуализации
- Примеры, Визуализация свечения
- Пример визуализации с свечением
- визуализации, функция Render
- Пользовательские визуализации, функция Render
- Функция Render, пример свечения
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8c00b57f15655468e5bd0000ccc3b5120e19c2af58d5a1ad6b5493b535c7253f
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119135577"
---
# <a name="implementing-render-sample"></a>Реализация образца рендеринга

Следующий код используется для реализации функции **Render** :


```C++
STDMETHODIMP CGlow::Render(TimedLevel *pLevels, HDC hdc, RECT *prc)
{
    COLORREF mycolor;
    int mylevel = pLevels->waveform[0][0];
    
    switch (m_nPreset)
    {
    case PRESET_RED:
        {
        mycolor = RGB( mylevel, 0, 0);    
        }
        break;
    case PRESET_GREEN:
        {
        mycolor = RGB( 0, mylevel, 0);        
        }
        break;
    case PRESET_BLUE:
        {
        mycolor = RGB( 0, 0, mylevel);        
        }
        break;
    }

     HBRUSH hNewBrush = ::CreateSolidBrush( mycolor );
    ::FillRect( hdc, prc, hNewBrush );

    if (hNewBrush)
    {
        ::DeleteObject( hNewBrush );
    }

    return S_OK;
}

```



Ниже приведено описание кода.

Переменная с именем *миколор* используется для цвета свечения и объявляется с помощью **COLORREF**. Все цвета должны использовать тип данных **COLORREF** .

Для моментального снимка уровня звуковой волны используется переменная с именем *милевел* . Это значение будет зависеть от фактического уровня потребления на момент создания моментального снимка.

оператор **switch** задается предустановкой, которую пользователь выбрал для проигрыватель Windows Media. При выборе будет задан желаемый цвет *миколор* (красный, зеленый или синий). Однако точный цвет будет определяться уровнем громкости звука. Например, если выбрана Красная предустановка, цвет будет сплошным красным, но он будет светлее или темнее в зависимости от звуковой волны в момент создания моментального снимка. Чтобы создать свой цвет, обязательно используйте макрос **РБГ** .

создается кисть с именем *хневбруш*, которая используется для заполнения прямоугольника *кнр* , предоставленного проигрыватель Windows Media. поверхность рисования — это контекст устройства *hdc* , предоставляемый проигрыватель Windows Media.

Кисть удаляется с помощью **DeleteObject**. Обязательно удалите все созданные вами перья или кисти.

после завершения кода **рендеринга** проигрыватель Windows Media *отображает графическое представление в окне,* определяемом используемой обложкой.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[**Пример свечения**](the-glow-sample.md)
</dt> </dl>

 

 




