---
title: Использование динамического переключения потока событий
description: Использование динамического переключения потока событий
ms.assetid: fa8af007-2db6-438f-9551-8e748bb79ef4
keywords:
- Windows Списки воспроизведения мультимедийных метафайлов, динамическое переключение потоков событий
- списки воспроизведения, динамическое переключение потоков событий
- списки воспроизведения метафайлов, динамическое переключение потоков событий
- Windows Списки воспроизведения метафайлов мультимедиа, переключение потока событий
- списки воспроизведения, переключение потоков событий
- списки воспроизведения метафайлов, переключение потоков событий
- Windows Списки воспроизведения метафайлов мультимедиа, вставка рекламы
- списки воспроизведения, вставка рекламы
- списки воспроизведения метафайлов, вставка рекламы
- проигрыватель Windows Media, динамическое переключение потоков событий
- проигрыватель Windows Media, переключение потока событий
- проигрыватель Windows Media, вставка рекламы
- Динамическое переключение потоков событий
- Переключение потока событий
- Вставка рекламы
ms.topic: article
ms.date: 05/31/2018
topic_type:
- kbArticle
api_name: ''
api_type: ''
api_location: ''
ms.openlocfilehash: d8524fe1a83a6b3276c274726fa27fa7fcccb97b88f0384a54e5433d09380501
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119134367"
---
# <a name="using-live-event-stream-switching"></a>Использование динамического переключения потока событий

потоковая передача мультимедиа также может управляться путем взаимодействия команд сценариев, внедренных в поток мультимедиа, с Windows элементами метафайлов мультимедиа в списке воспроизведения метафайлов.

Событие — это конкретный тип команды сценария, внедренной в поток мультимедиа или файл мультимедиа. когда элемент управления проигрыватель Windows Media получает команду сценария, он обрабатывает событие, как определено элементом **event** в списке воспроизведения метафайла. проигрыватель Windows Media переключаться из текущего потока, он готовится к просмотру и визуализирует содержимое, на которое ссылается элемент **события** списка воспроизведения метафайлов. Элемент **event** обычно используется в реальном производстве.

Элемент **события** похож на элемент **entry** , но каждый из них обрабатывает воспроизведение потоков и файлов мультимедиа по-разному. Элемент **entry** используется для создания списков воспроизведения. Поток или файл мультимедиа, на который ссылается элемент **entry** , начинает воспроизводиться, когда завершается поток или файл мультимедиа, на который ссылается Предыдущая **запись** . Поток, на который ссылается **событие** , играет роль только при получении определенной команды сценария. например, когда проигрыватель Windows Media получает команду сценария со строкой типа "EVENT" и командную строку "адлинк", она ищет в списке воспроизведения следующие элементы.


```XML
<EVENT NAME="Adlink" WHENDONE="RESUME"> 
    <ENTRY HREF=mms://www.proseware.com/adlink.wma />
</EVENT>

```



проигрыватель Windows Media затем переключается из активного потока для воспроизведения потока или файла мультимедиа, содержащегося в **событии**, в данном случае адлинк. wma. код `WHENDONE="RESUME"` указывает проигрыватель Windows Media возобновить воспроизведение предыдущего потока при завершении адлинк. wma.

> [!Note]  
> Сбой при обработке каждого события, внедренного в поток мультимедиа или файл мультимедиа, может привести к непредвиденным результатам.

 

Если вы хотите использовать динамическое переключение потока событий, необходимо включить один элемент **события** в список воспроизведения, чтобы обрабатывалась каждая команда сценария события, встроенная в мультимедийные потоки или файлы мультимедиа в списке воспроизведения. Перед созданием списка воспроизведения необходимо ознакомиться с подробными сведениями о том, какие команды сценария внедряются в мультимедийное содержимое. если имеется команда скрипта события, которую проигрыватель Windows Media игнорировать, включите элемент **события** в список воспроизведения для обработки события, но сослаться на фиктивный URL-адрес в обработчике событий.

## <a name="ad-insertion"></a>Вставка рекламы

Этот метод можно использовать для вставки рекламы. например, во время интерактивного интернет-вещания шариковой игры в начале каждого коммерческого перерыва можно отправить команду, которая указывает каждому клиенту (проигрыватель Windows Media) на необходимость воспроизведения коммерческих списков воспроизведения. Когда клиенты завершат воспроизведение коммерческих презентаций, список воспроизведения дает каждому клиенту возможность вернуться в вещание. Содержимое носителя **событий** будет отображаться только в том случае, если доступ к потоковой передаче мультимедиа рассылается в виде внедренных сценариев с соответствующим именем **события** .

возможности, характерные для переключения **событий** , наилучшим образом приводятся в пользу, чтобы сравнить, как рекламные материалы достигают посетителей через стандартную, беспроводную трансляцию с тем, как рекламные материалы могут достичь читателей с помощью Windows мультимедийных технологий Исторически рекламные объявления могли бы приблизительно быть нацелены на средства просмотра, используя данные рейтинга в качестве основных критериев. реклама, отправленная с помощью Windows мультимедийных технологий, может быть нацелена непосредственно на целевой пользователь, так как **события** и списки воспроизведения можно создавать на лету на основе вводимых пользователем данных. Дополнительные сведения см. в разделе [Персонализация доставки мультимедиа](personalizing-media-delivery.md).

Вы также можете использовать списки воспроизведения метафайлов для показа специальной графики, аудио и текста для рекламы. Элемент **баннера** можно использовать как дочерний элемент **события** для отображения изображения рекламного сообщения. Элемент **баннера** предоставляет путь и файл, содержащий рисунки для баннера. Можно также указать ссылку на сайт или файл с помощью дочернего элемента **мореинфо** . URL-адрес в элементе **мореинфо** может предоставить ссылку на еще больше объявлений в Интернете. В следующем примере демонстрируется использование этих элементов.

Пример кода


```XML
<BANNER HREF="SomePath\2.gif">
    <ABSTRACT>Read This Ad and Buy.</ABSTRACT>
    <MOREINFO HREF="https://www.proseware.com" />
</BANNER>

```



В следующем примере показано, как вставить объявление AD. wma в поток широковещательного одноадресного потока обстоятельства, когда клиент получает **событие** команды сценария с атрибутом **Name** , имеющим значение "время ожидания". **Клиентскип** имеет значение No, чтобы не допустить пропуска потокового объявления. В этом примере потоковая реклама должна быть воспроизведена перед возвратом в исходный поток. После завершения рекламы клиент возобновляет воспроизведение исходного потока.

Пример кода


```XML
<ASX VERSION="3.0">
    <ENTRY>
        <REF HREF="mms://proseware.com/BallGame" />
    </ENTRY>
    <EVENT NAME="Time-Out" WHENDONE="RESUME">
        <ENTRY>
            <REF HREF = "mms://proseware.com/Advert.wma" 
                CLIENTSKIP = "NO" />
       </ENTRY>
    </EVENT>
</ASX>

```



## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[**Списки воспроизведения метафайлов**](metafile-playlists.md)
</dt> <dt>

[**Использование списков воспроизведения метафайлов**](using-metafile-playlists.md)
</dt> <dt>

[**Windows Справочник по элементам метафайлов мультимедиа**](windows-media-metafile-elements-reference.md)
</dt> <dt>

[**Windows Мультимедийное по для метафайлов**](windows-media-metafile-guide.md)
</dt> </dl>

 

 




