---
title: Добавление атрибута Контентдистрибутор
description: Добавление атрибута Контентдистрибутор
ms.assetid: b4ba5c9b-f28f-4275-bd39-c0ad1080d122
keywords:
- Интернет-магазины проигрывателя Windows Media, добавление атрибута Контентдистрибутор
- Интернет-магазины, добавление атрибута Контентдистрибутор
- Тип 1 Интернет-магазины, добавление атрибута Контентдистрибутор
- Тип 2 Интернет-магазинов, добавление атрибута Контентдистрибутор
- Интернет-магазины проигрывателя Windows Media, атрибут Контентдистрибутор
- Интернет-магазины, атрибут Контентдистрибутор
- Тип 1 Интернет-магазины, атрибут Контентдистрибутор
- Тип 2 Интернет-магазинов, атрибут Контентдистрибутор
- Добавление атрибута Контентдистрибутор
- контентдистрибутор
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1636c002affbcf1235283a22f7eb060c75f24a81
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "104330099"
---
# <a name="adding-the-contentdistributor-attribute"></a>Добавление атрибута Контентдистрибутор

Когда пользователь пытается воспроизвести содержимое в Интернет-магазине или скопировать содержимое на компакт-диск или устройство, проигрыватель Windows Media вызывает определенные методы в COM-объекте. Для этого проигрывателю требуется способ отличить содержимое от других поставщиков Интернет-магазинов. Добавив имя ключа Интернет-магазина в качестве значения параметра **контентдистрибутор** (который является псевдонимом атрибута **WM/Контентдистрибутор** пакета SDK Windows Media Format) для содержимого на основе Windows Media, вы убедитесь, что проигрыватель может опознать содержимое, связанное со службой.

Добавление значения для **контентдистрибутор** также гарантирует, что проигрыватель Windows Media создаст узел в библиотеке для предоставленного содержимого. См. раздел [Интеграция библиотеки](library-integration.md).

Это значение можно указать двумя способами.

-   Используйте объектную модель проигрывателя Windows Media. При этом проигрыватель Windows Media добавляет указанное значение в базу данных библиотеки. В конечном итоге проигрыватель также запишет значение атрибута в файл цифрового мультимедиа.
-   Используйте пакет SDK Windows Media Format для программного добавления атрибута **WM/контентдистрибутор** . При этом проигрыватель Windows Media считывает значение атрибута и добавляет его в базу данных при добавлении файла цифрового мультимедиа в библиотеку.

При создании COM-объекта Интернет-магазина значение атрибута File, заданное для **контентдистрибутор** , и значение, присваиваемое константе Ксзконтентдистрибуторид в йоурпрожект. h, должны точно совпадать. Помните, что вы указали это постоянное значение для COM-объекта при создании проекта с помощью мастера проектов. Это значение можно изменить вручную. Просто обязательно используйте строку, уникально идентифицирующую вашу службу.

## <a name="using-the-windows-media-player-object-model"></a>Использование объектной модели проигрывателя Windows Media

Чтобы указать значение для **контентдистрибутор** с помощью объектной модели проигрывателя Windows Media, используйте метод [Media. сетитеминфо](media-setiteminfo.md) . В следующем примере кода указывается значение "Proseware" для **контентдистрибутор** для текущего воспроизводимого элемента мультимедиа:


```C++
// Retrieve the current media item.
var theMedia = Player.currentMedia;

//Test whether the media item was retrieved.
if(theMedia)
{
    // Set the ContentDistributor value.
    theMedia.setItemInfo("ContentDistributor", "Proseware");
}
```



## <a name="using-the-windows-media-format-sdk"></a>Использование пакета SDK Windows Media Format

Пакет SDK для проигрывателя Windows Media включает образец файла C++ с именем Сетконтентдистрибутор. cpp, демонстрирующий использование пакета SDK Windows Media Format 9 для добавления атрибута **WM/контентдистрибутор** . Этот пример файла можно узнать в папке с именем Metadata, в которой установлен пакет SDK. Чтобы использовать этот код, необходимо выполнить следующие действия.

1.  Установите пакет SDK серии Windows Media Format 9 и настройте среду выполнения, как описано в документации.
2.  Создайте новый пустой проект C++ в Visual Studio и добавьте в проект пример файла с именем Сетконтентдистрибутор. cpp.
3.  Добавьте путь к папкам пакета SDK Windows Media Format 9 Series в список путей к файлам. В меню **Сервис** выберите пункт **Параметры**.
4.  В диалоговом окне **Параметры** щелкните **проекты**, а затем выберите **каталоги VC + +**.
5.  В раскрывающемся списке **Показывать каталоги для** выберите пункт **файлы библиотек**.
6.  Используйте кнопки, чтобы добавить пути в списки.
7.  Откройте диалоговое окно страницы свойств для проекта. Выберите **Свойства конфигурации**, затем **Компоновщик**, а затем введите **входные данные**. В текстовом поле **Дополнительные зависимости** введите "вмвкоре. lib".

В примере кода создается программа командной строки. Аргументы, указываемые при запуске программы, указывают путь к файлу цифрового носителя для изменения и строку для значения атрибута **контентдистрибутор** . Код использует **ивмхеадеринфо:: setAttribute** для добавления атрибута к указанному файлу. Этот пример можно использовать как есть или использовать его в качестве отправной точки для собственной программы.

## <a name="related-topics"></a>См. также

<dl> <dt>

[**Сведения, общие для типа 1 и 2 Интернет-магазинов**](information-common-to-type-1-and-type-2-online-stores.md)
</dt> </dl>

 

 




