---
description: Windows Методы портативных устройств могут возвращать различные коды ошибок HRESULT.
ms.assetid: 496aa709-53c8-4593-8cb8-28ace1e90759
title: Константы ошибок (Портабледевице. h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- E_WPD_DEVICE_ALREADY_OPENED
- E_WPD_DEVICE_IS_HUNG
- E_WPD_DEVICE_NOT_OPEN
- E_WPD_OBJECT_ALREADY_ATTACHED_TO_DEVICE
- E_WPD_OBJECT_ALREADY_ATTACHED_TO_SERVICE
- E_WPD_OBJECT_NOT_ATTACHED_TO_DEVICE
- E_WPD_OBJECT_NOT_ATTACHED_TO_SERVICE
- E_WPD_OBJECT_NOT_COMMITED
- E_WPD_SERVICE_ALREADY_OPENED
- E_WPD_SERVICE_BAD_PARAMETER_ORDER
- E_WPD_SERVICE_NOT_OPEN
- E_WPD_SMS_INVALID_RECIPIENT
- E_WPD_SMS_INVALID_MESSAGE_BODY
- E_WPD_SMS_SERVICE_UNAVAILABLE
- NS_E_DRM_DEBUGGING_NOT_ALLOWED
- NS_E_NOT_LICENSED
- ERROR_ACCESS_DENIED
- ERROR_ARITHMETIC_OVERFLOW
- ERROR_BUSY
- ERROR_CANCELLED
- ERROR_DATATYPE_MISMATCH
- ERROR_DEVICE_IN_USE
- ERROR_DEVICE_NOT_CONNECTE
- ERROR_DIR_NOT_EMPTY
- ERROR_EMPTY
- ERROR_FILE_NOT_FOUND
- ERROR_GEN_FAILURE
- ERROR_INVALID_DATA
- ERROR_INVALID_DATATYPE
- ERROR_INVALID_FUNCTION
- ERROR_INVALID_OPERATION
- ERROR_INVALID_PARAMETER
- ERROR_INVALID_TIME
- ERROR_IO_DEVICE
- ERROR_NOT_FOUND
- ERROR_NOT_READY
- ERROR_NOT_SUPPORTED
- ERROR_OPERATION_ABORTED
- ERROR_READ_FAULT
- ERROR_RESOURCE_NOT_AVAILABLE
- ERROR_SEM_TIMEOUT
- ERROR_TIMEOUT
- ERROR_UNSUPPORTED_TYPE
- ERROR_WRITE_FAULT
- WSAETIMEDOUT
api_type:
- HeaderDef
api_location:
- PortableDevice.h
ms.openlocfilehash: 2892f123fbcd2b4a39e236dc309eab5b82ded9a7236f8e2485ed06b411ad78e9
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "120006314"
---
# <a name="error-constants"></a>Константы ошибок

Windows Методы портативных устройств могут возвращать различные коды ошибок **HRESULT** . некоторые из них относятся к Windows переносным устройствам, а другие — по другим пакетам sdk или пакетам переноса, используемым для создания устройства. В этом разделе описаны различные коды ошибок, которые можно вернуть, упорядоченные по источнику.

WPD определяет следующие константы ошибок.



| Константа/значение                                                                                                                                                                                                                                                                                                      | Описание                                                                                                                                                                                                                                                                                                                                                 |
|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="E_WPD_DEVICE_ALREADY_OPENED"></span><span id="e_wpd_device_already_opened"></span><dl> <dt>**Д \_ \_Устройство WPD \_ уже \_ открыло**</dt> <dt>0x802A0001</dt> </dl>                                          | Подключение устройства уже было открыто при предыдущем вызове метода [**ипортабледевице:: Open**](/windows/desktop/api/PortableDeviceApi/nf-portabledeviceapi-iportabledevice-open).<br/>                                                                                                                                                                                                                          |
| <span id="E_WPD_DEVICE_IS_HUNG"></span><span id="e_wpd_device_is_hung"></span><dl> <dt>**Д \_ \_Устройство WPD \_ \_ зависло**</dt> <dt>0x802A0006</dt> </dl>                                                               | Устройство больше не будет отвечать на входные данные.<br/>                                                                                                                                                                                                                                                                                                      |
| <span id="E_WPD_DEVICE_NOT_OPEN"></span><span id="e_wpd_device_not_open"></span><dl> <dt>**Д \_ \_Устройство WPD \_ не \_ открыто**</dt> <dt>0x802A0002</dt> </dl>                                                            | Подключение устройства еще не было открыто вызовом **ипортабледевице:: Open**.<br/>                                                                                                                                                                                                                                                            |
| <span id="E_WPD_OBJECT_ALREADY_ATTACHED_TO_DEVICE"></span><span id="e_wpd_object_already_attached_to_device"></span><dl> <dt>**Д \_ \_Объект WPD \_ уже \_ подключен \_ к \_**</dt> <dt>0x802A0003у</dt> устройства </dl>    | Объект Interface уже присоединен к интерфейсу устройства.<br/>                                                                                                                                                                                                                                                                          |
| <span id="E_WPD_OBJECT_ALREADY_ATTACHED_TO_SERVICE"></span><span id="e_wpd_object_already_attached_to_service"></span><dl> <dt>**Д \_ \_Объект WPD \_ уже \_ присоединен \_ к \_ службе**</dt> <dt>0x802A00CA</dt> </dl> | Объект Interface уже присоединен к интерфейсу **ипортабледевицесервице** .<br/>                                                                                                                                                                                                                                                      |
| <span id="E_WPD_OBJECT_NOT_ATTACHED_TO_DEVICE"></span><span id="e_wpd_object_not_attached_to_device"></span><dl> <dt>**Д \_ \_Объект WPD \_ не \_ подключен \_ к \_**</dt> <dt>0x802A0004у</dt> устройства </dl>                | Объект интерфейса не присоединен к устройству.<br/>                                                                                                                                                                                                                                                                                        |
| <span id="E_WPD_OBJECT_NOT_ATTACHED_TO_SERVICE"></span><span id="e_wpd_object_not_attached_to_service"></span><dl> <dt>**Д \_ \_Объект WPD \_ не \_ присоединен \_ к \_ службе**</dt> <dt>0x802A00CB</dt> </dl>             | Объект интерфейса не был присоединен к интерфейсу **ипортабледевицесервице** . Как правило, это возвращается, если приложение пытается получить доступ к методам присоединенного интерфейса, например **ипортабледевицесервицекапабилитиес**, после вызова [**Ипортабледевице:: Close**](/windows/desktop/api/PortableDeviceApi/nf-portabledeviceapi-iportabledevice-close) .<br/>                                |
| <span id="E_WPD_OBJECT_NOT_COMMITED"></span><span id="e_wpd_object_not_commited"></span><dl> <dt>**Д \_ \_Объект WPD \_ не \_ фиксируется**</dt> <dt>0x802A0005</dt> </dl>                                                | **IStream:: Commit** никогда не вызывался при создании объекта с данными на устройстве.<br/>                                                                                                                                                                                                                                                              |
| <span id="E_WPD_SERVICE_ALREADY_OPENED"></span><span id="e_wpd_service_already_opened"></span><dl> <dt>**Д \_ \_Служба WPD \_ уже \_ открыла**</dt> <dt>0x802A00C8</dt> </dl>                                       | Подключение службы уже было открыто при предыдущем вызове метода [ипортабледевице:: Open](/windows/desktop/api/portabledeviceapi/nf-portabledeviceapi-iportabledevice-open).<br/>                                                                                                                                                                                                                          |
| <span id="E_WPD_SERVICE_BAD_PARAMETER_ORDER"></span><span id="e_wpd_service_bad_parameter_order"></span><dl> <dt>**Д \_ \_ \_ Неверный \_ \_ Порядок параметров 0x802A00CC службы WPD**</dt> <dt></dt> </dl>                       | Параметры метода для [**ипортабледевицесервицемесодс:: Invoke**](/windows/desktop/api/PortableDeviceAPI/nf-portabledeviceapi-iportabledeviceservicemethods-invoke) или [Ипортабледевицесервицемесодс:: InvokeAsync](/windows/desktop/api/portabledeviceapi/nf-portabledeviceapi-iportabledeviceservicemethods-invokeasync) не заданы в правильном порядке. Параметр должен быть задан в упорядочении, указанном **в \_ \_ \_ порядке атрибутов параметра WPD**.<br/> |
| <span id="E_WPD_SERVICE_NOT_OPEN"></span><span id="e_wpd_service_not_open"></span><dl> <dt>**Д \_ \_Служба WPD \_ не \_ открыта**</dt> <dt>0x802A00C9</dt> </dl>                                                         | Подключение службы еще не было открыто вызовом [ипортабледевицесервице:: Open](/windows/desktop/api/portabledeviceapi/nf-portabledeviceapi-iportabledeviceservice-open).<br/>                                                                                                                                                                                                                  |
| <span id="E_WPD_SMS_INVALID_RECIPIENT"></span><span id="e_wpd_sms_invalid_recipient"></span><dl> <dt>**Д \_ \_ \_ Недопустимый \_ получатель**</dt> <dt>0x802A0064</dt> "WPD SMS" </dl>                                          | Для SMS-сообщения указан недопустимый получатель.<br/>                                                                                                                                                                                                                                                                                           |
| <span id="E_WPD_SMS_INVALID_MESSAGE_BODY"></span><span id="e_wpd_sms_invalid_message_body"></span><dl> <dt>**Д \_ \_ \_ Недопустимый \_ \_ текст сообщения**</dt> <dt>0x802A0065</dt> в средстве WPD SMS </dl>                                | Текст сообщения, указанного для SMS-сообщения, является недопустимым.<br/>                                                                                                                                                                                                                                                                                   |
| <span id="E_WPD_SMS_SERVICE_UNAVAILABLE"></span><span id="e_wpd_sms_service_unavailable"></span><dl> <dt>**Д \_ \_Служба SMS \_ \_ недоступна**</dt> <dt>0x802A0066</dt> </dl>                                    | Служба SMS недоступна.<br/>                                                                                                                                                                                                                                                                                                                  |



иногда может возникать ошибка, определенная в пакете SDK диспетчера прав Windows мультимедиа. Список ошибок, определенных этим пакетом SDK, указывается в библиотеке MSDN. однако в эту документацию не были добавлены ошибки пакета SDK для диспетчера прав мультимедиа Windows.



| Константа/значение                                                                                                                                                                                                                                                                       | Описание                                                       |
|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:------------------------------------------------------------------|
| <span id="NS_E_DRM_DEBUGGING_NOT_ALLOWED"></span><span id="ns_e_drm_debugging_not_allowed"></span><dl> Служба <dt>**NS \_ \_ \_ Отладка DRM \_ не \_ разрешена**</dt> <dt>0xC00D2767</dt> </dl> | При доступе к содержимому, защищенному с использованием DRM, отладка невозможна.<br/> |
| <span id="NS_E_NOT_LICENSED"></span><span id="ns_e_not_licensed"></span><dl> Служба <dt>**NS \_ E \_ не \_ лицензировано**</dt> <dt>0xC00D00CD</dt> </dl>                                          | Содержимое не лицензируется.<br/>                           |



WPD может возвращать в приложение коды ошибок стандартного Windows. в следующей таблице перечислены наиболее часто используемые стандартные коды ошибок Windows и распространенные условия возникновения ошибок при использовании устройства типа WPD.

Коды ошибок Win32 преобразуются в **значения HRESULT**, используя значение **HRESULT из макроса \_ \_ Win32** .



| Константа/значение                                                                                                                                                                                                                                                               | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="ERROR_ACCESS_DENIED"></span><span id="error_access_denied"></span><dl> <dt>**Ошибка при \_ \_Отказано в доступе**</dt> <dt>0x80070005</dt> </dl>                             | Может использоваться, чтобы указать, что объект или свойство, доступное только для чтения, нельзя изменить или удалить. Может использоваться, чтобы указать, что доступ к объекту осуществляется за пределами области, например дочерним объектом, который находится за пределами иерархии службы устройства. Может использоваться, чтобы указать, что приложение не имеет доступа (например, если управление доступом к устройствам ограничено групповая политика) для отправки команд WPD на устройство. <br/>                                                                                                                                                            |
| <span id="ERROR_ARITHMETIC_OVERFLOW"></span><span id="error_arithmetic_overflow"></span><dl> <dt>**Ошибка при \_ 0x80070216 АРИФМЕТИЧЕСКого \_ переполнения**</dt> <dt></dt> </dl>           | Может использоваться для указания того, что число элементов в массиве данных превысило свои пределы (**улонглонг**).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span id="ERROR_BUSY"></span><span id="error_busy"></span><dl> <dt>**Ошибка при \_ ЗАНЯТо**</dt> <dt>0x800700AA</dt> </dl>                                                         | Может использоваться для указания того, что устройство занято обработкой другой операции. Приложения должны ожидать завершения этой операции перед повторной попыткой.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span id="ERROR_CANCELLED"></span><span id="error_cancelled"></span><dl> <dt>**Ошибка при \_ ОТМЕНЕНо**</dt> <dt>0x800704C7</dt> </dl>                                          | Команда, отправленная на устройство, была прервана из-за отмены, например путем вызова одного из методов **Cancel** в API-интерфейсе WPD.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span id="ERROR_DATATYPE_MISMATCH"></span><span id="error_datatype_mismatch"></span><dl> <dt>**Ошибка при \_ \_Несоответствие типов данных**</dt> <dt>0x8007070C</dt> </dl>                 | Может использоваться для указания того, что с устройства был получен недопустимый пакет данных.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span id="ERROR_DEVICE_IN_USE"></span><span id="error_device_in_use"></span><dl> <dt>**Ошибка при \_ УСТРОЙСТВО \_ \_ используется**</dt> <dt>0x80070964</dt> </dl>                            | Для устройства MTP/IP указывает, что не удалось инициализировать подключение, так как устройство используется.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| <span id="ERROR_DEVICE_NOT_CONNECTE"></span><span id="error_device_not_connecte"></span><dl> <dt>**Ошибка при \_ УСТРОЙСТВО \_ не \_ подключается к**</dt> <dt>0x8007048F</dt> </dl>          | Устройство отключено или отсоединено.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span id="ERROR_DIR_NOT_EMPTY"></span><span id="error_dir_not_empty"></span><dl> <dt>**Ошибка при \_ DIR \_ не \_ пустой**</dt> <dt>0x80070091</dt> </dl>                            | Может использоваться для указания на то, что для объекта с дочерними объектами был вызван нерекурсивный метод удаления. Приложение должно использовать флаг рекурсивного удаления в **ипортабледевицеконтент::D удалить**.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span id="ERROR_EMPTY"></span><span id="error_empty"></span><dl> <dt>**Ошибка при \_ ПУСТОЙ**</dt> <dt>0x800710D2</dt> </dl>                                                      | Может использоваться, чтобы указать, что устройству не удалось отправить какие-либо данные ресурсов, когда ожидались данные ресурса (например, значок эскиза или устройства). Обычно это указывает на ошибку на устройстве.<br/>                                                                                                                                                                                                                                                                                                                                                                                                               |
| <span id="ERROR_FILE_NOT_FOUND"></span><span id="error_file_not_found"></span><dl> <dt>**Ошибка при \_ ФАЙЛ \_ не \_ найден**</dt> <dt>0x80070002</dt> </dl>                         | Может использоваться для указания того, что устройство отключено или отсоединено.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| <span id="ERROR_GEN_FAILURE_"></span><span id="error_gen_failure_"></span><dl> <dt> **Ошибка \_ \_ при ошибке Gen**</dt> <dt>0x8007001F</dt> </dl>                                | Может использоваться для указания того, что устройство перестало отвечать на запросы (завис) или на устройстве произошла общая ошибка. Возможно, потребуется вручную сбросить устройство.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span id="ERROR_INVALID_DATA"></span><span id="error_invalid_data"></span><dl> <dt>**Ошибка при \_ Недопустимый 0x8007000D \_ данных**</dt> <dt></dt> </dl>                                | Может использоваться для указания того, что данные, отправляемые или получаемые с устройства, не могут быть проанализированы должным образом. Это может означать ошибку на стороне устройства или транспорта. Если операции с поставщиком MTP отправляются на устройство, эта ошибка может указывать на то, что указанные параметры операции не относятся к допустимому **VarType**. <br/>                                                                                                                                                                                                                                                                                              |
| <span id="ERROR_INVALID_DATATYPE"></span><span id="error_invalid_datatype"></span><dl> <dt>**Ошибка при \_ Недопустимый \_ тип данных**</dt> <dt>0x8007070C</dt> </dl>                    | Может использоваться для указания того, что указанный **VarType** является недопустимым для данного свойства.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span id="ERROR_INVALID_FUNCTION"></span><span id="error_invalid_function"></span><dl> <dt>**Ошибка при \_ НЕДОПУСТИМая \_ функция**</dt> <dt>0x80070001</dt> </dl>                    | Запрос на запись был сделан для ресурса на устройстве, который был открыт в режиме **чтения** с помощью **ипортабледевицересаурцес::-Stream**, или был сделан запрос на чтение для ресурса, открытого для **записи** или **создания**.<br/>                                                                                                                                                                                                                                                                                                                                                                                        |
| <span id="ERROR_INVALID_OPERATION"></span><span id="error_invalid_operation"></span><dl> <dt>**Ошибка при \_ Недопустимый 0x800710DD \_ операции**</dt> <dt></dt> </dl>                 | Для объекта с дочерними элементами вызывается нерекурсивное удаление.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| <span id="ERROR_INVALID_PARAMETER"></span><span id="error_invalid_parameter"></span><dl> <dt>**Ошибка при \_ Недопустимый \_ параметр**</dt> <dt>0x80070057</dt> </dl>                 | Недопустимый параметр, предоставленный приложением.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span id="ERROR_INVALID_TIME"></span><span id="error_invalid_time"></span><dl> <dt>**Ошибка при \_ НЕДОПУСТИМое \_ время**</dt> <dt>0x8007076D</dt> </dl>                                | Может использоваться для указания на неудачное преобразование свойства DateTime.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span id="ERROR_IO_DEVICE_"></span><span id="error_io_device_"></span><dl> <dt> **Ошибка \_ ввода-вывода \_ устройства**</dt> <dt>0x8007045D</dt> </dl>                                      | Может использоваться для указания того, что устройство перестало отвечать (зависло). Возможно, потребуется вручную сбросить устройство.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span id="ERROR_NOT_FOUND"></span><span id="error_not_found"></span><dl> <dt>**Ошибка при \_ НЕ \_ Найдено**</dt> <dt>0x80070490</dt> </dl>                                         | Может использоваться, чтобы указать, что устройство поддерживает свойство, но значение этого свойства в настоящее время пустое или не инициализировано. Может использоваться, чтобы указать, что внутренний контекст для длительной операции больше не существует, так как операция завершена или отменена. Примерами таких операций могут служить Групповые свойства, перечисление объектов, перемещение и вызов методов службы устройства. Приложения должны повторить операцию с начала. Может использоваться для указания, что указанный объект не существует. Дочерний объект может находиться за пределами иерархии службы устройств. <br/> |
| <span id="ERROR_NOT_READY"></span><span id="error_not_ready"></span><dl> <dt>**Ошибка при \_ \_Неготовая**</dt> <dt>0x80070015</dt> </dl>                                         | Может использоваться, чтобы указать, что операция инициализирована неправильно. Обычно это указывает на внутреннюю ошибку или на то, что приложение использует устаревший обработчик устройства. Приложение должно повторить операцию с самого начала или повторно открыть устройство.<br/>                                                                                                                                                                                                                                                                                                                                           |
| <span id="ERROR_NOT_SUPPORTED"></span><span id="error_not_supported"></span><dl> <dt>**Ошибка при \_ НЕ \_ поддерживается**</dt> <dt>0x80070032</dt> </dl>                             | Может использоваться, чтобы указать, что свойство или команда не поддерживается устройством.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span id="ERROR_OPERATION_ABORTED"></span><span id="error_operation_aborted"></span><dl> <dt>**Ошибка при \_ ОПЕРАЦИЯ \_ прервана**</dt> <dt>0x800703E3</dt> </dl>                 | Команда, отправленная на устройство, была прервана из-за отмены вручную, например путем вызова одного из методов **Cancel** в API-интерфейсе WPD. <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| <span id="ERROR_READ_FAULT"></span><span id="error_read_fault"></span><dl> <dt>**Ошибка при \_ 0x8007001E \_ ошибок чтения**</dt> <dt></dt> </dl>                                      | Может использоваться для указания того, что устройство не отправляет правильный объем данных.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span id="ERROR_RESOURCE_NOT_AVAILABLE"></span><span id="error_resource_not_available"></span><dl> <dt>**Ошибка при \_ РЕСУРС \_ \_ недоступен**</dt> <dt>0x8007138E</dt> </dl> | Может использоваться для указания того, что ресурс (например, эскиз или значок) отсутствует на устройстве.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span id="ERROR_SEM_TIMEOUT"></span><span id="error_sem_timeout"></span><dl> <dt>**Ошибка при \_ 0x80070079 \_ время ожидания SEM**</dt> <dt></dt> </dl>                                   | Может использоваться для указания того, что устройство перестало отвечать (зависло). Возможно, потребуется вручную сбросить устройство.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span id="ERROR_TIMEOUT"></span><span id="error_timeout"></span><dl> <dt>**Ошибка при \_ 0x800705B4 времени ожидания**</dt> <dt></dt> </dl>                                                | Может использоваться для указания того, что устройство перестало отвечать (зависло). Возможно, потребуется вручную сбросить устройство.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span id="ERROR_UNSUPPORTED_TYPE"></span><span id="error_unsupported_type"></span><dl> <dt>**Ошибка при \_ Неподдерживаемый \_ тип**</dt> <dt>0x8007065E</dt> </dl>                    | Может использоваться для указания того, что указанный формат не поддерживается устройством.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span id="ERROR_WRITE_FAULT"></span><span id="error_write_fault"></span><dl> <dt>**Ошибка при \_ ЗАПИСЬ \_ ошибки**</dt> <dt>0x8007001D</dt> </dl>                                   | Может использоваться для указания того, что приложению не удалось отправить запрошенный объем данных на устройство.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| <span id="WSAETIMEDOUT"></span><span id="wsaetimedout"></span><dl> <dt>**Всаетимедаут**</dt> <dt>0x8007274c</dt> </dl>                                                    | Для устройства MTP/IP указывает, что истекло время ожидания подключения к устройству. Возможно, устройство потребуется восстановить вручную.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |



## <a name="media-transfer-protocol-error-codes"></a>Коды ошибок протокола передачи мультимедиа

Устройства, поддерживающие протокол передачи мультимедиа (MTP), могут возвращать следующие коды ошибок. Большинство этих кодов ошибок подразумевают ошибку в стеке MTP (обмен данными между драйвером класса MTP и устройством), но они полезны при диагностике ситуации ошибки.



| Описание HRESULT | Код ответа MTP | Описание кода ответа MTP            | Сведения                                                                                                                                                                                                                                                                                                                                                                                                        |
|---------------------|-------------------|------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 0x80042003          | 0x2003            | Сеанс не открыт                         | Указывает, что обработчик сеанса операции не является открытым в данный момент сеансом. Это указывает на внутреннюю ошибку в стеке MTP.                                                                                                                                                                                                                                                                         |
| 0x80042004          | 0x2004            | Недопустимый ИД транзакции                    | Указывает, что ИД транзакции равен нулю или не ссылается на допустимую транзакцию. Это указывает на внутреннюю ошибку в стеке MTP.                                                                                                                                                                                                                                                                          |
| 0x80042005          | 0x2005            | Операция не поддерживается                  | Указывает, что код операции является допустимым кодом, но устройство не поддерживает эту операцию. Это указывает на внутреннюю ошибку в стеке MTP.                                                                                                                                                                                                                                                |
| 0x80042006          | 0x2006            | Параметр не поддерживается                  | Указывает, что в сочетании с операцией был указан ненулевой параметр, а параметр не используется для этой операции. Это указывает на внутреннюю ошибку в стеке MTP.                                                                                                                                                                                                                      |
| 0x80042007          | 0x2007            | Неполный перенос                      | Указывает, что передача не была завершена, и все передаваемые данные должны быть отклонены. Этот ответ не соответствует отмененной транзакции.                                                                                                                                                                                                                                                      |
| 0x80042008          | 0x2008            | Недопустимый Сторажеид                        | Указывает, что идентификатор хранилища, отправленный с операцией, не ссылается на фактическое допустимое хранилище, присутствующее на устройстве. Это указывает на внутреннюю ошибку в стеке MTP.                                                                                                                                                                                                                                   |
| 0x80042009          | 0x2009            | Недопустимый Обжександле                     | Указывает, что обработчик объекта не ссылается на фактический объект, имеющийся на устройстве. Приложение должно повторно перечислить хранилища.                                                                                                                                                                                                                                                         |
| 0x8004200A          | 0x200A            | Свойства многопутевого не поддерживается                 | Указывает, что код свойства устройства является допустимым кодом, но это свойство не поддерживается устройством. Это указывает на внутреннюю ошибку в стеке MTP.                                                                                                                                                                                                                                       |
| 0x8004200B          | 0x200B            | Недопустимый Обжектформаткоде                 | Указывает, что устройство не поддерживает определенный код формата объекта, указанный в данном контексте.                                                                                                                                                                                                                                                                                                    |
| 0x80042012          | 0x2012            | Частичное удаление                         | Указывает, что только подмножество хранилищ, указанное для удаления, фактически было удалено, так как некоторые из них были защищены от записи или находятся в хранилищах, доступных только для чтения.                                                                                                                                                                                                                                             |
| 0x80042013          | 0x2013            | Хранилище недоступно                      | Указывает, что хранилище (или хранилище, содержащее указанный объект) не является физически доступным. Это может быть вызвано извлечением носителя. Этот ответ не должен использоваться для указания того, что хранилище занято.                                                                                                                                                                                              |
| 0x80042014          | 0x2014            | Спецификация по формату не поддерживается      | Указывает, что операция попыталась указать действие только для объектов определенного формата, и эта возможность не поддерживается. Попытка выполнения операции должна быть повторена без указания по формату. Любой ответ этой природы определяет, что любая будущая попытка указать в формате с указанной операцией приведет к тому же ответу. Это указывает на внутреннюю ошибку в стеке MTP. |
| 0x80042015          | 0x2015            | Нет допустимого Обжектинфо                      | Указывает, что узел не предоставил на устройство допустимые сведения об объекте перед передачей объекта. Это указывает на внутреннюю ошибку в стеке MTP.                                                                                                                                                                                                                                                         |
| 0x80042016          | 0x2016            | Недопустимый формат кода                      | Указывает, что код данных имеет неправильный формат и поэтому недействителен. Это указывает на внутреннюю ошибку в стеке MTP.                                                                                                                                                                                                                                                                  |
| 0x80042017          | 0x2017            | Неизвестный код поставщика                      | Устройство не знает, как работать с расширенным кодом поставщика.                                                                                                                                                                                                                                                                                                                                                   |
| 0x8004201A          | 0x201A            | Недопустимый ParentObject                     | Указывает, что объект не является допустимым родительским объектом. Это указывает на внутреннюю ошибку в стеке MTP.                                                                                                                                                                                                                                                                                                     |
| 0x8004201B          | 0x201B            | Недопустимый формат свойства многопутевого                | Указывает, что была предпринята попытка установить свойство устройства, но данные имеют неверный размер или формат. Это указывает на внутреннюю ошибку в стеке MTP.                                                                                                                                                                                                                                             |
| 0x8004201C          | 0x201C            | Недопустимое значение свойства многопутевого                 | Указывает, что предпринята попытка задать для свойства устройства значение, которое не разрешено устройством. Это указывает на внутреннюю ошибку в стеке MTP                                                                                                                                                                                                                                                    |
| 0x8004201E          | 0x201E            | Сеанс уже открыт                     | Указывает, что узел пытался открыть сеанс, пока сеанс уже открыт. Это указывает на внутреннюю ошибку в стеке MTP.                                                                                                                                                                                                                                                                              |
| 0x8004201F          | 0x201F            | Транзакция отменена                    | Может использоваться для указания, что операция была прервана из-за отмены вручную.                                                                                                                                                                                                                                                                                                                         |
| 0x80042020          | 0x2020            | Спецификация назначения не поддерживается | Указывает, что устройство не поддерживает спецификацию назначения узлом. Это указывает на внутреннюю ошибку в стеке MTP.                                                                                                                                                                                                                                                                        |
| 0x8004A801          | 0xA801            | Недопустимый \_ обжектпропкоде                  | Указывает, что устройство не поддерживает **код свойства** отправленного объекта в этом контексте. Это указывает на внутреннюю ошибку в стеке MTP.                                                                                                                                                                                                                                                               |
| 0x8004A802          | 0xA802            | Недопустимый \_ \_ Формат обжектпроп              | Указывает, что свойство объекта, отправленное на устройство, имеет неподдерживаемый размер или тип. Это указывает на внутреннюю ошибку в стеке MTP.                                                                                                                                                                                                                                                                     |
| 0x8004A803          | 0xA803            | Недопустимое \_ \_ значение обжектпроп               | Указывает, что свойство объекта, отправленное на устройство, имеет правильный тип, но содержит неподдерживаемое значение. Это указывает на внутреннюю ошибку в стеке MTP.                                                                                                                                                                                                                                       |
| 0x8004A804          | 0xA804            | Недопустимый \_ ObjectReference                 | Указывает, что отправленная ссылка на объект является недопустимой. Либо ссылка содержит обработчик объекта, отсутствующий на устройстве, либо в контексте не поддерживается попытка установки ссылки. Это может быть вызвано ошибкой в стеке MTP или из-за приложения, использующего устаревший объект хранилища.                                                                                                               |
| 0x8004A806          | 0xA806            | Недопустимый \_ набор данных                         | Указывает, что в фазе данных этой операции передан недопустимый набор данных. Это указывает на внутреннюю ошибку в стеке MTP.                                                                                                                                                                                                                                                                             |
| 0x8004A807          | 0xA807            | Объект \_ слишком \_ велик                       | Указывает, что объект, который нужно отправить, не может храниться в файловой системе устройства. Этот параметр не должен возвращаться, если в хранилище недостаточно места.                                                                                                                                                                                                                                    |
| 0x8004A301          | 0xA301            | Недопустимый \_ ServiceID                       | Указывает, что идентификатор службы, отправленный с помощью операции, не ссылается на действительную допустимую службу, которая имеется на устройстве. Это указывает на внутреннюю ошибку в стеке MTP.                                                                                                                                                                                                                                 |
| 0x8004A302          | 0xA302            | Недопустимый \_ сервицепропкоде                 | Указывает, что устройство не поддерживает код свойства sentd Service в данном контексте. Это указывает на внутреннюю ошибку в стеке MTP.                                                                                                                                                                                                                                                                  |



 

## <a name="requirements"></a>Requirements (Требования)



| Требование | Значение |
|-------------------|---------------------------------------------------------------------------------------------|
| Заголовок<br/> | <dl> <dt>Портабледевице. h</dt> </dl> |



## <a name="see-also"></a>См. также

<dl> <dt>

[Константы](constants.md)
</dt> </dl>

 

