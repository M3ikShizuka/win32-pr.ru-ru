---
description: Команды
ms.assetid: f579745a-5327-4c8b-bfa7-fe81d9657a3b
title: Команды (API-интерфейс WPD)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a723e9eff52bf0b0b301d1fba672db5887afebef701a312786aeafb4decb733f
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118431117"
---
# <a name="commands-wpd-api"></a>Команды (API-интерфейс WPD)

клиентское приложение и драйвер взаимодействуют с помощью команд, которые отправляются от клиента (через API-интерфейс Windows переносных устройств) к драйверу (с помощью платформы User-Mode driver Framework). Команда может содержать или не включать параметр, а также не может возвращать результат. Клиент может явно отправить команду, вызвав метод [**ипортабледевице:: сендкомманд**](/windows/desktop/api/PortableDeviceApi/nf-portabledeviceapi-iportabledevice-sendcommand) или **ипортабледевицесервице: сендкомманд** или неявно, вызвав любой из методов клиентского интерфейса. Несколько команд можно отправить только явным образом. они указаны в документации по команде. На страницах справочника по командам описывается назначение команды, а также параметры, которые она ожидает получить, и параметры, которые она должна возвращать.

Команда определяется структурой **PROPERTYKEY** . Это состоит из двух частей: части идентификатора GUID (элемент *fmtid* ) и части DWORD (элемент *PID* ). Часть идентификатора GUID используется для указания категории, которой принадлежит команда (связанные команды относятся к той же категории и, следовательно, будут иметь тот же *fmtid*). Часть DWORD указывает идентификатор команды и используется для различения отдельных команд в категории команд (значения *PID* для команд в той же категории будут отличаться).

в следующей таблице перечислены категории команд, которые определяются Windows портативных устройств. Производители устройств могут определять собственные команды, создавая собственные категории команд и идентификаторы команд. Однако изготовителю не следует добавлять команды в указанные ниже категории, так как они зарезервированы корпорацией Майкрософт.

**Категории команд**



| Категория команды                         | Описание                                                                                                                             |
|------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------|
| **\_Категория WPD \_ Common**                | Команды, общие для всех объектов и устройств.                                                                                    |
| **\_указания для \_ устройств \_ категории WPD**         | Команды, используемые для получения дополнительных сведений об устройстве, которые можно использовать для улучшения взаимодействия с конечным пользователем.                         |
| **\_Категория WPD \_ SMS**                   | Команды, используемые для устройств с поддержкой функций SMS, которые обычно предоставляются на мобильных телефонах. |
| **\_Категория WPD \_ все \_ еще \_ отслеживает образы** | Команды, используемые для устройств, которые поддерживают запись образов.                                                                    |
| **\_хранилище категорий \_ WPD**               | Команды, используемые для функциональных объектов хранилища.                                                                                  |



 

Конкретные команды, определенные для каждого из этих типов, приведены в следующих таблицах, упорядоченных по типу команды.

**\_ \_ Общая категория категории WPD**



| Команда                                                                                | Описание        |
|----------------------------------------------------------------------------------------|--------------------|
| [**\_устройство с \_ общим \_ СБРОСом команды \_ WPD**](wpd-command-common-reset-device-command.md) | Выполняет сброс устройства. |



 

**Категория WPD категории \_ \_ \_ подсказок устройства**



| Команда                                                                                                              | Описание                                                                      |
|----------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------|
| [**\_устройства с командными \_ \_ указаниями WPD \_ Получение \_ \_ расположения содержимого**](wpd-command-device-hints-get-content-location-command.md) | Извлекает идентификаторы объектов папок, которые могут содержать объект указанного типа. |



 

**\_ \_ Категория хранилища категории WPD**



| Команда                                                                     | Описание                                                         |
|-----------------------------------------------------------------------------|---------------------------------------------------------------------|
| [**\_ \_ Извлечение хранилища команд \_ WPD**](wpd-command-storage-eject-command.md)   | Извлекает носитель, который можно удаленно извлечь с помощью драйвера. |
| [**\_ \_ Формат хранилища команд \_ WPD**](wpd-command-storage-format-command.md) | Форматирует функциональный объект хранилища на устройстве.                  |



 

**Категория "WPD" категории " \_ \_ SMS"**



| Команда                                                         | Описание                                                          |
|-----------------------------------------------------------------|----------------------------------------------------------------------|
| [**\_команда WPD \_ , \_ Отправка SMS**](wpd-command-sms-send-command.md) | Инициирует отправку сообщения SMS функциональным объектом SMS. |



 

**Категория "WPD" \_ \_ все еще имеет \_ \_ категорию захвата образа**



| Команда                                                                                                   | Описание                                                         |
|-----------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------|
| [**\_команда WPD \_ все \_ еще \_ запускает запись образа \_**](wpd-command-still-image-capture-initiate-command.md) | Инициирует запись образа по-прежнему с помощью функционального объекта Image. |



 

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[**Справочник по программированию**](programming-reference.md)
</dt> </dl>

 

 



