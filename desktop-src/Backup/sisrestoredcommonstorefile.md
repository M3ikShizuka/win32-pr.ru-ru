---
title: Функция Сисресторедкоммонсторефиле (Сисбкуп. h)
description: Сообщает архитектуре SIS о том, что файл Common-Store записан.
ms.assetid: 2b1cd9e7-a19c-4474-a40a-5a27d4feeab7
keywords:
- Резервное копирование функции Сисресторедкоммонсторефиле
topic_type:
- apiref
api_name:
- SisRestoredCommonStoreFile
api_location:
- Sisbkup.dll
api_type:
- DllExport
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 389d40b76614fe64038133c8cc0623706d4f2be82e68b3e096b59b3023f08bf2
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119529494"
---
# <a name="sisrestoredcommonstorefile-function"></a>Функция Сисресторедкоммонсторефиле

Функция **сисресторедкоммонсторефиле** сообщает архитектуре SIS о том, что файл Common-Store записан.

## <a name="syntax"></a>Синтаксис


```C++
BOOL SisRestoredCommonStoreFile(
  _In_ PVOID  sisRestoreStructure,
  _In_ PWCHAR commonStoreFileName
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*сисрестореструктуре* \[ окне\]
</dt> <dd>

Указатель на структуру восстановления SIS, возвращенную из [**сискреатерестореструктуре**](siscreaterestorestructure.md).

</dd> <dt>

*коммонсторефиленаме* \[ окне\]
</dt> <dd>

Имя восстановленного файла common-Store.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Эта функция возвращает **значение true** , если она завершается успешно, и **false** в противном случае. Вызовите [**GetLastError**](/windows/desktop/api/errhandlingapi/nf-errhandlingapi-getlasterror) , чтобы получить дополнительные сведения о причине сбоя вызова.

## <a name="remarks"></a>Remarks

Эту функцию следует вызывать после восстановления файла общего хранилища. Он уведомляет архитектуру SIS о том, что был записан новый файл Common-Store, чтобы архитектура SIS могла выполнять внутренние задачи обслуживания, такие как инициализация внутренних структур данных или исправление ссылок на файл общего хранилища.

Операция восстановления должна восстанавливать только файлы общего хранилища, указанные в [**сисресторедлинк**](sisrestoredlink.md), даже если на носителе резервных копий имеются дополнительные файлы общего хранилища. С помощью операции восстановления можно восстановить ссылки SIS и файлы общего хранилища в любом порядке, который он выбрал. Однако он должен вызвать **сисресторедлинк** после восстановления любой ссылки, и он должен вызвать эту функцию после восстановления любого файла общего хранилища. Так как операция восстановления не может определять, какие файлы общего хранилища будут восстановлены до тех пор, пока имена файлов не будут переданы в результате восстановления связи, операция восстановления всегда восстановит файл общего хранилища после восстановления по крайней мере одной ссылки, ссылающейся на него. Однако после этого можно восстановить дополнительные ссылки SIS, указывающие на этот файл Common-Store.

## <a name="requirements"></a>Requirements (Требования)



| Требование | Значение |
|-------------------------------------|----------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows \[Только классические приложения XP\]<br/>                                            |
| Минимальная версия сервера<br/> | Windows Только для \[ настольных приложений сервера 2003\]<br/>                                   |
| Заголовок<br/>                   | <dl> <dt>Сисбкуп. h</dt> </dl>   |
| Библиотека<br/>                  | <dl> <dt>Сисбкуп. lib</dt> </dl> |
| DLL<br/>                      | <dl> <dt>Sisbkup.dll</dt> </dl> |



## <a name="see-also"></a>См. также

<dl> <dt>

[**сискреатерестореструктуре**](siscreaterestorestructure.md)
</dt> <dt>

[**сисресторедлинк**](sisrestoredlink.md)
</dt> </dl>

 

