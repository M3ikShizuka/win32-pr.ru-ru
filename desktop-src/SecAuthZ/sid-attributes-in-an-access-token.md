---
description: Каждый идентификатор безопасности пользователя и группы в маркере доступа имеет набор атрибутов, определяющих, как система использует идентификатор безопасности при проверке доступа. В следующей таблице перечислены атрибуты, управляющие проверкой доступа.
ms.assetid: c902f876-f05e-4b0c-ab65-a0c6cebca933
title: Атрибуты SID в маркере доступа
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e6a93e180c8c6ffe03a26591d5b9f722c2266356
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103810708"
---
# <a name="sid-attributes-in-an-access-token"></a>Атрибуты SID в маркере доступа

Каждый [*идентификатор безопасности*](/windows/desktop/SecGloss/s-gly) пользователя и группы в [*маркере доступа*](/windows/desktop/SecGloss/a-gly) имеет набор атрибутов, определяющих, как система использует идентификатор безопасности при проверке доступа. В следующей таблице перечислены атрибуты, управляющие проверкой доступа.



| attribute                       | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|---------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| \_Группа SE \_ включена              | Идентификатор безопасности с этим атрибутом включен для проверок доступа. Когда система выполняет проверку доступа, она проверяет разрешенный доступ и запрещенный доступом доступ к [*записям контроля доступа*](/windows/desktop/SecGloss/a-gly) (ACE), которые применяются к одному из включенных идентификаторов безопасности в маркере доступа. Идентификатор безопасности без этого атрибута пропускается во время проверки доступа, если \_ только \_ \_ \_ не задано использование группы SE только для \_ атрибута Deny only.<br/> |
| SE \_ группы \_ использовать \_ \_ только для запрета \_ | Идентификатор безопасности с этим атрибутом является идентификатором безопасности только для запрета. Когда система выполняет проверку доступа, она проверяет ACE, запрещенные доступом к SID, но не учитывает ACE, разрешенный доступом для идентификатора безопасности. Если этот атрибут задан, \_ атрибут включения группы SE \_ не установлен, и SID не может быть включен повторно.<br/>                                                                                                                                                          |



 

Чтобы установить или снять атрибут группы \_ \_ безопасности SE с включенной группой, используйте функцию [**аджусттокенграупс**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-adjusttokengroups) . Нельзя отключить идентификатор безопасности группы с \_ \_ обязательным атрибутом группы SE. Нельзя использовать **аджусттокенграупс** для отключения SID пользователя маркера доступа.

Чтобы определить, включен ли идентификатор безопасности в токене, то есть имеет ли он \_ атрибут SE Group \_ Enabled, вызовите функцию [**чекктокенмембершип**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-checktokenmembership) .

Чтобы задать для параметра \_ группы SE значение \_ \_ \_ \_ "запретить только атрибут SID", включите идентификатор безопасности в список идентификаторов безопасности, которые вы указали при вызове функции [**CreateRestrictedToken**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-createrestrictedtoken) . **CreateRestrictedToken** может применить группу SE \_ \_ использовать \_ только для \_ атрибута "запретить \_ только атрибут" для любого идентификатора безопасности, включая идентификаторы SID пользователя и группы SID с атрибутом "Группа безопасности \ \_ \_ обязательный". Однако нельзя удалить атрибут «только отказ» из идентификатора безопасности, а также нельзя использовать [**аджусттокенграупс**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-adjusttokengroups) для задания \_ атрибута SE Group \_ Enabled в идентификаторе безопасности, доступном только для запрета.

Чтобы получить атрибуты идентификатора безопасности, вызовите функцию [**GetTokenInformation**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-gettokeninformation) со значением токенграупс. Функция возвращает массив структур [**SID \_ и \_ атрибутов**](/windows/desktop/api/Winnt/ns-winnt-sid_and_attributes) , которые указывают идентификаторы безопасности группы и их атрибуты.

 

