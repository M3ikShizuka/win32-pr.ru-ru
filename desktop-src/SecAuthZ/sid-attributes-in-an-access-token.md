---
description: Каждый идентификатор безопасности пользователя и группы в маркере доступа имеет набор атрибутов, определяющих, как система использует идентификатор безопасности при проверке доступа. В следующей таблице перечислены атрибуты, управляющие проверкой доступа.
ms.assetid: c902f876-f05e-4b0c-ab65-a0c6cebca933
title: Атрибуты SID в маркере доступа
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: dbe504e190e6d6e884b8068eb23983b2bc506c7c8447a8db77fd3ddb9cdfb917
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119413424"
---
# <a name="sid-attributes-in-an-access-token"></a>Атрибуты SID в маркере доступа

Каждый [*идентификатор безопасности*](/windows/desktop/SecGloss/s-gly) пользователя и группы в [*маркере доступа*](/windows/desktop/SecGloss/a-gly) имеет набор атрибутов, определяющих, как система использует идентификатор безопасности при проверке доступа. В следующей таблице перечислены атрибуты, управляющие проверкой доступа.



| attribute                       | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|---------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| SE \_ Группа \_ включена              | Идентификатор безопасности с этим атрибутом включен для проверок доступа. Когда система выполняет проверку доступа, она проверяет разрешенный доступ и запрещенный доступом доступ к [*записям контроля доступа*](/windows/desktop/SecGloss/a-gly) (ACE), которые применяются к одному из включенных идентификаторов безопасности в маркере доступа. идентификатор безопасности без этого атрибута пропускается во время проверки доступа, если \_ только \_ не задан параметр группы SE использовать \_ \_ только для атрибута DENY \_ ONLY.<br/> |
| SE \_ \_использовать группу \_ \_ только для запрета \_ | Идентификатор безопасности с этим атрибутом является идентификатором безопасности только для запрета. Когда система выполняет проверку доступа, она проверяет ACE, запрещенные доступом к SID, но не учитывает ACE, разрешенный доступом для идентификатора безопасности. если этот атрибут задан, то атрибут SE \_ GROUP \_ ENABLED не установлен, и идентификатор безопасности не может быть включен повторно.<br/>                                                                                                                                                          |



 

чтобы установить или снять атрибут SE \_ группы с \_ идентификатором безопасности группы, используйте функцию [**аджусттокенграупс**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-adjusttokengroups) . нельзя отключить идентификатор безопасности группы, имеющей \_ \_ обязательный атрибут группы SE. Нельзя использовать **аджусттокенграупс** для отключения SID пользователя маркера доступа.

чтобы определить, включен ли идентификатор безопасности в токене, то есть имеет ли он \_ атрибут SE GROUP \_ enabled, вызовите функцию [**чекктокенмембершип**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-checktokenmembership) .

чтобы задать для группы SE значение " \_ \_ \_ \_ запретить \_ только атрибут идентификатора безопасности", включите идентификатор безопасности в список идентификаторов безопасности только для запрета, указанных при вызове функции [**CreateRestrictedToken**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-createrestrictedtoken) . **CreateRestrictedToken** может применить группу SE \_ \_ использовать \_ для \_ атрибута DENY \_ ONLY с любым идентификатором безопасности, включая идентификаторы sid пользователя и группы sid с \_ \_ обязательным атрибутом группы SE. однако нельзя удалить атрибут «только отказ» из идентификатора безопасности, а также нельзя использовать [**аджусттокенграупс**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-adjusttokengroups) для задания \_ атрибута SE GROUP \_ ENABLED в идентификаторе безопасности, доступном только для запрета.

Чтобы получить атрибуты идентификатора безопасности, вызовите функцию [**GetTokenInformation**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-gettokeninformation) со значением токенграупс. Функция возвращает массив структур [**SID \_ и \_ атрибутов**](/windows/desktop/api/Winnt/ns-winnt-sid_and_attributes) , которые указывают идентификаторы безопасности группы и их атрибуты.

 

