---
description: Когда процесс пытается получить доступ к защищаемому объекту, система выполняет шаги по записи управления доступом (ACE) в списке управления доступом на уровне объектов (DACL) до тех пор, пока не найдет ACE, которые разрешают или отклоняют запрошенный доступ.
ms.assetid: fccf043e-e769-4f3f-b18c-252be20190d8
title: Порядок элементов ACE в списке DACL
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cc45d6fd286bb06bd4311a8a02010c68832735ac
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105663827"
---
# <a name="order-of-aces-in-a-dacl"></a>Порядок элементов ACE в списке DACL

Когда [*процесс*](/windows/desktop/SecGloss/p-gly) пытается получить доступ к защищаемому объекту, система выполняет шаги по [*записи управления доступом*](/windows/desktop/SecGloss/a-gly) (ACE) в [*списке управления доступом на уровне пользователей*](/windows/desktop/SecGloss/d-gly) (DACL) объекта до тех пор, пока не найдет записи ACE, которые разрешают или отклоняют запрошенный доступ. Права доступа, разрешенные в списке DACL, могут различаться в зависимости от порядка записей ACE в списке DACL. Следовательно, операционная система Windows XP определяет предпочтительный порядок записей ACE в списке DACL защищаемого объекта. Предпочтительный порядок — это простая платформа, которая обеспечивает запрет доступа к ACE. Дополнительные сведения о алгоритме системы для проверки доступа см. в статье [Управление доступом к объекту в DACL](how-dacls-control-access-to-an-object.md).

В Windows Server 2003 и Windows XP правильный порядок записей ACE усложняется за счет введения элементов ACE для конкретного объекта и автоматического наследования.

Следующие шаги описывают предпочтительный порядок.

1.  Все явные записи ACE помещаются в группу до наследуемых ACE.
2.  В группе явных ACE элементы ACE, запрещенные доступом, помещаются перед доступом к записям ACE.
3.  Наследуемые ACE размещаются в том порядке, в котором они унаследованы. Записи ACE, унаследованные от родительского объекта, сначала берутся, затем ACE наследуются от «бабушке» и т. д. в дереве объектов.
4.  Для каждого уровня наследуемых ACE ACE размещаются до тех пор, пока доступ к ним запрещен.

Конечно, в списке ACL требуются не все типы ACE.

Такие функции, как [**аддакцессалловедацеекс**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-addaccessallowedaceex) и [**аддакцессалловедобжектаце**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-addaccessallowedobjectace) , добавляют ACE в конец списка ACL. Ответственность за то, чтобы элементы ACE добавлялись в правильном порядке, отвечает вызывающему объекту.

 

 
