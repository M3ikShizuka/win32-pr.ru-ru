---
description: Объясняет строки, используемые в записи управления доступом.
ms.assetid: 82c99170-784b-4724-a25b-2f2e8a2e0225
title: Строки ACE
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f60e8f4f5d3cd94f6e871b3b4962d2d548afa003c3bd4aa37a1ae8f008ce1a6f
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "117785405"
---
# <a name="ace-strings"></a>Строки ACE

На [языке определения дескрипторов безопасности](security-descriptor-definition-language.md) (SDDL) строки ACE используются в компонентах DACL и SACL строки [*дескриптора безопасности*](/windows/desktop/SecGloss/s-gly) .

Как показано в примерах [формата строки дескриптора безопасности](security-descriptor-string-format.md) , каждая запись ACE в строке дескриптора безопасности заключается в круглые скобки. Поля ACE находятся в следующем порядке и разделены точкой с запятой (;).

> [!Note]  
> Существует другой формат [*записей управления*](/windows/desktop/SecGloss/a-gly) условным доступом (ACE), отличных от других типов ACE. Сведения об условных ACE см. в разделе [язык определения дескрипторов безопасности для условных элементов ACE](security-descriptor-definition-language-for-conditional-aces-.md).

 

``` syntax
ace_type;ace_flags;rights;object_guid;inherit_object_guid;account_sid;(resource_attribute)
```

## <a name="fields"></a>Поля

<dl> <dt>

<span id="ace_type"></span><span id="ACE_TYPE"></span>**\_Тип ACE**
</dt> <dd>

Строка, указывающая значение элемента **AceType** структуры [**\_ заголовка ACE**](/windows/desktop/api/Winnt/ns-winnt-ace_header) . Строка типа ACE может быть одной из следующих строк, определенных в SDDL. h.



| Строка типа ACE | Константа в SDDL. h                      | Значение AceType                                                                                                                                                      |
|-----------------|-----------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| "A"             | \_разрешен доступ \_ SDDL                   | ДОСТУП к \_ разрешенному \_ \_ типу ACE                                                                                                                                         |
| "D"             | \_отказано в доступе к SDDL \_                    | ДОСТУП \_ запрещенный \_ \_ Тип ACE                                                                                                                                          |
| OA            | \_ \_ доступ к объектам SDDL \_ разрешен           | ДОСТУП к \_ разрешенному \_ \_ типу ACE объекта \_                                                                                                                                 |
| OD            | \_ \_ доступ к объекту SDDL \_ запрещен            | \_ \_ \_ Тип ACE "запрещен доступ к объекту" \_                                                                                                                                  |
| СЛУЖБЫ            | \_Аудит SDDL                             | \_ \_ Тип ACE аудита \_ системы                                                                                                                                           |
| «AL»            | \_оповещение SDDL                             | \_ \_ Тип ACE системного \_ оповещения                                                                                                                                           |
| НИХ            | \_аудит объектов \_ SDDL                     | \_ \_ \_ Тип ACE объекта системного \_ аудита                                                                                                                                   |
| OL            | \_ \_ оповещение объекта SDDL                     | \_ \_ \_ Тип ACE объекта системного \_ оповещения                                                                                                                                   |
| "ML"            | \_обязательная \_ Метка SDDL                  | \_тип ACE "обязательная система" \_ \_ \_ **Windows сервера 2003:** недоступен.                                                                                        |
| СООБЩЕН            | \_ \_ разрешен доступ к обратному ВЫЗОВу SDDL \_         | доступ к \_ разрешенному \_ ответному вызову \_ \_ типа ACE **Windows server 2008, Windows Vista и Windows server 2003:** недоступен.                                                |
| XD            | \_доступ к обратному вызову SDDL \_ \_ запрещен          | \_ \_ тип ACE для обратного вызова с запретом доступа \_ \_ **Windows сервере 2008, Windows Vista и Windows Server 2003:** недоступно.                                                 |
| ЦЕНТРА            | \_атрибут ресурса \_ SDDL               | \_атрибут системного \_ ресурса \_ \_ тип ACE **Windows Server 2008 R2, Windows 7, Windows server 2008, Windows Vista и Windows server 2003:** недоступно.<br/> |
| ПОРТОВ            | \_идентификатор политики с областью действия SDDL \_ \_                | \_ \_ идентификатор политики уровня системы \_ \_ тип ACE \_ **Windows Server 2008 R2, Windows 7, Windows Server 2008, Windows Vista и Windows Server 2003:** недоступно.<br/>  |
| "КСУ"            | \_Аудит обратного вызова SDDL \_                   | \_ \_ тип ACE обратного вызова аудита системы \_ \_ **Windows Server 2008 R2, Windows 7, Windows server 2008, Windows Vista и Windows server 2003:** недоступно.<br/>     |
| ZA            | \_ \_ \_ разрешен доступ к объекту ОБРАТНОго вызова SDDL \_ | доступ к \_ разрешенному \_ ответному вызову \_ \_ тип ACE **Windows Server 2008 R2, Windows 7, Windows server 2008, Windows Vista и Windows server 2003:** недоступен.<br/>   |
| TL            | \_ \_ Метка доверия процесса \_ SDDL             | \_ \_ тип ACE для метки доверия системного процесса \_ \_ \_ **Windows Server 2012, Windows 8, Windows server 2008 R2, Windows 7, Windows server 2008, Windows Vista и Windows Server 2003:** недоступен. |
| ШТАТ            | \_Фильтр доступа \_ SDDL                    | \_тип ACE "фильтр доступа к системе" \_ \_ \_ **Windows Server 2016, Windows 10 версии 1607, Windows 10 версия 1511, Windows 10 версия 1507, Windows Server 2012 R2, Windows 8.1, Windows Server 2012, Windows 8, Windows server 2008 r2, Windows 7, Windows server 2008, Windows Vista и Windows server 2003:** недоступно. |
 

> [!Note]  
> Если **\_ Тип ACE** имеет доступ к \_ разрешенному \_ \_ типу ACE объекта, \_ а ни **\_ GUID объекта** , ни **наследование \_ \_ GUID объекта** не имеют указанного [**идентификатора GUID**](/windows/win32/api/guiddef/ns-guiddef-guid) , [**конвертстрингсекуритидескриптортосекуритидескриптор**](/windows/desktop/api/Sddl/nf-sddl-convertstringsecuritydescriptortosecuritydescriptora) преобразует **\_ Тип ACE** для доступа к \_ разрешенному \_ \_ типу ACE.

 

</dd> <dt>

<span id="ace_flags"></span><span id="ACE_FLAGS"></span>**\_Флаги ACE**
</dt> <dd>

Строка, указывающая значение элемента **AceFlags** структуры [**\_ заголовка ACE**](/windows/desktop/api/Winnt/ns-winnt-ace_header) . Строка флагов ACE может быть объединением следующих строк, определенных в SDDL. h.



| Строка флагов ACE | Константа в SDDL. h       | Значение Ацефлаг                 |
|------------------|--------------------------|-------------------------------|
| ЭЛЕМЕНТ             | \_ \_ наследование контейнера SDDL | КОНТЕЙНЕР \_ наследует \_ ACE       |
| Oi             | \_ \_ наследование объектов SDDL    | Объект \_ наследует \_ ACE          |
| Протокол             | SDDL \_ без \_ распространения      | НЕТ \_ распространения \_ наследования \_ ACE   |
| IO             | \_наследование \_ только SDDL      | наследовать \_ только \_ ACE            |
| ID             | \_унаследовано SDDL          | УНАСЛЕДОВАНный \_ элемент ACE                |
| СРОК             | \_ \_ успешный аудит SDDL     | \_ \_ флаг ACE успешного \_ доступа |
| СЕРИЮ             | \_сбой аудита \_ SDDL     | неудачный \_ доступ к \_ \_ флагу ACE     |
| Пи             | \_ \_ Фильтр защищенного доверия SDDL \_ | \_флаг доверия защищенного \_ фильтра \_ ACE \_ **Windows Server 2016, Windows 10 версии 1607, Windows 10 версии 1511, Windows 10 версии 1507, Windows Server 2012 r2, Windows 8.1, Windows Server 2012, Windows 8, Windows server 2008 r2, Windows 7, Windows server 2008, Windows Vista и Windows server 2003:** недоступно. |
| Кредит             | \_Критическое для SDDL           | критический \_ \_ флаг ACE **Windows сервере версии 1803, Windows 10 версии 1803, Windows Server версии 1709, Windows 10 версии 1709, Windows 10 версии 1703, Windows Server 2016, Windows 10 версии 1607, Windows 10 версии 1511, Windows 10 версии 1507, Windows Server 2012 R2, Windows 8.1, Windows Server 2012, Windows 8, Windows Server 2008 r2, Windows 7 Windows сервер 2008, Windows Vista и Windows Server 2003:** недоступно. |
 

</dd> <dt>

<span id="rights"></span><span id="RIGHTS"></span>**LiveCycle**
</dt> <dd>

Строка, указывающая [права доступа](access-rights-and-access-masks.md) , контролируемые элементом управления доступом. Эта строка может быть шестнадцатеричным строковым представлением прав доступа, например "0x7800003F", или объединением следующих строк.



### <a name="generic-access-rights"></a>Универсальные права доступа

| Строка прав доступа | Константа в SDDL. h | Значение право доступа |
|----------------------|--------------------|--------------------|
| ОБЩЕДОСТУПНОЙ версии                 | \_Общий \_ список SDDL ALL | УНИВЕРСАЛЬНые \_ все       |
| Группа                 | \_универсальное \_ Чтение SDDL | УНИВЕРСАЛЬНое \_ чтение     |
| GW                 | \_Общая \_ запись SDDL | УНИВЕРСАЛЬНая \_ запись |
| GX                 | \_универсальное \_ выполнение SDDL | УНИВЕРСАЛЬНое \_ выполнение |


### <a name="standard-access-rights"></a>Стандартные права доступа

| Строка прав доступа | Константа в SDDL. h | Значение право доступа |
|----------------------|--------------------|--------------------|
| RC                 | \_ \_ элемент управления SDDL Read | \_Контроль чтения      |
| ПАМЯТИ                 | \_стандартное \_ Удаление SDDL | DELETE          |
| WD                 | \_запись SDDL записи \_ DAC | ЗАПИСЬ \_ DAC            |
| ДВ                 | \_владелец записи \_ SDDL | \_владелец записи        |

### <a name="directory-service-object-access-rights"></a>Права доступа к объекту службы каталогов

| Строка прав доступа | Константа в SDDL. h | Значение право доступа |
|----------------------|--------------------|--------------------|
| RP                 | \_свойство чтения \_ SDDL | AD — \_ право на \_ \_ чтение DS \_ |
| ВЧ                 | \_свойство записи \_ SDDL | Реклама \_ справа \_ DS \_ запись \_ prop |
| КОМУ                 | \_Создание \_ дочернего элемента SDDL | БАННЕРы \_ справа \_ \_ Создание \_ дочернего каталога |
| Постоянный                 | \_Удаление \_ дочернего элемента SDDL | Реклама \_ справа \_ DS \_ Удаление \_ дочернего элемента |
| АККРЕДИТИВ                 | \_ \_ дочерние элементы списка SDDL | \_ \_ список служб AD справа актрл \_ DS \_ |
| СИНТЕЗАТОР                 | \_самостоятельная \_ запись SDDL    | AD — \_ правая \_ доменная служба \_ Self |
| Lo                  | \_объект списка \_ SDDL | \_ \_ \_ объект списка DS right \_ AD |
| MICROSOF                 | \_дерево удаления \_ SDDL | \_дерево прав \_ Active Directory — \_ Удаление \_ дерева |
| Кредит                  | \_доступ к элементу управления SDDL \_ | AD \_ , \_ права \_ \_ доступа к управлению DS |

### <a name="file-access-rights"></a>Права доступа к файлам

| Строка прав доступа | Константа в SDDL. h | Значение право доступа |
|----------------------|--------------------|--------------------|
| СЕРИЮ                 | \_файл SDDL \_ все    | ФАЙЛ \_ все \_ доступ   |
| ФРАНЦУЗСКИЙ                 | \_чтение файла \_ SDDL   | \_Общее \_ чтение файла |
| ПРОЕКТОР                 | \_запись файла \_ SDDL  | \_Общая \_ запись в файл |
| FX                 | \_выполнение файла \_ SDDL | \_Общий \_ Запуск файла |


### <a name="registry-key-access-rights"></a>Права доступа к разделу реестра

| Строка прав доступа | Константа в SDDL. h | Значение право доступа |
|----------------------|--------------------|--------------------|
| KA                 | \_все ключи \_ SDDL     | КЛЮЧЕВОЙ \_ полный \_ доступ   |
| Республика Корея                 | \_чтение ключа \_ SDDL    | \_чтение ключа          |
| КВт *                 | \_запись ключа \_ SDDL   | \_запись ключа         |
| "ККС"                 | \_выполнение ключа \_ SDDL | \_выполнение ключа       |

### <a name="mandatory-label-rights"></a>Обязательные права для меток

| Строка прав доступа | Константа в SDDL. h | Значение право доступа |
|----------------------|--------------------|--------------------|
| Nr                 | SDDL \_ — \_ Чтение не производится \_ | \_обязательная \_ метка \_ системы \_ не \_ читается **Windows server 2008, Windows Vista и Windows server 2003:** недоступно. |
| NW                 | \_запись SDDL без \_ записи \_ | \_обязательная \_ метка \_ системы \_ нет \_ записи **Windows сервер 2008, Windows Vista и Windows server 2003:** недоступно. |
| NX                 | SDDL \_ без \_ выполнения \_ | \_обязательная \_ метка \_ системы \_ не \_ выполняет **Windows server 2008, Windows Vista и Windows server 2003:** недоступно. |
</dd> <dt>

<span id="object_guid"></span><span id="OBJECT_GUID"></span>**\_GUID объекта**
</dt> <dd>

Строковое представление идентификатора GUID, которое указывает значение элемента **ObjectType** структуры ACE, относящейся к объекту, например, [**доступное \_ \_ \_ ACE для объекта**](/windows/desktop/api/Winnt/ns-winnt-access_allowed_object_ace). Строка GUID использует формат, возвращаемый функцией [**ууидтостринг**](/windows/desktop/api/rpcdce/nf-rpcdce-uuidtostring) .

В следующей таблице перечислены некоторые часто используемые идентификаторы GUID объектов.



| Права и идентификатор GUID                         | Разрешение      |
|-----------------------------------------|-----------------|
| CR; ab721a53-1e2f-11D0-9819-00aa0040529b | Изменить пароль |
| CR; 00299570-246d-11D0-a768-00aa006e0529 | Сброс пароля  |



 

</dd> <dt>

<span id="inherit_object_guid"></span><span id="INHERIT_OBJECT_GUID"></span>**наследование \_ \_ GUID объекта**
</dt> <dd>

Строковое представление идентификатора GUID, которое указывает значение элемента **инхеритедобжекттипе** структуры ACE конкретного объекта. Строка GUID использует формат [**ууидтостринг**](/windows/desktop/api/rpcdce/nf-rpcdce-uuidtostring) .

</dd> <dt>

<span id="account_sid"></span><span id="ACCOUNT_SID"></span>**Идентификатор безопасности учетной записи \_**
</dt> <dd>

[Строка идентификатора безопасности](sid-strings.md) , определяющая [доверенное лицо](trustees.md) ACE.

</dd> <dt>

<span id="resource_attribute"></span><span id="RESOURCE_ATTRIBUTE"></span>**\_атрибут ресурса**
</dt> <dd>

\[Необязательный \] \_ атрибут ресурса предназначен только для ресурсов ACE ресурса и является необязательным. Строка, указывающая тип данных. Тип данных ACE атрибута ресурса может быть одним из следующих типов данных, определенных в SDDL. h.

Знак " \# " является синонимом "0" в атрибутах ресурса. Например, Д:АИ (XA; ОИЦИ; FA;;; WD; (Октетстрингтипе = = \# 1 \# 2 \# 3 \# \# )) эквивалентен и интерпретируется как д:АИ (XA; оиЦи; FA;;; WD; (Октетстрингтипе = = \# 01020300)).

**Windows server 2008 R2, Windows 7, Windows server 2008, Windows Vista и Windows server 2003:** Атрибуты ресурсов недоступны.



| Строка типа данных ACE атрибута ресурса | Константа в SDDL. h | Тип данных        |
|-----------------------------------------|--------------------|------------------|
| Ti                                    | \_тип SDDL int          | Целое число со знаком   |
| Tu                                    | SDDL \_ uint         | Целое число без знака |
| ЛИЦЕНЗИИ                                    | \_WSTRING SDDL      | Расширенная строка      |
| <                                    | \_идентификатор безопасности SDDL          | SID              |
| ДАНО                                    | \_большой двоичный объект SDDL         | Строка октета     |
| ТБАЙТ                                    | \_логическое значение SDDL      | Логическое          |



 

</dd> </dl>

В следующем примере показана строка ACE для ACE, разрешенного доступом. Он не является элементом ACE, зависящим от объекта, поэтому он не имеет сведений **в \_ GUID объекта** и не **наследует поля \_ \_ GUID объекта** . Поле **\_ флагов ACE** также пусто, что означает, что ни один из флагов ACE не задан.


```C++
(A;;RPWPCCDCLCSWRCWDWOGA;;;S-1-1-0)
```



Приведенная выше строка ACE описывает следующие сведения ACE.


```C++
AceType:       0x00 (ACCESS_ALLOWED_ACE_TYPE)
AceFlags:      0x00
Access Mask:   0x100e003f
                    READ_CONTROL
                    WRITE_DAC
                    WRITE_OWNER
                    GENERIC_ALL
                    Other access rights(0x0000003f)
Ace Sid      : (S-1-1-0)
```



в следующем примере показан файл, классифицированный с помощью утверждений ресурсов для Windows и язык SQL (SQL) с заданным параметром «pfs», равным высокому бизнесу.


```C++
(RA;CI;;;;S-1-1-0; ("Project",TS,0,"Windows","SQL")) 
(RA;CI;;;;S-1-1-0; ("Secrecy",TU,0,3))
```



Приведенная выше строка ACE описывает следующие сведения ACE.


```C++
AceType:       0x12 (SYSTEM_RESOURCE_ATTRIBUTE_ACE_TYPE)
AceFlags:      0x1  (SDDL_CONTAINER_INHERIT)
Access Mask:   0x0
Ace Sid      : (S-1-1-0)
Resource Attributes: Project has the strings Windows and SQL, Secrecy has the unsigned int value of 3
```



Дополнительные сведения см. в разделе [Формат строки дескриптора безопасности](security-descriptor-string-format.md) и [строки SID](sid-strings.md). Сведения об условных ACE см. в разделе [язык определения дескрипторов безопасности для условных элементов ACE](security-descriptor-definition-language-for-conditional-aces-.md).

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[\[MS-ДТИП \] : язык описания дескрипторов безопасности](/openspecs/windows_protocols/ms-dtyp/4f4251cc-23b6-44b6-93ba-69688422cb06)
</dt> </dl>

