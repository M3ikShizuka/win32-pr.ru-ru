---
description: Предоставляет механизм управления доступом к защищаемым объектам.
ms.assetid: 5923cb4c-f663-40d2-989a-07d71ac475db
title: контроль целостности учетных данных
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c184ba01da0a55309fcb27ace9b0fe156edd6425
ms.sourcegitcommit: 4570ac533e129ff88b23f2c2b69e0140ead3a4a4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/26/2021
ms.locfileid: "105652300"
---
# <a name="mandatory-integrity-control"></a>контроль целостности учетных данных

Контроль целостности учетных данных (MIC) предоставляет механизм управления доступом к защищаемым объектам. Этот механизм является дополнением к контролю доступа на уровне пользователей и оценивает доступ до проверки доступа к [*списку управления доступом на уровне пользователей*](/windows/desktop/SecGloss/d-gly) (DACL) объекта.

Для вычисления доступа MIC использует уровни целостности и обязательную политику. [*Субъектам безопасности*](/windows/desktop/SecGloss/s-gly) и защищаемым объектам назначаются уровни целостности, определяющие их уровни защиты или доступа. Например, участник с низким уровнем целостности не может записывать в объект с уровнем целостности Medium, даже если DACL этого объекта допускает доступ на запись к участнику.

Windows определяет четыре уровня целостности: низкая, средняя, высокая и система. Обычные пользователи получают доступ к среднему уровню, а пользователи с повышенными правами получают высокий уровень. Запущенные процессы и созданные объекты получают уровень целостности (средний или высокий) или низкий, если уровень исполняемого файла низкий; Системные службы получают целостность системы. Объекты, для которых отсутствует метка целостности, обрабатываются операционной системой как средняя; Это предотвращает изменение непомеченных объектов кодом с низким уровнем целостности. Кроме того, Windows гарантирует, что процессы, работающие с низким уровнем целостности, не смогут получить доступ к процессу, связанному с контейнером приложения.

## <a name="integrity-labels"></a>Метки целостности

Метки целостности определяют уровни целостности защищаемых объектов и субъектов безопасности. Метки целостности представлены [*идентификаторами безопасности целостности*](/windows/desktop/SecGloss/i-gly). SID целостности для защищаемого объекта хранится в [*системном списке управления доступом*](/windows/desktop/SecGloss/s-gly) (SACL). Список SACL содержит обязательную системную [*запись управления доступом*](/windows/desktop/SecGloss/a-gly) [**\_ \_ \_ ACE**](/windows/desktop/api/Winnt/ns-winnt-system_mandatory_label_ace) (ACE), которая, в свою очередь, содержит SID целостности. Любой объект без идентификатора безопасности целостности обрабатывается так, как если бы он имел среднюю целостность.

SID целостности для субъекта безопасности хранится в его маркере доступа. Маркер доступа может содержать один или несколько SID целостности.

Подробные сведения об определенных идентификаторах безопасности см. в разделе [известные идентификаторы](well-known-sids.md)безопасности.

## <a name="process-creation"></a>Создание процесса

Когда пользователь пытается запустить исполняемый файл, новый процесс создается с минимальным уровнем целостности пользователя и уровнем целостности файла. Это означает, что новый процесс никогда не будет выполняться с более высокой целостностью, чем исполняемый файл. Если пользователь с правами администратора выполняет программу низкой целостности, маркер для нового процесса работает с низким уровнем целостности. Это помогает защитить пользователя, запускающего ненадежный код от вредоносных действий, выполняемых этим кодом. Данные пользователя, которые являются обычным уровнем целостности пользователя, защищаются от записи к этому новому процессу.

## <a name="mandatory-policy"></a>Обязательная политика

Элемент ACE ACE " [**\_ обязательная \_ \_ система**](/windows/desktop/api/Winnt/ns-winnt-system_mandatory_label_ace) " в списке SACL защищаемого объекта содержит маску доступа, которая задает доступ для участников с уровнем целостности ниже, чем у объекта. Значения, определенные для этой маски доступа, **являются \_ обязательной системной \_ меткой " \_ нет \_ записи \_**", " **системная \_ обязательная \_ метка \_ не \_ читается \_**" и " **системная \_ обязательная \_ метка \_ не \_ выполняется \_**". По умолчанию система создает каждый объект с маской доступа к **системной \_ обязательной \_ метке \_ без \_ записи \_**.

Каждый маркер доступа также указывает обязательную политику, которая задается [*локальным администратором безопасности*](/windows/desktop/SecGloss/l-gly) (LSA) при создании маркера. Эта политика указывается с помощью [**\_ обязательной структуры \_ политики маркера**](/windows/desktop/api/Winnt/ns-winnt-token_mandatory_policy) , связанной с токеном. Эту структуру можно запросить, вызвав функцию [**GetTokenInformation**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-gettokeninformation) со значением параметра *токенинформатионкласс* , равным **токенмандаториполици**.

 

 
