---
title: События Windows
description: События обычно используются для устранения неполадок по для приложений и драйверов. До Windows Vista для записи событий в журнал следует использовать трассировку событий Windows (ETW) или ведение журнала событий. В Windows Vista появилась новая модель событий, которая унифицирована для API трассировки событий Windows (ETW) и журнала событий Windows. В Windows 10 введены Трацелоггинг, которые основаны на трассировке событий Windows и предоставляют упрощенный способ инструментирования кода для разработчиков на машинном коде, .NET и WinRT.
ms.assetid: c10baa8d-50b9-4fda-89d0-d00b1d9f5404
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2c3d22580c38e45d06f5362e99626642eebdfe20
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/19/2020
ms.locfileid: "104069953"
---
# <a name="windows-events"></a>События Windows

События обычно используются для устранения неполадок по для приложений и драйверов.

-   До Windows Vista для записи событий в журнал следует использовать [трассировку событий Windows](/windows/desktop/ETW/event-tracing-portal) (ETW) или [ведение журнала событий](/windows/desktop/EventLog/event-logging) .
-   В Windows Vista появилась новая модель событий, которая унифицирована [для API трассировки событий Windows](/windows/desktop/ETW/event-tracing-portal) (ETW) и [журнала событий Windows](/windows/desktop/WES/windows-event-log) .
-   В Windows 10 введены [трацелоггинг](/windows/desktop/tracelogging/trace-logging-portal) , которые основаны на ТРАССИРОВКЕ событий Windows и предоставляют упрощенный способ инструментирования кода для разработчиков на машинном коде, .NET и WinRT.

Новая модель [трацелоггинг](/windows/desktop/tracelogging/trace-logging-portal) позволяет включать структурированные данные с событиями, сопоставлять события и не требует отдельного XML-файла манифеста инструментирования.

Модель Windows Vista использует XML-манифест для определения событий, которые необходимо опубликовать. События могут быть опубликованы в канале или сеансе ETW. События можно опубликовать в следующих типах каналов: администратор, Рабочий, аналитический и отладочный. Если для включения издателя используются только ETW, в манифесте не нужно указывать каналы. Подробные сведения о создании манифеста см. в статьях [Создание манифеста инструментирования](/windows/desktop/WES/writing-an-instrumentation-manifest), а сведения о каналах см. в разделе [Определение каналов](/windows/desktop/WES/defining-channels).

Чтобы зарегистрировать издатель событий и опубликовать события, используйте API ETW. Дополнительные сведения см. в разделе [предоставление событий](/windows/desktop/ETW/providing-events) и [Разработка поставщика](/windows/desktop/WES/developing-a-provider). Издатель события будет автоматически записывать события в каналы, указанные в манифесте, если они включены.

Если требуется управлять событиями, публикуемыми издателем событий на более тонком уровне гранулярности, используйте API ETW. Например, если манифест определяет события записи и чтения, можно включить только события записи. Событие может также задавать значение уровня, например "предупреждение" или "ошибка", чтобы можно было ограничить записываемые события теми, которые задают уровень ошибки. Дополнительные сведения см. в разделе [Управление сеансами трассировки событий](/windows/desktop/ETW/controlling-event-tracing-sessions). События записываются в файл журнала сеанса.

Использование событий включает извлечение событий из канала событий, файла журнала событий (. evtx или. evt-файлов), файла трассировки (ETL-файлов) или сеанса ETW в режиме реального времени. Чтобы использовать события из файла трассировки событий Windows или сеанса ETW в режиме реального времени, используйте функции трассировки Data Helper (TDH) в ETW для использования событий. Для чтения метаданных события также можно использовать TDH. Дополнительные сведения см. в разделе [Использование событий](/windows/desktop/ETW/consuming-events). Для использования событий из канала событий или файла журнала событий используйте функции журнала событий Windows для запроса событий или подписки на них. Дополнительные сведения см. в разделе [запросы событий](/windows/desktop/WES/querying-for-events) или [Подписка на события](/windows/desktop/WES/subscribing-to-events).

До Windows Vista для публикации и использования событий необходимо использовать [трассировку событий Windows](/windows/desktop/ETW/event-tracing-portal) или [ведения журнала событий](/windows/desktop/EventLog/event-logging) .

 

 