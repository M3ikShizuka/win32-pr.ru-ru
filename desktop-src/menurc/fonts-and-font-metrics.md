---
title: Шрифты и текстовые метрики
description: В этом разделе обсуждаются контурные шрифты, предоставляемые Windows, значения метрик шрифтов, которые могут меняться между версиями Windows, и рекомендации по использованию метрик шрифтов в классических приложениях.
ms.assetid: B195154D-0168-4C5E-9CFB-AE7EF63D5F42
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: da27d4eb5f34f5a88e4a0e3e866f9a14784c3895
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/19/2020
ms.locfileid: "103987500"
---
# <a name="fonts-and-text-metrics"></a>Шрифты и текстовые метрики

В этом разделе обсуждаются контурные шрифты, предоставляемые Windows, значения метрик шрифтов, которые могут меняться между версиями Windows, и рекомендации по использованию метрик шрифтов в классических приложениях.

-   Сведения, относящиеся к метрикам шрифтов в DirectWrite, см. в разделе [метрики текста](/windows/desktop/DirectWrite/text-metrics).
-   Дополнительные сведения об управлении текстом в приложениях с помощью GDI см. в разделах, посвященных [шрифтам и тексту](/windows/desktop/gdi/fonts-and-text).

Более подробные сведения об использовании шрифтов и спецификации типов см. на [веб-сайте Microsoft](https://www.microsoft.com/typography/default.mspx).

## <a name="available-fonts"></a>Доступные шрифты

Контурные шрифты, поставляемые с Windows, доставляются как шрифты OpenType с контурами TrueType (Windows также поддерживает шрифты OpenType в формате CFF). Список всех шрифтов, предоставляемых Windows, см. [в статье типография: шрифты по продуктам или семействам](https://www.microsoft.com/typography/fonts/default.aspx). Все шрифты в структуре Windows соответствуют последней версии [спецификации OpenType](https://www.microsoft.com/typography/otspec/).

Список всех текущих и устаревших шрифтов пользовательского интерфейса см. ниже в разделе [Заблокированные метрики шрифтов](#locked-font-metrics) .

## <a name="font-modifications"></a>Изменения шрифтов

Для обеспечения обратной совместимости шрифты редко удаляются из Windows. Однако шрифты часто изменяются. К изменениям могут относиться Добавление символов, перерисовка существующих символов, изменение подсказок, добавление или изменение поддержки расширенных функций OpenType и сложного формирования скриптов.

### <a name="locked-font-metrics"></a>Метрики заблокированных шрифтов

Обратите внимание, что некоторые значения, связанные с шрифтами пользовательского интерфейса и шрифты по умолчанию, используемые в приложениях Майкрософт, заблокированы. Шрифты пользовательского интерфейса используются для отрисовки элементов пользовательского интерфейса, таких как заголовки, диалоговые окна и меню. В эти шрифты внесено очень мало изменений, с учетом их высокой видимости и частого использования. Однако, поскольку сообщаемые значения, связанные с этими шрифтами, заблокированы, могут возникнуть расхождения между сообщаемыми и фактическими значениями шрифта.

Приведенные ниже сообщаемые значения заблокированы для пользовательского интерфейса и шрифтов по умолчанию и могут быть неточными.

-   Эти значения из [таблицы ОС/2](https://www.microsoft.com/typography/otspec/os2.htm)шрифта:
    -   ксавгчарвидс
    -   стиполинегап
    -   стипоасцендер
    -   стиподесцендер
    -   усвинасцент
    -   усвиндесцент
-   Значение [унитсперем](https://www.microsoft.com/typography/otspec/head.htm) , заданное в заголовке шрифта
-   Значения из [таблицы метрик устройства "вертикально" (вдмкс)](https://www.microsoft.com/typography/otspec/vdmx.htm)
-   Предварительные ширины отдельных глифов

Ниже приведен список шрифтов пользовательского интерфейса, поставляемых с Windows 8.1 (затронутых заблокированными значениями).

| Имя сценария                   | Шрифт пользовательского интерфейса               |
|-------------------------------|-----------------------|
| Арабский                        | Segoe UI              |
| Армянский                      | Segoe UI              |
| Бенгальский (ранее Бенгальская)     | Nirmala UI            |
| Бопомофо                      | Microsoft JhengHei UI |
| Брайля                       | Segoe UI Symbol       |
| Бугийский                      | Leelawadee UI         |
| Канадский слоговое письмо слогового письма | Gadugi                |
| Чероки                      | Gadugi                |
| Коптский                        | Segoe UI Symbol       |
| Китайский (упрощенное письмо)          | Microsoft YaHei UI    |
| Китайский (традиционное письмо)         | Microsoft JhengHei UI |
| Кириллица                      | Segoe UI              |
| Девангари                    | Nirmala UI            |
| Дезерет                       | Segoe UI Symbol       |
| Эфиопского                      | Ebrima                |
| Грузинский                      | Segoe UI              |
| глаголитик                    | Segoe UI Symbol       |
| Arial                        | Segoe UI Symbol       |
| Греческий                         | Segoe UI              |
| Гуджарати                      | Nirmala UI            |
| Гурмукхи                      | Nirmala UI            |
| Иврит                        | Segoe UI              |
| Старый курсив                    | Segoe UI Symbol       |
| Яванская письменность                      | Текст на яванский         |
| Японский                      | Пользовательский интерфейс меирйо             |
| Каннада                       | Пользовательский интерфейс мирмала            |
| Кхмерский                         | Leelawadee UI         |
| Корейский                        | Malgun Gothic         |
| Лаосский                           | Leelawadee UI         |
| Латиница                         | Segoe UI              |
| Малаялам                     | Nirmala UI            |
| Монгольский                     | Mongolian Baiti       |
| Мьянма                       | Myanmar Text          |
| н'ко                          | Ebrima                |
| Блок                         | Segoe UI Symbol       |
| Письменность ол-чики                      | Nirmala UI            |
| Старая локали Turkic                    | Segoe UI Symbol       |
| Ория (прежнее название — Ория)         | Nirmala UI            |
| османя                       | Ebrima                |
| Блок-PA                      | Microsoft PhagsPa     |
| руник                         | Segoe UI Symbol       |
| Сора Сомпенг                  | Nirmala UI            |
| Сингальский                       | Nirmala UI            |
| Сирийский                        | Естранжело Едесса     |
| Тай Le                        | Microsoft Tai Le      |
| Новая письменность тай-лю                   | Microsoft New Tai Lue |
| Тамильский                         | Nirmala UI            |
| Телугу                        | Nirmala UI            |
| Тифинаг                      | Ebrima                |
| мальдивский                        | MV Boli               |
| Тайский                          | Leelawadee UI         |
| Тибетский                       | Microsoft Himalaya    |
| Ваи                           | Ebrima                |
| Носу                            | Microsoft Yi Baiti    |



 

Ниже приведен список устаревших шрифтов пользовательского интерфейса, которые также зависят от заблокированных значений:

| Имя сценария (прежние версии)          | Шрифт пользовательского интерфейса (устаревший)               |
|-------------------------------|--------------------------------|
| Бенгальский (ранее Бенгальская)     | Vrinda                         |
| Канадский слоговое письмо слогового письма | еуфемиа                       |
| Чероки                      | плантаженет                    |
| Китайский (упрощенное письмо)          | Microsoft Яхеи и SimSun     |
| Китайский (традиционное письмо)         | MingLiU и Microsoft Жхенгхеи |
| Девангари                    | Mangal                         |
| Европейские языки            | Tahoma                         |
| Гуджарати                      | шрути                         |
| Гурмукхи                      | раави                          |
| Японский                      | Меирйо и пользовательский интерфейс MS Gothic        |
| Каннада                       | тунга                          |
| Кхмерский                         | Кхмерский                          |
| Корейский                        | Gulim                          |
| Лаосский                           | Пользовательский интерфейс лаосского пользователя                         |
| Малаялам                     | Kartika                        |
| Средние Восточной языка      | Tahoma                         |
| Ория (прежнее название — Ория)         | калинга                        |
| Сингальский                     | Искула пота                   |
| Тамильский                         | Ласа и Вижайа               |
| Телугу                        | Gautami                        |
| Тайский                          | Лилавади и Tahoma          |



 

Эти шрифты используются по умолчанию в приложениях Майкрософт и зависят от заблокированных значений:

-   Arial
-   Calibri
-   Cambria
-   Consolas
-   Courier New
-   MS Минчо
-   Times New Roman
-   Verdana

### <a name="dynamic-font-metrics"></a>Метрики динамического шрифта

В отличие от заблокированных ранее метрик, значения шрифтов будут точно отображаться. При изменении шрифта в новой версии Windows значения динамических шрифтов будут отличаться между новыми и старыми. Например, при добавлении глифа к шрифту значения в заголовке шрифта могут измениться. Обрезка может быть вызвана тем, что эти значения (включая xMin, xMax, yMin и yMax и сообщающие о минимальном и максимально ограничивающем прямоугольнике для глифов в шрифте) были заблокированы и не сообщают о истинных значениях.

> [!IMPORTANT]
> Если в приложении используются динамические значения шрифтов (например, в [**текстметрик**](/windows/win32/api/wingdi/ns-wingdi-textmetrica)), эти значения изменятся, если шрифты будут изменены в будущих версиях Windows. Не используйте эти фактические значения в ситуациях, когда текст должен оставаться статическим.

 

## <a name="guidelines-for-using-font-metrics"></a>Рекомендации по использованию метрик шрифтов

-   Метрики экранных вычислений и метрики шрифтов (например, средняя ширина) при запуске приложения и использование этих значений для размещения приложения. Это обеспечит единообразную отрисовку, и макет будет реагировать на изменения в шрифтах или на откат шрифта. Общие сведения о возврате шрифта и связывании шрифтов см. в разделе [глобализация шага по шагам: шрифты](https://msdn.microsoft.com/goglobal/bb688134.aspx). См. раздел [Использование отката шрифтов](/windows/desktop/Intl/using-font-fallback) для сведений, относящихся к Uniscribe.
    -   Чтобы вычислить базовую метрику, отрисовывает репрезентативный текст для предполагаемого языка или сценария.
    -   Для элементов управления, содержащих только одну строку неупакованного текста, разметьте их в соответствии с полной шириной необрезанного текста.
    -   Для элементов управления с несколькими строками можно получить общую длину, разделить на длину символов и иметь сплошную ширину для работы. Обратите внимание, что это сложнее для сложных сценариев, в которых один символ «читатель» может быть несколько кодовых точек.
-   Для вычисления вертикальных пробелов используйте Стипоасцендер, Стиподесцендер и Унитсперем (из [таблицы OS/2](https://www.microsoft.com/typography/otspec/os2.htm)). Стипоасцендер используется для определения оптимального смещения от верхней границы текстового фрейма до первого базового плана, а Стиподесцендер определяет оптимальное смещение от низа текстового фрейма до последнего базового плана.
-   Если вы используете DirectWrite, создайте макет с помощью [**идвритетекстлайаут**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextlayout). **Идвритетекстлайаут** предоставляет более чем более **Ascend**  +    +  **линегап** в естественном макете. Вы можете получить доступ к этим конкретным значениям с помощью [**\_ \_ метрик шрифта дврите**](/windows/desktop/api/dwrite/ns-dwrite-dwrite_font_metrics). Сведения об этом интерфейсе см. в разделе [Форматирование и макет текста](/windows/desktop/DirectWrite/text-formatting-and-layout).
-   Если вы используете GDI, выводите экран с экрана, затем проверяете макет (например, длину строки или символы в строке) и перечислите окончательные параметры макета, используемые в фактической отрисовке.
-   Не создавайте макеты статически на основе определенных значений для конкретных версий шрифтов. Фактические значения могут изменяться от выпуска к выпуску.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

**Reference**
</dt> <dt>

[**идвритетекстлайаут**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextlayout)
</dt> <dt>

[**\_ \_ метрики шрифта дврите**](/windows/desktop/api/dwrite/ns-dwrite-dwrite_font_metrics)
</dt> <dt>

[**текстметрик**](/windows/win32/api/wingdi/ns-wingdi-textmetrica)
</dt> <dt>

[унитсперем](https://www.microsoft.com/typography/otspec/head.htm)
</dt> <dt>

[Таблица OS/2](https://www.microsoft.com/typography/otspec/os2.htm)
</dt> <dt>

[Таблица метрик устройства по вертикали (ВДМКС)](https://www.microsoft.com/typography/otspec/vdmx.htm)
</dt> <dt>

[Типография Майкрософт: шрифты по продуктам или семействам](https://www.microsoft.com/typography/fonts/default.aspx)
</dt> <dt>

**Зрения**
</dt> <dt>

[Метрики текста (DirectWrite)](/windows/desktop/DirectWrite/text-metrics)
</dt> <dt>

[Шрифты и текст (GDI)](/windows/desktop/gdi/fonts-and-text)
</dt> <dt>

[Шрифтовое оформление Майкрософт](https://www.microsoft.com/typography/default.mspx)
</dt> </dl>

 

 