---
description: Функции Direct3D 10,1
ms.assetid: e60c6116-e2f9-46b7-aed8-13e3e5ae2b90
title: Функции Direct3D 10,1
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 99935941f60a984407c688e4ae67f0a125b0130d
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105701199"
---
# <a name="direct3d-101-features"></a>Функции Direct3D 10,1

В Direct3D 10,1 расширен набор функций Direct3D 10,0 со следующими новыми функциями:

-   Режимы смешения — независимые режимы наложения для каждого целевого объекта рендеринга с использованием нового интерфейса состояния Blend (см. [**интерфейс ID3D10BlendState1**](/windows/desktop/api/D3D10_1/nn-d3d10_1-id3d10blendstate1)). Операции смешения с двумя источниками ограничены для отрисовки целевого слота 0; Вы не можете выполнять запись в другие выходные данные или объекты отрисовки, привязанные к слотам, отличным от слота 0.
-   Поведение при отборе — лица с нулевой областью автоматически исключаются; Это влияет только на каркасную визуализацию.
-   Правила с плавающей запятой. использует те же правила IEEE-754 для операций с плавающей запятой, за ИСКЛЮЧЕНИЕм 32-разрядных операции с плавающей запятой, что привело к получению результата в 0,5 (0,5 ULP) для бесконечного точного результата. Это касается сложения, вычитания и умножения. (точность 0,5 ULP для умножения, 1,0 ULP для взаимного).
-   Форматы. точность смешения float16 увеличилась до 0,5 ULP. Для форматов UNORM16/SNORM16/SNORM8 также требуется смешение.
-   Многовыборочное сглаживание — множественная выборка была улучшена, чтобы обобщить прозрачность на основе покрытия и сделать многовыборочную работу более эффективной с помощью многопроходной отрисовки. Чтобы добиться этого, все Многовыборочные семантики определяются так, как если бы шейдер пикселей всегда выполнялся один раз для каждого образца (выборка), вычисляя отдельный цвет для каждой выборки. Если построитель текстуры не использует атрибуты для каждого образца, он вычислит одно и то же значение для каждого охваченного примера в пикселе. В этом случае он эквивалентен оборудованию, который выполняет шейдер один раз на пиксель (пиксельная частота), и реплицирует результат во все охваченные образцы. Естественно, выполнение с попиксельной частотой всегда дает те же результаты, что и при выполнении одного шейдера с частотой выборки, когда атрибуты вычисляются с помощью пиксельной частоты. Статистика конвейера Псинвокатионс увеличивается на частоте выборки, если только шейдер не работает с пиксельной частотой.
-   Пропускная способность этапа конвейера — увеличен объем данных, которые могут передаваться между стадиями шейдера: 

    | Ресурс                        | Ограничения                    |
    |---------------------------------|---------------------------|
    | Регистры между этапами шейдера | 32 (32-бит x 4 — компонент) |
    | Входные регистры шейдера вершин   | 32                        |
    | Входные гнезда входного ассемблера     | 32                        |

    

     

-   Правила растрирования — правила растрирования, которые были изменены для строк, Кроме того, добавлены новые функциональные возможности.
    -   Мултисамплинабле влияет только на растрирование строк (точки и треугольники не затрагиваются) и используется для выбора алгоритма рисования линий. Это означает, что некоторые Многовыборочные растровые изображения из Direct3D 10 больше не поддерживаются.
    -   Новая частота выполнения построителя текстуры с помощью растрирования примитивов.
-   Resources-Копиресаурце включается в двух новых сценариях:
    -   Теперь в качестве источника или назначения можно использовать поверхности MSAA и цвета и глубины/трафаретов.
    -   Преобразование формата при копировании между определенными предварительно структурированными, типизированными ресурсами 32/64/128 и сжатыми представлениями одинаковой битовой длины.
-   Выборка текстур — образцы \_ c и образцы \_ c \_ LZ для работы с Texture2DArrays и текстурекубеаррайс. Используйте элемент Location (компонент Alpha), чтобы указать индекс массива.
-   Представления — Текстурекубе и New Текстурекубеаррай (см. [**D3D10 \_ текскубе \_ array \_ SRV1**](/windows/desktop/api/d3d10_1/ns-d3d10_1-d3d10_texcube_array_srv1)) не являются реальными ресурсами, но являются новыми представлениями в ресурсе Texture2DArray. Создайте представление ресурсов из ресурса Texture2DArray с новым флагом использования (D3D10 \_ Resource \_ \_ текстурекубе), используя новый интерфейс [**ID3D10ShaderResourceView1**](/windows/desktop/api/d3d10_1/nn-d3d10_1-id3d10shaderresourceview1) , чтобы привязать представление текстур Куба к конвейеру.

Для новых функций требуется тип устройства 10,1 (см. [**интерфейс ID3D10Device1**](/windows/desktop/api/D3D10_1/nn-d3d10_1-id3d10device1)), который можно создать с помощью вызова [**D3D10CreateDevice1**](/windows/desktop/api/D3D10_1/nf-d3d10_1-d3d10createdevice1), или можно одновременно создать устройство и цепочку перекачки, вызвав [**D3D10CreateDeviceAndSwapChain1**](/windows/desktop/api/D3D10_1/nf-d3d10_1-d3d10createdeviceandswapchain1).

В Windows Vista с пакетом обновления 1 (SP1) библиотеки Direct3D 10,0 и Direct3D 10,1 параллельно существуют в системе. Для доступа к функциям 10,1 выполните одно из следующих действий.

## <a name="accessing-101-features-on-vista-gold-and-vista-service-pack-1"></a>Доступ к функциям 10,1 в Vista Gold и Vista с пакетом обновления 1 (SP1)

Разработчики, которым требуется поддержка Vista Gold и с пакетом обновления 1 (SP1), должны учитывать отсутствие новых расширений API 10,1 в Vista Gold. Как ДКСУТ, так и D3DX10 будут предоставлять удобные функции для создания соответствующего устройства на основе библиотек DLL, доступных в системе, и доступного оборудования (10,0 или 10,1). Устройство 10,1 наследуется от устройства 10,0 и может быть получено с помощью QueryInterface (). Рекомендуется, чтобы каждое приложение поддерживало отслеживание типа устройства и поддерживало указатель на устройство 10,1 (если доступно), чтобы избежать частых вызовов QueryInterface при необходимости в 10,1. Точно так же, где 10,1 представления ресурсов и объекты состояния связаны с пользовательским классом приложения, рекомендуется, чтобы приложение затронуло, является ли объект типом 10,0 или 10,1, чтобы избежать избыточных вызовов QueryInterface (). D3DX10 включает набор служебных функций для упрощения этого процесса (см. раздел [**D3DX10CreateDevice**](d3dx10createdevice.md) and [**D3DX10CreateDeviceAndSwapChain**](d3dx10createdeviceandswapchain.md)).

## <a name="accessing-101-features-on-vista-service-pack-1-exclusively"></a>Эксклюзивный доступ к функциям 10,1 в ОС Vista с пакетом обновления 1

Некоторым разработчикам может потребоваться пакет обновления 1 (SP1) для Windows Vista, который будет широко распространяться для конечных пользователей и включает ряд усовершенствований за пределами Direct3D 10,1. Эти разработчики могут использовать только заголовки и библиотеки Direct3D 10,1, принимая зависимость от DLL-библиотек Direct3D 10,1, поддерживающих как 10,0, так и 10,1 (некоторые вызовы могут завершиться неудачно на устройствах с 10,0, где новые функции не поддерживаются).

Некоторые дополнительные примечания:

-   API-интерфейсы, предоставляемые в D3DX10.dll, будут принимать устройства 10,0 и 10,1, а также будут использовать преимущества функции 10,1, если она доступна.
-   D3D10SDKLayers.dll поддерживает устройство 10,1 и может выводить соответствующие функции отладки спев для 10,1.
-   D3D10Ref.dll реализует программное устройство 10,0 и 10,1.
-   D3DX10 и FXC поддерживают обновленную модель шейдера 10,1 со следующими целевыми объектами: VS \_ 4 \_ 1, GS \_ 4 \_ 1, PS \_ 4 \_ 1 и FX \_ 4 \_ 1, которые можно привязать к устройству 10,1. Устройство 10,1 поддерживает шейдеры Shader Model 4,0 и 4,1.
-   Платформа Direct3D 10,0 Effects поддерживает устройства 10,0 и 10,1, однако любой прием, включающий в себя модель шейдеров 4,1 шейдеры или новые компоненты 10,1, должен использовать устройство с кодом 10,1.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Рекомендации по программированию для Direct3D 10](d3d10-graphics-programming-guide.md)
</dt> </dl>

 

 



