---
description: Настройка выходных данных отладки с помощью ID3D10InfoQueue (Direct3D 10)
ms.assetid: 082c7783-c53a-4b73-b8f2-3f60e2c2689a
title: Настройка выходных данных отладки с помощью ID3D10InfoQueue (Direct3D 10)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 843ac7dd34b19cfe1fc7835a2026ae2dd28b9dcd
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104072482"
---
# <a name="customize-debug-output-with-id3d10infoqueue-direct3d-10"></a>Настройка выходных данных отладки с помощью ID3D10InfoQueue (Direct3D 10)

Информационная очередь управляется интерфейсом (см. [**интерфейс ID3D10InfoQueue**](/windows/desktop/api/D3D10SDKLayers/nn-d3d10sdklayers-id3d10infoqueue)), который хранит, извлекает и фильтрует сообщения отладки. Очередь состоит из: очереди сообщений, дополнительного стека фильтра хранилища и дополнительного стека фильтров получения. Стек фильтра хранения можно использовать для фильтрации сообщений, которые нужно сохранить. стек получения и фильтрации можно использовать для фильтрации сообщений, которые нужно сохранить. После фильтрации сообщения сообщение будет напечатано в окне отладки и сохранено в соответствующем стеке.

а именно:

-   Вызов [**ID3D10InfoQueue:: аддаппликатионмессаже**](/windows/desktop/api/D3D10SDKLayers/nf-d3d10sdklayers-id3d10infoqueue-addapplicationmessage) для создания определяемых пользователем сообщений
-   Вызов [**ID3D10InfoQueue::**](/windows/desktop/api/D3D10SDKLayers/nf-d3d10sdklayers-id3d10infoqueue-getmessage) an используется для получения сообщений (которые передают необязательный фильтр извлечения).

## <a name="registry-controls"></a>Элементы управления реестра

Используйте разделы реестра для настройки параметров фильтра, настройки точек останова и отключения вывода отладочных данных. Отладочный слой проверит эти пути в разделах реестра. будет использован первый найденный путь.

1.  HKCU \\ Software \\ Microsoft \\ Direct3D \\<определяемый пользователем подраздел>
2.  HKLM \\ Software \\ Microsoft \\ Direct3D \\<определяемый пользователем подраздел>
3.  HKCU \\ Software \\ Microsoft \\ Direct3D

Где:

-   Подставка HKCU для \_ текущего \_ пользователя hKey и раздел реестра HKLM для \_ локального \_ компьютера hKey.
-   <определяемого пользователем подраздела> является произвольным именем для хранения параметров отладки для приложения.

### <a name="filtering-debug-messages-using-registry-keys"></a>Фильтрация отладочных сообщений с помощью разделов реестра

Если реестр содержит ключ Инфокуеуесторажефилтероверриде (и не равен нулю), то сообщения (и выходные данные отладки) могут быть отфильтрованы путем добавления следующих элементов управления реестром.

-   Параметр DWORD \_ выкл \_ \* ., если этот ключ не равен нулю.
-   Параметр DWORD \_ без звука \_ \* — отладочный вывод отключен, если этот ключ не равен нулю.
-   Параметр DWORD \_ \_ \* без звука — имя или номер сообщения можно использовать для \* (точно так же, как для \_ идентификатора бреакон \_ \* , описанного выше). Если этот ключ не равен нулю, выходные данные отладки отключаются.
-   DWORD без звука \_ \_ сведения об уровне серьезности — выходные данные отладки включаются, если этот ключ не равен нулю. По умолчанию при включении Инфокуеуесторажефилтероверриде сообщения отладки со сведениями о серьезности отключаются, поэтому для этого параметра можно снова включить данные.

Эти элементы управления изменяют, будет ли сообщение записано или отображено. они не влияют на то, проходит ли API успешно или нет.

### <a name="setting-break-conditions-using-registry-keys"></a>Настройка условий останова с помощью разделов реестра

Приложения могут принудительно прерывать работу на сообщении, используя следующие разделы реестра.

**Енаблебреаконмессаже** — этот ключ позволяет прерывать работу на сообщениях (и вызывает игнорирование параметров сетбреаконкатегори ()/сетбреаконсеверити ()/сетбреаконид (). Фактические сообщения, подходящие для прерывания, определяются с помощью одного или нескольких значений Бреакон, \_ \* определенных ниже.

-   **Бреакон \_ \_Категория \** _ — прервать на любом сообщении, проходящем через фильтры хранилища. \_ одно из \_ сообщений категории сообщений D3D10 \_ .
-   **Бреакон \_ \_ \* Серьезность* _ — прерывание любого сообщения, переданного через фильтры хранилища. \_ одно из \_ \_ сообщений серьезности сообщения D3D10 \_ .
-   **Бреакон \_ \_Идентификатор \** _ — прервать на любом сообщении, проходящем через фильтры хранилища. \_ одно из \_ \_ сообщений с идентификатором сообщения D3D10 \_ или может быть числовым значением перечисления ошибок. Например, предположим, что сообщение с ИДЕНТИФИКАТОРом "D3D10 сообщения с идентификатором \_ \_ \_ гипотетически" имеет значение 123 в \_ \_ перечислении идентификаторов сообщений D3D10. В этом случае создание значения Бреакон с \_ идентификатором \_ гипотетические = 1 или \_ бреакон \_ с идентификатором 123 = 1 приведет к тому же прерыванию, когда \_ будет обнаружено сообщение с идентификатором D3D10 с идентификатором " \_ \_ гипотетический".

### <a name="muting-debug-output-using-registry-keys"></a>Вывод отладки с отключением звука с помощью разделов реестра

Выходные данные отладки можно отключить с помощью ключа Мутедебугаутпут. Наличие этого значения в реестре приводит к переопределению метода [**ID3D10InfoQueue:: Сетмутедебугаутпут**](/windows/desktop/api/D3D10SDKLayers/nf-d3d10sdklayers-id3d10infoqueue-setmutedebugoutput) инфокуеуе. Мутедебугаутпут останавливает передачу сообщений, передаваемых фильтру хранилища, в выходные данные отладки.

## <a name="disabling-debug-layer-messages"></a>Отключение сообщений уровня отладки

Сообщения уровня отладки можно отключить отдельно или как группу во время выполнения, указав фильтры с помощью [**ID3D10InfoQueue:: аддсторажефилтерентриес**](/windows/desktop/api/D3D10SDKLayers/nf-d3d10sdklayers-id3d10infoqueue-addstoragefilterentries). Аргумент *пфилтер* для **ID3D10InfoQueue:: аддсторажефилтерентриес** принимает структуру [**\_ \_ \_ фильтра очереди D3D10 info**](/windows/desktop/api/d3d10sdklayers/ns-d3d10sdklayers-d3d10_info_queue_filter) , содержащую список разрешений и список запретов. Списки разрешений и запретов описываются структурами [**D3D10 \_ info \_ \_ \_**](/windows/desktop/api/d3d10sdklayers/ns-d3d10sdklayers-d3d10_info_queue_filter_desc) , которые позволяют задавать фильтрацию с помощью категории, серьезности и идентификатора отдельного сообщения.

В следующем коде приведен пример настройки [**интерфейса ID3D10InfoQueue**](/windows/desktop/api/D3D10SDKLayers/nn-d3d10sdklayers-id3d10infoqueue) для запрета сообщения D3D10 с \_ \_ идентификатором устройства, \_ что \_ \_ \_ буфер \_ слишком \_ мал.


```
  //retrieve the ID3D10InfoQueue from a Direct3D device created with the D3D10_CREATE_DEVICE_DEBUG flag
  ID3D10InfoQueue * pInfoQueue;
    g_pd3dDevice->QueryInterface( __uuidof(ID3D10InfoQueue),  (void **)&pInfoQueue );
    
  //set up the list of messages to filter
    D3D10_MESSAGE_ID messageIDs [] = { D3D10_MESSAGE_ID_DEVICE_DRAW_INDEX_BUFFER_TOO_SMALL };
    
  //set the DenyList to use the list of messages
    D3D10_INFO_QUEUE_FILTER filter = { 0 };
    filter.DenyList.NumIDs = 1;
    filter.DenyList.pIDList = messageIDs;
    
  //apply the filter to the info queue
    pInfoQueue->AddStorageFilterEntries( &filter );  
```



## <a name="related-topics"></a>См. также

<dl> <dt>

[Уровни API](d3d10-graphics-programming-guide-api-features-layers.md)
</dt> <dt>

[Функции API (Direct3D 10)](d3d10-graphics-programming-guide-api-features.md)
</dt> </dl>

 

 



