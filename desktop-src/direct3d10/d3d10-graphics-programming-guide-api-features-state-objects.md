---
description: В Direct3D 10 состояние устройства сгруппировано в объекты состояния, что значительно сокращает затраты на изменение состояния.
ms.assetid: b2839da9-60ed-4f6c-9cc7-eac53647cca7
title: Объекты состояния (Direct3D 10)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5a06e8603361a83049440774cfd2e12b4148b183
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "105701165"
---
# <a name="state-objects-direct3d-10"></a>Объекты состояния (Direct3D 10)

В Direct3D 10 состояние устройства сгруппировано в объекты состояния, что значительно сокращает затраты на изменение состояния. Есть несколько объектов состояния и каждый из них разработан для инициализации набора состояний определенной стадии конвейера. Можно создать до 4096 каждого типа объекта состояния.

-   [Входное состояние макета](#input-layout-state)
-   [Состояние средства программной прорисовки](#rasterizer-state)
-   [Состояние шаблона глубины](#depth-stencil-state)
-   [Состояние смешения](#blend-state)
-   [Состояние образца](#sampler-state)
-   [Вопросы производительности](#performance-considerations)
-   [См. также](#related-topics)

## <a name="input-layout-state"></a>Состояние макета входных данных

Эта группа состояний (см. [**D3D10 \_ input \_ element \_ DESC**](/windows/desktop/api/D3D10/ns-d3d10-d3d10_input_element_desc)) определяет, как на [этапе ввода ассемблера](../direct3d11/d3d10-graphics-programming-guide-input-assembler-stage.md) происходит считывание данных из входных буферов и их сборка для использования шейдером вершин. Сюда входит такое состояние, как число элементов в буфера ввода и подпись входных данных. Этап входного ассемблера — это новый этап в конвейере, задачей которого является потоковая передача примитивов из памяти в конвейер.

Сведения о создании объекта состояния макета ввода см. в разделе [**креатеинпутлайаут**](/windows/desktop/api/D3D10/nf-d3d10-id3d10device-createinputlayout).

## <a name="rasterizer-state"></a>Состояние средства прорисовки

Эта группа состояний (см. [**D3D10 средство \_ растеризацииа \_ DESC**](/windows/desktop/api/D3D10/ns-d3d10-d3d10_rasterizer_desc)) инициализирует [этап средства прорисовки](../direct3d11/d3d10-graphics-programming-guide-rasterizer-stage.md). Этот объект содержит такие состояния, как режимы заливки и отбрасывания, включение прямоугольника обрезки и установка параметров множественной дискретизации. На этой стадии примитивы преобразуются в пиксели с помощью таких операций, как вырезание и сопоставление примитивов с окном просмотра.

Сведения о создании объекта состояния средства растеризации см. в разделе [**креатерастеризерстате**](/windows/desktop/api/D3D10/nf-d3d10-id3d10device-createrasterizerstate).

## <a name="depth-stencil-state"></a>Состояние трафарета глубины

Эта группа состояний (см. [**D3D10 \_ Depth \_ трафарет \_ DESC**](/windows/desktop/api/D3D10/ns-d3d10-d3d10_depth_stencil_desc)) инициализирует часть этапа набора элементов глубины на [стадии слияния вывода](../direct3d11/d3d10-graphics-programming-guide-output-merger-stage.md). В частности этот объект инициализирует тесты глубины и трафарета.

Сведения о создании объекта состояния глубины-трафарета см. в разделе [**креатедепсстенЦилстате**](/windows/desktop/api/D3D10/nf-d3d10-id3d10device-createdepthstencilstate).

## <a name="blend-state"></a>Состояние смешения

Эта группа состояний (см. [**D3D10 \_ Blend \_ DESC**](/windows/desktop/api/D3D10/ns-d3d10-d3d10_blend_desc)) инициализирует часть наложения на [стадии слияния вывода](../direct3d11/d3d10-graphics-programming-guide-output-merger-stage.md).

Сведения о создании объекта состояния Blend см. в разделе [**креатеблендстате**](/windows/desktop/api/D3D10/nf-d3d10-id3d10device-createblendstate).

## <a name="sampler-state"></a>Состояние образца

Эта группа состояний (см. [**D3D10 \_ образец \_ DESC**](/windows/desktop/api/D3D10/ns-d3d10-d3d10_sampler_desc)) инициализирует объект образца. Объект дискретизатора используется стадиями шейдера для фильтрации текстур в памяти.



|                                                                                                                                                                                                             |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Различия между Direct3D 9 и Direct3D 10:<br/> В Direct3D 10 объект образца больше не привязан к определенной текстуре — он просто описывает, как выполнять фильтрацию по любому подключенному ресурсу. |



 

Сведения о создании объекта состояния образца см. в разделе [**креатесамплерстате**](/windows/desktop/api/D3D10/nf-d3d10-id3d10device-createsamplerstate).

## <a name="performance-considerations"></a>Вопросы производительности

Разработка API-интерфейса с применением объектов состояния дает несколько преимуществ в плане производительности. К ним относятся проверка состояния во время создания объекта, возможность кэширования объектов состояния на аппаратном уровне, значительно сокращает объем состояния, который передается во время вызова API, задающего состояние (путем передачи дескриптора на объект состояния вместо самого состояния).

Для подобного повышения производительности следует создать объекты состояний при запуске приложения, задолго до цикла отрисовки. Объекты состояния постоянны, то есть их нельзя изменить после создания. Вместо этого необходимо их уничтожать и создать заново. Чтобы справиться с этим ограничением, можно создать до 4096 каждого типа объектов состояния. Например, можно создать несколько объектов выборки с различными сочетаниями состояния выборки. Изменение состояния выборки выполняется с помощью вызова соответствующего API набора, который передает в объект маркер (в отличие от состояния образца). Это значительно сокращает издержки во время формирования каждого кадра на изменение состояния, так как число вызовов и объем данных существенно снижается.

Кроме того вы можете использовать систему эффектов, которая будет автоматически управлять эффективным созданием и уничтожением объектов состояния в вашем приложении.

## <a name="related-topics"></a>См. также

<dl> <dt>

[Функции API (Direct3D 10)](d3d10-graphics-programming-guide-api-features.md)
</dt> </dl>

 

 
