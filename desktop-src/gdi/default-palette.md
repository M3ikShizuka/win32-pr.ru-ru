---
description: Палитра по умолчанию — это массив значений цвета, определяющих цвета, которые можно использовать в контексте устройства по умолчанию.
ms.assetid: 7972d5da-2b73-4cd7-a2ee-fca3a571f611
title: Палитра по умолчанию
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c100eeb144ab4f6483281b33739578642880a91f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "103898437"
---
# <a name="default-palette"></a>Палитра по умолчанию

*Палитра по умолчанию* — это массив значений цвета, определяющих цвета, которые можно использовать в контексте устройства по умолчанию. система связывает палитру по умолчанию с контекстом каждый раз, когда приложение создает контекст для устройства, поддерживающего цветовые палитры. Палитра по умолчанию гарантирует, что цвета будут доступны для использования приложением без каких бы то ни было дальнейших действий.

Стандартная палитра по умолчанию имеет 20 записей (цветов), но точное число записей может отличаться от устройства к устройству. Это число равно значению НУМКОЛОРС, возвращаемому функцией [**жетдевицекапс**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) . Приложение может извлекать цветовые значения для цветов в палитре по умолчанию, перечисляя сплошные перья, тем же методом, который используется для обнаружения цветов, доступных на устройствах, не перечисленных в палитре. Цвета в палитре по умолчанию зависят от устройства. Например, устройства дисплея часто используют 16 стандартных цветов дисплея VGA и 4 других цвета, определенных в Windows. Устройства печати могут использовать другие цвета по умолчанию.

При использовании палитры по умолчанию приложения используют цветовые значения для указания цветов пера и текста. Если запрошенный цвет отсутствует в палитре, система приближена к цвету, используя ближайший цвет в палитре. Если приложение запрашивает сплошной цвет кисти, который отсутствует в палитре, система имитирует цвет, передизеринг с цветами, которые находятся в палитре.

Чтобы избежать приближения и сглаживания, приложения также могут указать цвета пера, кисти и текста с помощью индексов палитры цветов, а не значений цвета. Индекс цветовой палитры — это целочисленное значение, определяющее конкретную запись в палитре. Приложения могут использовать индексы цветовой палитры вместо цветовых значений, но для создания индексов необходимо использовать макрос [**PALETTEINDEX**](/windows/desktop/api/Wingdi/nf-wingdi-paletteindex) .

Индексы цветовой палитры полезны только для устройств, поддерживающих цветовые палитры. Чтобы избежать зависимости от устройства, приложения, использующие один и тот же код для рисования как на палитре, так и на устройствах без палитры, должны использовать цветовые значения, относительные палитры, для указания цветов пера, кисти и текста. Эти значения идентичны цветным значениям, за исключением создания сплошных кистей. (На устройствах палитры сплошной цвет кисти, заданный в цветовой палитре, зависит от приближения цвета вместо сглаживания.) Приложения должны использовать макрос [**палеттергб**](/windows/desktop/api/Wingdi/nf-wingdi-palettergb) для создания цветовых значений, относительных от палитры.

Система не позволяет приложению изменять записи в палитре по умолчанию. Чтобы использовать цвета, отличные от используемых в палитре по умолчанию, приложение должно создать собственную логическую палитру и выбрать палитру в контексте устройства.

 

 



