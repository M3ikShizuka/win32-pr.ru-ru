---
description: Приложение делает недействительным часть окна и задает регион обновления с помощью функции Инвалидатерект или Инвалидатергн.
ms.assetid: ec8abb77-47bc-4198-9daf-f2ccb0864ccc
title: Идет непроверка и проверка региона обновления
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7ba895875f9ec1350b6eb28ccb8f1721df6999ce
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104984949"
---
# <a name="invalidating-and-validating-the-update-region"></a>Идет непроверка и проверка региона обновления

Приложение делает недействительным часть окна и задает регион обновления с помощью функции [**инвалидатерект**](/windows/desktop/api/Winuser/nf-winuser-invalidaterect) или [**инвалидатергн**](/windows/desktop/api/Winuser/nf-winuser-invalidatergn) . Эти функции добавляют указанный прямоугольник или область (в клиентских координатах) в область обновления, объединяя прямоугольник или область с любыми данными, которые система или приложение могли ранее добавить в регион обновления.

Функции [**инвалидатерект**](/windows/desktop/api/Winuser/nf-winuser-invalidaterect) и [**инвалидатергн**](/windows/desktop/api/Winuser/nf-winuser-invalidatergn) не создают сообщения [**WM \_ Paint**](wm-paint.md) . Вместо этого система накапливает изменения, внесенные этими функциями, и их собственные изменения, когда окно обрабатывает другие сообщения в очереди сообщений. При накоплении изменений окно обрабатывает все изменения одновременно, вместо того чтобы обновлять биты и части на один шаг за раз.

Функции [**валидатерект**](/windows/desktop/api/Winuser/nf-winuser-validaterect) и [**валидатергн**](/windows/desktop/api/Winuser/nf-winuser-validatergn) проверяют часть окна путем удаления указанного прямоугольника или области из области обновления. Эти функции обычно используются, когда окно обновляет определенную часть экрана в области обновления перед получением сообщения [**WM \_ Paint**](wm-paint.md) .

 

 



