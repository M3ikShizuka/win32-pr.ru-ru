---
description: Приложение делает недействительным часть окна и задает регион обновления с помощью функции Инвалидатерект или Инвалидатергн.
ms.assetid: ec8abb77-47bc-4198-9daf-f2ccb0864ccc
title: Идет непроверка и проверка региона обновления
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d6813d88674ef0339cfd3501b561e5a7c95fa5b41f0c7f212e625f9846f5beb5
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119944174"
---
# <a name="invalidating-and-validating-the-update-region"></a>Идет непроверка и проверка региона обновления

Приложение делает недействительным часть окна и задает регион обновления с помощью функции [**инвалидатерект**](/windows/desktop/api/Winuser/nf-winuser-invalidaterect) или [**инвалидатергн**](/windows/desktop/api/Winuser/nf-winuser-invalidatergn) . Эти функции добавляют указанный прямоугольник или область (в клиентских координатах) в область обновления, объединяя прямоугольник или область с любыми данными, которые система или приложение могли ранее добавить в регион обновления.

Функции [**инвалидатерект**](/windows/desktop/api/Winuser/nf-winuser-invalidaterect) и [**инвалидатергн**](/windows/desktop/api/Winuser/nf-winuser-invalidatergn) не создают сообщения [**WM \_ Paint**](wm-paint.md) . Вместо этого система накапливает изменения, внесенные этими функциями, и их собственные изменения, когда окно обрабатывает другие сообщения в очереди сообщений. При накоплении изменений окно обрабатывает все изменения одновременно, вместо того чтобы обновлять биты и части на один шаг за раз.

Функции [**валидатерект**](/windows/desktop/api/Winuser/nf-winuser-validaterect) и [**валидатергн**](/windows/desktop/api/Winuser/nf-winuser-validatergn) проверяют часть окна путем удаления указанного прямоугольника или области из области обновления. Эти функции обычно используются, когда окно обновляет определенную часть экрана в области обновления перед получением сообщения [**WM \_ Paint**](wm-paint.md) .

 

 



