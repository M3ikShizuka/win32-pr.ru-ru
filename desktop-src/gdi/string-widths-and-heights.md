---
description: Кроме извлечения данных по ширине символов для отдельных символов, приложениям также необходимо вычислить ширину и высоту целых строк.
ms.assetid: 0c1d9142-258a-447f-8950-8d684645383b
title: Ширина и высота строк
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1d5a9ee485cbc163cc7cbb9dbd296f15db0e9e622f4be6ad8dcb251b583099f8
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119778830"
---
# <a name="string-widths-and-heights"></a>Ширина и высота строк

Кроме извлечения данных по ширине символов для отдельных символов, приложениям также необходимо вычислить ширину и высоту целых строк. Две функции получают измерения ширины строки и высоты: [**GetTextExtentPoint32**](/windows/desktop/api/Wingdi/nf-wingdi-gettextextentpoint32a)и [**жеттаббедтекстекстент**](/windows/desktop/api/Winuser/nf-winuser-gettabbedtextextenta). Если строка не содержит символов табуляции, приложение может использовать функцию **GetTextExtentPoint32** для получения ширины и высоты указанной строки. Если строка содержит символы табуляции, приложение должно вызвать функцию Жеттаббедтекстекстент.

Приложения могут использовать функцию [**жеттекстекстентекспоинт**](/windows/desktop/api/Wingdi/nf-wingdi-gettextextentexpointa) для операций переноса по словам. Эта функция возвращает количество символов из указанной строки, которые соответствуют заданному пробелу.

## <a name="font-ascenders-and-descenders"></a>Шрифт, отличный от верхних и нижних

Некоторые приложения определяют междустрочный интервал между текстовыми строками разного размера с помощью максимального значения по возрастанию и по убыванию шрифта. Приложение может получить эти значения, вызвав функцию [**жеттекстметрикс**](/windows/desktop/api/Wingdi/nf-wingdi-gettextmetrics) , а затем проверив элементы **Тмасцент** и **тмдесцент** [**текстметрик**](/windows/win32/api/wingdi/ns-wingdi-textmetrica).

Максимальные и нижние выносные значения отличаются от типографских расхождение и спуска. В шрифтах TrueType и OpenType типографские расхождение и спуск обычно являются верхней частью глифа f и нижней части глифа g. Приложение может извлечь типографские и нижние колонтитулы для шрифта TrueType или OpenType, вызвав функцию [**жетаутлинетекстметрикс**](/windows/desktop/api/Wingdi/nf-wingdi-getoutlinetextmetricsa) и проверив значения в элементах **отммакасцент** и **отммакдесцент** структуры [**аутлинетекстметрик**](/windows/desktop/api/Wingdi/ns-wingdi-outlinetextmetrica) .

На следующем рисунке показана разница между значениями вертикальной текстовой метрики, возвращаемыми в структурах [**невтекстметрик**](/windows/win32/api/wingdi/ns-wingdi-newtextmetrica) и [**аутлинетекстметрик**](/windows/win32/api/wingdi/ns-wingdi-outlinetextmetrica) . (Имена, начинающиеся с ОТМ, являются членами структуры **аутлинетекстметрик** .)

![Иллюстрация, показывающая, как значения метрик текста отличаются от значений метрик текста структуры](images/csftx-03.png)

## <a name="font-dimensions"></a>Размеры шрифта

Приложение может извлекать физические размеры шрифта TrueType или OpenType, вызывая функцию [**жетаутлинетекстметрикс**](/windows/desktop/api/Wingdi/nf-wingdi-getoutlinetextmetricsa) . Приложение может извлекать физические размеры любого другого шрифта, вызывая функцию [**жеттекстметрикс**](/windows/desktop/api/Wingdi/nf-wingdi-gettextmetrics) . Чтобы определить размеры устройства вывода, приложение может вызвать функцию [**жетдевицекапс**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) . **Жетдевицекапс** возвращает как физические, так и логические измерения.

Логический дюйм — это мера, используемая системой для представления удобочитаемых шрифтов на экране и приблизительно от 30 до 40 процентов, превышающих физический дюйм. Использование логических дюймов исключает точное соответствие между выходными данными экрана и принтера. Разработчики должны иметь в виду, что текст на экране не просто является масштабируемой версией текста, которая будет отображаться на странице, особенно если в тексте встроена графика.

 

 
