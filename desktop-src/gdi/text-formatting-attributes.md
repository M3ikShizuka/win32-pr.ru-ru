---
description: 'Приложение может использовать шесть функций для установки атрибутов форматирования текста для контекста устройства: Сетбкколор, Сетбкмоде, Сеттексталигн, Сеттекстчарактерекстра, Сеттекстколор и Сеттекстжустификатион.'
ms.assetid: fd4d81ee-7f8f-41e8-88a5-d3ed89f4c7bd
title: Атрибуты Text-Formatting
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 58d345bfcfe1693a7ff0b25bb323615dffe221ab
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104571495"
---
# <a name="text-formatting-attributes"></a>Атрибуты Text-Formatting

Приложение может использовать шесть функций для установки атрибутов форматирования текста для контекста устройства: [сетбкколор](/windows/desktop/api/Wingdi/nf-wingdi-setbkcolor), [сетбкмоде](/windows/desktop/api/Wingdi/nf-wingdi-setbkmode), [сеттексталигн](/windows/desktop/api/Wingdi/nf-wingdi-settextalign), [сеттекстчарактерекстра](/windows/desktop/api/Wingdi/nf-wingdi-settextcharacterextra), [сеттекстколор](/windows/desktop/api/Wingdi/nf-wingdi-settextcolor)и [сеттекстжустификатион](/windows/desktop/api/Wingdi/nf-wingdi-settextjustification). Эти функции влияют на выравнивание текста, межзнаковые интервалы, выравнивание текста, а также цвета текста и фона. Кроме того, для получения текущих атрибутов форматирования текста для любого контекста устройства можно использовать шесть других функций: [жетбкколор](/windows/desktop/api/Wingdi/nf-wingdi-getbkcolor), [жетбкмоде](/windows/desktop/api/Wingdi/nf-wingdi-getbkmode), [жеттексталигн](/windows/desktop/api/Wingdi/nf-wingdi-gettextalign), [жеттекстчарактерекстра](/windows/desktop/api/Wingdi/nf-wingdi-gettextcharacterextra), [жеттекстколор](/windows/desktop/api/Wingdi/nf-wingdi-gettextcolor)и [GetTextExtentPoint32](/windows/desktop/api/Wingdi/nf-wingdi-gettextextentpoint32a).

## <a name="text-alignment"></a>Выравнивание текста

Приложения могут использовать функцию [сеттексталигн](/windows/desktop/api/Wingdi/nf-wingdi-settextalign) , чтобы указать, как система должна располагать символы в текстовой строке при вызове одной из функций рисования. Эта функция может использоваться для размещения заголовков, номеров страниц, выносок и т. д. Система размещает строку текста, выровняйте опорную точку на мнимом прямоугольнике, которая окружает строку, с текущей позицией курсора или точкой, передаваемой в качестве аргумента одной из функций рисования текста. Функция [**сеттексталигн**](/windows/win32/api/wingdi/nf-wingdi-settextalign) позволяет приложению указать расположение этой точки ссылки. Ниже приведен список возможных расположений эталонных точек.



| Расположение         | Описание                                                                                                             |
|------------------|-------------------------------------------------------------------------------------------------------------------------|
| слева и снизу      | Контрольная точка расположена в левом нижнем углу прямоугольника.                                               |
| Левая или базовая линия   | Контрольная точка расположена на пересечении базовой строки символьной и левой границ прямоугольника.  |
| слева и сверху         | Контрольная точка расположена в левом верхнем углу прямоугольника.                                                 |
| по центру и по нижнему краю    | Контрольная точка расположена в центре нижней части прямоугольника.                                            |
| центр/базовая линия | Контрольная точка расположена на пересечении базовой строки символьной ячейки и центра прямоугольника.     |
| по центру и по верхнему краю       | Контрольная точка расположена в центре верхней части прямоугольника.                                               |
| справа и снизу     | Контрольная точка находится в правом нижнем углу прямоугольника.                                              |
| правая/базовая линия  | Контрольная точка расположена на пересечении базовой строки символьной и правого края прямоугольника. |
| справа и сверху        | Контрольная точка расположена в правом верхнем углу прямоугольника.                                                |



 

На следующем рисунке показана строка текста, вырисованная путем вызова функции [Text](/windows/desktop/api/Wingdi/nf-wingdi-textouta) . Перед рисованием текста была вызвана функция [сеттексталигн](/windows/desktop/api/Wingdi/nf-wingdi-settextalign) для перемещения опорной точки в каждом из девяти возможных расположений.

![Иллюстрация, показывающая один и тот же текст девять раз, по одному для каждого возможного расположения точки ссылки](images/csftx-04.png)

Выравнивание текста по умолчанию для контекста устройства — это верхний левый угол мнимого прямоугольника, окружающего текст. Приложение может получить текущий параметр выравнивания текста для любого контекста устройства, вызвав функцию [жеттексталигн](/windows/desktop/api/Wingdi/nf-wingdi-gettextalign) .

## <a name="intercharacter-spacing"></a>Межсимволовые интервалы

Приложения могут использовать функцию [сеттекстчарактерекстра](/windows/desktop/api/Wingdi/nf-wingdi-settextcharacterextra) для изменения интервала между символами для всех операций вывода текста в указанном контексте устройства. На следующем рисунке показана строка текста, вырисованная дважды путем вызова функции [Text](/windows/desktop/api/Wingdi/nf-wingdi-textouta) . Перед рисованием текста во второй раз была вызвана функция [**сеттекстчарактерекстра**](/windows/win32/api/wingdi/nf-wingdi-settextcharacterextra) для увеличения интервала между символами.

![Иллюстрация шоинг один и тот же текст дважды: сначала с обычными интервалами между символами, затем с более широкими интервалами](images/csftx-06.png)

Значение интервала между символами по умолчанию для любого контекста устройства равно нулю. Приложение может получить текущее значение межзнакового интервала для контекста устройства, вызвав функцию [жеттекстчарактерекстра](/windows/desktop/api/Wingdi/nf-wingdi-gettextcharacterextra) .

## <a name="text-justification"></a>Обоснование текста

Приложения могут использовать функции [GetTextExtentPoint32](/windows/desktop/api/Wingdi/nf-wingdi-gettextextentpoint32a) и [сеттекстжустификатион](/windows/desktop/api/Wingdi/nf-wingdi-settextjustification) для выравнивания строки текста. Обоснование текста — это обычная операция в любой публикации на рабочем столе и в большинстве приложений для обработки текстов. Функция [**GetTextExtentPoint32**](/windows/win32/api/wingdi/nf-wingdi-gettextextentpoint32a) вычислит ширину и высоту строки текста. После расчета ширины приложение может вызвать функцию [**сеттекстжустификатион**](/windows/win32/api/wingdi/nf-wingdi-settextjustification) для распределения дополнительного интервала между словами в строке текста. На следующем рисунке показан абзац текста, выводимый дважды: в первом абзаце текст не выровнен; во втором абзаце текст был выровнен путем вызова функций **GetTextExtentPoint32** и **сеттекстжустификатион** .

![Иллюстрация, показывающая, что абзац выводится по левому краю, а тот же абзац — по левому и правому краю](images/csftx-05.png)

## <a name="text-and-background-color"></a>Цвет текста и фона

Приложения могут использовать функцию [сеттекстколор](/windows/desktop/api/Wingdi/nf-wingdi-settextcolor) для установки цвета текста, рисуемого в клиентской области окна, а также цвета текста, нарисованного на цветном принтере. Приложение может использовать функцию [сетбкколор](/windows/desktop/api/Wingdi/nf-wingdi-setbkcolor) , чтобы задать цвет, отображаемый позади каждого символа, и функцию [сетбкмоде](/windows/desktop/api/Wingdi/nf-wingdi-setbkmode) , чтобы указать, как система должна смешивать выбранный цвет фона с текущим цветом или цветами на дисплее видео.

Цвет текста по умолчанию для контекста устройства дисплея — черный; цвет фона по умолчанию — белый; и фоновый режим по умолчанию — непрозрачный. Приложение может получить текущий цвет текста для контекста устройства, вызвав функцию [жеттекстколор](/windows/desktop/api/Wingdi/nf-wingdi-gettextcolor) . Приложение может получить текущий цвет фона для контекста устройства, вызвав функцию [жетбкколор](/windows/desktop/api/Wingdi/nf-wingdi-getbkcolor) и текущий фоновый режим, вызвав функцию [жетбкмоде](/windows/desktop/api/Wingdi/nf-wingdi-getbkmode) .

 

 
