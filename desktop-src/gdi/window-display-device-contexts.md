---
description: Контекст устройства Window позволяет приложению рисовать в любом месте окна, включая неклиентскую область.
ms.assetid: 7b3c6352-51d5-4fdf-82c2-7a28194f607f
title: Контексты дисплея окна
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2dfed34646323114ffcfb7753331b1b5c305a7a0c01a475795a7918f6e5a2dd4
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119965094"
---
# <a name="window-display-device-contexts"></a>Контексты дисплея окна

*Контекст устройства Window* позволяет приложению рисовать в любом месте окна, включая неклиентскую область. Контексты устройств окон обычно используются приложениями, которые обрабатывают сообщения [**WM \_ нкпаинт**](wm-ncpaint.md) и [**WM \_ нкактивате**](../winmsg/wm-ncactivate.md) для Windows с пользовательскими неклиентским областями. Использование контекста устройства Window не рекомендуется для других целей.

Приложение может получить контекст устройства окна с помощью функции [**жетвиндовдк**](/windows/desktop/api/Winuser/nf-winuser-getwindowdc) или [**жетдцекс**](/windows/desktop/api/Winuser/nf-winuser-getdcex) с \_ указанным параметром окна дккс. Функция получает контекст устройства окна из кэша контекста устройства вывода. Окно, использующее контекст устройства Window, должно освободить его после рисования, используя функцию [**релеаседк**](/windows/desktop/api/Winuser/nf-winuser-releasedc) как можно скорее. Контексты устройств окон всегда находятся в кэше; \_стили классов CS овндк и CS \_ классдк не влияют на контекст устройства.

Когда приложение получает контекст устройства окна, система устанавливает источник устройства в верхний левый угол окна, а не в верхний левый угол клиентской области. В нем также задается область обрезки, включающая все окно, а не только клиентскую область. Система устанавливает для текущих значений атрибутов контекста устройства окна те же значения по умолчанию, что и общий контекст устройства. Приложение может изменять значения атрибутов, но при освобождении контекста устройства система не сохраняет никаких изменений.

 

 
