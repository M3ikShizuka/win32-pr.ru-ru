---
description: Регион обновления определяет часть окна, которая является неактуальной или недопустимой и нуждается в перерисовки.
ms.assetid: 21228620-9491-4e1b-8658-15e9605951f2
title: Регион обновления
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9e670bac065782a1e09c4d142f964aaea97d4b96
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "104997914"
---
# <a name="the-update-region"></a>Регион обновления

*Регион обновления* определяет часть окна, которая является неактуальной или недопустимой и нуждается в перерисовки. В системе используется регион обновления для создания сообщений [**WM \_ Paint**](wm-paint.md) для приложений и для минимального времени, затрачиваемого на обновление содержимого окон. Система добавляет в область обновления только недопустимую часть окна, что требует прорисовки только этой части.

Когда система определяет, что окно нуждается в обновлении, оно устанавливает в качестве размера области обновления недействительную часть окна. Установка региона обновления не приводит к немедленному выводе приложения. Вместо этого приложение продолжит получать сообщения из очереди сообщений приложения, пока не останется сообщений. Затем система проверяет регион обновления, и если область не пуста (не РАВНа NULL), она отправляет сообщение [**WM \_ Paint**](wm-paint.md) в процедуру окна.

Приложение может использовать регион обновления для создания сообщений [**WM \_ Paint**](wm-paint.md) . Например, приложение, которое загружает данные из открытых файлов, обычно задает область обновления при загрузке, чтобы новые данные рисулись во время обработки следующего сообщения **WM \_ Paint** . В общем случае приложение не должно рисовать во время изменения данных, но направлять все операции рисования с помощью сообщения **WM \_ Paint** .

 

 



