---
description: Система поддерживает кэш отображаемых контекстов устройств, которые используются для общих, родительских и оконных контекстов устройств.
ms.assetid: b017453a-c2c5-4bb1-ae46-f303d5e200ca
title: Отображение кэша контекста устройства
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d96bbf8cb388e31e43a0eacf9200b638fe8a232749dd5e2ef8ab67318b30d9de
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "120062434"
---
# <a name="display-device-context-cache"></a>Отображение кэша контекста устройства

Система поддерживает кэш отображаемых контекстов устройств, которые используются для общих, родительских и оконных контекстов устройств. Система получает контекст устройства из кэша всякий раз, когда приложение вызывает функцию [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc) или [**бегинпаинт**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) . система возвращает контроллер домена в кэш, когда приложение впоследствии вызывает функцию [**релеаседк**](/windows/desktop/api/Winuser/nf-winuser-releasedc) или [**ендпаинт**](/windows/desktop/api/Winuser/nf-winuser-endpaint) .

Не существует заранее определенного ограничения на количество контекстов устройств, которые может хранить кэш. система создает новый контекст устройства просмотра для кэша, если он отсутствует. Учитывая это, приложение может иметь более пяти активных контекстов устройств из кэша за раз. Однако приложение должно продолжать освобождать эти контексты устройств после использования. Так как новые контексты дисплея для кэша выделяются в пространстве кучи приложения, не освобождая контексты устройств в конечном итоге потребляют всю доступную область кучи. Система указывает на этот сбой, возвращая ошибку, если ей не удается выделить место для нового контекста устройства. Другие функции, не связанные с кэшем, также могут возвращать ошибки.

 

 



