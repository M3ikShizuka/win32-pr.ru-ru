---
description: Система поддерживает кэш отображаемых контекстов устройств, которые используются для общих, родительских и оконных контекстов устройств.
ms.assetid: b017453a-c2c5-4bb1-ae46-f303d5e200ca
title: Отображение кэша контекста устройства
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6bd9149d4c4ffed6b25f3eb40d0fd9b1ffca1bd6
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104997410"
---
# <a name="display-device-context-cache"></a>Отображение кэша контекста устройства

Система поддерживает кэш отображаемых контекстов устройств, которые используются для общих, родительских и оконных контекстов устройств. Система получает контекст устройства из кэша всякий раз, когда приложение вызывает функцию [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc) или [**бегинпаинт**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) . система возвращает контроллер домена в кэш, когда приложение впоследствии вызывает функцию [**релеаседк**](/windows/desktop/api/Winuser/nf-winuser-releasedc) или [**ендпаинт**](/windows/desktop/api/Winuser/nf-winuser-endpaint) .

Не существует заранее определенного ограничения на количество контекстов устройств, которые может хранить кэш. система создает новый контекст устройства просмотра для кэша, если он отсутствует. Учитывая это, приложение может иметь более пяти активных контекстов устройств из кэша за раз. Однако приложение должно продолжать освобождать эти контексты устройств после использования. Так как новые контексты дисплея для кэша выделяются в пространстве кучи приложения, не освобождая контексты устройств в конечном итоге потребляют всю доступную область кучи. Система указывает на этот сбой, возвращая ошибку, если ей не удается выделить место для нового контекста устройства. Другие функции, не связанные с кэшем, также могут возвращать ошибки.

 

 



