---
description: 'Линия — это набор выделенных пикселов на растровом дисплее (или набор точек на печатной странице), определяемый двумя точками: Начальная и конечная точки.'
ms.assetid: 538aa3c3-e13a-40dc-b977-3e353a7e9893
title: Линии
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 64cd678f782567e98d32ab7f8786d5b87aab1918
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104263672"
---
# <a name="lines"></a>Линии

Линия — это набор выделенных пикселов на растровом дисплее (или набор точек на печатной странице), определяемый двумя точками: Начальная и конечная точки. Пиксел, расположенный в начальной точке, всегда включается в строку, а пиксел, расположенный в конечной точке, всегда исключается. (Этот тип линии иногда называют инклюзивным).

Когда приложение вызывает одну из функций рисования линий, интерфейс графических устройств (GDI) или в некоторых случаях драйвер устройства, определяет, какие пикселы должны быть выделены. GDI — это библиотека динамической компоновки (DLL), которая обрабатывает вызовы графических функций из приложения и передает эти вызовы драйверу устройства. Драйвер устройства — это библиотека DLL, которая получает входные данные из GDI, преобразует входные данные в команды устройства и передает эти команды соответствующему устройству. GDI использует анализатор цифровых разностных копий (ДДА) для определения набора пикселей, определяющих линию. ДДА определяет набор пикселей, изучая каждую точку в строке и определяя Пиксели на отображаемой поверхности (или на печатной странице), которые соответствуют точкам. На следующем рисунке показана линия, ее начальная точка, конечная точка и Пиксели, выделенные с помощью простого ДДА.

![Иллюстрация, показывающая сетку пикселей, начальную и конечную точки, линию и заливку в пикселях, расположенных вдоль линии](images/cslcv-01.png)

Самым простым и наиболее распространенным ДДА является Бресенхам или добавочный, ДДА. Измененная версия этого алгоритма рисует линии в Windows. Добавочный ДДА отмечается для простоты, но также отмечается как неточность. Поскольку он округляет до ближайшего целого числа, иногда он не может представлять исходную строку, запрашиваемую приложением. ДДА, используемый GDI, не округляется до ближайшего целого числа. В результате этот новый ДДА создает выходные данные, которые иногда намного ближе к первоначальной строке, запрошенной приложением.

> [!Note]  
> Если приложению требуется вывод строки, который не может быть достигнут с помощью нового ДДА, он может нарисовать собственные строки путем вызова функции [**линедда**](/windows/desktop/api/Wingdi/nf-wingdi-linedda) и предоставления закрытого ДДА ([**линеддапрок**](/windows/desktop/api/Wingdi/nc-wingdi-lineddaproc)). Однако функция **линедда** рисует строки намного медленнее, чем функции рисования строк. Не используйте эту функцию в приложении, если скорость является основной задачей.

 

Приложение может использовать новый ДДА для рисования отдельных линий и нескольких соединенных линий. Приложение может нарисовать одну строку, вызвав функцию [**lineTo**](/windows/desktop/api/Wingdi/nf-wingdi-lineto) . Эта функция рисует строку от текущей позиции до, но не включает указанную конечную точку. Приложение может нарисовать ряд соединенных линий, вызывая функцию [**ломаной**](/windows/desktop/api/Wingdi/nf-wingdi-polyline) линии, предоставляя массив точек, задающих конечную точку каждого сегмента линии. Приложение может рисовать несколько несвязных сегментов Соединенных линий путем вызова функции [**ломаной**](/windows/desktop/api/Wingdi/nf-wingdi-polypolyline) линии, предоставляя необходимые конечные точки.

На следующем рисунке показаны выходные данные, созданные при вызове функций [**lineTo**](/windows/desktop/api/Wingdi/nf-wingdi-lineto), [**ломаной**](/windows/desktop/api/Wingdi/nf-wingdi-polyline)и [**ломаной**](/windows/desktop/api/Wingdi/nf-wingdi-polypolyline) линий.

![Иллюстрация, показывающая прямую линию, поле "l" в форме и две фигуры, которые выглядят как трехмерные](images/cslcv-02.png)

 

 



