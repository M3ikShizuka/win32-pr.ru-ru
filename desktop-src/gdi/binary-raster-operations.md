---
description: В этом разделе перечислены коды двоичных растровых операций, используемых функциями GetROP2 и SetROP2. Коды операций растрового изображения определяют, как GDI объединяет биты из выбранного пера с битами в битовой карте назначения.
ms.assetid: 9a3a5b5d-b41f-4859-8830-98272983a635
title: Двоичные растровые операции
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 462c07165d7f377f2a536722bf2f728446c308503108474cbb6a585cee6f68e2
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119105813"
---
# <a name="binary-raster-operations"></a>Двоичные растровые операции

В этом разделе перечислены коды двоичных растровых операций, используемых функциями [**GetROP2**](/windows/desktop/api/Wingdi/nf-wingdi-getrop2) и [**SetROP2**](/windows/desktop/api/Wingdi/nf-wingdi-setrop2) . Коды операций растрового изображения определяют, как GDI объединяет биты из выбранного пера с битами в битовой карте назначения.

Каждый код точечной операции представляет логическую операцию, в которой значения пикселей в выбранном пере и битовой карте назначения объединяются. Ниже приведены два операнда, используемые в этих операциях.



| Операнд | Значение            |
|---------|--------------------|
| С       | Выбранное перо       |
| D       | Точечный рисунок назначения |



 

Далее следуют логические операторы, используемые в этих операциях.



| Оператор | Значение                    |
|----------|----------------------------|
| а        | Побитовое И                |
| n        | Побитовое не (обратная)      |
| o        | Побитовое ИЛИ                 |
| x        | Побитовое исключающее или (XOR) |



 

Все логические операции представлены в виде инвертированной нотации. Например, следующая операция заменяет значения пикселов в целевом точечном рисунке на сочетание значений пикселей пера и выбранной кисти:


```C++
DPo 
```



Каждый код операции с растровой операцией — это 32-разрядное целое число, которое является значением индекса логической операции, а младшее слово — кодом операции. 16-разрядный индекс операции — это 8-разрядное значение, которое представляет все возможные результаты, полученные в результате логической операции с двумя параметрами (в данном случае перо и значения назначения). Например, индексы операции для операций ДПО и Дпан показаны в следующем списке.



| С   | D   | дпо | дпан |
|-----|-----|-----|------|
| 0   | 0   | 0   | 1    |
| 0   | 1   | 1   | 1    |
| 1   | 0   | 1   | 1    |
| 1   | 1   | 1   | 0    |



 

В следующем списке описаны режимы рисования и логические операции, которые они представляют.



| Операция с растровым изображением | Логическая операция |
|------------------|-------------------|
| Черный (R2) \_        | 0                 |
| \_Копипен R2      | С                 |
| \_Маскнотпен R2   | дпна              |
| \_Маскпен R2      | DPa               |
| \_Маскпеннот R2   | пдна              |
| \_Мерженотпен R2  | дпно              |
| \_Мержепен R2     | дпо               |
| \_Мержепеннот R2  | пдно              |
| \_NOP R2          | D                 |
| R2 \_ не          | DN                |
| \_Ноткопипен R2   | PN                |
| \_Нотмаскпен R2   | дпан              |
| \_Нотмержепен R2  | дпон              |
| \_Нотксорпен R2    | дпксн              |
| Белая, R2 \_        | 1                 |
| \_Ксорпен R2       | дпкс               |



 

Для устройства с монохромным интерфейсом GDI сопоставляет нулевое значение черному, а значение от 1 до белого. Если приложение пытается рисовать с помощью черного пера в белом месте назначения с использованием доступных двоичных растровых операций, выполняются следующие результаты.



| Операция с растровым изображением | Результат             |
|------------------|--------------------|
| Черный (R2) \_        | Видимая черная линия |
| \_Копипен R2      | Видимая черная линия |
| \_Маскнотпен R2   | Нет видимой строки    |
| \_Маскпен R2      | Видимая черная линия |
| \_Маскпеннот R2   | Видимая черная линия |
| \_Мерженотпен R2  | Нет видимой строки    |
| \_Мержепен R2     | Видимая черная линия |
| \_Мержепеннот R2  | Видимая черная линия |
| \_NOP R2          | Нет видимой строки    |
| R2 \_ не          | Видимая черная линия |
| \_Ноткопипен R2   | Нет видимой строки    |
| \_Нотмаскпен R2   | Нет видимой строки    |
| \_Нотмержепен R2  | Видимая черная линия |
| \_Нотксорпен R2    | Видимая черная линия |
| Белая, R2 \_        | Нет видимой строки    |
| \_Ксорпен R2       | Нет видимой строки    |



 

Для цветового устройства GDI использует значения RGB для представления цветов пера и места назначения. Значение цвета RGB — это длинное целое число, содержащее красный, зеленый и синий цвет, каждый из которых задает интенсивность заданного цвета. Интенситиес в диапазоне от 0 до 255. Значения упаковываются в три младших байта длинного целого числа. Цвет пера всегда является сплошным цветом, но цвет назначения может быть сочетанием любого из двух или трех цветов. Если приложение пытается рисовать с помощью белого пера на синем месте, используя доступные двоичные растровые операции, выполняются следующие результаты.



| Операция с растровым изображением | Результат                 |
|------------------|------------------------|
| Черный (R2) \_        | Видимая черная линия     |
| \_Копипен R2      | Видимая белая линия     |
| \_Маскнотпен R2   | Видимая черная линия     |
| \_Маскпен R2      | Невидимая синяя линия    |
| \_Маскпеннот R2   | Видимая красная/зеленая линия |
| \_Мерженотпен R2  | Невидимая синяя линия    |
| \_Мержепен R2     | Видимая белая линия     |
| \_Мержепеннот R2  | Видимая белая линия     |
| \_NOP R2          | Невидимая синяя линия    |
| R2 \_ не          | Видимая красная/зеленая линия |
| \_Ноткопипен R2   | Видимая черная линия     |
| \_Нотмаскпен R2   | Видимая красная/зеленая линия |
| \_Нотмержепен R2  | Видимая черная линия     |
| \_Нотксорпен R2    | Невидимая синяя линия    |
| Белая, R2 \_        | Видимая белая линия     |
| \_Ксорпен R2       | Видимая красная/зеленая линия |



 

 

 



