---
title: Контрольные суммы и счетчики объектов
description: Контрольные суммы и счетчики объектов — это стратегии обнаружения, которые позволяют приложению обнаруживать состояние частичного обновления.
ms.assetid: 14829a74-c186-4250-beac-036c5ecc5913
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bc643ec7cd896a7c73df0be5738887a330392140
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "104486540"
---
# <a name="checksums-and-object-counts"></a>Контрольные суммы и счетчики объектов

Контрольные суммы и счетчики объектов — это стратегии обнаружения, которые позволяют приложению обнаруживать состояние частичного обновления. Контрольные суммы можно также использовать для обнаружения несоответствий, появившихся при разрешении конфликтов. Как контрольные суммы, так и счетчики объектов, для хранения значения, используемого для проверки контрольной суммы или числа объектов, требуется место. Это может быть объект "Master", выбранный из других связанных с конкретным приложением связей или родительским объектом, в котором хранятся связанные объекты.

Для контрольных сумм приложения, считывающие связанные объекты, проверяют контрольную сумму, вычисляя локальный результат и сравнивая его с сохраненным значением. Если значения не совпадают, реплика находится в состоянии частичного обновления, и объекты не могут быть использованы.

Для счетчиков объектов приложения подсчитываются связанные объекты (обычно дочерние элементы одного родителя) и сравнивают количество с сохраненным значением. Если счетчики не совпадают, реплика находится в состоянии частичного обновления, и объекты не могут быть использованы.

Важные сведения

-   Для работы подхода к контрольной сумме необходимо обновить один или несколько атрибутов, используемых при вычислении контрольной суммы. Алгоритм, используемый для вычисления контрольной суммы, должен надежно отражать различия во входных данных. Если одинаковая контрольная сумма имеет много различных входных продуктов, алгоритм не будет надежно обнаруживать частичные обновления. "Salt-код" — это также полезно ввод со значениями, такими как **objectGUID** исходного компьютера и Дата и время обновления.
-   Счетчики объектов лучше работают при использовании с новыми наборами объектов или в сочетании с идентификаторами GUID согласованности (Дополнительные сведения см. в следующем разделе). Приложение, выполняющее обновление, должно либо заранее выяснить количество объектов, которые будут находиться в контейнере, после завершения обновления, либо использовать другие средства, помечающие контейнер как недопустимые при завершении обновления (например, установив значение счетчика равным нулю). После завершения обновления Исходное приложение помечает контейнер на количество содержащихся в нем объектов.

 

 




