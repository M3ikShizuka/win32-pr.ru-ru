---
title: Ссылки (AD DS)
description: Домен Active Directory Services поддерживают ссылочные данные в объектах crossRef, хранящихся в контейнере разделов (Кроссрефконтаинер) в контейнере конфигурации.
ms.assetid: e4d6cc8a-9c2c-4e0f-acca-e9ecdd5e879b
ms.tgt_platform: multiple
keywords:
- РЕКЛАМНЫЕ ссылки
- Active Directory, ссылки
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f63c87fb0248d85ab20191296f9659eb58e460f6
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/17/2020
ms.locfileid: "105654280"
---
# <a name="referrals-ad-ds"></a>Ссылки (AD DS)

Домен Active Directory Services поддерживают ссылочные данные в объектах [**crossRef**](/windows/desktop/ADSchema/c-crossref) , хранящихся в контейнере разделов ([**кроссрефконтаинер**](/windows/desktop/ADSchema/c-crossrefcontainer)) в контейнере конфигурации. В разделе [Выбор места поиска](where-to-search.md) ссылки обсуждаются в контексте домена в дереве доменов и создание ссылок на подчиненные домены в поиске по поддереву.

Домен Active Directory Services создают и поддерживают объекты [**crossRef**](/windows/desktop/ADSchema/c-crossref) для всех доменов в лесу. Кроме того, существуют объекты **crossRef** для контейнеров конфигурации и схемы. Эти объекты **crossRef** используются для создания ссылок в ответ на запросы, которые запрашивают данные об объектах, существующих в лесу, но не содержатся на сервере каталогов, обрабатывающем запрос. Они называются *внутренними перекрестными ссылками*, так как они ссылаются на домены, схему и контейнеры конфигурации в пределах леса.

Если отслеживание ссылок не включено и выполняется поиск по поддереву, поиск вернет все объекты в указанном домене, удовлетворяющие условиям поиска. Поиск также будет возвращать ссылки на любые подчиненные домены, являющиеся прямыми потомками домена сервера каталогов. Клиент должен разрешить ссылки, привязываясь к пути, указанному в ссылке, и отправив другой запрос.

Если отслеживание ссылок включено и выполняется поиск по поддереву, базовый API LDAP будет автоматически пытаться выполнить привязку к любым ссылкам и добавить результаты поиска в результирующий набор. В большинстве случаев отслеживание ссылок будет прозрачным для вызывающего объекта. Если ссылка относится к объекту в другом домене или лесу, базовый API LDAP будет пытаться использовать текущие учетные данные для привязки к целевому объекту ссылки. В случае успеха отслеживание ссылок будет прозрачным. Если это не удалось, будет возвращена ссылка и код ошибки ссылки.

Дополнительные сведения о настройке параметров поиска ссылок см. в разделе [Указание других вариантов поиска](specifying-other-search-options.md).

Помимо свойств [**днсрут**](/windows/desktop/ADSchema/a-dnsroot) (DNS-имя домена) и [**NCName**](/windows/desktop/ADSchema/a-ncname) (различающееся имя для домена), объект [**crossRef**](/windows/desktop/ADSchema/c-crossref) также содержит **nETBIOSName** (NetBIOS-имя домена) и **трустпарент** (различающееся имя для объекта **crossRef** , представляющего домен прямого родителя домена).

Домен Active Directory служб также могут иметь *Внешние перекрестные ссылки* , которые ссылаются на объекты за пределами леса. Внешние перекрестные ссылки должны явно добавляться администратором. Имейте в виду, что целевой сервер внешней перекрестной ссылки должен иметь корень DNS. то есть он должен соответствовать RFC 2247.

Внешняя перекрестная ссылка ссылается на объект в любом другом лесу, если имя уникально в целевом лесу. Например, клиентские приложения LDAP, используемые вашей компанией, могут отправлять операции на серверы каталогов для Fabrikam.com. Создайте объект [**crossRef**](/windows/desktop/ADSchema/c-crossref) для Fabrikam.com. Теперь вместо того чтобы возвращать ошибку «объект не найден», серверы каталогов могут возвращать ссылку на объект в домене Fabrikam.com, и клиенты могут проследить ссылку. Например, если у вас есть объект со следующим различающимся именем:


```C++
CN=SomeObject,OU=SomeOU,DC=Fabrikam,DC=Com
```



Можно добавить внешнюю перекрестную ссылку для объекта с именем «Чилдофсомеобжект».


```C++
CN=ChildOfSomeObject,CN=SomeObject,OU=SomeOU,DC=Fabrikam,DC=Com
```



При поиске в поддереве, содержащем "Сомеобжект", также будет возвращаться ссылка на "Чилдофсомеобжект". Имейте в виду, что должен существовать LDAP-сервер по адресу, указанному в ссылке (одно из свойств объекта [**crossRef**](/windows/desktop/ADSchema/c-crossref) ), и этот LDAP-сервер должен обслуживать пространство имен, определяемое "чилдофсомеобжект".

Поскольку объекты [**crossRef**](/windows/desktop/ADSchema/c-crossref) хранятся в контейнере конфигурации, каждый контроллер домена (DC) имеет копию всех объектов **crossRef** . Таким образом, каждый контроллер домена содержит данные о каждом домене в лесу, а также их подчиненные отношения. Это позволяет каждому КОНТРОЛЛЕРу домена создавать ссылки на любые домены в лесу и ссылки для неисследованного подчиненного домена, схемы или контейнеров конфигурации в поиске поддерева.

Дополнительные сведения о ссылках см. в следующих статьях:

-   [При создании ссылок](when-referrals-are-generated.md)
-   [Создание внешней ссылки](creating-an-external-referral.md)

Дополнительные сведения и пример кода, демонстрирующий получение различающегося имени контейнера секций, см. в разделе [пример кода для поиска контейнера секций](example-code-for-locating-the-partitions-container.md).

 

 