---
title: Использование учетной записи пользователя домена в качестве учетной записи входа службы
description: Учетная запись пользователя домена позволяет службе использовать все преимущества функций безопасности служб Windows и Microsoft домен Active Directory Services.
ms.assetid: 03c486fd-faec-450c-9348-314680eb73cb
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.custom: contperf-fy21q3
ms.openlocfilehash: f482359eb8445cacef12c46716ecde662a95d46d
ms.sourcegitcommit: 11f52354f570aacaf1ba2a266b2e507abd73352a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "105651560"
---
# <a name="using-a-domain-user-account-as-a-service-logon-account"></a>Использование учетной записи пользователя домена в качестве учетной записи входа службы

Учетная запись пользователя домена позволяет службе использовать все преимущества функций безопасности служб Windows и Microsoft домен Active Directory Services. Служба имеет любые локальные и сетевые права доступа к учетной записи или любой группе, членом которой является эта учетная запись. Служба может поддерживать взаимную проверку подлинности Kerberos.

> [!Note]  
> Следующая документация предназначена для разработчиков. Если вы являетесь конечным пользователем, который ищет сведения об ошибке, связанной с учетными записями пользователей домена, см. на [форумах сообщества Майкрософт](https://answers.microsoft.com). Дополнительные сведения об управлении учетными записями пользователей домена см. на [сайте TechNet](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc754217(v=ws.11)).

Преимущество использования учетной записи пользователя домена заключается в том, что действия службы ограничены правами доступа и привилегиями, связанными с учетной записью. В отличие от `LocalSystem` службы, ошибки в службе учетных записей пользователей не могут повредить систему. Если служба скомпрометирована атакой на систему безопасности, повреждение будет изолировано от операций, которые система разрешает для выполнения учетной записи пользователя. В то же время клиенты, работающие на различных уровнях привилегий, могут подключаться к службе, что позволяет службе олицетворять клиента для выполнения конфиденциальных операций.

Учетная запись пользователя службы не должна быть членом каких-либо групп администраторов, являющихся локальными, доменными или корпоративными. Если службе требуются права локального администратора, запустите ее под `LocalSystem` учетной записью. Для операций, требующих прав администратора домена, выполните их, выполнив олицетворение контекста безопасности клиентского приложения.

Экземпляр службы, использующий учетную запись пользователя домена, требует периодического административного действия для сохранения пароля учетной записи. Диспетчер управления службами (SCM) на главном компьютере экземпляра службы кэширует пароль учетной записи для использования при ведении журнала в службе. При изменении пароля учетной записи необходимо также обновить кэшированный пароль на главном компьютере, на котором установлена служба. Дополнительные сведения и пример кода см. в разделе [изменение пароля учетной записи пользователя службы](changing-the-password-on-a-serviceampaposs-user-account.md). Вы можете избежать регулярного обслуживания, не изменяя пароль, но это увеличит вероятность атаки на пароль в учетной записи службы. Имейте в виду, что несмотря на то, что SCM хранит пароль в защищенной части реестра, он, тем не менее, подвергается атакам.

Учетная запись пользователя домена имеет два формата имен: различающееся имя объекта пользователя в каталоге и формат "", <domain> \\ <username> используемый локальным диспетчером управления службами. Дополнительные сведения и пример кода, который преобразует из одного формата в другой, см. в разделе [Преобразование форматов имени учетной записи домена](converting-domain-account-name-formats.md).

 

 
