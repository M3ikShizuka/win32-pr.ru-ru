---
title: Индексированные атрибуты (AD DS)
description: Атрибуты могут быть проиндексированы. Индексирование атрибута может повысить производительность запросов для этого атрибута.
ms.assetid: 20e10fc9-d767-4d82-9ed6-b9f384e77b12
ms.tgt_platform: multiple
keywords:
- Индексированные атрибуты Active Directory
- Атрибуты Active Directory, индексированные
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c280d5390d666b6b0f95f49972e4c569f046865b
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/17/2020
ms.locfileid: "105654287"
---
# <a name="indexed-attributes-ad-ds"></a>Индексированные атрибуты (AD DS)

Атрибуты могут быть проиндексированы. Индексирование атрибута может повысить производительность запросов для этого атрибута.

Атрибуты индексируются, если атрибут [**searchFlags**](/windows/desktop/ADSchema/a-searchflags) в определении схемы атрибута имеет минимальный значащий бит, равный 1. Установка для наименее значимого бита определения схемы атрибута **searchFlags** значение 1 приведет к динамической сборке индекса. Установка значения 0 для наименее значимого бита определения схемы атрибута **searchFlags** приведет к удалению индекса атрибута. Индекс будет автоматически создан фоновым потоком на контроллере домена.

В идеале индексированные атрибуты должны быть однозначными с строго уникальными значениями, равномерно распределенными по набору экземпляров. Чем меньше уникальных значений атрибута, тем менее эффективным будет индекс.

Многозначные атрибуты также можно индексировать, но стоимость построения индекса для многозначного атрибута больше в плане хранения, обновления и времени поиска. Требование уникальности для многозначного свойства такое же, как и для однозначного свойства — чем больше уникальных значений, тем эффективнее индекс.

Чем больше индексированных атрибутов у класса, тем больше времени потребуется для создания новых экземпляров класса.

Индексы применяются к атрибутам, а не к классам. То есть, если атрибут помечен как индексированный, все экземпляры атрибута добавляются в индекс, а не только на экземпляры, являющиеся членами определенного класса.

Чтобы убедиться, что сервер использует индекс для обработки запроса, установите для следующего параметра реестра на контроллере домена значение 4. Затем выполните запрос к этому контроллеру домена и найдите в журнале событий каталога данные о индексах (если таковые имеются), используемых для обработки запроса.

```
HKEY_LOCAL_MACHINE
   SYSTEM
      Current Control Set
         Services
            NTDS
               Diagnostics
                  9 Internal Processing
```

Дополнительные сведения о других битах в свойстве [**searchFlags**](/windows/desktop/ADSchema/a-searchflags) см. в разделе [характеристики атрибутов](characteristics-of-attributes.md).

 

 