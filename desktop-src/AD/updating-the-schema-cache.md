---
title: Обновление кэша схемы
description: Вся информация, записанная на сервер Active Directory, проверяется по схеме.
ms.assetid: 948f8ec5-7207-4566-bd79-60cdd54231bf
ms.tgt_platform: multiple
keywords:
- Обновление кэша схемы Active Directory
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ff477ce97aab2e0e49522309d386a7e1c37b31e3b8171ef20c626fdaaa5b53a8
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119024532"
---
# <a name="updating-the-schema-cache"></a>Обновление кэша схемы

Вся информация, записанная на сервер Active Directory, проверяется по схеме. Схема хранится в памяти на серверах каталогов (контроллерах домена) по соображениям производительности. Версия в памяти обновляется автоматически после обновления версии на диске. Автоматическое обновление происходит через пять минут после применения последнего изменения; применение другого изменения схемы в течение 5 минут приведет к сбросу таймера в течение еще 5 минут. Такое поведение обеспечивает согласованность кэша, но может быть запутанной, поскольку изменения не отображаются в схеме до тех пор, пока кэш не будет обновлен, даже если они были применены на диске.

Чтобы обновить кэш Active Directory схемы после обновления схемы или вы хотите использовать обновление схемы сразу же для операций, не связанных с схемой, добавьте атрибут **счемаупдатенов** (он является рабочим атрибутом) в корневой DSE (пустое DN) со значением 1. Обновление кэша схемы начнется немедленно. Вызов блокируется. Если вызов возвращается без ошибок, кэш обновляется и все обновления схемы готовы к использованию. Возврат ошибки означает, что обновление кэша завершилось неудачно. Приложения, которые должны использовать эту функцию, должны разрабатываться для блокировки записи, особенно в случае, если программа или сценарий выполняются в интерактивном режиме.

Следующий пример кода является примером сценария LDIFDE, который показывает, как активировать перезагрузку кэша.

``` syntax
dn:
changetype: modify
add: schemaUpdateNow
schemaUpdateNow: 1
-
```

Дополнительные сведения об обновлении кэша схемы программным способом см. в разделе [пример кода для обновления кэша схемы](example-code-for-updating-the-schema-cache.md).

 

 




