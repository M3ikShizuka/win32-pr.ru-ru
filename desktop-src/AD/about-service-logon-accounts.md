---
title: Сведения об учетных записях входа в службу
description: При запуске службы на основе Win32 она входит в систему на локальном компьютере.
ms.assetid: 637ad0c0-118f-43e8-9d21-a93f6886f546
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 328b33d5dab36ccc5a803eb7c43ca3112e96ecf8
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/17/2020
ms.locfileid: "104133638"
---
# <a name="about-service-logon-accounts"></a>Сведения об учетных записях входа в службу

При запуске службы на основе Win32 она входит в систему на локальном компьютере. Он может войти как:

-   Локальная или доменная учетная запись пользователя.
-   Учетная запись LocalSystem.

Учетная запись входа определяет удостоверение безопасности службы во время выполнения, то есть основной контекст безопасности службы. Контекст безопасности определяет способность службы к доступу к локальным и сетевым ресурсам. Например, служба, работающая в контексте безопасности локальной учетной записи пользователя, не может получить доступ к сетевым ресурсам. И наоборот, служба, работающая в контексте безопасности учетной записи LocalSystem на контроллере домена Windows 2000, будет иметь неограниченный доступ к КОНТРОЛЛЕРу доменов. Дополнительные сведения и описание преимуществ и ограничений учетных записей пользователей и LocalSystem см. в разделе [контексты безопасности и службы домен Active Directory](security-contexts-and-active-directory-domain-services.md).

В конечном счете, администраторы системы, в которой установлена служба, имеют контроль над учетной записью входа в службу. По соображениям безопасности некоторые администраторы могут запретить установку службы под учетной записью LocalSystem. Служба должна иметь возможность запуска от имени учетной записи пользователя домена. В качестве программиста можно использовать некоторый контроль над учетной записью входа в службу. Установщик службы задает учетную запись входа службы при вызове функции [**CreateService**](/windows/desktop/api/winsvc/nf-winsvc-createservicea) для установки службы на главном компьютере. Установщик может предложить учетную запись входа по умолчанию, но она должна позволять администратору указать фактическую учетную запись.

Установщик также может выполнять следующие задачи, связанные с учетной записью входа в службу.

-   Установка. При установке службы для запуска от имени учетной записи пользователя учетная запись должна существовать до вызова [**CreateService**](/windows/desktop/api/winsvc/nf-winsvc-createservicea). Вы можете использовать существующую учетную запись или создать ее как часть главного компьютера инсталлрт. Дополнительные сведения см. в разделе [Настройка учетной записи пользователя службы](setting-up-a-serviceampaposs-user-account.md).
-   Аутентификация. Если требуется, чтобы клиенты использовали взаимную проверку подлинности Kerberos, зарегистрируйте имена участников-служб в учетной записи входа службы. Если служба выполняется под учетной записью LocalSystem, учетная запись входа в службу является учетной записью компьютера главного компьютера. Дополнительные сведения об именах субъектов-служб см. в [этом разделе](service-principal-names.md).
-   Предоставление доступа. Убедитесь, что служба во время выполнения имеет права доступа и привилегии, необходимые для выполнения своих задач. Это может потребовать настройки записей управления доступом (ACE) в дескрипторах безопасности различных ресурсов, то есть объектов каталога, общих файловых ресурсов и т. д., чтобы разрешить необходимые права доступа учетной записи пользователя или компьютера. Дополнительные сведения см. в разделе [предоставление прав доступа учетной записи входа в службу](granting-access-rights-to-the-service-logon-account.md).
-   Задайте привилегии. Назначьте привилегии указанной учетной записи входа, например право на вход в качестве службы на главный компьютер. Дополнительные сведения см. в разделе [предоставление входных данных в качестве службы непосредственно на главном компьютере](granting-logon-as-service-right-on-the-host-computer.md).

После установки службы существуют задачи обслуживания, связанные с учетной записью входа в службу. Дополнительные сведения см. в разделе [задачи обслуживания учетной записи входа](logon-account-maintenance-tasks.md).

-   Обслуживание пароля. Для службы, работающей под учетной записью пользователя, необходимо периодически менять пароль и синхронизировать пароль с паролем, используемым одним или несколькими локальными диспетчерами управления службами для запуска службы.
-   Обслуживание имени участника-службы. Если учетная запись входа в службу изменяется, удалите имена участников-служб, зарегистрированные в старой учетной записи, и зарегистрируйте их в новой учетной записи. Имейте в виду, что при установке службы Администратор домена может изменить учетную запись, под которой выполняется служба. Используйте функции Win32 или пользовательский интерфейс средства администрирования "Управление компьютером".
-   Обслуживание ACE. Если учетная запись входа в службу изменится, необходимо обновить записи ACE и членство в группах, чтобы служба по-прежнему могла получить доступ к необходимым ресурсам.

 

 