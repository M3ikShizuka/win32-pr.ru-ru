---
title: Использование учетной записи LocalSystem в качестве учетной записи входа службы
description: Одним из преимуществ использования учетной записи LocalSystem является то, что служба имеет полный неограниченный доступ к локальным ресурсам.
ms.assetid: 2bc2e16d-bd25-4ec6-91a2-8d03052df021
ms.tgt_platform: multiple
keywords:
- Учетная запись LocalSystem
- локаль
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5bec3826984e28e29d3156b784da229f8e53e34e
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "103986135"
---
# <a name="using-the-localsystem-account-as-a-service-logon-account"></a>Использование учетной записи LocalSystem в качестве учетной записи входа службы

Одним из преимуществ использования учетной записи LocalSystem является то, что служба имеет полный неограниченный доступ к локальным ресурсам. Это также недостаток LocalSystem, поскольку служба LocalSystem может выполнять действия, которые могут привести к выводу всей системы. В частности, служба, работающая под учетной записью LocalSystem на контроллере домена (DC), имеет неограниченный доступ к службам домен Active Directory. Это означает, что ошибки в службе или атаки безопасности на службу могут повредить систему или, если служба находится на контроллере домена, что приводит к повреждению всей корпоративной сети.

По этим причинам администраторам домена в конфиденциальных установках будет необходимо соблюдать осторожность, чтобы разрешить службам работать в качестве LocalSystem. На самом деле, они могут иметь политики для него, особенно на контроллерах домена. Если служба должна работать под учетной записью LocalSystem, документация для вашей службы должна выровняться с администраторами домена по причинам предоставления службе прав на выполнение с повышенными привилегиями. Службы не должны запускаться от имени LocalSystem на контроллере домена. Дополнительные сведения и пример кода, демонстрирующий, как установщик службы или службы может определить, работает ли он на контроллере домена, см. в разделе [Проверка работы на контроллере домена](testing-whether-running-on-a-domain-controller.md).

Если служба выполняется под учетной записью LocalSystem на компьютере, который является членом домена, служба имеет какой-либо сетевой доступ к учетной записи компьютера или к любым группам, членом которых является учетная запись компьютера. Имейте в виду, что в Windows 2000 учетная запись компьютера домена — это субъект-служба, аналогичный учетной записи пользователя. Это означает, что учетная запись компьютера может находиться в группе безопасности, а запись ACE в дескрипторе безопасности может предоставлять доступ к учетной записи компьютера. Имейте в виду, что добавление учетных записей компьютеров в группы не рекомендуется по двум причинам:

-   Учетные записи компьютеров подлежат удалению и повторному созданию, если компьютер покидает, а затем снова присоединяется к домену.
-   При добавлении учетной записи компьютера в группу все службы, работающие под учетной записью LocalSystem на этом компьютере, могут иметь права доступа группы. Это связано с тем, что все службы LocalSystem совместно используют учетную запись компьютера сервера узла. Поэтому особенно важно, чтобы учетные записи компьютеров не были членами групп администраторов домена.

Учетные записи компьютеров обычно имеют неограниченные привилегии и не принадлежат к группам. Защита ACL по умолчанию в службах домен Active Directory Services допускает минимальный доступ для учетных записей компьютеров. Следовательно, службы, работающие как LocalSystem, на компьютерах, отличных от DCs, имеют только минимальный доступ к службам домен Active Directory.

Если служба выполняется под учетной записью LocalSystem, необходимо протестировать службу на рядовом сервере, чтобы обеспечить наличие у службы достаточных прав для чтения и записи на контроллеры домен Active Directory. Контроллер домена не должен быть единственным компьютером Windows, на котором проверяются службы. Имейте в виду, что служба, работающая под учетной записью LocalSystem на контроллере домена Windows, имеет полный доступ к домен Active Directory службам и что рядовой сервер работает в контексте учетной записи компьютера, имеющей гораздо меньше прав.

 

 




