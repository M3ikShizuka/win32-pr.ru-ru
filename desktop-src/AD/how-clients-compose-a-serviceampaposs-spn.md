---
title: Создание клиентами SPN службы
description: Для проверки подлинности службы клиентское приложение формирует имя субъекта-службы для экземпляра службы, к которому она должна подключиться.
ms.assetid: cf6c491a-d84d-4c9c-bd69-1f2264f395b6
ms.tgt_platform: multiple
keywords:
- Как клиенты составлять AD SPN службы
- имя субъекта-службы AD, как клиенты составлять SPN службы
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 06c3531ac329af1a4c4fa7721b5d575ce762d86f15767278ad9a348e7956cfa6
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118188189"
---
# <a name="how-clients-compose-a-services-spn"></a>Создание клиентами SPN службы

Для проверки подлинности службы клиентское приложение формирует имя субъекта-службы для экземпляра службы, к которому она должна подключиться. Клиентское приложение может использовать функцию [**дсмакеспн**](/windows/desktop/api/Dsparse/nf-dsparse-dsmakespna) для создания имени субъекта-службы. Клиент указывает компоненты имени субъекта-службы, используя известные данные или данные, полученные из источников, отличных от самой службы.

Форма имени субъекта-службы, как показано в следующей форме:


```C++
<service class>/<host>:<port>/<service name>
```



В этой форме требуются " &lt; класс службы &gt; " и " &lt; узел &gt; ". " &lt; Port &gt; " и " &lt; Service Name &gt; " необязательно.

Как правило, клиент распознает &lt; часть имени "класс службы &gt; " и определяет, какие из дополнительных компонентов следует включить в имя участника-службы. Клиент может получать компоненты имени субъекта-службы из таких источников, как точка подключения службы (SCP) или входные данные пользователя. Например, клиент может прочитать атрибут **SERVICEDNSNAME** SCP службы, чтобы получить &lt; компонент "host &gt; ". Атрибут **serviceDNSName** содержит либо DNS-имя сервера, на котором работает экземпляр службы, либо DNS-имя записей SRV, содержащих данные узла для реплик службы. &lt;Компонент Service Name &gt; , используемый только для реплицируемых служб, может быть РАЗЛИЧАЮЩИМСЯ именем SCP службы, DNS-именем домена, обслуживаемого службой, или DNS-именем записей SRV или MX.

дополнительные сведения и пример кода, используемый для составления имени субъекта-службы, см. в разделе [как клиент проверяет подлинность службы Windows сокетов на основе SCP](how-a-client-authenticates-an-scp-based-windows-sockets-service.md).

Дополнительные сведения и описание компонентов имени субъекта-службы см. в разделе [форматы имен для уникальных имен участников-служб](name-formats-for-unique-spns.md).

 

 




