---
title: Создание фильтра запросов
description: Фильтр запросов дает домен Active Directory службам искать данные в синтаксисе запросов LDAP. Все указанные технологии доступа к данным, перечисленные в разделе Выбор технологии поиска, поддерживают синтаксис запросов LDAP.
ms.assetid: 0bd652f0-41a6-4a0d-8742-9d6a2a7f168a
ms.tgt_platform: multiple
keywords:
- Active Directory примеры Active Directory, создание фильтра запросов
- фильтры запросов
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bc2e0a4e4a02312fcc9affb681407044ba0d8e18
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "103887439"
---
# <a name="creating-a-query-filter"></a>Создание фильтра запросов

Фильтр запросов дает домен Active Directory службам искать данные в синтаксисе запросов LDAP. Все указанные технологии доступа к данным, перечисленные в разделе [Выбор технологии поиска,](choosing-the-search-technology.md) поддерживают синтаксис запросов LDAP.

Синтаксис запроса LDAP выглядит следующим образом:


```C++
<expression><expression>...
```



Фильтр может содержать одно или несколько выражений. Выражение имеет следующий вид:


```C++
(<logicaloperator><comparison><comparison...>)
```



где " &lt; оператор logicaloperator &gt; " является одним из следующих.



| Оператор        | Описание                |
|-----------------|----------------------------|
| "\|"<br/> | Логическое **или**<br/>  |
| "&"<br/>  | Логическое **и**<br/> |
| "!"<br/>  | Логическое **не**<br/> |



 

и " &lt; Сравнение &gt; " является следующим:


```C++
(<attribute><operator><value>)
```



где " &lt; атрибут &gt; " — это атрибут **lDAPDisplayName** проверяемого атрибута, " &lt; value &gt; " — это сравниваемое значение, а " &lt; operator &gt; " — один из следующих операторов сравнения.



| Оператор           | Описание                         |
|--------------------|-------------------------------------|
| "="<br/>     | Равно<br/>                   |
| "~="<br/>    | Приблизительно равно<br/>     |
| "<="<br/> | Меньше или равно<br/>    |
| ">="<br/> | Больше или равно<br/> |



 

Кроме того, в зависимости от синтаксиса атрибута " &lt; значение &gt; " может содержать символ-шаблон (" \* "). " &lt; Значение &gt; ", содержащее только подстановочный знак, проверяет наличие любого значения в " &lt; Attribute &gt; ". Если значение атрибута не задано &lt; &gt; , тест завершится ошибкой.

Если любой из следующих специальных символов должен появиться в фильтре запроса в виде литералов, они должны быть заменены указанной escape-последовательностью.



| Символ ASCII    | Замена escape-последовательности |
|--------------------|----------------------------|
| \*<br/>      | \\2A<br/>          |
| (<br/>       | \\28<br/>          |
| )<br/>       | " \\ 29"<br/>          |
| \\<br/>      | " \\ 5C"<br/>          |
| **NUL**<br/> | " \\ 00"<br/>          |



 

Кроме того, произвольные двоичные данные могут быть представлены с помощью синтаксиса escape-последовательности путем кодирования каждого байта двоичных данных с помощью обратной косой черты, за которой следуют две шестнадцатеричные цифры. Например, 4-байтовый параметр 0x00000004 кодируется как " \\ 00 \\ 00 \\ 00 \\ 04" в строке фильтра.

## <a name="examples"></a>Примеры

Следующая строка запроса будет искать все объекты типа "Computer".


```C++
(objectCategory=computer)
```



Следующая строка запроса будет искать все объекты типа "Computer" с именем, которое начинается с "Desktop".


```C++
(&(objectCategory=computer)(name=desktop*))
```



Следующая строка запроса будет искать все объекты типа "Computer" с именем, начинающимся с "Desktop", или именем, которое начинается с "Записная книжка".


```C++
(&(objectCategory=computer)(|(name=desktop*)(name=notebook*)))
```



Следующая строка запроса будет искать все объекты типа "User" с номером домашнего телефона.


```C++
(&(objectCategory=user)(homePhone=*))
```



Дополнительные сведения о строках фильтра запросов и примеры использования см. в следующих статьях:

-   [Поиск объектов по классу](finding-objects-by-class.md)
-   [Поиск объектов по имени](finding-objects-by-name.md)
-   [Поиск списка атрибутов для запроса](finding-a-list-of-attributes-to-query.md)
-   [Проверка синтаксиса фильтра запросов](checking-the-query-filter-syntax.md)
-   [Как указать значения для сравнения](how-to-specify-comparison-values.md)

 

 





