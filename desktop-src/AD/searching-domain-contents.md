---
title: Поиск содержимого домена
description: Прежде чем приступить к обсуждению места привязки для начала поиска объектов в домене, полезно понять, как данные хранятся в службах домен Active Directory.
ms.assetid: fd0b4556-465b-4338-87cb-375450590c44
ms.tgt_platform: multiple
keywords:
- Active Directory содержимого домена
- Поиск содержимого домена Active Directory
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9c18cd879e950fd9c467f6674092947d430d8f87
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "104067357"
---
# <a name="searching-domain-contents"></a>Поиск содержимого домена

Прежде чем приступить к обсуждению места привязки для начала поиска объектов в домене, полезно понять, как данные хранятся в службах домен Active Directory.

При наличии леса с несколькими доменами домен Active Directory Services не сохраняет все данные объектов на одном контроллере домена — для повышения производительности, масштабируемости и надежности. Контроллер домена содержит все сведения только о домене, членом которого он является, (у него есть полная реплика домена). Но контроллер домена не содержит полные сведения о любом другом домене.

При привязке к объекту домена с отключенным отслеживанием ссылок можно выполнять поиск любого объекта в этом домене и только в этом домене. Дополнительные сведения о прослеживании ссылок см. в разделе [ссылки](referrals.md). Поиск может получить любое свойство и может использовать фильтр запроса, содержащий любое свойство.

В лесу домены упорядочиваются иерархически как деревья доменов. Доменным деревом может быть только один домен или домен с одним или несколькими дочерними доменами. Эти дочерние домены, в свою очередь, могут иметь дочерние домены под ними. Доменное дерево — это также непрерывное пространство имен. Непрерывное пространство имен означает, что дочерние домены являются продолжением иерархии именования. Например, домен fabrikam.com (или DC = Fabrikam, DC = COM) может иметь дочерний домен с именем мидивисион (mydivision.fabrikam.com или DC = мидивисион, DC = Fabrikam, DC = COM), который, в свою очередь, может иметь дочерний домен с именем мидев (mydev.mydivision.fabrikam.com или DC = мидев, DC = мидивисион, DC = Fabrikam, DC = COM).

При привязке к объекту домена (с включенным отслеживанием ссылок) для домена в дереве доменов будет осуществляться поиск в этом домене и всей иерархии в нем. Поиск может получить любое свойство и может использовать фильтр запроса, содержащий любое свойство.

Если контроллер домена содержит полную реплику только собственного домена, можно выполнить поиск по поддереву в дереве доменов. Домен содержит ссылки на его дочерние домены. Когда контроллер домена обрабатывает запрос на поиск поддерева в собственном домене, контроллер домена выполняет поиск в этом домене, а затем возвращает ссылки на каждый из его дочерних доменов клиенту. Ссылка — это способ, с помощью которого сервер службы каталогов сообщает, что он не содержит сведений, необходимых для выполнения запроса (например, запроса), но имеет ссылку на сервер, который может содержать необходимые сведения. В случае поиска в поддереве дерева доменов для каждого прямого дочернего домена возвращается ссылка, чтобы поиск можно было продолжить на контроллере домена в каждом дочернем домене. Если отслеживание ссылок включено, клиентская библиотека LDAP (Wldap32.dll) использует эти ссылки для привязки к контроллеру домена в каждом дочернем домене и продолжит поиск. Если отслеживание ссылок отключено, клиент LDAP не разрешает ссылки и поиск завершается.

Поиск в поддереве в дереве доменов с включенным отслеживанием ссылок может занимать много времени, если существует медленная связь с контроллерами домена для дочерних доменов. Если требуется выполнить поиск только в одном домене, следует включить отслеживание ссылок, чтобы не выполнять поиск в дочерних доменах без необходимости.

 

 




