---
description: Удаляет учетные данные пользователя, используемые для подключенного удостоверения.
ms.assetid: EB32832D-9A8C-4CEB-897A-7E9D24FF84DD
title: Функция Делетеконнектедидентити (Индентитисторе. h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- DeleteConnectedIdentity
api_type:
- HeaderDef
api_location:
- Indentitystore.h
ms.openlocfilehash: 8079985f916e996a56b4203ad6ad065c1b7664e3
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "104072626"
---
# <a name="deleteconnectedidentity-function"></a>Функция Делетеконнектедидентити

Удаляет учетные данные пользователя, используемые для подключенного удостоверения.

## <a name="syntax"></a>Синтаксис


```C++
SEC_ENTRY DeleteConnectedIdentity(
  _In_     PVOID  ProviderHandle,
  _In_opt_ HANDLE UserToken,
  _In_     PSID   UserSid,
  _In_     PWSTR  IdentityUserName
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*Провидерхандле* \[ окне\]
</dt> <dd>

Маркер поставщика удостоверений.

</dd> <dt>

*UserToken* \[ в необязательное\]
</dt> <dd>

Токен подключенного пользователя, учетная запись которого будет преобразована в локальную учетную запись. Если параметр *UserToken* не **равен null**, поставщик удостоверений использует этот токен для загрузки профиля пользователя и очистки подключенных состояний. Если параметр *UserToken* имеет **значение NULL**, LSA принудительно отменяет соединение. Поставщик удостоверений должен очистить все глобальные подключенные состояния этого пользователя, но поставщику не нужно очищать подключенные состояния в профиле пользователя.

</dd> <dt>

О.  \[ окне\]
</dt> <dd>

Основной идентификатор безопасности подключенного пользователя. Если параметр *UserToken* имеет **значение, не равное NULL**, это идентификатор безопасности маркера. Если параметр *UserToken* имеет **значение NULL**, он используется для задания подключенного пользователя и очистки глобальных подключенных состояний этого пользователя.

</dd> <dt>

*Идентитюсернаме* \[ окне\]
</dt> <dd>

Имя пользователя удостоверения.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Если функция завершается успешно, функция возвращает значение секунды \_ E \_ ОК.

Если функция завершается ошибкой, функция может вернуть один из следующих кодов ошибок.



| Возвращаемое значение                                                                                               | Описание                                                                                                                                                 |
|------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <dl> <dt>\_Недопустимый \_ параметр Status</dt> </dl>      | Недействительный параметр.<br/>                                                                                                                        |
| <dl> <dt>СОСТОЯНИЕ \_ нет \_ такого \_ пользователя</dt> </dl>          | Пользователь *, идентифицированный с помощью* ключа, не существует, не подключен, или отсутствует удостоверение, имя пользователя которого соответствует *идентитюсернаме*.<br/> |
| <dl> <dt>СОСТОЯНИЕ " \_ недостаточно \_ ресурсов"</dt> </dl> | Недостаточно памяти для обработки запроса.<br/>                                                                                               |



 

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|---------------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | \[Только классические приложения Windows 8\]<br/>                                                  |
| Минимальная версия сервера<br/> | \[Только для настольных приложений Windows Server 2012\]<br/>                                        |
| Header<br/>                   | <dl> <dt>Индентитисторе. h</dt> </dl> |



 

 




