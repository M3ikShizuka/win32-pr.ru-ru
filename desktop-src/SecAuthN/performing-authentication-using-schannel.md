---
description: Для всех протоколов SChannel требуется, чтобы сервер предоставил сертификат из доверенного центра сертификации (ЦС) в качестве доказательства его подлинности.
ms.assetid: 060981e0-b52a-4cc2-bfd2-4cf24f921f16
title: Выполнение проверки подлинности с помощью канала Schannel
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4a37b8dedf07680286288234c7ca4422f44c2c3e
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "105650809"
---
# <a name="performing-authentication-using-schannel"></a>Выполнение проверки подлинности с помощью канала Schannel

Для всех протоколов SChannel требуется, чтобы сервер предоставил [*сертификат*](../secgloss/c-gly.md) из доверенного [*центра сертификации*](../secgloss/c-gly.md) (ЦС) в качестве доказательства его подлинности. Этот процесс называется проверкой подлинности сервера. Проверка подлинности клиента, когда клиент предоставляет подтверждение своей личности, является необязательной и может быть запрошена сервером в любое время.

## <a name="authenticating-the-server"></a>Проверка подлинности сервера

Поведением по умолчанию Schannel является использование функции [**WinVerifyTrust**](/windows/win32/api/wintrust/nf-wintrust-winverifytrust) для проверки [*целостности*](../secgloss/i-gly.md) и принадлежности [*сертификата сервера*](../secgloss/s-gly.md). Чтобы отключить эту функцию, \_ \_ \_ \_ при вызове функции [**InitializeSecurityContext (Schannel)**](./initializesecuritycontext--schannel.md) необходимо задать проверку ручного пользователя ISC. Дополнительные сведения см. в разделе [Проверка учетных данных SChannel вручную](manually-validating-schannel-credentials.md).

## <a name="authenticating-the-client"></a>Проверка подлинности клиента

SChannel не проверяет сертификаты клиента; сервер должен выполнить эту проверку подлинности вручную. Как правило, сервер проверяет удостоверение клиента в базе данных, содержащей сведения об учетной записи пользователя. Сведения о серверах, которым требуется получить учетную запись клиента с помощью сертификата, см. в разделе [сопоставление сертификатов](mapping-certificates.md).

Когда сервер запрашивает проверку подлинности клиента, клиент должен отправить сервер по одному из его сертификатов. По умолчанию SChannel будет без уведомления клиенту, попытаться указать [*сертификат клиента*](../secgloss/c-gly.md) и отправить его на сервер. Чтобы отключить эту функцию, клиенты указывают, \_ что \_ \_ \_ при вызове функции [**InitializeSecurityContext (Schannel)**](./initializesecuritycontext--schannel.md) используются указанные учетные данные для указания ISC. Если этот флаг указан, SChannel возвращает \_ \_ данные о незавершенных \_ учетных данных для клиента, когда сервер запрашивает проверку подлинности, а клиент не предоставил сертификат ранее.

 

 
