---
description: Поставщики учетных данных в Windows 10
ms.assetid: BCF69196-D4E4-41D0-B372-5000FD50164B
title: Поставщики учетных данных в Windows 10
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 38543127709007407c013a2a8ff047f7c91f4440351653061e894f4e7c2d90d0
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119008802"
---
# <a name="credential-providers-in-windows-10"></a>Поставщики учетных данных в Windows 10

Поставщики учетных данных являются основным механизмом проверки подлинности пользователей — они в настоящее время являются единственным способом подтвердить свою личность, необходимую для входа в систему и других сценариев проверки подлинности системы. с Windows 10 и введением Microsoft Passport поставщики учетных данных важнее, чем когда-либо. они будут использоваться для проверки подлинности в приложениях, веб-сайтах и других.

корпорация майкрософт предоставляет множество поставщиков учетных данных в составе Windows, таких как пароль, пин-код, карта и Windows Hello (отпечаток пальца, лицо и распознавание iri). Они называются "системными поставщиками учетных данных" в этой статье. Поставщики вычислительной техники, предприятия и другие сущности могут создавать собственные поставщики учетных данных и легко интегрировать их в Windows. Они называются "сторонними поставщиками учетных данных" в этой статье. Обратите внимание, что поставщики учетных данных v1 и v2 поддерживаются в Windows 10. Для понимания этих рекомендаций важно быть создателями и руководителями сторонних поставщиков учетных данных.

## <a name="system-credential-providers"></a>Поставщики системных учетных данных

Мы настоятельно рекомендуем всегда иметь по крайней мере один системный поставщик учетных данных, доступный для каждого пользователя на устройстве в дополнение к сторонним поставщикам учетных данных. Кроме того, во время установки стороннего поставщика учетных данных каждому пользователю на устройстве должно быть предложено настроить по крайней мере один системный поставщик учетных данных (если другие варианты восстановления недоступны). см. сценарий а ниже.

### <a name="scenario-a"></a>Сценарий А

Пользователь локальной учетной записи настроил стороннего поставщика учетных данных и регулярно использует его для входа на устройство. Один день, пользователь устанавливает на устройстве некоторое обновление, которое прерывает работу стороннего поставщика учетных данных, и пользователь не знает об этом изменении перед перезапуском компьютера.

При следующей перезагрузке пользователь находится на экране входа в систему и не может использовать ожидаемого стороннего поставщика учетных данных. Если пользователь настроил системный поставщик учетных данных, он сможет войти на компьютер с его помощью. В противном случае у пользователя нет возможности восстановить учетную запись на компьютере.

### <a name="scenario-b"></a>Сценарий Б

Пользователь учетной записи MSA/AD/AAD настроил стороннего поставщика учетных данных и регулярно использует его для входа на устройство. Один день, пользователь устанавливает на устройстве некоторое обновление, которое прерывает работу стороннего поставщика учетных данных, и пользователь не знает об этом изменении перед перезапуском компьютера.

При следующей перезагрузке пользователь находится на экране входа в систему и не может использовать ожидаемого стороннего поставщика учетных данных. Если пользователь настроил системный поставщик учетных данных, он сможет войти на компьютер с его помощью. Кроме того, если доступен поставщик учетных данных пароля системы, пользователь может удаленно запросить или сбросить пароль и использовать его для входа на компьютер. Если ни один из этих параметров недоступен, у пользователя нет возможности восстановить учетную запись на компьютере.

### <a name="conclusion"></a>Заключение

В заключение мы хотим запретить отключение всех системных поставщиков учетных данных на устройстве. Хотя сторонние поставщики учетных данных могут выполнять дополнительные требования к проверке подлинности для определенных групп пользователей, очень важно убедиться, что пользователь всегда может восстановить доступ к своему компьютеру при возникновении критических изменений. Эта гарантия обеспечивается системными поставщиками учетных данных.

## <a name="custom-credential-providers"></a>Настраиваемые поставщики учетных данных

платформа поставщика учетных данных Windows позволяет разработчикам создавать пользовательские поставщики учетных данных. Когда служба [Winlogon](winlogon.md) хочет получить учетные данные, Пользовательский интерфейс входа в систему запрашивает у каждого поставщика учетных данных количество учетных записей, которые он хочет перечислить. После того как все поставщики перечисляют плитки, Пользовательский интерфейс входа отображает их пользователю. Затем пользователь взаимодействует с плиткой для предоставления необходимых учетных данных. Пользовательский интерфейс входа отправляет эти учетные данные для проверки подлинности. Поставщики учетных данных также могут использоваться в пользовательском интерфейсе учетных данных, если требуются учетные данные. Список сценариев, в которых может поддерживаться поставщик учетных данных, см. в разделе [**\_ \_ \_ сценарий использования поставщика учетных данных**](/windows/desktop/api/credentialprovider/ne-credentialprovider-credential_provider_usage_scenario) .

Благодаря этой системе гораздо проще создать поставщик учетных данных, чем в прошлом. Большая часть работы обрабатывается сочетанием [Winlogon](winlogon.md), пользовательского интерфейса входа и пользовательского интерфейса учетных данных. Для этого необходимо создать собственную реализацию [**икредентиалпровидер**](/windows/desktop/api/credentialprovider/nn-credentialprovider-icredentialprovider) и [**ICredentialProviderCredential**](/windows/desktop/api/credentialprovider/nn-credentialprovider-icredentialprovidercredential). Если вы реализуете поставщик учетных данных версии 2 (рекомендуется), необходимо также реализовать [**ICredentialProviderCredential2**](/windows/desktop/api/credentialprovider/nn-credentialprovider-icredentialprovidercredential2).

Важно отметить, что поставщики учетных данных не являются механизмами принудительного применения. Они просто используются для сбора и сериализации учетных данных, а также их отправки для авторизации. Локальные полномочия и пакеты проверки подлинности будут обработаны и все необходимое обеспечение безопасности.

объединив поставщики учетных данных с поддерживаемым оборудованием, вы можете расширить Windows для поддержки входа в систему с помощью биометрических данных, паролей, пин-кодов, сертификатов или любого настраиваемого пакета проверки подлинности, который вы решили создать. Вы также можете настроить процедуру входа для пользователя различными способами. Например, когда пользовательский интерфейс входа в систему запрашивает у поставщика учетных данных сведения о плитках с учетными данными, можно указать плитку по умолчанию, чтобы обеспечить пользовательский интерфейс для пользователя. Поставщики учетных данных могут быть даже разработаны для поддержки единого входа (SSO), проверки подлинности пользователей в защищенной точке доступа, а также для входа на компьютер.

поставщики учетных данных регистрируются на Windows компьютере и отвечают следующим.

-   Описание учетных данных, необходимых для проверки подлинности.
-   Обработка связи и логики с любыми внешними центрами проверки подлинности.
-   Упаковка учетных данных для интерактивного входа и подключения к сети.

> [!TIP]
>
> Помните, что на одном компьютере можно установить несколько поставщиков учетных данных.

## <a name="wrapping-credential-providers"></a>Создание оболочек для поставщиков учетных данных

Оболочка для системного поставщика учетных данных может быть реализована для добавления к этому поставщику учетных данных функций, которые изначально не поддерживаются. Это не рекомендуется, так как может привести к возникновению проблем в работе. К поставщику учетных данных могут быть внесены изменения, которые могут конфликтовать с оболочкой, которая вызывает неудобство работы пользователя или даже предотвращает переход пользователя на устройство. Это особенно справедливо с частотой обновления Windows 10.

Если необходима функциональность поставщика учетных данных, которая не включена изначально, рекомендуемым путем является создание настраиваемого поставщика учетных данных. Это более стабильный подход, который не принимает зависимости от системных поставщиков.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Windows входа, управляемого поставщиком учетных данных](https://go.microsoft.com/fwlink/?LinkId=717287)
</dt> <dt>

[икредентиалпровидер](/windows/desktop/api/credentialprovider/nn-credentialprovider-icredentialprovider)
</dt> <dt>

[\_ \_ Сериализация учетных данных поставщика УЧЕТных данных \_](/windows/desktop/api/credentialprovider/ns-credentialprovider-credential_provider_credential_serialization)
</dt> <dt>

[\_ \_ сценарий использования поставщика УЧЕТных данных \_](/windows/desktop/api/credentialprovider/ne-credentialprovider-credential_provider_usage_scenario)
</dt> </dl>

 

 
