---
description: Active Directory предоставляет базу данных учетных записей, которую центр распространения ключей (KDC) использует для получения сведений о субъектах безопасности в домене.
ms.assetid: 560ef22c-dd4f-49f8-9e15-a45dbf17df01
title: База данных учетных записей
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 61a4d5e41c959a8c546ef36a5e4014b14ffc949e1670e2b32b199a8c9368bfbd
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119141597"
---
# <a name="account-database"></a>База данных учетных записей

Active Directory предоставляет базу данных учетных записей, которую [*центр распространения ключей*](/windows/desktop/SecGloss/k-gly) (KDC) использует для получения сведений о [*субъектах безопасности*](/windows/desktop/SecGloss/s-gly) в домене. Каждый участник представлен объектом Account в каталоге. Ключ [*шифрования*](/windows/desktop/SecGloss/e-gly) , используемый для связи с пользователем, компьютером или службой, хранится в качестве атрибута объекта учетной записи этого субъекта безопасности.

Только контроллеры домена являются Active Directory серверами. Каждый контроллер домена хранит доступную для записи копию каталога, поэтому учетные записи можно создавать, сбрасывать пароли и изменять членство в группах на любом контроллере домена. Изменения, внесенные в одну реплику каталога, автоматически распространяются на все остальные реплики. Windows реплицирует банк данных для Active Directory с помощью собственного протокола репликации с несколькими хозяевами, использующего безопасное подключение удаленного вызова процедур между партнерами репликации. Для обеспечения взаимной [*проверки подлинности*](/windows/desktop/SecGloss/a-gly) и шифрования соединение использует [*протокол проверки подлинности Kerberos*](/windows/desktop/SecGloss/k-gly) .

Физическое хранение данных учетной записи управляется [агентом системы каталогов](/windows/desktop/AD/directory-system-agent), защищенным процессом, интегрированным с [*локальным центром безопасности*](/windows/desktop/SecGloss/l-gly) (LSA) на контроллере домена. Клиентам службы каталогов никогда не предоставляется прямой доступ к хранилищу данных. Любой клиент, которому требуется доступ к сведениям о каталоге, должен подключиться к агенту системы каталогов, а затем найти, прочитать и записать объекты каталога и их атрибуты.

запросы на доступ к объекту или атрибуту в каталоге подлежат проверке с помощью механизмов контроля доступа Windows. Как и объекты файлов и папок в файловой системе NTFS, объекты в Active Directory защищены [*списками управления доступом*](/windows/desktop/SecGloss/a-gly) (ACL), которые указывают, кто имеет доступ к объекту и каким образом. Однако в отличие от файлов и папок, Active Directory объекты имеют список управления доступом для каждого из их атрибутов. Таким словами, атрибуты конфиденциальных данных учетной записи могут быть защищены более узкими разрешениями, чем предоставлены другим атрибутам учетной записи.

Наиболее конфиденциальная информация о учетной записи — это, конечно, пароль. Несмотря на то, что атрибут Password объекта Account хранит ключ шифрования, полученный на основе пароля, а не самого пароля, этот ключ очень удобен для злоумышленника. Таким образом, доступ к атрибуту Password объекта Account предоставляется только владельцу учетной записи, но не никому другому, а не администраторам. Только процессы с базовыми правами доверенных вычислений — процессы, выполняющиеся в [*контексте*](/windows/desktop/SecGloss/c-gly) безопасности LSA, могут читать и изменять данные паролей.

Чтобы не выполнять автономную атаку с доступом пользователя к ленте резервного копирования контроллера домена, атрибут Password объекта Account дополнительно защищается вторым шифрованием с помощью системного ключа. Этот ключ шифрования может храниться на съемных носителях, чтобы его можно было защищать отдельно или сохранить на контроллере домена, но защитить с помощью распределенного механизма. Администраторы получают возможность выбрать место хранения системного ключа и использовать несколько алгоритмов для шифрования атрибутов паролей.

 

 
