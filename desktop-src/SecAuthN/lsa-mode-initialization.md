---
description: При запуске компьютера локальный центр безопасности (LSA) автоматически загружает все зарегистрированные библиотеки поддержки безопасности и пакеты проверки подлинности (SSP/AP) в пространство процесса. На следующих иллюстрациях показан процесс инициализации.
ms.assetid: 2d52cbbf-9e28-4c6f-8b4c-448b73c6dbf8
title: Инициализация режима LSA
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ff4c55397e5970b8401e1429eba7d92a034e76ce0c999950131167580ded7e5a
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118922139"
---
# <a name="lsa-mode-initialization"></a>Инициализация режима LSA

При запуске компьютера [*локальный центр безопасности*](../secgloss/l-gly.md) (LSA) автоматически загружает [*все зарегистрированные*](../secgloss/s-gly.md) / DLL-библиотеки [*пакета проверки подлинности*](../secgloss/a-gly.md) (SSP/AP) в пространство процесса. На следующих иллюстрациях показан процесс инициализации.

> [!Note]  
> "Kerberos" представляет собой Microsoft [*Kerberos*](../secgloss/k-gly.md) SSP/AP, а "мой SSP/AP" представляет пользовательский поставщик общих служб (SSP), который содержит два пользовательских пакета безопасности.

 

![Инициализация режима LSA](images/lsamode1.png)

При запуске LSA вызывает функцию [**сплсамодеинитиализе**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-splsamodeinitializefn) в каждом SSP или ТД для получения указателей на функции, реализуемые каждым [*пакетом безопасности*](../secgloss/s-gly.md) в библиотеке DLL. Указатели функций передаются в LSA в массиве структур [**\_ \_ таблиц функций SECPKG**](/windows/desktop/api/Ntsecpkg/ns-ntsecpkg-secpkg_function_table) .

![LSA вызывает сплсамодеинитиализе для получения указателей на функцию](images/lsamode2.png)

После получения набора структур [**\_ \_ ТАБЛИЦ функций SECPKG**](/windows/desktop/api/Ntsecpkg/ns-ntsecpkg-secpkg_function_table) LSA вызывает функцию метода [**Initialize**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spinitializefn) для каждого пакета безопасности. LSA использует этот вызов функции для передачи каждого пакета безопасности в структуру [**\_ \_ \_ таблицы функций LSA SECPKG**](/windows/desktop/api/Ntsecpkg/ns-ntsecpkg-lsa_secpkg_function_table) , которая содержит указатели на функции поддержки LSA, доступные для пакетов безопасности. Помимо сохранения указателей на функции поддержки LSA, пользовательские пакеты безопасности должны использовать свою реализацию функции " **инициализировать** " для выполнения любой обработки, связанной с инициализацией.

Список функций поддержки LSA, доступных для пакетов безопасности в режиме LSA, см. в разделе [функции LSA, вызываемые SSP или ТД](authentication-functions.md).

Сведения о регистрации библиотеки DLL поставщика общих служб и AP см. в разделе [Регистрация DLL-библиотек SSP и AP](registering-ssp-ap-dlls.md).

 

 
