---
description: Веб-страница настраивает пользовательский интерфейс с заголовком, значком и цветом заголовка с помощью тегов метаданных, определенных на веб-странице.
ms.assetid: 6F1E0B2E-E013-4C5B-86A4-0AF8606D0C12
title: Настройка элементов пользовательского интерфейса
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 19314f8e4c5d4944a500a0eef3aa0f75cd231b12
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "103911880"
---
# <a name="how-to-customize-the-ui-elements"></a>Настройка элементов пользовательского интерфейса

Веб-страница настраивает пользовательский интерфейс с заголовком, значком и цветом заголовка с помощью тегов метаданных, определенных на веб-странице. Веб-разработчики могут использовать <meta> теги HTML для просмотра индивидуальной и фирменной символики поставщика в пользовательском интерфейсе брокера веб-проверки подлинности. Кроме того, разработчики могут направлять более сложные действия пользователя, например регистрацию и восстановление паролей. Концепция очень похожа на функцию закрепленных сайтов в Windows Internet Explorer 9 и Windows 7.

Помимо настройки пользовательского интерфейса в области веб-страницы, на веб-странице также должны использоваться стили элементов управления Windows 8, включена поддержка сенсорного ввода и при необходимости открываться ссылки в браузере.

Ниже приведен пример веб-страницы, использующей модель настройки брокера веб-проверки подлинности. ![элементы пользовательского интерфейса брокера веб-проверки подлинности](images/wab-figure7.png)

## <a name="instructions"></a>Инструкции

### <a name="step-1-customize-the-icon"></a>Шаг 1. Настройка значка

Веб-страница может предоставить значок с помощью тега meta мсвебдиалог-Logo.

``` syntax
<meta name="mswebdialog-logo" content="https://www.contoso.com/logo.png"/>
```

Содержимое — это URL-адрес, который может быть относительно страницы или абсолютным. Схема URL-адреса может быть HTTP или HTTPS. Файл должен иметь формат PNG или JPG. Размер изображения должен быть 30x30 пикселей. Если изображение имеет другой размер, оно будет масштабироваться по размеру операционной системы в соответствии с 30x30 пространством. Образ должен быть спроектирован так, чтобы его можно было использовать при масштабировании до 140% и 180% для учета экранов с более высоким разрешением. Чтобы проверить различные факторы масштабирования, используйте [пример приложения SDK для брокера веб-проверки подлинности](https://github.com/microsoft/Windows-universal-samples/tree/master/Samples/WebAuthenticationBroker) , загруженный в Visual Studio 11, который позволяет имитировать различные факторы разрешения и масштабирования с помощью окон устройств в режиме конструктора.

### <a name="step-2-customize-the-title-text"></a>Шаг 2. Настройка текста заголовка

Веб-страница может предоставить заголовок с помощью тега meta мсвебдиалог-Title.

``` syntax
<meta name="mswebdialog-title" content="Contoso Social"/>
```

Заголовок должен быть кратким и должен отражать торговую марку поставщика (например, Contoso).

### <a name="step-3-customize-the-header-color"></a>Шаг 3. Настройка цвета заголовка

Веб-страница может предоставить цвет, представляющий удостоверение торговой марки, которое будет использоваться для заголовка диалогового окна с помощью тега meta мсвебдиалог-Header-Color.

``` syntax
<meta name="mswebdialog-header-color" content="#1267DF"/>
```

Цвет может быть любым значением, указанным здесь. Однако брокер веб-проверки подлинности будет игнорировать любое значение Alpha Channel. В частности, с помощью этого цвета и цветов, используемых на странице в целом, рекомендуется следовать тем же цветам, которые используются в приложении Windows 8 поставщика, если такое приложение существует.

> [!Note]  
> Значки и цвета кэшируются на каждом сервере на клиенте после синтаксического анализа мета тегов. Очистите кэш клиента перед запуском пользовательского интерфейса, чтобы изменения вступили в силу. Для этого измените следующие параметры реестра.

 

``` syntax
// Registry location under HKLM used for setting various AuthHost parameters.
#define AUTH_HOST_LOCAL_MACHINE_REGPATH \
    L"SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Image File Execution Options\\authhost.exe"
// MaxAge to use for downloading logo images
#define AUTH_HOST_LOGO_IMAGE_MAX_AGE_SECONDS_REG_VALUE_NAME \
    L"LogoImageMaxAgeSeconds"
// 24 hours
#define AUTH_HOST_LOGO_IMAGE_MAX_AGE_SECONDS_DEFAULT        \
    (24 * 60 * 60)
```

После загрузки значка он снова не забирается в течение 24 часов. Чтобы протестировать изображения с логотипами, задайте для раздела реестра выше меньшее значение.

### <a name="step-4-customize-the-web-page"></a>Шаг 4. Настройка веб-страницы

Помимо настройки пользовательского интерфейса для веб-страницы, разработчики также должны создавать веб-страницы, которые легко и интегрируются с общим интерфейсом Windows 8. Сюда входит использование рекомендуемых стилей, проверка работы веб-страниц с устройствами с поддержкой сенсорного ввода и открытие определенных веб-страниц в веб-браузере.

-   Задание стиля

    Настоятельно рекомендуется использовать стиль, рекомендованный здесь, чтобы создать более согласованный пользовательский интерфейс для веб-страниц посредника проверки подлинности и других компонентов пользовательского интерфейса Windows 8. Веб-страница должна использовать белый фон без границ. Кнопки, такие как имя входа или Отмена, должны располагаться в правом нижнем углу и использовать тот же цвет, что и заголовок. Наконец, поскольку брокер веб-проверки подлинности предоставляет кнопку "назад", рассмотрите возможность полного удаления кнопки отмены с веб-страницы.

-   Включение сенсорного ввода

    Веб-страница должна быть разработана с учетом сенсорного взаимодействия с пользователем. Дополнительные сведения о проектировании для сенсорного ввода в Windows 8 см. в разделе [Проектирование сенсорного взаимодействия](https://msdn.microsoft.com/library/Hh465415(v=Win.10).aspx) .

-   Настройка целевого объекта гиперссылок

    Посредник веб-аутентификации отлично подходит для доставки веб-страниц, для которых требуется одно действие пользователя, такое как вход в систему или авторизация OAuth. Однако для более сложных пользовательских потоков, таких как создание учетной записи, восстановление после утери или забытого пароля, отображение заявлений о конфиденциальности и т. д., когда пользователь должен вкладывать некоторое время в понимание и выполнение последовательности, рекомендуется запускать эти страницы в предпочитаемом браузере пользователя для поддержки полной навигации и просмотра. Посредник веб-проверки подлинности по умолчанию не позволяет открывать новые окна браузера с веб-страницы (Дополнительные сведения см. в разделе "новые окна"). Однако с помощью тега meta `mswebdialog-newwindowurl` веб-страница может объявлять, какие URL-адреса следует открывать в браузере.

    `mswebdialog-newwindowurl`Компонент позволяет веб-странице указать URL-адрес или часть URL-адреса, который брокер веб-проверки подлинности будет использовать для сопоставления (левое строковое совпадение) с каждым запросом на открытие URL-адреса в новом окне либо с помощью целевого атрибута, либо метода Window. Open (). В случае совпадения URL-адрес будет открыт в пользовательском браузере по умолчанию. Если совпадений нет, посредник веб-аутентификации перейдет к самому URL-адресу (поведение по умолчанию). Пример: `<meta name="mswebdialog-newwindowurl" content="https://www.contoso.com/privacy"/>`

    В случае с этим тегом META посредник веб-аутентификации откроет в https://www.contoso.com/privacy/policy.html браузере, но будет напрямую переходить к https://www.contoso.com/termsofuse.html . Обратите внимание, что этот мета-тег не влияет на ссылки, которые не пытаются открыть в новом окне (например, ссылки, не использующие целевой атрибут или метод Window. Open ()). Содержимое — это URL-адрес, который может быть относительно страницы или абсолютным. Схема URL-адреса может быть HTTP или HTTPS. Необходимо определить `mswebdialog-newwindowurl` теги META, чтобы охватить все ссылки, не являющиеся частью основного пользовательского потока, например заявления о конфиденциальности, формы регистрации и т. д. Если вы поддерживаете вход с помощью стороннего поставщика проверки подлинности (например, OpenID Connect providers), убедитесь, что эти взаимодействия сохраняются в брокере веб-аутентификации. Чтобы разрешить открытие всех ссылок на странице в браузере, используйте синтаксис звездочки, например, `  <meta name="mswebdialog-newwindowurl" content="*"/>` Обратите внимание, что " \* " может использоваться только в монопольном режиме и не может сочетаться с другим URL-адресом, например " https://www.contoso.com/\ *" не является допустимым синтаксисом.

### <a name="step-5-rules-applied-to-all-meta-tags"></a>Шаг 5. правила, применяемые ко всем тегам META

Когда брокер веб-проверки подлинности обрабатывает теги META, применяются следующие правила.

-   Результат тега meta будет сохранен на всех страницах в домене второго уровня (например, contoso.com), если только не встретится другой мета-тег с таким же именем, но с другим содержимым.
-   Если на одной странице встречается несколько Meta-тегов одного и того же имени, то брокер проверки подлинности будет выбирать только один из них и игнорировать остальные. Выбранный конкретный мета-тег не определен.
    > [!Note]  
    > Это правило не применяется к `mswebdialog-newwindowurl` тегу meta, допускающему использование нескольких экземпляров на одной странице.

     

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Рекомендации по разработке веб-страниц](considerations-for-the-web-page-development.md)
</dt> <dt>

[Пример приложения SDK брокера веб-проверки подлинности](https://github.com/microsoft/Windows-universal-samples/tree/master/Samples/WebAuthenticationBroker)
</dt> <dt>

[**Windows.Security.Authentication.Web**](/uwp/api/Windows.Security.Authentication.Web)
</dt> </dl>

 

 
