---
description: Метод Seek заменяет указатель поиска на новое расположение относительно начала буфера, до конца буфера или на текущий указатель поиска.
ms.assetid: 3541f3dd-7b92-4f72-89b7-4e04e007aaa3
title: 'Метод Ибитебуффер:: Seek (Скардссп. h)'
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- IByteBuffer.Seek
api_type:
- COM
api_location:
- Scardssp.dll
ms.openlocfilehash: 70c4af327fad5014c5d6dec80dd29441f51a03639a108249991c83f53e5d2be8
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "120016254"
---
# <a name="ibytebufferseek-method"></a>Метод Ибитебуффер:: Seek

\[Метод **Seek** доступен для использования в операционных системах, указанных в разделе требования. он недоступен для использования в Windows Server 2003 с пакетом обновления 1 (SP1) и более поздних версий, Windows Vista, Windows Server 2008 и последующих версиях операционной системы. Интерфейс [**IStream**](/windows/desktop/api/objidl/nn-objidl-istream) предоставляет аналогичные функциональные возможности.\]

Метод **Seek** заменяет указатель поиска на новое расположение относительно начала буфера, до конца буфера или на текущий указатель поиска.

## <a name="syntax"></a>Синтаксис


```C++
HRESULT Seek(
  [in]  LONG dlibMove,
  [in]  LONG dwOrigin,
  [out] LONG *plibNewPosition
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*длибмове* \[ окне\]
</dt> <dd>

Смещение, добавляемое в расположение, указанное параметром *dwOrigin*. Если *dwOrigin* является потоком \_ Seek \_ Set, он интерпретируется как значение без знака, а не как подписанное.

</dd> <dt>

*dwOrigin* \[ окне\]
</dt> <dd>

Указывает источник смещения, указанного в *длибмове*. Источником может быть одно из значений, приведенных в следующей таблице.



| Значение                                                                                                                                                                | Значение                                                                                                                                                                                        |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="STREAM_SEEK_SET"></span><span id="stream_seek_set"></span><dl> <dt>**\_набор Seek для потока \_**</dt> </dl> | Новый указатель поиска — это смещение относительно начала потока. В этом случае параметр *длибмове* является новой позицией поиска относительно начала потока.<br/> |
| <span id="STREAM_SEEK_CUR"></span><span id="stream_seek_cur"></span><dl> <dt>**ПОТОКовый \_ Поиск \_ вал.**</dt> </dl> | Новый указатель поиска — это смещение относительно текущего расположения указателя поиска. В этом случае параметр *длибмове* является смещением со знаком из текущей позицией поиска.<br/>  |
| <span id="STREAM_SEEK_END"></span><span id="stream_seek_end"></span><dl> <dt>**\_Окончание поиска в потоке \_**</dt> </dl> | Новый указатель поиска — это смещение относительно конца потока. В этом случае параметр *длибмове* является новой позицией поиска относительно конца потока.<br/>             |



 

</dd> <dt>

*плибневпоситион* \[ заполняет\]
</dt> <dd>

Указатель на расположение, в котором этот метод записывает значение нового указателя поиска с начала потока. Можно задать для этого указателя значение **null** , чтобы указать, что вы не заинтересованы в этом значении. В этом случае этот метод не предоставляет новый указатель поиска.

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Возвращаемое значение является значением **HRESULT**. Значение S \_ ОК указывает на Успешный вызов.

## <a name="remarks"></a>Remarks

Метод **Seek** изменяет указатель поиска таким образом, чтобы последующие операции чтения и записи могли выполняться в другом месте в объекте потока. Поиск перед началом потока является ошибкой. Однако это не ошибка поиска после конца потока. Поиск после конца потока полезен для последующих операций записи, так как поток в это время будет расширен до позиции поиска непосредственно перед выполнением операции записи.

Этот метод также можно использовать для получения текущего значения указателя поиска путем вызова этого метода с параметром *dwOrigin* , для которого задано значение Stream \_ Seek \_ cur, а для параметра *длибмове* — значение 0, чтобы указатель поиска не изменялся. Текущий указатель поиска возвращается в параметре *плибневпоситион* .

## <a name="examples"></a>Примеры

В следующем примере показано размещение указателя поиска на новом месте.


```C++
LONG     lNewPos;
HRESULT  hr;

// Change the seek pointer.
hr = pIByteBuff->Seek(5, STREAM_SEEK_SET, &lNewPos);
if (FAILED(hr))
  printf("Failed IByteBuffer::Seek\n");
else
  printf("New position is %x\n", lNewPos);
```



## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|-----------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows \[Только классические приложения XP\]<br/>                                             |
| Минимальная версия сервера<br/> | Windows Только для \[ настольных приложений сервера 2003\]<br/>                                    |
| Окончание поддержки клиента<br/>    | Windows XP<br/>                                                                   |
| Поддержка конца сервера<br/>    | Windows Server 2003<br/>                                                          |
| Заголовок<br/>                   | <dl> <dt>Скардссп. h</dt> </dl>   |
| Библиотека типов<br/>             | <dl> <dt>Скардссп. tlb</dt> </dl> |
| DLL<br/>                      | <dl> <dt>Scardssp.dll</dt> </dl> |
| IID<br/>                      | IID \_ ибитебуффер определен как E126F8FE-A7AF-11D0-B88A-00C04FD424B9<br/>          |



 

