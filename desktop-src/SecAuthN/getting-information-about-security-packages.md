---
description: При запуске клиента он выбирает пакет безопасности для своих транзакций с сервером, а затем связывается с этим сервером. Сервер выбирает один или несколько пакетов безопасности и ожидает подключения клиента.
ms.assetid: eaed162b-ef07-4295-93d9-6be91232a82e
title: Получение сведений о пакетах безопасности
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ca690575ff7f46ef5a5b1d971b1ab9fdd91f95e6
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127173528"
---
# <a name="getting-information-about-security-packages"></a>Получение сведений о пакетах безопасности

При запуске клиента он выбирает [*пакет безопасности*](/windows/desktop/SecGloss/s-gly) для своих транзакций с сервером, а затем связывается с этим сервером. Сервер выбирает один или несколько пакетов безопасности и ожидает подключения клиента.

Для получения подробных сведений о пакетах безопасности SSPI, доступных в определенном поставщике общих служб, можно вызвать функцию [**енумератесекуритипаккажес**](/windows/desktop/api/Sspi/nf-sspi-enumeratesecuritypackagesa) , чтобы получить структуру [**секпкгинфо**](/windows/desktop/api/Sspi/ns-sspi-secpkginfoa) .

Чтобы получить выходную структуру, вызывающий объект передает в функцию адрес указателя на тип возвращаемой структуры. Функция выделяет память и возвращает данные вызывающему объекту, присваивая аргументу адрес буфера возвращаемых данных. Соглашение SSPI заключается в том, что функция выделяет память для структуры, а вызывающее приложение освобождает эту память с помощью [**фриконтекстбуффер**](/windows/desktop/api/Sspi/nf-sspi-freecontextbuffer).

Вызов функции [**куерисекуритипаккажеинфо**](/windows/desktop/api/Sspi/nf-sspi-querysecuritypackageinfoa) извлекает атрибуты [*пакета безопасности*](/windows/desktop/SecGloss/s-gly). Как сервер, так и клиент могут вызвать функцию **куерисекуритипаккажеинфо** , чтобы получить максимальную длину маркера безопасности из элемента **кбмакстокен** структуры [**секпкгинфо**](/windows/desktop/api/Sspi/ns-sspi-secpkginfoa) . пример см. в вызове функции **куерисекуритипаккажеинфо** , показанной в разделе [использование SSPI с сервером сокетов Windows](using-sspi-with-a-windows-sockets-server.md).

Дополнительные сведения о функциях пакета см. в разделе [Управление пакетами](authentication-functions.md).

 

 
