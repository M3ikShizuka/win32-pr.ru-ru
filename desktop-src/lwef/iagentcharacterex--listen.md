---
title: Иажентчарактерекс прослушивание
description: Иажентчарактерекс прослушивание
ms.assetid: 8d4cdb6c-04e1-498c-867f-fddbe6e2791a
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 12c479936a8d2dc43e2f2da5a680a51705af2885
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127469343"
---
# <a name="iagentcharacterexlisten"></a>Иажентчарактерекс:: Listen

\[Microsoft Agent является устаревшим по отношению к Windows 7 и может быть недоступен в последующих версиях Windows.\]

``` syntax
HRESULT Listen(
   long bListen  // listening mode flag
);
```

Включает или выключает режим прослушивания (вход распознавания речи).

-   Возвращает значение S \_ , чтобы указать, что операция выполнена успешно.

<dl> <dt>

<span id="bListen"></span><span id="blisten"></span><span id="BLISTEN"></span>*блистен*
</dt> <dd>

Флаг режима прослушивания. Если этот параметр имеет **значение true**, режим прослушивания включен; Если задано **значение false**, режим прослушивания отключен.

</dd> </dl>

Установка этого метода в **значение true** включает режим прослушивания (включает распознавание речи) в течение фиксированного периода времени. Пока нельзя задать значение времени ожидания, можно отключить режим прослушивания до истечения времени ожидания. Кроме того, если режим прослушивания уже включен, так как вы (или другой клиент) успешно установили для метода **значение true** до истечения времени ожидания, метод выполняется успешно и сбрасывает время ожидания. Однако если режим прослушивания уже включен, так как пользователь нажимает клавишу прослушивания, метод завершается, но время ожидания игнорируется, а режим прослушивания завершается в зависимости от взаимодействия пользователя с ключом прослушивания.

Этот метод будет выполнен только при вызове клиентом ввода-активного. Поэтому метод завершится ошибкой, если клиент не является активным клиентом самого верхнего символа. Метод также завершится ошибкой, если вы попытаетесь установить для метода **значение false** и пользователь нажимает клавишу прослушивания. Также может произойти сбой, если отсутствует совместимый механизм распознавания речи, соответствующий параметру идентификатора языка символа, или пользователь отключил речевой ввод с помощью страницы свойств Microsoft Agent. Однако метод не будет работать, если звуковое устройство занято.

Если для этого метода задано **значение true**, сервер запускает событие [**Иажентнотифисинкекс:: листенингстате**](iagentnotifysinkex--listeningstate.md) . Сервер также отправляет **иажентнотифисинкекс:: листенингстате** по завершении времени ожидания в режиме ожидания или при установке [**Иажентчарактерекс:: Listen**](https://www.bing.com/search?q=**IAgentCharacterEx::Listen**) **false**.

Этот метод не вызывает автоматически [**иажентчарактер:: стопалл**](iagentcharacter--stopall.md) и воспроизводит анимацию состояния прослушивания символа, как происходит, когда пользователь нажимает клавишу прослушивания. Это позволяет использовать событие [**иажентнотифисинкекс:: листенингстате**](iagentnotifysinkex--listeningstate.md) , чтобы определить, следует ли прерывать текущую анимацию и воспроизводить соответствующую анимацию. Однако после обнаружения пользователя utterance сервер автоматически вызывает **иажентчарактер:: стопалл** и воспроизводит анимацию состояния слуха.

## <a name="see-also"></a>См. также:

[**Иажентнотифисинкекс:: листенингстате**](iagentnotifysinkex--listeningstate.md), [ **иажентспичинпутпропертиес:: enable**](iagentspeechinputproperties--getenabled.md)


 

 




