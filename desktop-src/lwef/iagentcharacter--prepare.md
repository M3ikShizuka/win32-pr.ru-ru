---
title: Подготовка Иажентчарактер
description: Подготовка Иажентчарактер
ms.assetid: e016039f-a0b1-4ae9-bff6-7212b02c1ad8
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3eebee8d2ea99c8782e9506e0e4a812cfb277487
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/19/2020
ms.locfileid: "104069970"
---
# <a name="iagentcharacterprepare"></a>Иажентчарактер::P готовка

\[Microsoft Agent является устаревшим в Windows 7 и может быть недоступен в последующих версиях Windows.\]

``` syntax
HRESULT Prepare(
   long dwType,     // type of animation data to load
   BSTR bszName,    // name of the animation 
   long bQueue,     // queue the request
   long * pdwReqID  // address of request ID
);
```

Извлекает данные анимации для символа.

-   Возвращает значение S \_ , чтобы указать, что операция выполнена успешно. Когда функция возвращает значение, *пдврекид* содержит идентификатор запроса.

<dl> <dt>

<span id="dwType"></span><span id="dwtype"></span><span id="DWTYPE"></span>*двтипе*
</dt> <dd>

Значение, указывающее тип данных анимации для загрузки, который должен быть одним из следующих:



| Значение                                                           | Описание                                                |
|-----------------------------------------------------------------|------------------------------------------------------------|
| **неподписанная короткая анимация без знака в константе** **\_ = 0;**<br/> | Данные анимации символа.                              |
| **постоянное неподписанное короткое** **состояние подготавливается \_ = 1;**<br/>     | Данные о состоянии символа.                                  |
| **константа неподписанного короткого файла подписывания const** **\_ = 2**<br/>       | Звуковой файл символа (. WAV или. ЛВВ) для речевого вывода. |



 

</dd> <dt>

<span id="bszName"></span><span id="bszname"></span><span id="BSZNAME"></span>*бсзнаме*
</dt> <dd>

Имя анимации или состояния.

Имя анимации основано на том, что определено для символа при его сохранении с помощью редактора символов Microsoft Agent.

Для состояний может принимать одно из следующих значений:



|                      |                                                 |
|----------------------|-------------------------------------------------|
| **"Жестуринг"**      | Для получения всех анимаций состояния **жестуринг** . |
| **"Жестурингдовн"**  | Для получения анимации **жестурингдовн** .       |
| **"Жестуринглефт"**  | Для получения анимации **жестуринглефт** .       |
| **"Жестурингригхт"** | Для получения анимации **жестурингригхт** .      |
| **"Жестурингуп"**    | Для получения анимации **жестурингуп** .         |
| **Отображение**         | Для получения анимации **скрытого** состояния.    |
| **Движ**        | Для получения анимации состояния **слуха** .   |
| **Состояние простоя**         | Для получения всех анимаций состояния **состояние простоя** .    |
| **"IdlingLevel1"**   | Для получения всех анимаций **IdlingLevel1** .    |
| **"IdlingLevel2"**   | Для получения всех анимаций **IdlingLevel2** .    |
| **"IdlingLevel3"**   | Для получения всех анимаций **IdlingLevel3** .    |
| **Прослушивающий**      | Для получения анимации состояния **прослушивания** . |
| **Изменения**         | Для получения всех анимаций о состоянии **перемещения** .    |
| **"Мовингдовн"**     | Для получения всех **движущихся** анимаций.          |
| **"Мовинглефт"**     | Для получения всех анимаций **мовинглефт** .      |
| **"Мовингригхт"**    | Для получения всех анимаций **мовингригхт** .     |
| **"Мовингуп"**       | Для получения всех анимаций **мовингуп** .        |
| **Специаль**        | Для получения анимации состояния **отображения** .   |
| **Говоря**       | Для получения анимации состояния **речи** .  |



 

Предмет. Файлы WAV, задайте для *бсзнаме* URL-адрес или спецификацию файла для. Файл WAV. Если спецификация не завершена, она интерпретируется как относительная для спецификации, используемой в методе [**Load**](https://www.bing.com/search?q=**Load**) .

</dd> <dt>

<span id="bQueue"></span><span id="bqueue"></span><span id="BQUEUE"></span>*бкуеуе*
</dt> <dd>

Логическое значение, указывающее, помещает ли сервер запрос на [**подготовку**](/windows/desktop/lwef/iagentcharacter--prepare) . **Значение true** ставит запрос в очередь и приводит к тому, что все запросы анимации, которые следуют за ним, ожидают загрузки данных анимации, которые он указывает. **Значение false** — возвращает данные анимации асинхронно.

</dd> <dt>

<span id="pdwReqID"></span><span id="pdwreqid"></span><span id="PDWREQID"></span>*пдврекид*
</dt> <dd>

Адрес переменной, которая получает идентификатор запроса на [**подготовку**](/windows/desktop/lwef/iagentcharacter--prepare) .

</dd> </dl>

При загрузке символа с помощью протокола HTTP (. ACF File) необходимо использовать метод [**Prepare**](/windows/desktop/lwef/iagentcharacter--prepare) для получения данных анимации, прежде чем можно будет воспроизвести анимацию. Этот метод нельзя использовать, если вы загрузили символ с помощью протокола UNC (. Файл ACS). Вы также не можете получить данные HTTP для символа с помощью инструкции **Prepare** , если вы загрузили этот символ с помощью протокола UNC (. Файл символов ACS).

Анимация или звуковые данные, полученные с помощью метода [**Prepare**](/windows/desktop/lwef/iagentcharacter--prepare) , хранятся в кэше браузера. Последующие вызовы проверяют кэш и, если данные анимации уже есть, элемент управления загружает данные непосредственно из кэша. После загрузки анимации или звуковые данные можно воспроизвести с помощью методов [**Play**](/windows/desktop/lwef/iagentcharacter--play) или [**говорите**](/windows/desktop/lwef/iagentcharacter--speak) .

Можно указать несколько анимаций и состояний, разделяя их запятыми. Однако нельзя смешивать типы в одной и той же инструкции [**Prepare**](/windows/desktop/lwef/iagentcharacter--prepare) .

 

