---
title: Функция Мпсреатопен (Мпклиент. h)
description: Возвращает маркер перечисления, предназначенный для получения угроз.
ms.assetid: E1178F0C-E9C0-4532-AE9B-452770600DF2
keywords:
- функции мпсреатопен устаревших функций среды Windows
topic_type:
- apiref
api_name:
- MpThreatOpen
api_location:
- MpClient.dll
api_type:
- DllExport
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 949fd1c8291ecb183cf51cf5385fe356a33cb1288978fda42f37d748f1a162a6
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118746893"
---
# <a name="mpthreatopen-function"></a>Функция Мпсреатопен

Возвращает маркер перечисления, предназначенный для получения угроз. Эта функция может использоваться для открытия угроз, обнаруженных конкретным сканированием, всех активных угроз в системе, истории заражения угроз или всех угроз, имеющихся в базе данных сигнатур.

## <a name="syntax"></a>Синтаксис


```C++
HRESULT WINAPI MpThreatOpen(
  _In_  MPHANDLE        hScanHandle,
  _In_  MPTHREAT_SOURCE ThreatSource,
  _In_  MPTHREAT_TYPE   ThreatType,
  _Out_ PMPHANDLE       phThreatEnumHandle
);
```



## <a name="parameters"></a>Параметры

<dl> <dt>

*хсканхандле* \[ окне\]
</dt> <dd>

Тип: **мфандле**

Может быть обработкой завершенной операции просмотра, возвращаемой функцией [**мпсканстарт**](mpscanstart.md) . Кроме того, для этого параметра можно задать маркер интерфейса диспетчера защиты от вредоносных программ, возвращаемый функцией [**мпманажеропен**](mpmanageropen.md) , чтобы перечислить все активные угрозы в системе, историю заражения угроз или угрозы из базы данных сигнатур.

</dd> <dt>

*Среатсаурце* \[ окне\]
</dt> <dd>

Тип: **мпсреат \_ Source**

Используется для управления источником перечисления угроз. Допустимые значения для этого параметра:



| Значение                                                                                                                                                                                                 | Значение                                                                                                            |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------|
| <span id="MPTHREAT_SOURCE_SCAN"></span><span id="mpthreat_source_scan"></span><dl> <dt>**\_Проверка источника \_ мпсреат**</dt> </dl>                   | Угрозы, связанные с конкретным обработчиком сканирования.<br/>                                              |
| <span id="MPTHREAT_SOURCE_ACTIVE"></span><span id="mpthreat_source_active"></span><dl> <dt>**\_источник мпсреат \_ активен**</dt> </dl>             | Угрозы, которые в настоящее время активны в системе.<br/>                                                        |
| <span id="MPTHREAT_SOURCE_HISTORY"></span><span id="mpthreat_source_history"></span><dl> <dt>**\_журнал источника \_ мпсреат**</dt> </dl>          | Угрозы, обрабатываемые и сохраняемые в виде журнала.<br/>                                                 |
| <span id="MPTHREAT_SOURCE_QUARANTINE"></span><span id="mpthreat_source_quarantine"></span><dl> <dt>**\_Карантин источника \_ мпсреат**</dt> </dl> | Угрозы, помещенные в карантин.<br/>                                                                           |
| <span id="MPTHREAT_SOURCE_SIGNATURE"></span><span id="mpthreat_source_signature"></span><dl> <dt>**\_Исходная \_ подпись мпсреат**</dt> </dl>    | Угрозы, которые можно обнаружить с помощью текущей базы данных сигнатур.<br/>                                |
| <span id="MPTHREAT_SOURCE_STATE"></span><span id="mpthreat_source_state"></span><dl> <dt>**\_состояние источника \_ мпсреат**</dt> </dl>                | Угрозы, которые были выполнены недавно. ("Недавно" определяется настраиваемым внутренним параметром.)<br/> |



 

</dd> <dt>

*Среаттипе* \[ окне\]
</dt> <dd>

Тип: **мпсреат \_ тип**

Используется для фильтрации перечисленных угроз на основе типа обнаружения. Допустимые значения для этого параметра:



| Значение                                                                                                                                                                                           | Значение                                                                                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------|
| <span id="MPTHREAT_TYPE_KNOWNBAD"></span><span id="mpthreat_type_knownbad"></span><dl> <dt>**\_тип мпсреат \_ кновнбад**</dt> </dl>       | Обнаружение выполняется на основе определенной сигнатуры, эмуляции или другого метода обнаружения угроз.<br/> |
| <span id="MPTHREAT_TYPE_SUSPICIOUS"></span><span id="mpthreat_type_suspicious"></span><dl> <dt>**\_тип мпсреат \_ подозрительный**</dt> </dl> | Обнаружение выполняется на основе мониторинга поведения.<br/>                                               |
| <span id="MPTHREAT_TYPE_UNKNOWN"></span><span id="mpthreat_type_unknown"></span><dl> <dt>**\_неизвестный тип мпсреат \_**</dt> </dl>          | Обнаружение выполняется на основе неизвестных угроз (неклассифицированных).<br/>                                    |
| <span id="MPTHREAT_TYPE_KNOWNGOOD"></span><span id="mpthreat_type_knowngood"></span><dl> <dt>**\_тип мпсреат \_ кновнгуд**</dt> </dl>    | Обнаружение выполняется на основе известных угроз безопасности.<br/>                                                |
| <span id="MPTHREAT_TYPE_NIS"></span><span id="mpthreat_type_nis"></span><dl> <dt>**МПСРЕАТ \_ тип \_ NIS**</dt> </dl>                      | Обнаружение выполняется на основе угроз NIS.<br/>                                                       |



 

</dd> <dt>

*фсреатенумхандле* \[ заполняет\]
</dt> <dd>

Тип: **пмфандле**

Возвращенный обработчик перечисления угроз, который идентифицирует контекст перечисления. Этот обработчик можно использовать для перечисления сведений об угрозах с помощью [**мпсреатенумерате**](mpthreatenumerate.md). Этот маркер должен быть закрыт функцией [**мфандлеклосе**](mphandleclose.md) .

</dd> </dl>

## <a name="return-value"></a>Возвращаемое значение

Тип: **HRESULT**

Если функция выполнена успешно, возвращается значение **S \_**.

Если функция завершается ошибкой, возвращаемое значение является неудачным кодом **HRESULT** . Вызывающий объект может использовать функцию [**мперрормессажеформат**](mperrormessageformat.md) для получения общего описания сообщения об ошибке.

## <a name="requirements"></a>Requirements (Требования)



| Требование | Значение |
|-------------------------------------|-----------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows 8 \[ только классические приложения\]<br/>                                              |
| Минимальная версия сервера<br/> | Windows Server 2012 \[ только классические приложения\]<br/>                                    |
| Header<br/>                   | <dl> <dt>Мпклиент. h</dt> </dl>   |
| DLL<br/>                      | <dl> <dt>MpClient.dll</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[**мперрормессажеформат**](mperrormessageformat.md)
</dt> <dt>

[**мфандлеклосе**](mphandleclose.md)
</dt> <dt>

[**мпманажеропен**](mpmanageropen.md)
</dt> <dt>

[**мпсканстарт**](mpscanstart.md)
</dt> <dt>

[**мпсреатенумерате**](mpthreatenumerate.md)
</dt> </dl>

 

 





