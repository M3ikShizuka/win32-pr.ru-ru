---
description: Группирование параметров
ms.assetid: 088156f7-fb75-4fcf-b928-87e97b13bdab
title: Группирование параметров
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3083c3a7ad0971d6d3334303cf9eaf4c0313c4482825c3623a04a12ae046b665
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "119018372"
---
# <a name="grouping-parameters"></a>Группирование параметров

Параметр группирования определяет коллекцию [звуковых сеансов](audio-sessions.md) , которые управляются одним элементом управления громкостью в программе системного управления громкостью, сндвол. Параметр GROUPING — это идентификатор GUID, который однозначно определяет коллекцию в области действия компьютера.

Назначение параметра группирования аналогично идентификатору GUID сеанса для межпроцессного сеанса. То есть параметр GROUPING позволяет пользователю управлять коллекцией потоков из любого количества процессов как единое целое. Однако параметр Group служит для выполнения этой задачи в случаях, когда межпроцессные сеансы не могут предоставить решение.

Если несколько клиентов присваивают своим потокам отдельные сеансы, но каждому из них назначен один и тот же параметр группирования, Сндвол отображает один регулятор громкости для этих сеансов. Чтобы обеспечить поддержку группирования параметров, Сндвол или любое аналогичное приложение управления томами должно выполнить следующие действия.

-   Перед отображением элементов управления громкостью проверьте параметры группирования всех активных сеансов. Группировать вместе с одним томом управляет всеми сеансами с одинаковым параметром группирования.
-   Когда пользователь изменяет параметр в элементе управления "Громкость" для определенного параметра группирования, обновите уровни громкости всех сеансов, которые совместно используют этот параметр группирования.

Группирование параметров позволяет сократить количество элементов управления громкостью, отображаемых Сндвол. Пользователи могут перепутаться, если Сндвол перестают отображать слишком много элементов управления. Без поддержки группирования параметров Сндвол всегда будет отображать отдельный регулятор громкости для каждого сеанса, что может оказаться неприемлемым во всех обстоятельствах. Кроме того, параметры группировки предоставляют удобный способ, позволяющий легко установить один уровень громкости для сеансов, которые содержат похожие типы аудио-содержимого.

Как упоминалось ранее, аудио API более высокого уровня обычно применяют свои потоки к сеансу конкретного процесса по умолчанию (определяемому идентификатором GUID сеанса GUID \_ null). Это значение по умолчанию позволяет Сндвол отображать отдельный регулятор громкости для каждого процесса клиентского приложения, что часто является необходимым поведением. Более того, если несколько экземпляров одного и того же клиента выполняются в отдельных процессах, но требуется один общий элемент управления томами, клиенты могут просто назначить свои потоки в один и тот же сеанс между процессами. Ни один из этих вариантов не требует использования параметров группирования. Однако в одном из важных случаев, как содержащиеся в Microsoft Internet Explorer, требуется использование параметров группирования для достижения желаемого поведения.

Internet Explorer позволяет пользователям открывать несколько окон браузера, и эти окна могут не работать в одном процессе. Пользователи могут стать запутанными, если Сндвол отображает отдельный регулятор громкости для каждого экземпляра приложения, у которого одна и та же метка — Internet Explorer. Межпроцессный сеанс не является разумным решением в этом случае. Если несколько экземпляров Internet Explorer выполняются в разных процессах, они не смогут назначить все свои звуковые потоки одному сеансу между процессами. причина заключается в том, что окна Internet Explorer могут работать с экземплярами проигрыватель Windows Media или другим подключаемым модулем мультимедиа, который использует аудио API более высокого уровня для воспроизведения своих звуковых потоков. Эти интерфейсы API обычно назначают потоки в процессе по умолчанию, сеансу конкретного процесса. Internet Explorer не контролирует назначение этих потоков сеансам.

ВАСАПИ решает эту проблему, позволяя каждому экземпляру Internet Explorer получать доступ к элементам управления сеанса по умолчанию, сеансу конкретного процесса и назначить параметр группирования этому сеансу. Если всем экземплярам Internet Explorer назначен один и тот же параметр группирования во всех своих звуковых сеансах, Сндвол будет отображать один регулятор громкости для этих сеансов.

По умолчанию сеанс не принадлежит ни к одной группировке. Если клиент явно не назначает сеанс группирования, Сндвол отображает выделенный элемент управления громкостью для этого сеанса. Значение параметра группирования GUID \_ null указывает, что сеанс не принадлежит ни одной группе группирования. Если ни один клиент явно не назначил параметр группирования для сеанса, значение параметра группирования для этого сеанса \_ по умолчанию равно GUID null.

Клиент может динамически изменять группирование, к которому назначен сеанс.

Группирование может включать любое сочетание межпроцессных сеансов и сеансов, зависящих от процесса, на [устройстве конечной точки звука](audio-endpoint-devices.md).

Пользовательский интерфейс Сндвол позволяет пользователю отображать регуляторы громкости только для одного устройства звуковой конечной точки за раз. Когда пользователь корректирует элементы управления громкостью для определенного устройства, это не повлияет на уровни громкости сеансов, подключающихся к другим устройствам. В частности, элемент управления "Громкость" для определенного параметра группирования влияет только на сеансы, которые совместно используют параметр группирования и подключены к текущему выбранному устройству. В сеансе, который имеет идентичный параметр группирования, но он подключен к другому устройству, не влияет.

Как было сказано ранее, Сндвол помечает каждый элемент управления громкостью, который отображается с отображаемым именем и значком. В случае с элементом управления громкостью для группирования Сндвол произвольно выбирает один из сеансов в группе в качестве источника для отображаемого имени и значка, который отображается с помощью регулятора громкости. Таким же, чтобы гарантировать, что Сндвол всегда отображает одно и то же отображаемое имя и значок для группы, все экземпляры приложения, которые назначают сеансы этой группе, должны убедиться, что соответствующие сеансы имеют одинаковое отображаемое имя и значок. Дополнительные сведения о отображаемых именах и значках см. в статье о [звуковых сеансах](audio-sessions.md).

Приложение, например Сндвол, может зарегистрироваться для получения уведомлений при изменении параметра группирования для сеанса. Такие уведомления могут быть полезны, если приложение кэширует сведения о назначении сеансов для группирования параметров. Уведомление информирует приложение о том, что кэшированные данные могут стать недействительными.

Чтобы назначить параметр группирования для сеанса, вызовите метод [**иаудиосессионконтрол:: сетграупингпарам**](/windows/desktop/api/Audiopolicy/nf-audiopolicy-iaudiosessioncontrol-setgroupingparam) . Чтобы получить параметр группирования, назначенный сеансу, вызовите метод [**иаудиосессионконтрол:: жетграупингпарам**](/windows/desktop/api/Audiopolicy/nf-audiopolicy-iaudiosessioncontrol-getgroupingparam) .

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Сеансы аудио](audio-sessions.md)
</dt> </dl>

 

 



