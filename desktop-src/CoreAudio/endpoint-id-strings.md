---
description: Строки идентификатора конечной точки
ms.assetid: 3c955e2d-daaa-4b77-8ca5-890383bb2d39
title: Строки идентификатора конечной точки
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 92fdfbf12f3e037a23163bb3e8fef525db89c15904328c9e0fd8a71e5de004b2
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118957313"
---
# <a name="endpoint-id-strings"></a>Строки идентификатора конечной точки

в Windows Vista система создает строки идентификатора конечной точки для идентификации [устройств конечных точек звука](audio-endpoint-devices.md) в системе. Строка идентификатора конечной точки — это строка расширенных символов, заканчивающаяся символом NULL. Строка идентификатора конечной точки для конкретного устройства с конечной точкой уникально идентифицирует устройство между всеми устройствами конечных точек аудио в системе.

Если система содержит два или более идентичные устройства звуковых адаптеров, соответствующие им устройства конечных точек будут иметь одинаковые понятные имена, но каждое устройство конечной точки будет иметь уникальную строку идентификатора конечной точки. Дополнительные сведения о получении понятного имени устройства конечной точки см. в разделе [Свойства устройства](device-properties.md).

После получения экземпляра интерфейса [**иммдевице**](/windows/desktop/api/Mmdeviceapi/nn-mmdeviceapi-immdevice) для устройства конечной точки аудио клиент может вызвать метод [**Иммдевице:: GetId**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdevice-getid) , чтобы получить строку идентификатора конечной точки для устройства. Клиент может использовать строку идентификатора конечной точки для создания экземпляра устройства конечной точки аудио в более позднее время или в другом процессе, вызвав метод [**иммдевицеенумератор::-Device**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdeviceenumerator-getdevice) .

Клиент может организовать получение уведомления при изменении состояния любого устройства конечной точки аудио. Для получения уведомлений клиент реализует интерфейс [**иммнотификатионклиент**](/windows/desktop/api/Mmdeviceapi/nn-mmdeviceapi-immnotificationclient) и регистрирует этот интерфейс с помощью API ммдевице. При изменении состояния устройства конечной точки API Ммдевице вызывает соответствующий метод в интерфейсе [**едатафлов**](/windows/win32/api/mmdeviceapi/ne-mmdeviceapi-edataflow) клиента. Одним из входных параметров метода является строка идентификатора конечной точки, которая определяет устройство, состояние которого изменилось. Дополнительные сведения о **едатафлов** см. в разделе [события устройства](device-events.md).

устаревшие api аудио, такие как DirectSound и функции мультимедиа Windows, имеют собственные интерфейсы для перечисления и идентификации звуковых устройств. в Windows Vista эти интерфейсы были расширены для предоставления строк с идентификаторами конечных точек, которые определяют устройства конечных точек, которые лежат в процессе абстракций устройств, представленных интерфейсами api.

Во время перечисления DirectSound устройства DirectSound предоставляет строку идентификатора конечной точки для каждого устройства, которое оно перечисляет. Дополнительные сведения см. в статье [события аудио для устаревших аудио приложений](audio-events-for-legacy-audio-applications.md).

Чтобы получить строку идентификатора конечной точки для устаревшего устройства волны, используйте функцию [**вавеаутмессаже**](/previous-versions//dd743865(v=vs.85)) или [**вавеинмессаже**](/previous-versions//dd743846(v=vs.85)) для отправки \_ сообщения DRV куерифунктионинстанцеид в драйвер устройства волны. пример кода, демонстрирующий использование этого сообщения, см. в разделе [роли устройств для устаревших Windows мультимедийных приложений](device-roles-for-legacy-windows-multimedia-applications.md).

Дополнительные сведения об использовании возможностей основных API аудио для улучшения приложений, использующих устаревшие аудио API, см. в статье [взаимодействие с устаревшими](interoperability-with-legacy-audio-apis.md)аудио API.

Клиенты должны считать содержимое строки идентификатора конечной точки непрозрачной. То есть клиенты не должны пытаться проанализировать содержимое строки для получения сведений об устройстве. Причина в том, что формат строки не определен и может изменяться от одной реализации системного модуля API Ммдевице к следующему.

Время существования строки идентификатора конечной точки привязывается к установке устройства. Строка идентификатора конечной точки устройства изменяется, если пользователь обновляет драйвер устройства или если пользователь удаляет устройство, и устанавливает его снова. Однако строка идентификатора конечной точки остается неизменной при перезапуске системы, и строка идентификатора конечной точки устройства USB остается неизменной, если пользователь отсоединяет устройство и снова подключается к нему.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Устройства конечных точек звука](audio-endpoint-devices.md)
</dt> </dl>

 

 
