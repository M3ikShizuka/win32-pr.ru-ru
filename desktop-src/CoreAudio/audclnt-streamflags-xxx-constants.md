---
description: Задает характеристики, которые клиент может назначить звуковому потоку во время инициализации потока.
ms.assetid: 7b2267c3-79f5-4ada-a7ce-78dd514f8487
title: Константы AUDCLNT_STREAMFLAGS_XXX (Аудиосессионтипес. h)
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 84817607092c179286f47eb35ef51f5e0f82d44211bcd2345ca3d27ee06b0e13
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118407367"
---
# <a name="audclnt_streamflags_xxx-constants"></a>\_ \_ Константы аудклнт стреамфлагс XXX

Задает характеристики, которые клиент может назначить звуковому потоку во время инициализации потока.



| Константа/значение                                                                                                                                                                                                                                                                                                                | Описание                                                                                                                                                                                                                                                                                                                                        |
|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="AUDCLNT_STREAMFLAGS_CROSSPROCESS"></span><span id="audclnt_streamflags_crossprocess"></span><dl> <dt>**Аудклнт \_ СТРЕАМФЛАГС \_ Кросспроцесс**</dt> <dt>0x00010000</dt> </dl>                                       | Аудиопоток будет членом многопроцессного звукового сеанса. Дополнительные сведения см. в подразделе "Примечания".<br/>                                                                                                                                                                                                                                  |
| <span id="AUDCLNT_STREAMFLAGS_LOOPBACK"></span><span id="audclnt_streamflags_loopback"></span><dl> <dt>**Аудклнт \_ 0x00020000 СТРЕАМФЛАГС \_ замыкания на себя**</dt> <dt></dt> </dl>                                                   | Аудиопоток будет действовать в режиме замыкания на себя. Дополнительные сведения см. в подразделе "Примечания".<br/>                                                                                                                                                                                                                                                      |
| <span id="AUDCLNT_STREAMFLAGS_EVENTCALLBACK"></span><span id="audclnt_streamflags_eventcallback"></span><dl> <dt>**Аудклнт \_ СТРЕАМФЛАГС \_ вложенный EventCallback**</dt> <dt>0x00040000</dt> </dl>                                    | Обработка аудио буфера клиентом будет осуществляться на основе событий. Дополнительные сведения см. в подразделе "Примечания". <br/>                                                                                                                                                                                                                                  |
| <span id="AUDCLNT_STREAMFLAGS_NOPERSIST"></span><span id="audclnt_streamflags_nopersist"></span><dl> <dt>**Аудклнт \_ СТРЕАМФЛАГС \_**</dt> <dt>0x00080000</dt> </dl>                                                | Этот том и звуковые параметры для сеанса аудио не сохраняются во время перезапуска приложения. Дополнительные сведения см. в подразделе "Примечания".<br/>                                                                                                                                                                                                           |
| <span id="AUDCLNT_STREAMFLAGS_RATEADJUST"></span><span id="audclnt_streamflags_rateadjust"></span><dl> <dt>**Аудклнт \_ СТРЕАМФЛАГС \_ ратеаджуст**</dt> <dt>0x00100000</dt> </dl>                                             | эта константа новая в Windows 7. Частота дискретизации потока корректируется на скорость, указанную приложением. Дополнительные сведения см. в подразделе "Примечания". <br/>                                                                                                                                                                                 |
| <span id="AUDCLNT_STREAMFLAGS_AUTOCONVERTPCM"></span><span id="audclnt_streamflags_autoconvertpcm"></span><dl> <dt>**Аудклнт \_ СТРЕАМФЛАГС \_ аутоконвертпкм**</dt> <dt>0x80000000</dt> </dl>                                 | Для преобразования между несжатым форматом, передаваемым в [**иаудиоклиент:: Initialize**](/windows/desktop/api/Audioclient/nf-audioclient-iaudioclient-initialize) , и форматом набора аудио-подсистемы вставляются матрица каналов и преобразователь частоты выборки.<br/>                                                                                                            |
| <span id="AUDCLNT_STREAMFLAGS_SRC_DEFAULT_QUALITY"></span><span id="audclnt_streamflags_src_default_quality"></span><dl> <dt>**Аудклнт \_ СТРЕАМФЛАГС \_ Исх \_ . \_ качество по умолчанию**</dt> <dt>0x08000000</dt> </dl>                | При использовании с **аудклнт \_ стреамфлагс \_ аутоконвертпкм** преобразователь частоты выборки с более высоким качеством, чем преобразование по умолчанию, но при этом используется более высокая стоимость производительности. Это следует использовать, если звук в конечном итоге должен быть слышен людьми, а не в других сценариях, например при отслеживании тишины или заполнении индикатора.<br/> |



## <a name="remarks"></a>Remarks

Метод [**иаудиоклиент:: Initialize**](/windows/desktop/api/Audioclient/nf-audioclient-iaudioclient-initialize) и структура [**\_ \_ \_ params активации DirectX Audio**](/windows/win32/api/mmdeviceapi/ns-mmdeviceapi-directx_audio_activation_params) используют \_ \_ константы аудклнт стреамфлагс XXX.

Флаг АУДКЛНТ \_ стреамфлагс \_ Кросспроцесс указывает, что сеанс звука потока является межпроцессным сеансом. Межпроцессный сеанс может принимать потоки из более чем одного процесса. Если два приложения в двух отдельных процессах вызывают **иаудиоклиент:: Initialize** с ИДЕНТИЧными идентификаторами GUID сеанса, и оба приложения устанавливают \_ флаг аудклнт шаремоде \_ Кросспроцесс, то обработчик звука назначает свои потоки одному сеансу между процессами. Этот флаг переопределяет поведение по умолчанию, которое позволяет назначить поток сеансу конкретного процесса, а не межпроцессному сеансу. \_ \_ Бит флага КРОССПРОЦЕСС стреамфлагс аудклнт несовместим с монопольным режимом. Дополнительные сведения о межпроцессных сеансах см. в статье о [звуковых сеансах](audio-sessions.md).

\_Флаг замыкания на себя аудклнт стреамфлагс \_ включает запись замыкания на себя. При записи замыкания на себя обработчик звука копирует аудиопоток, который воспроизводится устройством конечной точки, в буфер конечной точки аудио, чтобы клиент [васапи](wasapi.md) мог захватить поток. Если этот флаг установлен, метод **иаудиоклиент:: Initialize** пытается открыть буфер записи на устройстве отрисовки. Этот флаг допустим только для устройства отрисовки и только в том случае, если вызов **Initialize** устанавливает для параметра *шаремоде* значение аудклнт \_ шаремоде \_ Shared. В противном случае вызов **инициализации** завершится ошибкой. Если вызов будет выполнен, клиент может вызвать метод [**иаудиоклиент:: Unservice**](/windows/desktop/api/Audioclient/nf-audioclient-iaudioclient-getservice) , чтобы получить интерфейс [**иаудиокаптуреклиент**](/windows/desktop/api/Audioclient/nn-audioclient-iaudiocaptureclient) на устройстве отрисовки. Дополнительные сведения см. в разделе [запись замыкания на себя](loopback-recording.md).

Флаг АУДКЛНТ \_ стреамфлагс \_ вложенный EventCallback обеспечивает буферизацию, управляемую событиями. Если клиент устанавливает этот флаг в вызове **иаудиоклиент:: Initialize** , который инициализирует поток, клиент должен затем вызвать метод [**Иаудиоклиент:: сетевенсандле**](/windows/desktop/api/Audioclient/nf-audioclient-iaudioclient-seteventhandle) , чтобы предоставить обработчик событий для потока. После запуска потоковая подсистема сообщит дескриптор события, чтобы уведомить клиента каждый раз, когда буфер будет готов к обработке клиентом. ВАСАПИ поддерживает буферизацию, управляемую событиями, для буферов отрисовки и записи. Потоки в общем и монопольном режиме могут использовать буферизацию, управляемую событиями. пример кода, в котором используется флаг аудклнт \_ стреамфлагс \_ вложенный eventcallback, см. в разделе [Потоки с монопольным режимом](exclusive-mode-streams.md).

Флаг АУДКЛНТ \_ стреамфлагс- \_ Persist отключает сохранение тома и выключает параметры для сеанса, содержащего потоки отрисовки. По умолчанию уровень громкости и режим выключения звука для сеанса отрисовки сохраняются во время перезапуска приложения. Уровень громкости и состояние отключения звука для сеанса записи никогда не сохраняются. Дополнительные сведения о сохранении громкости сеанса и настройке звука см. в статье о [звуковых сеансах](audio-sessions.md).

Флаг АУДКЛНТ \_ стреамфлагс \_ ратеаджуст позволяет приложению получить ссылку на интерфейс [**иаудиоклоккаджустмент**](/windows/desktop/api/audioclient/nn-audioclient-iaudioclockadjustment) , который используется для задания частоты выборки для потока. Чтобы получить указатель на этот свойства интерфейса, приложение должно инициализировать звуковой клиент с помощью этого флага, а затем вызвать [**иаудиоклиент::-Service**](/windows/desktop/api/Audioclient/nf-audioclient-iaudioclient-getservice) , указав идентификатор **IID \_ иаудиоклоккаджустмент** . Чтобы задать новую частоту выборки, вызовите [**иаудиоклоккаджустмент:: сетсамплерате**](/windows/desktop/api/audioclient/nf-audioclient-iaudioclockadjustment-setsamplerate). Этот флаг допустим только для устройства отрисовки. В противном случае вызов метода **WebService** завершается ошибкой с кодом ошибки аудклнт \_ E \_ неправильный \_ тип конечной точки \_ . Приложение должно также задать для параметра *шаремоде* значение аудклнт \_ шаремоде \_ Shared во время вызова [**инициализации**](/windows/desktop/api/Audioclient/nf-audioclient-iaudioclient-initialize) . **Сетсамплерате** завершается ошибкой, если аудио клиент не находится в режиме общего доступа.

## <a name="requirements"></a>Требования



| Требование | Значение |
|-------------------------------------|------------------------------------------------------------------------------------------------|
| Минимальная версия клиента<br/> | Windows \[Приложения UWP для классических приложений Vista \|\]<br/>                                          |
| Минимальная версия сервера<br/> | Windows \[Приложения UWP для классических приложений сервера 2008 \|\]<br/>                                    |
| Header<br/>                   | <dl> <dt>Аудиосессионтипес. h</dt> </dl> |



## <a name="see-also"></a>См. также раздел

<dl> <dt>

[Константы аудиоподсистемы Core](core-audio-constants.md)
</dt> <dt>

[**Интерфейс Иаудиокаптуреклиент**](/windows/desktop/api/Audioclient/nn-audioclient-iaudiocaptureclient)
</dt> <dt>

[**Иаудиоклиент:: "Услуга"**](/windows/desktop/api/Audioclient/nf-audioclient-iaudioclient-getservice)
</dt> <dt>

[**Иаудиоклиент:: Initialize**](/windows/desktop/api/Audioclient/nf-audioclient-iaudioclient-initialize)
</dt> <dt>

[**Иаудиоклиент:: Сетевенсандле**](/windows/desktop/api/Audioclient/nf-audioclient-iaudioclient-seteventhandle)
</dt> </dl>

 

 




