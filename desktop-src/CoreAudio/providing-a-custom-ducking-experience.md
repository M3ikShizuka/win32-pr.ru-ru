---
description: Приложение может отказаться от интерфейса Дуккинг по умолчанию, обрабатываемого системой, и заменить его пользовательской реализацией.
ms.assetid: 18290d05-b114-476b-8365-6bbb5fe6cffc
title: Предоставление пользовательского поведения Дуккинг
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 72cf4bb254b97a6a9d6b5c9d415d48a2c95f528f20efbf2ffbe4782ae5980400
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2021
ms.locfileid: "118406372"
---
# <a name="providing-a-custom-ducking-behavior"></a>Предоставление пользовательского поведения Дуккинг

Приложение может отказаться от [интерфейса Дуккинг по умолчанию](stream-attenuation.md) , обрабатываемого системой, и заменить его пользовательской реализацией.

Приложение может предоставить пользовательский интерфейс дуккинг. например, проигрыватель Windows Media предоставляет собственный интерфейс дуккинг, приостанавливая текущий поток мультимедиа во время сеанса связи и возобновляя воспроизведение при закрытии сеанса. пример приложения мультимедиа, реализующего дуккинг, входит в состав примеров Windows SDK; Дополнительные сведения см. в разделе [дуккингмедиаплайер](duckingmediaplayer.md). чтобы имитировать взаимодействие между открытием и закрытием потоков связи и созданием событий дуккинг, см. раздел [дуккингкаптуресампле](duckingcapturesample.md), который также входит в состав примеров Windows SDK.

Приложение мультимедиа, которое воспроизводит звуки для ослабления, должно учитывать коммуникационные потоки, когда они открываются и закрываются в системе. пользовательскую реализацию можно предоставить с помощью медиафаундатион, DirectShow или DirectSound, которые используют основные api аудио. Прямой ВАСАПИ клиент может также переопределить обработку по умолчанию, если он знает, когда начинается и заканчивается сеанс связи.

**Чтобы обеспечить пользовательский интерфейс дуккинг, клиент ВАСАПИ должен выполнить следующие задачи:**

1.  Зарегистрируйтесь для получения событий дуккинг из *дуккинг Manager*— компонента звуковой системы, который обрабатывает уведомления, связанные с изменениями потока связи. Дополнительные сведения см. в [Поддуккинг событий](handling-audio-ducking-events-from-communication-devices.md).
    > [!Note]  
    > Если клиент зарегистрирован для получения уведомлений дуккинг, диспетчер дуккинг отключает поведение по умолчанию, предоставляемое системой. Если поведение по умолчанию отключено неявно (см. раздел [Отключение интерфейса Дуккинг по умолчанию](disabling-the-ducking-experience.md)), а клиент не обеспечивает никаких действий по замене, приложение не будет работать в дуккинг.

     

2.  Прослушивать уведомления о событиях утка, отправленные диспетчером дуккинг, и выполнять требуемое поведение дуккинг. Дополнительные сведения о реализации поведения дуккинг см. в статье [рекомендации по реализации для уведомлений дуккинг](handling-audio-ducking-events-from-communication-devices.md).

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Использование коммуникационного устройства](using-the-communication-device.md)
</dt> <dt>

[Интерфейс Дуккинг по умолчанию](stream-attenuation.md)
</dt> <dt>

[Отключение интерфейса Дуккинг по умолчанию](disabling-the-ducking-experience.md)
</dt> <dt>

[Рекомендации по реализации для уведомлений Дуккинг](handling-audio-ducking-events-from-communication-devices.md)
</dt> <dt>

[Получение событий Дуккинг](getting-ducking-events-from-a-communication-device.md)
</dt> </dl>

 

 



