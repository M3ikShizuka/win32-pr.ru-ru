---
description: В этом примере используются основные API аудио для записи высококачественного голосового потока. образец поддерживает отмену акустического эха (aec) и обработку массива микрофона с помощью контекста AEC DMO, также называемого DSP речи, предоставляемого корпорацией майкрософт.
ms.assetid: 932d3442-1beb-4938-9382-031c61cd9b05
title: аекмикаррай
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cfe72351b9f8f61d939a9f73eaf85022d7f487bf
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2021
ms.locfileid: "127165164"
---
# <a name="aecmicarray"></a>аекмикаррай

В этом примере используются основные API аудио для записи высококачественного голосового потока. образец поддерживает отмену акустического эха (aec) и обработку массива микрофона с помощью контекста AEC DMO, также называемого DSP речи, предоставляемого корпорацией майкрософт.

В этом разделе содержатся следующие подразделы.

-   [Описание](#description)
-   [Requirements](#requirements)
-   [Загрузка образца](#downloading-the-sample)
-   [Создание примера](#building-the-sample)
-   [Запуск примера](#running-the-sample)
-   [Связанные темы](#related-topics)

## <a name="description"></a>Описание

В этом образце демонстрируются следующие возможности.

-   [Ммдевице](mmdevice-api.md) для перечисления устройств мультимедиа и выбора.
-   [Васапи](wasapi.md) для операций управления потоком, таких как запуск и остановка потока, переключение потоков.
-   [Девицетопологи](devicetopology-api.md) для перечисления звуковых адаптеров.
-   [Ендпоинтволуме](endpointvolume-api.md) управляет уровнями громкости [звуковых сеансов](audio-sessions.md).

## <a name="requirements"></a>Требования



| Продукт                                                        | Version                     |
|----------------------------------------------------------------|-----------------------------|
| [Windows SDK](https://msdn.microsoft.com/windowsvista/bb980924.aspx) | Windows Vista или более поздней версии      |
| Visual Studio                                                  | 2005 (не выпуски Express) |



 

## <a name="downloading-the-sample"></a>Загрузка образца

Этот образец доступен в следующих расположениях.



| Расположение    | Путь или URL-адрес                                                                                     |
|-------------|----------------------------------------------------------------------------------------------|
| Пакет Windows SDK | \\Program files \\ Microsoft sdks \\ Windows \\ v 7.0 \\ samples \\ мультимедиа \\ Audio \\ аекмикаррай \\ ... |



 

## <a name="building-the-sample"></a>Построение образца

Чтобы создать пример Аексдкдемо, выполните следующие действия.

1.  Откройте окно командной строки пакета SDK.
2.  Введите **компакт-диск% мссдк% \\ Setup**.
3.  Запустите VCIntegrate.exe.

    С этого момента командные окна будут иметь правильные параметры среды для создания приложения, которое использует преимущества пакета SDK.

4.  Выполните сборку примера.

## <a name="running-the-sample"></a>Запуск примера

Если построение демонстрационного приложения выполнено успешно, создается исполняемый файл AecSDKDemo.exe. Чтобы запустить его, введите `AecSDKDemo` в командном окне, а затем обязательные или необязательные аргументы, как описано ниже.

`AecSDKDemo -out mic_out.pcm -mod system_mode [-option value] `

В следующей таблице показаны аргументы.

| Аргумент  | Описание                                                                                                                           |
|-----------|---------------------------------------------------------------------------------------------------------------------------------------|
| -out      | Обязательный элемент. Указывает имя выходного файла.                                                                                                 |
| -Mod      | Обязательный элемент. Указывает режим системы записи голоса. дополнительные сведения см. в подразделе "настройка записи голоса DMO" в образце файла readme. |
| -достижением     | Необязательный параметр. Включает режим компонента (1) или выключен (0).                                                                                       |
| — NS       | Необязательный параметр. Включение подавления шума в (1) или выключено (0). Для указания этого параметра должен быть включен режим компонента.                                     |
| -АГК      | Необязательный параметр. Включает цифровую АГК (1) или OFF (0). Для указания этого параметра должен быть включен режим компонента.                                           |
| -кнтрклип | Необязательный параметр. Выключает вырезание по центру (1) или выключено (0). Для указания этого параметра должен быть включен режим компонента.                                       |
| -спкдев   | Необязательный параметр. Указывает индекс устройства динамика. Если не указано, пользователю будет предложено выбрать.                                         |
| -микдев   | Необязательный параметр. Указывает индекс устройства для микрофона. Если не указано, пользователю будет предложено выбрать.                                      |
| — Длительность | Необязательный элемент. Указывает, как долго выполняется приложение.                                                                                    |



 

Этот пример приложения не воспроизводит сигналы. чтобы правильно запустить демонстрацию для режимов с поддержкой AEC (mode 0 и 4), пользователи должны воспроизводить некоторые звуковые сигналы через то же устройство динамика, которое указано для DMO (то есть устройства, заданные параметром «-спкдев»), которое имитирует работу дальнего голоса в двустороннем сценарии. Пользователи могут использовать любой игрок для воспроизведения звуковых сигналов. если на выбранном устройстве динамика нет активного потока отрисовки, DMO не будет обрабатываться.

## <a name="related-topics"></a>Связанные темы

<dl> <dt>

[Примеры пакетов SDK, использующих основные API аудио](sdk-samples-that-use-the-core-audio-apis.md)
</dt> </dl>

 

 



